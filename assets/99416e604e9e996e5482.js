/*! For license information please see 99416e604e9e996e5482.js.LICENSE.txt */
(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[59859,47428,49518,71575,47956,77357],{479049:(e,t)=>{var n,r;r=function(e){"use strict";e=e||{};var t,n,r,o,i,a,s,l,c,u,f,d,p,h,E,y,m={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};(p={}).ff="undefined"!=typeof InstallTrigger;p.chrome=!!window.chrome;p.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;p.ie=!1;p.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;p.supported=p.chrome||p.ff||p.opera;var _=[];f=function(){};l=d=!1;var g={ready:function(){l=!0;g.reset();f()},reset:function(){if(l){_=[];c=!1;u=!1;a.clearRect(0,0,o,r);a.drawImage(s,0,0,o,r);I.setIcon(i);window.clearTimeout(h);window.clearTimeout(E)}},start:function(){if(l&&!u&&_.length>0){u=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach((function(e){
e in _[0].options&&(t[e]=_[0].options[e])}));N.run(_[0].options,(function(){!function(){c=_[0];u=!1;if(_.length>0){_.shift();g.start()}}()}),!1)};c?N.run(c.options,(function(){e()}),!0):e()}}},b={},v=function(e){e.n="number"==typeof e.n?Math.abs(0|e.n):e.n;e.x=o*e.x;e.y=r*e.y;e.w=o*e.w;e.h=r*e.h;e.len=(""+e.n).length;return e};b.circle=function(e){var n=!1;if(2===(e=v(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w;n=!0}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w;n=!0}a.clearRect(0,0,o,r);a.drawImage(s,0,0,o,r);a.beginPath();a.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+t.fontFamily;a.textAlign="center";if(n){a.moveTo(e.x+e.w/2,e.y);a.lineTo(e.x+e.w-e.h/2,e.y);a.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2);a.lineTo(e.x+e.w,e.y+e.h-e.h/2);a.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);a.lineTo(e.x+e.h/2,e.y+e.h);a.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);a.lineTo(e.x,e.y+e.h/2);a.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)
}else a.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);a.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";a.fill();a.closePath();a.beginPath();a.stroke();a.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")";"number"==typeof e.n&&e.n>999?a.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):a.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));a.closePath()};b.rectangle=function(e){if(2===(e=v(e)).len){e.x=e.x-.4*e.w;e.w=1.4*e.w}else if(e.len>=3){e.x=e.x-.65*e.w;e.w=1.65*e.w}a.clearRect(0,0,o,r);a.drawImage(s,0,0,o,r);a.beginPath();a.font=t.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+t.fontFamily;a.textAlign="center";a.fillStyle="rgba("+t.bgColor.r+","+t.bgColor.g+","+t.bgColor.b+","+e.o+")";a.fillRect(e.x,e.y,e.w,e.h);a.fillStyle="rgba("+t.textColor.r+","+t.textColor.g+","+t.textColor.b+","+e.o+")"
;"number"==typeof e.n&&e.n>999?a.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):a.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h));a.closePath()};function O(e){if(e.paused||e.ended||d)return!1;try{a.clearRect(0,0,o,r);a.drawImage(e,0,0,o,r)}catch(e){}E=setTimeout((function(){O(e)}),N.duration);I.setIcon(i)}var I={getIcon:function(){var e=!1;if(t.element)e=t.element;else if(t.elementId)(e=y.getElementById(t.elementId)).setAttribute("href",e.getAttribute("src"));else{e=function(){for(var e=y.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length-1;t>=0;t--)if(/(^|\s)icon(\s|$)/i.test(e[t].getAttribute("rel")))return e[t];return!1}();if(!1===e){(e=y.createElement("link")).setAttribute("rel","icon");y.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e},setIcon:function(e){var r=e.toDataURL("image/png");t.dataUrl&&t.dataUrl(r);if(t.element){
t.element.setAttribute("href",r);t.element.setAttribute("src",r)}else if(t.elementId){var o=y.getElementById(t.elementId);o.setAttribute("href",r);o.setAttribute("src",r)}else if(p.ff||p.opera){var i=n;n=y.createElement("link");p.opera&&n.setAttribute("rel","icon");n.setAttribute("rel","icon");n.setAttribute("type","image/png");y.getElementsByTagName("head")[0].appendChild(n);n.setAttribute("href",r);i.parentNode&&i.parentNode.removeChild(i)}else n.setAttribute("href",r)}};function S(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return!!t&&{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}function T(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}var N={duration:40,types:{}};N.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,
y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];N.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];N.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];N.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];N.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];N.run=function(e,n,r,o){var a=N.types[y.hidden||y.msHidden||y.webkitHidden||y.mozHidden?"none":t.animation];o=!0===r?void 0!==o?o:a.length-1:void 0!==o?o:0;n=n||function(){};if(o<a.length&&o>=0){
b[t.type](T(e,a[o]));h=setTimeout((function(){r?o-=1:o+=1;N.run(e,n,r,o)}),N.duration);I.setIcon(i)}else n()};!function(){(t=T(m,e)).bgColor=S(t.bgColor);t.textColor=S(t.textColor);t.position=t.position.toLowerCase();t.animation=N.types[""+t.animation]?t.animation:m.animation;y=t.win.document;var l=t.position.indexOf("up")>-1,c=t.position.indexOf("left")>-1;if(l||c)for(var u=0;u<N.types[""+t.animation].length;u++){var f=N.types[""+t.animation][u];l&&(f.y<.6?f.y=f.y-.4:f.y=f.y-2*f.y+(1-f.w));c&&(f.x<.6?f.x=f.x-.4:f.x=f.x-2*f.x+(1-f.h));N.types[""+t.animation][u]=f}t.type=b[""+t.type]?t.type:m.type;n=I.getIcon();i=document.createElement("canvas");s=document.createElement("img");if(n.hasAttribute("href")){s.setAttribute("crossOrigin","anonymous");s.onload=function(){r=s.height>0?s.height:32;o=s.width>0?s.width:32;i.height=r;i.width=o;a=i.getContext("2d");g.ready()};s.setAttribute("src",n.getAttribute("href"))}else{s.onload=function(){r=32;o=32;s.height=r;s.width=o;i.height=r;i.width=o
;a=i.getContext("2d");g.ready()};s.setAttribute("src","")}}();return{badge:function(e,t){t=("string"==typeof t?{animation:t}:t)||{};f=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};"animation"in t&&N.types[""+t.animation]&&(n.options.animation=""+t.animation);"type"in t&&b[""+t.type]&&(n.options.type=""+t.type);["bgColor","textColor"].forEach((function(e){e in t&&(n.options[e]=S(t[e]))}));["fontStyle","fontFamily"].forEach((function(e){e in t&&(n.options[e]=t[e])}));_.push(n);if(_.length>100)throw new Error("Too many badges requests in queue.");g.start()}else g.reset()}catch(e){throw new Error("Error setting badge. Message: "+e.message)}};l&&f()},video:function(e){f=function(){try{if("stop"===e){d=!0;g.reset();d=!1;return}e.addEventListener("play",(function(){O(this)}),!1)}catch(e){throw new Error("Error setting video. Message: "+e.message)}};l&&f()},image:function(e){f=function(){try{
var t=e.width,n=e.height,s=document.createElement("img"),l=t/o<n/r?t/o:n/r;s.setAttribute("crossOrigin","anonymous");s.onload=function(){a.clearRect(0,0,o,r);a.drawImage(s,0,0,o,r);I.setIcon(i)};s.setAttribute("src",e.getAttribute("src"));s.height=n/l;s.width=t/l}catch(e){throw new Error("Error setting image. Message: "+e.message)}};l&&f()},webcam:function(e){if(!window.URL||!window.URL.createObjectURL){window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(p.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;f=function(){try{if("stop"===e){d=!0;g.reset();d=!1;return}(t=document.createElement("video")).width=o;t.height=r;navigator.getUserMedia({video:!0,audio:!1},(function(e){t.src=URL.createObjectURL(e);t.play();O(t)}),(function(){}))}catch(e){throw new Error("Error setting webcam. Message: "+e.message)}};l&&f()}},reset:g.reset,browser:{
supported:p.supported}}},void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n)},145911:(e,t,n)=>{e.exports=n.p+"e92599c3548209f77ec833c649f8939a.svg"},697694:(e,t,n)=>{e.exports=n.p+"87f8416faec0691b96525d0bb3027809.svg"},823660:(e,t,n)=>{e.exports=n.p+"61550500acf9704ea60d48d688f07f08.svg"},460811:(e,t,n)=>{e.exports=n.p+"5834fe67a6afacfb3c63c21fc8eeca6b.png"},108881:(e,t,n)=>{e.exports=n.p+"750fe6bb60bf9451ab9ad9a0b6eabbbc.svg"},323236:(e,t,n)=>{e.exports=n.p+"d11edc65a78063b7cb45bed37baedc9b.svg"},492623:(e,t,n)=>{e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},399898:(e,t,n)=>{e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},74700:(e,t,n)=>{e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},607603:(e,t,n)=>{e.exports=n.p+"02625ee29f851ec588c2020a88d82665.svg"},376354:(e,t,n)=>{e.exports=n.p+"b36de980b174d7b798c89f35c116e5c6.svg"},688224:(e,t,n)=>{e.exports=n.p+"fd879a28807b66b38d54e7db6ea18a69.svg"},96972:(e,t,n)=>{
e.exports=n.p+"b36c705f790dad253981f1893085015a.svg"},540579:(e,t,n)=>{e.exports=n.p+"36c9a2fb7d0593a581a92373121c2848.svg"},572274:(e,t,n)=>{e.exports=n.p+"c8aeec4a5ee16aa9214b994f7355fea0.svg"},348833:(e,t,n)=>{e.exports=n.p+"23f41c9a000ffa229ef0b60ef127ccba.svg"},947079:(e,t,n)=>{e.exports=n.p+"3fba9b3d08682f3ce0344e289fe668cb.svg"},389515:(e,t,n)=>{e.exports=n.p+"816e71b3225c71bc105db7209fb4b796.svg"},785538:(e,t,n)=>{e.exports=n.p+"7866fb01d8b75b6fe9e6591373a0ddf2.svg"},534413:(e,t,n)=>{e.exports=n.p+"e73889dfe6cc46c9161dd9c1d19cc5ca.svg"},182105:(e,t,n)=>{e.exports=n.p+"109dff8689b0dcedc5485a0b26c647f2.svg"},23943:(e,t,n)=>{e.exports=n.p+"0a14344c0e0bfe3a52aa245ecaaebca7.svg"},163471:(e,t,n)=>{e.exports=n.p+"f214135302d61205531f7b699beda3ae.svg"},770631:(e,t,n)=>{e.exports=n.p+"2af0d312aff32c40bf90e37cd91d2a52.svg"},961088:(e,t,n)=>{e.exports=n.p+"af1ba3a7e6cc150d54fe3f36ca83e5af.svg"},630234:(e,t,n)=>{e.exports=n.p+"1fd45d0febcfaabc6b535f3329b3b834.svg"},456202:(e,t,n)=>{
e.exports=n.p+"5ec8d5e37b8734c04bde29eb7e2af36f.svg"},791643:(e,t,n)=>{e.exports=n.p+"ada35c4cc5073d182d563e6f39d6a7cf.svg"},565411:(e,t,n)=>{e.exports=n.p+"76f387b22097af941856a30be1aafa3f.svg"},727869:(e,t,n)=>{e.exports=n.p+"5e690f4c63a19a36bff7f6364eaa6ea2.svg"},10439:(e,t,n)=>{e.exports=n.p+"fda43f574092d89177a4412046f51c44.svg"},832834:(e,t,n)=>{e.exports=n.p+"2d04bd07a768396c5570cb883f542130.svg"},852617:(e,t,n)=>{e.exports=n.p+"8b3efa4cbe0bd215b4902188010632d5.svg"},67976:(e,t,n)=>{e.exports=n.p+"63f7edfcf31598ede046d1c9dab98351.svg"},967305:(e,t,n)=>{e.exports=n.p+"2f621771fd7297d9176d37c455e703db.png"},412384:(e,t,n)=>{e.exports=n.p+"9edb8746150af4d84c0c7677b9c1b7b9.png"},881874:(e,t,n)=>{e.exports=n.p+"6c31bc0514ccb0fa49302f76340350bd.png"},442907:(e,t,n)=>{e.exports=n.p+"ab68afa775860024063291a2a56eaa09.svg"},509142:(e,t,n)=>{e.exports=n.p+"9c804cfda21f296f522fbadfb818c76f.svg"},226867:(e,t,n)=>{e.exports=n.p+"84b8a1a47627caf0b6d6dae9fc28f1c5.png"},794649:(e,t,n)=>{
e.exports=n.p+"d759f3acc6286c964cc8118d7f68b374.svg"},80210:(e,t,n)=>{e.exports=n.p+"3ed9c7cdbea131bc485afa998a5ec93e.svg"},236481:(e,t,n)=>{e.exports=n.p+"1a23068e966efce6fb32ca9fecc65eed.svg"},694111:(e,t,n)=>{e.exports=n.p+"4aebeb85413bf3414671b2c138463909.svg"},484771:(e,t,n)=>{e.exports=n.p+"7de1e682a4fbf1483ad81f3872e5a9b2.png"},635232:(e,t,n)=>{e.exports=n.p+"34d96b0900c3f9fc0e57f7eeddf1e161.svg"},312154:(e,t,n)=>{e.exports=n.p+"7ee0d57b993e25a61a9f42a0808e721f.svg"},22513:(e,t,n)=>{e.exports=n.p+"95f1d07727cd8303bb200217b50f98fa.svg"},515861:(e,t,n)=>{e.exports=n.p+"c0a2b25d7b3e46c1c969c809ee173e3a.svg"},568909:(e,t,n)=>{e.exports=n.p+"e50463c92d8fb550ee4a6018361098bb.svg"},531239:(e,t,n)=>{e.exports=n.p+"26f653c4a0bd723faa41d92b4f957cb9.svg"},302048:(e,t,n)=>{e.exports=n.p+"045d1e57ef93a0f9b55e9fa593116c96.svg"},180263:(e,t,n)=>{e.exports=n.p+"6a04c917a9b9b2706058f8f48bf83981.svg"},677291:(e,t,n)=>{e.exports=n.p+"2487bb81772c6dab62684cd570ac8dd4.svg"},864678:(e,t,n)=>{
e.exports=n.p+"8895917b1fd65584171fb5794e5411be.svg"},367627:(e,t,n)=>{e.exports=n.p+"35c4885828d7808a119efea349c638a0.svg"},874744:(e,t,n)=>{e.exports=n.p+"4766a4c81adfcca7ce1c53c6a7590c23.svg"},101872:(e,t,n)=>{e.exports=n.p+"449b5e5b0765b27c68ef2bf735af539d.svg"},46802:(e,t,n)=>{e.exports=n.p+"5b6f3fce0c8b9fa0bcad7bbb51e13848.svg"},726954:(e,t,n)=>{e.exports=n.p+"2da390aaddef4384aa0520dd8a6fc156.svg"},897295:(e,t,n)=>{e.exports=n.p+"94ea936b0074481a45e1a0c50aed7e48.svg"},435696:(e,t,n)=>{e.exports=n.p+"a6cde8ee51f202f776ef71ee9cf280d1.svg"},454675:(e,t,n)=>{e.exports=n.p+"e844e2dcc722ad0666556ca41351610f.svg"},404024:(e,t,n)=>{e.exports=n.p+"ed28635ce7d107f1a8b04379d009dd41.svg"},764728:(e,t,n)=>{e.exports=n.p+"cc6c3c95c28acf328b6173383ddb3b61.svg"},404940:(e,t,n)=>{e.exports=n.p+"c8234fe5675a618e7891b634d32d1c0f.svg"},185802:(e,t,n)=>{e.exports=n.p+"9b8d70b5b62f4983a80b2b136259b763.svg"},934104:(e,t,n)=>{e.exports=n.p+"5113924998ee17c4f43a65b8cf2d0153.svg"},946137:(e,t,n)=>{
e.exports=n.p+"a8007d2ecb3aec65119698bff7052451.svg"},692760:(e,t,n)=>{e.exports=n.p+"a50c50c963aab21b5c3d58e7fd06664e.svg"},597055:(e,t,n)=>{e.exports=n.p+"ece95f914bae5931e7a48fadca4a146c.svg"},302147:(e,t,n)=>{e.exports=n.p+"da49b3a1b7e3f163d69aff38bf33609d.svg"},204186:(e,t,n)=>{e.exports=n.p+"f18a19cd9fbf76b15b4d968274b0635a.svg"},337285:(e,t,n)=>{e.exports=n.p+"5e38a1b0dc183dd320c517e58ccfb074.svg"},691634:(e,t,n)=>{e.exports=n.p+"2ebbb7dbd17b154a625b58b33738fc85.svg"},810540:(e,t,n)=>{e.exports=n.p+"93e31ba1ad50859a7cbcd6b1f0035d6c.svg"},705206:(e,t,n)=>{e.exports=n.p+"984b386302bacf7fb81985ab31c5beec.png"},567012:(e,t,n)=>{e.exports=n.p+"a9efd5e06b5616d39a6ee4232211f9b0.svg"},862470:(e,t,n)=>{e.exports=n.p+"dd1ac77c281d77cfa4061925981469e2.svg"},148167:(e,t,n)=>{e.exports=n.p+"4d8c26b9b004da398fb8940d194e3aaa.svg"},237018:(e,t,n)=>{e.exports=n.p+"c173765c2ab447a8ec7ba0e3e8aa3c09.svg"},976518:(e,t,n)=>{e.exports=n.p+"48c9711c9fabbd43182bcaf602201b48.svg"},962502:(e,t,n)=>{
e.exports=n.p+"9a9531eb0fd553e800a815b4142cd2e7.mp4"},522627:(e,t,n)=>{e.exports=n.p+"6e0a487645bb93dc13fdb0b499352b46.svg"},294169:(e,t,n)=>{e.exports=n.p+"dc57806ef26ae3c7d8b7dfcde20e9c1e.svg"},900571:(e,t,n)=>{e.exports=n.p+"e67cf3162755ec353decd269388820cc.svg"},630228:(e,t,n)=>{e.exports=n.p+"a8cc3f5d6172ddaf4eefabf674d879ae.svg"},305272:(e,t,n)=>{e.exports=n.p+"62d0b1051142046c29c0d64aaab0cacd.svg"},834029:(e,t,n)=>{e.exports=n.p+"3fbca6d962b001dcf4ccc72199f8dbb0.svg"},955426:(e,t,n)=>{e.exports=n.p+"d63afdc8dee0d21c3c25f78f4f81a8a9.mov"},861197:(e,t,n)=>{e.exports=n.p+"686449dfc2b401327999d72f79b7c037.webm"},621491:(e,t,n)=>{e.exports=n.p+"2d197cc648cea186073da09b5d7639d1.mov"},109177:(e,t,n)=>{e.exports=n.p+"1442d764c3d6ee37ad6ba74a470bca14.webm"},470752:(e,t,n)=>{e.exports=n.p+"d8b61fb29328e17e879a14a5cc765e06.mov"},919098:(e,t,n)=>{e.exports=n.p+"6db35a89f93f27cec438f980be59635f.webm"},734207:(e,t,n)=>{e.exports=n.p+"9e8f64d43e65d86219eefaa871f25d0a.mov"},900615:(e,t,n)=>{
e.exports=n.p+"c66604b9276c4dd8865a519b90394e9d.webm"},336415:(e,t,n)=>{e.exports=n.p+"7cb25b8ad51d09af28fa31124e067f9b.png"},31890:(e,t,n)=>{e.exports=n.p+"c23a59030cd2583c8b8ae0e85bc99737.svg"},56148:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(744564);function o(e){r.Z.dispatch({type:"APP_VIEW_SET_HOME_LINK",link:e})}},61541:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var r=n(945460),o=n(296602),i=n(959207),a=n(951442);function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),
return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(e,t){var a=i.Z.getGame(e);null!=a?(0,
r.openModalLazy)(l((function(){var e,r;return u(this,(function(o){switch(o.label){case 0:return[4,n.e(74067).then(n.bind(n,874067))];case 1:e=o.sent(),r=e.default;return[2,function(e){return r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({game:a,onConfirmUninstall:t},e))}]}}))}))):new o.Z("DispatchUninstallActionCreators").log("Application not found for game ".concat(e))}function d(e,t,n){f(e,(function(){return(0,a.pC)(e,t,n)}))}},980151:(e,t,n)=>{"use strict";n.d(t,{RY:()=>i,iD:()=>a,Tb:()=>s,ec:()=>l});var r=n(744564),o=n(457493);function i(e){o.Z.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})}))}function a(e){r.Z.dispatch({
type:"INSTALLATION_LOCATION_REMOVE",path:e})}function s(e,t){var n=t.label,o=t.isDefault;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:o})}function l(e){var t={},n=0,i=!0,a=!1,s=void 0;try{for(var l,c=function(){var i=l.value;if(null==i||"string"!=typeof i)return"continue";o.Z.queryDirectory(i,(function(o,a){++n;null==o&&null!=a&&(t[i]=a);n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})}))},u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0)c()}catch(e){a=!0;s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}},577357:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(744564),o=n(703790),i=n(945514),a=n(823530);function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){
s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)
}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const u={init:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_INIT"})},setSection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.Z.dispatch({type:"INTEGRATION_SETTINGS_SET_SECTION",section:e,sectionId:t})},startEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_COMMAND",commandId:e})},stopEditingCommandPermissions:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_COMMAND",commandId:e})},startEditingIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_START_EDITING_INTEGRATION",integrationId:e})},stopEditingIntegration:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_INTEGRATION"})},updateIntegration:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_INTEGRATION",settings:e})},startEditingWebhook:function(e){r.Z.dispatch({
type:"INTEGRATION_SETTINGS_START_EDITING_WEBHOOK",webhookId:e})},stopEditingWebhook:function(){r.Z.dispatch({type:"INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK"})},updateWebhook:function(e){r.Z.dispatch({type:"INTEGRATION_SETTINGS_UPDATE_WEBHOOK",settings:e})},saveApplicationPermissions:function(e,t,n){return l((function(){var o;return c(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,i.U3({applicationId:e,commandId:e,defaultEveryoneValue:!0,defaultEverywhereValue:!0,guildId:t,permissions:n})];case 1:a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:o=a.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:o.body});return[3,3];case 3:return[2]}}))}))()},saveIntegration:function(e,t){return l((function(){var n;return c(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"})
;return[4,o.Z.updateIntegration(e,t.id,t.expire_behavior,t.expire_grace_period,t.enable_emoticons)];case 1:i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=i.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()},saveWebhook:function(e,t){return l((function(){var n;return c(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);r.Z.dispatch({type:"INTEGRATION_SETTINGS_SUBMITTING"});return[4,a.Z.update(e,t.id,t)];case 1:o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_SUCCESS"});return[3,3];case 2:n=o.sent();r.Z.dispatch({type:"INTEGRATION_SETTINGS_SAVE_FAILURE",errors:n.body});return[3,3];case 3:return[2]}}))}))()}}},314620:(e,t,n)=>{"use strict";n.d(t,{b8:()=>f,GR:()=>p,ul:()=>E});var r=n(281110),o=n(744564),i=n(200892),a=n(534681),s=n(2590);function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function f(){return d.apply(this,arguments)}function d(){return(d=c((function(){var e,t;return u(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,a.Kb)({url:s.ANM.LIBRARY,oldFormErrors:!0},!1)];case 1:e=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_SUCCESS",libraryApplications:e.body});return[3,3];case 2:t=n.sent();o.Z.dispatch({type:"LIBRARY_FETCH_FAIL",error:t});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c((function(e){var t,n,a;return u(this,(function(l){switch(l.label){case 0:return null==(t=e.primarySkuId)?[2]:[4,r.Z.get({url:s.ANM.APPLICATION_BRANCH_LIST(e.id),oldFormErrors:!0}).then((function(e){return e.body}))]
;case 1:n=l.sent();a=n.map((function(n){return i.Z.createForTestMode({id:e.id,skuId:t,branch:n})}));o.Z.dispatch({type:"LIBRARY_APPLICATIONS_TEST_MODE_ENABLED",libraryApplications:a});return[2]}}))}))).apply(this,arguments)}function E(e,t,n){o.Z.dispatch({type:"LIBRARY_APPLICATION_ACTIVE_LAUNCH_OPTION_UPDATE",applicationId:e,branchId:t,launchOptionId:n})}},458922:(e,t,n)=>{"use strict";n.d(t,{N:()=>f});var r=n(281110),o=n(744564),i=n(575136),a=n(2590);function s(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)}))}}var c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=216e5;function f(){return d.apply(this,arguments)}function d(){return(d=l((function(){var e,t;return c(this,(function(n){switch(n.label){case 0:
if(null!=(e=i.Z.lastFetched)&&Date.now()-e<u)return[2];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get({url:a.ANM.USER_ACTIVITY_STATISTICS,oldFormErrors:!0})];case 2:t=n.sent();o.Z.dispatch({type:"USER_ACTIVITY_STATISTICS_FETCH_SUCCESS",statistics:t.body});return[3,4];case 3:return[2,n.sent()];case 4:return[2]}}))}))).apply(this,arguments)}},929370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(744564);const o={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r.Z.dispatch({type:"STREAMER_MODE_UPDATE",key:s,value:e[s]})}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}}},517716:(e,t,n)=>{"use strict";n.d(t,{Wt:()=>E,mc:()=>m,q$:()=>_});var r=n(744564),o=n(582762),i=n(451936),a=n(959207),s=n(661123),l=n(585622),c=n(875700),u=n(314620),f=n(2590);function d(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e)
;return}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function E(e,t){return y.apply(this,arguments)}function y(){return(y=p((function(e,t){var n,d,p,E;return h(this,(function(h){switch(h.label){case 0:r.Z.dispatch({applicationId:e,type:"DEVELOPER_TEST_MODE_AUTHORIZATION_START"});h.label=1;case 1:h.trys.push([1,5,,6]);return[4,(0,o.W5)(e)];case 2:if(!h.sent())throw new Error("Do not have access!");if(null!=(n=a.Z.getGame(e)))return[3,4];d=i.Z.createFromServer;return[4,c.Z.fetchApplication(e)];case 3:n=d.apply(i.Z,[h.sent()]);h.label=4;case 4:if((p=(0,s.yE)(n.flags,f.udG.EMBEDDED))&&(null==t||!l.Z.URL_REGEX.test(t)))throw new Error("Invalid Origin URL for embedded application");p||u.GR(n);r.Z.dispatch({
type:"DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS",applicationId:e,originURL:p?t:null});return[2,n];case 5:E=h.sent();r.Z.dispatch({type:"DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL",applicationId:e,error:E.message});return[2,null];case 6:return[2]}}))}))).apply(this,arguments)}function m(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET"})}function _(){r.Z.dispatch({type:"DEVELOPER_TEST_MODE_RESET_ERROR"})}},758635:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(281110),o=n(744564),i=n(239734),a=n(2590);function s(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(i.Z.needsRefresh()){o.Z.dispatch({type:"LOAD_USER_AFFINITIES"});return r.Z.get({url:a.ANM.USER_AFFINITIES,retries:e?3:0,oldFormErrors:!0}).then((function(e){var t=e.body;o.Z.dispatch({type:"LOAD_USER_AFFINITIES_SUCCESS",affinities:t})}),(function(){o.Z.dispatch({type:"LOAD_USER_AFFINITIES_FAILURE"})}))}return Promise.resolve()}},823530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c})
;var r=n(496486),o=n.n(r),i=n(281110),a=n(744564),s=n(2590),l=["Spidey Bot","Captain Hook"];const c={fetchForGuild:function(e){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e});i.Z.get({url:s.ANM.GUILD_WEBHOOKS(e),oldFormErrors:!0}).then((function(t){var n=t.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,webhooks:n})})).catch((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,error:n.message})}))},fetchForChannel:function(e,t){a.Z.dispatch({type:"WEBHOOKS_FETCHING",guildId:e,channelId:t});i.Z.get({url:s.ANM.CHANNEL_WEBHOOKS(t),oldFormErrors:!0}).then((function(n){var r=n.body;return a.Z.dispatch({type:"WEBHOOKS_UPDATE",guildId:e,channelId:t,webhooks:r})}))},create:function(e,t,n){null==n&&(n=l[o().random(0,l.length-1)]);return i.Z.post({url:s.ANM.CHANNEL_WEBHOOKS(t),body:{name:n},oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_CREATE",guildId:e,webhook:n});return n}))},delete:function(e,t){return i.Z.delete({
url:s.ANM.WEBHOOK(t),oldFormErrors:!0}).then((function(){a.Z.dispatch({type:"WEBHOOK_DELETE",guildId:e,webhookId:t})}))},update:function(e,t,n){return i.Z.patch({url:s.ANM.WEBHOOK(t),body:n,oldFormErrors:!0}).then((function(t){var n=t.body;a.Z.dispatch({type:"WEBHOOK_UPDATE",guildId:e,webhook:n});return n}))}}},946767:(e,t,n)=>{"use strict";n.d(t,{_:()=>M,Z:()=>K});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),s=n(202351),l=n(539519),c=n(513328),u=n(945460),f=n(656645),d=n(604945),p=n(69085),h=n(294184),E=n.n(h),y=n(336194),m=n(421281),_=n(633878);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function O(e){var t=e.width,n=void 0===t?80:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=v(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){g(e,t,n[t])}))}return e}({},(0,_.Z)(c)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),children:[(0,r.jsx)("pattern",{id:"pill-frame-pattern",width:8/n,height:"1",children:(0,r.jsx)("path",{d:"m0 0h8v20h-8zm4 2c-1.1045695 0-2 .8954305-2 2v12c0 1.1045695.8954305 2 2 2s2-.8954305 2-2v-12c0-1.1045695-.8954305-2-2-2z",fillRule:"evenodd",fill:s,className:l})}),(0,r.jsx)("rect",{fill:"url(#pill-frame-pattern)",height:"100%",width:"100%"})]}))}var I=n(863611),S=n.n(I);function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e){N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return N(e)}function C(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e,t){A=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return A(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var j=(0,m.Mg)(S().notchWidth),M=Object.freeze({BLACK:S().black,GRAY:S().gray}),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&A(e,t)}(n,e);var t=R(n);function n(){T(this,n);var e;(e=t.apply(this,arguments)).state={barWidth:0};e.sizerRef=o.createRef();e.computeBars=function(){
var t=e.sizerRef.current;e.setState({barWidth:null!=t?e.roundToNearestStep(t.clientWidth):0})};return e}var i=n.prototype;i.componentDidMount=function(){this.computeBars();window.addEventListener("resize",this.computeBars)};i.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)};i.roundToNearestStep=function(e){return Math.round(e/j)*j};i.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,o=this.roundToNearestStep(r),i=Math.abs(o-n);return{transform:"translateX(".concat(i,"px)")}};i.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress,o=this.state.barWidth;return{width:"".concat(o,"px"),background:r<=0?"none":"linear-gradient(to right, ".concat(n,", ").concat(t,")")}};i.render=function(){var e=this.props,t=e.className,n=e.notchBackground,o=this.state.barWidth;return(0,r.jsx)("div",{className:S().wrapper,ref:this.sizerRef,children:(0,
r.jsxs)("div",{className:E()(S().container,t),style:this.getGradientStyles(),children:[(0,r.jsx)("div",{className:S().progress,style:this.getProgressStyles()}),0!==o&&(0,r.jsx)(O,{width:o,className:E()(S().notches,n)})]})})};return n}(o.Component);w.defaultProps={gradientStart:y.Z.unsafe_rawColors.YELLOW_260.css,gradientEnd:y.Z.unsafe_rawColors.GREEN_360.css};const x=w;var L=n(652591),D=n(2590),Z=n(473708),U=n(284150),G=n.n(U);function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e){B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return B(e)}function H(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}var F=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}var z=-100,W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&V(e,t)}(n,e);var t=Y(n);function n(){k(this,n);var e;(e=t.apply(this,arguments))._initTimeout=new c.V7;e._silenceTimeout=new c.V7;e._messageTimeout=new c.V7;e.state={volume:z,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1}
;e.setupVoiceActivity=function(){d.Z.getMediaEngine().on(l.aB.VoiceActivity,e.handleVoiceActivity)};e.handleVoiceActivity=function(t){if(e.state.isMicTesting&&t<=z){e._silenceTimeout.isStarted()||e._silenceTimeout.start(2e3,(function(){e.setState({isDetectingInput:!1})}));e.setState({volume:z})}else{e._silenceTimeout.stop();e.setState({volume:t,isDetectingInput:!0})}};e.handleToggleMicTest=function(){e.state.isMicTesting?e._micTestStop():e._micTestStart()};return e}var o=n.prototype;o.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)};o.componentWillUnmount=function(){this._initTimeout.stop();this._silenceTimeout.stop();this._micTestStop();d.Z.getMediaEngine().removeListener(l.aB.VoiceActivity,this.handleVoiceActivity)};o._micTestStart=function(){var e=this.props,t=e.isVoiceConnected,n=e.inputDeviceName,r=e.inputVolume,o=e.outputDeviceName,i=e.outputVolume,a=e.inputMode,s=e.vadAutoThreshold,l=e.vadThreshold,c=e.location,u=e.isDeafened,d=!1;if(t&&!u){
f.Z.toggleSelfDeaf();d=!0}f.Z.setLoopback(!0);this._micTestStartTime=Date.now();this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:d});L.default.track(D.rMx.MIC_TESTING_STARTED,{input_device_name:n,input_device_volume:r,output_device_name:o,output_device_volume:i,input_mode:a,input_sensitivity_is_automatic:s,input_sensitivity_threshold:Math.round(l),location:c})};o._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,o=r.isVoiceConnected,i=r.isDeafened;if(n){o&&i&&t&&f.Z.toggleSelfDeaf();f.Z.setLoopback(!1);this.setState({isMicTesting:!1,didDeafenUser:!1});null!=this._micTestStartTime&&L.default.track(D.rMx.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)})}};o.renderCaption=function(){var e=this.props,t=e.captionVoice,n=e.captionNoVoice,o=this.state,i=o.isMicTesting,a=o.isDetectingInput;return(0,r.jsx)(u.FormText,{className:G().micTestCaption,type:u.FormText.Types.DESCRIPTION,
children:i?a?t:n:null})};o.render=function(){var e=this,t=this.props,n=t.isVoiceConnected,o=t.title,i=t.description,a=t.notchBackground,s=t.buttonTest,l=t.buttonStop,c=t.buttonClassName,f=t.buttonColor,d=t.isDeafened,p=this.state,h=p.isMicTesting,E=p.volume,y=n&&!h?Z.Z.Messages.MIC_TEST_VOICE_CHANNEL_WARNING:null;h&&n&&!d&&this._micTestStop();return(0,r.jsxs)("div",{className:G().container,children:[(0,r.jsx)(u.FormTitle,{tag:u.FormTitleTags.H5,className:G().title,children:o}),null!=i&&(0,r.jsx)(u.FormText,{type:u.FormText.Types.DESCRIPTION,className:G().description,children:i}),(0,r.jsxs)("div",{className:G().micTest,children:[(0,r.jsx)(u.Tooltip,{text:y,children:function(t){var n=t.onMouseEnter,o=t.onMouseLeave;return(0,r.jsx)(u.Button,{grow:!1,onClick:e.handleToggleMicTest,onMouseEnter:n,onMouseLeave:o,size:u.Button.Sizes.SMALL,className:c,color:f,children:h?l:s})}}),(0,r.jsx)(x,{progress:h?E+100:0,notchBackground:a}),this.renderCaption()]})]})};return n}(o.PureComponent)
;const K=s.ZP.connectStores([p.Z,d.Z],(function(){var e=d.Z.getInputDeviceId(),t=d.Z.getInputDevices(),n=a().find(t,(function(t){return t.id===e})),r=d.Z.getOutputDeviceId(),o=d.Z.getOutputDevices(),i=a().find(o,(function(e){return e.id===r})),s=d.Z.getModeOptions();return{isVoiceConnected:p.Z.isConnected(),inputVolume:d.Z.getInputVolume(),outputVolume:d.Z.getOutputVolume(),inputMode:d.Z.getMode(),vadThreshold:s.threshold,isDeafened:d.Z.isSelfDeaf(),vadAutoThreshold:s.autoThreshold,inputDeviceName:null!=n?n.name:"",outputDeviceName:null!=i?i.name:""}}))(W)},700272:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>dme});var r=n(785893),o=n(667294),i=n(517563),a=n(751615),s=n(202351),l=n(945460),c=n(84441),u=n(61541),f=n(327499),d=n(116404),p=n(517716),h=n(734691),E=n(316878),y=n(618920),m=n(173242),_=n(93191),g=n(595258),b=n(744564),v=n(961337),O=n(301928),I=n(979197),S=n(61209),T=n(50433),N=n(992625),C=n(69085),A=n(715107),P=n(464187),R=n(407561),j=n(258104),M=n(283133),w=n(2590)
;function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return L(e)}function D(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var U,G=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return D(this,n)}}function B(){var e=C.Z.getChannelId(),t=j.ZP.getSelfEmbeddedActivityForChannel(null!=e?e:""),n=S.Z.getChannel(e);return null==e||null==n||null==t?function(){var e=U;if(null!=e&&N.Z.isOpen(e)){b.Z.wait((function(){return v.xv(e)}));U=null}}():function(e,t){if(N.Z.isOpen(t))return!1;b.Z.wait((function(){return v.bA(t,w.NYg.EMBED_IFRAME,{channel:e})}));U=t}(n,(0,M.Z)(n.id,t.application_id))}function H(){var e,t=T.Z.hasLayers(),n=I.Z.getWindowOpen(w.KJ3.CHANNEL_CALL_POPOUT);return t&&!n?void(null!=(e=U)&&N.Z.isOpen(e)&&b.Z.wait((function(){return v.Cp(e)}))):function(){var e=U;null!=e&&N.Z.isOpen(e)&&b.Z.wait((function(){return v.$Z(e)}))}()}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=k(n);function n(){x(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){A.Z.addChangeListener(B);P.Z.addChangeListener(B);C.Z.addChangeListener(B);R.Z.addChangeListener(B);I.Z.addChangeListener(B);j.ZP.addChangeListener(B);T.Z.addChangeListener(H)};r._terminate=function(){A.Z.removeChangeListener(B);P.Z.removeChangeListener(B);C.Z.removeChangeListener(B);R.Z.removeChangeListener(B);I.Z.removeChangeListener(B);j.ZP.removeChangeListener(B);T.Z.removeChangeListener(H)};r.__getLocalVars=function(){return{openEmbedId:U}};return n}(O.Z);const F=new V;var Y=n(473903),z=n(189041),W=n(999357),K=n(784426),q=n(443812),X=n(348592),Q=n(473708),$=n(982629),J=n.n($);function ee(){(0,z.qV)();(0,K.uL)(w.Z5c.LOGIN)}function te(e){var t=e.underageMessage,o=e.transitionState,i=(0,q.Dt)();return(0,r.jsxs)(l.ModalRoot,{transitionState:o,size:l.ModalSize.SMALL,"aria-labelledby":i,impressionName:W.zs.USER_AGE_GATE_UNDERAGE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(l.ModalContent,{
children:(0,r.jsxs)("div",{className:J().container,children:[(0,r.jsx)("img",{alt:"",src:n(697694),className:J().img}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:J().title,id:i,children:Q.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_HEADER}),(0,r.jsx)(l.Text,{color:"header-secondary",className:J().subtitle,variant:"text-sm/normal",children:Q.Z.Messages.AGE_GATE_UNDERAGE_BODY.format({underageMessage:null!=t?t:Q.Z.Messages.AGE_GATE_UNDERAGE_BODY_DEFAULT_REG_MESSAGE,helpURL:X.Z.getArticleURL(w.BhN.AGE_GATE)})}),(0,r.jsx)(l.Text,{color:"header-secondary",className:J().subtitle,variant:"text-sm/normal",children:Q.Z.Messages.AGE_GATE_UNDERAGE_EXISTING_BODY_DELETION_WITH_DAYS.format({days:30})})]})}),(0,r.jsx)(l.ModalFooter,{children:(0,r.jsx)(l.Button,{size:l.ButtonSizes.SMALL,fullWidth:!0,onClick:ee,children:Q.Z.Messages.AGE_GATE_UNDERAGE_BACK_TO_LOGIN})})]})}var ne=n(938385),re=n.n(ne);function oe(e){var t=e.transitionState,o=(0,q.Dt)();return(0,r.jsxs)(l.ModalRoot,{
transitionState:t,size:l.ModalSize.SMALL,"aria-labelledby":o,impressionName:W.zs.USER_AGE_GATE,impressionProperties:{existing_user:!0},children:[(0,r.jsx)(l.ModalContent,{children:(0,r.jsxs)("div",{className:re().container,children:[(0,r.jsx)("img",{alt:"",src:n(145911),className:re().img}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:re().title,id:o,children:Q.Z.Messages.AGE_GATE_AGE_VERIFIED}),(0,r.jsx)(l.Text,{color:"header-secondary",className:re().subtitle,variant:"text-sm/normal",children:Q.Z.Messages.AGE_GATE_AGE_VERIFIED_BODY})]})}),(0,r.jsx)(l.ModalFooter,{children:(0,r.jsx)(l.Button,{size:l.ButtonSizes.SMALL,fullWidth:!0,onClick:function(){(0,z.qV)()},autoFocus:!0,children:Q.Z.Messages.CLOSE})})]})}var ie=n(561210);function ae(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
ae(i,r,o,a,s,"next",e)}function s(e){ae(i,r,o,a,s,"throw",e)}a(void 0)}))}}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ue(e){ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ue(e)}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ce(e,t,n[t])}))}return e}function de(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e,t){
pe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pe(e,t)}var he=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}var ye=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function me(e,t){var n;if(null!=e){var r=Y.default.getCurrentUser();(null===(n=S.Z.getChannel(t))||void 0===n?void 0:n.isNSFW())&&null!=r&&null==r.nsfwAllowed&&(0,z.mN)(ie.L0.NSFW_CHANNEL)}}var _e=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&pe(e,t)}(o,e);var t=Ee(o);function o(){le(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){b.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);b.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect);b.Z.subscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);b.Z.subscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose);b.Z.subscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);b.Z.subscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i._terminate=function(){b.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);b.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect);b.Z.unsubscribe("AGE_GATE_MODAL_OPEN",this.handleAgeGateModalOpen);b.Z.unsubscribe("AGE_GATE_MODAL_CLOSE",this.handleAgeGateModalClose)
;b.Z.unsubscribe("AGE_GATE_SUCCESS_MODAL_OPEN",this.handleAgeGateSuccess);b.Z.unsubscribe("AGE_GATE_FAILURE_MODAL_OPEN",this.handleAgeGateFailure)};i.handleChannelSelect=function(e){me(e.guildId,e.channelId)};i.handleConnectionOpen=function(){me(P.Z.getGuildId(),A.Z.getChannelId())};i.handleAgeGateModalOpen=function(e){var t=e.source;(0,l.openModalLazy)(se((function(){var e,o;return ye(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(24209)]).then(n.bind(n,824209))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,fe({source:t},e))}]}}))})),{modalKey:ie.dG,onCloseRequest:w.dG4})};i.handleAgeGateSuccess=function(){(0,l.updateModal)(ie.dG,(function(e){return(0,r.jsx)(oe,fe({},e))}))};i.handleAgeGateFailure=function(e){var t=e.underageMessage;(0,l.updateModal)(ie.dG,(function(e){return(0,r.jsx)(te,fe({underageMessage:t},e))}))};i.handleAgeGateModalClose=function(){(0,l.closeModal)(ie.dG)};i.__getLocalVars=function(){return{}};return o}(O.Z)
;const ge=new _e;var be=n(458648),ve=n(630631),Oe=n(652591),Ie=n(22176);function Se(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Se(i,r,o,a,s,"next",e)}function s(e){Se(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ce="LATEST_HEARTBEAST_EVENT_TIMESTAMP",Ae=null,Pe=null,Re=null,je=!1;function Me(){return(Me=Te((function(){var e,t;return Ne(this,(function(n){switch(n.label){case 0:if(je)return[2];je=!0;(0,be.fr)(!0);Ie.Z.addBreadcrumb({message:"Start Analytics Heartbeat"});return[4,ve.Z.getAfterRefresh(Ce).then((function(e){return null!=e?e:0}))];case 1:e=n.sent();t=9e5+e-Date.now();Ie.Z.addBreadcrumb({message:"Received Last Heartbeat Event Timestamp. Time Until Next Heartbeat: ".concat(t/1e3," seconds. Scheduling Heartbeat")});we(!1)
;Pe=setTimeout((function(){xe();Ae=setInterval((function(){xe()}),9e5)}),Math.max(t,0));return[2]}}))}))).apply(this,arguments)}function we(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null!=Pe){clearTimeout(Pe);Pe=null}if(null!=Ae){clearInterval(Ae);Ae=null}if(null!=Re&&e){clearTimeout(Re);Re=null}}function xe(){return Le.apply(this,arguments)}function Le(){return(Le=Te((function(){var e;return Ne(this,(function(t){switch(t.label){case 0:return[4,(0,be.Gg)()];case 1:e=t.sent();Ie.Z.addBreadcrumb({message:"Tracking Heartbeat",data:{initialized:e.initialized}});Oe.default.track(w.rMx.CLIENT_HEARTBEAT,{client_heartbeat_initialization_timestamp:e.initialized,client_heartbeat_version:13});ve.Z.set(Ce,Date.now());return[2]}}))}))).apply(this,arguments)}var De=null,Ze=!0;function Ue(){if(Ze||null!=De&&De!==w.hes.DISCONNECTED&&De!==w.hes.RTC_DISCONNECTED)try{!function(){Me.apply(this,arguments)}()}catch(e){Ie.Z.captureException(e)}else!function(){if(je){je=!1
;Ie.Z.addBreadcrumb({message:"Stopping Analytics Heartbeat"});(0,be.fr)(!1);we()}}()}function Ge(){xe()}function ke(){var e=C.Z.getState();if(De!==e){De=e;Ue()}}function Be(e){var t=e.focused;Ze=t;Ue()}function He(e){var t=e.state;Ze=t===w.$7l.ACTIVE;Ue()}var Ve=n(318715),Fe=n(980356),Ye=n(294184),ze=n.n(Ye),We=n(496486),Ke=n.n(We),qe=n(468811),Xe=n.n(qe),Qe=n(289283),$e=n(72831),Je=n(344524),et=n(241166),tt=n(320142),nt=n(873308),rt=n(439283),ot=n(84410),it=n(260561),at=(0,it.B)({kind:"user",id:"2022-12_get_my_guilds_application_ids_endpoint",label:"Get My Guilds' Application IDs Endpoint Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]}),st=(0,it.B)({kind:"user",id:"2023-02_app_directory_for_all_modal",label:"App Directory Upsell For All Modal",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});var lt=n(300272),ct=n(177179),ut=n(736818);var ft=n(460429),dt=n.n(ft);function pt(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ht=X.Z.getArticleURL(w.BhN.APP_DIRECTORY_HEADER_LEARN_MORE);function Et(e){var t=e.onClose,n=o.useRef(null);return(0,r.jsx)("div",{ref:n,className:dt().closeWrapper,children:(0,r.jsx)(l.FocusRingScope,{containerRef:n,children:(0,r.jsx)("div",{className:ze()(dt().closeContent,Qe.tq?dt().closeContentMobile:dt().closeContentNotMobile),children:(0,r.jsx)($e.Z,{className:ze()(dt().closeIcon,Qe.tq?dt().closeIconMobile:dt().closeIconNotMobile),closeAction:t,keybind:""})})})})}function yt(e){var t=e.onTitleClick,n=e.showsLearnMoreCta,i=e.guildId,a=(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:dt().headerName,children:[(0,r.jsx)(rt.Z,{className:dt().logo}),(0,r.jsx)(l.HeadingLevel,{forceLevel:1,children:(0,r.jsx)(l.Heading,{className:dt().title,variant:"heading-md/semibold",color:"header-secondary",children:Q.Z.Messages.APP_DIRECTORY})})]}),n&&(0,r.jsx)(l.Anchor,{
onClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_CTA_CLICKED,{cta:"directory-help-center",current_page:lt.eN.HOME,guild_id:i});(0,tt.Z)(ht)},children:Q.Z.Messages.LEARN_MORE})]});return(0,r.jsx)("div",{className:dt().header,children:null!=t?(0,r.jsx)(l.Clickable,{onClick:t,className:ze()(dt().titleContainer,dt().clickable),children:a}):(0,r.jsx)("div",{className:dt().titleContainer,children:a})})}function mt(e){var t,n=e.view,o=e.onClick;if(null==n)return null;switch(n.type){case lt.eN.HOME:t=Q.Z.Messages.HOME;break;case lt.eN.SEARCH:t=Q.Z.Messages.SEARCH;break;case lt.eN.APPLICATION:var i;t=null!==(i=null==n?void 0:n.applicationName)&&void 0!==i?i:Q.Z.Messages.BACK;break;default:t=Q.Z.Messages.BACK}return(0,r.jsxs)(l.Clickable,{className:dt().back,onClick:o,children:[(0,r.jsx)(nt.Z,{direction:nt.Z.Directions.LEFT,className:dt().backIcon}),(0,r.jsx)(l.Heading,{className:dt().backHeader,variant:"heading-sm/semibold",children:t})]})}var _t=(0,We.debounce)((function(e){
var t=e.scrollTop,n=e.scrollOffset,r=e.scrollHeight,o=e.location,i=e.guildId,a=e.sessionId;t>0&&Oe.default.track(w.rMx.APP_DIRECTORY_PAGE_SCROLLED,{scroll_visible_percentile:(t+n)/r,guild_id:i,location:o,directory_session_id:a})}),200);function gt(e){var t=e.children,n=o.useRef(null),i=(0,Ve.ZP)([ut.default],(function(){return ut.default.isAuthenticated()})),a=(0,lt.g8)((function(e){return e.guildId})),s=(0,lt.g8)((function(e){return e.entrypointPathname})),c=(0,lt.Xh)(),u=(0,lt.Uc)(),f=o.useRef(),d=(null==c?void 0:c.type)!==lt.eN.HOME,p=(null==c?void 0:c.type)===lt.eN.APPLICATION?null==c?void 0:c.applicationId:void 0,h=(null==c?void 0:c.type)!==lt.eN.HOME&&null!=u;o.useEffect((function(){et.Z.setLayout(Je.ZP);et.Z.enable();return function(){return et.Z.disable()}}),[]);o.useEffect((function(){ot.CP()}),[]);o.useEffect((function(){at.getCurrentConfig({},{autoTrackExposure:!0}).enabled&&ot.g5()}),[]);o.useEffect((function(){f.current=Xe().v4()}),[null==c?void 0:c.type,p]);return(0,
r.jsxs)(r.Fragment,{children:[i?(0,r.jsx)(Et,{onClose:function(){(0,K.uL)(s)}}):null,(0,r.jsx)(l.AdvancedScroller,{className:ze()(dt().directoryContainer,pt({},dt().directoryContainerMobile,Qe.tq)),ref:n,onScroll:function(){var e,t,r;return _t({scrollTop:null===(e=n.current)||void 0===e?void 0:e.getScrollerState().scrollTop,offsetHeight:null===(t=n.current)||void 0===t?void 0:t.getScrollerState().offsetHeight,scrollHeight:null===(r=n.current)||void 0===r?void 0:r.getScrollerState().scrollHeight,location:null==c?void 0:c.type,guildId:a,sessionId:f.current})},children:(0,r.jsxs)("div",{className:dt().content,children:[(0,r.jsx)(yt,{onTitleClick:d?ct.goHome:void 0,showsLearnMoreCta:(null==c?void 0:c.type)===lt.eN.HOME,guildId:a}),h&&(0,r.jsx)(mt,{view:u,onClick:function(){(0,K.op)()}}),t]})})]})}var bt,vt=n(605961),Ot=n(166166),It=n.n(Ot);function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e){return function(e){
if(Array.isArray(e))return St(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e){var t=e.className,n=(0,lt.g8)((function(e){return e.guildId})),i=(0,Ve.ZP)([Fe.Z],(function(){return Fe.Z.getCategories()})),a=o.useMemo((function(){return[(0,vt.KQ)()].concat(Tt(i))}),[i]),s=(0,lt.Xh)();return(0,r.jsx)("nav",{className:ze()(It().container,t),children:a.map((function(e){var t=e.id,o=e.name,i=(0,vt.tu)(e);return(0,r.jsxs)(l.Clickable,{
className:It().category,"aria-label":Q.Z.Messages.APP_DIRECTORY_CATEGORY_BUTTON_A11Y_LABEL.format({categoryName:o}),onClick:function(){return function(e){var t=a.find((function(t){return t.id===e}));Oe.default.track(w.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{category:t.name,category_id:t.id,current_page:null==s?void 0:s.type,guild_id:n});(0,ct.goToCategory)({categoryId:t.id})}(t)},children:[(0,r.jsx)(i,{className:It().icon,width:"24",height:"24"}),(0,r.jsx)(l.Text,{variant:"text-md/normal",children:o})]},t)}))})}!function(e){e[e.LIST=1]="LIST";e[e.LIST_WITH_IMAGE=2]="LIST_WITH_IMAGE";e[e.GALLERY=3]="GALLERY"}(bt||(bt={}));new Set([1,2,3]);var Ct=n(118044),At=n(675556),Pt=n(927798),Rt=n.n(Pt),jt=n(852617),Mt=n.n(jt);function wt(e){var t=e.heading,n=void 0===t?Q.Z.Messages.APP_DIRECTORY_ERROR_HEADING:t,i=e.body,a=void 0===i?Q.Z.Messages.APP_DIRECTORY_ERROR_BODY:i,s=e.className;return(0,r.jsxs)("div",{className:ze()(Rt().container,s),children:[(0,r.jsx)("img",{className:Rt().image,src:Mt(),
alt:Q.Z.Messages.APP_DIRECTORY_CONFUSED_CLYDE_IMAGE_ALT}),(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.Heading,{className:Rt().header,variant:"heading-xl/semibold",children:n}),(0,r.jsx)(l.Text,{variant:"text-md/normal",children:a})]})]})}var xt,Lt=n(119906),Dt=n.n(Lt);function Zt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ut(e){var t=e.loading,n=e.children;return(0,r.jsxs)("div",{className:Dt().container,children:[t?(0,r.jsx)("div",{className:Dt().spinnerContainer,children:(0,r.jsx)(l.Spinner,{className:Dt().spinner,type:l.Spinner.Type.SPINNING_CIRCLE})}):null,(0,r.jsx)("div",{className:ze()(Zt({},Dt().loading,t)),children:n})]})}!function(e){e[e.APPLICATION=1]="APPLICATION";e[e.LINK=2]="LINK"}(xt||(xt={}));new Set([1,2]);var Gt=n(561329),kt=n(87931),Bt=n(531441),Ht=n(954010),Vt=n.n(Ht);function Ft(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function Yt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Wt(e){var t=e.className,n=zt(e,["className"]);return(0,r.jsx)(Bt.IG,Yt(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ft(e,t,n[t])}))}return e}({},n),{text:Q.Z.Messages.APP_DIRECTORY_PARTNER,color:kt.Z.BACKGROUND_TERTIARY,className:ze()(t,Vt().partnerBadge)}))}var Kt=n(428034),qt=n.n(Kt);function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e){var t=e.collectionTitle,n=e.title,o=e.description,i=e.handleClick,a=e.imageSrc,s=e.ctaLabel,c=e.ctaLink,u="936929561302675456"===e.applicationId;return(0,r.jsxs)("div",{className:qt().card,children:[(0,r.jsx)("div",{className:qt().textContainer,children:(0,r.jsxs)("div",{className:qt().verticallyCenter,children:[(0,r.jsx)(l.Text,{className:qt().collectionTitle,tag:"span",color:"header-secondary",
variant:"heading-deprecated-12/semibold",children:t}),(0,r.jsxs)(l.Heading,{className:qt().applicationName,variant:"heading-xxl/medium",children:[n," ",u&&(0,r.jsx)(Wt,{})]}),(0,r.jsx)(l.Text,{className:qt().applicationDescription,variant:"text-md/normal",lineClamp:3,children:o}),null==c?(0,r.jsx)(l.Button,{className:qt().applicationCta,onClick:i,children:s}):(0,r.jsx)(l.Anchor,{onClick:i,href:c,className:ze()((0,l.getButtonStyle)({grow:!1}),qt().applicationCta),children:s})]})}),(0,r.jsx)("div",{className:qt().imageContainer,children:(0,r.jsx)("img",{alt:n,className:qt().image,src:a})})]})}function en(e){var t=e.collection,n=t.id,i=t.title,a=t.application_directory_collection_items,s=o.useRef(null),l=$t(o.useState(),2),c=l[0],u=l[1],f=(0,lt.g8)((function(e){return e.guildId}));o.useEffect((function(){var e=null==s?void 0:s.current;if(null!=e){var t=new ResizeObserver((function(){
var t=document.body.offsetWidth<parseFloat(qt().mediaBreakpoint)?parseFloat(qt().columnCardHeight):parseFloat(qt().rowCardHeight);u(e.offsetWidth/t)}));t.observe(document.body);return function(){t.disconnect()}}}),[]);return(0,r.jsx)("article",{ref:s,className:ze()(Qt({},qt().collectionBottomMargin,a.length<=1)),children:(0,r.jsx)(Gt.Z,{aspectRatio:c,themedPagination:!0,paginationClassName:qt().paginationControls,paginationArrowClassName:qt().paginationArrow,items:a,onChangeItem:function(e,t,r){var o=e.application;null!=o&&Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_SCROLLED,{collection_id:n,offset:r,results:[o.id],guild_id:f})},renderItem:function(e){var t=e.id,o=e.image_hash,a=e.application,s=e.type,l=e.description,c=e.title,u=e.call_to_action_label,d=e.call_to_action_url;if(null!=o){var p=(0,vt.$_)({itemId:t,hash:o});if(s===xt.APPLICATION&&null!=a){var h,E;return(0,r.jsx)(Jt,{collectionTitle:i,title:a.name,
description:null!==(E=null===(h=a.directory_entry)||void 0===h?void 0:h.short_description)&&void 0!==E?E:a.description,handleClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:n,application_id:a.id,guild_id:f,shown_mutual_guilds_count:void 0});(0,ct.goToApplication)({applicationId:a.id})},imageSrc:p,ctaLabel:Q.Z.Messages.APP_DIRECTORY_GALLERY_COLLECTION_VIEW_APP_CTA,applicationId:a.id})}if(s===xt.LINK&&null!=c&&null!=d&&null!=u){return(0,r.jsx)(Jt,{collectionTitle:i,title:c,description:l,handleClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:n,link:d,guild_id:f,shown_mutual_guilds_count:void 0})},imageSrc:p,ctaLabel:u,ctaLink:d})}}}})})}var tn,nn,rn=n(775173),on=n(794547),an=n(211482),sn=n(421281),ln=n(788103),cn=n.n(ln);function un(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fn(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){un(e,t,n[t])}))}return e}function dn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.SMALL=(0,sn.Mg)(cn().smallIconSize)]="SMALL";e[e.LARGE=(0,sn.Mg)(cn().largeIconSize)]="LARGE"}(tn||(tn={}));var pn,hn=(un(nn={},tn.SMALL,cn().moreGuildsSmall),un(nn,tn.LARGE,cn().moreGuildsLarge),nn),En=(un(pn={},tn.SMALL,cn().iconSmall),
un(pn,tn.LARGE,cn().iconLarge),pn);function yn(e){var t,n,i,a=e.application,s=e.mutualGuilds,c=e.mutualGuildShownMax,u=void 0===c?4:c,f=e.className,d=e.textVariant,p=void 0===d?"text-sm/normal":d,h=e.compact,E=e.guildIconSize,y=void 0===E?tn.LARGE:E,m=new Intl.ListFormat("en-US"),_=null!==(n=null===(t=a.directory_entry)||void 0===t?void 0:t.guild_count)&&void 0!==n?n:0,g=null!==(i=null==s?void 0:s.length)&&void 0!==i?i:0,b=Math.max(0,_-g),v=o.useMemo((function(){var e=[],t=[];null==s||s.forEach((function(n){e.length<u&&null!=n.icon?e.push(n):t.push(n)}));if(e.length===u&&t.length>0){t.push(e[u-1]);e=e.slice(0,u-1)}return{shownMutualGuilds:e,hiddenMutualGuilds:t}}),[s,u]),O=v.shownMutualGuilds,I=v.hiddenMutualGuilds,S=I.length,T=function(e,t,n,r){if(0===t&&0===e)return null;if(t>0&&0===n)return Q.Z.Messages.APP_DIRECTORY_MUTUAL_GUILD_COUNT.format({mutualGuildCount:t})
;var o=t>0?Q.Z.Messages.APP_DIRECTORY_GUILD_COUNT_WITH_MUTUALS:Q.Z.Messages.APP_DIRECTORY_GUILD_COUNT,i=new Intl.NumberFormat("en-US",{notation:r?"compact":"standard",compactDisplay:"short"});return o.format({guildCount:i.format(e),mutualGuildCount:t,nonMutualGuildCount:i.format(n)})}(_,g,b,h);return 0===O.length&&null==T?null:(0,r.jsxs)("div",{className:ze()(f,cn().wrapper),children:[(0,r.jsx)("div",{className:cn().icons,children:O.length>0?(0,r.jsxs)(r.Fragment,{children:[O.map((function(e,t){var n=t===O.length-1&&0===S,i=rn.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:y,canAnimate:!1}),a=(0,r.jsx)(l.Tooltip,{text:e.name,position:"top",children:function(e){return(0,r.jsx)("img",dn(fn({},e),{className:ze()(cn().icon,En[y]),src:i,alt:""}))}});return n?(0,r.jsx)(o.Fragment,{children:a},e.id):(0,r.jsx)(an.ZP,{className:cn().iconMask,height:y,width:y,mask:an.ZP.Masks.VOICE_USER_SUMMARY_ITEM,children:a},e.id)})),S>0?(0,r.jsx)(l.Tooltip,{
text:Q.Z.Messages.APP_DIRECTORY_GUILD_COUNT_PLUS_MUTUALS_TOOLTIP.format({appNames:m.format(I.map((function(e){return e.name})))}),position:"top",children:function(e){return(0,r.jsxs)("div",dn(fn({},e),{className:ze()(cn().moreGuilds,hn[y]),children:["+",S]}))}}):null]}):(0,r.jsx)(on.Z,{width:y,height:y,className:cn().defaultIcon})}),null!=T?(0,r.jsx)(l.Text,{variant:p,color:"header-secondary",children:T}):null]})}var mn=n(881080),_n=n.n(mn);function gn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function On(e){var t=e.className,n=e.onClick,o=e.imageSrc,i=e.iconSrc,a=e.header,s=e.headerClassName,c=e.subheaderVariant,u=void 0===c?"text-sm/normal":c,f=e.subheader,d=e.children,p=e.animatesOnHover,h=vn(e,["className","onClick","imageSrc","iconSrc","header","headerClassName","subheaderVariant","subheader","children","animatesOnHover"]),E=null!=o,y=(0,r.jsxs)(r.Fragment,{children:[E&&(0,r.jsx)("div",{className:_n().imageContainer,children:(0,r.jsx)("img",{alt:"",className:_n().image,src:o})}),(0,r.jsxs)("div",{className:_n().textContainer,
children:[(0,r.jsxs)("div",{className:ze()(_n().topRowContainer),children:[null!=i&&(0,r.jsx)("img",{className:_n().icon,alt:"","aria-hidden":!0,src:i,width:48,height:48}),(0,r.jsxs)("div",{className:_n().headerContainer,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/medium",className:s,children:a}),null!=f&&(0,r.jsx)(l.Text,{className:_n().subheader,color:"header-secondary",variant:u,children:f})]})]}),d]})]}),m=ze()(t,_n().container,gn({},_n().hasImage,E));return null!=n?(0,r.jsx)(l.ClickableContainer,{tag:"article","aria-label":Q.Z.Messages.APP_DIRECTORY_LISTING_CARD_BUTTON_A11Y_LABEL.format({name:a}),onClick:n,className:ze()(m,_n().clickable,gn({},_n().animatesOnHoverContainer,p)),focusProps:{offset:4},children:y}):(0,r.jsx)("article",bn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gn(e,t,n[t])}))}return e}({className:m},h),{children:y}))}var In=n(567403),Sn=n(518640);function Tn(e){var t=e.application,n=e.showMutualGuilds,r=void 0===n||n,i=(0,s.e7)([Sn.Z],(function(){return Sn.Z.getGuildIdsForApplication(null==t?void 0:t.id)}),[t]),a=(0,s.e7)([In.Z],(function(){return In.Z.isLoaded()}));return o.useMemo((function(){var e=[];if(!a||!r||null==i||null==t)return e;var n=!0,o=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var u=l.value,f=In.Z.getGuild(u);null!=f&&e.push(f)}}catch(e){o=!0;s=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}return e}),[a,i,t,r])}var Nn=n(425770),Cn=n.n(Nn);function An(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pn(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function jn(e){
var t,n,i,a,s,c=e.application,u=e.className,f=e.childrenClassName,d=e.animatesOnHover,p=e.onClick,h=Rn(e,["application","className","childrenClassName","animatesOnHover","onClick"]),E=rn.ZP.getApplicationIconURL({id:c.id,icon:c.icon,size:48}),y=Tn({application:c}),m=null===(t=c.categories)||void 0===t?void 0:t[0],_=(null!==(a=null===(n=c.directory_entry)||void 0===n?void 0:n.guild_count)&&void 0!==a?a:0)>0||y.length>0,g=o.useCallback((function(){p({mutualGuilds:y})}),[p,y]),b=(0,r.jsx)(yn,{application:c,textVariant:"text-xs/normal",mutualGuilds:y,mutualGuildShownMax:3,guildIconSize:tn.SMALL,compact:!0});return(0,r.jsxs)(On,Pn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){An(e,t,n[t])}))}return e}({className:u,onClick:g,iconSrc:E,
header:c.name,subheader:null!=m&&(0,r.jsx)(l.Text,{tag:"span",color:"header-secondary",variant:"text-xs/normal",children:m.name}),animatesOnHover:d},h),{children:[(null!=c.description||null!=f)&&(0,r.jsx)("div",{className:f,children:(0,r.jsx)(l.Text,{className:Cn().listingDescription,variant:"text-sm/normal",lineClamp:2,children:null!==(s=null===(i=c.directory_entry)||void 0===i?void 0:i.short_description)&&void 0!==s?s:c.description})}),_&&(0,r.jsx)("div",{className:Cn().bottomGuildCountContainer,children:b})]}))}var Mn=n(955681),wn=n(712123),xn=n.n(wn);function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e){var t=e.collection,n=t.id,i=t.title,a=t.application_directory_collection_items,s=o.useRef(null),l=Dn(o.useState(300),2),c=l[0],u=l[1],f=Dn(o.useState(4),2),d=f[0],p=f[1],h=parseFloat(xn().cardGap),E=(0,lt.g8)((function(e){return e.guildId}));o.useEffect((function(){var e=function(){var e,t=null===(e=s.current)||void 0===e?void 0:e.offsetWidth,n=1;if(null==t)return 300;t>=500&&(n=2);t>=700&&(n=3);t>=1e3&&(n=4);p(n)
;return(t-(n-1)*h)/n},t=s.current;if(null!=t){var n=new ResizeObserver((function(){u(e())}));u(e());n.observe(t);return function(){n.disconnect()}}}),[h]);var y=(0,q.Dt)();return(0,r.jsx)("div",{ref:s,children:(0,r.jsx)(Mn.Z,{header:i,headerId:y,tileWidth:c,tileMargin:h,onScroll:function(e){var t=e.tileIndex,r=a.slice(t,t+d).reduce((function(e,t){var n=t.type,r=t.application;n===xt.APPLICATION&&null!=r&&e.push(r.id);return e}),[]);Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_SCROLLED,{collection_id:n,offset:t,results:r,guild_id:E})},children:(0,r.jsx)("ul",{"aria-labelledby":y,className:xn().itemsContainer,children:a.map((function(e){var t=e.id,o=e.type,i=e.application;if(o===xt.APPLICATION&&null!=i){return(0,r.jsx)("li",{style:{width:c},className:xn().itemContainer,children:(0,r.jsx)(jn,{application:i,onClick:function(e){var t=e.mutualGuilds;Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:n,application_id:i.id,guild_id:E,
shown_mutual_guilds_count:t.length});(0,ct.goToApplication)({applicationId:i.id})},animatesOnHover:!0})},t)}}))})})})}var Un=n(388737),Gn=n.n(Un);function kn(e){var t,n,i,a,s,c=e.application,u=e.onClick,f=e.imageSrc,d=e.className,p=e.animatesOnHover,h=Tn({application:c}),E=null===(t=c.categories)||void 0===t?void 0:t[0],y=(null!==(a=null===(n=c.directory_entry)||void 0===n?void 0:n.guild_count)&&void 0!==a?a:0)>0||h.length>0,m=o.useCallback((function(){u({mutualGuilds:h})}),[u,h]),_=(0,r.jsx)(yn,{application:c,textVariant:"text-xs/normal",mutualGuilds:h,mutualGuildShownMax:3,guildIconSize:tn.SMALL,compact:!0});return(0,r.jsx)(On,{className:d,imageSrc:f,onClick:m,header:c.name,subheader:(0,r.jsxs)("div",{className:Gn().subheader,children:[null!=E&&(0,r.jsx)(l.Text,{tag:"span",color:"header-secondary",variant:"text-xs/normal",children:E.name}),y&&(0,r.jsxs)(r.Fragment,{children:[null!=E&&(0,r.jsx)("span",{className:Gn().bullet,children:""}),_]})]}),animatesOnHover:p,
children:null!=c.description&&(0,r.jsx)("div",{className:Gn().children,children:(0,r.jsx)(l.Text,{className:Gn().listingDescription,variant:"text-sm/normal",lineClamp:2,children:null!==(s=null===(i=c.directory_entry)||void 0===i?void 0:i.short_description)&&void 0!==s?s:c.description})})})}var Bn=n(128064),Hn=n.n(Bn);function Vn(e){var t=e.collection,n=t.id,o=t.title,i=t.application_directory_collection_items,a=(0,lt.g8)((function(e){return e.guildId}));return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{variant:"heading-lg/semibold",className:Hn().header,children:o}),(0,r.jsx)("div",{className:Hn().list,children:i.map((function(e){var t=e.id,o=e.type,i=e.application,s=e.image_hash,c=e.title,u=e.description,f=e.call_to_action_label,d=e.call_to_action_url;if(null!=s){var p=(0,vt.$_)({itemId:t,hash:s});if(o===xt.APPLICATION&&null!=i){return(0,r.jsx)(kn,{className:Hn().item,imageSrc:p,application:i,onClick:function(e){var t=e.mutualGuilds
;Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:n,application_id:i.id,guild_id:a,shown_mutual_guilds_count:t.length});(0,ct.goToApplication)({applicationId:i.id})},animatesOnHover:!0},t)}if(o===xt.LINK&&null!=c){return(0,r.jsxs)(On,{className:ze()(Hn().item,Hn().linkCard),imageSrc:p,header:c,headerClassName:Hn().cardHeader,children:[(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:Hn().linkDescription,children:u}),(0,r.jsx)(l.Anchor,{onClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_COLLECTION_ITEM_CLICKED,{collection_id:n,link:d,guild_id:a,shown_mutual_guilds_count:void 0})},href:d,className:ze()((0,l.getButtonStyle)(),Hn().linkCta),children:f})]},t)}}}))})]})}var Fn=n(887779),Yn=n.n(Fn);function zn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wn(){var e=(0,s.e7)([Ct.default],(function(){return Ct.default.appDirectoryIncludesInactiveCollections})),t=(0,
s.e7)([At.Z],(function(){return At.Z.getFetchState({includesInactive:e})})),n=(0,s.e7)([At.Z],(function(){return At.Z.getCollections({includesInactive:e})}));o.useEffect((function(){ot.bG({includesInactive:e})}),[e]);return t===At.M.ERROR?(0,r.jsx)(wt,{}):(0,r.jsx)(Ut,{loading:t===At.M.FETCHING,children:null==n?void 0:n.map((function(e,t){var o,i=t>0&&n[t-1].type!==bt.GALLERY;switch(e.type){case bt.LIST:o=(0,r.jsx)(Zn,{collection:e});break;case bt.LIST_WITH_IMAGE:o=(0,r.jsx)(Vn,{collection:e});break;case bt.GALLERY:o=(0,r.jsx)(en,{collection:e});break;default:return null}return(0,r.jsx)("div",{className:ze()(zn({},Yn().topMargin,i)),children:o},e.id)}))})}var Kn=n(282898),qn=n(792045),Xn=n.n(qn);function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){var n=e.query,i=e.canShowCta,a=void 0!==i&&i,s=e.onChange,l=e.onSubmit,c=e.className,u=$n(o.useState(!1),2),f=u[0],d=u[1];return(0,r.jsx)(Kn.Z,{ref:t,className:ze()(Xn().search,c),label:Q.Z.Messages.APP_DIRECTORY_SEARCH_PLACEHOLDER,
placeholder:Q.Z.Messages.APP_DIRECTORY_SEARCH_PLACEHOLDER,searchTerm:n,cta:a&&f&&n.length>0?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null,onChange:s,onClear:function(){return s("")},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},onKeyPress:function(e){e.charCode===w.yXg.ENTER&&(null==l||l())},autoFocus:!0})}const er=o.forwardRef(Jn);var tr=n(327727),nr=n.n(tr),rr=n(323236),or=n.n(rr);function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ir(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(){var e=(0,lt.g8)((function(e){return e.guildId})),t=ar(o.useState(""),2),n=t[0],i=t[1],a=o.useCallback((function(){var t=(0,vt.KQ)();Oe.default.track(w.rMx.APP_DIRECTORY_SEARCH_STARTED,{search_term:n,category:t.name,current_page:lt.eN.HOME,category_id:t.id,guild_id:e});(0,ct.goSearch)({query:n})}),[e,n]);return(0,r.jsxs)("div",{className:nr().container,children:[(0,r.jsxs)("div",{className:nr().searchBarContainer,children:[(0,r.jsx)(l.Heading,{variant:"display-lg",className:nr().heading,children:Q.Z.Messages.APP_DIRECTORY_HERO_HEADING}),(0,r.jsx)(er,{
className:nr().searchBar,query:n,onChange:i,onSubmit:a,canShowCta:!0})]}),(0,r.jsx)("img",{src:or(),alt:"",className:nr().rightImage})]})}var lr=n(368153),cr=n.n(lr),ur=n(832834),fr=n.n(ur);function dr(){var e=(0,lt.g8)((function(e){return e.guildId}));return(0,r.jsxs)("div",{className:cr().container,role:"contentinfo",children:[(0,r.jsx)("img",{className:cr().image,src:fr(),alt:""}),(0,r.jsxs)("div",{className:cr().content,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.APP_DIRECTORY_HOME_NEW_TO_APPS_BANNER_HEADING}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:Q.Z.Messages.APP_DIRECTORY_HOME_NEW_TO_APPS_BANNER_BODY})]}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,onClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_CTA_CLICKED,{cta:"new_to_apps",current_page:lt.eN.HOME,guild_id:e});(0,tt.Z)("https://discord.com/blog/how-to-use-discord-apps")},className:cr().button,
children:Q.Z.Messages.APP_DIRECTORY_HOME_NEW_TO_APPS_BANNER_CTA})]})}var pr=n(476509),hr=n.n(pr);function Er(){var e=(0,lt.g8)((function(e){return e.guildId})),t=(0,Ve.ZP)([Fe.Z],(function(){return Fe.Z.getCategories()})),n=(0,lt.Uc)();o.useEffect((function(){Oe.default.track(w.rMx.APP_DIRECTORY_PAGE_VIEWED,{current_page:lt.eN.HOME,previous_page:null==n?void 0:n.type,guild_id:e})}),[e,n]);return(0,r.jsxs)(gt,{children:[(0,r.jsx)(sr,{}),null!=t&&t.length>0&&(0,r.jsx)(Nt,{className:hr().categoryList}),(0,r.jsx)("main",{className:hr().collectionsContainer,children:(0,r.jsx)(Wn,{})}),(0,r.jsx)(dr,{})]})}var yr=n(120053),mr=n.n(yr),_r=n(940060),gr=n(712861),br=n(336194),vr=n(6912),Or=n(725778),Ir=n(146431),Sr=n(73904),Tr=n(898302),Nr=n(248046),Cr=n(301443),Ar=n(59882),Pr=n(109206),Rr=n(112897),jr=n(721160),Mr=n(835575),wr=n(384411),xr=n(901654),Lr=n(749266),Dr=n(377463),Zr=n(58838),Ur=n(186440),Gr=n(691797),kr=n(72580),Br=n(709992),Hr=n(948917),Vr=n(490461),Fr=n(787215);function Yr(e,t){
return{canInstall:o.useMemo((function(){return null!=e&&(0,Fr.E)(e.id,e.custom_install_url,e.install_params)}),[e]),install:o.useCallback((function(n,r){null!=e&&(0,Fr.L)({applicationId:e.id,customInstallUrl:e.custom_install_url,installParams:e.install_params,guildId:null!=t?t:void 0,source:n,onGoToGuildClick:r})}),[e,t])}}var zr=n(915781),Wr=n.n(zr);function Kr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qr(e){var t=e.applications,n=e.className,o=e.listingClassName,i=e.title,a=e.showViewAll,s=e.onViewOne,c=e.onViewAll;return(0,r.jsxs)("div",{className:n,children:[null!=i?(0,r.jsxs)("div",{className:Wr().header,children:[(0,r.jsx)(l.Heading,{variant:"heading-lg/semibold",children:i}),a?(0,r.jsx)(l.Button,{look:l.Button.Looks.LINK,color:l.Button.Colors.LINK,onClick:c,children:Q.Z.Messages.APP_DIRECTORY_LISTING_VIEW_ALL_BUTTON}):null]}):null,(0,r.jsx)("ul",{className:Wr().list,children:t.map((function(e){return(0,
r.jsx)(Xr,{className:o,application:e,onClick:function(t){var n=t.mutualGuilds;return s({application:e,mutualGuilds:n})}},e.id)}))})]})}function Xr(e){return(0,r.jsx)(jn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Kr(e,t,n[t])}))}return e}({},e))}var Qr=n(996051),$r=n(469313),Jr=n.n($r);function eo(e){var t=e.commands,n=e.className;return(0,r.jsx)("div",{className:ze()(Jr().list,n),children:t.map((function(e){return(0,r.jsxs)("div",{className:Jr().row,children:[(0,r.jsxs)(l.Text,{className:Jr().commandName,variant:"text-md/semibold",color:"header-primary",children:[Qr.GI,e.displayName]}),(0,r.jsx)(l.Text,{variant:"text-md/normal",children:e.displayDescription})]},e.id)}))})}
var to=n(712125),no=n(921122),ro=n(363582),oo=n(853039),io=n(955121),ao=n(282961),so=n.n(ao);function lo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var co=X.Z.getArticleURL(w.BhN.BOT_DATA_ACCESS);function uo(e){var t=e.icon,n=e.heading,o=e.body;return(0,r.jsxs)("li",{className:so().intentContainer,children:[(0,r.jsx)("div",{children:(0,r.jsx)(t,{height:"24",width:"24"})}),(0,r.jsxs)("div",{className:so().intentTextContainer,children:[(0,r.jsx)("div",{children:(0,r.jsx)(l.Heading,{variant:"eyebrow",color:"header-secondary",children:n})}),(0,r.jsx)("div",{className:so().intentBody,children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:o})})]})]})}function fo(e){var t=e.application,n=(0,to.w)({flags:null==t?void 0:t.flags}),i=n.hasMessageContent,a=n.hasGuildPresences,s=n.hasGuildMembers,c=n.hasIntents,u=o.useCallback((function(){null!=(null==t?void 0:t.privacy_policy_url)&&(0,io.q)({
href:t.privacy_policy_url})}),[null==t?void 0:t.privacy_policy_url]);return(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("div",{className:so().intentsListHeading,children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_INTENTS_LIST_HEADING})}),(0,r.jsxs)("div",{className:so().intentsContainer,children:[c&&(0,r.jsxs)("ul",{className:so().intentsList,children:[i&&(0,r.jsx)(uo,{icon:no.Z,heading:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_MESSAGE_CONTENT_HEADING,body:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_MESSAGE_CONTENT_BODY}),a&&(0,r.jsx)(uo,{icon:oo.Z,heading:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_GUILD_PRESENCES_HEADING,body:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_GUILD_PRESENCES_BODY}),s&&(0,r.jsx)(uo,{icon:ro.Z,heading:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_GUILD_MEMBERS_HEADING,body:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_GUILD_MEMBERS_BODY})]}),(0,r.jsxs)("div",{
className:ze()(lo({},so().hasSeparator,c)),children:[(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:Q.Z.Messages.BOTS_DATA_ACCESS_BASELINE.format({helpCenterUrl:co})}),null!=(null==t?void 0:t.privacy_policy_url)&&(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",className:so().privacyPolicy,children:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_PRIVACY_POLICY_V2.format({onClick:u})})]})]})]})}var po=n(419156),ho=n(259738),Eo=n(890607),yo=n(254857),mo=n(5304);function _o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_o(e,t,n[t])}))}return e}
var bo=/^discord.gg\/[a-zA-Z0-9-]+/,vo=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(go({},Lr.Z.rules),{heading:go({},ho.i.heading),inviteLink:{order:Lr.Z.rules.link.order+1,match:function(e,t){return t.inline?bo.exec(e):null},parse:function(e,t,n){var r=(0,yo.zO)(e[0]);return null==r||r.type!==Eo.g.INVITE?{type:"text",content:e[0]}:{type:"inviteLink",content:[{type:"text",content:e[0]}],onClick:function(){var e;po.Z.acceptInviteAndTransitionToInviteChannel({inviteKey:r.code,context:{location:"Application Directory"}});null===(e=n.closeModal)||void 0===e||e.call(n)}}},
react:function(e,t,n){return(0,r.jsx)(l.Anchor,{onClick:function(t){t.preventDefault();e.onClick()},children:(0,mo.S)(e,t,n)},n.key)}}});const Oo=vo;var Io=n(575945),So=n(4629),To=n(74535),No=n(265688),Co=n(963881),Ao=n(349491),Po=n(874049),Ro=n(848285),jo=n(206986),Mo=n(124251),wo=n(104630),xo=n(192539),Lo=n.n(xo),Do=n(860321),Zo=n.n(Do),Uo=n(145792),Go=n.n(Uo);function ko(e){var t=e.guild,n=e.className,o=e.onClick,i=(0,To.ZP)(),a=new Ro.Z({name:t.name,icon:t.icon}),s=rn.ZP.getGuildDiscoverySplashURL({id:t.id,splash:t.discovery_splash,size:192*(0,Po.x_)()}),c=null!=s?s:function(e){switch(e){case w.BRd.DARK:return Zo();case w.BRd.LIGHT:return Go()}}(i),u=rn.ZP.getGuildIconURL({id:t.id,icon:t.icon,size:50});return(0,r.jsxs)(l.Clickable,{className:ze()(Lo().card,n),onClick:o,"aria-label":Q.Z.Messages.APP_DIRECTORY_JOIN_SERVER_LABEL,children:[(0,r.jsxs)("div",{className:Lo().cardHeader,children:[(0,r.jsx)("img",{src:c,alt:"",className:Lo().splashImage}),(0,r.jsx)("div",{
className:Lo().guildIcon,children:(0,r.jsx)(an.ZP,{mask:an.ZP.Masks.AVATAR_DEFAULT,width:58,height:58,children:(0,r.jsx)("div",{className:Lo().iconMask,children:(0,r.jsx)(Mo.Z,{className:Lo().icon,iconSrc:u,guild:a,size:Mo.Z.Sizes.LARGE})})})})]}),(0,r.jsxs)("div",{className:Lo().cardDetails,children:[(0,r.jsxs)("div",{className:Lo().guildNameWrapper,children:[(0,r.jsx)(jo.Z,{className:Lo().guildBadge,guild:t,tooltipColor:l.Tooltip.Colors.PRIMARY}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:Lo().guildName,children:t.name})]}),(0,r.jsx)(l.Text,{className:Lo().guildDescription,variant:"text-sm/normal",color:"header-secondary",lineClamp:2,children:t.description}),(0,r.jsx)("div",{className:Lo().memberInfo,children:(0,r.jsxs)("div",{className:Lo().memberCountWrapper,children:[(0,r.jsx)(wo.Z,{className:Lo().memberCountIcon,width:"16",height:"16"}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",
children:Q.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t.approximate_member_count})})]})})]})]})}var Bo=n(151183),Ho=n.n(Bo);function Vo(e){var t=e.supportedLanguages;return(0,r.jsx)("ul",{className:Ho().outerContainer,children:t.map((function(e){return(0,r.jsx)("li",{className:ze()(Ho().innerContainer,Ho().languageItem),children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:e})},e)}))})}var Fo=n(602347),Yo=n.n(Fo);function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ko=Q.Z.getAvailableLocales();function qo(e){var t,n,o,i=e.onClick,a=e.url,s=e.children,l=(0,To.ZP)(),c=No.Z.getByUrl(a),u=(0,Io.wj)(l)?null==c||null===(t=c.icon)||void 0===t?void 0:t.darkSVG:null==c||null===(n=c.icon)||void 0===n?void 0:n.lightSVG;return(0,r.jsx)(Xo,{icon:void 0===u?Co.Z:void 0,imageSrc:u,onClick:i,url:a,type:null!==(o=null==c?void 0:c.name)&&void 0!==o?o:"website",children:s})}function Xo(e){var t=e.icon,n=e.imageSrc,o=e.iconColor,i=e.url,a=e.type,s=e.children,c=e.onClick,u=null;null!=t?u=(0,r.jsx)(t,{
className:Yo().listIcon,color:o,width:20,height:20}):null!=n&&(u=(0,r.jsx)("img",{className:Yo().listImage,src:n,alt:""}));var f=(0,r.jsxs)(r.Fragment,{children:[u,(0,r.jsx)(l.Text,{className:Yo().listText,variant:"text-md/normal",selectable:!0,children:s})]});return(0,r.jsx)(So.Z,{href:i,className:ze()(Yo().listItem,Yo().linkItem),onClick:function(){c(i,a);return!1},useDefaultUnderlineStyles:!1,children:f})}function Qo(e){var t,n,i=e.application,a=e.guildId,s=e.className,c=e.onViewCategory,u=e.onClickGuildWidget,f=Wo(o.useState(null),2),d=f[0],p=f[1],h=[],E=null!==(n=null==i||null===(t=i.directory_entry)||void 0===t?void 0:t.external_urls)&&void 0!==n?n:[];o.useEffect((function(){var e;if(void 0!==(null===(e=i.directory_entry)||void 0===e?void 0:e.supported_locales)){var t=new Set(i.directory_entry.supported_locales),n=Ko.filter((function(e){return t.has(e.value)}));p(n.map((function(e){return e.localizedName})))}}),[i.directory_entry]);var y=function(e,t){
Oe.default.track(w.rMx.APP_DIRECTORY_APPLICATION_EXTERNAL_LINK_CLICKED,{application_id:i.id,guild_id:a,type:t,url:e})};if(null!=i.categories&&i.categories.length>0){var m;h.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:Yo().sectionHeader,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_CATEGORIES_HEADING}),(0,r.jsx)("div",{className:Yo().categories,children:(null!==(m=i.categories)&&void 0!==m?m:[]).map((function(e){return(0,r.jsx)(l.Clickable,{className:Yo().category,onClick:function(){return c(e)},children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-primary",children:e.name})},e.id)}))})]}))}null!=d&&d.length>0&&h.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:Yo().sectionHeader,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_LANGUAGES_HEADING}),(0,r.jsx)(Vo,{supportedLanguages:d})]}));(null!=i.terms_of_service_url||null!=i.privacy_policy_url||E.length>0)&&h.push((0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(l.Heading,{className:Yo().sectionHeader,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_LINKS_HEADING}),E.map((function(e,t){return(0,r.jsx)(qo,{url:e.url,onClick:y,children:e.name},t)})),null!=i.terms_of_service_url?(0,r.jsx)(Xo,{icon:Co.Z,onClick:y,url:i.terms_of_service_url,type:"tos",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_TERMS_LINK}):null,null!=i.privacy_policy_url?(0,r.jsx)(Xo,{icon:Ao.Z,onClick:y,url:i.privacy_policy_url,type:"policy",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_PRIVACY_LINK}):null]}));null!=i.guild&&i.guild.features.includes(w.oNc.DISCOVERABLE)&&h.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:Yo().sectionHeader,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_SERVER_HEADING}),(0,r.jsx)(ko,{guild:i.guild,onClick:u})]}));return(0,r.jsx)("div",{className:ze()(Yo().sidebar,s),children:h.length>0?(0,r.jsx)(r.Fragment,{children:h.map((function(e,t){return(0,r.jsx)("div",{className:Yo().section,children:e
},t)}))}):null})}var $o=n(67912),Jo=n.n($o);function ei(e){var t=e.activeSection,n=e.setSection,o=e.shownSections;return(0,r.jsx)(l.TabBar,{selectedItem:t,type:"top",onItemSelect:n,className:Jo().tabBar,children:o.map((function(e){return(0,r.jsx)(l.TabBar.Item,{id:e.sectionName,className:Jo().tabBarItem,children:e.sectionText},e.sectionName)}))})}var ti=n(389740),ni=n(125477),ri=n.n(ni);function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ii(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ai(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ii(i,r,o,a,s,"next",e)}function s(e){ii(i,r,o,a,s,"throw",e)}a(void 0)}))}}function si(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function li(){li=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return li.apply(this,arguments)}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){si(e,t,n[t])}))}return e}function ui(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fi(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var di=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},pi=mr().parserFor(Oo),hi=mr().reactFor(mr().ruleOutput(Oo,"react")),Ei=(0,
gr.Mg)(ri().iconSize);function yi(e){var t,i,a,c=e.applicationId,u=e.initialSection,f=(0,lt.g8)((function(e){return e.guildId})),d=o.useRef(c),p=o.useRef(!1),h=(0,s.e7)([Vr.Z],(function(){return Vr.Z.getFetchState({applicationId:c,guildId:f})===Vr.M.FETCHING})),E=o.useRef({applicationId:void 0,guildId:void 0}),y=(0,s.cj)([Vr.Z],(function(){var e={applicationId:c,guildId:f},t=Vr.Z.getSimilarApplications(e);null==t?t=Vr.Z.getSimilarApplications(E.current):E.current=e;return{similarApplications:null==t?void 0:t.applications,similarLoadId:null==t?void 0:t.loadId}})),m=y.similarApplications,_=y.similarLoadId,g=o.useMemo((function(){return null==m?void 0:m.slice(0,3)}),[m]),b=(0,s.e7)([Hr.Z],(function(){return Hr.Z.getApplicationFetchState(c)})),v=fi(o.useState(void 0),2),O=v[0],I=v[1],S=fi(o.useState(null!=u?u:ti.c.GENERAL),2),T=S[0],N=S[1],C=(0,s.e7)([xr.Z],(function(){return xr.Z.isFocused()})),A=(0,s.e7)([wr.default],(function(){return wr.default.locale})),P=o.useRef(c),R=(0,
s.e7)([Hr.Z],(function(){var e=Hr.Z.getApplication(c);null==e?e=Hr.Z.getApplication(P.current):P.current=c;return e})),j=Tn({application:R});o.useEffect((function(){null!=c&&(T===ti.c.GENERAL?(0,ct.replaceAppDirectoryURLWith)(w.Z5c.APPLICATION_DIRECTORY_PROFILE(c)):(0,ct.replaceAppDirectoryURLWith)(w.Z5c.APPLICATION_DIRECTORY_PROFILE(c,T.toLowerCase())))}),[c,T]);o.useEffect((function(){null!=c&&ot.i6(c)}),[c]);o.useEffect((function(){if(null!=(null==R?void 0:R.directory_entry)){var e=R.directory_entry,t=null==e?void 0:e.popular_application_commands;if(null!=t){var n=t.map((function(e){return(0,Nr.Z8)({rootCommand:e,command:e,applicationId:e.application_id})}));I(n)}else I(void 0)}}),[R]);o.useEffect((function(){if(null!=c&&d.current!==c){N(ti.c.GENERAL);d.current=void 0}}),[c]);var M,x=rn.ZP.getApplicationIconURL({id:null!==(a=null==R?void 0:R.id)&&void 0!==a?a:"-1",icon:null==R?void 0:R.icon,size:Ei}),L=(0,Pr.ZP)(x,br.Z.unsafe_rawColors.PRIMARY_800.css),D=(0,Rr.Z)({
id:null!==(M=null==R?void 0:R.id)&&void 0!==M?M:"",label:Q.Z.Messages.COPY_ID_APPLICATION}),Z=Yr(R,f),U=Z.canInstall,G=Z.install,k=null===(t=(0,lt.Uc)())||void 0===t?void 0:t.type;o.useEffect((function(){null!=(null==R?void 0:R.id)&&Oe.default.track(w.rMx.APP_DIRECTORY_PAGE_VIEWED,{current_page:"product",previous_page:k,application_id:R.id,guild_id:f,shown_mutual_guilds_count:j.length})}),[null==R?void 0:R.id,f,j]);var B=o.useMemo((function(){var e,t=null==R||null===(e=R.install_params)||void 0===e?void 0:e.permissions;if(null!=t)return jr.VY.filter((function(e){return _r.Z.has(_r.Z.deserialize(t),e)}))}),[null==R||null===(i=R.install_params)||void 0===i?void 0:i.permissions]),H=o.useCallback((function(e){N(e);p.current=!0;null!=(null==R?void 0:R.id)&&Oe.default.track(w.rMx.APP_DIRECTORY_PROFILE_TAB_CLICKED,{application_id:R.id,guild_id:f,tab_name:T})}),[null==R?void 0:R.id,f,T]),V=o.useMemo((function(){var e,t,n
;return null!==(n=(null!==(t=null==R||null===(e=R.directory_entry)||void 0===e?void 0:e.carousel_items)&&void 0!==t?t:[]).map(mi).filter(kr.lm))&&void 0!==n?n:[]}),[R]),F=o.useCallback((function(e,t){if(e.type===w.s9s.IMG){var o=V.filter((function(e){return e.type===w.s9s.IMG})),i=o.findIndex((function(t){return t===e}));if(i<0)return;var a=o.map((function(e){var t=e;return{src:(0,Or.Q)(t.src),width:t.width,height:t.height}}));(0,l.openModalLazy)(ai((function(){var e,t;return di(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(17081)]).then(n.bind(n,484991))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=li({},e);return(0,r.jsx)(t,ui(ci({},n),{items:a,startingIndex:i}))}]}}))})))}}),[V]),Y=o.useCallback((function(e){null!=(null==R?void 0:R.id)&&Oe.default.track(w.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{current_page:"product",category:e.name,category_id:e.id,application_id:R.id,guild_id:f});(0,ct.goToCategory)({categoryId:e.id})}),[R,f])
;o.useEffect((function(){null!=c&&ot.T4({applicationId:c,guildId:f})}),[c,f]);var z,W=o.useCallback((function(e){var t=e.application,n=e.mutualGuilds;null!=(null==R?void 0:R.id)&&Oe.default.track(w.rMx.APP_DIRECTORY_RECOMMENDATION_CLICKED,{current_page:"product",application_id:R.id,suggested_application_id:t.id,load_id:_,guild_id:f,shown_mutual_guilds_count:n.length});(0,ct.goToApplication)({applicationId:t.id})}),[null==R?void 0:R.id,_,f]),K=o.useCallback(ai((function(){var e,t,n;return di(this,(function(r){switch(r.label){case 0:r.trys.push([0,3,,4]);if(null==(t=null==R||null===(e=R.guild)||void 0===e?void 0:e.id))return[3,2];null!=(null==R?void 0:R.id)&&Oe.default.track(w.rMx.APP_DIRECTORY_SUPPORT_SERVER_JOINED,{application_id:R.id,guild_id:t});n={page:w.ZY5.APPLICATION_DIRECTORY};return[4,(0,Br.Ub)(t,n,{setsHistorySnapshot:!1})];case 1:r.sent();r.label=2;case 2:return[3,4];case 3:r.sent();return[3,4];case 4:return[2]}}))})),[R]),q=o.useCallback((function(){null!=R&&(0,
tt.Z)(function(e,t){var n="https://".concat(w.xr4,"/hc/").concat(e.toLowerCase(),"/requests/new"),r=new URLSearchParams;r.append("tf_12275088515223","field_value_dc_category_report_an_app_bot");r.append("tf_12276208289431","field_value_dc_reported_action_app_directory");r.append("tf_12094971213335",t.id);r.append("ticket_form_id","12275528604823");r.append("tf_subject","App Directory Report ".concat(t.name," ").concat(t.id));return"".concat(n,"?").concat(r.toString())}(A,R))}),[A,R]),X=o.useCallback((function(e){return(0,r.jsxs)(l.Menu,{navId:"application-directory-profile","aria-label":Q.Z.Messages.APP_DIRECTORY_PROFILE_UTILITIES_A11Y_LABEL,onClose:e,onSelect:void 0,children:[(0,r.jsx)(l.MenuGroup,{children:(0,r.jsx)(l.MenuItem,{id:"report",label:Q.Z.Messages.REPORT_APP,color:"danger",action:q})}),null!=D?(0,r.jsx)(l.MenuGroup,{children:D}):null]})}),[D,q]),$=fi((0,Tr.Z)(!1,1e3),2),J=$[0],ee=$[1],te=o.useCallback((function(){if(null!=R){
Oe.default.track(w.rMx.APP_SHARE_BUTTON_CLICKED,{source:"product_page",application_id:R.id,guild_id:f});(0,Gr.JG)(function(e){return"".concat(location.protocol,"//").concat(location.host).concat(w.Z5c.APPLICATION_DIRECTORY_PROFILE(e))}(R.id));ee(!0)}}),[R,ee,f]),ne=(0,Cr.ZP)({applicationId:null==R?void 0:R.id,groupListingId:null==R?void 0:R.primary_sku_id,guildId:f}).applicationSubscriptionListingsShown,re="936929561302675456"===(null==R?void 0:R.id),oe=fi(o.useState(!1),2),ie=oe[0],ae=oe[1],se=fi(o.useState(!1),2),le=se[0],ce=se[1],ue=fi(o.useState(!0),2),fe=ue[0],de=ue[1],pe=function(e){null!=e&&ae(e.scrollHeight>e.clientHeight)},he=null!=B&&B.length>0,Ee=null!=(null==R?void 0:R.flags),ye=o.useMemo((function(){var e=[],t=!0;switch(T){case ti.c.GENERAL:var n,o,i=null==R||null===(n=R.directory_entry)||void 0===n?void 0:n.detailed_description;if(null!=i&&i.length>0){e.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:ri().sectionHeader,variant:"heading-md/semibold",
children:Q.Z.Messages.APP_DIRECTORY_PROFILE_DESCRIPTION_HEADING}),(0,r.jsx)("div",{ref:pe,className:ze()(si({},ri().descriptionClamp,!le)),children:(0,r.jsx)(Lr.Z,{className:ri().detailedDescription,parser:pi,output:hi,children:i})}),(ie||le)&&(0,r.jsx)(bi,{isViewAll:le,onToggle:function(){ce((function(e){return!e}))}})]}));t=!1}else void 0!==(null==R||null===(o=R.directory_entry)||void 0===o?void 0:o.short_description)?e.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:ri().sectionHeader,variant:"heading-md/semibold",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_DESCRIPTION_HEADING}),(0,r.jsx)("span",{children:R.directory_entry.short_description})]})):null!=(null==R?void 0:R.description)&&e.push((0,r.jsx)(Mr.Z,{className:ri().description,userBio:R.description}));if(null!=O&&O.length>0){e.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:ri().sectionHeader,variant:"heading-md/semibold",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_COMMANDS_HEADING
}),(0,r.jsx)(eo,{className:ri().commandList,commands:O})]}));t=!0}break;case ti.c.IMAGES:var a=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{className:ri().errorImage,src:Mt(),"aria-hidden":!0,alt:""}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",children:Q.Z.Messages.ERRORS_IMAGE_NOT_FOUND})]});V.map((function(e,t){e.alt=null!=R?Q.Z.Messages.APP_DIRECTORY_PROFILE_IMAGE_CAROUSEL_ALT.format({index:t+1,totalImages:V.length,name:R.name}):Q.Z.Messages.APP_DIRECTORY_PROFILE_IMAGE_DEFAULT_ALT}));e.push((0,r.jsx)(Ir.Z,{className:ri().carousel,themedPagination:!0,items:V,autoplayInterval:8e3,paused:!C,videoAutoPlay:!0,onCurrentItemClick:F,errorComponent:a,onImageLoad:function(e){var t=e.src,n=e.loadTimeMs;null!=n&&null!=R&&Oe.default.track(w.rMx.APP_DIRECTORY_CAROUSEL_IMAGE_LOADED,{application_id:R.id,load_time_ms:n,src:t})}}));break;case ti.c.PREMIUM:ne&&null!=(null==R?void 0:R.primary_sku_id)&&e.push((0,r.jsx)(Ar.Z,{applicationId:R.id,
applicationPrimarySkuId:null==R?void 0:R.primary_sku_id,analyticsLocation:w.Sbl.APP_DIRECTORY_PROFILE,forcesTransitionToGuild:!0}));break;case ti.c.PRIVACY:he&&e.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:ri().sectionHeader,variant:"heading-md/semibold",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_REQUIRED_PERMISSIONS_HEADING}),(0,r.jsx)(vr.Z,{className:ri().commandList,grantedPermissions:B,grantedPermissionsHeader:Q.Z.Messages.APP_DIRECTORY_PROFILE_REQUIRED_PERMISSIONS_SUB_HEADING})]}));Ee&&e.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{className:ri().sectionHeader,variant:"heading-md/semibold",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_DATA_ACCESS_HEADING}),(0,r.jsx)(fo,{application:R})]}))}de(t);return e.map((function(e,t){return(0,r.jsx)("div",{className:ri().section,children:e},t)}))}),[R,ne,V,O,B,F,C,T,le,ie,he,Ee]),me=o.useMemo((function(){var e=d.current===c&&!p.current,t=[{sectionName:ti.c.GENERAL,
sectionText:Q.Z.Messages.APP_DIRECTORY_PROFILE_TAB_GENERAL}];if(V.length>0){t.push({sectionName:ti.c.IMAGES,sectionText:Q.Z.Messages.APP_DIRECTORY_PROFILE_TAB_IMAGES});e&&u===ti.c.IMAGES&&N(u)}if(ne){t.push({sectionName:ti.c.PREMIUM,sectionText:Q.Z.Messages.APP_DIRECTORY_PROFILE_TAB_PREMIUM});e&&u===ti.c.PREMIUM&&N(u)}if(he||Ee){t.push({sectionName:ti.c.PRIVACY,sectionText:Q.Z.Messages.APP_DIRECTORY_PROFILE_TAB_PRIVACY});e&&u===ti.c.PRIVACY&&N(u)}return t}),[V.length,ne,he,Ee,u,c]);z=null==R?null==b||b===Hr.M.FETCHING?(0,r.jsx)(Ut,{loading:b===Hr.M.FETCHING}):(0,r.jsx)("div",{className:ri().page,children:(0,r.jsxs)("div",{className:ri().emptyContainer,children:[(0,r.jsx)("img",{className:ri().emptyImage,src:Mt(),alt:""}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_EMPTY_HEADING})]})}):(0,r.jsxs)(Ut,{loading:b===Hr.M.FETCHING,children:[(0,r.jsx)("div",{style:{backgroundColor:L},className:ri().headerBanner}),(0,r.jsxs)("div",{
className:ri().page,children:[(0,r.jsxs)("div",{className:ri().header,children:[(0,r.jsxs)("div",{className:ri().headerSidebar,children:[(0,r.jsx)("img",{className:ri().headerIcon,alt:"","aria-hidden":!0,src:x,width:Ei,height:Ei}),(0,r.jsx)(yn,{application:R,mutualGuilds:j,mutualGuildShownMax:3,compact:!0})]}),(0,r.jsxs)("div",{className:ri().headerContent,children:[(0,r.jsxs)("div",{className:ri().headerNameAndButtons,children:[(0,r.jsxs)("div",{className:ri().headerNameAndIcon,children:[(0,r.jsx)(l.Heading,{className:ri().name,variant:"heading-xxl/semibold",children:R.name}),ne&&(0,r.jsx)(l.Tooltip,{tooltipClassName:ri().premiumIconTooltip,text:Q.Z.Messages.APPLICATION_DIRECTORY_PROFILE_TOOLTIP_PREMIUM,children:function(e){return(0,r.jsx)("img",ui(ci({},e),{alt:Q.Z.Messages.APPLICATION_DIRECTORY_PROFILE_TOOLTIP_PREMIUM,className:ri().premiumIcon,src:n(823660)}))}}),re&&(0,r.jsx)(Wt,{className:ri().partnerBadge})]}),(0,r.jsxs)("div",{className:ze()(ri().buttons),children:[(0,
r.jsx)(l.Button,{onClick:te,color:l.Button.Colors.PRIMARY,children:J?Q.Z.Messages.INTEGRATIONS_WEBHOOK_COPIED_URL:Q.Z.Messages.APP_DIRECTORY_PROFILE_SHARE_BUTTON}),(0,r.jsx)(l.Button,{color:l.Button.Colors.BRAND,onClick:function(){G("product_page")},disabled:!U,children:Q.Z.Messages.APP_DIRECTORY_PROFILE_ADD_BUTTON}),(0,r.jsx)(l.Popout,{renderPopout:function(e){var t=e.closePopout;return X(t)},position:"left",align:"top",animation:l.Popout.Animation.NONE,children:function(e){return(0,r.jsx)(l.Clickable,ui(ci({className:ri().overflow},e),{children:(0,r.jsx)(Ur.Z,{width:20,height:20,className:ri().iconInteractive})}))}})]})]}),(0,r.jsx)(ei,{activeSection:T,setSection:H,shownSections:me})]})]}),(0,r.jsxs)("div",{className:ri().contentContainer,children:[(0,r.jsxs)("div",{className:ri().content,children:[ye,null!=g&&g.length>0?(0,r.jsxs)(r.Fragment,{children:[fe&&(0,r.jsx)("div",{className:ri().separator}),(0,r.jsxs)("div",{className:ri().section,children:[(0,r.jsx)(l.Heading,{
className:ri().relatedHeader,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_RELATED_APPS_HEADING}),(0,r.jsx)(Ut,{loading:h,children:(0,r.jsx)(qr,{applications:g,onViewOne:W})})]})]}):null]}),(0,r.jsx)(Qo,{className:ri().sidebar,application:R,guildId:f,onViewCategory:Y,onClickGuildWidget:K})]})]})]});return(0,r.jsx)(gt,{children:z})}function mi(e){switch(e.type){case Sr.ee.MEDIA_PROXY:var t,n=null!==(t=e.proxy_url)&&void 0!==t?t:e.url;return{type:w.s9s.IMG,width:0,height:0,src:n};case Sr.ee.YOUTUBE:var r=function(e){if(null==e)return null;var t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#&?]*).*/);return null!=t?t[1]:null}(e.url);if(null!=r)return{type:w.s9s.YOUTUBE_VIDEO,youtubeVideoId:r}}console.warn("Unsupported carousel item",e);return null}var _i,gi,bi=function(e){var t,n=e.onToggle;t=e.isViewAll?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:ri().showMoreButtonText,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_SHOW_LESS
}),(0,r.jsx)(Zr.Z,{className:ri().showMoreButtonIcon})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:ri().showMoreButtonText,variant:"eyebrow",children:Q.Z.Messages.APP_DIRECTORY_PROFILE_SHOW_MORE}),(0,r.jsx)(Dr.Z,{className:ri().showMoreButtonIcon})]});return(0,r.jsx)(vi,{children:(0,r.jsx)(l.Button,{look:l.Button.Looks.BLANK,color:l.Button.Colors.TRANSPARENT,size:l.Button.Sizes.NONE,className:ri().showMoreButton,innerClassName:ri().showMoreButtonInner,onClick:n,children:t})})},vi=function(e){var t=e.className,n=e.contentClassName,o=e.children;return(0,r.jsxs)("div",{className:ze()([ri().dividerContainer,t]),children:[(0,r.jsx)("div",{className:ri().divider}),null!=o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ze()(ri().contentDivider,n),children:o}),(0,r.jsx)("div",{className:ri().divider})]}):null]})},Oi=n(229392),Ii=n.n(Oi),Si=n(457217);!function(e){e[e.APPLICATION=1]="APPLICATION";e[e.ACTIVITY_APPLICATION=2]="ACTIVITY_APPLICATION"
;e[e.CONNECTION=3]="CONNECTION"}(_i||(_i={}));!function(e){e[e.SEARCH_RESULTS=1]="SEARCH_RESULTS";e[e.MUSIC=2]="MUSIC"}(gi||(gi={}));var Ti=n(106200),Ni=n(807219),Ci=n(243763),Ai=n(325198),Pi=n(618769),Ri=n.n(Pi);function ji(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ji(e,t,n[t])}))}return e}function wi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xi(e){var t,n,i,a=e.application,s=e.className,c=e.childrenClassName,u=e.showAdd,f=e.showMutualGuilds,d=e.showPrimaryCategory,p=e.children,h=e.onView,E=e.guildCountPosition,y=void 0===E?"top":E,m=e.subheaderTextVariant,_=void 0===m?"text-sm/normal":m,g=e.mutualGuildShownMax,b=e.guildIconSize,v=e.source,O=(0,Si.JA)(a.id),I=rn.ZP.getApplicationIconURL({id:a.id,icon:a.icon,size:48}),S=Yr(a),T=S.canInstall,N=S.install,C=Tn({application:a,showMutualGuilds:f}),A=o.useCallback((function(e){e.stopPropagation();N(v)}),[N,v]),P=null===(t=a.categories)||void 0===t?void 0:t[0],R=(null!==(i=null===(n=a.directory_entry)||void 0===n?void 0:n.guild_count)&&void 0!==i?i:0)>0||C.length>0,j=(0,r.jsx)(yn,{application:a,textVariant:_,mutualGuilds:C,mutualGuildShownMax:g,guildIconSize:b,compact:!0
}),M=d&&null!=P,w=R&&"top"===y,x=R&&"bottom"===y,L=null!=a.primary_sku&&(0,Ci.KK)(a.primary_sku.flags),D=(0,r.jsxs)("article",{children:[(0,r.jsxs)("div",{className:Ri().topWrapper,children:[(0,r.jsx)("img",{className:Ri().icon,alt:"","aria-hidden":!0,src:I,width:48,height:48}),(0,r.jsxs)("div",{className:Ri().info,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/medium",children:a.name}),(M||w)&&(0,r.jsxs)("div",{className:Ri().details,children:[M?(0,r.jsx)(l.Text,{tag:"span",color:"header-secondary",variant:_,children:P.name}):null,w?(0,r.jsxs)(r.Fragment,{children:[M?(0,r.jsx)("span",{className:Ri().bullet,children:""}):null,j,L?(0,r.jsxs)("div",{className:Ri().premiumContainer,children:[(0,r.jsx)("span",{className:Ri().bullet,children:""}),(0,r.jsx)(Ai.Z,{width:16,height:16}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",className:Ri().premiumText,children:Q.Z.Messages.APPLICATION_DIRECTORY_LISTING_TOOLTIP_PREMIUM})]}):null]}):null]})]}),u?(0,r.jsx)(l.Button,{
size:l.Button.Sizes.SMALL,onClick:A,disabled:!T,children:Q.Z.Messages.APP_DIRECTORY_LISTING_ADD_BUTTON}):null]}),null!=p||null!=c?(0,r.jsx)("div",{className:ze()(c,Ri().children),children:p}):null,x?(0,r.jsx)("div",{className:Ri().bottomGuildCountContainer,children:j}):null]});return null!=h?(0,r.jsx)(l.Clickable,wi(Mi({tag:"li",onClick:function(){return h({mutualGuilds:C})},className:ze()(s,Ri().listing,Ri().clickable)},O),{children:D})):(0,r.jsx)(l.FocusRing,{children:(0,r.jsx)("li",wi(Mi({className:ze()(s,Ri().listing)},O),{children:D}))})}function Li(e){var t,n,o=e.category,i=e.className,a=e.onViewAll;if(null==o||(0,vt.m0)(o)){t=Q.Z.Messages.APP_DIRECTORY_EMPTY_SEARCH_HEADING;n=Q.Z.Messages.APP_DIRECTORY_EMPTY_SEARCH_SUBHEADING}else{t=Q.Z.Messages.APP_DIRECTORY_EMPTY_CATEGORY_SEARCH_HEADING.format({categoryName:o.name});n=Q.Z.Messages.APP_DIRECTORY_EMPTY_CATEGORY_SEARCH_SUBHEADING.format({viewAllHook:function(e,t){return(0,r.jsx)(l.Anchor,{onClick:a,children:e},t)}})}return(0,
r.jsx)(wt,{className:i,heading:t,body:n})}var Di=n(422028),Zi=n.n(Di);function Ui(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,r.jsxs)("div",{className:Zi().container,children:[(0,r.jsxs)("div",{className:Zi().content,children:[(0,r.jsx)(l.Text,{variant:"text-sm/semibold",className:Zi().title,children:Q.Z.Messages.APP_DIRECTORY_MUSIC_BANNER_TITLE}),(0,r.jsx)(l.Heading,{variant:"heading-xxl/medium",children:Q.Z.Messages.APP_DIRECTORY_MUSIC_BANNER_HEADER}),(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.APP_DIRECTORY_MUSIC_BANNER_CONTENT})]}),(0,r.jsx)("div",{className:Zi().imageContainer,children:(0,r.jsx)("img",{className:Zi().image,src:n(442907),alt:""})})]})}var Gi=n(890377),ki=n.n(Gi);function Bi(e){var t=e.guildId;return(0,r.jsxs)("div",{className:ki().container,children:[(0,r.jsx)("img",{className:ki().image,src:n(967305),alt:""}),(0,r.jsxs)("div",{className:ki().content,children:[(0,r.jsx)(l.Heading,{
variant:"heading-md/extrabold",children:Q.Z.Messages.APP_DIRECTORY_MUSIC_FOOTER_HEADER}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",children:Q.Z.Messages.APP_DIRECTORY_MUSIC_FOOTER_CONTENT})]}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,onClick:function(){Oe.default.track(w.rMx.APP_DIRECTORY_CTA_CLICKED,{cta:"submit_music_app",current_page:lt.eN.SEARCH,guild_id:t});(0,tt.Z)("https://dis.gd/music-search-page-inclusion")},color:l.Button.Colors.TRANSPARENT,className:ki().button,children:Q.Z.Messages.APP_DIRECTORY_MUSIC_FOOTER_CTA})]})}var Hi=n(281385),Vi=n.n(Hi);function Fi(e){var t=e.imageSrc,n=e.header,o=e.description,i=e.secondaryInfo,a=e.mutualGuildCount,s=e.ctaLabel,c=e.onCtaClick,u=e.children,f=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Vi().topWrapper,children:[(0,r.jsx)("div",{className:Vi().imageContainer,children:(0,r.jsx)("img",{alt:"",className:Vi().image,src:t})}),(0,r.jsxs)("div",{className:Vi().content,children:[(0,r.jsxs)("div",{className:Vi().header,
children:[(0,r.jsxs)("div",{className:Vi().info,children:[(0,r.jsx)(l.Heading,{className:Vi().name,variant:"heading-md/semibold",children:n}),null!=a?a:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Vi().details,children:[(0,r.jsx)(l.Text,{tag:"span",color:"header-secondary",variant:"text-sm/medium",children:Q.Z.Messages.APP_DIRECTORY_MUSIC_CATEGORY}),null!=i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{tag:"span",color:"interactive-muted",variant:"text-sm/normal",className:Vi().bullet,children:""}),(0,r.jsx)(l.Text,{tag:"span",color:"header-secondary",variant:"text-sm/medium",children:i})]}):null]})})]}),null!=c&&null!=s?(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,onClick:c,className:Vi().button,children:s}):null]}),null!=o?(0,r.jsx)(l.Text,{className:Vi().listingDescription,variant:"text-md/normal",children:o}):null,(0,r.jsx)("div",{className:Vi().children,children:u})]})]})});return(0,r.jsx)(l.FocusRing,{children:(0,r.jsx)("div",{className:Vi().listing,
children:f})})}var Yi=n(770515),zi=n.n(Yi),Wi=new Map([["890343617762304070",{imageSrc:n(412384)}]]),Ki=new Map,qi=new Map([[w.ABu.SPOTIFY,{imageSrc:n(881874)}]]);function Xi(e){var t,n=e.result,o=n.data,i=Tn({application:o}),a=Wi.get(n.data.id);if(null==a)return null;var s,l=i.length>0?(0,r.jsx)(yn,{application:n.data,textVariant:"text-sm/semibold",mutualGuilds:i,mutualGuildShownMax:3,guildIconSize:tn.SMALL,compact:!0}):null,c=null!==(s=null===(t=o.directory_entry)||void 0===t?void 0:t.guild_count)&&void 0!==s?s:0,u=c>0?Q.Z.Messages.APP_DIRECTORY_SHORT_GUILD_COUNT.format({guildCount:c}):void 0;return(0,r.jsx)(Fi,{imageSrc:a.imageSrc,header:n.data.name,description:n.data.description,secondaryInfo:u,ctaLabel:Q.Z.Messages.APPLICATION_ADD_TO_SERVER,mutualGuildCount:l,onCtaClick:function(){return(0,ct.goToApplication)({applicationId:o.id})}})}function Qi(e){var t=e.result,n=Ki.get(t.data.id);return null==n?null:(0,r.jsx)(Fi,{imageSrc:n.imageSrc,header:t.data.name,
description:t.data.description,secondaryInfo:Q.Z.Messages.APP_DIRECTORY_ACTIVITY_LABEL})}function $i(e){var t,n,o,i=e.result,a=e.guildId,s=qi.get(i.data.name);if(null==s)return null;if(i.data.name===w.ABu.SPOTIFY){t=Q.Z.Messages.APP_DIRECTORY_SPOTIFY_TITLE;n=Q.Z.Messages.APP_DIRECTORY_SPOTIFY_DESCRIPTION.format();o=function(){Oe.default.track(w.rMx.APP_DIRECTORY_CTA_CLICKED,{current_page:lt.eN.SEARCH,cta:"spotify",guild_id:a});(0,tt.Z)("https://support.discord.com/hc/en-us/articles/360000167212-Discord-Spotify-Connection")}}return null==t||null==n||null==o?null:(0,r.jsx)(Fi,{imageSrc:s.imageSrc,header:t,description:n,ctaLabel:Q.Z.Messages.LEARN_MORE,onCtaClick:o,secondaryInfo:Q.Z.Messages.APP_DIRECTORY_CONNECTION_LABEL})}function Ji(e){var t=e.results,n=e.guildId;return(0,r.jsxs)("div",{className:zi().container,children:[(0,r.jsx)(Ui,{}),(0,r.jsx)("div",{className:zi().list,children:t.map((function(e,t){var o="".concat(t).concat(e.type);return e.type===_i.APPLICATION?(0,r.jsx)(Xi,{
result:e},o):e.type===_i.ACTIVITY_APPLICATION?(0,r.jsx)(Qi,{result:e},o):e.type===_i.CONNECTION?(0,r.jsx)($i,{guildId:n,result:e},o):void 0}))}),(0,r.jsx)(Bi,{guildId:n})]})}var ea=n(114741),ta=n.n(ea);function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ra(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(e){
var t=e.currentCategoryId,n=e.className,i=e.countsByCategory,a=e.onView,s=(0,lt.g8)((function(e){return e.guildId})),c=(0,Ve.ZP)([Fe.Z],(function(){return Fe.Z.getCategories()})),u=o.useMemo((function(){return[(0,vt.KQ)()].concat(ra(c))}),[c]),f=(0,lt.Xh)();return(0,r.jsx)(l.TabBar,{className:ze()(ta().container,n),selectedItem:t,type:"top-pill",onItemSelect:function(e){if(e!==t){var n=u.find((function(t){return t.id===e}));Oe.default.track(w.rMx.APP_DIRECTORY_CATEGORY_CLICKED,{category:n.name,category_id:n.id,current_page:null==f?void 0:f.type,guild_id:s});a(n)}},orientation:"vertical",children:u.map((function(e){var n,o=e.id,a=e.name,s=(0,vt.tu)(e),c=ze()(ta().category,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},ta().activeCategory,t===o));return(0,r.jsxs)(l.TabBar.Item,{id:o,className:c,"aria-label":a,disableItemStyles:!0,children:[(0,r.jsx)(s,{className:ta().icon,width:"24",height:"24"}),(0,
r.jsx)(l.Text,{variant:"text-md/normal",children:a}),null!=i?(0,r.jsx)(l.Text,{className:ta().count,variant:"text-md/normal",color:"text-muted",children:null!==(n=null==i?void 0:i[o])&&void 0!==n?n:0}):null]},o)}))})}var ia=n(451943),aa=n.n(ia),sa=n(67976),la=n.n(sa);function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ua(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ua(e,t,n[t])}))}return e}function da(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ca(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Ii().shim();function Ea(){var e,t=(0,lt.g8)((function(e){return e.guildId})),n=(0,Ve.ZP)([Fe.Z],(function(){return Fe.Z.getCategories()})),i=(0,a.TH)(),s=o.useMemo((function(){var e=new URLSearchParams(i.search);return{queryParam:e.get("q"),pageParam:e.get("page"),categoryIdParam:e.get("category_id")}
}),[]),l=s.queryParam,c=s.pageParam,u=s.categoryIdParam,f=ha(o.useState(null!=c?Number(c):1),2),d=f[0],p=f[1],h=ha(o.useState(null!=l?l:""),2),E=h[0],y=h[1],m=ha(o.useState(null!==(e=Number(u))&&void 0!==e?e:vt.MU),2),_=m[0],g=m[1],b=o.useMemo((function(){return null==n?void 0:n.find((function(e){return e.id===_}))}),[n,_]),v=o.useCallback((function(e){g(e.id);p(1)}),[]),O=o.useCallback((function(e){y(e);p(1);0===e.length&&g(vt.MU)}),[]),I=o.useCallback((function(e){var t=e.query,n=e.categoryId,r=e.page,o=new URLSearchParams(i.search);""===t?o.delete("q"):o.set("q",t);if(n===vt.MU)o.delete("category_id");else{var a;o.set("category_id",null!==(a=null==n?void 0:n.toString())&&void 0!==a?a:"")}if(1===r)o.delete("page");else{var s;o.set("page",null!==(s=null==r?void 0:r.toString())&&void 0!==s?s:"")}(0,ct.replaceAppDirectoryURLWith)("".concat(w.Z5c.APPLICATION_DIRECTORY_SEARCH,"?").concat(o.toString()))}),[i.search]),S=o.useMemo((function(){return Ke().debounce(I,400)}),[I])
;o.useEffect((function(){S({query:E,categoryId:_,page:d})}),[S,E,_,d]);var T=(0,Ve.ZP)([Ni.Z],(function(){return Ni.Z.getFetchState({query:E,guildId:t,page:d,categoryId:_})})),N=o.useRef({query:"",guildId:void 0,page:void 0,categoryId:void 0}),C=(0,Ve.cj)([Ni.Z],(function(){var e=Ni.Z.getSearchResults({query:E,guildId:t});return null!=e?fa(ua({},vt.MU,e.totalCount),e.countsByCategory):{}})),A=(0,Ve.cj)([Ni.Z],(function(){var e,n,r={query:E,guildId:t,page:d,categoryId:_},o=Ni.Z.getSearchResults(r);null==o?o=Ni.Z.getSearchResults(N.current):N.current=r;return{pageResults:null==o?void 0:o.results,pageCount:null!==(e=null==o?void 0:o.totalPages)&&void 0!==e?e:0,searchResultsType:null!==(n=null==o?void 0:o.type)&&void 0!==n?n:gi.SEARCH_RESULTS,loadId:null==o?void 0:o.loadId}})),P=A.pageResults,R=A.pageCount,j=A.searchResultsType,M=A.loadId,x=o.useMemo((function(){return null==P?void 0:P.filter((function(e){return!(j===gi.SEARCH_RESULTS&&e.type!==_i.APPLICATION)}))
}),[P,j]),L=o.useRef(null),D=(0,lt.Xh)(),Z=o.useCallback((function(e){Oe.default.track(w.rMx.APP_DIRECTORY_SEARCHED,{search_term:E,num_results:e,current_page:null==D?void 0:D.type,result_page:d,category:null==b?void 0:b.name,category_id:null==b?void 0:b.id,guild_id:t})}),[null==b?void 0:b.id,null==b?void 0:b.name,d,t,E,D]),U=o.useCallback((function(e){var t=e.query,n=e.page,r=e.activeCategoryId,o=e.onSuccessCallback,i=e.guildId;e.fetchCounts&&ot.yC({query:t,guildId:i});ot.yC({query:t,guildId:i,options:{page:n,categoryId:r},onSuccessCallback:o});L.current=t}),[]),G=ha(o.useState((function(){return Ke().debounce(U,400,{leading:!1,trailing:!0})})),1)[0],k=o.useCallback((function(e){p(e)}),[p]),B=o.useCallback((function(e){var n=e.application,r=e.mutualGuilds;Oe.default.track(w.rMx.APP_DIRECTORY_SEARCH_RESULT_CLICKED,{current_page:lt.eN.SEARCH,application_id:n.id,load_id:M,search_term:E,guild_id:t,shown_mutual_guilds_count:r.length});(0,ct.goToApplication)({applicationId:n.id})}),[M,E,t])
;o.useEffect((function(){U({query:E,page:d,activeCategoryId:_,guildId:t,fetchCounts:E!==L.current,onSuccessCallback:Z})}),[U,b,t,d]);o.useEffect((function(){G({query:E,page:d,activeCategoryId:_,guildId:t,fetchCounts:E!==L.current,onSuccessCallback:Z})}),[E,G]);var H,V=o.useMemo((function(){return Object.keys(C).length>0}),[C]);null!=x&&0===R||T===Ni.M.ERROR?H=(0,r.jsx)(Li,{category:b,onViewAll:function(){p(1);g(vt.MU)}}):null!=x&&x.length>0&&j===gi.SEARCH_RESULTS?H=(0,r.jsx)(ya,{items:x,pageCount:R,currentPage:d,showPrimaryCategory:_===vt.MU,onItemClick:B,onChangePage:k}):null!=x&&x.length>0&&j===gi.MUSIC&&(H=(0,r.jsx)(Ji,{guildId:t,results:x}));return(0,r.jsx)(gt,{children:(0,r.jsxs)("div",{className:aa().page,children:[(0,r.jsxs)("div",{className:aa().sidebar,children:[(0,r.jsx)("img",{src:la(),alt:"",className:aa().sidebarImage}),(0,r.jsx)(oa,{className:aa().categoryList,countsByCategory:V?C:void 0,currentCategoryId:_,onView:v})]}),(0,r.jsxs)("div",{className:aa().content,
children:[(0,r.jsx)(er,{query:E,onChange:O}),(0,r.jsx)(Ut,{loading:T===Ni.M.FETCHING,children:(0,r.jsx)("div",{className:aa().contentContainer,children:H})})]})]})})}function ya(e){var t=e.items,n=e.currentPage,i=e.pageCount,a=e.showPrimaryCategory,s=e.onItemClick,c=e.onChangePage,u=(0,Ti.Z)("application-directory-search");return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Si.bG,{navigator:u,children:(0,r.jsx)(Si.SJ,{children:function(e){var n=e.ref,o=pa(e,["ref"]);return(0,r.jsx)("ul",da(fa({ref:n},o),{children:t.map((function(e){if(e.type===_i.APPLICATION){var t,n,o=e.data;null!=(null===(t=o.directory_entry)||void 0===t?void 0:t.short_description)&&o.directory_entry.short_description.length>0?n=o.directory_entry.short_description:null!=o.description&&o.description.length>0&&(n=o.description);return(0,r.jsx)(xi,{className:aa().listing,childrenClassName:aa().listingDetails,application:o,onView:function(e){var t=e.mutualGuilds;return s({application:o,mutualGuilds:t})},showMutualGuilds:!0,
showPrimaryCategory:a,source:"search",children:null!=n?(0,r.jsx)(l.Text,{className:aa().listingDescription,variant:"text-md/normal",lineClamp:3,children:n}):null},o.id)}}))}))}})}),(0,r.jsx)(l.Paginator,{currentPage:n,totalCount:Math.min(7*i,700),pageSize:7,onPageChange:c,disablePaginationGap:!0})]})}var ma=n(61200),_a=n(656645),ga=n(604945),ba=n(671723),va=n(36256);function Oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ia(e){Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ia(e)}function Sa(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e,t){Ta=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ta(e,t)}var Na=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ca(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ia(e);if(t){var o=Ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sa(this,n)}}var Aa=new Set,Pa=new Set,Ra=null;function ja(){var e=!0,t=!1,n=void 0;try{for(var r,o=Aa[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;_a.Z.setDisableLocalVideo(i,!1,va.Yn.DEFAULT,!1)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}Pa.clear();Aa.clear()}var Ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ta(e,t)}(n,e);var t=Ca(n);function n(){
Oa(this,n);var e;(e=t.apply(this,arguments)).handleWindowFocus=function(e){e.focused&&ja()};e.handleVoiceChannelSelect=function(e){var t=e.channelId;if(t!==Ra){ja();Ra=t}};e.handlePopoutChange=function(){I.Z.getWindowFocused(w.KJ3.CHANNEL_CALL_POPOUT)&&ja()};return e}var r=n.prototype;r._initialize=function(){b.Z.subscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);b.Z.subscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);b.Z.subscribe("WINDOW_FOCUS",this.handleWindowFocus);b.Z.subscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);I.Z.addChangeListener(this.handlePopoutChange)};r._terminate=function(){b.Z.unsubscribe("RTC_CONNECTION_VIDEO",this.handleIncomingVideo);b.Z.unsubscribe("AUDIO_SET_LOCAL_VIDEO_DISABLED",this.handleManualLocalVideoToggle);b.Z.unsubscribe("WINDOW_FOCUS",this.handleWindowFocus);b.Z.unsubscribe("VOICE_CHANNEL_SELECT",this.handleVoiceChannelSelect);I.Z.removeChangeListener(this.handlePopoutChange);ja();Ra=null}
;r.handleIncomingVideo=function(e){var t=e.userId,n=e.context,r=e.streamId;if(n===va.Yn.DEFAULT&&null!=r){var o=null!=ba.ZP.getCurrentGame(),i=xr.Z.isFocused(),a=I.Z.getWindowFocused(w.KJ3.CHANNEL_CALL_POPOUT),s=ga.Z.isLocalVideoDisabled(t,n),l=Pa.has(t);if(o&&!i&&!a&&!s&&!l){Aa.add(t);_a.Z.setDisableLocalVideo(t,!0,n,!1)}}};r.handleManualLocalVideoToggle=function(e){var t=e.userId;if(e.persist){Pa.add(t);Aa.delete(t)}};r.__getLocalVars=function(){return{tempVideoMutes:Aa,manualOverrides:Pa,currentVoiceChannelId:Ra}};return n}(O.Z);const wa=new Ma;var xa=n(121534),La=n(64234),Da=n(968449),Za=n(473419),Ua=n(72725),Ga=n(413804);function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e){Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ba(e)}function Ha(e,t){return!t||"object"!==Fa(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e,t){Va=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Va(e,t)}var Fa=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ba(e);if(t){var o=Ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ha(this,n)}}var za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Va(e,t)}(n,e);var t=Ya(n)
;function n(){ka(this,n);var e;(e=t.apply(this,arguments))._updateBackgroundGradientPresetId=function(t){if(e._currentBackgroundGradientPresetId!==t)if(null!=t){(0,Ua.zO)(t);e._currentBackgroundGradientPresetId=t}else{(0,Ua.xs)();e._currentBackgroundGradientPresetId=void 0}};e._updateBackgroundGradientAngle=function(t){if(e._currentBackgroundGradientAngle!==t)if(null!=t){(0,Ua.X9)(t);e._currentBackgroundGradientPresetId=t}else{(0,Ua.Bf)();e._currentBackgroundGradientAngle=void 0}};e._updateClientTheme=function(){var t,n,r;if(xa.Z.shouldSync("appearance")){var o=Da.L1.getSetting();n=o.backgroundGradientPresetId;r=o.backgroundGradientAngle}else{var i,a,s,l;n=null===(i=xa.Z.getAppearanceSettings())||void 0===i||null===(a=i.clientThemeSettings)||void 0===a?void 0:a.backgroundGradientPresetId;r=null===(s=xa.Z.getAppearanceSettings())||void 0===s||null===(l=s.clientThemeSettings)||void 0===l?void 0:l.backgroundGradientAngle}
if(null==n||(null===(t=Ga.qt[n])||void 0===t?void 0:t.theme)===La.Z.theme){e._updateBackgroundGradientPresetId(n);e._updateBackgroundGradientAngle(r)}else e._resetClientTheme()};return e}var r=n.prototype;r._initialize=function(){Za.Z.addChangeListener(this._updateClientTheme);La.Z.addChangeListener(this._updateClientTheme)};r._terminate=function(){Za.Z.removeChangeListener(this._updateClientTheme);La.Z.removeChangeListener(this._updateClientTheme)};r._resetClientTheme=function(){(0,Ua.xs)();(0,Ua.Bf)();this._currentBackgroundGradientPresetId=void 0;this._currentBackgroundGradientAngle=void 0};r.__getLocalVars=function(){return{}};return n}(O.Z);const Wa=new za;function Ka(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ka(i,r,o,a,s,"next",e)}function s(e){Ka(i,r,o,a,s,"throw",e)}a(void 0)}))}}
function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $a(e){$a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $a(e)}function Ja(e,t){return!t||"object"!==ts(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function es(e,t){es=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return es(e,t)}var ts=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=$a(e);if(t){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ja(this,n)}}var rs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},os="CONNECTIONS_GRID_MODAL_KEY",is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&es(e,t)}(o,e);var t=ns(o);function o(){Xa(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){b.Z.subscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);b.Z.subscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i._terminate=function(){b.Z.unsubscribe("CONNECTIONS_GRID_MODAL_SHOW",this.handleShow);b.Z.unsubscribe("CONNECTIONS_GRID_MODAL_HIDE",this.handleHide)};i.handleShow=function(e){
var t=e.onComplete,o=e.excludedPlatformTypes,i=e.includedDisabledPlatformTypes,a=e.integrations,s=e.onCompleteApplication;(0,l.hasModalOpen)(os)||(0,l.openModalLazy)(qa((function(){var e,l;return rs(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(53172)]).then(n.bind(n,53172))];case 1:e=c.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qa(e,t,n[t])}))}return e}({onComplete:t,excludedPlatformTypes:o,includedDisabledPlatformTypes:i,integrations:a,onCompleteApplication:s},e))}]}}))})))};i.handleHide=function(){(0,l.closeModal)(os)};i.__getLocalVars=function(){return{CONNECTIONS_GRID_MODAL_KEY:os}};return o}(O.Z);const as=new is
;var ss=n(454011),ls=n(120415),cs=n(43564);function us(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function fs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){us(i,r,o,a,s,"next",e)}function s(e){us(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e){ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ps(e)}function hs(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Es(e,t){Es=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Es(e,t)}var ys=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ms(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ps(e);if(t){var o=ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}var _s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:
a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Es(e,t)}(n,e);var t=ms(n);function n(){ds(this,n);var e;(e=t.apply(this,arguments)).maybeFetchEligiblity=fs((function(){var e,t,n;return _s(this,(function(r){switch(r.label){case 0:if(!(0,ls.nI)()&&!(0,ls.$L)())return[3,2];e=Object.values(In.Z.getGuilds())
;t=Y.default.getCurrentUser();return(n=e.filter((function(e){return e.isOwner(t)&&!e.hasFeature(w.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&!e.hasFeature(w.oNc.CREATOR_MONETIZABLE_RESTRICTED)&&!e.hasFeature(w.oNc.CREATOR_MONETIZABLE_DISABLED)&&(e.hasFeature(w.oNc.CREATOR_MONETIZABLE)||e.hasFeature(w.oNc.CREATOR_MONETIZABLE_PROVISIONAL))}))).length>0?[4,(0,cs.av)(n.map((function(e){return e.id})))]:[3,2];case 1:r.sent();r.label=2;case 2:return[2]}}))}));return e}var r=n.prototype;r._initialize=function(){b.Z.subscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r._terminate=function(){b.Z.unsubscribe("CONNECTION_OPEN",this.maybeFetchEligiblity)};r.__getLocalVars=function(){return{}};return n}(O.Z);const bs=new gs;var vs=n(188344);const Os=function(){b.Z.subscribe("CONNECTION_OPEN",(function(){(0,vs.mc)()}));b.Z.subscribe("LOGOUT",(function(){(0,vs.mc)()}))};var Is=n(963985);function Ss(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function Ts(e){Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ts(e)}function Ns(e,t){return!t||"object"!==As(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cs(e,t){Cs=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Cs(e,t)}var As=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ts(e);if(t){var o=Ts(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Rs(e){var t=e.channel.id;(0,Is.oC)(t)}
var js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Cs(e,t)}(n,e);var t=Ps(n);function n(){Ss(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){b.Z.subscribe("CHANNEL_DELETE",Rs)};r._terminate=function(){b.Z.unsubscribe("CHANNEL_DELETE",Rs)};r.__getLocalVars=function(){return{}};return n}(O.Z);const Ms=new js;var ws=n(418705),xs=n(351330),Ls=n(27851),Ds=n(682776),Zs=n(854602),Us=n(458947);function Gs(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ks(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gs(i,r,o,a,s,"next",e)}function s(e){Gs(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Bs(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hs(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vs(e){Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Vs(e)}function Fs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ys(e,t){return!t||"object"!==Ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e,t){
zs=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return zs(e,t)}var Ws=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Vs(e);if(t){var o=Vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ys(this,n)}}var qs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xs=function(e){var t,n=In.Z.getGuild(e),r=Boolean(null==n?void 0:n.hasFeature(w.oNc.COMMUNITY)),o=Ds.Z.can(w.Plq.MANAGE_CHANNELS,n),i=(0,xs.un)(ws.z$.FORUM_CHANNEL_UPSELL_MODAL),a=null!==(t=Ls.Z.getMemberCount(e))&&void 0!==t?t:0;return r&&o&&!i&&a>=200},Qs=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&zs(e,t)}(o,e);var t=Ks(o);function o(){Bs(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){b.Z.subscribe("CHANNEL_SELECT",this.handleChannelSelect)};i._terminate=function(){b.Z.unsubscribe("CHANNEL_SELECT",this.handleChannelSelect)};i.handleChannelSelect=function(e){var t=e.guildId;if(null!=t){if(Xs(t)){(0,Zs.qz)();(0,xs.kk)(ws.z$.FORUM_CHANNEL_UPSELL_MODAL);(0,l.openModalLazy)(ks((function(){var e,o;return qs(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(74562)]).then(n.bind(n,274562))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Fs(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hs(e,t,n[t])}))}return e}({},e),{onClose:function(t){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us.L.DISMISS;(0,xs.EW)(ws.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:e})}(t);e.onClose()},guildId:t,shouldUpsellCreation:!0}))}]}}))})),{onCloseCallback:function(){return(0,xs.EW)(ws.z$.FORUM_CHANNEL_UPSELL_MODAL,{dismissAction:Us.L.DISMISS})},onCloseRequest:w.VqG})}}};i.__getLocalVars=function(){return{MINIMUM_MEMBER_COUNT_FOR_UPSELL:200,isEligibleForForumChannelUpsell:Xs}};return o}(O.Z);const $s=new Qs;var Js=n(875700),el=n(296602),tl=n(959207),nl={};function rl(e){var t=e.name,n=e.hash,r=e.missingData;tl.Z.markGameReported(t);var o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if("icon"===c){var u=nl[t]
;null!=u&&Js.Z.uploadIcon(t,n,u);return}new el.Z("GameStoreIconManager").log("Could not find missing data key: ".concat(c))}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}function ol(e){var t=e.gameName,n=e.icon;nl[t]=n}const il=function(){b.Z.subscribe("UNVERIFIED_GAME_UPDATE",rl);b.Z.subscribe("GAME_ICON_UPDATE",ol)};var al=n(314620),sl=n(761814);function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cl(e){cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cl(e)}function ul(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fl(e,t){fl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fl(e,t)}var dl=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cl(e);if(t){var o=cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ul(this,n)}}var hl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fl(e,t)}(n,e);var t=pl(n);function n(){ll(this,n);var e;(e=t.apply(this,arguments)).handleConnectionOpen=function(){sl.Z.fetched||(0,al.b8)();Js.Z.getDetectableGames()};return e}var r=n.prototype;r._initialize=function(){
b.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r._terminate=function(){b.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen)};r.__getLocalVars=function(){return{}};return n}(O.Z);const El=new hl;var yl=n(964283),ml=n(944751);function _l(e){!function(e){var t=ml.Z.launchableGames[e],n=tl.Z.getGame(e);(null!=n?yl.Z.isLaunchable(n):yl.Z.isGameLaunchable(e)).then((function(n){n!==t&&b.Z.dispatch({type:"GAME_LAUNCHABLE_UPDATE",gameId:e,isLaunchable:n})}))}(e.gameId)}const gl=function(){b.Z.subscribe("CHECK_LAUNCHABLE_GAME",_l)};var bl=n(325213);const vl=function(){sl.Z.whenInitialized((function(){null!=bl.Z.testModeApplicationId&&(0,p.Wt)(bl.Z.testModeApplicationId,bl.Z.testModeOriginURL)}))};var Ol=n(951442),Il=n(499542);function Sl(){if((0,Il.Q)()){var e=ut.default.getToken(),t=ut.default.getId();if(null==e)throw new Error("missing user token");Ol.S1(e,t)}}function Tl(){Ol.ob()}const Nl=function(){b.Z.subscribe("CONNECTION_OPEN",Sl);b.Z.subscribe("LOGOUT",Tl)}
;var Cl=n(652555),Al=n(585548),Pl=n(44700),Rl=n(426307);function jl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ml(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jl(i,r,o,a,s,"next",e)}function s(e){jl(i,r,o,a,s,"throw",e)}a(void 0)}))}}var wl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function xl(){xl=Ml((function(e){var t,r,o,i;return wl(this,(function(a){switch(a.label){case 0:t=e.code;return[4,(0,Rl.Z)(t)];case 1:r=a.sent();return null==(o=r.invite)||null==o.guild?[2]:[4,Ll()];case 2:a.sent();return null==In.Z.getGuild(o.guild.id)?[2]:[4,Promise.resolve().then(n.bind(n,788533))];case 3:i=a.sent();return[4,(0,i.default)({guildId:o.guild.id})];case 4:a.sent();po.Z.transitionToInvite(o);return[2]}}))}));return xl.apply(this,arguments)}function Ll(){return new Promise((function(e){In.Z.addConditionalChangeListener((function(){
if(In.Z.isLoaded()){e();return!1}return!0}))}))}var Dl=n(382840),Zl=n(703790),Ul=n(41788);function Gl(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function kl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gl(i,r,o,a,s,"next",e)}function s(e){Gl(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Bl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Hl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Vl(e){(0,l.openModalLazy)(kl((function(){var t,o;return Hl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(41098)]).then(n.bind(n,741098))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bl(e,t,n[t])}))}return e}({},t,e))}]}}))})),{modalKey:"Guild Settings Picker Modal"})}var Fl=n(115617),Yl=n(630670);const zl=function(){b.Z.subscribe("VOICE_CHANNEL_SELECT",(function(e){null==e.channelId&&Fl.Kw(Yl.v.VOICE_PANEL_INTRODUCTION)}))};var Wl=n(356639),Kl=n(993754),ql=n(481008),Xl=n(929370),Ql=n(228667),$l=n(754693),Jl=n(306263),ec=n(177570),tc=n(375759),nc=n(924066),rc=n(866926),oc=n(944514);var ic=n(182306),ac=n(607313),sc=n(793461),lc=n(304275),cc=n(674482),uc=n(962392);function fc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pc(e){pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return pc(e)}function hc(e,t){return!t||"object"!==mc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ec(e,t){Ec=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ec(e,t)}var yc,mc=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pc(e);if(t){var o=pc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hc(this,n)}}function gc(){var e=A.Z.getVoiceChannelId(),t=S.Z.getChannel(e);return(0,ic.Z)(t)}
var bc=(dc(yc={},w.kg4.TOGGLE_PRIORITY_SPEAKER,{onTrigger:function(){},keyEvents:{}}),dc(yc,w.kg4.UNASSIGNED,{onTrigger:function(){},keyEvents:{}}),dc(yc,w.kg4.PUSH_TO_TALK,{onTrigger:function(e,t){if(ga.Z.getMode(t)===w.pM4.PUSH_TO_TALK){bc[w.kg4.PUSH_TO_TALK].isPressed=e;ga.Z.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!1)}),t)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),dc(yc,w.kg4.PUSH_TO_TALK_PRIORITY,{onTrigger:function(e){if(ga.Z.getMode()===w.pM4.PUSH_TO_TALK){bc[w.kg4.PUSH_TO_TALK_PRIORITY].isPressed=e;ga.Z.getMediaEngine().eachConnection((function(t){return t.setForceAudioInput(e,!0)}),va.Yn.DEFAULT)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),dc(yc,w.kg4.PUSH_TO_MUTE,{onTrigger:function(e){if(ga.Z.getMode()===w.pM4.VOICE_ACTIVITY&&!ga.Z.isSelfDeaf()){bc[w.kg4.PUSH_TO_MUTE].isPressed=e;_a.Z.setTemporarySelfMute(e)}},keyEvents:{keyup:!0,keydown:!0},isPressed:!1}),dc(yc,w.kg4.TOGGLE_MUTE,{onTrigger:function(){return _a.Z.toggleSelfMute()
},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_DEAFEN,{onTrigger:function(){_a.Z.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_VOICE_MODE,{onTrigger:function(){var e=ga.Z.getMode()===w.pM4.PUSH_TO_TALK?w.pM4.VOICE_ACTIVITY:w.pM4.PUSH_TO_TALK;_a.Z.setMode(e)},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_OVERLAY,{onTrigger:function(){var e=lc.Z.enabled;Kl.Z.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_OVERLAY_INPUT_LOCK,{onTrigger:function(e){var t=(0,uc.Z)();null!=t&&(e?Kl.Z.setUILocked(!cc.Z.isUILocked(t),t):Kl.Z.setInputLocked(!lc.Z.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}}),dc(yc,w.kg4.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,{onTrigger:function(){var e=lc.Z.getFocusedPID();null!=e&&(null!=e||!1)&&cc.Z.isPinned(w.Odu.TEXT)&&lc.Z.isReady(e)&&lc.Z.isInputLocked(e)&&Kl.Z.activateRegion(w.O0n.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_GO_LIVE_STREAMING,{onTrigger:function(){
var e=ec.Z.getCurrentUserActiveStream();if(null!=e)return(0,ql.g)((0,Jl.V9)(e));!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(0,rc.Z)(ga.Z))return!1;if(null!=ec.Z.getCurrentUserActiveStream())return!1;var t=(0,oc.Z)(ba.ZP,tc.Z);if(null==t)return!1;if(t.isLauncher&&!e)return!1;var n=A.Z.getVoiceChannelId(),r=S.Z.getChannel(n);if(null==r)return!1;var o=r.getGuildId();if(!(0,nc.JL)(r,In.Z,Ds.Z,!1))return!1;(0,ql.WH)(o,r.id,{pid:t.pid})}()},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.TOGGLE_STREAMER_MODE,{onTrigger:function(){Xl.Z.setEnabled(!sc.Z.enabled)},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.NAVIGATE_BACK,{onTrigger:function(){return(0,K.op)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),dc(yc,w.kg4.NAVIGATE_FORWARD,{onTrigger:function(){return(0,K.eH)()},keyEvents:{keyup:!0,keydown:!1,focused:!0,blurred:!1}}),dc(yc,w.kg4.SOUNDBOARD,{onTrigger:function(){if(gc()){var e=(0,uc.Z)();null!=e&&(cc.Z.isUILocked(e)?(0,ac.IN)(!0,e):(0,
ac.oZ)(e))}},keyEvents:{keyup:!0,keydown:!1}}),dc(yc,w.kg4.SOUNDBOARD_HOLD,{onTrigger:function(e){if(gc()){var t=(0,uc.Z)();null==t||(e?(0,ac.IN)(!1,t):(0,ac.oZ)(t))}},keyEvents:{keyup:!0,keydown:!0}}),dc(yc,w.kg4.SAVE_CLIP,{onTrigger:function(){Ql.N.getCurrentConfig({},{autoTrackExposure:!1}).enableClips&&(0,$l.C1)()},keyEvents:{keyup:!1,keydown:!0}}),yc),vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ec(e,t)}(n,e);var t=_c(n);function n(){fc(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){b.Z.wait((function(){return b.Z.dispatch({type:"KEYBINDS_REGISTER_GLOBAL_KEYBIND_ACTIONS",keybinds:bc})}))};r._terminate=function(){};r.__getLocalVars=function(){return{KEYBINDS:bc}};return n}(O.Z);const Oc=new vc;var Ic=n(668403);const Sc=function(){b.Z.dispatch({
type:"MOBILE_WEB_SIDEBAR_CLOSE"})},Tc=function(){b.Z.dispatch({type:"MOBILE_WEB_SIDEBAR_OPEN"})};function Nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cc(e){Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Cc(e)}function Ac(e,t){return!t||"object"!==Rc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pc(e,t){Pc=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Pc(e,t)}var Rc=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=Cc(e);if(t){var o=Cc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ac(this,n)}}var Mc=!1;var wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Pc(e,t)}(n,e);var t=jc(n);function n(){Nc(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getIsOpen=function(){return!Qe.tq||Mc};r.__getLocalVars=function(){return{isSidebarOpen:Mc}};return n}(s.ZP.Store);wc.displayName="MobileWebSidebarStore";const xc=new wc(b.Z,{MOBILE_WEB_SIDEBAR_OPEN:function(){Mc=!0},MOBILE_WEB_SIDEBAR_CLOSE:function(){Mc=!1}});var Lc=n(226613),Dc=n(102921),Zc=new Date("06/16/2020");var Uc=n(852626),Gc=n(276985),kc=n(415879),Bc=n(135750),Hc=n(102909),Vc=n(837067),Fc=n(88415),Yc=n(239527),zc=n(936323),Wc=n(199790),Kc=n(571680);function qc(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xc(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Qc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xc(i,r,o,a,s,"next",e)}function s(e){Xc(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eu(e){eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return eu(e)}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Jc(e,t,n[t])}))}return e}function nu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ru(e,t){return!t||"object"!==au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e,t){ou=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ou(e,t)}function iu(e){return function(e){if(Array.isArray(e))return qc(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var au=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=eu(e);if(t){
var o=eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ru(this,n)}}var lu,cu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function uu(){null!=lu&&(0,l.closeModal)(lu)}var fu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ou(e,t)}(o,e);var t=su(o);function o(){$c(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){b.Z.subscribe("CONNECTION_OPEN",this.handleConnectionOpen);b.Z.subscribe("LOGOUT",uu)};i._terminate=function(){b.Z.unsubscribe("CONNECTION_OPEN",this.handleConnectionOpen);b.Z.unsubscribe("LOGOUT",uu)};i.handleConnectionOpen=function(){var e=Fc.Z.getType();if(null!=e){switch(e){case Yc.M5.INVITE_UNCLAIMED:kc.Z.flowStart(Kc.MK.INVITE,Kc.EW.NUF_STARTED);break;case Yc.M5.ORGANIC_REGISTERED:
kc.Z.flowStart(Kc.MK.ORGANIC,Kc.EW.NUF_STARTED);break;case Yc.M5.MARKETING_UNCLAIMED:kc.Z.flowStart(Kc.MK.ORGANIC_MARKETING,Kc.EW.NUF_STARTED)}var t=!1,o=P.Z.getGuildId();if(e===Yc.M5.INVITE_UNCLAIMED){var i=In.Z.getGuild(o);if(null==i?void 0:i.hasVerificationGate()){t=!0;(0,Bc.RM)(i.id)}}var a,s=function(){return 0===Vc.Z.totalGuilds&&!ls.FB},c=null!=(a=Y.default.getCurrentUser())&&Dc.Z.extractTimestamp(a.id)>Zc.getTime()&&!a.isClaimed()&&null==a.nsfwAllowed;!function(e){var t=function(){Lc.H();kc.Z.flowStep(Kc.MK.ANY,Kc.EW.NUF_COMPLETE,!0)};iu(e).reverse().forEach((function(e){var n=t;t=function(){e.predicate()?e.open(n):n()}}));t()}([{key:"Unified NUF Modal",open:function(e){return u.apply(this,arguments)},predicate:function(){return s()&&!Wc.a}},{key:"New User Age Gate",open:Uc.i,predicate:function(){return c&&!s()&&!Wc.a}},{key:"Claim Account Modal",open:function(e){return Uc.j(ls.FB,e)},predicate:function(){var e
;return!t&&null!=Y.default.getCurrentUser()&&!(null===(e=Y.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!Wc.a}},{key:"Verification Gate with Claim Account",open:function(e){return(0,Gc.hk)(o,null!=e?e:void 0)},predicate:function(){var e;return t&&!(null===(e=Y.default.getCurrentUser())||void 0===e?void 0:e.isClaimed())&&!Wc.a}},{key:"Guild Welcome Modal",open:function(e){return(0,l.openModalLazy)(Qc((function(){var e,t;return cu(this,(function(i){switch(i.label){case 0:return[4,n.e(5496).then(n.bind(n,705496))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,nu(tu({},e),{guildId:o}))}]}}))})),{onCloseCallback:e})},predicate:function(){return null!=o&&null!=Hc.Z.get(o)&&Hc.Z.get(o)!==Hc.a}}])}function u(){u=Qc((function(e){var t;return cu(this,(function(o){switch(o.label){case 0:t=function(e){switch(e){case zc.F.AGE_GATE:kc.Z.flowStep(Kc.MK.ANY,Kc.EW.AGE_GATE);break;case zc.F.CHOOSE_TEMPLATE:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.GUILD_TEMPLATES);break
;case zc.F.CUSTOMIZE_GUILD:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.GUILD_CREATE);break;case zc.F.CHANNEL_PROMPT:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.CHANNEL_PROMPT);break;case zc.F.JOIN_GUILD:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.JOIN_GUILD);break;case zc.F.CREATION_INTENT:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.CREATION_INTENT);break;case zc.F.COMPLETE:kc.Z.flowStep(Kc.MK.ANY,Kc.X2.SUCCESS);break;case null:break;default:kr.vE(e)}};return[4,(0,l.openModalLazy)(Qc((function(){var e,o;return cu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(95599),n.e(20995),n.e(12671)]).then(n.bind(n,412671))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,nu(tu({},e),{onSlideChange:t}))}]}}))})),{onCloseRequest:w.dG4,onCloseCallback:e,modalKey:lu})];case 1:lu=o.sent();return[2]}}))}));return u.apply(this,arguments)}};i.__getLocalVars=function(){return{nufModalKey:lu}};return o}(O.Z);const du=new fu;var pu=n(998330),hu=n(896971),Eu=n(494425),yu=n(785085),mu=n(44616);function _u(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gu(e){gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return gu(e)}function bu(e,t){return!t||"object"!==Ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e,t){vu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vu(e,t)}var Ou=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gu(e);if(t){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return bu(this,n)}}var Su=new Set,Tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vu(e,t)}(n,e);var t=Iu(n);function n(){_u(this,n);var e;(e=t.apply(this,arguments)).handleSettingsUpdate=function(e){var t=e.settings;t.enabled?(0,pu.T)(Eu.hn.ENABLE_POGGERMODE):!1===t.enabled&&(0,pu.T)(Eu.hn.DISABLE_POGGERMODE);Object.keys(t).some((function(e){return e.startsWith("confetti")}))&&(0,pu.T)(Eu.hn.CUSTOMIZE_CONFETTI)};e.handleMessageCreate=function(e){var t=e.channelId,n=e.message,r=n.author,o=n.nonce,i=n.mentions;if(!yu.Z.isEnabled())return!1;var a,s=ut.default.getId();null!=(null==i?void 0:i.find((function(e){return e.id===s})))?(0,pu.T)(Eu.hn.PING_ME):(null!==(a=null==i?void 0:i.length)&&void 0!==a?a:0)>0&&(null==r?void 0:r.id)===s&&(0,pu.T)(Eu.hn.PING_SOMEONE);if(!(0,
mu.wU)(r.id,s,o,Su))return!1;var l=mu.ZP.getMostRecentMessageCombo(t),c=(null!=l?l:{}).combo;if(null==c)return!1;Object.values(Eu.hn).forEach((function(e){var t=e;if(null==hu.Z.getUnlocked(t)){var n=(0,Eu.oX)(t),r=null==n?void 0:n.checkUnlock;null!=r&&!1!==r(c)&&(0,pu.T)(t)}}))};return e}var r=n.prototype;r._initialize=function(){b.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);b.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r._terminate=function(){b.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);b.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.handleSettingsUpdate)};r.__getLocalVars=function(){return{trackedMessageNonces:Su}};return n}(O.Z);const Nu=new Tu;var Cu=n(530991);function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ru(e){
Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ru(e)}function ju(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Mu(e,t){return!t||"object"!==xu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wu(e,t){wu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wu(e,t)}var xu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Lu(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ru(e);if(t){var o=Ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mu(this,n)}}var Du=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&wu(e,t)}(n,e);var t=Lu(n);function n(){Au(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){b.Z.subscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)};o._terminate=function(){b.Z.unsubscribe("POGGERMODE_TEMPORARILY_DISABLED",this.handlePoggermodeTemporarilyDisabled)}
;o.handlePoggermodeTemporarilyDisabled=function(){(0,l.openModal)((function(e){return(0,r.jsx)(l.ConfirmModal,ju(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pu(e,t,n[t])}))}return e}({},e),{header:Q.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_TITLE,confirmText:Q.Z.Messages.CONFIRM,confirmButtonColor:l.Button.Colors.GREEN,children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.POGGERMODE_TEMPORARILY_DISABLED_TOAST_BODY})}))}))};o.__getLocalVars=function(){return{}};return n}(O.Z);const Zu=new Du;var Uu=n(91174),Gu=n(15338);n(201126);function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bu(e){Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Bu(e)}function Hu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vu(e,t){Vu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vu(e,t)}var Fu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Yu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Bu(e);if(t){var o=Bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hu(this,n)}}var zu=(0,Uu.Un)({createPromise:function(){return n.e(41446).then(n.bind(n,884626))},webpackId:884626,
name:"PopoutWindowChannelCall"}),Wu=(0,Uu.Un)({createPromise:function(){return n.e(38634).then(n.bind(n,37093))},webpackId:37093,name:"PopoutWindowStageChannelCall"}),Ku=(0,Uu.Un)({createPromise:function(){return n.e(41446).then(n.bind(n,344533))},webpackId:344533,name:"PopoutWindowRTCDebug"}),qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vu(e,t)}(n,e);var t=Yu(n);function n(){ku(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){b.Z.subscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);b.Z.subscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)};o._terminate=function(){b.Z.unsubscribe("CHANNEL_CALL_POPOUT_WINDOW_OPEN",this.handleOpenChannelCallPopout);b.Z.unsubscribe("RTC_DEBUG_POPOUT_WINDOW_OPEN",this.handleOpenRTCDebugPopout)}
;o.handleOpenChannelCallPopout=function(e){var t=e.channel;Gu.bA(w.KJ3.CHANNEL_CALL_POPOUT,(function(e){return t.isGuildStageVoice()?(0,r.jsx)(Wu,{windowKey:e,channel:t}):(0,r.jsx)(zu,{windowKey:e,channel:t})}),{defaultWidth:854,defaultHeight:480})};o.handleOpenRTCDebugPopout=function(){Gu.bA(w.KJ3.RTC_DEBUG_POPOUT,(function(e){return(0,r.jsx)(Ku,{windowKey:e})}),{defaultWidth:854,defaultHeight:480})};o.__getLocalVars=function(){return{DEFAULT_POPOUT_WIDTH:854,DEFAULT_POPOUT_HEIGHT:480,PopoutWindowChannelCall:zu,PopoutWindowStageChannelCall:Wu,PopoutWindowRTCDebug:Ku}};return n}(O.Z);const Xu=new qu;var Qu=n(853158),$u=n(397713);function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ef(e){ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ef(e)}function tf(e,t){return!t||"object"!==rf(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nf(e,t){nf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nf(e,t)}var rf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ef(e);if(t){var o=ef(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tf(this,n)}}var af=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nf(e,t)}(n,e);var t=of(n)
;function n(){Ju(this,n);var e;(e=t.apply(this,arguments)).handleMainWindowFocus=function(t){t.focused&&e.injectWindowAnimationFrame(window)};e.handlePopoutWindowChange=function(){var t=I.Z.getWindowKeys().find((function(e){return I.Z.getWindowFocused(e)}));if(null==t)return e.injectWindowAnimationFrame(window);var n=I.Z.getWindow(t);if(null==n||n.closed)return e.injectWindowAnimationFrame(window);e.injectWindowAnimationFrame(n)};return e}var r=n.prototype;r._initialize=function(){I.Z.addChangeListener(this.handlePopoutWindowChange);b.Z.subscribe("WINDOW_FOCUS",this.handleMainWindowFocus)};r._terminate=function(){I.Z.removeChangeListener(this.handlePopoutWindowChange);b.Z.unsubscribe("WINDOW_FOCUS",this.handleMainWindowFocus);this.injectWindowAnimationFrame(window)};r.injectWindowAnimationFrame=function(e){var t=function(t){return e.requestAnimationFrame(t)},n=function(t){return e.cancelAnimationFrame(t)};Qu.Z.inject.RequestAnimationFrame(t);Qu.Z.inject.CancelAnimationFrame(n)
;$u.f.setRAF(t,n)};r.__getLocalVars=function(){return{}};return n}(O.Z);const sf=new af;var lf=n(432065),cf=n(113469),uf=n(636786),ff=n(266997);function df(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function hf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pf(i,r,o,a,s,"next",e)}function s(e){pf(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yf(e){yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return yf(e)}function mf(e,t){return!t||"object"!==gf(t)&&"function"!=typeof t?df(e):t}function _f(e,t){_f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _f(e,t)}var gf=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=yf(e);if(t){var o=yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mf(this,n)}}var vf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_f(e,t)}(o,e);var t=bf(o);function o(){Ef(this,o);var e,i=df(e=t.apply(this,arguments));e.mayShowAnnouncementModal=hf((function(){var e;return vf(this,(function(t){
switch(t.label){case 0:return cf.s.isDisallowPopupsSet()?[2]:(0,ff.Ss)()?[4,i._hasTrialOffer()]:[3,2];case 1:e=t.sent();(0,l.openModalLazy)(hf((function(){var t,o;return vf(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(78951)]).then(n.bind(n,178951))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,{hasTrialOffer:e,renderModalProps:t})}]}}))})));t.label=2;case 2:return[2]}}))}));e._hasTrialOffer=hf((function(){return vf(this,(function(e){switch(e.label){case 0:e.trys.push([0,3,,4]);return lf.Z.shouldFetchOffer()?[4,uf.Z.fetchUserTrialOffer()]:[3,2];case 1:e.sent();e.label=2;case 2:return lf.Z.hasFetchedOffer()&&lf.Z.hasAnyUnexpiredOffer()?[2,!0]:[2,!1];case 3:e.sent();return[2,!1];case 4:return[2]}}))}));return e}var i=o.prototype;i._initialize=function(){b.Z.subscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)};i._terminate=function(){b.Z.unsubscribe("CONNECTION_OPEN",this.mayShowAnnouncementModal)}
;i.__getLocalVars=function(){return{}};return o}(O.Z);const If=new Of;var Sf=n(567834),Tf=n(579194),Nf=n(482139),Cf=n(341133),Af=n(850841),Pf=n(921431);function Rf(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function jf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rf(i,r,o,a,s,"next",e)}function s(e){Rf(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Mf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wf(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xf(e){xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xf(e)}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wf(e,t,n[t])}))}return e}function Df(e,t){return!t||"object"!==Uf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zf(e,t){Zf=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zf(e,t)}var Uf=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xf(e);if(t){var o=xf(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Df(this,n)}}var kf=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zf(e,t)}(o,e);var t=Gf(o);function o(){Mf(this,o);return t.apply(this,arguments)}var i=o.prototype;i._initialize=function(){b.Z.subscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i._terminate=function(){b.Z.unsubscribe("PROFILE_CUSTOMIZATION_OPEN_PREVIEW_MODAL",this.maybeOpenProfilePreviewModal)};i.maybeOpenProfilePreviewModal=function(e){var t=e.imageSrc,o=e.file,i=e.uploadType,a=e.guildId,s=e.isTryItOutFlow,c=null!=a?Nf.I5:Tf.I5,u=null!=a?Nf.g_:Cf.g_,f=Y.default.getCurrentUser();if(i===Pf.pC.AVATAR){if(s){(0,Cf.c_)(t);return}if(Af.ZP.canUseAnimatedAvatar(f)||"image/gif"!==o.type){c(t);return}(0,
l.openModalLazy)(jf((function(){var e,o;return kf(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(95081)]).then(n.bind(n,195081))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Lf({avatarSrc:t,onSubscribe:function(){return c(t)}},e))}]}}))})))}else if(i===Pf.pC.BANNER){if(s){(0,Cf.f4)(t);return}if(Af.ZP.canUsePremiumProfileCustomization(f)){u(t);return}(0,l.openModalLazy)(jf((function(){var e,o;return kf(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(95081)]).then(n.bind(n,195081))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Lf({bannerSrc:t,onSubscribe:function(){return u(t)}},e))}]}}))})))}};i.__getLocalVars=function(){return{}};return o}(O.Z);const Hf=new Bf;var Vf,Ff,Yf=n(894772),zf=n(159578),Wf=n(530537);!function(e){e[e.UNHANDLED=-1]="UNHANDLED";e[e.NOMINAL=0]="NOMINAL";e[e.FAIR=1]="FAIR";e[e.SERIOUS=2]="SERIOUS";e[e.CRITICAL=3]="CRITICAL"}(Vf||(Vf={}));!function(e){
e[e.NONE=0]="NONE";e[e.LIGHT=1]="LIGHT";e[e.MODERATE=2]="MODERATE";e[e.SEVERE=3]="SEVERE";e[e.CRITICAL=4]="CRITICAL";e[e.EMERGENCY=5]="EMERGENCY";e[e.SHUTDOWN=6]="SHUTDOWN"}(Ff||(Ff={}));function Kf(e){if((0,ls.gn)())return e;if(!(0,ls.Dt)())return Vf.UNHANDLED;switch(e){case Ff.NONE:return Vf.NOMINAL;case Ff.LIGHT:case Ff.MODERATE:return Vf.FAIR;case Ff.SEVERE:return Vf.SERIOUS;case Ff.CRITICAL:case Ff.EMERGENCY:case Ff.SHUTDOWN:return Vf.CRITICAL;default:return Vf.UNHANDLED}}var qf=n(21372),Xf=n(870614),Qf=n(3862),$f=n(491260),Jf=n(840922),ed=n(239734),td=n(239886),nd=n(425636),rd=n(88067);function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function id(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return od(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return od(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ad=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.rpcServer=t.server;this.transports=t.transports;this.rpcCommandHandlers=t.commands;this.rpcEventHandlers=t.events;this.stores=t.stores;this.registerTransportsForEmbeddedPlatform=t.registerTransportsForEmbeddedPlatform}var t=e.prototype;t.loadServer=function(){
ls.FB&&this.registerTransportsForEmbeddedPlatform();var e=!0,t=!1,n=void 0;try{for(var r,o=this.transports[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.rpcServer.registerTransport(i)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var a=this.rpcCommandHandlers,s=!0,l=!1,c=void 0;try{for(var u,f=Object.entries(a)[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var d=id(u.value,2),p=d[0],h=d[1];this.rpcServer.setCommandHandler(p,h)}}catch(e){l=!0;c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}var E=this.rpcEventHandlers,y=!0,m=!1,_=void 0;try{for(var g,b=Object.entries(E)[Symbol.iterator]();!(y=(g=b.next()).done);y=!0){var v=id(g.value,2),O=v[0],I=v[1];this.rpcServer.setEventHandler(O,I)}}catch(e){m=!0;_=e}finally{try{y||null==b.return||b.return()}finally{if(m)throw _}}};t.init=function(){var e=this;this.rpcServer.getCurrentUser=function(){return Y.default.getCurrentUser()};this.rpcServer.onConnect=function(e){
b.Z.dispatch({type:"RPC_APP_CONNECTED",socketId:e.id,application:e.application});Oe.default.track(w.rMx.AUTHORIZED_APP_CONNECTED,{app_id:e.application.id,transport:e.transport})};this.rpcServer.onDisconnect=function(e,t){b.Z.dispatch({type:"RPC_APP_DISCONNECTED",socketId:e.id,application:e.application,reason:t})};var t=[S.Z,qf.ZP,$f.Z,R.Z,ga.Z,C.Z];new s.Fh(t.concat(this.stores),(function(){return e.rpcServer.updateSubscriptions()})).attach("RPCServerManager");b.Z.subscribe("MESSAGE_CREATE",(function(t){return e.handleMessage(t)}));b.Z.subscribe("MESSAGE_UPDATE",(function(t){return e.handleMessage(t)}));b.Z.subscribe("MESSAGE_DELETE",(function(t){return e.handleMessage(t)}));b.Z.subscribe("SPEAKING",(function(t){return e.handleSpeaking(t)}));b.Z.subscribe("OAUTH2_TOKEN_REVOKE",(function(t){return e.handleOAuth2TokenRevoke(t)}));b.Z.subscribe("GUILD_CREATE",(function(t){return e.handleGuildCreate(t)}));b.Z.subscribe("CHANNEL_CREATE",(function(t){return e.handleChannelCreate(t)}))
;b.Z.subscribe("LOGOUT",(function(){return e.handleLogout()}));b.Z.subscribe("VOICE_CHANNEL_SELECT",(function(t){return e.handleVoiceChannelSelect(t)}));b.Z.subscribe("RPC_NOTIFICATION_CREATE",(function(t){return e.handleNotificationCreate(t)}));b.Z.subscribe("ACTIVITY_JOIN",(function(t){return e.handleActivityJoin(t)}));b.Z.subscribe("ACTIVITY_LAYOUT_MODE_UPDATE",(function(t){return e.handleActivityLayoutModeUpdate(t)}));b.Z.subscribe("THERMAL_STATE_CHANGE",(function(t){return e.handleThermalStateChange(t)}));b.Z.subscribe("ACTIVITY_SCREEN_ORIENTATION_UPDATE",(function(t){return e.handleScreenOrientationUpdate(t)}));b.Z.subscribe("RELATIONSHIP_ADD",(function(t){return e.handleRelationshipAdd(t)}));b.Z.subscribe("RELATIONSHIP_REMOVE",(function(t){return e.handleRelationshipRemove(t)}));b.Z.subscribe("PRESENCE_UPDATES",(function(t){return e.handlePresenceUpdate(t)}));b.Z.subscribe("PRESENCES_REPLACE",(function(){return e.handlePresencesReplace()}))
;b.Z.subscribe("LOBBY_UPDATE",(function(t){return e.handleLobbyUpdate(t)}));b.Z.subscribe("LOBBY_DELETE",(function(t){return e.handleLobbyDelete(t)}));b.Z.subscribe("LOBBY_MEMBER_CONNECT",(function(t){return e.handleLobbyMemberConnect(t)}));b.Z.subscribe("LOBBY_MEMBER_UPDATE",(function(t){return e.handleLobbyMemberUpdate(t)}));b.Z.subscribe("LOBBY_MEMBER_DISCONNECT",(function(t){return e.handleLobbyMemberDisconnect(t)}));b.Z.subscribe("LOBBY_MESSAGE",(function(t){return e.handleLobbyMessage(t)}));b.Z.subscribe("ENTITLEMENT_CREATE",(function(t){return e.handleEntitlementCreate(t)}));b.Z.subscribe("ENTITLEMENT_DELETE",(function(t){return e.handleEntitlementDelete(t)}));b.Z.subscribe("USER_ACHIEVEMENT_UPDATE",(function(t){return e.handleUserAchievementUpdate(t)}))};t.handleMessage=function(e){if(0!==this.rpcServer.subscriptions.length){"MESSAGE_CREATE"===e.type&&this.handleActivityMessage(e);var t,n,r,o=null;switch(e.type){case"MESSAGE_CREATE":if("SENDING"===e.message.state)return
;t=w.zMe.MESSAGE_CREATE;n=e.channelId;r=e.message;o="".concat(t).concat(e.message.id);break;case"MESSAGE_UPDATE":t=w.zMe.MESSAGE_UPDATE;n=e.message.channel_id;r=e.message;break;case"MESSAGE_DELETE":t=w.zMe.MESSAGE_DELETE;n=e.channelId;r={id:e.id};o="".concat(t).concat(e.id);break;default:return(0,kr.vE)(e)}null!=n&&this.rpcServer.dispatchToSubscriptions(t,{channel_id:n},{channel_id:n,message:(0,td.Xb)(r)},o)}};t.handleSpeaking=function(e){var t=this;if(0!==this.rpcServer.subscriptions.length){var n=0!==e.speakingFlags?w.zMe.SPEAKING_START:w.zMe.SPEAKING_STOP;if(e.context===va.Yn.DEFAULT){var r=A.Z.getVoiceChannelId();if(null!=r){var o=S.Z.getChannel(r);if(null==o)return;var i=R.Z.getVoiceState(o.getGuildId(),e.userId);if(null==i)return;this.rpcServer.dispatchToSubscriptions(n,{channel_id:i.channelId},{channel_id:i.channelId,user_id:e.userId})}}else Qf.Z.getLobbyIdsForUser(e.userId).forEach((function(r){var o=Xf.Z.getLobby(r)
;null!=o&&o.application_id===e.context&&t.rpcServer.dispatchToSubscriptions(n,{},{lobby_id:r,user_id:e.userId})}))}};t.handleVoiceChannelSelect=function(e){var t=e.guildId,n=e.channelId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.VOICE_CHANNEL_SELECT,{},{channel_id:n,guild_id:t})};t.handleNotificationCreate=function(e){var t=e.channelId,n=e.message,r=e.icon,o=e.title,i=e.body;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.NOTIFICATION_CREATE,{},{channel_id:t,message:(0,td.Xb)(n),icon_url:null!=r?(0,td.RE)(r):null,title:o,body:i})};t.handleActivityJoin=function(e){var t=e.applicationId,n=e.secret,r=e.intent,o=e.embedded;if(0!==this.rpcServer.subscriptions.length){var i={secret:n};o&&(i.intent=r);this.rpcServer.dispatchToSubscriptions(w.zMe.ACTIVITY_JOIN,(function(e){return e.socket.application.id===t}),i);this.rpcServer.dispatchToSubscriptions(w.zMe.GAME_JOIN,(function(e){return e.socket.application.id===t
}),i)}};t.handleActivityLayoutModeUpdate=function(e){var t=e.applicationId,n=e.layoutMode;if(0!==this.rpcServer.subscriptions.length){var r={is_pip_mode:n!==rd.cE.FOCUSED};this.rpcServer.dispatchToSubscriptions(w.zMe.ACTIVITY_PIP_MODE_UPDATE,(function(e){return e.socket.application.id===t}),r);var o={layout_mode:n};this.rpcServer.dispatchToSubscriptions(w.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,(function(e){return e.socket.application.id===t}),o)}};t.handleThermalStateChange=function(e){var t=e.applicationId,n=e.rawThermalState;if(0!==this.rpcServer.subscriptions.length&&null!=t){var r={thermal_state:Kf(n)};this.rpcServer.dispatchToSubscriptions(w.zMe.THERMAL_STATE_UPDATE,(function(e){return e.socket.application.id===t}),r)}};t.handleScreenOrientationUpdate=function(e){var t=e.screenOrientation;if(0!==this.rpcServer.subscriptions.length){var n={screen_orientation:t,orientation:t===rd.W0.PORTRAIT?"portrait":"landscape"};this.rpcServer.dispatchToSubscriptions(w.zMe.ORIENTATION_UPDATE,{},n)}}
;t.handleActivityMessage=function(e){var t=e.channelId,n=e.message;if(0!==this.rpcServer.subscriptions.length){var r=n.application,o=n.activity;if(null!=r&&null!=o&&null!=o.party_id){var i=Y.default.getUser(n.author.id);if(null!=i){var a=Y.default.getCurrentUser();if(null!=a&&i.id!==a.id){var s=o.type===w.mFx.JOIN_REQUEST?$f.Z.getApplicationActivity(a.id,r.id):$f.Z.getApplicationActivity(i.id,r.id);if(null!=s&&null!=s.party&&s.party.id===o.party_id){var l=s.application_id;switch(o.type){case w.mFx.JOIN:this.rpcServer.dispatchToSubscriptions(w.zMe.ACTIVITY_INVITE,(function(e){return e.socket.application.id===l}),{user:(0,nd.Z)(i),activity:s,type:o.type,channel_id:t,message_id:n.id});break;case w.mFx.JOIN_REQUEST:this.rpcServer.dispatchToSubscriptions(w.zMe.ACTIVITY_JOIN_REQUEST,(function(e){return e.socket.application.id===l}),{user:(0,nd.Z)(i)})}}}}}}};t.handleOAuth2TokenRevoke=function(e){var t=e.accessToken;this.rpcServer.sockets.forEach((function(e){
e.authorization.accessToken===t&&e.close(w.$VG.TOKEN_REVOKED,"Token revoked")}))};t.handleGuildCreate=function(e){var t=e.guild.id,n=In.Z.getGuild(t);0!==this.rpcServer.subscriptions.length&&null!=n&&this.rpcServer.dispatchToSubscriptions(w.zMe.GUILD_CREATE,{},{id:t,name:n.name})};t.handleChannelCreate=function(e){var t=e.channel,n=t.id,r=t.name,o=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.CHANNEL_CREATE,{},{id:n,name:r,type:o})};t.handleLogout=function(){this.rpcServer.sockets.forEach((function(e){return e.close(w.$VG.CLOSE_NORMAL,"User logout")}))};t.handleRelationshipAdd=function(e){var t=e.relationship,n=t.id,r=t.type;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.RELATIONSHIP_UPDATE,{},(0,td.cD)(r,n))};t.handleRelationshipRemove=function(e){var t=e.relationship.id;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.RELATIONSHIP_UPDATE,{},(0,
td.cD)(w.OGo.NONE,t))};t.handlePresenceUpdate=function(e){var t=e.updates,n=this;0!==this.rpcServer.subscriptions.length&&t.forEach((function(e){var t=e.guildId,r=e.user.id;if(null==t){var o=Jf.Z.getRelationshipType(r);o===w.OGo.NONE&&ed.Z.getUserAffinitiesUserIds().has(r)&&(o=w.OGo.IMPLICIT);o!==w.OGo.NONE&&n.rpcServer.dispatchToSubscriptions(w.zMe.RELATIONSHIP_UPDATE,{},(0,td.cD)(o,r))}}))};t.handlePresencesReplace=function(){var e=this;0!==this.rpcServer.subscriptions.length&&Ke().forEach(Jf.Z.getRelationships(),(function(t,n){e.rpcServer.dispatchToSubscriptions(w.zMe.RELATIONSHIP_UPDATE,{},(0,td.cD)(t,n))}))};t.handleLobbyUpdate=function(e){var t=e.lobby;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_UPDATE,{},t)};t.handleLobbyDelete=function(e){var t=e.lobbyId;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_DELETE,{},{id:t})};t.handleLobbyMemberConnect=function(e){var t=e.lobbyId,n=e.member
;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_MEMBER_CONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMemberUpdate=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_MEMBER_UPDATE,{},{lobby_id:t,member:n})};t.handleLobbyMemberDisconnect=function(e){var t=e.lobbyId,n=e.member;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_MEMBER_DISCONNECT,{},{lobby_id:t,member:n})};t.handleLobbyMessage=function(e){var t=e.lobbyId,n=e.senderId,r=e.data;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.LOBBY_MESSAGE,{},{lobby_id:t,sender_id:n,data:r})};t.handleEntitlementCreate=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.ENTITLEMENT_CREATE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})}
;t.handleEntitlementDelete=function(e){var t=e.entitlement;0!==this.rpcServer.subscriptions.length&&this.rpcServer.dispatchToSubscriptions(w.zMe.ENTITLEMENT_DELETE,(function(e){return e.socket.application.id===t.application_id}),{entitlement:t})};t.handleUserAchievementUpdate=function(e){var t=e.userAchievement;if(0!==this.rpcServer.subscriptions.length){var n=t.application_id;this.rpcServer.dispatchToSubscriptions(w.zMe.USER_ACHIEVEMENT_UPDATE,(function(e){return e.socket.application.id===n}),{user_achievement:t})}};return e}(),sd=n(310126),ld=n(281110);const cd=function(e,t,n){var r=ut.default.getId();return ld.Z.put({url:w.ANM.USER_ACHIEVEMENTS_FOR_USER(r,e,t),body:{percent_complete:n},oldFormErrors:!0})},ud=function(e){return ld.Z.get({url:w.ANM.USER_ACHIEVEMENTS(e),retries:1,oldFormErrors:!0}).then((function(e){return e.body}))};var fd,dd=n(860872);function pd(e){return e.object().unknown(!0)}function hd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}const Ed=(hd(fd={},w.Etm.SET_USER_ACHIEVEMENT,{scope:hd({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),validation:function(e){return pd(e).required().keys({achievement_id:e.string().min(2).max(128),percent_complete:e.number().min(0).max(100).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.achievement_id,o=n.percent_complete,i=t.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return cd(i,r,o).catch((function(e){var t=e.status,n=e.body;switch(t){case 429:throw new dd.Z(w.lTL.RATE_LIMITED,"You are being rate limited.");case 403:throw null!=n&&n.code===w.evJ.USER_NOT_AUTHORIZED_FOR_APPLICATION?new dd.Z(w.lTL.UNAUTHORIZED_FOR_ACHIEVEMENT,"Not authorized to update this achievement."):new dd.Z(w.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."));default:throw new dd.Z(w.lTL.UNKNOWN_ERROR,"Unknown error from API. status=".concat(t,"."))}})).then((function(){return null}))}}),
hd(fd,w.Etm.GET_USER_ACHIEVEMENTS,{scope:hd({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(e){var t=e.socket.application.id;if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return ud(t).then((function(e){return e||[]}))}}),fd);var yd,md=n(560213),_d=n(661123);function gd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const vd=(gd(yd={},w.Etm.SEND_ANALYTICS_EVENT,{validation:function(e){return pd(e).required().keys({event_name:e.string().required(),
event_properties:e.object().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.event_name,o=n.event_properties;(0,td.bu)(t.transport);(0,td._f)(t.application);var i=t.application.id,a=S.Z.getChannel(A.Z.getVoiceChannelId()),s=null==a?void 0:a.getGuildId();if(null==a)throw new dd.Z(w.lTL.INVALID_COMMAND,"Invalid channel");var l,c=tl.Z.getGame(i);if(!(0,_d.yE)(null!==(l=null==c?void 0:c.flags)&&void 0!==l?l:0,w.udG.EMBEDDED_FIRST_PARTY))throw new dd.Z(w.lTL.INVALID_COMMAND,"This application cannot access this API");Oe.default.track(r,bd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gd(e,t,n[t])}))}return e}({},o),{activity_application_id:i,activity_guild_id:s}))}}),gd(yd,w.Etm.GET_APPLICATION_TICKET,{scope:w.lHf,
handler:function(e){var t=e.socket.application.id;if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return ld.Z.post({url:w.ANM.APPLICATION_TICKET(t),body:{test_mode:bl.Z.inTestModeForApplication(t)||md.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body}))}}),yd);function Od(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const Id=Od({},w.Etm.SET_CERTIFIED_DEVICES,{scope:Od({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),validation:function(e){return pd(e).required().keys({devices:e.array().items(pd(e).keys({type:e.string().required().valid([va.h7.AUDIO_INPUT,va.h7.AUDIO_OUTPUT,va.h7.VIDEO_INPUT]),id:e.string().required().min(1),vendor:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),model:e.object().required().keys({name:e.string().min(1),url:e.string().min(1)}),related:e.array().items(e.string().min(1)),echo_cancellation:e.boolean(),
noise_suppression:e.boolean(),automatic_gain_control:e.boolean(),hardware_mute:e.boolean()}))})},handler:function(e){var t=e.socket,n=e.args.devices;if(null==t.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");!function(e,t){b.Z.dispatch({type:"CERTIFIED_DEVICES_SET",applicationId:e,devices:t})}(t.application.id,n.map((function(e){return{type:e.type,id:e.id,vendor:e.vendor,model:e.model,related:e.related.filter((function(e){return n.some((function(t){return t.id===e}))})),echoCancellation:e.echo_cancellation,noiseSuppression:e.noise_suppression,automaticGainControl:e.automatic_gain_control,hardwareMute:e.hardware_mute}})))}});var Sd,Td=n(382060),Nd=n(176758);function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ad(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pd(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Rd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cd(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const jd=(Ad(Sd={},w.Etm.GET_CHANNEL,{scope:w.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=e.socket,r=S.Z.getChannel(t);if(null==r)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return(0,td.T5)(r,(0,td.zM)(r,n.application.id,n.authorization.scopes))}}),Ad(Sd,w.Etm.GET_CHANNELS,{scope:w.xVR.RPC,handler:function(e){var t=e.args.guild_id,n=Ke().values(S.Z.loadAllGuildAndPrivateChannelsFromDisk());if(t){var r=In.Z.getGuild(t);if(null==r)throw new dd.Z(w.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));n=n.filter((function(e){return e.guild_id===r.id}))}return{channels:n.filter((function(e){return Ds.Z.can(w.Plq.VIEW_CHANNEL,e)})).map((function(e){return{id:e.id,name:e.name,type:e.type}}))}}}),Ad(Sd,w.Etm.GET_CHANNEL_PERMISSIONS,{scope:w.xVR.GUILDS_MEMBERS_READ,
handler:function(e){var t=A.Z.getVoiceChannelId(),n=S.Z.getChannel(t);if(null==n)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel ".concat(t));return{permissions:Ds.Z.computePermissions(n)}}}),Ad(Sd,w.Etm.SELECT_VOICE_CHANNEL,{scope:w.xVR.RPC,validation:function(e){return pd(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60),force:e.boolean()})},handler:function(e){var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i,s=r.force,l=void 0!==s&&s;if(!o){d.default.selectVoiceChannel(null);return null}var c=A.Z.getVoiceChannelId();if(null!=c&&c!==o&&!1===l)throw new dd.Z(w.lTL.SELECT_VOICE_FORCE_REQUIRED,"User is already joined to a voice channel.");return t.storeWait(n,(function(){return S.Z.getChannel(o)}),a).catch((function(){throw new dd.Z(w.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select voice channel timed out.")})).then((function(e){if(null==e)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o))
;if(!(0,Td.vd)(e.type))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Channel is not a voice channel");return Promise.all([Promise.resolve(e),(0,td.T5)(e,(0,td.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Rd(e,2),n=t[0],r=t[1];if(r.guild_id){if((0,Nd.rY)(n,R.Z,In.Z))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Channel is full");if(!Ds.Z.can(w.Plq.CONNECT,n))throw new dd.Z(w.lTL.INVALID_PERMISSIONS,"Connect permission required to join channel")}d.default.selectVoiceChannel(n.id);return r}))}}),Ad(Sd,w.Etm.GET_SELECTED_VOICE_CHANNEL,{scope:Ad({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.socket,n=A.Z.getVoiceChannelId(),r=null!=n?S.Z.getChannel(n):null;return null!=r?(0,td.T5)(r,(0,td.zM)(r,t.application.id,t.authorization.scopes)):null}}),Ad(Sd,w.Etm.SELECT_TEXT_CHANNEL,{scope:w.xVR.RPC,validation:function(e){return pd(e).required().keys({channel_id:e.string().allow(null),timeout:e.number().min(0).max(60)})},handler:function(e){
var t=e.server,n=e.socket,r=e.args,o=r.channel_id,i=r.timeout,a=void 0===i?0:i;if(!o){(0,K.uL)(w.Z5c.ME);return null}return t.storeWait(n,(function(){return S.Z.getChannel(o)}),a).catch((function(){throw new dd.Z(w.lTL.SELECT_CHANNEL_TIMED_OUT,"Request to select text channel timed out.")})).then((function(e){if(null==e)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(o));if(!(0,Td.Qm)(e.type))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Channel is not a text channel");return Promise.all([Promise.resolve(e),(0,td.T5)(e,(0,td.zM)(e,n.application.id,n.authorization.scopes))])})).then((function(e){var t=Rd(e,2),n=t[0],r=t[1];if(r.guild_id&&!Ds.Z.can(w.Plq.VIEW_CHANNEL,n))throw new dd.Z(w.lTL.INVALID_CHANNEL,"No permission to see channel");r.guild_id?(0,K.dL)(w.Z5c.CHANNEL(r.guild_id,n.id)):d.default.selectPrivateChannel(n.id);return r}))}}),Ad(Sd,w.Etm.CREATE_CHANNEL_INVITE,{scope:w.xVR.RPC,handler:function(e){var t=e.args.channel_id,n=Pd(e.args,["channel_id"])
;return po.Z.createInvite(t,n,"RPC").catch((function(){throw new dd.Z(w.lTL.INVALID_PERMISSIONS,"Unable to generate an invite for ".concat(t,". Does this user have permissions?"))}))}}),Sd);const Md=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.SET_CONFIG,{scope:w.wEG,validation:function(e){return pd(e).required().keys({use_interactive_pip:e.boolean()})},handler:function(e){var t=e.socket,n=e.args.use_interactive_pip;if(t.transport!==w.Hej.POST_MESSAGE)throw new dd.Z(w.lTL.INVALID_COMMAND,'command not available from "'.concat(t.transport," transport"));if(null==t.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"invalid application");b.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_CONFIG",applicationId:t.application.id,config:{useInteractivePIP:n}});return Promise.resolve({use_interactive_pip:n})}});function wd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}var xd;const Ld=(wd(xd={},w.Etm.GET_GUILD,{scope:w.xVR.RPC,validation:function(e){return pd(e).required().keys({guild_id:e.string(),timeout:e.number().min(0).max(60)})},handler:function(e){var t=e.socket,n=e.server,r=e.args,o=r.guild_id,i=r.timeout,a=void 0===i?0:i;return n.storeWait(t,(function(){return In.Z.getGuild(o)}),a).catch((function(){throw new dd.Z(w.lTL.GET_GUILD_TIMED_OUT,"Request to get guild timed out.")})).then((function(e){if(null==e)throw new dd.Z(w.lTL.INVALID_GUILD,"Invalid guild id: ".concat(o));var t;return{id:e.id,name:e.name,icon_url:null!==(t=e.getIconURL(128))&&void 0!==t?t:null,members:[],vanity_url_code:e.vanityURLCode}}))}}),wd(xd,w.Etm.GET_GUILDS,{scope:w.xVR.RPC,handler:function(){var e=In.Z.getGuilds();return{guilds:Ke().map(e,(function(e){return{id:e.id,name:e.name,icon_url:e.getIconURL(128)}}))}}}),xd);var Dd=n(347117);const Zd=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}({},w.Etm.GET_IMAGE,{scope:w.lHf,validation:function(e){return pd(e).required().keys({type:e.string().required().valid(["user"]),id:e.string().required(),format:e.string().required().valid(["png","webp","jpg"]),size:e.number().required().valid([16,32,64,128,256,512,1024])})},handler:function(e){var t,n=e.args,r=n.type,o=n.id,i=n.format,a=void 0===i?"png":i,s=n.size,l=void 0===s?128:s;if("user"===r){var c=Y.default.getUser(o);if(null==c)throw new dd.Z(w.lTL.INVALID_USER,"Invalid user id: ".concat(o));t=rn.ZP.getUserAvatarURL(c,!1,l,a);var u=window.GLOBAL_ENV.CDN_HOST;null!=u&&-1!==t.indexOf(u)&&(t+="&_=")}if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No valid type.");return fetch(t).then((function(e){return e.blob()})).then((function(e){return(0,Dd.fD)(e)})).then((function(e){return{data_url:e}}))}});var Ud=n(247162);const Gd=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.OPEN_EXTERNAL_LINK,{
validation:function(e){return pd(e).required().keys({url:e.string().required()})},handler:function(e){var t=e.socket,n=e.args.url;(0,td.bu)(t.transport);try{var r=new URL(n);ls.FB&&Ud.Z.focus(null,!0);(0,io.q)({href:r.toString()})}catch(e){throw new dd.Z(w.lTL.INVALID_COMMAND,"Invalid URL: ".concat(n))}}});function kd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kd(e,t,n[t])}))}return e}function Hd(e,t,n){return new Promise((function(r,o){b.Z.dispatch({type:"LOBBY_CONNECT",socketId:e,lobbyId:t,lobbySecret:n,resolve:r,reject:o})}))}var Vd;n(517205);function Fd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Yd(e){if(e instanceof Xf.t)switch(e.code){case w.ogU.FULL:throw new dd.Z(w.lTL.LOBBY_FULL,"Lobby is full.");case w.ogU.INVALID_SECRET:throw new dd.Z(w.lTL.INVALID_LOBBY_SECRET,"Lobby secret is invalid.");case w.ogU.NOT_FOUND:throw new dd.Z(w.lTL.INVALID_LOBBY,"Lobby does not exist.");case w.ogU.SERVICE_UNAVAILABLE:throw new dd.Z(w.lTL.SERVICE_UNAVAILABLE,"Lobby service is unavailable.");case w.ogU.ALREADY_CONNECTING:throw new dd.Z(w.lTL.INVALID_COMMAND,"Already connecting to lobby.");default:throw new dd.Z(w.lTL.UNKNOWN_ERROR,"Unknown error has occured.")}throw e}const zd=(Fd(Vd={},w.Etm.CREATE_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({type:e.number().valid(Object.values(w.ny$)),capacity:e.number(),locked:e.boolean(),metadata:e.object()})},handler:function(e){var t,n,r,o=e.socket,i=e.args,a=i.type,s=i.capacity,l=i.locked,c=i.metadata
;if(null==o.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return(t=o.id,n=o.application.id,r={type:a,capacity:s,locked:l,metadata:c},ld.Z.post({url:w.ANM.LOBBIES,body:Bd({application_id:n},r),retries:1,oldFormErrors:!0}).then((function(e){var n=e.body;return Hd(t,n.id,n.secret)}))).catch(Yd)}}),Fd(Vd,w.Etm.UPDATE_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({id:e.string().required(),type:e.number().valid(Object.values(w.ny$)),owner_id:e.string(),capacity:e.number(),locked:e.boolean(),metadata:pd(e)})},handler:function(e){var t,n,r=e.args,o=r.id,i=r.type,a=r.owner_id,s=r.capacity,l=r.locked,c=r.metadata;return(t=o,n={type:i,owner_id:a,capacity:s,locked:l,metadata:c},ld.Z.patch({url:w.ANM.LOBBY(t),body:Bd({},n),retries:1,oldFormErrors:!0}).then(w.dG4)).catch(Yd)}}),Fd(Vd,w.Etm.DELETE_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({id:e.string().required()})},
handler:function(e){var t,n=e.args.id;return(t=n,ld.Z.delete({url:w.ANM.LOBBY(t),body:{},retries:1,oldFormErrors:!0}).then(w.dG4)).catch(Yd)}}),Fd(Vd,w.Etm.UPDATE_LOBBY_MEMBER,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({lobby_id:e.string().required(),user_id:e.string().required(),metadata:pd(e)})},handler:function(e){var t,n,r,o=e.args,i=o.lobby_id,a=o.user_id,s=o.metadata;return(t=i,n=a,r={metadata:s},ld.Z.patch({url:w.ANM.LOBBY_MEMBER(t,n),body:Bd({},r),retries:1,oldFormErrors:!0}).then(w.dG4)).catch(Yd)}}),Fd(Vd,w.Etm.CONNECT_TO_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({id:e.string().required(),secret:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.id,o=n.secret;return Hd(t.id,r,o).catch(Yd)}}),Fd(Vd,w.Etm.DISCONNECT_FROM_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({id:e.string().required()})},handler:function(e){
var t,n=e.args.id;t=n,b.Z.dispatch({type:"LOBBY_DISCONNECT",lobbyId:t})}}),Fd(Vd,w.Etm.SEND_TO_LOBBY,{scope:Fd({},w.Gp_.ANY,[w.lHf]),validation:function(e){return pd(e).required().keys({lobby_id:e.string().required(),data:e.string().required()})},handler:function(e){var t=e.args;return function(e,t){return ld.Z.post({url:w.ANM.LOBBY_SEND(e),body:{data:t},oldFormErrors:!0}).then(w.dG4)}(t.lobby_id,t.data).catch(Yd)}}),Fd(Vd,w.Etm.SEARCH_LOBBIES,{scope:w.lHf,validation:function(e){return pd(e).required().keys({filter:e.array().items(pd(e).keys({key:e.string().required(),comparison:e.number().required(),cast:e.number().required(),value:e.string().required()})),sort:e.array().items(pd(e).keys({key:e.string().required(),cast:e.number().required(),near_value:e.string()})),limit:e.number(),distance:e.number()})},handler:function(e){var t,n=e.socket,r=e.args,o=r.filter,i=r.sort,a=r.limit,s=r.distance;return(t={application_id:n.application.id,filter:o,sort:i,limit:a,distance:s},ld.Z.post({
url:w.ANM.LOBBY_SEARCH,body:t,oldFormErrors:!0}).then((function(e){return e.body}))).catch(Yd)}}),Fd(Vd,w.Etm.CONNECT_TO_LOBBY_VOICE,{scope:w.lHf,validation:function(e){return pd(e).required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,b.Z.dispatch({type:"LOBBY_VOICE_CONNECT",lobbyId:t})}}),Fd(Vd,w.Etm.DISCONNECT_FROM_LOBBY_VOICE,{scope:w.lHf,validation:function(e){return pd(e).required().keys({id:e.string().required()})},handler:function(e){var t,n=e.args.id;t=n,b.Z.dispatch({type:"LOBBY_VOICE_DISCONNECT",lobbyId:t})}}),Vd);var Wd=new el.Z(w.BZL);const Kd=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.CAPTURE_LOG,{validation:function(e){return pd(e).required().keys({level:e.string().required(),message:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.level,o=n.message;(0,td.bu)(t.transport);var i=t.application.id,a="".concat(i," - ").concat(o)
;switch(r){case"log":Wd.log(a);break;case"warn":Wd.warn(a);break;case"debug":Wd.verbose(a);break;case"info":Wd.info(a);break;case"error":Wd.error(a)}}});function qd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $d;const Jd=(Xd($d={},w.Etm.GET_NETWORKING_CONFIG,{scope:w.lHf,handler:function(){return Promise.all([ld.Z.get({url:location.protocol+window.GLOBAL_ENV.NETWORKING_ENDPOINT,retries:3}).then((function(e){return e.body.address})),ld.Z.post({url:w.ANM.NETWORKING_TOKEN,retries:3,oldFormErrors:!0}).then((function(e){return e.body.token}))]).then((function(e){var t=Qd(e,2);return{address:t[0],token:t[1]}}))}}),Xd($d,w.Etm.NETWORKING_SYSTEM_METRICS,{scope:w.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id;Oe.default.track(w.rMx.NETWORKING_SYSTEM_METRICS,n)}}),Xd($d,w.Etm.NETWORKING_PEER_METRICS,{scope:w.lHf,handler:function(e){var t=e.socket,n=e.args;n.application_id=t.application.id
;Oe.default.track(w.rMx.NETWORKING_PEER_METRICS,n)}}),Xd($d,w.Etm.NETWORKING_CREATE_TOKEN,{scope:w.lHf,handler:function(){return ld.Z.post({url:w.ANM.NETWORKING_TOKEN,retries:1,oldFormErrors:!0}).then((function(e){return e.body}))}}),$d);var ep=n(520453);const tp=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},ep.Et.GET_PLATFORM_BEHAVIORS,{handler:function(){return{iosKeyboardResizesView:!0}}});function np(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const rp=np({},w.Etm.GET_RELATIONSHIPS,{scope:w.lHf,handler:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){np(e,t,n[t])}))}return e
}({},Jf.Z.getRelationships());ed.Z.getUserAffinitiesUserIds().forEach((function(t){null==e[t]&&null!=Y.default.getUser(t)&&(e[t]=w.OGo.IMPLICIT)}));return{relationships:Ke().map(e,(function(e,t){return(0,td.cD)(e,t)}))}}});var op=n(3564);function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ap(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ip(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ip(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lp=["349134787773988865"];const cp=ap({},w.Etm.SET_ACTIVITY,{scope:ap({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_ACTIVITIES_WRITE,w.lHf]),validation:function(e){return pd(e).required().keys({pid:e.number().min(0),activity:e.object().keys({state:e.string().min(2).max(128),details:e.string().min(2).max(128),timestamps:pd(e).keys({start:e.number().min(1),end:e.number().min(1)}),assets:pd(e).keys({large_image:e.string().min(1).max(256),large_text:e.string().min(2).max(128),small_image:e.string().min(1).max(256),small_text:e.string().min(2).max(128)}),party:pd(e).keys({id:e.string().min(2).max(128),
size:e.array().items(e.number().min(1)).length(2),privacy:e.number().default(w.RYY.PRIVATE).valid([w.RYY.PRIVATE,w.RYY.PUBLIC])}),secrets:pd(e).keys({match:e.string().min(2).max(128),join:e.string().min(2).max(128),spectate:e.string().min(2).max(128)}),buttons:e.array().items(pd(e).keys({label:e.string().min(1).max(32).required(),url:e.string().uri().min(1).max(512).required()})).min(1).max(2),instance:e.boolean(),supported_platforms:e.array().items(e.string().min(1).max(32)).min(1).max(3),type:e.number().default(w.IIU.PLAYING).valid(w.IIU.PLAYING,w.IIU.LISTENING,w.IIU.WATCHING)}).allow(null)})},handler:function(e){var t,n=e.socket,r=e.args,o=r.pid,i=r.activity,a=e.isSocketConnected;if(![w.Hej.IPC,w.Hej.WEBSOCKET,w.Hej.POST_MESSAGE].includes(n.transport))throw new dd.Z(w.lTL.INVALID_COMMAND,'command not available from "'.concat(n.transport,'" transport'));if(null==o&&w.Hej.IPC===n.transport)throw new dd.Z(w.lTL.INVALID_COMMAND,"nonzero pid required");if(null==i){b.Z.dispatch({
type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});return Promise.resolve(i)}i.name=n.application.name;i.application_id=n.application.id;var s=n.transport===w.Hej.POST_MESSAGE,l=(0,td.S5)(i,s);l>0&&(i.flags=l);delete i.instance;null===(t=i.party)||void 0===t||delete t.privacy;var c,u=i.assets,f=i.party,d=i.secrets,p=i.timestamps,h=i.buttons,E=i.type;(null==E||E!==w.IIU.PLAYING&&!s)&&(i.type=w.IIU.PLAYING);if(null!=d){var y=Ke().values(d).filter((function(e){return!!e}));if(null!=f&&Ke().intersection(y,[f.id]).length>0&&!lp.includes(n.application.id))throw new dd.Z(w.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot match the party id");if(Ke().uniq(y).length<y.length)throw new dd.Z(w.lTL.INVALID_ACTIVITY_SECRET,"secrets must be unique");if(null!=h)throw new dd.Z(w.lTL.INVALID_ACTIVITY_SECRET,"secrets cannot currently be sent with buttons")}if(null!=h){i.metadata={button_urls:h.map((function(e){return e.url}))};i.buttons=h.map((function(e){return e.label}))}if(null!=p){
var m=!0,_=!1,g=void 0;try{for(var v,O=Object.keys(p)[Symbol.iterator]();!(m=(v=O.next()).done);m=!0){var I=v.value;Date.now().toString().length-p[I].toString().length>2&&(p[I]=Math.floor(1e3*p[I]))}}catch(e){_=!0;g=e}finally{try{m||null==O.return||O.return()}finally{if(_)throw g}}}if(null==u)c=Promise.resolve([]);else{if(null==n.application||null==n.application.id)throw new Error;c=(0,op.hR)(n.application.id,[u.large_image,u.small_image])}return c.then((function(e){var t=sp(e,2),r=t[0],s=t[1];if(null!=u){null!=r?u.large_image=r:delete u.large_image;null!=s?u.small_image=s:delete u.small_image}if(a()){b.Z.dispatch({type:"LOCAL_ACTIVITY_UPDATE",socketId:n.id,pid:o,activity:i});var l=i.secrets,c=i.party,f={application_id:n.application.id,type:i.type};if(null!=l){f.has_match_secret=!!l.match;f.has_join_secret=!!l.join}null!=u&&(f.has_images=!(!u.large_image&&!u.small_image));if(null!=c){f.party_max=null!=c.size?c.size[1]:void 0;f.party_id=c.id}Oe.default.track(w.rMx.ACTIVITY_UPDATED,f)
;return i}}))}});const up=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},ep.Et.SET_ORIENTATION_LOCK_STATE,{validation:function(e){return pd(e).required().keys({lock_state:e.number().valid(rd.xK.UNLOCKED,rd.xK.PORTRAIT,rd.xK.LANDSCAPE).required(),picture_in_picture_lock_state:e.number().valid(rd.xK.UNLOCKED,rd.xK.PORTRAIT,rd.xK.LANDSCAPE).allow(null).optional(),grid_lock_state:e.number().valid(rd.xK.UNLOCKED,rd.xK.PORTRAIT,rd.xK.LANDSCAPE).allow(null).optional()})},handler:function(e){var t=e.socket,n=e.args,r=n.lock_state,o=n.picture_in_picture_lock_state,i=n.grid_lock_state,a=t.application.id;if(null==a)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");b.Z.dispatch({type:"EMBEDDED_ACTIVITY_SET_ORIENTATION_LOCK_STATE",applicationId:a,lockState:r,pictureInPictureLockState:o,gridLockState:i})}});var fp=n(153686),dp=n(336177),pp=n(656907),hp=n(911980),Ep=n(815378),yp=n(347387);function mp(){
var e=R.Z.getVoiceStateForSession(ut.default.getId(),ut.default.getSessionId()),t=null==e?void 0:e.channelId;return S.Z.getChannel(t)}function _p(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function gp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_p(i,r,o,a,s,"next",e)}function s(e){_p(i,r,o,a,s,"throw",e)}a(void 0)}))}}function bp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var vp,Op=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Ip=(bp(vp={},ep.Et.GET_SOUNDBOARD_SOUNDS,{scope:bp({},w.Gp_.ANY,[ep.xV.RPC,w.lHf]),handler:function(){return gp((function(){var e,t;return Op(this,(function(n){switch(n.label){case 0:return[4,(0,dp.w)()];case 1:n.sent();e=pp.Z.getSounds();t=[];e.forEach((function(e){return e.forEach((function(e){return t.push((0,hp.QL)(e))}))}));return[2,t]}
}))}))()}}),bp(vp,ep.Et.PLAY_SOUNDBOARD_SOUND,{scope:bp({},w.Gp_.ALL,[ep.xV.RPC,ep.xV.RPC_VOICE_WRITE]),validation:function(e){return pd(e).required().keys({guild_id:e.string(),sound_id:e.string()})},handler:function(e){var t=e.args,n=t.guild_id,r=t.sound_id;return gp((function(){var e,t,o,i,a;return Op(this,(function(s){switch(s.label){case 0:return[4,(0,dp.w)()];case 1:s.sent();e=Y.default.getCurrentUser();t=pp.Z.getSound(n,r);o=mp();a=null!=t&&null!=e&&(0,Ep.Nq)(e,t,null!==(i=null==o?void 0:o.guild_id)&&void 0!==i?i:null)&&(null==t?void 0:t.available);if(null==o)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid Channel.");if(!a)throw new dd.Z(w.lTL.INVALID_SOUND,"Invalid Sound.");if(!(0,ic.Z)(o))throw new dd.Z(w.lTL.INVALID_PERMISSIONS,"Invalid Permissions.");null!=t&&(0,yp.G)(t,o.id,[fp.Z.RPC]);return[2]}}))}))()}}),vp);var Sp=n(595138),Tp=n(315804),Np=n(810274),Cp=n(151017);function Ap(e){
if(w.Hej.IPC!==e&&w.Hej.POST_MESSAGE!==e)throw new dd.Z(w.lTL.INVALID_COMMAND,"Invalid transport.")}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function jp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rp(i,r,o,a,s,"next",e)}function s(e){Rp(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Mp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wp(e){return function(e){if(Array.isArray(e))return Pp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xp,Lp,Dp,Zp,Up,Gp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:
if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function kp(e,t){return Bp.apply(this,arguments)}function Bp(){Bp=jp((function(e,t){var n,r,o;return Gp(this,(function(i){switch(i.label){case 0:n=t.filter((function(e){return e.type===w.epS.SUBSCRIPTION_GROUP}));return[4,Promise.all(n.map((a=jp((function(t){return Gp(this,(function(n){switch(n.label){case 0:return[4,(0,Cp.rx)(e,t.id)];case 1:return[2,n.sent()]}}))})),function(e){return a.apply(this,arguments)})))];case 1:r=i.sent();o=[];r.forEach((function(e){if(null==e)return null;var n=e.subscription_listings;if(null==n)return null;var r=[];n.forEach((function(e){
e.subscription_plans.forEach((function(n){var o=null==n?void 0:n.price,i=t.find((function(e){return e.id===n.sku_id}));if(null!=i){var a,s={id:n.sku_id,name:i.name,type:i.type,price:{amount:o,currency:w.pKx.USD},application_id:e.application_id,flags:e.sku_flags,release_date:null!==(a=i.release_date)&&void 0!==a?a:null};r.push(s)}}))}));r.filter((function(e){return null!=(null==e?void 0:e.price)})).forEach((function(e){return o.push(e)}))}));return[2,o]}var a}))}));return Bp.apply(this,arguments)}function Hp(e){return Vp.apply(this,arguments)}function Vp(){return(Vp=jp((function(e){var t,n,r,o,i,a,s;return Gp(this,(function(l){switch(l.label){case 0:Ap((t=e.socket).transport);if(null==(n=t.application.id))throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return bl.Z.inTestModeForApplication(n)||md.Z.inDevModeForApplication(n)?[4,Tp.Kr(n,!1)]:[3,3];case 1:r=l.sent();return[4,kp(n,r)];case 2:o=l.sent();return[2,wp(r.filter((function(e){return null!=e.price}))).concat(wp(o))];case 3:
return[4,Np.oJ(n)];case 4:i=l.sent();a=i.filter((function(e){return e.sku.type!==w.epS.SUBSCRIPTION_GROUP})).map((function(e){return e.sku})).filter((function(e){return null!=e.price}));return[4,kp(n,i.map((function(e){return e.sku})))];case 5:s=l.sent();return[2,wp(a).concat(wp(s))]}}))}))).apply(this,arguments)}function Fp(e){var t=e.socket;Ap(t.transport);var n=t.application.id;if(null==n)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return Sp.yD(n)}const Yp=(Mp(Up={},w.Etm.GET_SKUS,(Mp(xp={},w.Gp_.ANY,[w.wEG,w.lHf]),Mp(xp,"handler",Hp),xp)),Mp(Up,w.Etm.GET_ENTITLEMENTS,(Mp(Lp={},w.Gp_.ANY,[w.wEG,w.lHf]),Mp(Lp,"handler",Fp),Lp)),Mp(Up,w.Etm.GET_SKUS_EMBEDDED,(Mp(Dp={},w.Gp_.ANY,[w.wEG,w.lHf]),Mp(Dp,"handler",(function(e){return jp((function(){var t;return Gp(this,(function(n){switch(n.label){case 0:t={};return[4,Hp(e)];case 1:return[2,(t.skus=n.sent(),t)]}}))}))()})),Dp)),Mp(Up,w.Etm.GET_ENTITLEMENTS_EMBEDDED,(Mp(Zp={},w.Gp_.ANY,[w.wEG,w.lHf]),Mp(Zp,"handler",(function(e){
return jp((function(){var t;return Gp(this,(function(n){switch(n.label){case 0:t={};return[4,Fp(e)];case 1:return[2,(t.entitlements=n.sent(),t)]}}))}))()})),Zp)),Up);var zp=n(363690),Wp=n(705711);const Kp=function(){return null};function qp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Xp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qp(i,r,o,a,s,"next",e)}function s(e){qp(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Qp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function $p(e,t,n){return Jp.apply(this,arguments)}function Jp(){Jp=Xp((function(e,t,n){var r,o,i,a,s,l,c,u,f,d,p;return Qp(this,(function(n){switch(n.label){case 0:switch(t){case w.zMe.ACTIVITY_PIP_MODE_UPDATE:return[3,1];case w.zMe.ACTIVITY_LAYOUT_MODE_UPDATE:return[3,2];case w.zMe.THERMAL_STATE_UPDATE:return[3,3];case w.zMe.ORIENTATION_UPDATE:
return[3,5]}return[3,6];case 1:o=null===(r=e.application)||void 0===r?void 0:r.id;i=null!=o?j.ZP.getLayoutModeForApp(o):null;return[2,Promise.resolve(null!=i?{is_pip_mode:i!==rd.cE.FOCUSED}:null)];case 2:s=null===(a=e.application)||void 0===a?void 0:a.id;l=null!=s?j.ZP.getLayoutModeForApp(s):null;return[2,Promise.resolve(null!=l?{layout_mode:l}:null)];case 3:return[4,(0,Wp.Z)()];case 4:if(null==(c=n.sent()))return[2,Promise.resolve(null)];u=Kf(c);return[2,Promise.resolve({thermal_state:u})];case 5:if(null!=(f=Kp())){d=f?rd.W0.LANDSCAPE:rd.W0.PORTRAIT;p=d===rd.W0.PORTRAIT?"portrait":"landscape";return[2,Promise.resolve({screen_orientation:d,orientation:p})]}return[2,Promise.resolve(null)];case 6:return[2,null];case 7:return[2]}}))}));return Jp.apply(this,arguments)}function eh(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function th(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}var nh,rh=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){
i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const oh=(th(nh={},w.Etm.SUBSCRIBE,{handler:function(e){var t,n=e.server,r=e.socket,o=e.evt,i=e.args;return(t=function(){var e,t,a;return rh(this,(function(s){switch(s.label){case 0:if(null==(e=n.events[o]))throw new dd.Z(w.lTL.INVALID_EVENT,"Invalid event: ".concat(o));if(!(0,zp.Z)(r.authorization.scopes,e.scope))throw new dd.Z(w.lTL.INVALID_PERMISSIONS,"Not authenticated or invalid scope");t=e.handler({args:i,socket:r});return[4,$p(r,o,i)];case 1:a=s.sent();return[2,new Promise((function(e){setImmediate((function(){n.addSubscription(r,o,i,t);null!=a&&n.dispatchToSubscriptions(o,(function(e){return e.socket.id===r.id}),a)}));e({evt:o})}))]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){eh(i,r,o,a,s,"next",e)}function s(e){eh(i,r,o,a,s,"throw",e)}a(void 0)}))})()}}),th(nh,w.Etm.UNSUBSCRIBE,{handler:function(e){
var t=e.server,n=e.socket,r=e.evt,o=e.args;if(null==t.events[r])throw new dd.Z(w.lTL.INVALID_EVENT,"Invalid event: ".concat(r));t.removeSubscription(n,r,o);return{evt:r}}}),nh);const ih=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.USER_SETTINGS_GET_LOCALE,{scope:w.xVR.IDENTIFY,handler:function(){return{locale:wr.default.locale}}});var ah=n(285991);const sh=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.GET_USER,{scope:w.lHf,validation:function(e){return pd(e).required().keys({id:e.string().required()})},handler:function(e){var t=e.args.id;return(0,ah.PR)(t).then(nd.Z).catch((function(){throw new dd.Z(w.lTL.INVALID_USER,"Invalid user id: ".concat(t))}))}});function lh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ch,uh,fh,dh=function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lh(e,t,n[t])}))}return e}({},Ed,vd,Id,jd,Md,Ld,Zd,Gd,zd,Kd,Jd,rp,cp,up,Yp,oh,sh,ih,tp,Ip),ph=n(199731);function hh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Eh(e){var t,n=e.args.channel_id,r=e.socket,o=S.Z.getChannel(n);if(null==o||!(0,td.zM)(o,r.application.id,r.authorization.scopes))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(n));if(o.isNSFW()&&!0!==(null===(t=Y.default.getCurrentUser())||void 0===t?void 0:t.nsfwAllowed))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid nsfw channel id: ".concat(o.id))}function yh(e){var t=e.args,n=t.lobby_id,r=t.channel_id;if(null!=r){
if(null==S.Z.getChannel(r))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(r))}if(null!=n){if(null==Xf.Z.getLobby(n))throw new dd.Z(w.lTL.INVALID_LOBBY,"Invalid lobby id: ".concat(n))}}var mh=(hh(fh={},w.zMe.GUILD_STATUS,{scope:w.xVR.RPC,handler:function(e){var t=e.args.guild_id;if(null==In.Z.getGuild(t))throw new dd.Z(w.lTL.INVALID_GUILD,"Invalid guild id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=In.Z.getGuild(t);if(null!=o){var i,a={guild:{id:o.id,name:o.name,icon_url:null!==(i=o.getIconURL(128))&&void 0!==i?i:null},online:0};Ke().isEqual(n,a)||r(a);return a}}}}),hh(fh,w.zMe.VOICE_STATE_CREATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==S.Z.getChannel(t))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=S.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(R.Z.getVoiceStatesForChannel(o.id))
;if(n){var s=Ke().differenceBy(a,n,(function(e){return e.userId}));s.forEach((function(e){return r((0,td.aE)(i,o.id,e))}))}return a}}}}),hh(fh,w.zMe.VOICE_STATE_DELETE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==S.Z.getChannel(t))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=S.Z.getChannel(t);if(null!=o){var i=o.getGuildId(),a=Object.values(R.Z.getVoiceStatesForChannel(o.id)),s=Ke().differenceBy(n,a,(function(e){return e.userId}));s.forEach((function(e){return r((0,td.aE)(i,o.id,e))}));return a}}}}),hh(fh,w.zMe.VOICE_STATE_UPDATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(e){var t=e.args.channel_id;if(null==S.Z.getChannel(t))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel id: ".concat(t));return function(e){var n=e.prevState,r=e.dispatch,o=S.Z.getChannel(t);if(null!=o){
var i=o.getGuildId(),a=Object.values(R.Z.getVoiceStatesForChannel(o.id)).map((function(e){return(0,td.aE)(i,o.id,e)}));Ke().differenceWith(a,n,Ke().isEqual).forEach((function(e){return r(e)}));return a}}}}),hh(fh,w.zMe.VOICE_CONNECTION_STATUS,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={state:(0,td.zy)(C.Z.getState()),hostname:C.Z.getHostname(),pings:C.Z.getPings(),average_ping:C.Z.getAveragePing(),last_ping:C.Z.getLastPing()};Ke().isEqual(r,t)||n(r);return r}}}),hh(fh,w.zMe.MESSAGE_CREATE,{scope:w.xVR.RPC,handler:Eh}),hh(fh,w.zMe.MESSAGE_UPDATE,{scope:w.xVR.RPC,handler:Eh}),hh(fh,w.zMe.MESSAGE_DELETE,{scope:w.xVR.RPC,handler:Eh}),hh(fh,w.zMe.SPEAKING_START,(hh(ch={},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ,w.lHf]),hh(ch,"handler",yh),ch)),hh(fh,w.zMe.SPEAKING_STOP,(hh(uh={},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ,w.lHf]),hh(uh,"handler",yh),uh)),hh(fh,w.zMe.GUILD_CREATE,{scope:w.xVR.RPC,
handler:function(){}}),hh(fh,w.zMe.CHANNEL_CREATE,{scope:w.xVR.RPC,handler:function(){}}),hh(fh,w.zMe.GAME_JOIN,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(){}}),hh(fh,w.zMe.GAME_SPECTATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_JOIN,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_JOIN_REQUEST,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_SPECTATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_INVITE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_PIP_MODE_UPDATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ACTIVITY_LAYOUT_MODE_UPDATE,{scope:hh({},w.Gp_.ANY,[w.xVR.RPC,w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.THERMAL_STATE_UPDATE,{scope:hh({},w.Gp_.ANY,[w.wEG]),handler:function(){}}),hh(fh,w.zMe.ORIENTATION_UPDATE,{
scope:hh({},w.Gp_.ANY,[w.wEG]),handler:function(){}}),hh(fh,w.zMe.VOICE_CHANNEL_SELECT,{scope:w.xVR.RPC,handler:function(){}}),hh(fh,w.zMe.NOTIFICATION_CREATE,{scope:hh({},w.Gp_.ALL,[w.xVR.RPC,w.xVR.RPC_NOTIFICATIONS_READ]),handler:function(){}}),hh(fh,w.zMe.RELATIONSHIP_UPDATE,{scope:w.lHf,handler:function(){}}),hh(fh,w.zMe.CURRENT_USER_UPDATE,{scope:hh({},w.Gp_.ANY,[w.lHf,w.xVR.IDENTIFY]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={currentUser:Y.default.getCurrentUser()};null==r.currentUser||null!=t&&(0,ph.Z)(r,t)||n((0,nd.Z)(r.currentUser));return r}}}),hh(fh,w.zMe.LOBBY_UPDATE,{scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.LOBBY_DELETE,{scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.LOBBY_MEMBER_CONNECT,{scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.LOBBY_MEMBER_UPDATE,{scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.LOBBY_MEMBER_DISCONNECT,{
scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.LOBBY_MESSAGE,{scope:hh({},w.Gp_.ANY,[w.wEG,w.lHf]),handler:function(){}}),hh(fh,w.zMe.ENTITLEMENT_CREATE,{scope:hh({},w.Gp_.ANY,[w.lHf,w.wEG]),handler:function(){}}),hh(fh,w.zMe.ENTITLEMENT_DELETE,{scope:hh({},w.Gp_.ANY,[w.lHf,w.wEG]),handler:function(){}}),hh(fh,w.zMe.USER_ACHIEVEMENT_UPDATE,{scope:w.lHf,handler:function(){}}),hh(fh,w.zMe.SCREENSHARE_STATE_UPDATE,{scope:hh({},w.Gp_.ALL,[w.lHf,w.xVR.RPC_SCREENSHARE_READ]),handler:function(){return function(e){var t,n,r=e.prevState,o=e.dispatch,i=ec.Z.getStreamerActiveStreamMetadata(),a=null!=(null==i?void 0:i.pid)?ba.ZP.getGameForPID(i.pid):null,s=null!=(null==a?void 0:a.id)?tl.Z.getGame(a.id):null,l=null!=s?function(e){return{name:e.name,id:e.id,icon:e.icon,cover_image:e.coverImage,type:e.type}}(s):null,c=null==i?void 0:i.sourceName,u={active:null!=i,pid:null!==(t=null==i?void 0:i.pid)&&void 0!==t?t:null,application:(null!==(n=null!=l)&&void 0!==n?n:null!=c)?{
name:c}:null};Ke().isEqual(u,r)||o(u);return u}}}),hh(fh,w.zMe.VIDEO_STATE_UPDATE,{scope:hh({},w.Gp_.ALL,[w.lHf,w.xVR.RPC_VIDEO_READ]),handler:function(){return function(e){var t=e.prevState,n=e.dispatch,r={active:ga.Z.isVideoEnabled()};Ke().isEqual(r,t)||n(r);return r}}}),fh);const _h=mh;function gh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var bh=n(232949),vh=function(e,t){var n;return gh(n={},w.zMe.VOICE_SETTINGS_UPDATE,{scope:gh({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(){return function(t){var n=t.prevState,r=t.dispatch,o=e();Ke().isEqual(o,n)||r(o);return o}}}),gh(n,w.zMe.VOICE_SETTINGS_UPDATE_2,{scope:w.lHf,handler:function(e){var n=e.socket;return function(e){var r=e.prevState,o=e.dispatch;if(null==n.application.id)return r;var i=t(n.application.id);Ke().isEqual(i,r)||o(i);return i}}}),n}(bh._X,bh.GC);function Oh(e){var t,n=(0,
_d.yE)(null!==(t=e.flags)&&void 0!==t?t:0,w.udG.EMBEDDED),r=I.Z.getWindowOpen(w.KJ3.CHANNEL_CALL_POPOUT);return n&&r}var Ih=n(393666),Sh=n(817673),Th=n(12212),Nh=n(534368),Ch=n(563135);function Ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ph(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Rh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ph(i,r,o,a,s,"next",e)}function s(e){Ph(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jh(e,t,n[t])}))}return e}function wh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xh(e){return function(e){if(Array.isArray(e))return Ah(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ah(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ah(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lh=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Dh="CachedTokens";function Zh(e,t,n){return Uh.apply(this,arguments)}function Uh(){Uh=Rh((function(e,t,n){var r,o,i,a,s,l,c,u,f,d,p,h,E,y,m,_,g,b,v,O;return Lh(this,(function(I){switch(I.label){case 0:r=e.client_id,o=e.response_type,i=void 0===o?"code":o,a=e.redirect_uri,s=e.code_challenge,l=e.code_challenge_method,c=e.state,u=e.scope,f=e.permissions,d=e.guild_id,p=e.channel_id,h=e.prompt,E=e.disable_guild_select;if(null==r)throw new dd.Z(w.lTL.OAUTH2_ERROR,"No Client ID provided");if(null!=a)throw new dd.Z(w.lTL.OAUTH2_ERROR,"Redirect URI cannot be used in the RPC OAuth2 Authorization flow");y=[];"string"==typeof u?y=u.split(" ").filter((function(e){
return e.length>0})):Array.isArray(u)&&(y=u);if(null==Y.default.getCurrentUser())throw new dd.Z(w.lTL.OAUTH2_ERROR,"Client is not logged in");I.label=1;case 1:I.trys.push([1,3,,4]);return[4,(0,Th.Ww)({clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:l,state:c})];case 2:m=I.sent();return[3,4];case 3:_=I.sent();g=_.body;throw new dd.Z(w.lTL.OAUTH2_ERROR,"OAuth2 Authorization Error: ".concat(g.message||"Unknown Error"));case 4:if(h!==Nh.s.NONE||null==m||!m.authorized)return[3,8];I.label=5;case 5:I.trys.push([5,7,,8]);return[4,(0,Th.Iq)({authorize:!0,clientId:r,scopes:y,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:l,state:c})];case 6:return[2,I.sent().location];case 7:b=I.sent();v=b.body;throw new dd.Z(w.lTL.OAUTH2_ERROR,"OAuth2 Authorize Error: ".concat(v.message||"Unknown Error"));case 8:null==n||n(m.application);O=Ch.ZP.NONE;try{O=_r.Z.deserialize(null!=f?f:0)}catch(e){}return[2,t(r,m,y,O,i,a,s,l,c,d,p,h,E)]}}))}))
;return Uh.apply(this,arguments)}function Gh(e,t){if(e.authorization.accessToken)throw new dd.Z(w.lTL.INVALID_COMMAND,"Already authenticated");if(e.authorization.authing)throw new dd.Z(w.lTL.INVALID_COMMAND,"Already authenticating");e.authorization.authing=!0;return ld.Z.get({url:w.ANM.OAUTH2_CURRENT_AUTH,headers:{Authorization:"Bearer ".concat(t)},oldFormErrors:!0}).then((function(n){e.authorization.authing=!1;var r=n.body,o=r.application,i=r.user,a=r.scopes,s=r.expires;if(e.application.id!==o.id)throw new dd.Z(w.lTL.INVALID_CLIENTID,"Application does not match the connection's");var l=Y.default.getCurrentUser();if(null==l||!i||l.id!==i.id)throw new dd.Z(w.lTL.INVALID_TOKEN,"Token does not match current user");e.authorization.scopes=xh(e.authorization.scopes).concat(xh(a),[w.wEG]);e.authorization.accessToken=t;e.authorization.expires=new Date(s);b.Z.dispatch({type:"RPC_APP_AUTHENTICATED",socketId:e.id,application:e.application});return wh(Mh({},n.body),{access_token:t})}),(function(){
throw new dd.Z(w.lTL.INVALID_TOKEN,"Invalid access token: ".concat(t))})).catch((function(t){e.authorization.authing=!1;throw t}))}function kh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const Hh=function(e,t){var n;return jh(n={},w.Etm.AUTHENTICATE,{handler:function(n){var r=n.socket,o=n.args.access_token;if(null==o&&r.transport===w.Hej.IPC){var i=r.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var a=w.xVR.IDENTIFY,s=function(){
return Zh({client_id:i,scope:a,response_type:"token"},e,t).then((function(e){if(null==e)throw new dd.Z(w.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=e.split(/#|\?/),n=Sh.parse(t[t.length-1]);if(null!=n.error){var o;throw new dd.Z(w.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(n.error,": ").concat(null!==(o=n.error_description)&&void 0!==o?o:"unknown error"))}!function(e,t,n,r){var o,i=null!==(o=ve.Z.get(Dh))&&void 0!==o?o:{};i[e]={accessToken:t,scope:n,expires:Date.now()+r};ve.Z.set(Dh,i)}(i,n.access_token,n.scope,n.expires_in);return Gh(r,n.access_token)}))};o=function(e,t){var n=ve.Z.get(Dh);if(null!=n&&null!=n[e]){var r=n[e];if(!(r.scope!==t||r.expires<=Date.now()))return r.accessToken;delete n[e];ve.Z.set(Dh,n)}}(i,a);return null!=o?Gh(r,o).catch((function(){!function(e){var t,n=null!==(t=ve.Z.get(Dh))&&void 0!==t?t:{};delete n[e];ve.Z.set(Dh,n)}(i);return s()})):s()}if(null==o)throw new dd.Z(w.lTL.INVALID_TOKEN,"No access token provided");return Gh(r,o)}}),jh(n,w.Etm.AUTHORIZE,{
handler:function(n){var r=n.socket,o=n.args,i=o.client_id;if(!i)throw new dd.Z(w.lTL.INVALID_CLIENTID,"No client id provided");if(null!=r.authorization.accessToken)throw new dd.Z(w.lTL.INVALID_COMMAND,"Already authenticated");if(r.authorization.authing)throw new dd.Z(w.lTL.INVALID_COMMAND,"Already authing");r.authorization.authing=!0;return ld.Z.get({url:w.ANM.APPLICATION_RPC(i),oldFormErrors:!0}).then((function(n){var i=n.body;if(r.application.id!==i.id)throw new dd.Z(w.lTL.INVALID_CLIENTID,"Application does not match the connection's");var a=o.scopes||o.scope;delete o.scopes;return Zh(wh(Mh({},o),{scope:a}),e,t)}),(function(){throw new dd.Z(w.lTL.INVALID_CLIENTID,"Invalid client id: ".concat(i))})).then((function(e){r.authorization.authing=!1;if(null==e)throw new dd.Z(w.lTL.UNKNOWN_ERROR,"Unknown error occurred");var t=Sh.parse(e.split("?")[1].split("#")[0]);if(null!=t.error){var n
;throw new dd.Z(w.lTL.OAUTH2_ERROR,"OAuth2 Error: ".concat(t.error,": ").concat(null!==(n=t.error_description)&&void 0!==n?n:"unknown error"))}return{code:t.code}})).catch((function(e){r.authorization.authing=!1;throw e}))}}),n}((function(e,t,n,o,i,a,s,c,u,f,d,p,h){var E="OAuth2Authorize_".concat(e,"_").concat(f,"_").concat(d);return new Promise((function(y){var m=function(e){var t=e.location;y(t)};(0,l.openModal)((function(l){return(0,r.jsx)(Ih.OAuth2AuthorizeModal,Bh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kh(e,t,n[t])}))}return e}({},l),{authorization:t,clientId:e,scopes:null!=n?n:[],callback:m,responseType:i,redirectUri:a,codeChallenge:s,codeChallengeMethod:c,state:u,permissions:o,guildId:f,channelId:d,prompt:p,
disableGuildSelect:"boolean"==typeof h?h:"true"===h}))}),{modalKey:E,onCloseRequest:function(){(0,l.closeModal)(E);y(void 0)}},Oh(t.application)?l.POPOUT_MODAL_CONTEXT:l.DEFAULT_MODAL_CONTEXT)}))}),(function(e){if(ls.FB){var t=Oh(e)?w.KJ3.CHANNEL_CALL_POPOUT:null;(0,ls.ED)()?sd.default.minimize(t):sd.default.restore(t);sd.default.focus(t)}}));var Vh=n(196389),Fh=n(717187),Yh=n.n(Fh),zh=n(930948),Wh=n(90924);function Kh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xh(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Qh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xh(i,r,o,a,s,"next",e)}function s(e){Xh(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $h(e){
$h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return $h(e)}function Jh(e,t){return!t||"object"!==nE(t)&&"function"!=typeof t?qh(e):t}function eE(e,t){eE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return eE(e,t)}function tE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kh(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function rE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=$h(e);if(t){var o=$h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jh(this,n)}}var oE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},iE=new Map,aE=new Set,sE=function(e,t,n){n([Wh.Z.CLOSE,t],e)},lE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&eE(e,t)}(r,e);var t=rE(r);function r(e,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var s;(s=t.call(this)).disconnectSocket=function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.emit("disconnect",e,o?void 0:t);e.close(t.code,null!==(n=t.message)&&void 0!==n?n:"Unknown");var i=tE(null!==(r=Array.from(iE.entries()).find((function(t){var n=tE(t,2);n[0];return n[1]===e})))&&void 0!==r?r:[null,null],1),a=i[0];null!=a&&iE.delete(a)};s.handleIFrameMount=function(e){var t=e.id;aE.add(t);s.handshakeFailureTimeoutId=setTimeout((function(){Array.from(j.ZP.getSelfEmbeddedActivities().entries()).forEach((function(e){var t=tE(e,2),n=t[0],r=t[1];Oe.default.track(w.rMx.ACTIVITY_HANDSHAKE_TIMED_OUT,{application_id:n,channel_id:r.channelId,guild_id:r.guildId,timeout_ms:1e4})}))}),1e4)}
;s.handleIFrameUnmount=function(e){var t,n=e.id;aE.delete(n);var r=tE(null!==(t=Array.from(iE.entries()).find((function(e){var t=tE(e,2);t[0];return t[1].frameId===n})))&&void 0!==t?t:[null,null],2),o=r[0],i=r[1];if(null!=i&&null!=o){s.disconnectSocket(i,{code:w.$VG.CLOSE_NORMAL,message:"iFrame gone"},!0);iE.delete(o)}};s.handleMessage=function(e,t,n){var r=iE.get(t);try{s.routeEvent(r,t,e,n)}catch(e){null!=r?s.disconnectSocket(r,{code:e.code,message:e.message},!0):sE(t,{code:e.code,message:e.message},n)}};s.handleFrame=function(e,t,n){var r,o,i;if(e!==t.origin)throw new dd.Z(w.$VG.INVALID_ORIGIN,"Origin has changed");try{i="string"==typeof n?JSON.parse(n):n}catch(e){throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Payload not recognized encoding")}null===(o=(r=s).onFrameHandled)||void 0===o||o.call(r,i,s.logger,t);s.emit("request",t,i)};var l,c=qh(s);s.handleHandshake=(l=Qh((function(e,t,r){var o,i,a,s,l,u;return oE(this,(function(f){switch(f.label){case 0:
null!=c.handshakeFailureTimeoutId&&clearTimeout(c.handshakeFailureTimeoutId);return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:o=f.sent().default;try{o.assert(t,o.object().required().keys({v:o.number().min(1).max(1).required(),encoding:o.string().equal("json").optional(),client_id:o.string().required(),frame_id:o.string().required()}))}catch(e){throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,e.message)}a=(i=t).frame_id;if(!aE.has(a)){c.logger.error("Unrecognized frame ID ".concat(a));throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}try{s=c.createPostMessageProxySocket({origin:e,postMessageToRPCClient:r,frameId:a,version:Number(i.v),logger:c.logger,postClose:sE,encoding:null!==(l=i.encoding)&&void 0!==l?l:"json"})}catch(e){c.logger.error("Error opening window socket ".concat(e));throw e}c.logger.info("Socket Opened: ".concat(s.id));f.label=2;case 2:f.trys.push([2,4,,5]);return[4,c.validateSocketClient(s,e,i.client_id)];case 3:f.sent();if(!aE.has(a)){
c.logger.error("Frame ID ".concat(a," no longer exists"));throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Unrecognized frame ID ".concat(a))}iE.set(e,s);aE.delete(a);c.emit("connect",s);c.logger.info("Socket Validated: ".concat(s.id));return[3,5];case 4:u=f.sent();c.logger.info("Socket Closed: ".concat(s.id,", ").concat(u.message));throw u;case 5:return[2]}}))})),function(e,t,n){return l.apply(this,arguments)});var u=qh(s);s.handleClose=function(){var e=Qh((function(e,t){var r,o;return oE(this,(function(i){switch(i.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:r=i.sent().default;try{r.assert(t,r.object().required().unknown(!0).keys({code:r.number().valid(Object.values(w.$VG)).required(),message:r.string().optional()}))}catch(e){throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,e.message)}o=t;u.disconnectSocket(e,o);return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();zh.S.subscribe(w.CkL.IFRAME_MOUNT,s.handleIFrameMount)
;zh.S.subscribe(w.CkL.IFRAME_UNMOUNT,s.handleIFrameUnmount);s.validateSocketClient=e;s.logger=o;s.createPostMessageProxySocket=i;s.onFrameHandled=a;return s}r.prototype.routeEvent=function(e,t,n,r){if(!Array.isArray(n))throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Protocol error");var o=tE(n,2),i=o[0],a=o[1];switch(i){case Wh.Z.HANDSHAKE:if(null!=e)throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Already connected");return this.handleHandshake(t,a,r);case Wh.Z.FRAME:if(null==e)throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleFrame(t,e,a);case Wh.Z.CLOSE:if(null==e)throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Not connected");return this.handleClose(e,a);default:throw new dd.Z(w.$VG.CLOSE_UNSUPPORTED,"Invalid opcode")}};return r}(Yh()),cE=n(731458);function uE(e){uE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return uE(e)}function fE(e,t){return!t||"object"!==pE(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dE(e,t){dE=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return dE(e,t)}var pE=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function hE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=uE(e);if(t){var o=uE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fE(this,n)}}var EE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&dE(e,t)}(n,e);var t=hE(n)
;function n(e){var r,o=e.origin,i=e.postMessageToRPCClient,a=e.frameId,s=e.version,l=e.encoding,c=e.logger,u=e.postClose,f=e.onSendingToRPCClient;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);r=t.call(this,w.Hej.POST_MESSAGE,s,l);if(-1===["etf","json"].indexOf(l))throw new dd.Z(w.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(l));if("etf"===l)throw new dd.Z(w.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");r.origin=o;r.postMessageToRPCClient=i;r.frameId=a;r.logger=c;r.postClose=u;r.onSendingToRPCClient=f;r.closed=!1;return r}var r=n.prototype;r.send=function(e){var t;null===(t=this.onSendingToRPCClient)||void 0===t||t.call(this,e,this.id);this.postMessageToRPCClient([Wh.Z.FRAME,e],this.origin)};r.close=function(e,t){this.closed||this.postClose(this.origin,{code:e,message:t},this.postMessageToRPCClient);this.closed=!0};return n}(cE.Z);const yE=function(e){
var t=e.origin,n=e.postMessageToRPCClient,r=e.frameId,o=e.version,i=e.encoding,a=e.logger,s=e.postClose;return new EE({origin:t,postMessageToRPCClient:n,frameId:r,version:o,encoding:i,logger:a,postClose:s,onSendingToRPCClient:function(e,t){(Ct.default.isLoggingOverlayEvents||e.cmd!==w.Etm.OVERLAY&&e.evt!==w.zMe.OVERLAY)&&a.info("Socket Emit: ".concat(t),(0,Vh.Z)(e))}})};var mE=new el.Z("RPCServer:PostMessage"),_E=function(e,t,n){(Ct.default.isLoggingOverlayEvents||e.cmd!==w.Etm.OVERLAY)&&t.info("Socket Message: ".concat(n.id),(0,Vh.Z)(e))};const gE={authCommands:Hh,voiceSettingsEvents:vh,postMessageTransport:function(){var e=new lE(bh.em,mE,yE,_E);window.addEventListener("message",(function(t){if(window!==t.source)if(null!=t.source&&null!=t.source.postMessage){var n=t.source,r=t.data,o=t.origin;e.handleMessage(r,o,(function(e,t){n.postMessage(e,t)}))}else mE.error("Unknown event source")}));return e}()};var bE=n(148834);var vE=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.zMe.OVERLAY_UPDATE,{scope:w.lHf,handler:function(e){var t=e.args.pid,n=e.socket;if("number"!=typeof t||t<10)throw new dd.Z(w.lTL.INVALID_EVENT,"Invalid pid");return function(e){var r=e.prevState,o=e.dispatch,i=lc.Z.enabled,a=!0,s=n.application.id;if(null!=s){var l=sl.Z.getActiveLibraryApplication(s);null!=l&&(i=i&&l.isOverlayEnabled());a=lc.Z.isInputLocked(t)}var c={enabled:i,locked:a};Ke().isEqual(c,r)||o(c);return c}}}),OE=n(57141),IE=n(846334),SE=n(496916);function TE(e,t){return null!=e.application_id&&null==t.getApplicationActivity(e.application_id,!1)}var NE=n(63509);function CE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function AE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){CE(i,r,o,a,s,"next",e)}function s(e){CE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function PE(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var RE=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function jE(e){var t=e.applicationId,o=e.channelId,i=e.mediaUrl,a=NE.Z.getWindowOpen(w.KJ3.CHANNEL_CALL_POPOUT)?l.POPOUT_MODAL_CONTEXT:l.DEFAULT_MODAL_CONTEXT;(0,l.openModalLazy)(AE((function(){var e,a;return RE(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(50648)]).then(n.bind(n,350648))];case 1:e=s.sent(),a=e.default;return[2,function(e){return(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){PE(e,t,n[t])}))}return e}({applicationId:t,channelId:o,mediaUrl:i},e))}]}}))})),{modalKey:"activity-share-moment-modal",
contextKey:a})}var ME=n(997582),wE=n(436154),xE=n(585622),LE=n(202181),DE=n(15970);function ZE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function UE(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ZE(i,r,o,a,s,"next",e)}function s(e){ZE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function GE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kE(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var BE,HE=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function VE(e,t,n,r){return FE.apply(this,arguments)}function FE(){FE=UE((function(e,t,n,r){var o,i,a,s,l=arguments;return HE(this,(function(c){switch(c.label){case 0:o=l.length>4&&void 0!==l[4]?l[4]:"";if(null==(i=ME.Z.getApplicationActivity(t))||null==i.secrets||!(0,td.t9)(r,i.party,i.secrets))throw new dd.Z(w.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");if(a=TE(i,wE.Z)){s=(0,bh.s0)(e).lock;return[2,(0,IE.h7)(i,a).then((function(){s();throw new dd.Z(w.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))]}return[4,OE.Z.sendActivityInviteUser({userId:n,type:r,activity:i,content:o,location:"In-Game Invite"})];case 1:c.sent();return[2]}}))}));return FE.apply(this,arguments)}const YE=(GE(BE={},w.Etm.SEND_ACTIVITY_JOIN_INVITE,{scope:GE({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(e){
var t=e.socket,n=e.args,r=n.user_id,o=n.pid,i=t.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return VE(o,i,r,w.mFx.JOIN)}}),GE(BE,w.Etm.CLOSE_ACTIVITY_JOIN_REQUEST,{scope:GE({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),handler:function(e){var t=e.args.user_id,n=S.Z.getDMFromUserId(t);null!=n&&(0,SE.In)(n,!0,!0)}}),GE(BE,w.Etm.ACTIVITY_INVITE_USER,{scope:GE({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),validation:function(e){return pd(e).required().keys({user_id:e.string().required(),type:e.number().required().valid([w.mFx.JOIN]),content:e.string().min(0).max(1024),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.content,a=n.pid,s=t.application.id;if(null==s)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return VE(a,s,o,r,i)}}),GE(BE,w.Etm.ACCEPT_ACTIVITY_INVITE,{scope:GE({},w.Gp_.ANY,[w.xVR.RPC,w.lHf]),validation:function(e){return pd(e).required().keys({type:e.number().required().valid([w.mFx.JOIN]),
user_id:e.string().required(),session_id:e.string().required(),channel_id:e.string().required(),message_id:e.string().required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.user_id,i=n.session_id,a=n.channel_id,s=n.message_id,l=t.application.id;if(null==l)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var c=Promise.resolve(!1);if(r===w.mFx.JOIN)c=Js.Z.join({userId:o,sessionId:i,applicationId:l,channelId:a,messageId:s});return c.then((function(e){if(!e)throw new dd.Z(w.lTL.INVALID_INVITE,"Invite is expired or invalid.")}))}}),GE(BE,w.Etm.OPEN_INVITE_DIALOG,{scope:GE({},w.Gp_.ANY,[w.xVR.RPC,w.lHf,w.wEG]),handler:function(e){var t=e.socket,o=function(){var e=A.Z.getVoiceChannelId(),t=S.Z.getChannel(e);if(null==t)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel ".concat(e));var n=In.Z.getGuild(t.getGuildId());if(null==n)throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid guild ".concat(t.getGuildId()));if(!(0,
DE.b)(Ds.Z,n,t))throw new dd.Z(w.lTL.INVALID_PERMISSIONS,"No invite permissions for ".concat(e));return{channel:t,guild:n}}(),i=o.channel,a=o.guild,s=I.Z.getWindow(w.KJ3.CHANNEL_CALL_POPOUT);(null==s?void 0:s.closed)&&(s=null);var c=null!=s?w.IlC.POPOUT:w.IlC.APP;(0,LE.Pr)({},null==s?void 0:s.document);(0,l.openModalLazy)(UE((function(){var e,o;return HE(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765)]).then(n.bind(n,654765))];case 1:e=s.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,kE(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GE(e,t,n[t])}))}return e}({},e),{guild:a,channel:i,applicationId:t.application.id,analyticsLocation:w.Sbl.ACTIVITY_RPC,source:w.t4x.ACTIVITY_INVITE}))}]}}))
})),{contextKey:c===w.IlC.POPOUT?l.POPOUT_MODAL_CONTEXT:l.DEFAULT_MODAL_CONTEXT})}}),GE(BE,w.Etm.OPEN_SHARE_MOMENT_DIALOG,{scope:GE({},w.Gp_.ANY,[w.wEG]),validation:function(e){return pd(e).required().keys({mediaUrl:e.string().required().max(1024)})},handler:function(e){var t=e.socket,n=e.args.mediaUrl;(0,td.bu)(t.transport);var r,o=t.application.id;if(null==o)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");if(!(0,_d.yE)(null!==(r=t.application.flags)&&void 0!==r?r:0,w.udG.EMBEDDED))throw new dd.Z(w.lTL.INVALID_COMMAND,"This application cannot access this API");var i=A.Z.getVoiceChannelId();if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No channelId found");if(!xE.Z.isDiscordCdnUrl(n))throw new dd.Z(w.lTL.INVALID_PAYLOAD,"mediaUrl must be a Discord CDN url");jE({applicationId:o,channelId:i,mediaUrl:n})}}),BE);var zE=n(513328),WE=n(151367);function KE(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qE(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){KE(i,r,o,a,s,"next",e)}function s(e){KE(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XE(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function QE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){XE(e,t,n[t])}))}return e}function $E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var JE,ey=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function ty(e,t){var n=WE.Z.isEntitledToSku(Y.default.getCurrentUser(),e,t);return null!=n?Promise.resolve(n):(0,Sp.yD)(t).then((function(){return!0===WE.Z.isEntitledToSku(Y.default.getCurrentUser(),e,t)}))}const ny=(XE(JE={},w.Etm.VALIDATE_APPLICATION,{scope:w.lHf,handler:function(e){var t=e.socket.application.id;try{if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var o=tl.Z.getGame(t);if(null==o)throw new dd.Z(w.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");var i=o.primarySkuId;if(null==i)throw new dd.Z(w.lTL.INVALID_ENTITLEMENT,"SKU does not exist.");return Promise.race([ty(i,o.id).then((function(e){if(!e)throw new dd.Z(w.lTL.INVALID_ENTITLEMENT,"User does not have entitlement.")})),(0,zE.GR)(1e4).then((function(){
throw new dd.Z(w.lTL.INVALID_ENTITLEMENT,"Timed out fetching entitlement.")}))])}catch(e){if(e.code===w.lTL.INVALID_ENTITLEMENT){sd.default.focus(null,!0);(0,l.openModalLazy)(qE((function(){var e,o;return ey(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(7811)]).then(n.bind(n,707811))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,$E(QE({},e),{applicationId:t}))}]}}))})))}throw e}}}),XE(JE,w.Etm.GET_ENTITLEMENT_TICKET,{scope:w.lHf,handler:function(e){var t=e.socket.application.id;if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return ld.Z.post({url:w.ANM.ENTITLEMENT_TICKET(t),body:{test_mode:bl.Z.inTestModeForApplication(t)||md.Z.inDevModeForApplication(t)},retries:3,oldFormErrors:!0}).then((function(e){return e.body})).catch((function(e){sd.default.focus(null,!0);(0,l.openModalLazy)(qE((function(){var e,o;return ey(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(7811)]).then(n.bind(n,707811))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,$E(QE({},e),{applicationId:t}))}]}}))})));throw e}))}}),JE);var ry=n(379991),oy=n(649222);function iy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ay(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iy(i,r,o,a,s,"next",e)}function s(e){iy(i,r,o,a,s,"throw",e)}a(void 0)}))}}function sy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ly=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},cy="activity-hardware-acceleration-modal";function uy(e){!ry.ZP.disableActivityHardwareAccelerationPrompt&&ls.FB&&!sd.default.getEnableHardwareAcceleration()&&(0,l.openModalLazy)(ay((function(){var t,o
;return ly(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,649222))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sy(e,t,n[t])}))}return e}({applicationId:e},t))}]}}))})),{modalKey:cy,onCloseRequest:function(){Oe.default.track(w.rMx.MODAL_DISMISSED,{type:oy.ACTIVITY_ENCOURAGES_HW_ACCELERATION});(0,l.closeModal)(cy)}})}const fy=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},w.Etm.ENCOURAGE_HW_ACCELERATION,{validation:function(e){return pd(e)},handler:function(e){var t=e.socket;(0,td.bu)(t.transport);var n=t.application.id;if(null!=n){uy(n);return{
enabled:sd.default.getEnableHardwareAcceleration()}}}});function dy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function py(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dy(i,r,o,a,s,"next",e)}function s(e){dy(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ey(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var yy,my=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const _y=(hy(yy={},w.Etm.SET_OVERLAY_LOCKED,{scope:w.lHf,validation:function(e){return pd(e).required().keys({locked:e.boolean().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.locked,r=t.pid;if(null==e.socket.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");Kl.Z.setLocked(n,r)}}),hy(yy,w.Etm.OPEN_OVERLAY_ACTIVITY_INVITE,{scope:w.lHf,validation:function(e){return pd(e).required().keys({type:e.number().required().valid([w.mFx.JOIN]),pid:e.number().min(0).required()})},handler:function(e){var t=e.socket,n=e.args,r=n.type,o=n.pid,i=t.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var a=ME.Z.getApplicationActivity(i);if(null==a||null==a.secrets||!(0,td.t9)(r,a.party,a.secrets))throw new dd.Z(w.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure an activity includes a party and appropriate secret.");var s=(0,bh.s0)(o).lock,l=TE(a,wE.Z)
;return(0,IE.h7)(a,l).then((function(){s();if(l)throw new dd.Z(w.lTL.NO_ELIGIBLE_ACTIVITY,"No eligible activity for application. Ensure user does have have privacy enabled.")}))}}),hy(yy,w.Etm.OPEN_OVERLAY_GUILD_INVITE,{scope:w.lHf,validation:function(e){return pd(e).required().keys({code:e.string().required(),pid:e.number().min(0).required()})},handler:function(e){var t=e.args,n=t.code,r=t.pid;if(null==e.socket.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return po.Z.resolveInvite(n,"Game SDK").then((function(e){var t=e.invite,n=e.code;if(null==t)throw new dd.Z(w.lTL.INVALID_INVITE,"Invalid invite id: ".concat(n));var o=(0,bh.s0)(r),i=o.context,a=o.lock;return new Promise((function(e){b.Z.dispatch({type:"INVITE_MODAL_OPEN",invite:t,code:n,context:i,resolve:e})})).then(a)}))}}),hy(yy,w.Etm.OPEN_OVERLAY_VOICE_SETTINGS,{scope:w.lHf,validation:function(e){return pd(e).required().keys({pid:e.number().min(0).required()})},handler:function(e){
var t=e.args.pid,o=e.socket,i=o.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var a=(0,bh.s0)(t).lock;return new Promise((function(e){(0,l.openModalLazy)(py((function(){var t,s;return my(this,(function(l){switch(l.label){case 0:return[4,Promise.all([n.e(40532),n.e(64045),n.e(21723)]).then(n.bind(n,621723))];case 1:t=l.sent(),s=t.default;return[2,function(t){return(0,r.jsx)(s,Ey(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hy(e,t,n[t])}))}return e}({},t),{mediaEngineContext:i,title:o.application.name,onClose:function(){t.onClose();a();e()}}))}]}}))})))}))}}),yy);var gy=n(97245),by=n(673679),vy=n(561177),Oy=n(579344),Iy=n(563726),Sy=n(145739);function Ty(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ny(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ty(i,r,o,a,s,"next",e)}function s(e){Ty(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Cy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cy(e,t,n[t])}))}return e}function Py(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ry,jy,My=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.SETTINGS="settings";e.CHANGELOG="changelog";e.LIBRARY="library";e.STORE="store";e.INVITE="invite";e.CHANNEL="channel";e.GUILD_SETTINGS="guild_settings"}(Ry||(Ry={}));function wy(e,t){null!=e&&Oe.default.track(w.rMx.EXTERNAL_DYNAMIC_LINK_RECEIVED,{invite_code:null,has_auth_token:null,is_backgrounded:null,fingerprint:(0,gy.s)(e),link_type:t})}const xy=(Cy(jy={},w.Etm.INVITE_BROWSER,{scope:w.cEn,handler:function(e){var t=e.args.code;return Ny((function(){var e;return My(this,(function(n){switch(n.label){case 0:return[4,po.Z.resolveInvite(t,"Desktop Modal")];case 1:if(null==(e=n.sent().invite))throw new dd.Z(w.lTL.INVALID_INVITE,"Invalid invite id: ".concat(t));ut.default.isAuthenticated()?b.Z.dispatch({
type:"INVITE_MODAL_OPEN",invite:e,code:t,context:w.IlC.APP}):(0,K.dL)(w.Z5c.INVITE(t));return[2,{invite:e,code:t}]}}))}))()}}),Cy(jy,w.Etm.GUILD_TEMPLATE_BROWSER,{scope:w.cEn,handler:function(e){var t=e.args.code;return Ny((function(){var e;return My(this,(function(o){switch(o.label){case 0:return null==Y.default.getCurrentUser()?[2]:[4,Sy.Z.resolveGuildTemplate(t)];case 1:if(null==(e=o.sent().guildTemplate))throw new dd.Z(w.lTL.INVALID_GUILD_TEMPLATE,"Invalid guild template id: ".concat(t));sd.default.focus();(0,l.openModalLazy)(Ny((function(){var t,o;return My(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(75336)]).then(n.bind(n,175336))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,Py(Ay({},t),{guildTemplate:e}))}]}}))})));return[2,{guildTemplate:e,code:t}]}}))}))()}}),Cy(jy,w.Etm.GIFT_CODE_BROWSER,{scope:w.cEn,handler:function(e){var t=e.args.code;return new Promise((function(e,o){b.Z.wait((function(){
Iy.Z.resolveGiftCode(t,!0,!0).then((function(o){var i=o.giftCode;sd.default.focus();Oe.default.track(w.rMx.OPEN_MODAL,{type:"gift_accept",location:w.SaU});(0,l.openModalLazy)(Ny((function(){var e,o;return My(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(33600)]).then(n.bind(n,133600))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ay({code:t},e))}]}}))})));e({giftCode:i})})).catch((function(){return o(new dd.Z(w.lTL.INVALID_GIFT_CODE,"Invalid gift code: ".concat(t)))}))}))}))}}),Cy(jy,w.Etm.DEEP_LINK,{scope:w.cEn,handler:function(e){var t=e.args,n=t.type,r=t.params;sd.default.focus();switch(n){case w.jEp.USER_SETTINGS:if(null!=r){(0,K.dL)(w.Z5c.SETTINGS(r.section,r.subsection));wy(r.fingerprint,Ry.SETTINGS)}break;case w.jEp.CHANGELOG:if(null!=r){(0,K.dL)(xE.Z.formatPathWithQuery(w.Z5c.CHANGELOGS(r.date),r.query));wy(r.fingerprint,Ry.CHANGELOG)}break;case w.jEp.LIBRARY:(0,K.dL)(w.Z5c.APPLICATION_LIBRARY)
;null!=r&&wy(r.fingerprint,Ry.LIBRARY);break;case w.jEp.STORE_HOME:(0,K.dL)(w.Z5c.APPLICATION_STORE);null!=r&&wy(r.fingerprint,Ry.STORE);break;case w.jEp.STORE_LISTING:if(null!=r){(0,K.dL)(w.Z5c.APPLICATION_STORE_LISTING_SKU(r.skuId,r.slug));wy(r.fingerprint,Ry.STORE)}break;case w.jEp.PICK_GUILD_SETTINGS:if(null!=r){(0,K.dL)({pathname:w.Z5c.PICK_GUILD_SETTINGS(r.section,r.subsection),search:r.search});wy(r.fingerprint,Ry.GUILD_SETTINGS)}break;case w.jEp.CHANNEL:if(null!=r){(0,K.dL)({pathname:w.Z5c.CHANNEL(r.guildId,r.channelId,r.messageId),search:r.search});wy(r.fingerprint,Ry.CHANNEL)}}}}),Cy(jy,w.Etm.BROWSER_HANDOFF,{scope:w.CND,handler:function(e){var t=e.args,n=t.handoffToken,r=t.fingerprint;sd.default.focus(null,!0);(0,vy.lx)(n,r)}}),Cy(jy,w.Etm.CONNECTIONS_CALLBACK,{scope:w.cEn,handler:function(e){var t=e.args,n=t.providerType,r=t.code,o=t.openid_params,i=t.state;return Oy.Z.callback(n,{code:r,openid_params:o,state:i})}}),Cy(jy,w.Etm.BRAINTREE_POPUP_BRIDGE_CALLBACK,{scope:w.cEn,
handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query;return(0,by.rt)({paymentSourceType:w.HeQ.PAYPAL,state:n,path:r,query:o})}}),Cy(jy,w.Etm.BILLING_POPUP_BRIDGE_CALLBACK,{scope:w.cEn,handler:function(e){var t=e.args,n=t.state,r=t.path,o=t.query,i=t.payment_source_type;return(0,by.rt)({paymentSourceType:i,state:n,path:r,query:o})}}),jy);var Ly=n(691287),Dy=n(203600);function Zy(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Uy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Gy,ky,By,Hy=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Vy=[fp.Z.RPC];function Fy(e){if(null==e)return{lock:w.VqG,context:w.IlC.APP};var t=(0,bh.s0)(e);return{lock:t.lock,context:t.context}}function Yy(e,t){var n={subscriptionTier:Dy.Si.TIER_2,analyticsLocations:Vy,analyticsObject:t};switch(e){case w.IlC.APP:
return Sf.Z.openPremiumPaymentModalInApp(n);case w.IlC.OVERLAY:return Sf.Z.openPremiumPaymentModalInOverlay(n);default:throw new Error("Unexpected app context: ".concat(e))}}const zy=(Uy(By={},w.Etm.START_PURCHASE,(Uy(Gy={},w.Gp_.ANY,[w.wEG,w.lHf]),Uy(Gy,"validation",(function(e){return pd(e).required().keys({sku_id:e.string().required(),pid:e.number().min(0)})})),Uy(Gy,"handler",(function(e){var t=e.socket,n=e.args,r=n.sku_id,o=n.pid;Ap(t.transport);var i=t.application.id;if(null==i)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var a=Fy(t.transport!==w.Hej.POST_MESSAGE?o:null),s=a.lock,l=a.context,c=A.Z.getVoiceChannelId();if(null==S.Z.getChannel(c))throw new dd.Z(w.lTL.INVALID_CHANNEL,"Invalid channel ".concat(c));var u,f,d={page:w.ZY5.IN_APP},p=(f=(u=function(){var e,t;return Hy(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,(0,Ly.S)({applicationId:i,skuId:r,openPremiumPaymentModal:function(){return Yy(l,d)},analyticsLocations:Vy,
analyticsLocation:d,context:l})];case 1:e=n.sent();s();return[2,e];case 2:t=n.sent();s();if(null!=t)throw new dd.Z(w.lTL.PURCHASE_ERROR,t);throw new dd.Z(w.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.");case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function i(e){Zy(o,n,r,i,a,"next",e)}function a(e){Zy(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(){return f.apply(this,arguments)});return p()})),Gy)),Uy(By,w.Etm.START_PREMIUM_PURCHASE,(Uy(ky={},w.Gp_.ANY,[w.wEG,w.lHf]),Uy(ky,"validation",(function(e){return pd(e).keys({pid:e.number().min(0)})})),Uy(ky,"handler",(function(e){var t=e.socket,n=e.args.pid;Ap(t.transport);if(null==t.application.id)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");var r=Fy(t.transport!==w.Hej.POST_MESSAGE?n:null),o=r.lock;return Yy(r.context,{page:w.ZY5.IN_APP}).then((function(){o()}),(function(e){o();if(null!=e)throw new dd.Z(w.lTL.PURCHASE_ERROR,e)
;throw new dd.Z(w.lTL.PURCHASE_CANCELED,"Purchase was canceled by the user.")}))})),ky)),By);var Wy=n(904333);function Ky(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function qy(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ky(i,r,o,a,s,"next",e)}function s(e){Ky(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Xy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Qy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}var $y,Jy=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0
}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const em=(Xy($y={},ep.Et.TOGGLE_VIDEO,{scope:Xy({},w.Gp_.ALL,[ep.xV.RPC,ep.xV.RPC_VIDEO_WRITE]),handler:function(){var e=ga.Z.isVideoEnabled();null!=mp()&&(e?_a.Z.setVideoEnabled(!1):(0,Wy.Z)((function(){return _a.Z.setVideoEnabled(!0)}),w.IlC.APP))}}),Xy($y,ep.Et.TOGGLE_SCREENSHARE,{scope:Xy({},w.Gp_.ALL,[ep.xV.RPC,ep.xV.RPC_SCREENSHARE_WRITE]),validation:function(e){return pd(e).optional().keys({pid:e.number().optional().min(0)})},handler:function(e){var t=e.args.pid,o=ec.Z.getCurrentUserActiveStream(),i=ec.Z.getStreamerActiveStreamMetadata(),a=(0,oc.Z)(ba.ZP,tc.Z),s=mp();null!=s&&(null!=t&&null!=i&&i.pid!==t&&(0,ls.ED)()?(0,ql.WH)(s.guild_id,s.id,{pid:t}):null!=o?(0,ql.L6)(!1):null!=t&&(0,ls.ED)()?(0,ql.WH)(s.guild_id,s.id,{pid:t}):null!=a?(0,ql.WH)(s.guild_id,s.id,{pid:a.pid}):(0,l.openModalLazy)(qy((function(){var e,t;return Jy(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(17629)]).then(n.bind(n,417629))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Qy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Xy(e,t,n[t])}))}return e}({},e),{guildId:s.guild_id,analyticsLocation:w.Sbl.ACTIVITY_RPC}))}]}}))}))))}}),$y);var tm,nm=n(79251);function rm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function om(e){var t=e.application.id;if(null==t)throw new dd.Z(w.lTL.INVALID_COMMAND,"No application.");return t}const im=(rm(tm={},w.Etm.SET_VOICE_SETTINGS_2,{scope:w.lHf,validation:function(e){return pd(e).required().keys({input_mode:pd(e).keys({type:e.string().valid(Object.keys(w.pM4)),
shortcut:e.string().required()}),self_mute:e.boolean(),self_deaf:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.input_mode,o=n.self_mute,i=n.self_deaf,a=om(t);null!=r&&_a.Z.setMode(r.type,{shortcut:(0,nm.Kd)(r.shortcut)},a);null!=o&&o!==ga.Z.isSelfMute(a)&&_a.Z.toggleSelfMute({context:a});null!=i&&i!==ga.Z.isSelfDeaf(a)&&_a.Z.toggleSelfDeaf({context:a})}}),rm(tm,w.Etm.SET_USER_VOICE_SETTINGS_2,{scope:w.lHf,validation:function(e){return pd(e).required().keys({user_id:e.string().required(),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.socket,n=e.args,r=n.user_id,o=n.mute,i=n.volume,a=om(t);null!=o&&o!==ga.Z.isLocalMute(r,a)&&_a.Z.toggleLocalMute(r,a);null!=i&&_a.Z.setLocalVolume(r,i,a)}}),rm(tm,w.Etm.PUSH_TO_TALK,{scope:rm({},w.Gp_.ALL,[w.xVR.RPC,w.xVR.RPC_VOICE_WRITE]),validation:function(e){return pd(e).required().keys({active:e.boolean()})},handler:function(e){var t=e.args.active
;ga.Z.getMode(va.Yn.DEFAULT)===w.pM4.PUSH_TO_TALK&&ga.Z.getMediaEngine().eachConnection((function(e){return e.setForceAudioInput(t)}),va.Yn.DEFAULT)}}),tm);function am(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var sm;const lm=(am(sm={},w.Etm.SET_USER_VOICE_SETTINGS,{scope:am({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_WRITE]),validation:function(e){return pd(e).required().keys({user_id:e.string().required(),pan:pd(e).keys({left:e.number().min(0).max(1).required(),right:e.number().min(0).max(1).required()}),volume:e.number().min(0).max(200),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.user_id,r=t.pan,o=t.volume,i=t.mute,a=Y.default.getCurrentUser();if(null==Y.default.getUser(n)||(null==a?void 0:a.id)===n)throw new dd.Z(w.lTL.INVALID_USER,"Invalid user id: ".concat(n));null!=r&&_a.Z.setLocalPan(n,r.left,r.right);null!=o&&_a.Z.setLocalVolume(n,o);if(null!=i){var s=ga.Z.isLocalMute(n)
;(s&&!i||!s&&i)&&_a.Z.toggleLocalMute(n)}return{user_id:n,pan:ga.Z.getLocalPan(n),volume:ga.Z.getLocalVolume(n),mute:ga.Z.isLocalMute(n)}}}),am(sm,w.Etm.GET_VOICE_SETTINGS,{scope:am({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_READ]),handler:function(){return(0,bh._X)()}}),am(sm,w.Etm.SET_VOICE_SETTINGS,{scope:am({},w.Gp_.ANY,[w.xVR.RPC,w.xVR.RPC_VOICE_WRITE]),validation:function(e){return pd(e).required().keys({input:pd(e).keys({device_id:e.string().valid(Object.keys(ga.Z.getInputDevices())),volume:e.number().min(0).max(100)}),output:pd(e).keys({device_id:e.string().valid(Object.keys(ga.Z.getOutputDevices())),volume:e.number().min(0).max(200)}),mode:pd(e).keys({type:e.string().valid(Object.keys(w.pM4)),auto_threshold:e.boolean(),threshold:e.number().min(-100).max(0),shortcut:e.array().items(pd(e).keys({type:e.number().min(0).max(3).required(),code:e.number().required(),name:e.string()})),delay:e.number().min(0).max(2e3)}),automatic_gain_control:e.boolean(),echo_cancellation:e.boolean(),
noise_suppression:e.boolean(),qos:e.boolean(),silence_warning:e.boolean(),deaf:e.boolean(),mute:e.boolean()})},handler:function(e){var t=e.args,n=t.input,r=t.output,o=t.mode,i=t.automatic_gain_control,a=t.echo_cancellation,s=t.noise_suppression,l=t.qos,c=t.silence_warning,u=t.deaf,f=t.mute;if(n){null!=n.device_id&&_a.Z.setInputDevice(n.device_id);null!=n.volume&&_a.Z.setInputVolume(n.volume)}if(r){null!=r.device_id&&_a.Z.setOutputDevice(r.device_id);null!=r.volume&&_a.Z.setOutputVolume(r.volume)}if(o){var d=ga.Z.getMode(),p=ga.Z.getModeOptions();null!=o.type&&(d=o.type);null!=o.auto_threshold&&(p.autoThreshold=o.auto_threshold);null!=o.threshold&&(p.threshold=o.threshold);null!=o.shortcut&&(p.shortcut=o.shortcut.map((function(e){return[e.type,e.code]})));null!=o.delay&&(p.delay=o.delay);_a.Z.setMode(d,p)}null!=i&&_a.Z.setAutomaticGainControl(i);null!=a&&_a.Z.setEchoCancellation(a);null!=s&&_a.Z.setNoiseSuppression(s);null!=l&&_a.Z.setQoS(l);null!=c&&_a.Z.setSilenceWarning(c)
;if(null!=u){var h=ga.Z.isSelfDeaf();(h&&!u||!h&&u)&&_a.Z.toggleSelfDeaf()}if(null!=f){var E=ga.Z.isSelfMute();(E&&!f||!E&&f)&&_a.Z.toggleSelfMute()}return(0,bh._X)()}}),sm);function cm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cm(e,t,n[t])}))}return e}var fm=um({},dh,YE,ny,fy,_y,xy,zy,em,lm,im,gE.authCommands),dm=um({},_h,vE,gE.voiceSettingsEvents);const pm=new ad({server:bE.Z,commands:fm,events:dm,stores:[cc.Z],transports:[gE.postMessageTransport],registerTransportsForEmbeddedPlatform:function(){sd.default.ensureModule("discord_rpc").then((function(){var e=[n(907709).Z,n(199830).Z],t=!0,r=!1,o=void 0;try{
for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;bE.Z.registerTransport(s)}}catch(e){r=!0;o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}}))}});var hm=n(468874),Em=n(35723);function ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e){mm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mm(e)}function _m(e,t){return!t||"object"!==bm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gm(e,t){gm=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gm(e,t)}var bm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mm(e);if(t){var o=mm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _m(this,n)}}var Om=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gm(e,t)}(n,e);var t=vm(n);function n(){ym(this,n);var e;(e=t.apply(this,arguments)).linesToUpdate={};e.lineBatchTimer=new zE.Xp;e._handleDrawLinePoint=function(t){var n=t.channelId,r=t.lineId,o=t.streamerId,i=t.point;null==e.linesToUpdate[r]?e.linesToUpdate[r]={channelId:n,streamerId:o,points:[i]}:e.linesToUpdate[r].points.push(i);null==e.lineBatchTimer._ref&&e.lineBatchTimer.start(Em.Fq,e.sendLineBatch)};e.sendLineBatch=function(){for(var t in e.linesToUpdate){
var n=e.linesToUpdate[t],r=n.channelId,o=n.points,i=n.streamerId;(0,hm.AX)(r,t,i,o)}e.linesToUpdate={};e.lineBatchTimer.stop()};return e}var r=n.prototype;r._initialize=function(){if(!__OVERLAY__){b.Z.subscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);b.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived)}};r._terminate=function(){if(!__OVERLAY__){b.Z.unsubscribe("SHARED_CANVAS_DRAW_LINE_POINT",this._handleDrawLinePoint);b.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleVoiceChannelEffectReceived);this.lineBatchTimer.stop()}};r._handleVoiceChannelEffectReceived=function(e){var t,n=e.lineId,r=e.points,o=e.userId,i=e.streamerId,a=e.emojiHose;if(null!=i&&o!==(null===(t=Y.default.getCurrentUser())||void 0===t?void 0:t.id))if(null!=r&&null!=n){var s=Y.default.getUser(o);null!=s&&(0,Pr.vM)(s.getAvatarURL(null,Em.Ks));(0,hm.cV)(n,o,i,r)}else if(null!=a){a.lastUpdatedAt=Date.now();(0,hm.gr)(a,o,i)}};r.__getLocalVars=function(){return{}}
;return n}(O.Z);const Im=new Om;var Sm=n(190624),Tm=n(422513),Nm=n(550254),Cm=n(138049),Am=n(897699),Pm=n(539519);function Rm(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function jm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Rm(i,r,o,a,s,"next",e)}function s(e){Rm(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Mm=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},wm=new AudioContext,xm=new Map;function Lm(e){return Dm.apply(this,arguments)}function Dm(){return(Dm=jm((function(e){var t,n,r;return Mm(this,(function(o){switch(o.label){case 0:return null!=(t=xm.get(e))?[2,t]:[4,fetch(e)];case 1:return[4,o.sent().arrayBuffer()];case 2:n=o.sent();return[4,wm.decodeAudioData(n)];case 3:r=o.sent();xm.set(e,r);return[2,r]}}))}))).apply(this,arguments)}function Zm(e){var t,n=e.soundKey,r=e.soundURL,o=e.soundVolume,i=e.reportSoundStartedPlaying
;return new Promise((t=jm((function(e){var t;return Mm(this,(function(a){switch(a.label){case 0:return[4,Lm(r)];case 1:t=a.sent();ga.Z.getMediaEngine().eachConnection((function(r){if(r.context===Pm.Yn.DEFAULT){i();r.startSamplesLocalPlayback(n,t,o,(function(){e()}))}}));return[2]}}))})),function(e){return t.apply(this,arguments)}))}function Um(e,t){var n=e.soundKey,r=e.soundURL,o=e.soundVolume,i=e.reportSoundStartedPlaying,a=t.get(n);if(null==a)return new Promise((function(e){var a=new Audio(r);a.volume=(0,Ep.Rp)(o);a.addEventListener("canplaythrough",(function(){i();t.set(n,a);a.play()}));a.addEventListener("ended",(function(){t.delete(n);a.src="";e()}))}));a.currentTime=0}function Gm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function km(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Bm(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){km(i,r,o,a,s,"next",e)}function s(e){km(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fm(e){Fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fm(e)}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vm(e,t,n[t])}))}return e}function zm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Wm(e,t){return!t||"object"!==qm(t)&&"function"!=typeof t?Gm(e):t}function Km(e,t){Km=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Km(e,t)}var qm=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fm(e);if(t){var o=Fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wm(this,n)}}
var Qm=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},$m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Km(e,t)}(o,e);var t=Xm(o);function o(){Hm(this,o);var e;(e=t.apply(this,arguments)).playingSoundsWeb=new Map;e._stopAndClearSounds=function(){ga.Z.supports(va.AN.SAMPLE_PLAYBACK)&&ga.Z.getMediaEngine().eachConnection((function(e){e.stopAllSamplesLocalPlayback()}));e.playingSoundsWeb.forEach((function(e){e.pause();e.src=""}));e.playingSoundsWeb=new Map};e._handleToggleSelfDeafened=function(){ga.Z.isDeaf()&&e._stopAndClearSounds()};e._handleSoundboardSoundsReceived=function(e){var t=e.updates,n=[];t.forEach((function(e){var t=e.guildId;e.sounds.some((function(e){return null!=e.overridePath}))&&n.push(t)}));(0,dp.un)(n)};var i,a=Gm(e);e._playSound=(i=Bm((function(e){
var t,n,r,o,i,s=arguments;return Qm(this,(function(l){switch(l.label){case 0:t=s.length>1&&void 0!==s[1]?s[1]:1,n=s.length>2?s[2]:void 0,r=s.length>3?s[3]:void 0;o=null!=r&&A.Z.getVoiceChannelId()===r;if(null!=r&&!o||ga.Z.isDeaf()||pp.Z.isLocalSoundboardMuted(n))return[3,7];l.label=1;case 1:l.trys.push([1,,6,7]);i={soundKey:"".concat(n,"-").concat(e),soundURL:(0,Am.Z)(e),soundVolume:(0,Ep.Rp)(t),reportSoundStartedPlaying:function(){return(0,dp.xR)(e,n)}};return ga.Z.supports(va.AN.SAMPLE_PLAYBACK)?[4,Zm(i)]:[3,3];case 2:l.sent();return[3,5];case 3:return[4,Um(i,a.playingSoundsWeb)];case 4:l.sent();l.label=5;case 5:return[3,7];case 6:(0,dp.R)(e,n);return[7];case 7:return[2]}}))})),function(e){return i.apply(this,arguments)});e._handleSoundboardSoundReceived=function(t){var n=t.soundId,r=t.soundVolume,o=t.userId,i=t.channelId;if(null!=n&&o!==ut.default.getId())return e._playSound(n,r,o,i)};e._handleSoundboardSoundPlayLocally=function(t){var n=t.sound,r=t.channelId,o=ut.default.getId()
;return e._playSound(n.soundId,n.volume,o,r)};e._handleOverlaySoundboardSoundsFetchRequest=function(){(0,dp.w)()};e._handleVoiceChannelSelect=function(){e._stopAndClearSounds()};e._handleOpenEducationModal=function(e,t){if(null!=e){var o=S.Z.getChannel(t),i=Cm.Z.getKeybindForAction(w.kg4.SOUNDBOARD_HOLD);null!=o&&(0,ic.Z)(o)&&null!=i&&Nm.Z.hasHotspot(Tm.v6.SOUNDBOARD_WHEEL_EDUCATION_MODAL)&&(0,l.openModalLazy)(Bm((function(){var t,a;return Qm(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(38813)]).then(n.bind(n,938813))];case 1:t=s.sent(),a=t.default;return[2,function(t){return(0,r.jsx)(a,zm(Ym({},t),{guildId:e,keybind:i,channel:o}))}]}}))})))}};return e}var i=o.prototype;i._initialize=function(){if(!__OVERLAY__){b.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived);b.Z.subscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally);b.Z.subscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect)
;b.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened);b.Z.subscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest);b.Z.subscribe("SOUNDBOARD_SOUNDS_RECEIVED",this._handleSoundboardSoundsReceived)}};i._terminate=function(){if(!__OVERLAY__){b.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",this._handleSoundboardSoundReceived);b.Z.unsubscribe("GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",this._handleSoundboardSoundPlayLocally);b.Z.unsubscribe("VOICE_CHANNEL_SELECT",this._handleVoiceChannelSelect);b.Z.unsubscribe("AUDIO_TOGGLE_SELF_DEAF",this._handleToggleSelfDeafened);b.Z.unsubscribe("OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST",this._handleOverlaySoundboardSoundsFetchRequest);b.Z.unsubscribe("SOUNDBOARD_SOUNDS_RECEIVED",this._handleSoundboardSoundsReceived)}};i.__getLocalVars=function(){return{}};return o}(O.Z);const Jm=new $m;var e_=n(525261);function t_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function n_(e){n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return n_(e)}function r_(e,t){return!t||"object"!==i_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o_(e,t){o_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return o_(e,t)}var i_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function a_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=n_(e);if(t){var o=n_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return r_(this,n)}}var s_=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&o_(e,t)}(n,e);var t=a_(n);function n(){t_(this,n);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(t){var n=t.voiceStates,r=ut.default.getId();n.forEach((function(t){var n;if(t.userId===r){if(null===(n=S.Z.getChannel(t.channelId))||void 0===n?void 0:n.isGuildStageVoice()){if(!((0,e_.gf)(t)===e_.xO.ON_STAGE)){e.handleStopStream(t);e.handleStopUserVideo()}}}}))};e.handleStopStream=function(e){var t=ec.Z.getActiveStreamForUser(e.userId,e.guildId);null!=t&&(0,ql.g)((0,Jl.V9)(t),!1)};e.handleStopUserVideo=function(){ga.Z.isVideoEnabled()&&_a.Z.setVideoEnabled(!1)};return e}var r=n.prototype;r._initialize=function(){b.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};r._terminate=function(){b.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)}
;r.__getLocalVars=function(){return{}};return n}(O.Z);const l_=new s_;var c_=n(679450);function u_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function f_(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u_(i,r,o,a,s,"next",e)}function s(e){u_(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p_(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h_(e){h_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h_(e)}function E_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p_(e,t,n[t])}))}return e}function y_(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m_(e,t){return!t||"object"!==g_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function __(e,t){__=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return __(e,t)}var g_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b_(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h_(e);if(t){var o=h_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m_(this,n)}}var v_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},O_="STAGE_INVITED_TO_SPEAK_MODAL",I_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&__(e,t)}(o,e);var t=b_(o);function o(){d_(this,o);var e;(e=t.apply(this,arguments)).handleVoiceStateUpdates=function(e){var t,o=e.voiceStates,i=ut.default.getId(),a=null===(t=c_.Z.getSession())||void 0===t?void 0:t.sessionId,s=o.find((function(e){
return e.userId===i&&e.sessionId===a}));if(null!=s){var c=s.channelId;if(null!=c){var u=S.Z.getChannel(c);if(null==u?void 0:u.isGuildStageVoice()){var f=(0,e_.gf)(s)===e_.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK;if(null!=u&&f){if((0,l.hasModalOpen)(O_))return;(0,l.openModalLazy)(f_((function(){var e,t;return v_(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(29253)]).then(n.bind(n,829253))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,y_(E_({},e),{channel:u}))}]}}))})),{modalKey:O_,onCloseRequest:w.VqG})}}}else(0,l.hasModalOpen)(O_)&&(0,l.closeModal)(O_)}};return e}var i=o.prototype;i._initialize=function(){b.Z.subscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i._terminate=function(){b.Z.unsubscribe("VOICE_STATE_UPDATES",this.handleVoiceStateUpdates)};i.__getLocalVars=function(){return{MODAL_KEY:O_}};return o}(O.Z);const S_=new I_
;var T_=n(708489),N_=n(145800),C_=n(773011),A_=n(490355),P_=n(804185),R_=n(288263),j_=n(9430),M_=n(749565),w_=n(307648),x_=n(813216),L_=n(938058);function D_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Z_(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){D_(i,r,o,a,s,"next",e)}function s(e){D_(i,r,o,a,s,"throw",e)}a(void 0)}))}}var U_=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},G_=[],k_=null,B_=null,H_=null,V_=/\|\|([\s\S]+?)\|\|/g;function F_(e,t,n,r){var o=In.Z.getGuild(n),i=e.replace(V_,Q.Z.Messages.SPOILER).replace(/<@!?(\d+)>/g,(function(e,t){var r,o=Y.default.getUser(t);return null==o?e:null!==(r=qf.ZP.getNick(n,o.id))&&void 0!==r?r:M_.ZP.getName(o)})).replace(/<@&?(\d+)>/g,(function(e,t){var n=null!=o?o.roles[t]:null;return null!=n&&null!=n.name?n.name:Q.Z.Messages.MESSAGE_TTS_DELETED_ROLE
})).replace(/<#(\d+)>/g,(function(e,t){var n=S.Z.getChannel(t);return null==n?e:(0,C_.F6)(n,Y.default,Jf.Z)})).replace(/<a?:(\w+):(\d+)>/g,(function(e,t){return"".concat(Q.Z.Messages.EMOJI," ").concat(t)})).replace(/<\/([^\s]+?):(\d+)>/g,(function(e,t){return"/".concat(t)}));return null==r?Q.Z.Messages.MESSAGE_TTS.format({username:t,body:i}):Q.Z.Messages.MESSAGE_TTS_REPLY.format({username:t,body:i,replyUsername:r})}function Y_(){if(!N_.Zh)return!1;var e=wr.default.locale;if(null==H_){var t;H_=null===(t=window.speechSynthesis)||void 0===t?void 0:t.getVoices()}var n=H_.filter((function(t){return t.lang===e||t.lang.slice(0,e.length)===e}));B_=n.length>0?n[0]:null}function z_(e,t,n,r,o){return W_.apply(this,arguments)}function W_(){return(W_=Z_((function(e,t,n,r,o){var i;return U_(this,(function(a){switch(a.label){case 0:if(null===(i=N_.e6(e,n)))return[2];null==B_&&Y_();return t?[4,(0,w_.NB)()]:[3,2];case 1:a.sent();return[3,3];case 2:null==k_||k_.removeEventListener("end",w_.NB);a.label=3
;case 3:i.addEventListener("end",w_.NB);null!=r&&i.addEventListener("start",r);null!=o&&i.addEventListener("end",o);k_=i;N_.iq(i,B_);return[2]}}))}))).apply(this,arguments)}function K_(e,t,n,r,o){z_(e,t,o,(function(){(0,w_.Bo)(n,r)}))}function q_(e){z_(e.text,e.interrupt,e.maxLength,e.onStart,e.onEnd)}function X_(){null!==k_&&k_.removeEventListener("end",w_.NB);N_.M9();k_=null;return!0}function Q_(e){var t,n,r,o=e.message,i=e.channel,a=o.type===w.uaV.REPLY?A_.Z.getMessageByReference(o.messageReference):null,s=(null==a?void 0:a.state)===A_.Y.LOADED?null==a||null===(t=a.message)||void 0===t?void 0:t.author:null,l=null!=s?null!==(n=qf.ZP.getNick(i.guild_id,null==s?void 0:s.id))&&void 0!==n?n:M_.ZP.getName(s):null,c=i.getGuildId(),u=null!==(r=qf.ZP.getNick(c,o.author.id))&&void 0!==r?r:M_.ZP.getName(o.author);K_(F_(o.content,u,c,l),!0,i.id,o.id);return!0}function $_(e){var t=e.channelId,n=e.message;if(e.optimistic||ga.Z.isSelfDeaf())return!1;var r=S.Z.getChannel(t);if(null==r)return!1
;var o=A.Z.getChannelId(),i=P_.ZP.getCurrentSidebarChannelId(o),a=t===o||t===i,s=Da.OW.getSetting()&&n.tts&&a,l=R_.Z.getTTSType(),c=n.author.id!==ut.default.getId()&&(l===w.PrB.ALL_CHANNELS||l===w.PrB.SELECTED_CHANNEL&&a);if((s||c)&&!Jf.Z.isBlocked(n.author.id)){var u;if(G_.indexOf(n.id)>=0)return!1;G_.unshift(n.id)>10&&G_.pop();var f,d=r.getGuildId();if(null!=d&&j_.Z.getMutedChannels(d).has(t))return!1;var p,h=null!==(f=qf.ZP.getNick(d,n.author.id))&&void 0!==f?f:M_.ZP.getName(n.author),E=n.type===w.uaV.REPLY?null===(u=n.referenced_message)||void 0===u?void 0:u.author:null,y=null!=E?null!==(p=qf.ZP.getNick(d,null==E?void 0:E.id))&&void 0!==p?p:M_.ZP.getName(E):null;K_(F_(n.content,h,d,y),!1,r.id,n.id,L_.f)}return!1}function J_(e){var t=e.id,n=e.channelId,r=x_.Z.currentMessage;if(null!=r&&t===r.messageId&&n===r.channelId){(0,w_.NB)();return!0}return!1}function eg(){ga.Z.isSelfDeaf()&&N_.M9()}const tg=function(){b.Z.subscribe("SPEAK_TEXT",q_);b.Z.subscribe("SPEAK_MESSAGE",Q_)
;b.Z.subscribe("STOP_SPEAKING",X_);b.Z.subscribe("MESSAGE_CREATE",$_);b.Z.subscribe("MESSAGE_DELETE",J_);b.Z.subscribe("AUDIO_TOGGLE_SELF_DEAF",eg);b.Z.subscribe("USER_SETTINGS_PROTO_UPDATE",Y_);b.Z.subscribe("I18N_LOAD_SUCCESS",Y_)};var ng=n(924417),rg=n(710528),og=n(90459),ig=n(966334);function ag(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ag(i,r,o,a,s,"next",e)}function s(e){ag(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ug(e){ug=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ug(e)}function fg(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cg(e,t,n[t])}))}return e}function dg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pg(e,t){return!t||"object"!==Eg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hg(e,t){
hg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hg(e,t)}var Eg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ug(e);if(t){var o=ug(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pg(this,n)}}var mg=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_g=null;function gg(e){return bg.apply(this,arguments)}function bg(){bg=sg((function(e){var t,o,i,a,s,c,u,f,d,p,h,E,y,m,_,g,b,v,O,I,S;return mg(this,(function(T){switch(T.label){case 0:t=e.userId,o=e.section,i=e.guildId,a=void 0===i?w.ME:i,s=e.channelId,c=e.friendToken,u=e.autoFocusNote,
f=e.analyticsLocation;p=Y.default.getUser(t);h=og.Z.getUserProfile(t);if(null==p)return[2];if(null!=(E=$f.Z.getPrimaryActivity(t))){y=E.party;m=E.assets;_=null!=E.application_id?tl.Z.getGame(E.application_id):null}g=$f.Z.getStatus(t);b=$f.Z.isMobileOnline(t);v=g;g===w.Skl.ONLINE&&(v=b?w.j28.ONLINE_MOBILE:w.j28.ONLINE_DESKTOP);return[4,(0,l.openModalLazy)(sg((function(){var e,t;return mg(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(1764)]).then(n.bind(n,1764))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,dg(fg({},e),{user:p,autoFocusNote:u,guildId:a,friendToken:c,initialSection:o}))}]}}))})))];case 1:_g=T.sent();Oe.default.track(w.rMx.OPEN_MODAL,fg({type:"Profile Modal",guild_id:a!==w.ME?a:null,channel_id:s,other_user_id:t,application_id:null!==(O=null==E?void 0:E.application_id)&&void 0!==O?O:null,application_name:null==E?void 0:E.name,sku_id:null!==(I=null==_?void 0:_.primarySkuId)&&void 0!==I?I:null,is_friend:Jf.Z.isFriend(t),
has_images:Boolean(null!==(S=null==m?void 0:m.large_image)&&void 0!==S?S:null==m?void 0:m.small_image),party_max:null==y||null===(d=y.size)||void 0===d?void 0:d[1],party_id:null==y?void 0:y.id,party_platform:(0,ig.Ps)(null==y?void 0:y.id)?w.ABu.SPOTIFY:null,game_platform:(0,rg.Z)(E),profile_user_status:v,profile_has_nitro_customization:null!=(null==h?void 0:h.banner)},null==f?null:(0,Oe.expandLocation)(f)));return[2]}}))}));return bg.apply(this,arguments)}function vg(){null!=_g&&(0,l.closeModal)(_g);_g=null}var Og=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hg(e,t)}(n,e);var t=yg(n);function n(){lg(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){b.Z.subscribe("USER_PROFILE_MODAL_OPEN",gg);b.Z.subscribe("USER_PROFILE_MODAL_CLOSE",vg)};r._terminate=function(){
b.Z.unsubscribe("USER_PROFILE_MODAL_OPEN",gg);b.Z.unsubscribe("USER_PROFILE_MODAL_CLOSE",vg)};r.__getLocalVars=function(){return{modalKey:_g}};return n}(O.Z);const Ig=new Og;var Sg=n(735885),Tg=n(895303),Ng=n(634698),Cg=n(674748),Ag=n(426797),Pg=n(82726),Rg=n(984237),jg=n(107364),Mg=n(237745),wg=n.n(Mg);function xg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Lg(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dg(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Zg=function(e){var t=e.theme,n=Dg(e,["theme"]),o=(0,Io.wj)(t)?"dark":"light";return(0,r.jsx)(wg(),Lg(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xg(e,t,n[t])}))}return e}({sitekey:w.OL7},n),{theme:o}))};Zg.Themes={LIGHT:"light",DARK:"dark"};Zg.Sizes={COMPACT:"compact",NORMAL:"normal",INVISIBLE:"invisible"};const Ug=Zg;var Gg=n(671418),kg=n.n(Gg),Bg=n(518280),Hg=n.n(Bg);function Vg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function Fg(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yg(e){Yg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yg(e)}function zg(e,t){return!t||"object"!==Kg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wg(e,t){Wg=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wg(e,t)}var Kg=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yg(e);if(t){var o=Yg(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zg(this,n)}}var Xg=X.Z.getArticleURL(w.BhN.VERIFICATION_FAQ),Qg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wg(e,t)}(n,e);var t=qg(n);function n(){Vg(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props.onClick;null==n||n(t)};return e}var o=n.prototype;o.renderFields=function(){var e=this,t=this.props,n=t.types,o=t.captchaKey,i=t.theme,a=t.onCaptchaVerify;return(0,r.jsx)(r.Fragment,{children:n.map((function(t){return t===w.PUi.CAPTCHA?(0,r.jsx)(Ug,{onVerify:a,theme:i},o):(0,r.jsx)(l.Button,{className:ze()(Hg().marginBottom20),onClick:function(){return e.handleClick(t)},children:Pg.Z.getButtonTitle(t)},t)}))})};o.render=function(){return(0,r.jsxs)(jg.Z,{className:kg().verification,
align:jg.Z.Align.CENTER,direction:jg.Z.Direction.VERTICAL,children:[(0,r.jsxs)(jg.Z,{className:ze()(kg().container,Fg({},kg().isMobile,Qe.tq)),direction:jg.Z.Direction.VERTICAL,align:jg.Z.Align.CENTER,justify:jg.Z.Justify.CENTER,children:[(0,r.jsx)("div",{className:kg().image}),(0,r.jsx)("div",{className:ze()(kg().title,Hg().marginTop20),children:Q.Z.Messages.VERIFICATION_TITLE}),(0,r.jsx)("div",{className:ze()(kg().body,Hg().marginTop4,Hg().marginBottom20),children:Q.Z.Messages.VERIFICATION_BODY_WITH_HELP_LINK.format({helpCenterURL:Xg})}),(0,r.jsx)(jg.Z,{grow:0,direction:jg.Z.Direction.VERTICAL,justify:jg.Z.Justify.CENTER,children:this.renderFields()})]}),(0,r.jsx)("div",{className:ze()(kg().footer,Hg().marginTop20),children:Q.Z.Messages.VERIFICATION_FOOTER}),(0,r.jsxs)(jg.Z,{className:ze()(Hg().marginTop4,Hg().marginBottom20),grow:0,children:[(0,r.jsx)("div",{className:ze()(kg().footer,kg().footerAction),children:Q.Z.Messages.VERIFICATION_FOOTER_SUPPORT.format({
supportURL:X.Z.getSubmitRequestURL()})}),(0,r.jsx)("div",{className:ze()(kg().footer,kg().footerBullet),children:""}),(0,r.jsx)("div",{className:ze()(kg().footer,kg().footerAction),children:Q.Z.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout})})]})]})};return n}(o.PureComponent);Qg.defaultProps={types:[w.PUi.CAPTCHA],onCaptchaVerify:w.dG4,onLogout:w.dG4};const $g=Qg;var Jg=n(145),eb=n(441143),tb=n.n(eb),nb=n(973646),rb=n(450383),ob=n(614034),ib=n.n(ob),ab=n(913957),sb=n.n(ab);function lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cb(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fb(e){fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fb(e)}function db(e,t){
return!t||"object"!==Eb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pb(e,t){pb=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pb(e,t)}function hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Eb=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fb(e);if(t){var o=fb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return db(this,n)}}var mb=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},_b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&pb(e,t)}(o,e);var t=yb(o);function o(){ub(this,o);var e;(e=t.apply(this,arguments))._animItem=null;e._timeout=new zE.V7;e._headerId=Xe().v4();e.state={resent:!1,shouldClose:!1,email:"",password:""};e.setLottieRef=function(t){e._lottieRef=t};e.handleVerify=function(){(0,e.props.onVerify)(e.state.email,e.state.password)};e.handleResendEmail=function(){var t=e.props,n=t.onResend,r=t.onClose;n();if(!e.state.resent){e.setState({resent:!0,shouldClose:!0});e._timeout.start(3e3,(function(){e.state.shouldClose&&r()}))}};e.handleChangeEmailClick=function(){var t=e.props.onChangeEmailClick;e.setState({resent:!1,shouldClose:!1});t()};e.handleEmailChange=function(t){e.setState({email:t})};e.handlePasswordChange=function(t){e.setState({password:t})};e.handleKeyPress=function(t){var n=e.state,r=n.email,o=n.password;if(13===t.which&&r.length>0&&o.length>0){t.preventDefault();e.handleVerify()}};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this
;return(e=function(){var e,r,o,i;return mb(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(63266).then(n.t.bind(n,763266,19)),Promise.resolve().then(n.t.bind(n,211248,23))])];case 1:e=hb.apply(void 0,[a.sent(),2]),r=e[0],o=e[1],i=o.default;t._animItem=i.loadAnimation({container:t._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cb(i,r,o,a,s,"next",e)}function s(e){cb(i,r,o,a,s,"throw",e)}a(void 0)}))})()};i.componentWillUnmount=function(){this._timeout.stop();if(null!=this._animItem){this._animItem.destroy();this._animItem=void 0}};i.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,o=e.submitting,i=this.state,a=i.email,s=i.password;return(0,r.jsxs)("div",{className:ib().container,children:[(0,r.jsx)(l.FormItem,{title:Q.Z.Messages.FORM_LABEL_EMAIL,className:Hg().marginBottom20,children:(0,r.jsx)(l.TextInput,{
value:a,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})}),(0,r.jsx)(l.FormItem,{title:Q.Z.Messages.FORM_LABEL_PASSWORD,className:Hg().marginBottom40,children:(0,r.jsx)(l.TextInput,{type:"password",value:s,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})}),(0,r.jsx)(l.Button,{fullWidth:!0,size:l.Button.Sizes.LARGE,onClick:this.handleVerify,submitting:o,disabled:0===a.length||0===s.length,children:Q.Z.Messages.VERIFY_ACCOUNT})]})};i.renderActions=function(){var e=this.props.canChange;return(0,r.jsxs)("div",{className:ib().container,children:[(0,r.jsx)(l.Button,{className:Hg().marginTop20,fullWidth:!0,size:l.Button.Sizes.LARGE,look:l.ButtonLooks.INVERTED,color:l.ButtonColors.PRIMARY,onClick:this.handleResendEmail,children:Q.Z.Messages.RESEND_EMAIL}),e&&(0,r.jsx)(l.Button,{className:Hg().marginTop20,fullWidth:!0,size:l.Button.Sizes.MEDIUM,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,
onClick:this.handleChangeEmailClick,children:Q.Z.Messages.CHANGE_EMAIL})]})};i.render=function(){var e,t=this.state.resent,n=this.props,o=n.email,i=n.canResend,a=n.transitionState;e=t&&null!=o?Q.Z.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:o}):i?Q.Z.Messages.VERIFY_EMAIL_BODY:Q.Z.Messages.ENTER_EMAIL_BODY;return(0,r.jsxs)(l.ModalRoot,{transitionState:a,"aria-labelledby":this._headerId,className:ze()(ib().emailVerificationModal,sb().vertical,sb().alignCenter,sb().justifyCenter,Hg().marginTop60),children:[(0,r.jsx)("div",{className:ib().animationContainer,ref:this.setLottieRef}),(0,r.jsx)("div",{id:this._headerId,className:ze()(ib().title,Hg().marginBottom8),children:Q.Z.Messages.VERIFY_BY_EMAIL}),(0,r.jsx)("div",{className:ze()(ib().body,Hg().marginBottom20),children:e}),i?this.renderActions():this.renderInputs()]})};return o}(o.PureComponent);_b.defaultProps={canResend:!1,canChange:!0,onChangeEmailClick:w.dG4,onVerify:function(e,t){},onResend:w.dG4,onClose:w.dG4};const gb=_b
;function bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
const Ob=function(e){var t=e.transitionState,n=e.onClose,i=function(e){var t,n;return null!==(n=null==a||null===(t=a[e])||void 0===t?void 0:t[0])&&void 0!==n?n:""},a=(0,s.e7)([rb.Z],(function(){return rb.Z.getErrors()})),l=(0,s.e7)([rb.Z],(function(){return rb.Z.getFormState()})),u=(0,s.e7)([Y.default],(function(){var e=Y.default.getCurrentUser();tb()(null!=e,"EmailVerificationModal: user cannot be undefined");return e})),f=(0,s.e7)([Rg.Z],(function(){return Rg.Z.getAction()})),d=!Pg.Z.isEmailReverification(f),p=null!=u.email,h=vb(o.useState(!0),2),E=h[0],y=h[1],m=l===w.QZA.SUBMITTING,_=i("email"),g=i("password");return(0,r.jsx)(gb,{transitionState:t,email:u.email,emailError:_,passwordError:g,submitting:m,canResend:E&&!m&&p&&0===_.length&&0===g.length,canChange:d,onChangeEmailClick:function(){y(!1)},onVerify:function(e,t){(0,Tf.Mn)({email:e,password:t}).then((function(e){var t;(null==e?void 0:e.ok)||null==(null==e||null===(t=e.body)||void 0===t?void 0:t.username)||(0,nb.P)()}));y(!0)},
onResend:function(){c.Z.verifyResend()},onClose:n})};var Ib=n(411177),Sb=n(58118);function Tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nb(e,t,n[t])}))}return e}function Ab(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var Rb="Email Verification";function jb(){var e=(0,s.cj)([Rg.Z,La.Z],(function(){return{action:Rg.Z.getAction(),theme:La.Z.theme}})),t=e.action,n=e.theme,i=Pg.Z.getVerificationTypes(t),a=Pb(o.useState(0),2),u=a[0],f=a[1],d=(0,Ng.Z)(i);(0,Cg.Z)({type:W.nv.MODAL,name:W.zs.USER_ACTION_REQUIRED,properties:{verification_type:i[0],verification_types:i}},{},[i.toString()]);var p=function(){(0,Tf.FD)();(0,l.openModal)((function(e){return(0,r.jsx)(Ob,Cb({},e))}),{modalKey:Rb,Layer:Jg.ZP})};o.useEffect((function(){et.Z.disable();return function(){et.Z.enable()}}),[]);o.useEffect((function(){(null==d?void 0:d[0])===w.PUi.PHONE&&(null==i?void 0:i[0])===w.PUi.EMAIL&&(0,l.openModal)((function(e){return(0,r.jsx)(Tg.default,Ab(Cb({},e),{title:Q.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_TITLE,body:Q.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_BODY,confirmText:Q.Z.Messages.PHONE_THEN_EMAIL_INTERSTITIAL_CONFIRM}))}),{modalKey:"PHONE_THEN_EMAIL_INTERSTITIAL_MODAL_KEY",Layer:Jg.ZP,onCloseCallback:p})}),[i,d])
;return(0,r.jsx)($g,{types:i,captchaKey:u,onCaptchaVerify:function(e){ld.Z.post({url:w.ANM.CAPTCHA,body:{captcha_key:e},oldFormErrors:!0}).then(Sg.xf,(function(){f((function(e){return e+1}))}))},theme:n,onClick:function(e){e===w.PUi.EMAIL_OR_PHONE||e===w.PUi.EMAIL||e===w.PUi.REVERIFY_EMAIL?p():(0,l.openModal)((function(e){return(0,r.jsx)(Ib.default,Cb({reason:Ag.L.USER_ACTION_REQUIRED},e))}),{modalKey:Sb.M,Layer:Jg.ZP})},onLogout:function(){return(0,l.openModal)((function(e){return(0,r.jsx)(l.ConfirmModal,Ab(Cb({header:Q.Z.Messages.LOGOUT,confirmText:Q.Z.Messages.LOGOUT,cancelText:Q.Z.Messages.CANCEL,onConfirm:function(){return c.Z.logout()}},e),{children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.USER_SETTINGS_CONFIRM_LOGOUT})}))}),{Layer:Jg.ZP})}})}var Mb=n(585798),wb=n(333053),xb=n.n(wb);function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Db(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e)
;return}s.done?t(l):Promise.resolve(l).then(r,o)}function Zb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Db(i,r,o,a,s,"next",e)}function s(e){Db(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ub(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gb=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function kb(e){var t=e.transitionState,i=(0,Ve.ZP)([Rg.Z],(function(){return Rg.Z.getAction()})),a=Ub(o.useState(!1),2),s=a[0],c=a[1],u=(0,q.Dt)();function f(){f=Zb((function(){var e;return Gb(this,(function(t){switch(t.label){case 0:c(!0);return i!==w.c2C.AGREEMENTS?[3,2]:[4,(0,ah.Lr)()];case 1:e=t.sent();c(e);t.label=2;case 2:return[2,null]}}))}));return f.apply(this,arguments)}return(0,r.jsxs)(l.ModalRoot,{"aria-labelledby":u,transitionState:t,children:[(0,r.jsx)("div",{id:u}),(0,r.jsx)(l.ModalHeader,{separator:!1,children:(0,r.jsx)(l.Heading,{variant:"heading-lg/semibold",children:Q.Z.Messages.NEW_TERMS_TITLE})}),(0,r.jsxs)(l.ModalContent,{children:[(0,r.jsx)(l.Text,{variant:"text-md/normal",
children:i===w.c2C.AGREEMENTS?Q.Z.Messages.TERMS_OF_SERVICE_UPDATE_03_27_2023_DESCRIPTION.format():null}),(0,r.jsxs)("div",{className:xb().container,children:[(0,r.jsxs)("ul",{className:xb().links,children:[(0,r.jsx)("li",{children:Q.Z.Messages.TERMS_OF_SERVICE.format({url:w.EYA.TERMS})}),(0,r.jsx)("li",{children:Q.Z.Messages.PAID_SERVICES_TERMS.format({url:w.EYA.PAID_TERMS})}),(0,r.jsx)("li",{children:Q.Z.Messages.PRIVACY_POLICY.format({url:w.EYA.PRIVACY})}),(0,r.jsx)("li",{children:Q.Z.Messages.COMMUNITY_GUIDELINES.format({url:w.EYA.GUIDELINES})})]}),(0,r.jsx)("img",{className:xb().image,alt:"",src:n(31890)})]})]}),(0,r.jsx)(l.ModalFooter,{children:(0,r.jsx)(l.Button,{submitting:s,onClick:function(){return f.apply(this,arguments)},color:l.Button.Colors.GREEN,children:Q.Z.Messages.AGREE})})]})}function Bb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Hb="AGREEMENTS_MODAL_KEY";const Vb={init:function(){
b.Z.subscribe("CONNECTION_OPEN",this.handleRequiredAction);b.Z.subscribe("USER_REQUIRED_ACTION_UPDATE",this.handleRequiredAction);b.Z.subscribe("CURRENT_USER_UPDATE",this.handleCurrentUserUpdate);b.Z.subscribe("LOGOUT",this.handleLogout)},handleRequiredAction:function(e){var t=e.requiredAction;if(!cf.s.isDisallowPopupsSet())if(null==Y.default.getCurrentUser()){(0,Mb.ob)("verification");(0,l.hasModalOpen)(Hb)&&(0,l.closeModal)(Hb)}else if(t===w.c2C.REQUIRE_CAPTCHA||t===w.c2C.REQUIRE_VERIFIED_EMAIL||t===w.c2C.REQUIRE_VERIFIED_PHONE||t===w.c2C.REQUIRE_REVERIFIED_PHONE||t===w.c2C.REQUIRE_REVERIFIED_EMAIL_OR_REVERIFIED_PHONE||t===w.c2C.REQUIRE_VERIFIED_EMAIL_OR_REVERIFIED_PHONE||Pg.Z.isEmailReverification(t))(0,Mb.q4)((function(){return(0,r.jsx)(jb,{})}),{layerKey:"verification",Layer:Jg.ZP});else if(t===w.c2C.AGREEMENTS)(0,l.openModal)((function(e){return(0,r.jsx)(kb,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bb(e,t,n[t])}))}return e}({},e))}),{modalKey:Hb,onCloseRequest:ep.Vq});else if(null==t){(0,Mb.ob)("verification");(0,l.hasModalOpen)(Hb)&&(0,l.closeModal)(Hb)}},handleLogout:function(){(0,Mb.ob)("verification")},handleCurrentUserUpdate:function(e){e.user.verified&&(0,l.closeModal)(Rb)}};var Fb=n(38773),Yb=n(609182),zb=n(131559);function Wb(e){var t;!function(e){e.IMAGE="IMAGE";e.VIDEO="VIDEO"}(t||(t={}));var n=s.ZP.PersistedStore.migrateAndReadStoreState("GIFFavoritesStore",[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}]).state;return null==n||0===n.favorites.length?[]:n.favorites.map((function(r,o){var i=Fb.JM.create()
;i.format=r.format===t.IMAGE?Fb.EO.IMAGE:r.format===t.VIDEO?Fb.EO.VIDEO:Fb.EO.NONE;i.src=r.src;i.width=r.width;i.height=r.height;i.order=n.favorites.length-o+e;return{url:r.url,favorite:i}}))}var Kb=[{version:2,run:function(e){var t=Wb(1);if(0===t.length)return!1;null==e.favoriteGifs&&(e.favoriteGifs=Fb.wK.create());e.favoriteGifs.gifs={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=s.url,c=s.favorite;e.favoriteGifs.gifs[l]=c}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}e.favoriteGifs.hideTooltip=t.length>2;return!0},cleanup:function(){}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("StickersPersistedStore",[function(e){return null==e||0===Object.keys(e).length?{usageHistory:{},favorites:[]}:e},function(e){if(null==e||0===Object.keys(e).length)return{usageHistory:{},favorites:[]};null==e.favorites&&(e.favorites=[]);return e}]).state;if(null==t)return!1
;var n=!1;if(t.favorites.length>0){e.favoriteStickers=Fb.Lt.create();e.favoriteStickers.stickerIds=Ke().uniq(t.favorites).slice(0,zb.oX);n=!0}if(Ke().size(t.usageHistory)>0){e.stickerFrecency=Fb.ls.create();e.stickerFrecency.stickers=(0,Yb.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){ve.Z.remove("StickersPersistedStore")}},{version:4,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{usageHistory:ve.Z.get("EmojiUsageHistory")||{}}}]).state;if(null==t)return!1;var n=!1;if(null!=t.favorites&&t.favorites.length>0){e.favoriteEmojis=Fb.ND.create();e.favoriteEmojis.emojis=Ke().uniq(t.favorites).slice(0,zb.oX);n=!0}if(Ke().size(t.usageHistory)>0){e.emojiFrecency=Fb.PL.create();e.emojiFrecency.emojis=(0,Yb.tU)(t.usageHistory,100);n=!0}return n},cleanup:function(){ve.Z.remove("EmojiStore");ve.Z.remove("EmojiUsageHistory");ve.Z.remove("EmojiDiversitySurrogate")}},{version:6,run:function(e){
null==e.favoriteGifs&&(e.favoriteGifs=Fb.wK.create());null==e.favoriteGifs.gifs&&(e.favoriteGifs.gifs={});var t=Wb(1);if(0===t.length)return!1;Ke()(e.favoriteGifs.gifs).values().sortBy("order").forEach((function(e,n){return e.order=t.length+1+n}));var n=Fb.wK.toBinary(e.favoriteGifs).length,r=0,o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.url,f=c.favorite;f.order=t.length-r;r++;if(u in e.favoriteGifs.gifs)e.favoriteGifs.gifs[u].order=f.order;else{var d=Fb.JM.toBinary(f).length+u.length+7;if(!(n+d>zb.vY)){n+=d;e.favoriteGifs.gifs[u]=f}}}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}n=Fb.wK.toBinary(e.favoriteGifs).length;for(;n>zb.vY;){var p=0;for(var h in e.favoriteGifs.gifs){delete e.favoriteGifs.gifs[h];if(++p>=10)break}n=Fb.wK.toBinary(e.favoriteGifs).length}return!0},cleanup:function(){}},{version:7,run:function(e){
var t=s.ZP.PersistedStore.migrateAndReadStoreState("ApplicationCommandFrecency",[]).state;if(null==t)return!1;var n=!1;if(Ke().size(t.usageHistory)>0){e.applicationCommandFrecency=Fb.YI.create();e.applicationCommandFrecency.applicationCommands=(0,Yb.tU)(t.usageHistory,500);n=!0}return n},cleanup:function(){ve.Z.remove("ApplicationCommandFrecency")}},{version:8,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("SoundboardFavoriteStore",[]).state;if(null==t)return!1;var n=!1;if(Ke().size(t.favoriteSounds)>0){e.favoriteSoundboardSounds=Fb.h_.create();Object.keys(t.favoriteSounds).forEach((function(n){new Set(t.favoriteSounds[n]).forEach((function(t){var n;null===(n=e.favoriteSoundboardSounds)||void 0===n||n.soundIds.push(t)}))}));n=!0}return n},cleanup:function(){ve.Z.remove("SoundboardFavoriteStore")}}];const qb=Kb;var Xb=n(970168),Qb=n(256764),$b=n(169067);function Jb(e,t){var n=!1;null==e.userContent&&(e.userContent={dismissedContents:new Uint8Array})
;null==e.userContent.dismissedContents&&(e.userContent.dismissedContents=new Uint8Array);if(!(0,Qb.jl)(e.userContent.dismissedContents,t)){e.userContent.dismissedContents=(0,Qb.GV)(e.userContent.dismissedContents,t);n=!0}return n}function ev(e,t,n){return!!Tm.qc.hasHiddenHotspot(t)&&Jb(e,n)}var tv=[{version:2,run:function(e){var t;!function(e){e.Mentions="Recent Mentions";e.Unreads="Inbox"}(t||(t={}));if(null!=e.inbox)return!1;var n=!1,r=ws.f9.create();e.inbox=r;if(ve.Z.get("seenInboxTutorial",!1)){r.viewedTutorial=!0;n=!0}var o,i=ve.Z.get("recentsButtonTab2");if(null!=i){r.currentTab=i===t.Mentions?ws.X.MENTIONS:ws.X.UNREADS;n=!0}var a=null!==(o=ve.Z.get("unread-messages-collapsed-channels"))&&void 0!==o?o:{};for(var s in a)if(a[s]){var l=S.Z.getChannel(s);if(null!=l){n=!0;var c;(0,Yb.i7)(e,null!==(c=l.guild_id)&&void 0!==c?c:"0",l.id,(function(e){e.collapsedInInbox=!0}))}}return n},cleanup:function(){ve.Z.remove("seenInboxTutorial");ve.Z.remove("recentsButtonTab2")
;ve.Z.remove("unread-messages-collapsed-channels")}},{version:3,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("EmojiStore",[function(){return{diversitySurrogate:ve.Z.get("EmojiDiversitySurrogate")||""}}]).state;if(null==t)return!1;var n=!1;if(null!=t.diversitySurrogate&&""!==t.diversitySurrogate){null==e.textAndImages&&(e.textAndImages=ws.Me.create());null==e.textAndImages.diversitySurrogate&&(e.textAndImages.diversitySurrogate=Xb.Gm.create());e.textAndImages.diversitySurrogate.value=t.diversitySurrogate;n=!0}return n},cleanup:function(){}},{version:4,run:function(e){var t=!1;(!0===ve.Z.get("HAS_SEEN_HUB_UPSELL")||Tm.qc.hasHiddenHotspot(Tm.v6.HUB_SECOND_EMAIL_CONNECTION_UPSELL))&&(t=Jb(e,ws.z$.HUB_WAITLIST_UPSELL));return t},cleanup:function(){ve.Z.remove("HAS_SEEN_HUB_UPSELL")}},{version:5,run:function(e){var t,n,r,o,i,a,s,l=!1;e.textAndImages=null!==(t=e.textAndImages)&&void 0!==t?t:ws.Me.create()
;e.notifications=null!==(n=e.notifications)&&void 0!==n?n:ws.sf.create();e.privacy=null!==(r=e.privacy)&&void 0!==r?r:ws.bE.create();e.voiceAndVideo=null!==(o=e.voiceAndVideo)&&void 0!==o?o:ws.v_.create();e.gameLibrary=null!==(i=e.gameLibrary)&&void 0!==i?i:ws.Fm.create();e.debug=null!==(a=e.debug)&&void 0!==a?a:ws.tA.create();var c=null!==(s=ve.Z.get("UserSettingsStore"))&&void 0!==s?s:{};if("boolean"==typeof c.useRichChatTextBox){e.textAndImages.useRichChatInput=Xb.D5.create({value:c.useRichChatTextBox});l=!0}if("string"==typeof c.renderSpoilers){e.textAndImages.renderSpoilers=Xb.Gm.create({value:c.renderSpoilers});l=!0}if("boolean"==typeof c.useThreadSidebar){e.textAndImages.useThreadSidebar=Xb.D5.create({value:c.useThreadSidebar});l=!0}if("boolean"==typeof c.showInAppNotifications){e.notifications.showInAppNotifications=Xb.D5.create({value:c.showInAppNotifications});l=!0}if(c.emojiPickerCollapsedSections instanceof Array){
e.textAndImages.emojiPickerCollapsedSections=c.emojiPickerCollapsedSections;l=!0}if(c.stickerPickerCollapsedSections instanceof Array){e.textAndImages.stickerPickerCollapsedSections=c.stickerPickerCollapsedSections;l=!0}if("boolean"==typeof c.viewImageDescriptions){e.textAndImages.viewImageDescriptions=Xb.D5.create({value:c.viewImageDescriptions});l=!0}if("boolean"==typeof c.showCommandSuggestions){e.textAndImages.showCommandSuggestions=Xb.D5.create({value:c.showCommandSuggestions});l=!0}if("boolean"==typeof c.alwaysPreviewVideo){e.voiceAndVideo.alwaysPreviewVideo=Xb.D5.create({value:c.alwaysPreviewVideo});l=!0}if("boolean"==typeof c.notifyFriendsOnGoLive){e.notifications.notifyFriendsOnGoLive=Xb.D5.create({value:c.notifyFriendsOnGoLive});l=!0}if("boolean"==typeof c.installShortcutDesktop){e.gameLibrary.installShortcutDesktop=Xb.D5.create({value:c.installShortcutDesktop});l=!0}if("boolean"==typeof c.installShortcutStartMenu){e.gameLibrary.installShortcutStartMenu=Xb.D5.create({
value:c.installShortcutStartMenu});l=!0}if("boolean"==typeof c.allowActivityPartyPrivacyFriends){e.privacy.allowActivityPartyPrivacyFriends=Xb.D5.create({value:c.allowActivityPartyPrivacyFriends});l=!0}if("boolean"==typeof c.allowActivityPartyPrivacyVoiceChannel){e.privacy.allowActivityPartyPrivacyVoiceChannel=Xb.D5.create({value:c.allowActivityPartyPrivacyVoiceChannel});l=!0}if("boolean"==typeof c.rtcPanelShowVoiceStates){e.debug.rtcPanelShowVoiceStates=Xb.D5.create({value:c.rtcPanelShowVoiceStates});l=!0}return l},cleanup:function(){}},{version:7,run:function(e){return ev(e,Tm.v6.APPLICATION_COMMAND_TOOLTIP,ws.z$.APPLICATION_COMMAND_TOOLTIP)},cleanup:function(){}},{version:8,run:function(e){return ev(e,Tm.v6.CHANNEL_BANNER_MEMBER_LIST_NOTICE,ws.z$.CHANNELINFO_CHANNELBANNER_NOTICE)},cleanup:function(){}},{version:9,run:function(e){Tm.qc.hasHiddenHotspot(Tm.v6.MULTI_ACCOUNT_TOOLTIP)&&ve.Z.set($b.Ip,"true");return ev(e,Tm.v6.MULTI_ACCOUNT_TOOLTIP,ws.z$.ACCOUNT_MULTIACCOUNT_TOOLTIP)},
cleanup:function(){}},{version:10,run:function(e){var t,n=ev(e,Tm.v6.HUB_LINK_CHANNEL_NOTICE,ws.z$.CHANNEL_NOTICE_HUBLINK),r=null!==(t=ve.Z.get("channelNotices"))&&void 0!==t?t:{};!1===r[w.vID.INVITE]&&Jb(e,ws.z$.CHANNEL_NOTICE_INVITE)&&(n=!0);!1===r[w.vID.QUICKSWITCHER]&&Jb(e,ws.z$.CHANNEL_NOTICE_QUICKSWITCHER)&&(n=!0);!1===r[w.vID.GUILD_BOOSTING]&&Jb(e,ws.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION)&&(n=!0);return n},cleanup:function(){ve.Z.remove("channelNotices")}},{version:11,run:function(e){var t=!1;ev(e,Tm.v6.GUILD_EVENT_UPSELL,ws.z$.GUILD_HEADER_EVENT_UPSELL)&&(t=!0);ev(e,Tm.v6.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP,ws.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS)&&(t=!0);ev(e,Tm.v6.ANIMATED_GUILD_BANNER_GUILD_HEADER_TOOLTIP,ws.z$.GUILD_HEADER_ANIMATED_GUILD_BANNER)&&(t=!0);return t},cleanup:function(){}},{version:12,run:function(e){var t=!1;ve.Z.get("hideNag")&&Jb(e,ws.z$.NAGBAR_NOTICE_DOWNLOAD)&&(t=!0)
;ve.Z.get("hideConnectSpotify")&&Jb(e,ws.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY)&&(t=!0);ve.Z.get("hideConnectPlayStation")&&Jb(e,ws.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION)&&(t=!0);ve.Z.get("hideMFASMSNotice")&&Jb(e,ws.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP)&&(t=!0);return t},cleanup:function(){ve.Z.remove("hideNag");ve.Z.remove("hideConnectSpotify");ve.Z.remove("hideConnectPlayStation");ve.Z.remove("hideMFASMSNotice")}},{version:13,run:function(e){var t=!1;ve.Z.get("hidePremiumPromo")&&Jb(e,ws.z$.NAGBAR_NOTICE_PREMIUM_PROMO)&&(t=!0);ve.Z.get("hidePremiumTier2TrialEnding")&&Jb(e,ws.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING)&&(t=!0);ve.Z.get("hidePremiumReactivateNotice")&&Jb(e,ws.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE)&&(t=!0);ev(e,Tm.v6.INVITE_SPLASH_GUILD_HEADER_TOOLTIP,ws.z$.GUILD_HEADER_INVITE_SPLASH)&&(t=!0);return t},cleanup:function(){ve.Z.remove("hidePremiumPromo");ve.Z.remove("hidePremiumTier2TrialEnding");ve.Z.remove("hidePremiumReactivateNotice")}},{version:14,run:function(e){
return ev(e,Tm.v6.ACTIVITY_BEB_TUTORIAL,ws.z$.ACTIVITIES_TUTORIAL_COACH_MARK)},cleanup:function(){}},{version:15,run:function(e){return ev(e,Tm.v6.NOW_PLAYING_CONSENT_CARD,ws.z$.NOW_PLAYING_CONSENT_CARD)},cleanup:function(){}},{version:16,run:function(e){var t=ve.Z.get("PromotionsPersistedStore");if(null==t)return!1;var n=t._state.lastDismissedOutboundPromotionStartDate;if(null!=n){null==e.userContent&&(e.userContent=ws.az.create());if(null==e.userContent.lastDismissedOutboundPromotionStartDate){e.userContent.lastDismissedOutboundPromotionStartDate=Xb.Gm.create({value:n});return!0}}return!1},cleanup:function(){}},{version:17,run:function(e){var t=s.ZP.PersistedStore.migrateAndReadStoreState("ExpressionSuggestionsPersistedStore",null).state;if(null==t)return!1;var n=t.expressionSuggestionsEnabled;if(null!=n){null==e.textAndImages&&(e.textAndImages=ws.Me.create());if(null==e.textAndImages.expressionSuggestionsEnabled){e.textAndImages.expressionSuggestionsEnabled=Xb.D5.create({value:n})
;return!0}}return!1},cleanup:function(){ve.Z.remove("ExpressionSuggestionsPersistedStore")}},{version:18,run:function(e){var t=!1;ev(e,Tm.v6.GUILD_DELETE_FEEDBACK,ws.z$.GUILD_DELETE_FEEDBACK)&&(t=!0);ev(e,Tm.v6.GUILD_LEAVE_FEEDBACK,ws.z$.GUILD_LEAVE_FEEDBACK)&&(t=!0);return t},cleanup:function(){}},{version:19,run:function(e){var t,n=!1;null!==(t=ve.Z.get("forumHelperCardStorageKey"))&&void 0!==t&&t&&(n=Jb(e,ws.z$.FORUM_CHANNEL_HELPER_CARD));return n},cleanup:function(){ve.Z.remove("forumHelperCardStorageKey")}}];const nv=tv;var rv=n(969223),ov=n(917019);const iv=function(){rv.Z[zb.yP.PRELOADED_USER_SETTINGS]=nv;rv.Z[zb.yP.FRECENCY_AND_FAVORITES_SETTINGS]=qb;b.Z.subscribe("CONNECTION_OPEN",av);b.Z.subscribe("USER_SETTINGS_PROTO_ENQUEUE_UPDATE",sv);b.Z.subscribe("USER_SETTINGS_PROTO_LOAD_IF_NECESSARY",lv);b.Z.subscribe("APP_STATE_UPDATE",cv)};function av(){var e=Za.Z.getFullState(),t=e[zb.yP.PRELOADED_USER_SETTINGS]
;t.editInfo.triggeredMigrations&&ov.hW.markDirtyFromMigration(t.proto,t.editInfo.cleanupFuncs);Ke().forEach(ov.aj,(function(t,n){null!=e[Number(n)].editInfo.offlineEditDataVersion&&t.scheduleSaveFromOfflineEdit()}))}function sv(e){var t=e.settings,n=t.proto,r=t.type,o=e.delaySeconds,i=e.jitter;ov.aj[r].markDirty(n,{delaySeconds:o,jitter:i})}function lv(e){var t=e.settingsType;ov.aj[t].loadIfNecessary()}function cv(e){var t=e.state;"inactive"!==t&&"background"!==t||Ke().forEach(ov.aj,(function(e,t){if(null!=Za.Z.getFullState()[Number(t)].editInfo.timeout){e.logger.log("Triggering persistChanges due to AppStateUpdate");e.persistChanges()}}))}var uv=n(421774);function fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dv(e){dv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return dv(e)}function pv(e,t){return!t||"object"!==yv(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hv(e,t){hv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hv(e,t)}var Ev,yv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=dv(e);if(t){var o=dv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pv(this,n)}}function _v(){var e,t=Ev;if(null==t||!N.Z.isOpen(t))return!1;b.Z.wait((function(){return v.xv(t)}));null===(e=C.Z.getRTCConnection())||void 0===e||e.setPipOpen(!1);Ev=null}function gv(){var e=C.Z.getChannelId(),t=Ev===e;if(function(){
var e=C.Z.getChannelId(),t=A.Z.getChannelId();if(!ga.Z.supports(va.AN.VIDEO))return!0;if(I.Z.getWindowOpen(w.KJ3.CHANNEL_CALL_POPOUT))return!0;var n=ec.Z.getAllActiveStreams().length>0;if(!(null!=e&&Object.values(R.Z.getVideoVoiceStatesForChannel(e)).some((function(e){var t=e.userId;return!ga.Z.isLocalVideoDisabled(t)}))||n))return!0;var r=T.Z.hasLayers();return!(r&&T.Z.getLayers().includes(w.S9g.RTC_DEBUG)||!r&&e!==t)}())return _v();t||_v();return null!=e&&function(e){var t,n=S.Z.getChannel(e);if(null==n||N.Z.isOpen(e))return!1;b.Z.wait((function(){return v.bA(n.id,w.NYg.VIDEO,{channel:n})}));null===(t=C.Z.getRTCConnection())||void 0===t||t.setPipOpen(!0);Ev=e}(e)}var bv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hv(e,t)}(n,e);var t=mv(n);function n(){fv(this,n);return t.apply(this,arguments)}
var r=n.prototype;r._initialize=function(){A.Z.addChangeListener(gv);P.Z.addChangeListener(gv);C.Z.addChangeListener(gv);R.Z.addChangeListener(gv);T.Z.addChangeListener(gv);ec.Z.addChangeListener(gv);I.Z.addChangeListener(gv);ga.Z.addChangeListener(gv);j.ZP.addChangeListener(gv)};r._terminate=function(){A.Z.removeChangeListener(gv);P.Z.removeChangeListener(gv);C.Z.removeChangeListener(gv);R.Z.removeChangeListener(gv);T.Z.removeChangeListener(gv);ec.Z.removeChangeListener(gv);I.Z.removeChangeListener(gv);ga.Z.removeChangeListener(gv);j.ZP.removeChangeListener(gv)};r.__getLocalVars=function(){return{openChannelId:Ev}};return n}(O.Z);const vv=new bv;var Ov=n(595970);function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sv(e){Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Sv(e)}function Tv(e,t){return!t||"object"!==Cv(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nv(e,t){Nv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Nv(e,t)}var Cv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Av(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Sv(e);if(t){var o=Sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tv(this,n)}}var Pv=18e6,Rv=new zE.V7,jv=new zE.V7,Mv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&Nv(e,t)}(n,e);var t=Av(n);function n(){Iv(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){b.Z.subscribe("IDLE",this.handleIdleUpdate)};r._terminate=function(){Rv.stop();jv.stop();b.Z.unsubscribe("IDLE",this.handleIdleUpdate)};r.handleIdleUpdate=function(){var e=Ov.Z.getIdleSince();if(ls.FB){Rv.stop();jv.stop();var t=ec.Z.getAllActiveStreams(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){if(i.value.state!==w.jm8.ENDED)return}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(null!=e){var s=C.Z.getChannelId();if(null!=s){jv.start(Pv,(function(){d.default.selectVoiceChannel(null)}));var l=In.Z.getGuild(C.Z.getGuildId());if(null!=l&&null!=l.afkChannelId&&l.afkChannelId!==s&&null!=l.afkTimeout){var c=S.Z.getChannel(s);null!=c&&(c.isGuildStageVoice()||Rv.start(e+1e3*l.afkTimeout-Date.now(),(function(){
null!=(l=In.Z.getGuild(C.Z.getGuildId()))&&null!=l.afkChannelId&&d.default.selectVoiceChannel(l.afkChannelId)})))}}}}};r.__getLocalVars=function(){return{AUTO_DISCONNECT_TIME:Pv,afkTimeout:Rv,autoDisconnectTimeout:jv}};return n}(O.Z);const wv=new Mv;var xv=n(536038),Lv=n(10712),Dv=n(801991),Zv=n(912735);function Uv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function kv(e){kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return kv(e)}function Bv(e,t){return!t||"object"!==Vv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hv(e,t){Hv=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hv(e,t)}
var Vv=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kv(e);if(t){var o=kv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bv(this,n)}}var Yv={},zv=Yv,Wv=!1,Kv={},qv={},Xv={},Qv={id:null,justChanged:!1},$v={id:null,justChanged:!1},Jv=/\(([^)]+)\)/;function eO(e){if((0,ls.Xf)()===ls.AB.WINDOWS){var t=e.name.match(Jv);if(null!=t)return t[1]}return e.name}function tO(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===w.QyF.INPUT&&n===w.QyF.OUTPUT||e.type===w.QyF.OUTPUT&&n===w.QyF.INPUT?{displayName:t,type:w.QyF.INPUT_AND_OUTPUT}:e}var nO=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hv(e,t)}(n,e);var t=Fv(n);function n(){Uv(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(ga.Z,Za.Z);zv=null!=e?e:Yv};r.getUserAgnosticState=function(){return zv};r.__getLocalVars=function(){return{initialState:Yv,state:zv,initialized:Wv,inputDevices:Kv,outputDevices:qv,lastDeviceConnected:Xv,lastInputSystemDevice:Qv,lastOutputSystemDevice:$v,WINDOWS_DEVICE_NAME_REGEX:Jv}};!function(e,t,n){t&&Gv(e.prototype,t);n&&Gv(e,n)}(n,[{key:"initialized",get:function(){return Wv}},{key:"lastDeviceConnected",get:function(){return Xv}},{key:"inputDevices",get:function(){return Kv}},{key:"lastInputSystemDevice",get:function(){return Qv}},{key:"outputDevices",get:function(){return qv}},{key:"lastOutputSystemDevice",get:function(){return $v}}]);return n
}(s.ZP.DeviceSettingsStore);nO.displayName="ConnectedDeviceStore";nO.persistKey="ConnectedDeviceStore";const rO=new nO(b.Z,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,r={};Qv.justChanged=!1;t.forEach((function(e){r[eO(e)]=e.id;if(e.id===va.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==Qv.id&&(Qv.justChanged=!0);Qv.id=n}}));var o={};$v.justChanged=!1;n.forEach((function(e){o[eO(e)]=e.id;if(e.id===va.w5){var t,n=null!==(t=e.originalId)&&void 0!==t?t:e.originalName;n!==$v.id&&($v.justChanged=!0);$v.id=n}}));if(Wv){var i=Object.keys(Kv),a=Object.keys(r),s=Object.keys(qv),l=Object.keys(o),c=Ke().difference(i,a),u=Ke().difference(s,l);if(c.length>0||u.length>0)Xv={};else{Ke().difference(a,i).forEach((function(e){Xv[e]=tO(Xv[e],e,w.QyF.INPUT)}));Ke().difference(l,s).forEach((function(e){Xv[e]=tO(Xv[e],e,w.QyF.OUTPUT)}))}if(!Ke().isEqual(i,a)||!Ke().isEqual(s,l)){Kv=r;qv=o;return!0}return!1}Kv=r;qv=o;Wv=!0},CONNECTED_DEVICE_SET:function(e){
var t=e.displayName;!function(e,t,n){if(t===w.aVf.INPUT||t===w.aVf.INPUT_AND_OUTPUT){var r=Kv[e];null!=r&&b.Z.wait((function(){return _a.Z.setInputDevice(r,n)}))}if(t===w.aVf.OUTPUT||t===w.aVf.INPUT_AND_OUTPUT){var o=qv[e];b.Z.wait((function(){return _a.Z.setOutputDevice(o,n)}))}}(t,e.connectedDevicePreference,e.location);delete Xv[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete Xv[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(){Xv={};zv={neverShowModal:!0}}});function oO(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function iO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oO(i,r,o,a,s,"next",e)}function s(e){oO(i,r,o,a,s,"throw",e)}a(void 0)}))}}var aO=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},sO=new Set(["DisplayPort"]),lO=!1;function cO(){if(!lO){
var e=ga.Z.getInputDeviceId(),t=ga.Z.getOutputDeviceId();if(!rO.getState().neverShowModal&&!Ke().isEmpty(rO.lastDeviceConnected)){var o=eO(ga.Z.getInputDevices()[e]),i=eO(ga.Z.getOutputDevices()[t]),a=Ke().some(rO.lastDeviceConnected,(function(e){return sO.has(e.displayName)||e.displayName===o||e.displayName===i}));if(!a){var s=Ke().some(rO.lastDeviceConnected,(function(e){return Zv.Z.isCertified(rO.inputDevices[e.displayName])||Zv.Z.isCertified(rO.outputDevices[e.displayName])}));if(!(e===va.w5&&rO.lastInputSystemDevice.justChanged||t===va.w5&&rO.lastOutputSystemDevice.justChanged)||s){var c=Ke().first(Object.keys(rO.lastDeviceConnected)),u=null!=c&&""!==c?rO.lastDeviceConnected[c]:null;if(null!=u){var f;rO.initialized&&null!=c&&(Zv.Z.isCertified(rO.inputDevices[c])?f=Zv.Z.getCertifiedDevice(rO.inputDevices[c]):Zv.Z.isCertified(rO.outputDevices[c])&&(f=Zv.Z.getCertifiedDevice(rO.outputDevices[c])));lO=!0;(0,l.openModalLazy)(iO((function(){var e,t;return aO(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(87812)]).then(n.bind(n,887812))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.transitionState,o=e.onClose;return(0,r.jsx)(t,{device:u,certifiedDeviceMetadata:f,transitionState:n,onClose:function(){lO=!1;return o()}})}]}}))})))}}}}}}const uO=function(){rO.addChangeListener(cO)};var fO=n(713094);function dO(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function pO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dO(i,r,o,a,s,"next",e)}function s(e){dO(i,r,o,a,s,"throw",e)}a(void 0)}))}}var hO=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},EO=!1,yO=null;const mO=function(){b.Z.subscribe("CONNECTION_OPEN",(function(e){var t=e.pendingPayments;if(null!=t&&t.length>0){if(yO===t[0])return;if(null==(yO=t[0]))return;!function(e){if(!EO){EO=!0;(0,
l.openModalLazy)(pO((function(){var t,o;return hO(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(43569)]).then(n.bind(n,43569))];case 1:t=i.sent(),o=t.default;return[2,function(t){var n=t.transitionState,i=t.onClose;return(0,r.jsx)(o,{pendingPayment:e,transitionState:n,onClose:function(){EO=!1;return i()}})}]}}))})))}}(yO)}}))};var _O=n(647136),gO=n(903957),bO=n(409125),vO=n(377128),OO=n(602397),IO=n(716118);function SO(e,t,n){o.useEffect((function(){var r=t(),o=new s.Fh(e,(function(){var e=t(),o=n(r,e);null==o||R_.Z.isSoundDisabled(o)||(0,IO.GN)(o,.4);r=e}));o.attach("useSound");return function(){return o.detach()}}))}function TO(){SO([ga.Z,A.Z],(function(){return{inVoiceChannel:null!=A.Z.getVoiceChannelId(),selfMute:ga.Z.isSelfMute(),selfDeaf:ga.Z.isSelfDeaf(),audioPermissionReady:ga.Z.isNativeAudioPermissionReady()}}),(function(e,t){var n=t.inVoiceChannel,r=t.selfMute,o=t.selfDeaf,i=t.audioPermissionReady;0
;return e.selfDeaf!==o?o?"deafen":"undeafen":i&&(n||e.audioPermissionReady)&&e.selfMute!==r?r?"mute":"unmute":void 0}));return null}function NO(){SO([S.Z,C.Z,A.Z,bO.Z],(function(){var e=S.Z.getChannel(A.Z.getVoiceChannelId()),t=null==e?void 0:e.type,n=C.Z.getWasEverRtcConnected(),r=C.Z.getState();return{channelType:t,connected:r===w.hes.RTC_CONNECTED,connectHasStarted:!n&&r!==w.hes.DISCONNECTED||r===w.hes.RTC_CONNECTED,awaitingRemote:null!=bO.Z.getAwaitingRemoteSessionInfo(),connectedRemote:null!=bO.Z.getRemoteSessionId()}}),(function(e,t){var n=t.channelType,r=t.connected,o=t.connectHasStarted,i=t.awaitingRemote,a=t.connectedRemote,s=e.channelType,l=e.connectedRemote,c=i||a,u=e.connected&&!r;if(!e.connectHasStarted&&o||a&&!l){if(null!=n&&Td.Lr.has(n))return;return"user_join"}if(u){if(c||null!=s&&Td.Lr.has(s))return;return"disconnect"}}));return null}function CO(){SO([vO.Z],(function(){return vO.Z.isCurrentUserSpeaking()}),(function(e,t){if(e!==t){var n=ga.Z.isSelfMute()
;if(ga.Z.getMode()===w.pM4.PUSH_TO_TALK&&!n)return t?"ptt_start":"ptt_stop"}}));return null}function AO(){SO([ga.Z],(function(){return ga.Z.isSelfMutedTemporarily()}),(function(e,t){if(e!==t){var n=ga.Z.isSelfMute();if(ga.Z.getMode()===w.pM4.VOICE_ACTIVITY&&!n)return t?"ptt_stop":"ptt_start"}}));return null}function PO(){SO([R.Z],(function(){return R.Z.userHasBeenMovedVersion}),(function(e,t){if(e!==t)return"user_moved"}));return null}function RO(){SO([A.Z,R.Z],(function(){var e=A.Z.getVoiceChannelId();if(null==e)return e_.xO.NONE;var t=R.Z.getVoiceStateForChannel(e);return(0,e_.gf)(t)}),(function(e,t){if(e!==t&&t===e_.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK)return"reconnect"}));return null}function jO(){SO([A.Z,ec.Z,ut.default,R.Z,S.Z],(function(){var e,t=A.Z.getVoiceChannelId(),n=ut.default.getId(),r=void 0,o=[],i=null,a=0,s=ec.Z.getAllActiveStreams();if(null!=t){var l=S.Z.getChannel(t);if(null!=l){e=l.type;r=OO.ZP.countVoiceStatesForChannel(l.id)-(R.Z.isInChannel(l.id)?1:0)
;o=ec.Z.getAllApplicationStreamsForChannel(l.id).map((function(e){return e.ownerId}))}}var c=null;(null==(c=1===s.length?s[0]:ec.Z.getCurrentUserActiveStream())?void 0:c.state)===w.jm8.CONNECTING&&(c=null);if(null!=c){i=(0,Jl.V9)(c);a=ec.Z.getViewerIds(i).filter((function(e){return e!==n})).length}return{channelType:e,voiceChannelId:t,voiceChannelUserCount:r,streamingUserIds:o,singleActiveStreamKey:i,singleActiveStreamViewerCount:a,currentUserId:n,allActiveStreams:s}}),(function(e,t){var n=t.channelType,r=t.voiceChannelId,o=t.voiceChannelUserCount,i=t.streamingUserIds,a=t.singleActiveStreamKey,s=t.singleActiveStreamViewerCount,l=t.currentUserId;if(e.voiceChannelId===r&&null!=r&&!(function(e){var t=S.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=In.Z.getGuild(n);return null!=r&&r.afkChannelId===t.id}(r)||null!=n&&Td.Lr.has(n))){var c=null!=a&&e.singleActiveStreamKey===a,u=i.some((function(t){return!e.streamingUserIds.includes(t)
})),f=e.allActiveStreams.map((function(e){return e.ownerId})),d=e.streamingUserIds.some((function(e){return!i.includes(e)&&(e===l||f.includes(e))}));return u?"stream_started":d?"stream_ended":e.singleActiveStreamViewerCount<=25&&c&&s>e.singleActiveStreamViewerCount?"stream_user_joined":null!=e.voiceChannelUserCount&&null!=o&&e.voiceChannelUserCount<=25&&o>e.voiceChannelUserCount?"user_join":null!=e.voiceChannelUserCount&&null!=o&&e.voiceChannelUserCount<=25&&o<e.voiceChannelUserCount?"user_leave":e.singleActiveStreamViewerCount<=25&&c&&s<e.singleActiveStreamViewerCount?"stream_user_left":void 0}}));return null}function MO(){SO([A.Z,j.ZP,ut.default],(function(){var e=A.Z.getVoiceChannelId();return{voiceChannelId:e,currentUserId:ut.default.getId(),channelActivities:(0,kr.lm)(e)?j.ZP.getEmbeddedActivitiesForChannel(e):j.i6}}),(function(e,t){var n=t.voiceChannelId,r=t.currentUserId,o=t.channelActivities;if(null!=n){var i=gO.Q.getCurrentConfig({},{autoTrackExposure:!1
}).enabled,a=!1,s=void 0;if(e.channelActivities.length<o.length){s="activity_launch";a=!0}var l=e.channelActivities.find((function(e){return e.connections.has(r)})),c=o.find((function(e){return e.connections.has(r)}));if(void 0===c&&(0,kr.lm)(l)){s="activity_end";a=!0}if(void 0===l&&(0,kr.lm)(c)&&c.connections.size>1){s="activity_user_join";a=!0}if((0,kr.lm)(c)&&(0,kr.lm)(l)){if(c.connections.size>l.connections.size){s="activity_user_join";a=!0}if(c.connections.size<l.connections.size){s="activity_user_left";a=!0}}a&&gO.Q.trackExposure({});return i?s:void 0}}));return null}function wO(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(TO,{}),(0,r.jsx)(NO,{}),(0,r.jsx)(CO,{}),(0,r.jsx)(AO,{}),(0,r.jsx)(PO,{}),(0,r.jsx)(jO,{}),(0,r.jsx)(RO,{}),(0,r.jsx)(MO,{})]})}var xO=n(454871),LO=n(479049),DO=n.n(LO),ZO=n(131795),UO=n.n(ZO),GO=n(792800),kO=n(813869);function BO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e){
HO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return HO(e)}function VO(e,t){return!t||"object"!==YO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FO(e,t){FO=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return FO(e,t)}var YO=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function zO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=HO(e);if(t){var o=HO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VO(this,n)}}var WO="IncomingCallStore",KO={width:232,height:315
},qO=new Set,XO=[],QO=new Map,$O=new Set,JO=0,eI=0,tI=!1;!function(){0;var e=ve.Z.get(WO);if(null!=e){JO=+e.x;eI=+e.y}else{var t=n(901654).Z.windowSize();JO=t.width/2-KO.width/2;eI=t.height/2-KO.height/2}}();function nI(e){if(null==e)return!1;if(null==QO.get(e))return!1;QO.delete(e);($O=new Set($O)).delete(e)}function rI(e){var t=e.channelId,n=e.ringing.includes(ut.default.getId());if(!$O.has(t)&&n){var r=S.Z.getChannel(t);if(null==r)return!1;var o=10*$O.size;QO.set(t,{channel:r,x:JO+o,y:eI+o});($O=new Set($O)).add(t)}else{if(!$O.has(t)||n)return!1;nI(t)}}function oI(){tI=wE.Z.getStatus()===w.Skl.DND}var iI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&FO(e,t)}(n,e);var t=zO(n);function n(){BO(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(S.Z,wE.Z)
;this.syncWith([wE.Z],oI)};r.getIncomingCalls=function(){return tI?XO:Array.from(QO.values())};r.getIncomingCallChannelIds=function(){return tI?qO:$O};r.getFirstIncomingCallId=function(){return tI?null:$O.values().next().value};r.hasIncomingCalls=function(){return!tI&&$O.size>0};r.__getLocalVars=function(){return{INCOMING_CALL_MODAL_POSITION:WO,DIMENSIONS:KO,MULTIPLE_MODAL_OFFSET:10,DND_ACTIVE_CALLS:qO,NO_INCOMING_CALLS:XO,incomingCalls:QO,activeCalls:$O,x:JO,y:eI,dnd:tI}};return n}(s.ZP.Store);iI.displayName="IncomingCallStore";const aI=new iI(b.Z,{CALL_CREATE:rI,CALL_UPDATE:rI,CALL_DELETE:function(e){return nI(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return nI(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;JO=t;eI=n;ve.Z.set(WO,{x:JO,y:eI});return!1},CHANNEL_DELETE:function(e){return nI(e.channel.id)}});var sI=new Set(["Blink","Gecko","WebKit"]),lI=w.dG4;if(ls.FB)lI=function(e){return sd.default.setBadge(e)};else if(sI.has(UO().layout)){var cI=new(DO())({
animation:"none"});lI=function(e){try{(0,GO.PR)(e);cI.badge(-1===e?"":e)}catch(e){}}}function uI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fI(e){fI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fI(e)}function dI(e,t){return!t||"object"!==EI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pI(e,t){pI=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return pI(e,t)}var hI,EI=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=fI(e);if(t){var o=fI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dI(this,n)}}!function(e){e.DEFAULT="DEFAULT";e.UNREAD="UNREAD";e.CONNECTED="CONNECTED";e.SPEAKING="SPEAKING";e.MUTED="MUTED";e.DEAFENED="DEAFENED"}(hI||(hI={}));var mI=(0,ls.id)()?null:hI.DEFAULT,_I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&pI(e,t)}(n,e);var t=yI(n);function n(){uI(this,n);var e;(e=t.apply(this,arguments)).getIcon=function(){var t=e.props,n=t.deafened,r=t.muted,o=t.speaking,i=t.connected,a=t.unread,s=mI;if((0,ls.id)()&&!i)return s;if((0,ls.IJ)()||!i){a&&(s=hI.UNREAD);return s}return s=n?hI.DEAFENED:r?hI.MUTED:o?hI.SPEAKING:hI.CONNECTED};return e}var r=n.prototype;r.componentDidMount=function(){sd.default.setSystemTrayIcon(this.getIcon())}
;r.componentDidUpdate=function(){sd.default.setSystemTrayIcon(this.getIcon())};r.componentWillUnmount=function(){sd.default.setSystemTrayIcon(mI)};r.render=function(){return null};return n}(o.PureComponent),gI=function(){return null};if(ls.FB){sd.default.on("SYSTEM_TRAY_TOGGLE_MUTE",(function(){return _a.Z.toggleSelfMute()}));sd.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",(function(){return _a.Z.toggleSelfDeaf()}));sd.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",(function(){h.Z.open(w.oAB.VOICE)}));gI=s.ZP.connectStores([C.Z,ga.Z,vO.Z,kO.Z,Jf.Z,R_.Z],(function(){var e=kO.Z.getTotalMentionCount(),t=kO.Z.hasAnyUnread(),n=Jf.Z.getPendingCount(),r=!R_.Z.getDisableUnreadBadge()&&!!(t||e+n>0);return{connected:C.Z.isConnected(),speaking:vO.Z.isCurrentUserSpeaking(),muted:ga.Z.isSelfMute()||ga.Z.isSelfMutedTemporarily(),deafened:ga.Z.isSelfDeaf(),unread:r}}))(_I)}const bI=gI;var vI=(0,it.B)({kind:"user",id:"2023-04_null_experiment",label:"Null Experiment",defaultConfig:{inUse:!1},treatments:[{id:1,
label:"On",config:{inUse:!0}}]});var OI=n(570814);const II=(0,Uu.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(63886),n.e(34165)]).then(n.bind(n,218500))},webpackId:218500}),SI=(0,Uu.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(26546)]).then(n.bind(n,722110))},webpackId:722110});var TI=n(113512),NI=n(566706),CI=n(908741),AI=n(973553),PI=n(591821),RI=n(672380),jI=n(677681),MI=n(333568),wI=n(914964),xI=n(971402),LI=n(764079),DI=n(341305),ZI=n(704271),UI=n(396043),GI=n(281808),kI=n(347005),BI=n(386531),HI=n(689175),VI=n(549511),FI=n(589677);function YI(e,t){var n=(0,Ve.ZP)([In.Z],(function(){return In.Z.getGuild(e)})),r=(0,Ve.ZP)([S.Z],(function(){return S.Z.getChannel(t)})),o=(0,Ve.ZP)([qf.ZP],(function(){return null==e?null:qf.ZP.getSelfMember(e)})),i=(0,VI.aP)(n,o).showOnboardingHome;return(0,Ve.ZP)([HI.Z,BI.Z,qf.ZP],(function(){var e,t
;return null!=n&&null!=r&&i&&n.hasFeature(w.oNc.GUILD_SERVER_GUIDE)&&!_d.yE(null!==(t=null===(e=qf.ZP.getSelfMember(n.id))||void 0===e?void 0:e.flags)&&void 0!==t?t:0,FI.q.COMPLETED_HOME_ACTIONS)&&BI.Z.hasMemberAction(n.id,r.id)&&!HI.Z.hasCompletedActionForChannel(n.id,r.id)}))}var zI=n(145202),WI=n(25410),KI=n(684412),qI=n(944522),XI=n(284610),QI=n(747126),$I=n(352980),JI=n(189865),eS=n(373438),tS=n(840484),nS=n.n(tS);function rS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function oS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rS(i,r,o,a,s,"next",e)}function s(e){rS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function iS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aS(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var sS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function lS(e){var t=e.channelId,i=e.baseChannelId,a=e.channelViewSource,l=void 0===a?"Split View":a,c=e.isResourceChannelView,u=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(t)})),f=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(null==u?void 0:u.getGuildId())})),d=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),p=(0,s.e7)([QI.Z],(function(){return QI.Z.didAgree(null==u?void 0:u.guild_id)})),h=!0===(null==d?void 0:d.nsfwAllowed),E=(0,C_.ZP)(u),y=(0,
s.e7)([qI.Z],(function(){return null!=(null==f?void 0:f.id)&&qI.Z.isLurking(f.id)}),[f]),m=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.SEND_MESSAGES,u)})),_=YI(null==f?void 0:f.id,null==u?void 0:u.id),g=(0,zI.Z)(t),b=(0,s.e7)([BI.Z],(function(){var e;return null===(e=BI.Z.getResourceForChannel(null==f?void 0:f.id,t))||void 0===e?void 0:e.title})),v=o.useRef(!1);o.useEffect((function(){if(null!=u&&!v.current){v.current=!0;(0,UI.yw)(w.rMx.CHANNEL_OPENED,{channel_id:u.id,guild_id:u.guild_id,parent_id:u.parent_id,channel_view:l,can_send_message:m,has_pending_member_action:_})}}),[u,l,m,_]);if(null==u||null==f)return null;var O=[];y||O.push((0,r.jsx)(WI.Z,{channel:u},"notifications"));O.push((0,r.jsx)(eS.ZP.Icon,{icon:JI.Z,tooltip:Q.Z.Messages.CLOSE,onClick:function(){return Sm.Z.closeChannelSidebar(i)}},"close"));return!u.isNSFW()||h&&p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(DI.Z,{channel:u,draftType:XI.d.ChannelMessage}),(0,r.jsx)(eS.ZP,{toolbar:O,
"aria-label":Q.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,KI.ud)({channel:u,channelName:g?b:E,guild:f,inSidebar:!0,handleContextMenu:function(e){(0,xI.jW)(e,oS((function(){var e,t;return sS(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(59295)]).then(n.bind(n,359295))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,aS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){iS(e,t,n[t])}))}return e}({},e),{channel:u,guild:f}))}]}}))})))},handleClick:function(){var e=$I.Z.getMessages(u.id);if(c){(0,K.uL)(w.Z5c.CHANNEL(u.guild_id,u.id));(0,kI.C3)(u.guild_id,null)}else(0,K.XU)(u.guild_id,u.id,e.jumpTargetId)}})}),(0,r.jsx)("div",{className:nS().chat,children:(0,r.jsx)(LI.Z,{channel:u,
guild:f,chatInputType:GI.I.SIDEBAR},t)})]}):(0,r.jsx)(ZI.Z,{guild:f})}var cS=n(270946),uS=n(504698),fS=n(123398),dS=n(848465),pS=n(185219),hS=n(709189),ES=n(217674),yS=n(655402),mS=n(223251),_S=n.n(mS),gS=n(404940),bS=n.n(gS),vS=n(185802),OS=n.n(vS);function IS(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function SS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){IS(i,r,o,a,s,"next",e)}function s(e){IS(i,r,o,a,s,"throw",e)}a(void 0)}))}}function TS(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function NS(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var CS=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},AS=function(e){var t=o.useMemo((function(){return null==e?null:rn.ZP.getGuildHomeHeaderURL({id:e.id,homeHeader:e.homeHeader})}),[e]);return{homeHeaderImage:t,isHomeHeaderImageSet:null!=t,homeHeaderScroll:null!=t?200:0}};function PS(e){var t=e.guild,n=function(){Zl.Z.open(t.id,w.pNK.ONBOARDING,void 0,w.KsC.SERVER_GUIDE)};return t.hasFeature(w.oNc.BANNER)?(0,r.jsxs)(l.Button,{className:_S().editButton,innerClassName:_S().editButtonInner,type:"button",size:l.Button.Sizes.MEDIUM,color:l.Button.Colors.BRAND,onClick:n,children:[(0,r.jsx)(yS.Z,{height:16,width:16,color:br.Z.unsafe_rawColors.WHITE_500.css}),Q.Z.Messages.EDIT_IMAGE]}):(0,r.jsxs)(hS.C,{color:l.Button.Colors.GREEN,className:_S().editButton,
innerClassName:_S().editButtonInner,onClick:n,children:[(0,r.jsx)(ES.Z,{height:16,width:16,className:_S().premiumUpsellBadge}),Q.Z.Messages.PREMIUM_GUILD_UNLOCK_WTH_BOOSTING_CTA]})}var RS=o.memo((function(e){var t=e.guild,o=e.titleClassName,i=AS(t),a=i.homeHeaderImage,c=i.isHomeHeaderImageSet,u=(0,pS.b$)(t.id),f=(0,s.e7)([Ds.Z],(function(){return(0,DE.b)(Ds.Z,t)})),d="dark"===(0,To.ZP)()?bS():OS();return(0,r.jsxs)("div",{className:_S().header,children:[(0,r.jsxs)("div",{className:_S().headerArtWrapper,children:[(0,r.jsx)("div",{className:ze()(_S().headerArt,TS({},_S().headerArtPlaceholder,!c)),style:{backgroundImage:"url(".concat(c?a:d,")")}}),u&&(0,r.jsx)(PS,{guild:t})]}),(0,r.jsx)("div",{className:_S().titleWrapper,children:(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)(Mo.Z,{className:_S().headerIcon,guild:t,size:Mo.Z.Sizes.XLARGE,active:!0}),(0,r.jsx)(l.HeadingLevel,{children:(0,r.jsxs)("div",{className:_S().headerName,children:[(0,r.jsx)(l.Heading,{className:_S().headerName,
variant:"heading-xxl/bold",children:t.name}),(0,r.jsx)(jo.Z,{size:24,guild:t,tooltipPosition:"bottom",tooltipColor:l.Tooltip.Colors.PRIMARY,className:_S().guildBadge}),f&&(0,r.jsx)(l.Button,{className:_S().inviteButton,size:l.Button.Sizes.MEDIUM,color:l.Button.Colors.PRIMARY,onClick:function(){return(0,l.openModalLazy)(SS((function(){var e,o;return CS(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765)]).then(n.bind(n,654765))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,NS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){TS(e,t,n[t])}))}return e}({},e),{guild:t,source:w.t4x.GUILD_HOME}))}]}}))})))},children:Q.Z.Messages.INSTANT_INVITE})]})})]})})]})}));const jS=RS
;var MS=n(283099),wS=n(409005),xS=n(745623),LS=n(897196);function DS(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)}));if(null==o||null==o.channelId)return null;var i=t-w.PrS-656;return(0,r.jsx)(AI.Z,{sidebarType:AI.y.HomeSidebar,maxWidth:i,onWidthChange:n,children:(0,r.jsx)(lS,{channelId:o.channelId,baseChannelId:LS.oC.GUILD_HOME,channelViewSource:"Home View",isResourceChannelView:!0})})}var ZS=n(336334),US=n(99440),GS=n(34947),kS=n(250384);function BS(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground;return(0,r.jsx)("svg",{className:l,width:n,height:i,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{className:c,fill:s,
d:"M3.99984 1.33301C3.64622 1.33301 3.30708 1.47348 3.05703 1.72353C2.80698 1.97358 2.6665 2.31272 2.6665 2.66634V13.333C2.6665 13.6866 2.80698 14.0258 3.05703 14.2758C3.30708 14.5259 3.64622 14.6663 3.99984 14.6663H11.9998C12.3535 14.6663 12.6926 14.5259 12.9426 14.2758C13.1927 14.0258 13.3332 13.6866 13.3332 13.333V5.33301L9.33317 1.33301H3.99984ZM3.99984 2.66634H8.6665V5.99967H11.9998V13.333H3.99984V2.66634ZM5.33317 7.99967V9.33301H10.6665V7.99967H5.33317ZM5.33317 10.6663V11.9997H8.6665V10.6663H5.33317Z"})})}var HS=n(755284);function VS(e){return(0,Ve.Wu)([BI.Z,S.Z],(function(){return BI.Z.getResourceChannels(e).filter((function(e){return null!=S.Z.getChannel(e.channelId)}))}))}var FS=n(12162),YS=n.n(FS),zS=o.memo((function(e){var t=e.guild,n=(0,Ve.ZP)([kS.Z],(function(){return kS.Z.getGuild(t.id)}),[t]);o.useEffect((function(){null==n&&(0,GS.P)(t.id)}),[t.id,n]);return(0,r.jsx)("div",{className:YS().sidebarCardWrapper,children:(0,r.jsxs)("div",{className:YS().sidebarCard,
children:[(0,r.jsx)(l.Heading,{className:YS().sidebarCardHeader,variant:"heading-md/bold",color:"header-primary",children:Q.Z.Messages.GUILD_HOME_ABOUT}),(0,r.jsx)(l.Text,{className:YS().guildDescription,variant:"text-md/normal",color:"text-normal",children:t.description}),(0,r.jsxs)("div",{className:YS().guildInfo,children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(HS.Z,{width:14,height:14}),(0,r.jsx)(l.Text,{className:YS().guildInfoText,variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}),null!=(null==n?void 0:n.memberCount)&&null!=(null==n?void 0:n.presenceCount)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:YS().dotOnline}),(0,r.jsx)(l.Text,{className:YS().guildInfoText,variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.GUILD_ONBOARDING_HOME_GUILD_MEMBERS_RATIO.format({online:null==n?void 0:n.presenceCount,total:null==n?void 0:n.memberCount})})]})]})]})})})),WS=function(e){
var t=e.channelId,n=e.title,i=(0,Ve.ZP)([S.Z],(function(){return S.Z.getChannel(t)})),a=(0,Ve.ZP)([$I.Z],(function(){return $I.Z.getMessages(t)})),s=a.first(),c=(0,US.zy)(s,!1),u=(null==c?void 0:c.length)>0?c[0]:null,f=null!=i&&null==s&&!a.loadingMore&&!a.ready&&!a.hasFetched;o.useEffect((function(){f&&ZS.Z.fetchMessages({channelId:t,after:t,limit:5})}),[t,f]);return(0,r.jsx)(l.Clickable,{className:YS().resourceChannel,onClick:function(e){return function(e){null!=i&&(e.shiftKey?(0,kI.C3)(i.guild_id,i.id):Sm.Z.openResourceChannelAsSidebar({guildId:i.guild_id,channelId:i.id}))}(e)},children:(0,r.jsxs)(r.Fragment,{children:[null!=u?(0,r.jsx)("img",{className:YS().resourceImage,src:u.src,alt:u.alt}):(0,r.jsx)("div",{className:YS().placeholderImage,children:(0,r.jsx)(BS,{})}),(0,r.jsx)(l.Text,{className:YS().guildInfoText,variant:"text-sm/semibold",color:"none",children:n})]})},t)},KS=o.memo((function(e){var t=VS(e.guild.id);return(0,r.jsx)("div",{className:YS().sidebarCardWrapper,
children:(0,r.jsxs)("div",{className:YS().sidebarCard,children:[(0,r.jsx)(l.Heading,{className:YS().sidebarCardHeader,variant:"heading-md/bold",color:"header-primary",children:Q.Z.Messages.GUILD_HOME_RESOURCES}),(0,r.jsx)("div",{className:YS().resourceChannelsList,children:t.map((function(e){return(0,r.jsx)(WS,{channelId:e.channelId,title:e.title},"widget-resource-".concat(e.channelId))}))})]})})}));const qS=o.memo((function(e){var t=e.guild,n=e.isNewMember;return(0,r.jsxs)("aside",{className:YS().sidebar,children:[(0,r.jsx)(zS,{guild:t}),n&&(0,r.jsx)(KS,{guild:t})]})}));var XS=n(805318),QS=n(883064),$S=n(916286),JS=n(386364),eT=n(5544),tT=n(413297);var nT=n(493254),rT=n(707735),oT=n.n(rT),iT=n(597055),aT=n.n(iT);function sT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lT(e){var t,n,o,i=e.firstMedia,a=e.channelId,l=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(a)})),c=(0,s.e7)([Ds.Z],(function(){
return Ds.Z.can(w.Plq.MANAGE_MESSAGES,l)})),u=Da.cC.useSetting(),f=null!==(t=null==i?void 0:i.spoiler)&&void 0!==t&&t&&!(0,$S.Z)(u,c),d=(0,s.e7)([xr.Z],(function(){return xr.Z.isFocused()})),p=nT.LR.test(i.src),h=Da.QK.useSetting(),E=i.src,y=i.width,m=i.height,_=i.alt;m>y?o=72:n=72;return(0,r.jsxs)("div",{className:oT().media,children:[(0,JS.Yi)({src:E,maxHeight:n,maxWidth:o,width:y,height:m,alt:null!=_&&f?Q.Z.Messages.SPOILER_HIDDEN_A11Y_LABEL:_,autoPlay:h,animated:p&&!f&&d,containerClassName:oT().thumbnailContainer,imageClassName:ze()(sT({},oT().spoiler,f))}),f&&(0,r.jsx)(tT.Z,{className:oT().spoilerTag})]})}function cT(e){var t=e.resource,n=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(t.channelId)})),i=(0,s.e7)([$I.Z],(function(){return $I.Z.getMessages(t.channelId)})),a=i.first(),c=function(e){var t,n;if(null==e)return null;if((null===(t=e.content)||void 0===t?void 0:t.length)>0)return e.content;if((null===(n=e.embeds)||void 0===n?void 0:n.length)>0){var r=!0,o=!1,i=void 0;try{
for(var a,s=e.embeds[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(null!=l.rawDescription&&l.rawDescription.length>0)return l.rawDescription}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}return null}(a),u=(0,US.zy)(a,!1),f=(null==u?void 0:u.length)>0?u[0]:null,d=null!=n&&null==i.first()&&!i.loadingMore&&!i.ready&&!i.hasFetched;o.useEffect((function(){d&&ZS.Z.fetchMessages({channelId:t.channelId,after:t.channelId,limit:5})}),[t.channelId,d]);return null==n||null==n.guild_id?null:(0,r.jsxs)(l.Clickable,{className:oT().row,onClick:function(e){null!=n&&(e.shiftKey?(0,kI.C3)(n.guild_id,n.id):Sm.Z.openResourceChannelAsSidebar({guildId:n.guild_id,channelId:n.id}))},children:[(0,r.jsxs)("div",{className:oT().content,children:[(0,r.jsx)(l.Text,{className:oT().title,variant:"text-md/semibold",color:"header-primary",children:t.title}),null!=c&&(0,r.jsx)(l.Text,{className:oT().messageContent,variant:"text-sm/normal",color:"header-secondary",
lineClamp:3,children:QS.Z.parse(c,!0,{guildId:n.guild_id,channelId:n.id})})]}),null!=f?(0,r.jsx)(lT,{firstMedia:f,channelId:t.channelId}):null]})}function uT(e){var t=e.guild,n=e.isNewMember,o=VS(t.id);return 0===o.length?n?null:(0,r.jsxs)("div",{className:oT().emptyContainer,children:[(0,r.jsx)(l.Heading,{variant:"heading-xl/bold",color:"header-primary",children:Q.Z.Messages.MEMBER_ACTION_COMPLETE_EMPTY_STATE}),(0,r.jsx)("img",{className:oT().emptyStateImage,src:aT(),alt:""}),(0,r.jsx)(l.Button,{className:oT().emptyStateButton,onClick:function(){var e=eT.ZP.getDefaultChannel(t.id);null!=e&&(0,K.uL)(w.Z5c.CHANNEL(t.id,e.id))},fullWidth:!0,children:Q.Z.Messages.MEMBER_ACTION_COMPLETE_EMPTY_STATE_CTA})]}):(0,r.jsxs)("div",{className:oT().container,children:[(0,r.jsx)(l.Heading,{variant:"heading-lg/bold",color:"header-primary",children:Q.Z.Messages.GUILD_HOME_RESOURCES}),o.map((function(e){return(0,r.jsx)(cT,{resource:e},e.channelId)}))]})}
var fT=n(708674),dT=n(222752),pT=n(258875),hT=n.n(pT);function ET(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yT(e,t,n[t])}))}return e}function _T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function bT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ET(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ET(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vT=o.memo((function(e){var t=e.guild;return(0,r.jsxs)(MS.Z,{channelId:LS.oC.GUILD_HOME,guildId:t.id,className:ze()(YS().title,YS().background),innerClassname:YS().headerBarInner,children:[(0,r.jsx)(MS.Z.Icon,{icon:wS.Z,"aria-hidden":!0}),(0,r.jsxs)(MS.Z.Title,{children:[(0,r.jsx)(l.HiddenVisually,{children:t.name}),Q.Z.Messages.SERVER_GUIDE]})]})}));var OT=n(730381),IT=n.n(OT),ST=n(349289),TT=n(813357),NT=n(357088),CT=n(239813),AT=n(910149);function PT(e,t){var n,r=function(n){var r=e[n],o=t[n];return r.length!==o.length?{v:!1}:r.some((function(e,t){return o[t]!==e}))?void 0:{v:!1}};if(e.length!==t.length)return!1
;for(var o=0;o<e.length;o++){var i=r(o);if("object"==((n=i)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return i.v}return!0}var RT=n(258985),jT=n(487868),MT=n(633878);function wT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function LT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function DT(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=LT(e,["width","height","color"]);return(0,r.jsxs)("svg",xT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wT(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8",cy:"8",r:"5.5",transform:"rotate(180 8 8)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{d:"M13.197 5.00035C12.6704 4.08824 11.913 3.33081 11.0008 2.8042C10.0887 2.27759 9.05406 2.00035 8.00084 2.00035L8.00084 8.00035L13.197 5.00035Z",fill:s})]}))}
function ZT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function UT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function GT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function kT(e){
var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=GT(e,["width","height","color"]);return(0,r.jsxs)("svg",UT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ZT(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{
d:"M3.00027 11.1964C3.52688 12.1085 4.28431 12.866 5.19643 13.3926C6.10854 13.9192 7.14321 14.1964 8.19643 14.1964C9.24965 14.1964 10.2843 13.9192 11.1964 13.3926C12.1085 12.866 12.866 12.1085 13.3926 11.1964C13.9192 10.2843 14.1964 9.24965 14.1964 8.19643C14.1964 7.14321 13.9192 6.10854 13.3926 5.19643C12.866 4.28431 12.1085 3.52688 11.1964 3.00027C10.2843 2.47366 9.24964 2.19643 8.19642 2.19643L8.19643 8.19643L3.00027 11.1964Z",fill:s})]}))}function BT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function HT(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function VT(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function FT(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,s=void 0===a?"currentColor":a,l=VT(e,["width","height","color"]);return(0,r.jsxs)("svg",HT(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){BT(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,
viewBox:"0 0 16 16",children:[(0,r.jsx)("circle",{cx:"8.19531",cy:"8.19629",r:"5.5",transform:"rotate(180 8.19531 8.19629)",stroke:"#A3A6AA"}),(0,r.jsx)("path",{d:"M8.19727 14.1963C9.78856 14.1963 11.3147 13.5641 12.4399 12.4389C13.5651 11.3137 14.1973 9.78759 14.1973 8.19629C14.1973 6.60499 13.5651 5.07887 12.4399 3.95365C11.3147 2.82843 9.78857 2.19629 8.19727 2.19629L8.19727 8.19629L8.19727 14.1963Z",fill:s})]}))}var YT=n(354031),zT=n.n(YT),WT=n(435696),KT=n.n(WT),qT=n(454675),XT=n.n(qT);function QT(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function $T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){QT(i,r,o,a,s,"next",e)}function s(e){QT(i,r,o,a,s,"throw",e)}a(void 0)}))}}function JT(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eN(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){JT(e,t,n[t])}))}return e}function tN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var nN,rN=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},oN=(nN=$T((function(){return rN(this,(function(e){switch(e.label){case 0:return[4,n.e(1025).then(n.bind(n,101025))];case 1:return[2,e.sent().default]}}))})),function(){
return nN.apply(this,arguments)}),iN=function(e){var t,n,i=e.featuredItem,a=e.className,c=br.Z.colors.TEXT_POSITIVE,u=kT,f=(0,s.e7)([Y.default],(function(){return Y.default.getUser(i.details.actorUserId)}),[i]),d=o.useMemo((function(){return null==f?{}:JT({},i.guildId,[f.id])}),[i.guildId,f]);(0,NT.$)(d);switch(c=(t=i.details.expiresAt,(n=IT()(t).diff(IT()(),"s"))<=AT.qZ.ONE_DAY?br.Z.colors.TEXT_DANGER:n<=AT.qZ.THREE_DAYS?br.Z.colors.TEXT_WARNING:br.Z.colors.TEXT_POSITIVE)){case br.Z.colors.TEXT_DANGER:u=DT;break;case br.Z.colors.TEXT_WARNING:u=FT;break;case br.Z.colors.TEXT_POSITIVE:u=kT}return(0,r.jsxs)("div",{className:ze()(a,zT().header),children:[(0,r.jsxs)("div",{className:zT().expirationContainer,children:[(0,r.jsx)(u,{color:c.css,"aria-hidden":!0,className:zT().expiredIcon}),(0,r.jsx)(l.Text,{style:{color:c.css},variant:"text-sm/normal",children:Q.Z.Messages.GUILD_FEED_FEATURED_EXPIRED_IN.format({fromNow:IT()(i.details.expiresAt).fromNow()})})]}),(0,r.jsx)(RT.Z,{height:4,
width:4,"aria-hidden":"true",className:zT().dotIcon}),(0,r.jsxs)("div",{className:zT().featuredByContainer,children:[(0,r.jsx)(l.Text,{className:zT().featuredByText,variant:"text-sm/normal",children:Q.Z.Messages.GUILD_FEED_FEATURED_BY}),null!=f&&(0,r.jsx)(l.Avatar,{size:l.AvatarSizes.SIZE_16,src:f.getAvatarURL(void 0,16),"aria-hidden":!0})]})]})},aN=function(e){var t=e.channel,n=(0,C_.ZP)(t),o=(0,CT.KS)(t),i=(0,CT.bT)(t);return null==t?null:(0,r.jsxs)("div",{className:zT().channelHeaderContainer,children:[null!=o?(0,r.jsx)(l.Tooltip,{text:i,delay:500,children:function(e){return(0,r.jsx)(o,tN(eN({},e),{className:zT().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(l.Heading,{className:zT().channelHeader,variant:"text-sm/semibold",children:n})]})},sN=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([fS.ZP],(function(){return fS.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)})),i=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(null==o?void 0:o.channel_id)}))
;if(null==i||null==o)return null;return(0,r.jsxs)(l.Clickable,{onContextMenu:function(e){e.stopPropagation();(0,xI.jW)(e,$T((function(){var e;return rN(this,(function(t){switch(t.label){case 0:return[4,oN()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,tN(eN({},t),{messageItem:n,channel:i,message:o}))}]}}))})))},className:zT().featuredItemsGroupWrapper,children:[(0,r.jsx)(iN,{featuredItem:n.featuredItem}),(0,r.jsx)(aN,{channel:i}),(0,r.jsx)(jT.Z,{className:zT().featuredItemsGroupCozy,message:o,channel:i})]})})),lN=o.memo((function(e){var t=e.guildId,n=e.featuredItem,o=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(n.thread.id)})),i=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(null==o?void 0:o.parent_id)})),a=(0,s.e7)([fS.ZP],(function(){return fS.ZP.getCachedMessage(t,n.message.channel_id,n.message.id)}));if(null==a||null==i||null==o)return null;return(0,r.jsxs)(l.Clickable,{onContextMenu:function(e){e.stopPropagation();(0,xI.jW)(e,$T((function(){var e
;return rN(this,(function(t){switch(t.label){case 0:return[4,oN()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,tN(eN({},t),{messageItem:n,channel:o,message:a}))}]}}))})))},className:zT().featuredItemsGroupWrapper,children:[(0,r.jsx)(iN,{featuredItem:n.featuredItem}),(0,r.jsx)(aN,{channel:i}),(0,r.jsx)(l.Heading,{className:zT().forumPostHeading,variant:"heading-md/semibold",children:o.name}),(0,r.jsx)(jT.Z,{className:zT().featuredItemsGroupCozy,message:a,channel:o})]},a.id)}));function cN(e){var t=(0,Io.ap)(e)?XT():KT();return(0,r.jsxs)("div",{className:zT().emptyPlaceholder,children:[(0,r.jsx)("div",{className:zT().emptyImage,style:{backgroundImage:"url(".concat(t,")")}}),(0,r.jsx)("div",{className:zT().emptyBody,children:Q.Z.Messages.GUILD_FEED_FEATURED_ITEMS_NO_ITEMS})]})}function uN(){return(0,r.jsx)(TT.h4,{title:Q.Z.Messages.GUILD_FEED_FEATURE_MESSAGE})}function fN(e){var t=e.guildId,n=(0,s.Wu)([fS.ZP],(function(){return fS.ZP.getFeaturedItems(t)}),[t]),i=(0,
s.e7)([fS.ZP],(function(){return fS.ZP.getFeaturedItemsFetchStatus(t)}),[t]);o.useEffect((function(){(0,uS.ZR)(t)}),[t]);return(0,r.jsx)(l.Dialog,{"aria-label":Q.Z.Messages.GUILD_FEED_FEATURED_MESSAGES,children:(0,r.jsx)(TT.QV,{analyticsName:"Featured Feed Items Popout",listName:"featuredMessages",items:n,loading:i.loading!==fS.Q.NONE,renderEmptyState:cN,renderHeader:uN,renderItem:function(e){return null==e?[]:e.type===ST.w.MESSAGE?[(0,r.jsx)(sN,{guildId:t,featuredItem:e},e.id)]:e.type===ST.w.FORUM_POST?[(0,r.jsx)(lN,{guildId:t,featuredItem:e},e.id)]:[]}})})}var dN=n(71236);function pN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function EN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hN(e,t,n[t])}))}return e}function yN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const _N=function(e){var t=e.guildId,n=mN(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){a((function(e){return!e}))}),[]);return(0,r.jsx)(l.Popout,{shouldShow:i,animation:l.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return a(!1)},renderPopout:function(e){return(0,r.jsx)(fN,EN({guildId:t},e))},children:function(e,t){var n=t.isShown;return(0,
r.jsx)(eS.JO,yN(EN({},e),{onClick:s,tooltip:n?null:Q.Z.Messages.GUILD_FEED_FEATURED_ITEMS,icon:dN.Z,"aria-label":Q.Z.Messages.GUILD_FEED_FEATURED_ITEMS,selected:n}))}})};var gN=n(451458),bN=n(878709),vN=n(841800),ON=n(136836),IN=n(821229),SN=n(733300),TN=n(83527),NN=n(256827),CN=n(858519),AN=n(614244);var PN=n(433932),RN=n(118712),jN=n(945549),MN=n(269300),wN=n(201441);function xN(){var e=(0,a.TH)(),t=(0,i.parse)(e.search),n=t.highlight_channel_id,r=t.highlight_message_id;return o.useMemo((function(){return null!=r&&null!=n?{messageId:r,channelId:n}:null}),[n,r])}var LN=n(247346),DN=n(556389),ZN=n(808749);var UN=n(718831);function GN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return GN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var BN=function(e){var t=kN(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[S.Z,Ds.Z,ZN.Z],3),n=t[0],r=t[1],o=t[2],i=o.getActiveChannelIds(e),a=null!=i?Array.from(i):[];return a.map((function(e){return n.getChannel(e)})).filter(kr.lm).filter((function(e){if(null==e?void 0:e.hasFlag(LS.zZ.ACTIVE_CHANNELS_REMOVED))return!1;if(!(0,Td.Qm)(e.type))return!1
;if(!r.can(w.Plq.VIEW_CHANNEL,e))return!1;var t=n.getChannel(e.parent_id);return!e.isThread()||null==t||!(null==t?void 0:t.hasFlag(LS.zZ.ACTIVE_CHANNELS_REMOVED))}))},HN=function(e,t){var n,r=kN(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Ds.Z,S.Z,OO.ZP,In.Z],4),o=r[0],i=r[1],a=r[2],s=r[3],l=a.getVoiceStates(e),c=Object.keys(l).filter((function(e){return l[e].length>0})),u=null===(n=s.getGuild(e))||void 0===n?void 0:n.afkChannelId;return c.filter((function(e){return e!==u&&e!==(null==t?void 0:t.channel_id)})).map((function(e){return i.getChannel(e)})).filter(kr.lm).filter((function(e){return!(null==e?void 0:e.hasFlag(LS.zZ.ACTIVE_CHANNELS_REMOVED))&&o.can(w.Plq.VIEW_CHANNEL,e)}))},VN=n(96606),FN=n(973713),YN=n.n(FN),zN=n(572274),WN=n.n(zN);function KN(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){KN(e,t,n[t])}))}return e}function XN(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var QN=o.forwardRef((function(e,t){var n,o=e.shouldUseCollapsedLayout,i=void 0===o||o,a=e.listItemId,s=e.onClick,c=e.icon,u=e.iconTooltipText,f=e.textNode,d=e.header,p=e.accessoryNode,h=e.children,E=(0,MI.Z)(dT.Gj),y=(0,Si.JA)(null!=a?a:"");return(0,r.jsxs)("div",{ref:t,className:ze()(YN().container,(n={},
KN(n,YN().containerCard,E),KN(n,YN().collapsedLayout,E&&i),n)),children:[(0,r.jsxs)(l.Clickable,XN(qN({className:YN().body,onClick:s},null!=a?y:void 0),{children:[(0,r.jsxs)("div",{className:YN().details,children:[null!=c?(0,r.jsx)(l.Tooltip,{text:u,delay:500,children:function(e){return(0,r.jsx)("div",XN(qN({},e),{className:YN().iconContainer,children:c}))}}):null,(0,r.jsx)(l.Heading,{className:YN().title,variant:"heading-sm/semibold",lineClamp:1,children:d}),(0,r.jsx)("div",{className:YN().subtitle,children:f})]}),null!=p&&(0,r.jsx)("div",{className:YN().accessoryContainer,children:p})]})),h]})})),$N=o.forwardRef((function(e,t){var n=e.children,o=e.guildId,i=e.channel,a=e.text,s=e.activityIndicator,c=e.usersInSummary,u=e.onChannelClick,f=e.channelIconOptions,d=(0,MI.Z)(dT.Gj),p=(0,CT.KS)(i,null,f);return(0,r.jsx)(QN,{ref:t,textNode:null!=a?(0,r.jsx)(l.Text,{className:YN().channelSubtitle,variant:"text-xs/normal",children:a}):null,listItemId:i.id,accessoryNode:(0,r.jsx)(VN.Z,{
guildId:o,users:c,size:d?VN.u.SIZE_24:VN.u.SIZE_16,max:d?5:3,extraDetail:s}),onClick:u,icon:null!=p&&(0,r.jsx)(p,{width:16,height:16}),iconTooltipText:(0,CT.bT)(i),header:i.name,children:n})}));function JN(){return(0,r.jsxs)("div",{className:ze()(YN().container,YN().containerCard,YN().fillerCard),children:[(0,r.jsx)("img",{src:WN(),className:YN().spacerChannelImg,alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{className:YN().fillerText,children:[(0,r.jsx)(l.Heading,{className:YN().title,variant:"heading-sm/semibold",children:Q.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_TITLE}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",children:Q.Z.Messages.ACTIVE_CHANNELS_COLLAPSED_SPACER_SUBTITLE})]})]})}var eC=n(941498);function tC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nC(e){var t=e.guildId,n=(0,MI.Z)(dT.Gj);return(0,r.jsxs)(r.Fragment,{children:[We.times(n?4:3,(function(e){var o;return(0,r.jsxs)("div",{
className:ze()(YN().container,(o={},tC(o,YN().loadingContainer,!0),tC(o,YN().containerCard,n),tC(o,YN().collapsedLayout,n),o)),children:[(0,r.jsxs)("div",{className:YN().body,children:[(0,r.jsxs)("div",{className:YN().details,children:[(0,r.jsx)("div",{className:YN().iconContainer}),(0,r.jsx)(eC.ZT,{className:YN().title,opacity:.2,width:72}),(0,r.jsx)(eC.ZT,{className:YN().subtitle,opacity:.1,width:100})]}),(0,r.jsx)("div",{className:YN().accessoryContainer,children:(0,r.jsx)(VN.Z,{guildId:t,renderUser:function(){return(0,r.jsx)("div",{className:YN().loadingUser,style:{width:n?24:16,height:n?24:16}})},users:[null,null],size:n?VN.u.SIZE_24:VN.u.SIZE_16,extraDetail:(0,r.jsx)("div",{className:YN().typingIndicator})})})]}),2===e&&(0,r.jsx)("div",{className:YN().previewContainer})]},e)})),(0,r.jsx)("div",{})," "]})}var rC=n(426089),oC=n(788169);function iC(e){var t,n=e.guildId,o=e.channel,i=e.trackChannelClick,a=(0,s.Wu)([ZN.Z],(function(){
return null!==(t=ZN.Z.getChannelMessageData(o.id))&&void 0!==t?t:[]})),c=Ke().uniq(Ke().map(a,"userId")),u=(0,s.Wu)([Y.default],(function(){return c.map((function(e){return Y.default.getUser(e)}))})),f=(0,s.e7)([oC.Z],(function(){var e=oC.Z.getTypingUsers(o.id);return Object.keys(e).length>0}),[o.id]),d=a.length<ZN.L?Q.Z.Messages.ACTIVE_CHANNELS_FEW_MESSAGES.format({count:a.length}):Q.Z.Messages.ACTIVE_CHANNELS_MANY_MESSAGES,p=f?(0,r.jsx)("div",{className:YN().typingIndicator,children:(0,r.jsx)(l.Dots,{className:YN().ellipsis,dotRadius:2,themed:!0})}):null;return(0,r.jsx)($N,{guildId:n,channel:o,usersInSummary:u.filter(kr.lm),text:d,activityIndicator:p,onChannelClick:function(){i(o);(0,rC.Z)(w.Z5c.CHANNEL(o.guild_id,o.id,Dc.Z.fromTimestamp(Date.now())))}})}var aC=n(14096),sC=n(538272),lC=n(246549),cC=n(414306),uC=n(425454);function fC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dC(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pC(e){var t=e.channel,n=e.voiceStates,o=e.showPlaceholder,i=(0,s.e7)([ec.Z],(function(){return ec.Z.getAllApplicationStreamsForChannel(t.id)[0]})),a=(0,
s.e7)([ec.Z],(function(){return null!=i?ec.Z.getActiveStreamForApplicationStream(i):null})),c=(0,s.e7)([ut.default],(function(){return ut.default.getId()})),u=dC((0,nc.wq)(t),2),f=u[0],p=u[1];if(null==i)return null;var h,E=Ke().chain(n).map("member").find(["userId",i.ownerId]).value(),y=Ke().chain(n).map("user").find(["id",i.ownerId]).value(),m=null!==(h=null==E?void 0:E.nick)&&void 0!==h?h:M_.ZP.getName(y),_=null!=a&&null!=i&&a.state!==w.jm8.ENDED&&a.ownerId===i.ownerId;return(0,r.jsxs)(l.Clickable,{onClick:function(){d.default.selectVoiceChannel(t.id);_||(0,ql.iV)(i)},className:YN().previewContainer,children:[o?(0,r.jsx)(lC.c,{className:YN().previewImage,isLoading:!0}):(0,r.jsx)(lC.Z,{className:YN().previewImage,stream:i}),f?(0,r.jsx)("div",{className:YN().previewHover,children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"none",className:YN().previewButton,children:(0,sC.Z)(i,a,c,p)})}):null,null!=m?(0,r.jsxs)("div",{className:YN().previewName,children:[(0,r.jsx)(uC.Z,{width:18,
height:18,className:YN().icon}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"none",children:m})]}):null]})}function hC(e){var t,n=e.guildId,i=e.channel,a=e.voiceStates,l=e.trackChannelClick,c=e.showPreview,u=a.map((function(e){return e.user})),f=(0,cC.Z)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,d=(0,s.e7)([Ds.Z],(function(){return!Ds.Z.can(w.Plq.CONNECT,i)})),p=o.useRef(null),h=function(e){var t=o.useRef(null),n=dC(o.useState(!1),2),r=n[0],i=n[1];o.useEffect((function(){t.current=new IntersectionObserver((function(e){var t=dC(e,1)[0];return i(t.isIntersecting)}))}),[]);o.useEffect((function(){var n;if(null!=e.current){null===(n=t.current)||void 0===n||n.observe(e.current);return function(){var e;null===(e=t.current)||void 0===e||e.disconnect()}}}),[e]);return r}(p),E=o.useRef(!1);o.useEffect((function(){h&&(E.current=!0)}),[h]);var y,m=Ke().map(a,(function(e){var t
;return null!==(y=null===(t=e.member)||void 0===t?void 0:t.nick)&&void 0!==y?y:M_.ZP.getName(e.user)})),_=m.join(", ");return(0,r.jsx)($N,{ref:p,guildId:n,channel:i,text:_,usersInSummary:u,onChannelClick:function(){if((0,Td.bw)(i.type)){var e=A.Z.getVoiceChannelId(),t=!Ds.Z.can(w.Plq.CONNECT,i);l(i);aC.Z.handleVoiceConnect({channel:i,locked:t,connected:e===i.id,needSubscriptionToAccess:f})}},channelIconOptions:{locked:d},children:c&&(0,r.jsx)(pC,{channel:i,voiceStates:a,showPlaceholder:!E.current})})}var EC=n(210595),yC=QS.Z.parseGuildEventDescription,mC=n(32421),_C=n(371188),gC=n(205316),bC=n(915840),vC=n(82274),OC=n(808194),IC=n(570202),SC=n(457997),TC=n(710674),NC=n(3155),CC=n(509692),AC=n.n(CC);function PC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jC(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return PC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var MC=12;function wC(e){var t=e.event,n=t.scheduled_start_time,i=t.scheduled_end_time,a=(0,MN.xt)(t),s=jC(o.useState((0,
_C.ub)(n,i)),2),c=s[0],u=c.startDateTimeString,f=c.endDateTimeString,d=c.currentOrPastEvent,p=c.upcomingEvent,h=c.diffMinutes,E=s[1];o.useEffect((function(){var e=setInterval((function(){return E((0,_C.ub)(n,i))}),1e3);return function(){clearInterval(e)}}),[]);var y,m=u,_="header-secondary";if(a){m=Q.Z.Messages.STAGE_CHANNEL_LIVE_NOW;_="text-positive"}else if(d){m=Q.Z.Messages.STARTING_SOON;_="text-brand"}else if(p){m=h>0?Q.Z.Messages.STARTING_IN_MINUTES.format({minutes:h}):Q.Z.Messages.STARTING_SOON;_="text-brand"}else null!=f&&""!==f&&(m=Q.Z.Messages.START_DATE_TO_END_DATE.format({start:u,end:f}));return(0,r.jsxs)("div",{className:ze()(AC().eventTime,(y={},RC(y,AC().isActive,a),RC(y,AC().isBrand,d||p),y)),children:[(0,r.jsx)(SC.Z,{width:MC,height:MC}),(0,r.jsxs)(l.Text,{color:_,variant:"text-xs/normal",className:AC().eventTimeLabel,children:[m,(0,r.jsx)("span",{className:AC().separator,children:""})]})]})}function xC(e){
var t=e.event,n=e.channel,i=e.isCollapsedSize,a=e.onEventClick,c=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.CONNECT,n)})),u=o.useCallback((function(){if(null!=n&&null!=n.getGuildId()&&c){(0,bC.Cq)(n);(0,K.XU)(n.getGuildId(),n.id)}}),[n,c]),f=(0,gC.Z)(t),d=t.entity_type===NC.WX.STAGE_INSTANCE?Q.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON:Q.Z.Messages.JOIN;return null==t.image||i?null!=n&&c?(0,r.jsx)("div",{className:AC().eventJoinContainer,children:(0,r.jsx)(l.Button,{className:AC().joinButton,onClick:u,fullWidth:!0,color:l.Button.Colors.GREEN,children:d})}):null:null!=n&&c?(0,r.jsxs)(l.Clickable,{onClick:u,className:AC().eventJoinContainer,children:[(0,r.jsx)("div",{className:AC().eventImg,style:{backgroundImage:"url(".concat(f,")")}}),(0,r.jsx)("div",{className:AC().eventImgHover,children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"none",className:AC().eventImgJoinButton,children:d})})]}):(0,r.jsx)(l.Clickable,{onClick:a,className:AC().eventJoinContainer,children:(0,
r.jsx)("div",{className:AC().eventImg,style:{backgroundImage:"url(".concat(f,")")}})})}function LC(e){var t,n=e.event,o=e.channel,i=e.isActive,a=e.isCollapsedSize,s=(0,CT.KS)(o);return(0,r.jsxs)("div",{className:AC().eventInfo,children:[(!i||a)&&(0,r.jsx)(wC,{event:n}),(0,r.jsx)("div",{className:AC().location,children:null!=o&&null!=s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{width:MC,height:MC,className:AC().icon}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:AC().locationLabel,children:o.name})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(TC.Z,{height:MC,width:MC,className:ze()(AC().channelContainer,AC().icon)}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:AC().locationLabel,children:yC(null!==(t=(0,mC.cS)(n))&&void 0!==t?t:void 0,!0)})]})})]})}function DC(e){var t=e.event,n=e.isInList,i=t.guild_id,a=(0,MI.Z)(dT.Gj),l=(0,MN.xt)(t),c=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(t.channel_id)})),u=(0,s.e7)([qI.Z],(function(){return qI.Z.isLurking(i)
}),[i]),f=o.useCallback((function(){Oe.default.track(w.rMx.HOME_EVENT_CLICKED,{guild_id:i,home_session_id:AN.Z.getHomeSessionId(i),guild_scheduled_event_id:t.id,is_active:l});(0,Dl.bO)({eventId:t.id,parentGuildId:i})}),[t,i,l]),d=(0,s.Wu)([OO.ZP],(function(){return null==c?[]:OO.ZP.getVoiceStatesForChannel(c).map((function(e){return e.user}))}),[c]),p=(0,s.e7)([vC.Z],(function(){if(null!=c&&c.type===EC.d.GUILD_STAGE_VOICE)return vC.Z.getParticipantCount(null==c?void 0:c.id,OC.pV.AUDIENCE)}),[c]);return(0,r.jsx)(QN,{listItemId:n?t.id:void 0,shouldUseCollapsedLayout:!1,onClick:u?void 0:f,icon:l?(0,r.jsx)("div",{className:AC().liveNowIcon}):(0,r.jsx)(IC.Z,{width:16,height:16}),iconTooltipText:Q.Z.Messages.GUILD_HOME_EVENTS_TOOLTIP_TEXT,header:t.name,textNode:(0,r.jsx)(LC,{event:t,channel:c,isActive:l,isCollapsedSize:a}),accessoryNode:l?(0,r.jsx)(VN.Z,{guildId:i,users:d,count:p,size:VN.u.SIZE_16,max:3}):null,children:l&&(0,r.jsx)(xC,{event:t,channel:c,isCollapsedSize:a,onEventClick:f})})}
var ZC=n(134658),UC=n.n(ZC),GC=n(404024),kC=n.n(GC),BC=n(764728),HC=n.n(BC);function VC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FC(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function YC(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function WC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||qC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KC(e){return function(e){if(Array.isArray(e))return VC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qC(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qC(e,t){if(e){if("string"==typeof e)return VC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VC(e,t):void 0}}var XC={overflowX:void 0,overflowY:void 0};function QC(){var e="dark"===(0,To.ZP)()?kC():HC();return(0,r.jsxs)("div",{className:UC().emptyStateContainer,children:[(0,r.jsx)("img",{className:UC().image,src:e,width:154,height:48,alt:""}),(0,r.jsx)(l.Heading,{className:UC().title,variant:"heading-md/semibold",children:Q.Z.Messages.ACTIVE_CHANNELS_EMPTY_TITLE}),(0,r.jsx)(l.Text,{className:UC().subtitle,color:"header-secondary",variant:"text-sm/normal",children:Q.Z.Messages.ACTIVE_CHANNELS_EMPTY_SUBTITLE})]})}function $C(e){
var t=e.isUsingCollapsedLayout,n=e.scrollerRef,o=e.handleScroll,i=e.activeChannels,a=e.totalActiveChannels,s=(0,wI.Z)("active-channels",n,{orientation:t?LN.hy.HORIZONTAL:LN.hy.VERTICAL});return(0,r.jsx)(Si.bG,{navigator:s,children:(0,r.jsx)(Si.SJ,{children:function(e){var s=e.ref,c=zC(e,["ref"]);return(0,r.jsxs)(l.AdvancedScrollerNone,YC(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){FC(e,t,n[t])}))}return e}({className:UC().channelList,orientation:"horizontal",paddingFix:!1,onScroll:o,style:t?void 0:XC,ref:function(e){n.current=e;var t;s.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null;o()}},c),{children:[i,t&&a<4&&(0,r.jsx)(JN,{})]}))}})})}function JC(e){var t=e.guildId,n=e.isUsingCollapsedLayout,i=(0,
s.e7)([ZN.Z],(function(){return ZN.Z.getActiveChannelsFetchStatus(t)})),a=function(e){return(0,s.Wu)([S.Z,Ds.Z,ZN.Z],(function(){return BN(e,[S.Z,Ds.Z,ZN.Z])}))}(t),c=(0,wN.k5)(t),u=(0,s.e7)([OO.ZP],(function(){return OO.ZP.getVoiceStates(t)})),f=function(e,t){return(0,s.Wu)([Ds.Z,S.Z,OO.ZP,In.Z],(function(){return HN(e,t,[Ds.Z,S.Z,OO.ZP,In.Z])}))}(t,c),d=a.length+f.length+(null!=c?1:0),p=d>0,h=o.useRef(null),E=(0,wN.ZP)(t).filter((function(e){return!(0,MN.xt)(e)})),y=WC(o.useState(0===E.length),2),m=y[0],_=y[1],g=WC(o.useState(!0),2),b=g[0],v=g[1],O=WC(o.useState(!1),2),I=O[0],T=O[1],N=(0,jI.Z)(),C=N.ref,A=N.width,P=o.useCallback((function(){var e=h.current;if(null!=e&&null!=A){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth;v(n<=0);T(n>=r-A-1)}}),[A]),R=o.useCallback((function(){var e=h.current;if(null!=e&&null!=A){var t=e.getScrollerState().scrollLeft,n=A+12,r=Math.max(.25*A-9,140),o=Math.ceil((t-n)/r)*r;e.scrollTo({to:Math.max(0,o),animate:!0})}
}),[A]),j=o.useCallback((function(){var e=h.current;if(null!=e&&null!=A){var t=e.getScrollerState(),n=t.scrollLeft,r=t.scrollWidth,o=A+12,i=Math.max(.25*A-9,140),a=Math.floor((n+o)/i)*i;e.scrollTo({to:Math.min(r,a),animate:!0})}}),[A]);o.useEffect((function(){ZN.Z.shouldFetch(t)&&(0,DN.n)(t)}),[t]);!function(e,t,n){var r=(0,s.e7)([ZN.Z],(function(){var t=ZN.Z.getActiveChannelsFetchStatus(e);return null!=t&&!t.loading}),[e]);o.useEffect((function(){r&&Oe.default.track(w.rMx.ACTIVE_CHANNELS_LOADED,{guild_id:e,text_channels_shown:t.length,voice_channels_shown:n.length,home_session_id:AN.Z.getHomeSessionId(e)})}),[e,r])}(t,a,f);var M=o.useCallback((function(e){Oe.default.track(w.rMx.ACTIVE_CHANNEL_CLICKED,{guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,text_channels_shown:a.length,voice_channels_shown:f.length,home_session_id:AN.Z.getHomeSessionId(e.guild_id)})}),[a,f]),x=a.map((function(e){return(0,r.jsx)(iC,{guildId:t,channel:e,trackChannelClick:M},e.id)})),L=f.map((function(e){
return(0,r.jsx)(hC,{guildId:t,channel:e,voiceStates:u[e.id],trackChannelClick:M,showPreview:!n},e.id)})),D=[];if(n)D=KC(x).concat(KC(L));else if(m)D=We.compact([null!=c&&(0,r.jsx)(DC,{event:c,isInList:!0},"event")].concat(KC(x.slice(0,10)),KC(L)));else{var Z=We.take(x,3-(L.length>0?1:0)-(null!=c?1:0)),U=We.take(L,3-Z.length-(null!=c?1:0));D=We.compact([null!=c&&(0,r.jsx)(DC,{event:c,isInList:!0},"event")].concat(KC(Z),KC(U)))}return(0,r.jsx)("div",{ref:C,className:UC().container,children:(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsxs)("div",{className:UC().header,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.ACTIVE_CHANNELS_HEADER}),!n&&!0!==(null==i?void 0:i.loading)&&d>3&&(0,r.jsx)(l.Clickable,{onClick:function(){return _(!m)},children:(0,r.jsx)(l.Text,{className:UC().showAll,variant:"text-sm/normal",children:m?Q.Z.Messages.GUILD_HOME_SEE_LESS:Q.Z.Messages.GUILD_HOME_SEE_ALL.format({count:d})})})]}),children:[(null==i?void 0:i.loading)?(0,
r.jsx)(l.AdvancedScrollerNone,{className:UC().channelList,orientation:"horizontal",paddingFix:!1,children:(0,r.jsx)(nC,{guildId:t})}):p?(0,r.jsx)($C,{isUsingCollapsedLayout:n,scrollerRef:h,handleScroll:P,activeChannels:D,totalActiveChannels:d}):(0,r.jsx)(QC,{}),n&&p&&!b&&(0,r.jsx)(l.Clickable,{className:ze()(UC().scrollIcon,UC().left),onClick:R,"aria-hidden":!0,children:(0,r.jsx)(UN.Z,{direction:UN.Z.Directions.LEFT,height:12,width:12})}),n&&p&&!I&&(0,r.jsx)(l.Clickable,{className:ze()(UC().scrollIcon,UC().right),onClick:j,"aria-hidden":!0,children:(0,r.jsx)(UN.Z,{direction:UN.Z.Directions.RIGHT,height:12,width:12})})]})})}var eA=n(170892),tA=n(764334);function nA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rA(e){rA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return rA(e)}function oA(e,t){return!t||"object"!==aA(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iA(e,t){iA=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return iA(e,t)}var aA=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function sA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=rA(e);if(t){var o=rA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oA(this,n)}}var lA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&iA(e,t)}(n,e);var t=sA(n)
;function n(){nA(this,n);return t.apply(this,arguments)}var r=n.prototype;r._initialize=function(){b.Z.subscribe("MESSAGE_REACTION_ADD",this.handleReaction);b.Z.subscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);b.Z.subscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);b.Z.subscribe("MESSAGE_CREATE",this.handleMessageCreate);b.Z.subscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r._terminate=function(){b.Z.unsubscribe("MESSAGE_REACTION_ADD",this.handleReaction);b.Z.unsubscribe("MESSAGE_REACTION_REMOVE",this.handleReaction);b.Z.unsubscribe("SIDEBAR_VIEW_CHANNEL",this.handleSidebarViewChannel);b.Z.unsubscribe("MESSAGE_CREATE",this.handleMessageCreate);b.Z.unsubscribe("APP_STATE_UPDATE",this.handleAppStateUpdate)};r.handleReaction=function(e){var t=e.type,n=e.userId,r=e.messageId,o=e.optimistic;if(n===ut.default.getId()&&o){var i=P.Z.getGuildId();if(null!=i){var a=A.Z.getChannelId();if((0,LS.ME)(a)){var s=fS.ZP.getItemForMessageId(i,r);if(null!=s){var l=(0,eA.ZP)(s)
;(0,uS.wA)({feed_item_type:(0,tA.NH)(s.id),feed_item_id:s.id,load_id:fS.ZP.getLoadId(i),action_type:"MESSAGE_REACTION_ADD"===t?dT.w8.REACTION_ADDED:dT.w8.REACTION_REMOVED,guild_id:i,channel_id:l.channel_id,message_id:r,home_session_id:AN.Z.getHomeSessionId(i)})}}}}};r.handleSidebarViewChannel=function(e){var t=e.channelId,n=e.baseChannelId;if(e.sidebarType===vN.t.VIEW_THREAD&&(0,LS.ME)(n)){var r=P.Z.getGuildId();if(null!=r){var o=fS.ZP.getItemForMessageId(r,t);null!=o&&o.type!==ST.w.FORUM_POST&&(0,uS.wA)({feed_item_type:(0,tA.NH)(o.id),feed_item_id:o.id,load_id:fS.ZP.getLoadId(r),action_type:dT.w8.THREAD_EMBED_CLICKED,guild_id:r,channel_id:(0,AT.xp)(o),message_id:t,home_session_id:AN.Z.getHomeSessionId(r)})}}};r.handleMessageCreate=function(e){var t=e.optimistic,n=e.message;if(t&&n.state===w.yb.SENDING){var r=P.Z.getGuildId();if(null!=r){var o=P_.ZP.getSidebarState(LS.oC.GUILD_HOME);if(null!=o&&(0,P_.D5)(o)){var i=S.Z.getChannel(o.channelId),a=(0,AT.FW)(o,i);if(null!=a){
var s=fS.ZP.getItemForMessageId(r,a);if(null!=s){var l,c;if(n.type===w.uaV.DEFAULT){l=dT.w8.MESSAGED_IN_SIDEBAR;c=a}else if(n.type===w.uaV.REPLY){var u,f;c=null===(u=n.message_reference)||void 0===u?void 0:u.message_id;l=(null===(f=n.message_reference)||void 0===f?void 0:f.message_id)===a?dT.w8.REPLIED_TO_MESSAGE:dT.w8.REPLIED_IN_SIDEBAR}null!=l&&(0,uS.wA)({feed_item_type:(0,tA.NH)(s.id),feed_item_id:s.id,load_id:fS.ZP.getLoadId(r),action_type:l,guild_id:r,channel_id:n.channel_id,message_id:c,home_session_id:AN.Z.getHomeSessionId(r)})}}}}}};r.handleAppStateUpdate=function(e){if("background"===e.state){var t=P.Z.getGuildId();null!=t&&Oe.default.track(w.rMx.HOME_BACKGROUNDED,{guild_id:t,home_session_id:AN.Z.getHomeSessionId(t),load_id:fS.ZP.getLoadId(t)})}};r.__getLocalVars=function(){return{}};return n}(O.Z);const cA=new lA;var uA=n(151154),fA=n(146358),dA=n(809784);function pA(e,t,n){for(var r=n.feedItemId,o=n.guildId,i=n.channelId,a=n.messageId,s=e.target;(0,dA.k)(s);){var l,c
;if(s===t)break;var u=null!==(c=null===(l=s.getAttribute("data-role"))||void 0===l?void 0:l.toUpperCase())&&void 0!==c?c:s.tagName;if("A"===u){(0,uS.wA)({feed_item_type:(0,tA.NH)(r),feed_item_id:r,load_id:fS.ZP.getLoadId(o),action_type:dT.w8.LINK_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:AN.Z.getHomeSessionId(o)});return!0}if("IMG"===u){(0,uS.wA)({feed_item_type:(0,tA.NH)(r),feed_item_id:r,load_id:fS.ZP.getLoadId(o),action_type:dT.w8.IMAGE_CLICKED,guild_id:o,channel_id:i,message_id:a,home_session_id:AN.Z.getHomeSessionId(o)});return!0}if("BUTTON"===u||"button"===s.getAttribute("role")){var f=dT.w8.BUTTON_CLICKED;if("view-more-replies"===s.getAttribute("data-action"))f=dT.w8.VIEW_MORE_REPLIES;(0,uS.wA)({feed_item_type:(0,tA.NH)(r),feed_item_id:r,load_id:fS.ZP.getLoadId(o),action_type:f,guild_id:o,channel_id:i,message_id:a,home_session_id:AN.Z.getHomeSessionId(o)});return!0}s=s.parentNode}return!1}function hA(e){
var t=e.guildId,n=e.channelId,r=e.feedItemId,o=e.onChannelClick,i=e.onContentClick,a=function(e,o){e.stopPropagation();var a=fS.ZP.getItem(t,r);if(null!=a){var s;(0,uS.wA)({feed_item_type:(0,tA.NH)(r),feed_item_id:r,load_id:fS.ZP.getLoadId(t),action_type:dT.w8.MESSAGE_CLICKED,guild_id:t,channel_id:n,message_id:null!==(s=null==o?void 0:o.id)&&void 0!==s?s:(0,eA.ZP)(a).id,home_session_id:AN.Z.getHomeSessionId(t)});i(o)}};return{handleMessageClick:function(e,o,i){e.stopPropagation();pA(e,o,{feedItemId:r,guildId:t,channelId:n,messageId:i.id})||a(e,i)},handleChannelClick:function(e){e.stopPropagation();(0,uS.wA)({feed_item_type:(0,tA.NH)(r),feed_item_id:r,load_id:fS.ZP.getLoadId(t),action_type:dT.w8.MESSAGE_CHANNEL_CLICKED,guild_id:t,channel_id:n,home_session_id:AN.Z.getHomeSessionId(t)});o()},handleCardClick:function(e,o){pA(e,o,{feedItemId:r,guildId:t,channelId:n})||a(e)},handleItemClick:a}}
var EA=n(550131),yA=n(834876),mA=n(62994),_A=n(855395),gA=n(96812),bA=n(283285),vA=n(277600),OA=n(723876),IA=n(112588),SA=n(42028),TA=n(377557),NA=n.n(TA);function CA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function AA(e){var t=e.message,n=e.guildId,i=e.animateAvatar,a=e.channel,s=e.author,c=(0,gA.Z)(t.id,nT.d$),u=c.popouts,f=c.setPopout,d=u.usernameProfile,p=u.avatarProfile,h=o.useMemo((function(){return function(e){return(0,mA.Z)(e,t)}}),[t]),E=(0,_A.wq)(t.author.id,a.id),y=(0,_A.XO)(t,a,d,f),m=(0,_A.R9)(p,f),_=o.useCallback((function(){return f({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[f]),g=(0,IA.F2)({props:{message:t,channel:a,author:s,guildId:n,compact:!0,displayCompactAvatars:!0,animate:i,showAvatarPopout:p,showUsernamePopout:d,onContextMenu:E,onClickUsername:y,onClickAvatar:m,onPopoutRequestClose:_},guildId:n,handleRenderPopout:h,className:NA().avatar}),b=(0,IA.xP)(e,h),v=(0,
yA.XX)(t),O=(0,yA.Dv)(t),I="".concat(v," ").concat(O),S=(0,yA.Gq)(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.H,{className:NA().header,"aria-describedby":S,"aria-labelledby":I,children:[g,(0,r.jsx)("span",{id:(0,yA.XX)(t),className:NA().username,children:(0,r.jsx)(r.Fragment,{children:b})}),(0,r.jsx)(SA.Z,{id:(0,yA.Dv)(t),timestamp:t.timestamp,className:NA().timestamp})]})})}var PA=o.forwardRef((function(e,t){var n=e.message,i=e.className,a=e.onMessageClick,s=e.children,c=e.isTruncated,u=e.channel,f=e.guildId,d=e.animateAvatar,p=o.useRef(null),h=(0,bA.Z)(n,{hideSimpleEmbedContent:!0}),E=h.content,y=h.hasSpoilerEmbeds,m=(0,EA.ZP)(n),_=o.useCallback((function(e){a(e,p.current,n)}),[a,n]);return(0,r.jsxs)("div",{ref:p,className:i,onClick:_,role:"article",children:[(0,r.jsx)(l.FocusRing,{offset:{left:4,right:4},children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(AA,{author:m,message:n,channel:u,guildId:f,animateAvatar:d}),(0,r.jsx)(OA.ZP,{
className:ze()(NA().messageContent,CA({},NA().truncatedReply,c)),message:n,content:E,contentRef:t})]}),(0,vA.Z)({className:NA().accessories,channelMessageProps:e,hasSpoilerEmbeds:y,isInteracting:!1})]})}),s]})})),RA=n(248088);function jA(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var MA,wA,xA,LA="guild_feed_feedback_last_seen";!function(e){e.TERRIBLE="terrible";e.BAD="bad";e.OKAY="okay";e.GOOD="good";e.EXCELLENT="excellent"}(MA||(MA={}));!function(e){e[e.ALREADY_SAW=0]="ALREADY_SAW";e[e.IRRELEVANT=1]="IRRELEVANT";e[e.TOO_OLD=2]="TOO_OLD";e[e.CONFUSING_OR_RANDOM=3]="CONFUSING_OR_RANDOM";e[e.INAPPROPRIATE=4]="INAPPROPRIATE";e[e.UNINTERESTING=5]="UNINTERESTING";e[e.ENTERTAINING=6]="ENTERTAINING";e[e.INFORMATIVE=7]="INFORMATIVE";e[e.USEFUL=8]="USEFUL";e[e.OTHER=9]="OTHER";e[e.FUNNY=10]="FUNNY"}(wA||(wA={}))
;var DA=(jA(xA={},MA.TERRIBLE,[wA.ALREADY_SAW,wA.IRRELEVANT,wA.TOO_OLD,wA.CONFUSING_OR_RANDOM,wA.INAPPROPRIATE,wA.OTHER]),jA(xA,MA.BAD,[wA.ALREADY_SAW,wA.IRRELEVANT,wA.TOO_OLD,wA.CONFUSING_OR_RANDOM,wA.INAPPROPRIATE,wA.OTHER]),jA(xA,MA.OKAY,[wA.IRRELEVANT,wA.TOO_OLD,wA.UNINTERESTING,wA.ALREADY_SAW,wA.OTHER]),jA(xA,MA.GOOD,[wA.FUNNY,wA.ENTERTAINING,wA.INFORMATIVE,wA.USEFUL,wA.OTHER]),jA(xA,MA.EXCELLENT,[wA.FUNNY,wA.ENTERTAINING,wA.INFORMATIVE,wA.USEFUL,wA.OTHER]),xA);function ZA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GA(e){switch(e){case wA.ALREADY_SAW:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ALREADY_SAW;case wA.IRRELEVANT:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_IRRELEVANT;case wA.TOO_OLD:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_TOO_OLD;case wA.CONFUSING_OR_RANDOM:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_CONFUSING;case wA.INAPPROPRIATE:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INAPPROPRIATE;case wA.UNINTERESTING:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_UNINTERESTING;case wA.ENTERTAINING:
return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_ENTERTAINING;case wA.INFORMATIVE:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_INFORMATIVE;case wA.USEFUL:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_USEFUL;case wA.OTHER:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_REASON;case wA.FUNNY:return Q.Z.Messages.GUILD_FEED_FEEDBACK_OPTION_FUNNY;default:return null}}function kA(e){var t=e.guildId,n=e.guildFeedItem,r=e.setOnDismissFeedback,i=UA(o.useState(),2),a=i[0],l=i[1],c=UA(o.useState(new Set),2),u=c[0],f=c[1],d=UA(o.useState(),2),p=d[0],h=d[1],y=UA(o.useState(!1),2),m=y[0],_=y[1],g=UA(o.useState(!1),2),b=g[0],v=g[1],O=UA(o.useState(!1),2),I=O[0],S=O[1],T=o.useCallback((function(e){l(e);S(!0);_(!1);setTimeout((function(){S(!1)}),600)}),[l,_,S]),N=o.useCallback((function(e){e===wA.OTHER&&u.has(wA.OTHER)&&h(null);var t=new Set(u);t.has(e)?t.delete(e):t.add(e);f(t)}),[u,h,f]),C=o.useCallback((function(){_(!0);f(new Set)}),[_,f]),A=o.useCallback((function(e){!function(e){
var t,n=e.guildId,r=e.guildFeedItem,o=e.dismissed,i=e.selectedRating,a=void 0===i?null:i,s=e.selectedReasons,l=void 0===s?null:s,c=e.userFeedback,u=void 0===c?null:c,f=Array.from(null!=l?l:[]);Oe.default.track(w.rMx.HOME_FEEDBACK_SUBMITTED,{guild_id:n,home_session_id:AN.Z.getHomeSessionId(n),feed_item_id:r.id,feed_item_position:0,dismissed:o,report_name:"feed_item_feedback",load_id:fS.ZP.getLoadId(n),rating:a,reason_codes:f,reason_descriptions:f.map((function(e){return null!==(t=GA(e))&&void 0!==t?t:""})),user_feedback:u})}({guildId:t,guildFeedItem:n,dismissed:e,selectedRating:a,selectedReasons:u,userFeedback:p})}),[t,n,a,u,p]),P=o.useCallback((function(){ve.Z.set(LA,Date.now());null==r||r(!0);b||A(!0)}),[A,r,b]),R=o.useCallback((function(){A(!1);v(!0);ve.Z.set(LA,Date.now())}),[A]),j=o.useMemo((function(){return u.size>0&&(!u.has(wA.OTHER)||null!=p&&""!==p)}),[u,p]),M=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),x=o.useRef(!1);o.useEffect((function(){return function(){
x.current=!0}}),[]);o.useEffect((function(){return function(){x.current&&null!=a&&P()}}),[a,P]);return{selectedRating:a,setSelectedRating:T,selectedReasons:u,setSelectedReasons:N,setUserFeedback:h,backPressed:m,onBackPressed:C,onSubmitPressed:R,onClosePressed:P,showSubmitted:b,isAnimating:I,canSubmit:j,useReducedMotion:M}}var BA=n(677483),HA=n(384157),VA=n.n(HA),FA=n(635232),YA=n.n(FA),zA=n(312154),WA=n.n(zA),KA=n(22513),qA=n.n(KA),XA=n(515861),QA=n.n(XA),$A=n(568909),JA=n.n($A),eP=n(531239),tP=n.n(eP),nP=n(302048),rP=n.n(nP),oP=n(180263),iP=n.n(oP),aP=n(677291),sP=n.n(aP),lP=n(864678),cP=n.n(lP),uP=n(367627),fP=n.n(uP),dP=n(874744),pP=n.n(dP),hP=n(101872),EP=n.n(hP),yP=n(46802),mP=n.n(yP),_P=n(726954),gP=n.n(_P),bP=n(897295),vP=n.n(bP);function OP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return OP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var SP=[{light:mP(),dark:EP(),selected:gP(),value:MA.TERRIBLE,altDescription:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE},description:function(){
return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_TERRIBLE}},{light:WA(),dark:YA(),selected:qA(),value:MA.BAD,altDescription:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_BAD}},{light:fP(),dark:cP(),selected:pP(),value:MA.OKAY,altDescription:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_OKAY}},{light:iP(),dark:rP(),selected:sP(),value:MA.GOOD,altDescription:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_GOOD}},{light:JA(),dark:QA(),selected:tP(),value:MA.EXCELLENT,altDescription:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT},description:function(){return Q.Z.Messages.GUILD_FEED_FEEDBACK_RATING_EXCELLENT}}];function TP(e){var t=e.defaultSrc,n=e.selectedSrc,i=e.selected,a=e.disableAnimation,s=e.alt,l=IP((0,RA.useSpring)((function(){return{from:{opacity:1},config:{duration:a?0:450}}}),[i,a]),2),c=l[0],u=l[1],f=IP((0,RA.useSpring)((function(){return{from:{opacity:0},config:{duration:a?0:450}}}),[i,a]),2),d=f[0],p=f[1]
;o.useEffect((function(){if(i){u({opacity:0});p({opacity:1})}else{u({opacity:1});p({opacity:0})}}),[i,a,u,p]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(RA.animated.img,{style:{opacity:d.opacity},src:n,width:40,height:40,alt:s}),(0,r.jsx)(RA.animated.img,{className:VA().ratingInner,style:{opacity:c.opacity},src:t,width:40,height:40,alt:s})]})}function NP(e){var t=e.selectedRating,n=e.setSelectedRating,o=e.disableAnimation,i=(0,To.ZP)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_TITLE}),(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_1_SUBTITLE}),(0,r.jsx)("div",{className:VA().ratingsContainer,children:SP.map((function(e){return(0,r.jsxs)("div",{className:VA().ratingContainer,children:[(0,r.jsx)(l.Clickable,{className:VA().rating,onClick:function(){n(e.value)},children:(0,r.jsx)(TP,{defaultSrc:(0,Io.wj)(i)?e.dark:e.light,
selectedSrc:e.selected,selected:t===e.value,alt:e.altDescription(),disableAnimation:o})}),null!=e.description?(0,r.jsx)(l.Text,{variant:"text-xs/normal",children:e.altDescription()}):null]},e.value)}))})]})}function CP(e){var t,n=e.selectedRating,o=e.selectedReasons,i=e.onSelectedReasons,a=e.onUserFeedbackChanged,s=e.onSubmitPressed,c=e.canSubmit;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_2_TITLE.format({rating:n.toLowerCase()})}),(0,r.jsx)("div",{className:VA().pillContainer,children:(null!==(t=DA[n])&&void 0!==t?t:[]).map((function(e){return(0,r.jsx)(l.Clickable,{onClick:function(){return i(e)},className:ze()(VA().pill,o.has(e)?VA().pillSelected:null),children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:GA(e)})},e)}))}),o.has(wA.OTHER)?(0,r.jsx)(l.TextInput,{autoFocus:!0,className:VA().textInput,onChange:a,placeholder:Q.Z.Messages.GUILD_FEED_FEEDBACK_OTHER_PLACEHOLDER}):null,(0,
r.jsx)(l.Button,{className:VA().button,disabled:!c,onClick:s,children:Q.Z.Messages.SUBMIT})]})}function AP(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{src:vP(),width:75,height:75,alt:""}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_FEEDBACK_SECTION_3_TITLE})]})}function PP(e){var t,n,o=kA(e),i=o.selectedRating,a=o.setSelectedRating,s=o.selectedReasons,c=o.setSelectedReasons,u=o.setUserFeedback,f=o.backPressed,d=o.onSubmitPressed,p=o.onBackPressed,h=o.onClosePressed,E=o.showSubmitted,y=o.canSubmit,m=o.isAnimating,_=o.useReducedMotion;if(E){n=!1;t=(0,r.jsx)(AP,{})}else if(null==i||f||m){n=!1;t=(0,r.jsx)(NP,{disableAnimation:f||_,selectedRating:i,setSelectedRating:a})}else{n=!0;t=(0,r.jsx)(CP,{selectedRating:i,selectedReasons:s,onSelectedReasons:c,onUserFeedbackChanged:u,onBackPressed:p,onSubmitPressed:d,canSubmit:y})}return(0,r.jsx)("div",{className:VA().parentContainer,onClick:function(e){return e.stopPropagation()},children:(0,
r.jsxs)("div",{className:ze()(VA().container,VA().containerDivider),children:[t,n?(0,r.jsx)(l.Clickable,{className:ze()(VA().icon,VA().back),onClick:p,children:(0,r.jsx)(BA.Z,{direction:BA.Z.Directions.LEFT})}):null,(0,r.jsx)(l.Clickable,{className:ze()(VA().icon,VA().close),onClick:h,children:(0,r.jsx)(JI.Z,{})})]})})}var RP=n(101318),jP=n(968501),MP=n.n(jP);function wP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function LP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xP(e,t,n[t])}))}return e}function DP(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ZP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function UP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const GP=o.forwardRef((function(e,t){
var n=e.className,i=e.children,a=e.ariaLabel,s=e.onContextMenu,c=e.onCardClick,u=e.onItemClick,f=e.listItemProps,d=e.itemId,p=e.selected,h=ZP(e,["className","children","ariaLabel","onContextMenu","onCardClick","onItemClick","listItemProps","itemId","selected"]),E=UP((0,RP.Z)(t),2),y=E[0],m=E[1],_=o.useRef(null);return(0,r.jsxs)("div",DP(LP({ref:m,className:ze()(MP().card,MP().interactiveCard,xP({},MP().selected,p),n),"data-item-id":d,onContextMenu:s,onClick:function(e){return null==c?void 0:c(e,y.current)}},h),{children:[(0,r.jsx)(l.Clickable,LP({className:MP().clickableTarget,innerRef:_,"aria-label":a,onClick:u},f)),i]}))}));var kP=n(864997),BP=n.n(kP);function HP(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function VP(e){var t=e.children,n=e.hideBorder;return(0,r.jsx)("div",{className:ze()(BP().feedItemHeader,HP({},BP().hideBorder,n)),children:t})}var FP=n(942450),YP=n.n(FP);function zP(e){e.stopPropagation()}
function WP(e){var t=e.onContextMenu,n=Q.Z.Messages.MORE;return(0,r.jsx)("div",{onClick:zP,onContextMenu:zP,children:(0,r.jsx)(l.Tooltip,{text:n,hideOnClick:!0,children:function(e){var o=e.onMouseEnter,i=e.onMouseLeave,a=e.onClick;return(0,r.jsx)(l.Button,{onMouseEnter:o,onMouseLeave:i,look:l.Button.Looks.BLANK,size:l.Button.Sizes.NONE,onClick:function(e){null==a||a();t(e)},"aria-label":n,className:YP().overflowButton,children:(0,r.jsx)(Ur.Z,{className:YP().icon})})}})})}function KP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return KP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e,t){var n=qP(o.useState(!1),2),r=n[0],i=n[1];return[r,o.useCallback((function(n,r){n.stopPropagation();i(!0);(0,uS.wA)({feed_item_type:(0,tA.NH)(t),feed_item_id:t,load_id:fS.ZP.getLoadId(e),action_type:dT.w8.EXPANDED_ITEM,guild_id:e,channel_id:r.channel_id,message_id:r.id,home_session_id:AN.Z.getHomeSessionId(e)})}),[e,t])]}var QP=n(4361),$P=n(837162),JP=n(791707),eR=n(442053),tR=n(649252),nR=n(714357),rR=n(508754),oR=n(699209),iR=n.n(oR),aR=n(13489),sR=n.n(aR);function lR(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cR(e,t,n[t])}))}return e}function fR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dR(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function pR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hR=o.memo((function(e){var t=e.message,n=e.channel,i=e.animateAvatar,a=e.repliedMessage,s=(0,gA.Z)(t.id,nT.d$),l=s.popouts,c=s.setPopout,u=l.usernameProfile,f=l.avatarProfile,d=(0,_A.wq)(t.author.id,n.id),p=(0,_A.XO)(t,n,u,c),h=(0,_A.R9)(f,c),E=o.useCallback((function(){return c({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[c]),y=(0,EA.ZP)(t),m=(0,$P.p9)({guildId:n.guild_id,roleId:y.iconRoleId});return(0,r.jsx)(IA.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:a,author:y,showTimestampOnHover:t.type!==w.uaV.REPLY,renderPopout:mA.Z,showAvatarPopout:f,showUsernamePopout:u,onClickAvatar:h,onClickUsername:p,onPopoutRequestClose:E,onContextMenu:d,roleIcon:m,animate:i})
})),ER=o.forwardRef((function(e,t){var n=e.guildId,i=e.channel,a=e.message,c=e.feedItemId,u=e.className,f=e.animateAvatar,d=e.contentClassName,p=e.children,h=e.groupId,E=e.onMessageClick,y=e.hideHeader,m=void 0!==y&&y,_=e.forceAddReactions,g=void 0===_||_,b=dR(e,["guildId","channel","message","feedItemId","className","animateAvatar","contentClassName","children","groupId","onMessageClick","hideHeader","forceAddReactions"]),v=o.useRef(null),O=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(i.id)})),I=null!=O&&a.isFirstMessageInForumPost(O),T=(0,QP.dj)(a.id),N=(0,QP.tu)(n,a.id),C=(0,bA.Z)(a,{hideSimpleEmbedContent:!0,allowList:I||T.showListsAndHeaders||N.showListsAndHeaders,allowHeading:I||T.showListsAndHeaders||N.showListsAndHeaders,allowLinks:T.showMaskedLinks||N.showMaskedLinks,previewLinkTarget:T.showMaskedLinks||N.showMaskedLinks}),A=C.content,P=C.hasSpoilerEmbeds,R=a.type===w.uaV.REPLY?a.messageReference:void 0,j=(0,s.e7)([A_.Z],(function(){return A_.Z.getMessageByReference(R)
})),M=(0,s.e7)([S.Z],(function(){return a.hasFlag(w.iLy.HAS_THREAD)&&S.Z.getChannel(a.id)})),x=(0,yA.iG)(a,h,{hasTimestamp:a.id===h}),L=(0,yA.Gx)(a),D=null!=R?(0,r.jsx)(l.Clickable,{onClick:function(e){if(null!=j.message){e.stopPropagation();(0,uS.wA)({feed_item_type:(0,tA.NH)(c),feed_item_id:c,load_id:fS.ZP.getLoadId(n),action_type:dT.w8.REFERENCED_MESSAGE_CLICKED,guild_id:n,channel_id:i.id,message_id:a.id,home_session_id:AN.Z.getHomeSessionId(n)});Sm.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:LS.oC.GUILD_HOME,details:{type:vN.F.HOME,initialMessageId:j.message.id}})}},children:(0,nR.Z)(a,i,R,j,!1)}):null,Z=(0,JP.Z)(a),U=o.useCallback((function(e){E(e,v.current,a)}),[E,a]);return(0,r.jsx)(rR.Z,uR({messageRef:v,className:ze()(u,cR({},sR().mentioned,a.mentioned&&!(0,JP.Z)(a))),onClick:U,childrenRepliedMessage:D,childrenExecutedCommand:(0,tR.Z)(a,i,!1),childrenHeader:Z||m?null:(0,r.jsx)(hR,{channel:i,message:a,animateAvatar:f,repliedMessage:j}),
childrenAccessories:(0,vA.Z)({channelMessageProps:e,hasSpoilerEmbeds:P,isInteracting:!1,forceAddReactions:g}),childrenMessageContent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(OA.ZP,{className:d,message:a,content:A,contentRef:t}),p]}),childrenSystemMessage:(0,eR.Z)(e),hasThread:null!=M&&a.hasFlag(w.iLy.HAS_THREAD),hasReply:a.type===w.uaV.REPLY,isSystemMessage:Z,"aria-labelledby":x,"aria-describedby":L},b))}));function yR(e){var t,n=e.message,i=e.guildId,a=e.feedItemId,s=e.disableTruncation,c=n.attachments.length>0,u=pR(o.useState(!1),2),f=u[0],d=u[1],p=pR(XP(i,a),2),h=p[0],E=p[1];return(0,r.jsx)(ER,fR(uR({ref:function(e){null==e||s||d(e.scrollHeight>e.clientHeight)},contentClassName:ze()((t={},cR(t,iR().clampLarge,!s&&!h&&!c),cR(t,iR().clampSmall,!s&&!h&&c),t))},e),{children:f&&!h?(0,r.jsx)(l.Clickable,{className:iR().showMore,onClick:function(e){return E(e,n)},"aria-hidden":!0,children:Q.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null}))}const mR=o.memo(yR);function _R(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OR(e){var t=e.guildId,n=e.feedItemId,i=e.messages,a=o.useRef([]),s=i.some((function(e){return e.attachments.length>0}))?4:8,c=vR(o.useState(),2),u=c[0],f=c[1],d=vR(o.useState(),2),p=d[0],h=d[1],E=vR(XP(t,n),2),y=E[0],m=E[1];o.useLayoutEffect((function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=a.current.entries()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=vR(o.value,2),c=l[0],u=l[1];if(null!=u){
var d,p=parseFloat(null!==(d=window.getComputedStyle(u).getPropertyValue("line-height"))&&void 0!==d?d:"0"),E=u.scrollHeight/p;if((e+=E)>s){f(c);h(E-(e-s));break}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),[i,s]);if(0===i.length)return null;var _=i[0].id;return(0,r.jsx)(r.Fragment,{children:i.map((function(t,n){if(null!=u&&n>u&&!y)return null;var o=u===n,s=o&&null!=p?function(e){if(e>=10)return iR().clampLarge;if(e>=4&&e<10)return iR().clampMed;if(e<4)return iR().clampSmall;return}(p):null,c=o&&null!=s&&!y;return(0,r.jsx)(ER,bR(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gR(e,t,n[t])}))}return e}({message:t,groupId:_},e),{contentClassName:c?s:void 0,children:c?(0,r.jsx)(l.Clickable,{
className:iR().showMore,onClick:function(e){return m(e,t)},"aria-hidden":!0,children:Q.Z.Messages.GUILD_FEED_TRUNCATED_MESSAGE_SEE_MORE}):null,ref:function(e){return a.current[n]=e},hideHeader:0!==n,forceAddReactions:n===i.length-1}),t.id)}))})}const IR=o.memo(OR);var SR=n(39775),TR=n.n(SR);function NR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CR(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function AR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){CR(i,r,o,a,s,"next",e)}function s(e){CR(i,r,o,a,s,"throw",e)}a(void 0)}))}}function PR(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function RR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){PR(e,t,n[t])}))}return e}function jR(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function MR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wR=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xR=function(){var e=AR((function(){var e;return wR(this,(function(t){switch(t.label){case 0:return[4,n.e(87485).then(n.bind(n,187485))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function LR(e){
var t=e.item,n=e.referenceMessageBundles,i=e.channel,a=e.guildId,s=e.animateAvatar,c=e.onMessageClick,u=o.useCallback((function(){var e,r,o=n[n.length-2+1];Sm.Z.openChannelAsSidebar({guildId:a,channelId:i.id,baseChannelId:LS.oC.GUILD_HOME,flash:!1,details:{type:vN.F.HOME,initialMessageId:null!==(r=null==o||null===(e=o[0])||void 0===e?void 0:e.id)&&void 0!==r?r:n[0][0].id,highlightMessageIds:new Set((0,eA.bE)(t))}})}),[t,i,a,n]);return(0,r.jsxs)("div",{className:TR().conversationArea,children:[n.slice(0,2).map((function(e,t){var o=e[0];return null==o?null:(0,r.jsx)(PA,{className:ze()(TR().conversationMessage,PR({},TR().mentioned,o.mentioned)),guildId:a,channel:i,message:o,onMessageClick:c,isTruncated:e.length>1,animateAvatar:s,children:t!==n.length-1&&(0,r.jsx)("div",{className:TR().replySpine})},o.id)})),n.length>2&&(0,r.jsx)("div",{className:ze()(TR().conversationMessage,TR().viewMoreReplies),children:(0,r.jsx)(l.Clickable,{onClick:u,"data-action":"view-more-replies",
children:Q.Z.Messages.GUILD_FEED_TRUNCATED_REPLIES_VIEW_MORE.format({count:n.length-2})})},"view-more")]})}const DR=o.forwardRef((function(e,t){var n,i,a=e.guildId,c=e.conversationItem,u=e.showFeedback,f=e.setOnDismissedFeedback,d=c.root,p=d.messages,h=d.children,E=p[0],y=p[p.length-1],m=y.channel_id,_=(0,s.Wu)([fS.ZP],(function(){return p.map((function(e){return fS.ZP.getCachedMessage(a,m,e.id)})).filter(kr.lm)}),[a,m,p]),g=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(m)})),b=(0,CT.KS)(g,void 0,{textFocused:!0}),v=(0,CT.bT)(g),O=(0,C_.ZP)(g),I=MR(o.useState(!1),2),T=I[0],N=I[1],C=(0,s.e7)([Jf.Z],(function(){return null!=y&&Jf.Z.isBlocked(y.author.id)})),A=(0,Si.JA)(null!==(i=null===(n=_[_.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:c.id),P=c.id,R=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)})),j=(0,AT.FW)(R,g),M=null!=j&&E.id===j,x=hA({guildId:a,channelId:m,feedItemId:P,onChannelClick:function(){return(0,rC.Z)(w.Z5c.CHANNEL(a,m,E.id))},
onContentClick:function(e){var t;Sm.Z.openChannelAsSidebar({guildId:a,channelId:m,baseChannelId:LS.oC.GUILD_HOME,flash:!1,details:{type:vN.F.HOME,initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:E.id,highlightMessageIds:new Set((0,eA.bE)(c))}})}}),L=x.handleItemClick,D=x.handleChannelClick,Z=x.handleCardClick,U=x.handleMessageClick,G=(0,s.e7)([fS.ZP],(function(){return null==g?[]:h.map((function(e){return e.messages.map((function(e){return fS.ZP.getCachedMessage(a,g.id,e.id)})).filter(kr.lm)})).filter((function(e){return 0!==e.length}))}),[a,g,h],PT);if(null==g||null==E||null==y||C)return null;var k,B=function(e){e.stopPropagation();(0,xI.jW)(e,AR((function(){var e;return wR(this,(function(t){switch(t.label){case 0:return[4,xR()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,jR(RR({},t),{item:c,channel:g}))}]}}))})))};return(0,r.jsxs)(GP,{className:u?TR().containerNoPadding:TR().container,ref:t,selected:M,onCardClick:Z,onItemClick:L,onContextMenu:B,itemId:P,
ariaLabel:Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:O}),listItemProps:A,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},children:[(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsxs)(VP,{children:[(0,r.jsx)("div",{className:TR().messageHeaderMenuLeft,children:(0,r.jsxs)(l.Clickable,{className:TR().channelNameContainer,onClick:D,children:[null!=b?(0,r.jsx)(l.Tooltip,{text:v,delay:500,children:function(e){return(0,r.jsx)(b,jR(RR({},e),{className:TR().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(l.Heading,{lineClamp:1,variant:"heading-sm/semibold",children:O})]})}),(0,r.jsx)("div",{className:TR().messageHeaderMenuRight,children:(0,r.jsx)(WP,{feedItem:c,guildId:a,onContextMenu:B})})]}),children:[(0,r.jsx)("div",{className:ze()(TR().messageBundleItemBody,(k={},PR(k,TR().conversationRoot,G.length>0),PR(k,TR().hasReply,E.type===w.uaV.REPLY),k)),children:(0,r.jsx)(IR,{feedItemId:c.id,guildId:a,channel:g,messages:_,animateAvatar:T,
onMessageClick:U})}),(0,r.jsx)(LR,{item:c,channel:g,guildId:a,referenceMessageBundles:G,onMessageClick:U,animateAvatar:T})]}),u&&(0,r.jsx)(PP,{guildId:a,guildFeedItem:c,setOnDismissFeedback:f})]})}));var ZR=n(708313),UR=n(749131),GR=n(310246),kR=n(773148),BR=n(548028),HR=n.n(BR);function VR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return VR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YR(e){var t=e.guildId,n=e.feedItem,o=e.onSendFeedback,i=(0,eA.ZP)(n),a=i.channel_id,c=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(a)})),u=(0,C_.ZP)(c),f=(0,CT.KS)(c),d=(0,s.e7)([Y.default],(function(){return Y.default.getUser(i.author.id)})),p=(0,s.e7)([S.Z,qf.ZP,Jf.Z],(function(){return kR.Z.getName(t,a,d)})),h=function(e){(0,uS.Jm)(t,e);o()};return(0,r.jsxs)("div",{className:HR().options,children:[(0,r.jsx)(l.Clickable,{className:HR().option,onClick:function(){return h({channel_id:a,message_id:i.id,entity_type:ZR.C.MESSAGE})},children:(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"interactive-active",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_NO_LIKE})}),(0,r.jsx)(l.Clickable,{
className:HR().option,onClick:function(){return h({channel_id:a,entity_type:ZR.C.CHANNEL})},children:(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"interactive-active",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_CHANNEL.format({channelName:u,channelNameHook:function(e,t){return(0,r.jsxs)("span",{children:[null!=f&&(0,r.jsx)(f,{className:HR().mentionIcon,width:20,height:20})," ",e]},t)}})})}),(0,r.jsx)(l.Clickable,{className:HR().option,onClick:function(){var e;return h({user_id:null==i||null===(e=i.author)||void 0===e?void 0:e.id,entity_type:ZR.C.USER})},children:(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"interactive-active",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_FEEDBACK_SHOW_LESS_USER.format({username:p,usernameHook:function(e,t){return(0,r.jsxs)("span",{children:[(0,r.jsx)(UR.Z,{className:HR().mentionIcon,width:20,height:20})," ",e]},t)}})})})]})}function zR(e){var t=e.guildId,n=e.feedItem,i=FR(o.useState(!1),2),a=i[0],s=i[1],c=(0,
Si.JA)(n.id);return(0,r.jsxs)(GP,{ariaLabel:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM,listItemProps:c,children:[(0,r.jsxs)(VP,{hideBorder:a,children:[(0,r.jsx)(GR.Z,{className:HR().icon,width:16,height:16,foregroundColor:"currentColor"}),a?(0,r.jsxs)("div",{className:HR().title,children:[(0,r.jsx)(l.Text,{className:HR().title,variant:"text-md/medium",color:"interactive-active",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_TITLE}),(0,r.jsx)(l.Text,{className:HR().title,variant:"text-xs/medium",color:"interactive-normal",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM_FEEDBACK_RECEIVED_SUBTITLE})]}):(0,r.jsx)(l.Text,{className:HR().title,variant:"text-md/medium",color:"interactive-active",children:Q.Z.Messages.GUILD_FEED_HIDDEN_MESSAGE_ITEM}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,color:l.Button.Colors.PRIMARY,onClick:function(){(0,uS.L0)(n,t)},children:Q.Z.Messages.UNDO})]}),!a&&(0,r.jsx)(YR,{guildId:t,feedItem:n,onSendFeedback:function(){
return s(!0)}})]})}var WR=n(469140),KR=n.n(WR);function qR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XR(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function QR(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){XR(i,r,o,a,s,"next",e)}function s(e){XR(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function JR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$R(e,t,n[t])}))}return e}function ej(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rj=function(){var e=QR((function(){var e;return nj(this,(function(t){switch(t.label){case 0:return[4,n.e(1025).then(n.bind(n,101025))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function oj(e){var t=e.guildId,n=e.maxUsers,o=e.users,i=e.text;return(0,r.jsxs)("div",{className:KR().referenceMessagesText,children:[(0,r.jsx)(VN.Z,{guildId:t,users:o,size:VN.u.SIZE_16,className:KR().userSummaryItem,max:n,showDefaultAvatarsForNullUsers:!0}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:i})]})}function ij(e){
var t=e.referenceMessages,n=e.guildId,i=o.useMemo((function(){var e=new Set;return t.map((function(e){return e.author})).filter((function(t){if(null==t||e.has(t.id))return!1;e.add(t.id);return!0})).slice(0,3)}),[t]),a=t.length;if(0===a)return null;var s=a>3?Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:3}):Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:a});return(0,r.jsx)(oj,{guildId:n,users:i,text:s})}const aj=o.forwardRef((function(e,t){var n,i,a=e.guildId,c=e.messageItem,u=e.showFeedback,f=e.setOnDismissedFeedback,d=c.message.channel_id,p=c.message.id,h=(0,s.cj)([fS.ZP],(function(){var e=fS.ZP.getCachedMessage(a,d,p);return{message:e,isFeaturedMessage:null!=e&&fS.ZP.getIsItemFeatured({guildId:a,entity:e,entityType:ST.w.MESSAGE})}}),[a,d,p]),E=h.message,y=h.isFeaturedMessage,m=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(d)})),_=(0,CT.KS)(m,void 0,{textFocused:!0}),g=(0,
CT.bT)(m),b=null!==(n=null==c?void 0:c.referenceMessages)&&void 0!==n?n:[],v=(0,C_.ZP)(m),O=tj(o.useState(!1),2),I=O[0],T=O[1],N=(0,s.e7)([Jf.Z],(function(){return null!=E&&Jf.Z.isBlocked(null==E?void 0:E.author.id)})),C=(0,Si.JA)(null!==(i=null==E?void 0:E.id)&&void 0!==i?i:p),A=(0,tA.ZP)(c),P=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)})),R=(0,AT.FW)(P,m),j=null!=R&&c.message.id===R,M=c.highlighted?Q.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:y?Q.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,x=hA({guildId:a,channelId:d,feedItemId:A,onChannelClick:function(){return(0,rC.Z)(w.Z5c.CHANNEL(a,d,p))},onContentClick:function(){Sm.Z.openChannelAsSidebar({guildId:a,channelId:d,baseChannelId:LS.oC.GUILD_HOME,details:{type:vN.F.HOME,initialMessageId:p,highlightMessageIds:new Set([p])}})}}),L=x.handleItemClick,D=x.handleChannelClick,Z=x.handleCardClick,U=x.handleMessageClick;if(null==m||null==E||null==c||N)return null;var G=function(e){e.stopPropagation();(0,
xI.jW)(e,QR((function(){var e;return nj(this,(function(t){switch(t.label){case 0:return[4,rj()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,ej(JR({},t),{messageItem:c,channel:m,message:E}))}]}}))})))};return(0,r.jsxs)(GP,{className:u?KR().containerNoPadding:KR().container,ref:t,selected:j,onCardClick:Z,onItemClick:L,onContextMenu:G,itemId:A,ariaLabel:Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:v}),listItemProps:C,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:[(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsxs)(VP,{children:[(0,r.jsxs)("div",{className:KR().messageHeaderMenuLeft,children:[(0,r.jsxs)(l.Clickable,{className:KR().channelNameContainer,onClick:D,children:[null!=_?(0,r.jsx)(l.Tooltip,{text:g,delay:500,children:function(e){return(0,r.jsx)(_,ej(JR({},e),{className:KR().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(l.Heading,{lineClamp:1,variant:"heading-sm/semibold",children:v})]}),null!=M&&(0,
r.jsxs)("div",{className:KR().featuredMessageContainer,children:[(0,r.jsx)(RT.Z,{height:4,width:4,"aria-hidden":"true",className:KR().featuredMessageIcon}),(0,r.jsx)(l.Text,{className:KR().featuredMessageText,variant:"text-sm/normal",color:"header-secondary",children:M})]})]}),(0,r.jsx)("div",{className:KR().messageHeaderMenuRight,children:(0,r.jsx)(WP,{feedItem:c,guildId:a,onContextMenu:G})})]}),children:[(0,r.jsx)(mR,{className:KR().messageItemBody,guildId:a,animateAvatar:I,channel:m,message:E,feedItemId:c.id,onMessageClick:U}),(0,r.jsx)(ij,{referenceMessages:b,guildId:a})]}),u&&(0,r.jsx)(PP,{guildId:a,guildFeedItem:c,setOnDismissFeedback:f})]})}));var sj=n(858435),lj=n.n(sj);function cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uj(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function fj(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uj(i,r,o,a,s,"next",e)}function s(e){uj(i,r,o,a,s,"throw",e)}a(void 0)}))}}function dj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dj(e,t,n[t])}))}return e}function hj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yj=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},mj=function(){var e=fj((function(){var e;return yj(this,(function(t){switch(t.label){case 0:return[4,n.e(87485).then(n.bind(n,187485))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();const _j=o.forwardRef((function(e,t){var n,i,a,c=e.guildId,u=e.messageBundleItem,f=e.showFeedback,d=e.setOnDismissedFeedback,p=u.messages,h=p[0].message,E=p[p.length-1].message,y=E.channel_id,m=(0,s.Wu)([fS.ZP],(function(){return p.map((function(e){return fS.ZP.getCachedMessage(c,y,e.message.id)})).filter(kr.lm)}),[c,y,p]),_=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(y)})),g=(0,CT.KS)(_,void 0,{textFocused:!0}),b=(0,CT.bT)(_),v=(0,C_.ZP)(_),O=Ej(o.useState(!1),2),I=O[0],T=O[1],N=(0,s.e7)([Jf.Z],(function(){return null!=E&&Jf.Z.isBlocked(E.author.id)})),C=(0,Si.JA)(null!==(i=null===(n=m[m.length-1])||void 0===n?void 0:n.id)&&void 0!==i?i:u.id),A=u.id,P=(0,s.e7)([P_.ZP],(function(){
return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)})),R=(0,AT.FW)(P,_),j=null!=R&&h.id===R,M=hA({guildId:c,channelId:y,feedItemId:A,onChannelClick:function(){return(0,rC.Z)(w.Z5c.CHANNEL(c,y,h.id))},onContentClick:function(e){var t;Sm.Z.openChannelAsSidebar({guildId:c,channelId:y,baseChannelId:LS.oC.GUILD_HOME,flash:!1,details:{type:vN.F.HOME,initialMessageId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:h.id,highlightMessageIds:new Set((0,eA.bE)(u))}})}}),x=M.handleItemClick,L=M.handleChannelClick,D=M.handleCardClick,Z=M.handleMessageClick,U=o.useMemo((function(){return p.map((function(e){return null!==(a=e.referenceMessages)&&void 0!==a?a:[]})).flat()}),[p]);if(null==_||null==h||null==E||N)return null;var G=function(e){e.stopPropagation();(0,xI.jW)(e,fj((function(){var e;return yj(this,(function(t){switch(t.label){case 0:return[4,mj()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,hj(pj({},t),{item:u,channel:_}))}]}}))})))};return(0,r.jsxs)(GP,{
className:f?lj().containerNoPadding:lj().container,ref:t,selected:j,onCardClick:D,onItemClick:x,onContextMenu:G,itemId:A,ariaLabel:Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:v}),listItemProps:C,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},children:[(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsxs)(VP,{children:[(0,r.jsx)("div",{className:lj().messageHeaderMenuLeft,children:(0,r.jsxs)(l.Clickable,{className:lj().channelNameContainer,onClick:L,children:[null!=g?(0,r.jsx)(l.Tooltip,{text:b,delay:500,children:function(e){return(0,r.jsx)(g,hj(pj({},e),{className:lj().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(l.Heading,{lineClamp:1,variant:"heading-sm/semibold",children:v})]})}),(0,r.jsx)("div",{className:lj().messageHeaderMenuRight,children:(0,r.jsx)(WP,{feedItem:u,guildId:c,onContextMenu:G})})]}),children:[(0,r.jsx)("div",{className:lj().messageBundleItemBody,children:(0,r.jsx)(IR,{feedItemId:u.id,guildId:c,channel:_,
messages:m,animateAvatar:I,onMessageClick:Z})}),(0,r.jsx)(ij,{referenceMessages:U,guildId:c})]}),f&&(0,r.jsx)(PP,{guildId:c,guildFeedItem:u,setOnDismissFeedback:d})]})}));var gj=n(358969),bj=n(727081),vj=n(666613),Oj=n(591684),Ij=n(379364),Sj=n(79955),Tj=n.n(Sj);function Nj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cj(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Aj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Cj(i,r,o,a,s,"next",e)}function s(e){Cj(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Pj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pj(e,t,n[t])}))}return e}function jj(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Mj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wj=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xj=new Set(["Electron","Chrome"]),Lj=function(){var e=Aj((function(){var e;return wj(this,(function(t){switch(t.label){case 0:return[4,n.e(1025).then(n.bind(n,101025))];case 1:e=t.sent();return[2,e.default]}}))}));return function(){return e.apply(this,arguments)}}();function Dj(e){var t,n=e.channel,o=(0,s.e7)([Oj.Z],(function(){
return null!==(t=Oj.Z.getCount(n.id))&&void 0!==t?t:0})),i=o>=Ij.M3?Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_MAX_REPLIES.format({maxReplies:Ij.M3}):Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_NUM_REPLIES.format({numReplies:o}),a=(0,s.e7)([vj.Z],(function(){return vj.Z.getMemberIdsPreview(n.id)})),l=(0,gj.iM)(n,null!=a?a:[]);return 0===o?null:(0,r.jsx)(oj,{guildId:n.guild_id,maxUsers:5,users:l,text:i})}const Zj=o.forwardRef((function(e,t){var n,i=e.guildId,a=e.postItem,c=e.showFeedback,u=e.setOnDismissedFeedback,f=a.thread,d=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(f.id)}),[f.id]),p=(0,s.cj)([fS.ZP],(function(){return{message:fS.ZP.getCachedMessage(i,f.id,a.message.id),isFeaturedPost:fS.ZP.getIsItemFeatured({guildId:i,entity:f,entityType:ST.w.FORUM_POST})}}),[i,a.message.id,f]),h=p.message,E=p.isFeaturedPost,y=(0,C_.ZP)(f),m=(0,s.e7)([Jf.Z],(function(){return null!=h&&Jf.Z.isBlocked(null==h?void 0:h.author.id)})),_=(0,Si.JA)(null!==(n=null==h?void 0:h.id)&&void 0!==n?n:a.message.id),g=(0,
tA.ZP)(a),b=(0,CT.bT)(f),v=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(f.parent_id)})),O=(0,C_.ZP)(v),I=(0,CT.KS)(v),T=Mj(o.useState(!1),2),N=T[0],C=T[1],A=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)})),P=(0,AT.FW)(A,d),R=null!=P&&a.message.id===P,j=a.highlighted?Q.Z.Messages.GUILD_FEED_SPECIAL_HIGHLIGHT:E?Q.Z.Messages.GUILD_FEED_FEATURED_BY_MODERATORS:null,M=hA({guildId:i,channelId:f.id,feedItemId:g,onChannelClick:function(){return(0,rC.Z)(w.Z5c.CHANNEL(i,f.parent_id))},onContentClick:function(){return Sm.Z.openThreadAsSidebar({guildId:i,baseChannelId:LS.oC.GUILD_HOME,channelId:f.id})}}),x=M.handleItemClick,L=M.handleChannelClick,D=M.handleCardClick,Z=M.handleMessageClick,U=Mj((0,gj.ur)(f),2),G=U[0],k=U[1],B=G[0],H=(0,gj.eV)(f).slice(1),V=null!=UO().name&&!xj.has(UO().name);if(null==f||null==d||null==h||null==a||m)return null;var F=function(e){e.stopPropagation();(0,xI.jW)(e,Aj((function(){var e;return wj(this,(function(t){switch(t.label){case 0:
return[4,Lj()];case 1:e=t.sent();return[2,function(t){return(0,r.jsx)(e,jj(Rj({},t),{messageItem:a,channel:d,message:h}))}]}}))})))};return(0,r.jsxs)(GP,{className:c?Tj().containerNoPadding:Tj().container,ref:t,selected:R,onCardClick:D,onItemClick:x,onContextMenu:F,itemId:g,ariaLabel:Q.Z.Messages.GUILD_FEED_MESSAGE_ITEM_A11Y_LABEL.format({channelName:y}),listItemProps:_,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)},children:[(0,r.jsx)(l.HeadingLevel,{component:(0,r.jsxs)(VP,{children:[(0,r.jsxs)("div",{className:Tj().postHeaderMenuLeft,children:[(0,r.jsxs)(l.Clickable,{className:Tj().channelNameContainer,onClick:L,children:[null!=I?(0,r.jsx)(l.Tooltip,{text:b,delay:500,children:function(e){return(0,r.jsx)(I,jj(Rj({},e),{className:Tj().channelIcon,height:16,width:16}))}}):null,(0,r.jsx)(l.Heading,{className:Tj().channelName,variant:"heading-sm/semibold",lineClamp:1,children:O})]}),null!=j&&(0,r.jsxs)("div",{className:Tj().featuredPostContainer,children:[(0,
r.jsx)(RT.Z,{height:4,width:4,"aria-hidden":"true",className:Tj().featuredPostIcon}),(0,r.jsx)(l.Text,{className:Tj().featuredPostText,variant:"text-sm/normal",color:"header-secondary",children:j})]})]}),(0,r.jsx)("div",{className:Tj().postHeaderMenuRight,children:(0,r.jsx)(WP,{feedItem:a,guildId:i,onContextMenu:F})})]}),children:(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsxs)("div",{className:Tj().titleContainer,children:[(0,r.jsx)(l.Heading,{className:Tj().title,variant:"heading-lg/semibold",children:f.name}),null!=B?(0,r.jsxs)("div",{className:Tj().tags,children:[(0,r.jsx)(bj.ZP,{tag:B,size:bj.ZP.Sizes.SMALL}),k>0?(0,r.jsx)(bj.fz,{tags:H,count:k,size:bj.ZP.Sizes.SMALL}):null]}):null]}),children:[(0,r.jsx)(mR,{className:Tj().messageItemBody,guildId:f.guild_id,animateAvatar:N,channel:f,message:h,feedItemId:a.id,onMessageClick:Z,disableTruncation:V}),(0,r.jsx)(Dj,{channel:f})]})}),c&&(0,r.jsx)(PP,{guildId:i,guildFeedItem:a,setOnDismissFeedback:u})]})}));function Uj(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const kj=o.memo((function(e){
var t=e.guildId,n=e.itemId,i=e.scrollerHeight,a=e.scrollerRef,l=e.showFeedback,c=e.setOnDismissedFeedback,u=Gj((0,s.Wu)([fS.ZP],(function(){return[fS.ZP.getItem(t,n),fS.ZP.getIsItemHiding(t,n),fS.ZP.getIsItemHidden(t,n)]})),3),f=u[0],d=u[1],p=u[2],h=o.useRef(null);o.useEffect((function(){var e,r=h.current;if(null!=r&&null!=i){var o=r.clientHeight,s=null===(e=a.current)||void 0===e?void 0:e.getScrollerNode();if(null!=s){var l=Math.min(.5,.5*i/o),c=new IntersectionObserver((function(e){return function(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.target.dataset.itemId;if(null==c)return;var u=Date.now();l.intersectionRatio>=t?(0,uS.pb)(e,c,u):(0,uS.v)(e,c,u)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}(t,l,e)}),{root:s,rootMargin:"0px 100000px 0px 100000px",threshold:l});c.observe(r);return function(){c.disconnect()}}}else(0,uS.v)(t,n,Date.now())}),[n,t,a,i,d,p])
;if(null==f||p)return null;if(d)return(0,r.jsx)(zR,{guildId:t,feedItem:f});switch(f.type){case ST.w.FORUM_POST:return(0,r.jsx)(Zj,{ref:h,guildId:t,postItem:f,showFeedback:l,setOnDismissedFeedback:c});case ST.w.MESSAGE:return(0,r.jsx)(aj,{ref:h,guildId:t,messageItem:f,showFeedback:l,setOnDismissedFeedback:c});case ST.w.MESSAGE_BUNDLE:return(0,r.jsx)(_j,{ref:h,guildId:t,messageBundleItem:f,showFeedback:l,setOnDismissedFeedback:c});case ST.w.CONVERSATION:return(0,r.jsx)(DR,{ref:h,guildId:t,conversationItem:f,showFeedback:l,setOnDismissedFeedback:c});default:(0,kr.vE)(f)}}));var Bj=n(861426),Hj=n(613677),Vj=n(575978),Fj=n(465637),Yj=n(265367);function zj(e){var t=(0,s.e7)([eT.ZP],(function(){return eT.ZP.getChannels(e)}))[eT.sH];return(0,s.Wu)([j_.Z],(function(){return t.filter((function(e){var t=e.channel;return EC.T.READABLE.has(t.type)&&!EC.T.GUILD_VOCAL.has(t.type)})).filter((function(t){var n=t.channel;return j_.Z.isChannelMuted(e,n.id)||j_.Z.isCategoryMuted(e,n.id)}))}),[e,t]).length
}var Wj=n(216595),Kj=n.n(Wj);function qj(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Xj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qj(i,r,o,a,s,"next",e)}function s(e){qj(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Qj(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Jj=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}};function eM(e,t,o){return(0,r.jsx)(l.Clickable,{className:Kj().mutedChannelsHook,onClick:function(){(0,l.openModalLazy)(Xj((function(){var e,t;return Jj(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(7528)]).then(n.bind(n,207528))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,$j(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qj(e,t,n[t])}))}return e}({},e),{guildId:o}))}]}}))})))},children:e},t)}var tM=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=zj(t);return(0,r.jsxs)("div",{className:ze()(Kj().container,Kj().footerContainer),children:[(0,r.jsxs)("div",{className:Kj().iconContainer,children:[(0,r.jsx)(no.Z,{className:Kj().icon,width:20,height:20}),(0,
r.jsx)(Fj.Z,{className:Kj().stars,width:52,height:40})]}),(0,r.jsx)(l.Heading,{className:Kj().header,variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_FOOTER_TITLE}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:o>0?Q.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:o,mutedChannelsHook:function(e,n){return eM(e,n,t)}}):Q.Z.Messages.GUILD_FEED_FOOTER_SUBTITLE}),(0,r.jsx)(l.Button,{onClick:n,className:Kj().button,children:Q.Z.Messages.GUILD_FEED_RELOAD})]})})),nM=o.memo((function(e){var t=e.guildId,n=e.onReloadClick,o=zj(t);return(0,r.jsxs)("div",{className:ze()(Kj().container,Kj().background),children:[(0,r.jsxs)("div",{className:Kj().iconContainer,children:[(0,r.jsx)(no.Z,{className:Kj().icon,width:36,height:36}),(0,r.jsx)(Fj.Z,{className:Kj().stars})]}),(0,r.jsx)(l.Heading,{className:Kj().header,variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_EMPTY_TITLE}),(0,r.jsx)(l.Text,{color:"header-secondary",
variant:"text-sm/normal",children:o>0?Q.Z.Messages.GUILD_FEED_MUTED_CHANNELS_SUBTITLE.format({numMutedChannels:o,mutedChannelsHook:function(e,n){return eM(e,n,t)}}):Q.Z.Messages.GUILD_FEED_EMPTY_SUBTITLE}),(0,r.jsx)(l.Button,{onClick:n,className:Kj().button,children:Q.Z.Messages.GUILD_FEED_RELOAD})]})})),rM=o.memo((function(e){var t=e.onReloadClick;return(0,r.jsxs)("div",{className:ze()(Kj().container,Kj().background),children:[(0,r.jsx)("div",{className:Kj().iconContainer,children:(0,r.jsx)(Yj.Z,{className:Kj().icon,width:36,height:36})}),(0,r.jsx)(l.Heading,{className:Kj().header,variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:Q.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:w.yXt.STATUS})}),(0,r.jsx)(l.Button,{onClick:t,className:Kj().button,children:Q.Z.Messages.GUILD_FEED_RELOAD})]})})),oM=o.memo((function(e){var t=e.onReloadClick;return(0,r.jsxs)("div",{
className:ze()(Kj().container,Kj().paginationContainer,Kj().primaryBackground),children:[(0,r.jsx)("div",{className:Kj().iconContainer,children:(0,r.jsx)(Yj.Z,{className:Kj().icon,width:36,height:36})}),(0,r.jsx)(l.Heading,{className:Kj().header,variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_ERROR_TITLE}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:Q.Z.Messages.GUILD_FEED_ERROR_SUBTITLE.format({url:w.yXt.STATUS})}),(0,r.jsx)(l.Button,{onClick:t,className:Kj().button,children:Q.Z.Messages.RETRY})]})})),iM=n(627027),aM=n(427506),sM=n.n(aM);function lM(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cM(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uM(){var e=o.useMemo((function(){if(!(Ke().random(1)<.5))return cM(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lM(e,t,n[t])}))}return e}({},(0,iM.Rr)()),{last:!0})}),[]);return(0,r.jsxs)(GP,{"aria-hidden":!0,ariaLabel:"",children:[(0,r.jsx)(VP,{children:(0,r.jsx)(eC.ZT,{className:sM().channelName,opacity:.3,width:80})}),(0,r.jsx)("div",{className:sM().body,children:(0,r.jsx)(eC.ZP,{messages:5,attachmentSpecs:e,className:sM().withoutCustomBackground})})]})}const fM=o.memo((function(e){var t=e.count;return(0,r.jsx)(r.Fragment,{
children:Ke().times(null!=t?t:5,(function(e){return(0,r.jsx)(uM,{},e)}))})}));var dM=n(627342);function pM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hM(e){hM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hM(e)}function EM(e,t){return!t||"object"!==mM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yM(e,t){yM=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yM(e,t)}var mM=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=hM(e);if(t){var o=hM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EM(this,n)}}var gM={};var bM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yM(e,t)}(n,e);var t=_M(n);function n(){pM(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){var t;gM=null!==(t=e.numCleanLoadsForGuild)&&void 0!==t?t:{}}};r.getState=function(){return{numCleanLoadsForGuild:gM}};r.getTotalNumCleanLoads=function(){var e=0;for(var t in gM){var n;e+=null!==(n=gM[t])&&void 0!==n?n:0}return e};r.__getLocalVars=function(){return{MAX_NUM_CLEAN_LOADS:50,numCleanLoadsForGuild:gM}};return n}(s.ZP.PersistedStore);bM.displayName="GuildHomeFeedbackStore";bM.persistKey="GuildHomeFeedbackStore";const vM=new bM(b.Z,{
GUILD_FEED_FETCH_SUCCESS:function(e){var t,n=e.guildId;if(!e.fresh)return!1;gM[n]=Math.min(50,(null!==(t=gM[n])&&void 0!==t?t:0)+1)},LOGOUT:function(){gM={}}});var OM=new Date(Date.UTC(2022,7,6));var IM=n(897266),SM=n.n(IM),TM=n(934104),NM=n.n(TM);function CM(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function AM(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){CM(i,r,o,a,s,"next",e)}function s(e){CM(i,r,o,a,s,"throw",e)}a(void 0)}))}}function PM(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var RM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function jM(e){var t=e.children,n=e.onClose;return(0,r.jsxs)("div",{className:SM().container,children:[(0,r.jsx)(l.Clickable,{className:SM().closeButton,onClick:n,children:(0,r.jsx)(JI.Z,{
className:SM().closeIcon})}),(0,r.jsx)("div",{className:SM().textContainer,children:t}),(0,r.jsx)("img",{className:SM().image,src:NM(),alt:""})]})}function MM(e){var t=e.onClose;return(0,r.jsxs)(jM,{onClose:t,children:[(0,r.jsx)(l.Heading,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_TITLE}),(0,r.jsx)(l.Text,{className:SM().bodySection,variant:"text-sm/normal",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(l.Text,{className:SM().bodySection,variant:"text-sm/normal",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(l.Anchor,{className:ze()(SM().cta,SM().ctaLink,(0,l.getButtonStyle)({look:l.Button.Looks.LINK,color:l.Button.Colors.WHITE})),href:X.Z.getArticleURL(w.BhN.GUILD_HOME),children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_3})]})}function wM(){(0,l.openModalLazy)(AM((function(){var e,t;return RM(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(1650)]).then(n.bind(n,101650))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){PM(e,t,n[t])}))}return e}({},e))}]}}))})))}function xM(e){var t=e.onClose;return(0,r.jsxs)(jM,{onClose:t,children:[(0,r.jsx)(l.Heading,{style:{color:"white"},variant:"heading-lg/semibold",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MODERATOR_TITLE}),(0,r.jsx)(l.Text,{className:SM().bodySection,variant:"text-sm/normal",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_1}),(0,r.jsx)(l.Text,{className:SM().bodySection,variant:"text-sm/normal",color:"none",children:Q.Z.Messages.GUILD_FEED_NUX_MEMBER_BODY_2}),(0,r.jsx)(l.Button,{
className:SM().cta,look:l.Button.Looks.INVERTED,color:l.Button.Colors.BRAND,onClick:wM,children:Q.Z.Messages.GUILD_FEED_NUX_MODERATOR_CTA})]})}function LM(e){var t=e.guild,n=e.onClose,i=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.MANAGE_MESSAGES,t)})),a=function(e,t){var n=(0,Ve.ZP)([vM],(function(){return vM.getTotalNumCleanLoads()<=2})),r=(0,Ve.ZP)([Y.default],(function(){var e=Y.default.getCurrentUser();return null==e||e.createdAt.getTime()<OM.getTime()})),i=o.useMemo((function(){return null!=(null==e?void 0:e.joinedAt)&&OM.getTime()>e.joinedAt.getTime()}),[null==e?void 0:e.joinedAt]),a=n&&r&&!i;o.useEffect((function(){a||t(Us.L.AUTO)}),[a]);return a||!0}(t,n);return a?i?(0,r.jsx)(xM,{onClose:n}):(0,r.jsx)(MM,{onClose:n}):null}var DM=[ws.z$.GUILD_FEED_NUX_CARD];const ZM=o.memo((function(e){var t=e.guild;return(0,r.jsx)(dM.Z,{contentTypes:DM,groupName:Us.R.GUILD_FEED_TOP,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;return n===ws.z$.GUILD_FEED_NUX_CARD?(0,
r.jsx)(LM,{guild:t,onClose:o}):null}})}));var UM=n(621329),GM=n(318195),kM=n.n(GM);const BM=o.memo((function(){return(0,r.jsxs)("div",{className:kM().container,children:[(0,r.jsxs)("div",{className:kM().divider,children:[(0,r.jsx)("div",{className:kM().line}),(0,r.jsx)("div",{className:kM().icon,children:(0,r.jsx)(UM.Z,{height:24,width:24})}),(0,r.jsx)("div",{className:kM().line})]}),(0,r.jsx)(l.Text,{className:kM().title,color:"header-primary",variant:"text-md/semibold",children:Q.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_TITLE}),(0,r.jsx)(l.Text,{className:kM().subtitle,color:"header-secondary",variant:"text-sm/normal",children:Q.Z.Messages.GUILD_FEED_UNREAD_DIVIDER_SUBTITLE})]})}));var HM=n(419984),VM=n.n(HM);function FM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YM(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function zM(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){YM(i,r,o,a,s,"next",e)}function s(e){YM(i,r,o,a,s,"throw",e)}a(void 0)}))}}function WM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||qM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KM(e){return function(e){if(Array.isArray(e))return FM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qM(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qM(e,t){if(e){if("string"==typeof e)return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FM(e,t):void 0}}var XM=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},QM=o.memo((function(e){var t=e.guildId;return(0,s.e7)([Bj.Z],(function(){return Bj.Z.isViewingRoles(t)}))?(0,r.jsx)(Hj.Z,{messageType:Hj.Q.WARNING,children:Q.Z.Messages.GUILD_FEED_VIEW_AS_ROLE_WARNING}):null}));var $M=o.memo((function(e){var t=e.guildId,n=e.hasMoreItems,i=e.scrollerRef,a=e.error,s=e.fetchPage,l=e.onReloadClick,c=o.useRef(null);o.useEffect((function(){var e,t=c.current,r=null===(e=i.current)||void 0===e?void 0:e.getScrollerNode();if(null!=r&&null!=t&&n){
var o=new IntersectionObserver((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.intersectionRatio>0&&s()}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}),{root:r,rootMargin:"0px 0px 200px 0px",threshold:0});o.observe(t);return function(){o.disconnect()}}}),[i,c,s,t,n]);return null!=a?(0,r.jsx)(oM,{guildId:t,onReloadClick:s}):n?(0,r.jsx)("div",{className:VM().container,ref:c,children:(0,r.jsx)(fM,{count:1})}):(0,r.jsx)(tM,{guildId:t,onReloadClick:l})}));function JM(e){var t,n,i,a=e.guild,l=e.renderMode,c=e.scrollerRef,u=e.seenManagerRef,f=xN(),d=WM((0,s.Wu)([fS.ZP],(function(){return[dT.Ji.READ,dT.Ji.UNREAD,dT.Ji.HIGHLIGHTED,dT.Ji.ALL].map((function(e){return fS.ZP.getFeedItemSection(a.id,e)}))})),4),p=d[0],h=d[1],E=d[2],y=d[3],m=(0,s.e7)([fS.ZP],(function(){return fS.ZP.getLoadId(a.id)})),_=(0,s.e7)([AN.Z],(function(){return AN.Z.getHomeSessionId(a.id)})),g=(0,fA.Z)({guildId:a.id,
highlightedItemData:f}),b=g.loading,v=g.error,O=g.fetchFresh,I=g.fetchPage,S=(0,s.e7)([fS.ZP],(function(){return fS.ZP.getPaginationStatus(a.id)})).hasMoreItems,T=RN.M.useExperiment({guildId:a.id},{autoTrackExposure:!1}).hasNewHeader,N=AS(a).homeHeaderScroll;o.useEffect((function(){cA.initialize();return function(){cA.terminate()}}),[]);o.useLayoutEffect((function(){if(null!=m&&null!=_){(0,uS.Ps)(a.id);var e=(0,Vj.UU)(),t=new uA.Z({guildId:a.id,loadId:m,homeSessionId:_,windowId:e,isPaused:!xr.Z.isFocused(e)});t.initialize();u.current=t;return function(){t.terminate()}}}),[u,a.id,m,_]);var C=function(e){var t=WM(o.useState(null),2),n=t[0],r=t[1];o.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getScrollerNode();if(null!=n){var o=new ResizeObserver((function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;r(s.contentRect.height)}}catch(e){n=!0;o=e}finally{try{t||null==a.return||a.return()}finally{
if(n)throw o}}}));o.observe(n);return function(){o.disconnect()}}}),[e]);return n}(c),A=o.useMemo((function(){return l!==dT.EO.NEW?[]:KM(y).sort((function(e,t){return-Dc.Z.compare((0,eA.ZP)(e).id,(0,eA.ZP)(t).id)}))}),[y,l]),P=o.useCallback(zM((function(){var e;return XM(this,(function(t){switch(t.label){case 0:return[4,null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(CN.cs.IMMEDIATE)];case 1:t.sent();O({force:!0,flushSeenItems:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.maybeFlushSeenItems(CN.cs.IMMEDIATE)}});return[2]}}))})),[u,O]);o.useEffect((function(){if(b===fS.Q.LOADING_FRESH_FEED)if(T){var e;null===(e=c.current)||void 0===e||e.scrollTo({to:N})}else{var t;null===(t=c.current)||void 0===t||t.scrollToTop()}}),[b,T,N]);var R,j,M=0===y.length,w=function(){var e=o.useMemo((function(){return IN.Z.getExperimentBucket(PN.Xp.definition.id)}),[]),t=UA(o.useState(!1),2),n=t[0],r=t[1],i=o.useMemo((function(){return ve.Z.get(LA)}),[n]);return{
showFeedback:o.useMemo((function(){return 100*Math.random()<e&&(null==i||Date.now()-i>6048e5)}),[e,i]),setOnDismissedFeedback:r}}(),x=w.showFeedback,L=w.setOnDismissedFeedback;if(M)return b===fS.Q.LOADING_FRESH_FEED?(0,r.jsx)("div",{className:VM().container,children:(0,r.jsx)(fM,{})}):null!=v?(0,r.jsx)(rM,{guildId:a.id,onReloadClick:P}):(0,r.jsx)(nM,{guildId:a.id,onReloadClick:P});if(l===dT.EO.TOP)return(0,r.jsxs)("div",{className:VM().container,children:[(0,r.jsx)(ZM,{guild:a}),y.map((function(e,t){return(0,r.jsx)(kj,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:0===t&&x,setOnDismissedFeedback:L},e.id)})),(0,r.jsx)($M,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,onReloadClick:P})]});if(l===dT.EO.NEW)return(0,r.jsxs)("div",{className:VM().container,children:[(0,r.jsx)(ZM,{guild:a}),A.map((function(e,t){return(0,r.jsx)(kj,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:0===t&&x,setOnDismissedFeedback:L},e.id)
})),(0,r.jsx)($M,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,onReloadClick:P})]});var D=null!==(j=null!==(R=null===(t=E[0])||void 0===t?void 0:t.id)&&void 0!==R?R:null===(n=h[0])||void 0===n?void 0:n.id)&&void 0!==j?j:null===(i=p[0])||void 0===i?void 0:i.id;return(0,r.jsxs)("div",{className:VM().container,children:[(0,r.jsx)(QM,{guildId:a.id}),(0,r.jsx)(ZM,{guild:a}),E.map((function(e){return(0,r.jsx)(kj,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===D&&x,setOnDismissedFeedback:L},e.id)})),h.map((function(e){return(0,r.jsx)(kj,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===D&&x,setOnDismissedFeedback:L},e.id)})),p.length>0?(0,r.jsx)(BM,{}):null,p.map((function(e){return(0,r.jsx)(kj,{guildId:a.id,itemId:e.id,scrollerHeight:C,scrollerRef:c,showFeedback:e.id===D&&x,setOnDismissedFeedback:L},e.id)})),(0,r.jsx)($M,{guildId:a.id,hasMoreItems:null!=S&&S,scrollerRef:c,error:v,fetchPage:I,onReloadClick:P})]
})}var ew=n(99270),tw=n.n(ew);function nw(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function rw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){nw(i,r,o,a,s,"next",e)}function s(e){nw(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ow(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function iw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ow(e,t,n[t])}))}return e}function aw(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var sw=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function lw(e){var t=e.guild,i=(0,MI.Z)(dT.Gj),a=(0,wN.ZP)(t.id),s=o.useMemo((function(){var e=a.filter((function(e){return(0,MN.xt)(e)}));return i&&e.length>0?Ke().head(e):Ke().chain(a).filter((function(e){return!(0,MN.xt)(e)})).minBy((function(e){return IT()(e.scheduled_start_time)})).value()}),[a,i]);if(null==s)return null;function c(){c=rw((function(){return sw(this,(function(e){switch(e.label){case 0:return[4,(0,l.openModalLazy)(rw((function(){var e,o;return sw(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(40706),n.e(89853)]).then(n.bind(n,389853))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,aw(iw({},e),{guildId:t.id}))}]}}))})))];case 1:e.sent();(0,xs.EW)(ws.z$.GUILD_HEADER_EVENT_UPSELL);return[2]}}))}));return c.apply(this,arguments)}return(0,r.jsxs)("div",{className:tw().container,children:[(0,r.jsxs)("div",{className:tw().header,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:i?Q.Z.Messages.GUILD_EVENTS:Q.Z.Messages.GUILD_HOME_EVENTS_TITLE}),a.length>=2?(0,r.jsx)(l.Clickable,{onClick:function(){return c.apply(this,arguments)},children:(0,r.jsx)(l.Text,{className:tw().showEvents,variant:"text-sm/normal",children:Q.Z.Messages.GUILD_HOME_SEE_ALL.format({count:a.length})})}):null]}),(0,r.jsx)("div",{className:tw().events,children:(0,r.jsx)(DC,{event:s,isInList:!1})})]})}var cw=n(831855),uw=n.n(cw);function fw(e){var t=e.guild;o.useEffect((function(){(0,GS.P)(t.id)}),[t.id]);var n=(0,s.e7)([kS.Z],(function(){return kS.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:uw().memberInfo,children:[null!=(null==n?void 0:n.presenceCount)?(0,
r.jsxs)("div",{className:uw().memberCount,children:[(0,r.jsx)("div",{className:uw().dotOnline}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:uw().memberText,children:Q.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}):null,null!=(null==n?void 0:n.memberCount)?(0,r.jsxs)("div",{className:uw().memberCount,children:[(0,r.jsx)("div",{className:uw().dotOffline}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:uw().memberText,children:Q.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount})})]}):null]})}function dw(e){var t=e.guild;return(0,r.jsxs)("div",{className:uw().container,children:[(0,r.jsx)("div",{className:uw().iconWrapper,children:(0,r.jsx)(Mo.Z,{className:uw().icon,guild:t,size:Mo.Z.Sizes.LARGER,active:!0})}),(0,r.jsx)(l.Text,{tag:"div",className:uw().name,variant:"heading-xl/semibold",children:t.name}),null!=t.description?(0,r.jsx)(l.Text,{className:uw().description,variant:"text-md/normal",
children:t.description}):null,(0,r.jsx)(fw,{guild:t})]})}const pw=o.memo(dw);function hw(e){var t=e.guild;o.useEffect((function(){(0,GS.P)(t.id)}),[t.id]);var n=(0,s.e7)([kS.Z],(function(){return kS.Z.getGuild(t.id)}),[t]);return(0,r.jsxs)("div",{className:uw().memberInfo,children:[t.hasCommunityInfoSubheader()&&(0,r.jsxs)("div",{className:uw().memberCount,children:[(0,r.jsx)(HS.Z,{width:14,height:14}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}),null!=(null==n?void 0:n.presenceCount)&&(0,r.jsxs)("div",{className:uw().memberCount,children:[(0,r.jsx)("div",{className:uw().dotOnline}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.MEMBER_VERIFICATION_NUM_ONLINE.format({membersOnline:n.presenceCount})})]}),null!=(null==n?void 0:n.memberCount)&&(0,r.jsxs)("div",{className:uw().memberCount,children:[(0,r.jsx)("div",{className:uw().dotOffline}),(0,r.jsx)(l.Text,{
variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.MEMBER_VERIFICATION_NUM_MEMBERS.format({members:n.memberCount})})]})]})}function Ew(e){var t=e.guild;return(0,r.jsx)("div",{className:uw().container,children:(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsx)("div",{className:uw().header,children:(0,r.jsx)(l.Heading,{variant:"heading-md/bold",children:Q.Z.Messages.GUILD_HOME_ABOUT})}),children:[null!=t.description?(0,r.jsx)(l.Text,{className:uw().description,variant:"text-md/normal",children:t.description}):null,(0,r.jsx)(hw,{guild:t})]})})}const yw=o.memo(Ew);var mw=n(866314),_w=n.n(mw);function gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bw(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bw(e,t,n[t])}))}return e}function Ow(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Iw(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Sw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tw=o.memo((function(e){
var t=e.guild,n=function(e,t){var n=PN.jD.useExperiment({},{autoTrackExposure:!1}).showRefreshButton;o.useEffect((function(){PN.jD.trackExposure({})}),[]);var i=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.MANAGE_MESSAGES,e)}),[e]),a=[];n&&a.push((0,r.jsx)(eS.JO,{tooltip:Q.Z.Messages.REFRESH,icon:NN.Z,onClick:function(){(0,uS.QF)({guildId:e.id,refresh:!0,flushSeenItems:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.maybeFlushSeenItems(CN.cs.IMMEDIATE)}})}}));i&&a.push((0,r.jsx)(_N,{guildId:e.id}));return a}(t,e.seenManagerRef);return(0,r.jsxs)(MS.Z,{channelId:LS.oC.GUILD_HOME,guildId:t.id,className:ze()(hT().title,_w().background),innerClassname:_w().headerBarInner,toolbar:n,children:[(0,r.jsx)(MS.Z.Icon,{icon:TN.Z,"aria-hidden":!0}),(0,r.jsxs)(MS.Z.Title,{children:[(0,r.jsx)(l.HiddenVisually,{children:t.name}),Q.Z.Messages.GUILD_HOME]}),(0,r.jsx)(cS.Z,{})]})})),Nw=o.memo((function(e){
var t=e.guild,n=e.containerHeight,i=e.isUsingCollapsedLayout,a=Sw(o.useState(0),2),s=a[0],c=a[1],u=(0,jI.Z)(),f=u.ref,d=u.height;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,wN.ZP)(e);o.useEffect((function(){t&&Oe.default.track(w.rMx.HOME_EVENTS_LOADED,{guild_id:e,active_events_shown:n.some((function(e){return(0,MN.xt)(e)}))?1:0,upcoming_events_shown:n.some((function(e){return!(0,MN.xt)(e)}))?1:0,home_session_id:AN.Z.getHomeSessionId(e)})}),[e,t])}(t.id);o.useEffect((function(){if(null!=d){c(d+128-n)}}),[n,d]);var p=(0,l.useFocusJumpSection)(),h=RN.M.useExperiment({guildId:t.id},{autoTrackExposure:!1}).hasNewHeader,E=h?-48:0;return(0,r.jsx)("aside",{className:_w().widgets,style:{top:Math.min(-s,E)},children:(0,r.jsx)(l.FocusRing,{children:(0,r.jsxs)("div",Ow(vw({className:_w().widgetsContainer,ref:f,tabIndex:i?void 0:0,"aria-label":Q.Z.Messages.GUILD_HOME_SIDEBAR_A11Y_LABEL},i?{}:p),{children:[h?(0,r.jsx)(yw,{guild:t}):(0,r.jsx)(pw,{guild:t}),(0,
r.jsx)(JC,{guildId:t.id,isUsingCollapsedLayout:i}),(0,r.jsx)(lw,{guild:t})]}))})})}));function Cw(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(LS.oC.GUILD_HOME)}));if(null==o)return null;var i,a=t-w.PrS-552;o.type===vN.t.VIEW_THREAD?i=(0,r.jsx)(ON.Z,{channelId:o.channelId,baseChannelId:LS.oC.GUILD_HOME,channelViewSource:"Home View"}):o.type===vN.t.VIEW_CHANNEL&&(i=(0,r.jsx)(lS,{channelId:o.channelId,baseChannelId:LS.oC.GUILD_HOME,channelViewSource:"Home View"}));return(0,r.jsx)(AI.Z,{sidebarType:AI.y.HomeSidebar,maxWidth:a,onWidthChange:n,children:i})}var Aw=[{label:"Segment Reads",value:dT.EO.SEGMENTED_READ},{label:"Top",value:dT.EO.TOP},{label:"New",value:dT.EO.NEW}];function Pw(e){var t=e.renderMode,n=e.setRenderMode;return PN.Dx.useExperiment({},{autoTrackExposure:!1}).showSelector?(0,r.jsx)(l.Select,{className:_w().selector,options:Aw,select:n,isSelected:function(e){return e===t},serialize:function(e){return String(e)}}):null
}var Rw=(0,RI.Z)((function(e){var t=e.guild,n=e.width,i=e.height,a=t.id,c=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSection(LS.oC.GUILD_HOME)})),u=(0,s.e7)([SN.Z],(function(){return SN.Z.getCurrentSearchId()})),f=Sw(o.useState(!1),2),d=f[0],p=f[1],h=Sw(o.useState(w.$Y6),2),E=h[0],y=h[1],m=c===w.ULH.SEARCH,_=c===w.ULH.SIDEBAR_CHAT,g=m||_,v=o.useRef(null),O=(0,wI.Z)("top-messages",v),I=(0,jI.Z)().ref,S=Sw(o.useState(dT.EO.SEGMENTED_READ),2),T=S[0],N=S[1],C=(0,MI.Z)(dT.Gj),A=o.useRef(!1),P=RN.M.useExperiment({guildId:a},{autoTrackExposure:!1}).hasNewHeader,R=AS(t).homeHeaderScroll;o.useEffect((function(){A.current=!1}),[a]);o.useEffect((function(){null==fS.ZP.getLoadId(a)&&Sm.Z.closeChannelSidebar(LS.oC.GUILD_HOME)}),[a]);!function(e){o.useEffect((function(){var t=AN.Z.getHomeSessionId(e);return function(){Oe.default.track(w.rMx.HOME_EXITED,{guild_id:e,home_session_id:t})}}),[e])}(a);o.useLayoutEffect((function(){var e=AN.Z.getSavedScrollPosition(a);if(!P||0!==e&&null!=e){if(null!=e){
var t;null===(t=v.current)||void 0===t||t.scrollTo({to:e})}}else{var n;null===(n=v.current)||void 0===n||n.scrollTo({to:R})}return function(){var e,t=null===(e=v.current)||void 0===e?void 0:e.getScrollerState();null!=t&&function(e,t){b.Z.dispatch({type:"GUILD_HOME_SET_SCROLL_POSITION",guildId:e,scrollPosition:t})}(a,t.scrollTop)}}),[a,P,R]);var j=n-w.PrS-E,M=!(g&&j<936)||C,x=o.useRef(null),L=o.useCallback((function(){if(!A.current){(0,jN.X)(a);A.current=!0;Oe.default.track(w.rMx.HOME_FIRST_SCROLL_STARTED,{guild_id:a,home_session_id:AN.Z.getHomeSessionId(a)})}}),[a]);(0,GO.Tt)({location:Q.Z.Messages.GUILD_HOME_HTML_TITLE.format({guildName:t.name})});var D,Z=(0,l.useFocusJumpSection)(),U=PN.fV.useExperiment({guildId:a},{autoTrackExposure:!1}).showDeprecationNotice,G=M?(0,r.jsx)(Nw,{guild:t,containerHeight:i,isUsingCollapsedLayout:C},"widgets"):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ze()(hT().chat,_w().background,(D={},bw(D,hT().threadSidebarOpen,g),
bw(D,hT().threadSidebarFloating,g&&d),D)),children:[(0,r.jsx)(Tw,{guild:t,seenManagerRef:x}),(0,r.jsxs)("div",{ref:I,className:hT().content,children:[(0,r.jsx)(Si.bG,{navigator:O,children:(0,r.jsx)(Si.SJ,{children:function(e){var n=e.ref,o=Iw(e,["ref"]);return(0,r.jsxs)(l.AdvancedScrollerAuto,Ow(vw({customTheme:!0,onScroll:L,className:ze()(_w().homeContainer,bw({},_w().homeContainerCollapsed,C)),ref:function(e){v.current=e;var t;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null}},o,Z),{children:[P&&(0,r.jsx)(jS,{guild:t}),C?G:null,(0,r.jsxs)("div",{className:_w().homeContent,children:[U&&!t.hasFeature(w.oNc.GUILD_HOME_DEPRECATION_OVERRIDE)&&(0,r.jsxs)("div",{className:_w().deprecationNotice,children:[(0,r.jsxs)("div",{className:_w().deprecationNoticeContent,children:[(0,r.jsx)(l.Heading,{className:_w().heading,variant:"heading-lg/semibold",color:"always-white",children:Q.Z.Messages.GUILD_HOME_DEPRECATION_TITLE}),(0,r.jsx)(l.Text,{variant:"text-md/normal",
color:"always-white",children:Q.Z.Messages.GUILD_HOME_DEPRECATION_DESCRIPTION})]}),(0,r.jsx)("img",{width:180,className:_w().image,src:NM(),alt:"","aria-hidden":!0})]}),(0,r.jsx)(l.HeadingLevel,{component:(0,r.jsxs)("div",{className:_w().topMessagesHeader,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_FEED_TITLE}),(0,r.jsx)(Pw,{renderMode:T,setRenderMode:N})]}),children:(0,r.jsx)(JM,{guild:t,renderMode:T,scrollerRef:v,seenManagerRef:x})})]}),C?null:G]}))}})}),m&&null!=u&&(0,r.jsx)(bN.Z,{searchId:u})]})]}),_?(0,r.jsx)(Cw,{pageWidth:n,onSidebarResize:function(e,t){p(t);y(e)}}):null]})})),jw=(0,RI.Z)((function(e){var t,n,i,a=e.guild,s=e.width,c=(0,Ve.ZP)([P_.ZP],(function(){return P_.ZP.getSection(LS.oC.GUILD_HOME)})),u=bT(o.useState(!1),2),f=u[0],d=u[1],p=bT(o.useState(w.$Y6),2),h=p[0],E=p[1],y=c===w.ULH.SIDEBAR_CHAT,m=o.useRef(null),_=(0,wI.Z)("top-messages",m),g=(0,l.useFocusJumpSection)(),b=(0,Ve.ZP)([BI.Z],(function(){
return BI.Z.getSettings(a.id)})),v=null==b?void 0:b.welcomeMessage,O=(0,xS.Z)(a.id),I=!O&&0===(null!==(n=null==b||null===(t=b.resourceChannels)||void 0===t?void 0:t.length)&&void 0!==n?n:0),S=(0,MI.Z)(dT.Gj),T=s-w.PrS-h,N=y&&T<1020||S||I;o.useEffect((function(){if(b===BI.P)(0,kI.cP)(a.id);else if(null!=b){var e,t,n,r,o;Oe.default.track(w.rMx.SERVER_GUIDE_VIEWED,_T(mT({},(0,UI.hH)(a.id)),{num_member_actions:null!==(n=null===(e=b.newMemberActions)||void 0===e?void 0:e.length)&&void 0!==n?n:0,num_member_actions_completed:Object.keys(null!==(r=HI.Z.getCompletedActions(a.id))&&void 0!==r?r:{}).length,num_resource_channels:null!==(o=null===(t=b.resourceChannels)||void 0===t?void 0:t.length)&&void 0!==o?o:0}))}}),[a.id,b]);o.useEffect((function(){return function(){Sm.Z.closeChannelSidebar(LS.oC.GUILD_HOME)}}),[]);return I?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:ze()(hT().chat,YS().background),children:[(0,r.jsx)(vT,{guild:a}),(0,r.jsxs)("div",{
className:YS().emptyHomeContainer,children:[(0,r.jsx)("div",{className:YS().maxWidthWrapper,children:(0,r.jsx)(jS,{guild:a,titleClassName:YS().emptyHeaderTitle})}),(0,r.jsx)("div",{className:YS().emptyContent,children:(0,r.jsx)(zS,{guild:a})})]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ze()(hT().chat,YS().background,(i={},yT(i,hT().threadSidebarOpen,y),yT(i,hT().threadSidebarFloating,y&&f),i)),children:[(0,r.jsx)(vT,{guild:a}),(0,r.jsx)(Si.bG,{navigator:_,children:(0,r.jsx)(Si.SJ,{children:function(e){var t=e.ref,n=gT(e,["ref"]);return(0,r.jsxs)(l.AdvancedScrollerAuto,_T(mT({className:ze()(YS().homeContainer,yT({},YS().homeContainerCollapsed,N)),ref:function(e){m.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null}},n,g),{children:[(0,r.jsx)("div",{className:YS().maxWidthWrapper,children:(0,r.jsx)(jS,{guild:a,titleClassName:S?YS().emptyHeaderTitle:void 0})}),(0,r.jsxs)("div",{
className:ze()(YS().homeContent,YS().maxWidthWrapper),children:[(0,r.jsxs)("div",{className:YS().mainContent,children:[O&&(0,r.jsx)(fT.Z,{guildId:a.id,welcomeMessage:v}),O&&(0,r.jsx)(XS.Z,{guildId:a.id}),!O||N?(0,r.jsx)(uT,{guild:a,isNewMember:O}):null]}),N?null:(0,r.jsx)(qS,{guild:a,isNewMember:O})]})]}))}})})]}),y?(0,r.jsx)(DS,{pageWidth:s,onSidebarResize:function(e,t){d(t);E(e)}}):null]})}));const Mw=function(e){var t=e.guildId,n=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)}),[t]),i=xN(),a=(0,s.e7)([IN.Z],(function(){return IN.Z.hasLoadedExperiments})),l=(0,dS.g)(t);o.useLayoutEffect((function(){!function(e){b.Z.dispatch({type:"GUILD_HOME_ENSURE_HOME_SESSION",guildId:e})}(t)}),[t]);o.useEffect((function(){if(a){var e=AN.Z.getHomeSessionSource(t),n=(0,PN.YM)(t)||l;if(null!=i){var r=i.channelId,o=i.messageId;if(!n){(0,gN.jd)(r,o);return}e=dT.SB.HIGHLIGHTS}else if(!n){f.Z.escapeToDefaultChannel(t);return}!function(e,t){Oe.default.track(w.rMx.HOME_OPENED,{guild_id:e,
home_session_id:AN.Z.getHomeSessionId(e),home_session_source:t})}(t,e)}}),[t,i,a,l]);return null==n?(0,r.jsx)(PI.Z,{channelId:void 0}):l?(0,r.jsx)(jw,{guild:n}):(0,r.jsx)(Rw,{guild:n})};var ww=n(630346),xw=n(130585),Lw=n(153771),Dw=n(714305),Zw=n(976685),Uw=n(886391),Gw=n(201615),kw=n(989280),Bw=n(571094),Hw=n.n(Bw),Vw=n(692760),Fw=n.n(Vw);const Yw=function(e){var t=e.onCancel,n=e.onLeave,o=e.guild,i=void 0===o?null:o;return(0,r.jsxs)("div",{className:Hw().confirmation,children:[(0,r.jsxs)("div",{className:Hw().confirmationContent,children:[null!==i?(0,r.jsx)(Mo.Z,{size:Mo.Z.Sizes.LARGER,guild:i,className:Hw().guildIcon}):(0,r.jsx)("img",{alt:Q.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_ICON,src:Fw(),className:Hw().verificationStateIcon}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:Hw().header,children:null!=(null==i?void 0:i.name)?Q.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE_WITH_GUILD_NAME.format({guildName:i.name
}):Q.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:Q.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE})]}),(0,r.jsxs)("div",{className:Hw().confirmationButtonColumn,children:[(0,r.jsx)(l.Button,{onClick:t,look:l.Button.Looks.LINK,color:l.Button.Colors.LINK,size:l.Button.Sizes.SMALL,children:Q.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION}),(0,r.jsx)(l.Button,{onClick:n,look:l.Button.Looks.LINK,color:l.Button.Colors.LINK,size:l.Button.Sizes.SMALL,children:Q.Z.Messages.MEMBER_VERIFICATION_PENDING_APPLICATION_MODAL_WITHDRAW_AND_LEAVE})]})]})};var zw=n(680068),Ww=n(79543),Kw=n(748492),qw=n.n(Kw);function Xw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qw(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function $w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jw(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ex(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xw(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tx=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const nx=function(e){var t,n=e.guildId,i=e.inviteCode,a=ex(o.useState(Ww.hO.INITIAL),2),c=a[0],u=a[1],f=(0,s.e7)([Zw.Z],(function(){return Zw.Z.get(n)})),d=(0,s.e7)([Gw.Z],(function(){return Gw.Z.getRequest(n)})),p=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(n)})),h=(0,s.cj)([Gw.Z],(function(){return{hasFetchedRequestToJoinGuilds:Gw.Z.hasFetchedRequestToJoinGuilds,guildPreviewDisabled:Gw.Z.getJoinRequestGuild(n)}})),E=h.hasFetchedRequestToJoinGuilds,y=h.guildPreviewDisabled
;o.useEffect((function(){null!=p&&(0,K.uL)(w.Z5c.CHANNEL(n))}),[p,n]);o.useEffect((function(){E||Lw.Z.fetchRequestToJoinGuilds()}),[E]);var m=o.useCallback((function(e){u((function(t){return Math.max(t,e)}))}),[]),_=function(e,t){return function(){(0,l.openModal)((function(n){return(0,r.jsx)(l.ConfirmModal,Jw(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$w(e,t,n[t])}))}return e}({header:Q.Z.Messages.MEMBER_VERIFICATION_CONFIRM_LEAVE_TITLE,cancelText:Q.Z.Messages.NEVERMIND,onConfirm:t,confirmText:Q.Z.Messages.YES_TEXT,confirmButtonColor:l.Button.Colors.RED},n),{children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"header-secondary",children:e})}))}))}},g=function(){var e,t=(e=function(e){return tx(this,(function(t){
switch(t.label){case 0:return[4,Dw.Z.submitVerificationForm(n,e)];case 1:t.sent();return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qw(i,r,o,a,s,"next",e)}function s(e){Qw(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),b=function(){Lw.Z.resetGuildJoinRequest(n)},v=_(Q.Z.Messages.LEAVE_SERVER_BODY.format({name:null==p?void 0:p.toString()}),(function(){u(Math.max(c,Ww.hO.FILLING));Lw.Z.removeGuildJoinRequest(n);(0,K.uL)(w.Z5c.ME)})),O=null!=(null==f||null===(t=f.guild)||void 0===t?void 0:t.splash)?rn.ZP.getGuildSplashURL({id:f.guild.id,splash:f.guild.splash}):(0,xw.gK)();return(0,r.jsx)("div",{className:qw().page,children:(0,r.jsxs)(ww.Z,{embedded:!0,splash:O,waveState:c,showLogo:!1,updateWaveState:m,children:[(0,r.jsx)("div",{className:qw().dragRegion}),(0,r.jsx)("div",{className:qw().contentWrapper,children:function(){switch(null==d?void 0:d.applicationStatus){
case Uw.wB.SUBMITTED:return(0,r.jsx)(Yw,{onCancel:_(Q.Z.Messages.MEMBER_VERIFICATION_CANCEL_PENDING_APPLICATION_MODAL_TITLE,b),onLeave:v,guild:y});case Uw.wB.REJECTED:return(0,r.jsx)(kw.Z,{reapplyText:Q.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REAPPLY,onReapply:b,confirmText:Q.Z.Messages.LEAVE_SERVER,onConfirm:v,rejectionReason:null==d?void 0:d.rejectionReason,guild:y});default:return(0,r.jsx)(zw.Z,{guildId:n,inviteCode:i,onComplete:g})}}()})]})})};var rx=n(722406),ox=n(460259);function ix(e){var t=e.guildId;return(0,s.e7)([ox.Z],(function(){return ox.Z.getSelectedGuildJoinRequest(t)}),[t])}var ax=n(842227),sx=n(347365);function lx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cx(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ux(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fx(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ux(e,t,n[t])}))}return e}function dx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var px=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},hx=Uw.tB*Uw.hW;function Ex(e){var t=e.guildId,n=e.guildJoinRequests,r=o.useRef(!1),i=dx(o.useState(null),2),a=i[0],s=i[1],l=o.useRef(null),c=o.useRef(!1),u=o.useCallback(function(){var e,o=(e=function(e,o){var i,u,f,d,p,h;return px(this,(function(E){switch(E.label){case 0:if(r.current)return[2];i="".concat(e,"-").concat(o);u=!1;if(i!==l.current){l.current=i;c.current=!1;u=!0}if(c.current)return[2];null!=a&&s(null);f=function(e,t,n,r){var o=n===Uw.wB.SUBMITTED;if(t===Uw.Nw.TIMESTAMP_DESC){if(r)return{before:ax.default.fromTimestamp((new Date).getTime())};var i=e[e.length-1];return{
before:o?i.id:i.actionedAt}}if(r)return{after:ax.default.fromTimestamp(IT()().subtract(180,"days").valueOf())};var a=e[e.length-1];return{after:o?a.id:a.actionedAt}}(n,e,o,u);E.label=1;case 1:E.trys.push([1,3,4,5]);r.current=!0;return[4,Lw.Z.fetchGuildJoinRequests(fx({guildId:t,status:o,limit:hx},f))];case 2:null!=(d=E.sent())&&d.body.guild_join_requests.length<hx&&(c.current=!0);return[3,5];case 3:p=E.sent();h=new sx.Hx(p);s(h.getAnyErrorMessage());return[3,5];case 4:r.current=!1;return[7];case 5:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cx(i,r,o,a,s,"next",e)}function s(e){cx(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return o.apply(this,arguments)}}(),[a,t,n]);return{fetchNextPage:u,error:a}}function yx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mx(e){return function(e){if(Array.isArray(e))return yx(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yx(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _x=n(408114);const gx=function(e){var t=e.className,n=e.sortOrder,i=e.onSortChange,a=o.useMemo((function(){return[{value:Uw.Nw.TIMESTAMP_DESC,label:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_NEWEST},{value:Uw.Nw.TIMESTAMP_ASC,label:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_SORT_OLDEST}]}),[]);return(0,r.jsx)(l.SingleSelect,{className:t,onChange:i,value:n,options:a})}
;var bx=n(120306),vx=n(463803),Ox=n.n(vx);const Ix=function(e){var t=e.pendingGuildJoinRequestsTotal,n=e.applicationStatus,o=e.onTabItemSelect;return(0,r.jsxs)(MS.Z,{className:Ox().container,hideSearch:!0,toolbar:(0,r.jsx)("div",{}),children:[(0,r.jsx)(MS.Z.Icon,{icon:bx.Z,disabled:!0,"aria-label":Q.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(MS.Z.Title,{className:Ox().title,children:Q.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS}),(0,r.jsx)(MS.Z.Divider,{className:Ox().divider}),(0,r.jsxs)(l.TabBar,{"aria-label":Q.Z.Messages.FRIENDS,selectedItem:n,type:"top-pill",onItemSelect:o,className:Ox().tabBar,children:[(0,r.jsx)(l.TabBar.Item,{id:Uw.wB.SUBMITTED,children:0===t?Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT.format({count:t})}),(0,r.jsx)(l.TabBar.Item,{id:Uw.wB.APPROVED,children:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED}),(0,r.jsx)(l.TabBar.Item,{id:Uw.wB.REJECTED,
children:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED})]})]})};var Sx=n(298182),Tx=n(509644),Nx=n(469215),Cx=n.n(Nx);function Ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Px(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Rx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Px(i,r,o,a,s,"next",e)}function s(e){Px(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mx(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ax(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ax(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xx=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Lx(e){var t=e.icon,n=e.onClick,o=e.submitting,i=e.disabled;return(0,r.jsx)(l.Clickable,{className:ze()(Cx().actionIconContainer,jx({},Cx().disabled,i||o)),onClick:n,children:o?(0,r.jsx)(l.Dots,{className:Cx().icon,dotRadius:2,themed:!0}):(0,r.jsx)(t,{className:Cx().icon,height:12,width:12})})}function Dx(e){var t=e.applicationStatus,i=e.guild,a=e.guildJoinRequest,s=e.className,c=e.onClick,u=wx(o.useState(null),2),f=u[0],d=u[1],p=a.user,h=a.createdAt;if(null==p)throw new Error("Missing user on this guild join request!");var E=o.useMemo((function(){return new rx.Z(p)}),[p]),y=rn.ZP.getUserAvatarURL(E),m=t===Uw.wB.SUBMITTED,_=o.useCallback(function(){var e=Rx((function(e,t){var n,r;return xx(this,(function(o){switch(o.label){case 0:n=e.guildId,
r=e.userId;if(null!=f)return[2];d(t);o.label=1;case 1:o.trys.push([1,3,,4]);return[4,Lw.Z.updateGuildJoinRequest(n,r,t)];case 2:o.sent();return[3,4];case 3:o.sent();(0,l.showToast)((0,l.createToast)(Q.Z.Messages.ERROR_GENERIC_TITLE,l.ToastType.FAILURE));d(null);return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[f]),g=function(){var e=Rx((function(){return xx(this,(function(e){switch(e.label){case 0:return[4,_(a,Uw.wB.APPROVED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Rx((function(){return xx(this,(function(e){switch(e.label){case 0:return[4,_(a,Uw.wB.REJECTED)];case 1:e.sent();return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsxs)(l.Clickable,{className:ze()(Cx().container,s),onClick:c,children:[(0,r.jsx)(l.Avatar,{src:y,size:l.AvatarSizes.SIZE_40,"aria-label":p.username,className:Cx().spacer}),(0,r.jsxs)("div",{className:Cx().userDetails,
children:[(0,r.jsx)(l.Text,{variant:"text-md/semibold",color:"header-primary",children:p.username}),(0,r.jsx)(l.Text,{className:Cx().createdAt,variant:"text-sm/normal",color:"header-secondary",children:IT()(h).format("lll")})]}),m&&(0,r.jsx)(Lx,{icon:UM.Z,onClick:g,submitting:f===Uw.wB.APPROVED,disabled:null!=f&&f!==Uw.wB.APPROVED}),m&&(0,r.jsx)(Lx,{icon:JI.Z,onClick:b,submitting:f===Uw.wB.REJECTED,disabled:null!=f&&f!==Uw.wB.REJECTED}),(0,r.jsx)(l.Clickable,{className:ze()(Cx().overflowMenuContainer,jx({},Cx().disabled,null!=f)),onClick:function(e){(0,xI.jW)(e,Rx((function(){var e,t;return xx(this,(function(o){switch(o.label){case 0:return[4,n.e(50764).then(n.bind(n,450764))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Mx(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jx(e,t,n[t])}))}return e}({},e),{guild:i,user:E}))}]}}))})),{position:"bottom",align:"right"})},children:(0,r.jsx)(Ur.Z,{className:Cx().icon,width:18})})]})}function Zx(){var e="".concat(Math.floor(50*Math.random())+100,"px"),t="".concat(Math.floor(25*Math.random())+50,"px");return(0,r.jsxs)("div",{className:Cx().placeholder,children:[(0,r.jsx)("div",{className:ze()(Cx().placeholderAvatar)}),(0,r.jsxs)("div",{className:Cx().userDetails,children:[(0,r.jsx)("div",{className:Cx().placeholderUsername,style:{maxWidth:e}}),(0,r.jsx)("div",{className:Cx().placeholderCreatedAt,style:{maxWidth:t}})]})]})}function Ux(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gx(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var kx=function(){return null};function Bx(e,t){var n=t.toLocaleString();switch(e){case Uw.wB.SUBMITTED:return Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING_COUNT_HYPEN.format({count:n});case Uw.wB.REJECTED:return Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED_COUNT_HYPEN.format({count:n});case Uw.wB.APPROVED:return Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED_COUNT_HYPEN.format({count:n});default:return""}}function Hx(e){var t=e.status,n=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE,o=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY;switch(t){case Uw.wB.REJECTED:n=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_TITLE
;o=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_REJECTED_APPLICATIONS_BODY;break;case Uw.wB.APPROVED:n=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_TITLE;o=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_APPROVED_APPLICATIONS_BODY;break;default:n=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_TITLE;o=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_EMPTY_PENDING_APPLICATIONS_BODY}return(0,r.jsxs)("div",{className:Cx().emptyContainer,children:[(0,r.jsxs)("div",{className:Cx().emptyIcon,children:[(0,r.jsx)(Tx.Z,{className:Cx().star}),(0,r.jsx)(UM.Z,{className:Cx().checkmark}),(0,r.jsx)(Sx.Z,{className:Cx().plus})]}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",children:n}),(0,r.jsx)(l.Text,{color:"header-secondary",className:Cx().emptyBody,variant:"text-sm/normal",children:o})]})}const Vx=function(e){var t=e.applicationStatus,n=e.guildJoinRequests,o=e.guildId,i=e.onScroll,a=e.listRef,c=(0,
s.e7)([In.Z],(function(){return In.Z.getGuild(o)}),[o]),u=(0,s.e7)([ox.Z],(function(){return ox.Z.isFetching()})),f=u?[n.length+25]:[n.length],d=ix({guildId:o}),p=(0,_x.A)({guildId:o}),h=(0,Ti.Z)("guild-join-requests"),E=function(e){var i,a=e.row,s=n[a];return null==s?(0,r.jsx)(Zx,{},a):(0,r.jsx)(Dx,{className:ze()((i={},Ux(i,Cx().selected,d===s),Ux(i,Cx().siblingSelected,d===n[a-1]),i)),guild:c,guildJoinRequest:s,onClick:function(){return Lw.Z.setSelectedGuildJoinRequest(o,s)},applicationStatus:t},"".concat(s.userId,"-").concat(s.applicationStatus,"-").concat(a))};return u||0!==n.length?(0,r.jsxs)(r.Fragment,{children:[0!==p&&t===Uw.wB.SUBMITTED&&(0,r.jsx)(l.Text,{className:Cx().title,variant:"text-xs/semibold",color:"header-secondary",children:Bx(t,p).toUpperCase()}),(0,r.jsx)(Si.bG,{navigator:h,children:(0,r.jsx)(Si.SJ,{children:function(e){var t=e.ref,n=e.role,o=Gx(e,["ref","role"]);return(0,r.jsx)(l.List,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ux(e,t,n[t])}))}return e}({innerRole:n,innerAriaLabel:Q.Z.Messages.MEMBERS,ref:function(e){a.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},paddingTop:0,paddingBottom:16,sectionHeight:0,rowHeight:64,renderSection:kx,renderRow:E,sections:f,onScroll:i,fade:!0},o),"guild-application-review")}})})]}):(0,r.jsx)(Hx,{status:t})};var Fx=n(203623),Yx=n.n(Fx);function zx(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Wx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zx(i,r,o,a,s,"next",e)}function s(e){zx(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Kx=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function qx(e){var t=e.guildId,n=o.useRef(null),i=function(e){var t=e.guildId;return(0,s.e7)([ox.Z],(function(){return ox.Z.getSelectedApplicationStatus(t)}),[t])}({guildId:t}),a=function(e){var t=e.guildId;return(0,s.e7)([ox.Z],(function(){return ox.Z.getSelectedSortOrder(t)}),[t])}({guildId:t}),c=ix({guildId:t}),u=(0,_x.A)({guildId:t}),f=function(e){var t=e.guildId,n=e.applicationStatus,r=e.sortOrder,i=(0,s.e7)([ox.Z],(function(){return ox.Z.getRequests(t,n)}),[n,t]);return{guildJoinRequests:o.useMemo((function(){return r===Uw.Nw.TIMESTAMP_DESC?mx(i).reverse():i}),[r,i])}}({guildId:t,applicationStatus:i,sortOrder:a}).guildJoinRequests,d=Ex({guildId:t,guildJoinRequests:f}).fetchNextPage,p=o.useRef(!1);if(!p.current){p.current=!0;d(a,i)}var h=o.useRef(!1);o.useEffect((function(){h.current=!0}),[a,i]);o.useEffect((function(){if(h.current&&0!==f.length){var e;h.current=!1;Lw.Z.setSelectedGuildJoinRequest(t,f[0])
;null===(e=n.current)||void 0===e||e.scrollToTop()}}),[t,f,c]);var E=o.useCallback(function(){var e=Wx((function(e){return Kx(this,(function(n){switch(n.label){case 0:if(a===e)return[2];Lw.Z.setSelectedSortOrder(t,e);return[4,d(e,i)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,d]),y=o.useCallback(function(){var e=Wx((function(e){return Kx(this,(function(n){switch(n.label){case 0:if(i===e)return[2];Lw.Z.setSelectedApplicationStatus(t,e);Lw.Z.setSelectedGuildJoinRequest(t,null);return[4,d(a,e)];case 1:n.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[i,a,t,d]),m=o.useCallback(Wx((function(){var e,t;return Kx(this,(function(r){switch(r.label){case 0:return null==(t=null===(e=n.current)||void 0===e?void 0:e.getScrollerState())?[2]:t.scrollHeight-t.scrollTop-t.offsetHeight<200?[4,d(a,i)]:[3,2];case 1:r.sent();r.label=2;case 2:return[2]}}))})),[i,a,d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ix,{
applicationStatus:i,onTabItemSelect:y,pendingGuildJoinRequestsTotal:u}),(0,r.jsxs)("div",{className:Yx().content,children:[(0,r.jsx)("div",{className:Yx().listControls,children:(0,r.jsx)(gx,{className:Yx().sortSelect,sortOrder:a,onSortChange:E})}),(0,r.jsx)(l.Text,{className:Yx().description,variant:"text-xs/normal",color:"header-secondary",children:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_LIST_DESCRIPTION}),(0,r.jsx)(Vx,{applicationStatus:i,guildJoinRequests:f,guildId:t,onScroll:m,listRef:n})]})]})}const Xx=o.memo(qx);function Qx(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Jx(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function eL(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=Jx(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",$x(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Qx(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,d:"M12 1L3 5V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V5L12 1ZM12 11.99H19C18.47 16.11 15.72 19.78 12 20.93V12H5V6.3L12 3.19V11.99Z"})}))}var tL=n(668844),nL=n(448124),rL=n(434823),oL=n(388025),iL=n(880213);const aL=function(e){var t=e.formFields,n=e.user;return null==(0,s.e7)([Y.default],(function(){return null!=n?n:Y.default.getCurrentUser()}))?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tL.Ih,{icon:eL,text:Q.Z.Messages.MEMBER_VERIFICATION_FORM_PASSED_REQUIREMENTS,meetsRequirement:!0}),t.map((function(e,t){return function(e,t){switch(e.field_type){case Uw.QJ.TERMS:return(0,r.jsx)(oL.QC,{formField:e},t);case Uw.QJ.TEXT_INPUT:return(0,r.jsx)(iL.YJ,{formField:e},t);case Uw.QJ.PARAGRAPH:return(0,r.jsx)(rL.jn,{formField:e},t);case Uw.QJ.MULTIPLE_CHOICE:return(0,r.jsx)(nL.QH,{formField:e},t)}}(e,t)}))]})}
;var sL=n(83623),lL=n(127661),cL=n(449401),uL=n(71193),fL=n.n(uL);function dL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pL(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function hL(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pL(i,r,o,a,s,"next",e)}function s(e){pL(i,r,o,a,s,"throw",e)}a(void 0)}))}}function EL(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yL(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _L=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},gL=24;function bL(e){var t,i=e.guildJoinRequest,a=e.guild,c=e.guildJoinRequestUser,u=mL(o.useState(!1),2),f=u[0],d=u[1],p=i.createdAt,h=i.actionedAt,E=i.guildId,y=i.userId,m=null===(t=i.actionedByUser)||void 0===t?void 0:t.id,_=(0,s.e7)([Y.default],(function(){return Y.default.getUser(m)})),g=(0,s.e7)([qf.ZP],(function(){return null!=m?qf.ZP.getMember(E,m):null}),[m,E]),b=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.ERROR_GENERIC_TITLE,l.ToastType.FAILURE))}),[]),v=function(){var e=hL((function(){return _L(this,(function(e){switch(e.label){case 0:if(f)return[2];d(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,Lw.Z.updateGuildJoinRequest(E,y,Uw.wB.APPROVED)];case 2:e.sent();return[3,5];case 3:e.sent();b();return[3,5];case 4:d(!1);return[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),O=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_PENDING,I=(0,r.jsx)(cL.Z,{width:gL,height:gL,
className:fL().icon});if(i.applicationStatus===Uw.wB.APPROVED){O=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVED;I=(0,r.jsx)(sL.Z,{width:gL,height:gL,className:fL().iconApproved,backgroundColor:br.Z.unsafe_rawColors.WHITE_500.css})}else if(i.applicationStatus===Uw.wB.REJECTED){O=Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REJECTED;I=(0,r.jsx)(lL.Z,{width:gL,height:gL,className:fL().iconRejected,backgroundColor:br.Z.unsafe_rawColors.WHITE_500.css})}var S=null!=_&&null!=h?Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_ACTIONED_BY_HOOK.format({date:IT()(ax.default.extractTimestamp(h)).format("ll"),usernameHook:function(){var e;return(0,r.jsx)(l.Clickable,{className:fL().actionedByUser,onClick:function(){return(0,ng.m)({userId:_.id,guildId:E,analyticsLocation:{section:w.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:w.qAy.ACTIONED_BY_USER}})},tag:"div",role:"link",children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-primary",
children:null!==(e=null==g?void 0:g.nick)&&void 0!==e?e:_.username})},"username-hook")}}):IT()(p).format("lll");return(0,r.jsxs)("div",{className:fL().container,children:[(0,r.jsxs)("div",{className:fL().wrapper,children:[(0,r.jsxs)("div",{className:fL().inline,children:[I,(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{variant:"heading-sm/semibold",children:O}),(0,r.jsx)(l.Text,{className:fL().headerSubtext,variant:"text-xs/normal",color:"header-secondary",children:S})]})]}),(0,r.jsxs)("div",{className:fL().inline,children:[i.applicationStatus===Uw.wB.SUBMITTED&&(0,r.jsxs)("div",{className:fL().buttons,children:[(0,r.jsx)(l.Button,{color:l.Button.Colors.GREEN,submitting:f,onClick:function(){return v()},children:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_APPROVE_APPLICATION}),(0,r.jsx)(l.Button,{color:l.Button.Colors.RED,onClick:function(){(0,l.openModalLazy)(hL((function(){var e,t;return _L(this,(function(o){switch(o.label){case 0:return[4,n.e(28478).then(n.bind(n,528478))]
;case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,{modalProps:e,guildId:E,userId:y,onError:b})}]}}))})))},disabled:f,children:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_DENY_APPLICATION})]}),(0,r.jsx)(l.Clickable,{onClick:function(e){(0,xI.jW)(e,hL((function(){var e,t;return _L(this,(function(o){switch(o.label){case 0:return[4,n.e(50764).then(n.bind(n,450764))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yL(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){EL(e,t,n[t])}))}return e}({},e),{guild:a,user:c}))}]}}))})))},className:fL().overflow,children:(0,r.jsx)(Ur.Z,{width:20,height:20,className:fL().iconInteractive})})]})]}),i.applicationStatus===Uw.wB.REJECTED&&null!=i.rejectionReason&&(0,
r.jsx)("div",{className:fL().rejectionReason,children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:i.rejectionReason})})]})}var vL=n(133222),OL=n.n(vL);function IL(e){var t=e.user,n=e.className,o=t.discriminator,i=t.username,a=rn.ZP.getUserAvatarURL(t);return(0,r.jsxs)("div",{className:ze()(OL().container,n),children:[(0,r.jsx)(l.Avatar,{src:a,size:l.AvatarSizes.SIZE_80,"aria-label":i,className:OL().avatar}),(0,r.jsxs)("div",{className:OL().username,children:[(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",children:i}),(0,r.jsxs)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:["#",o]})]}),(0,r.jsx)(l.Anchor,{onClick:function(){(0,ng.m)({userId:t.id,analyticsLocation:{section:w.jXE.GUILD_MEMBER_VERIFICATION_APPLICATION_REVIEW,object:w.qAy.JOIN_REQUEST}})},children:Q.Z.Messages.VIEW_PROFILE})]})}var SL=n(364260),TL=n.n(SL);const NL=function(e){var t,n=e.guild,i=e.guildJoinRequest,a=e.guildJoinRequestUser,s=e.onClose,c=o.useMemo((function(){
return null!==(t=i.formResponses)&&void 0!==t?t:[]}),[i.formResponses]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eS.ZP,{toolbar:(0,r.jsx)(eS.ZP.Icon,{icon:JI.Z,onClick:s,tooltip:Q.Z.Messages.CLOSE}),children:[(0,r.jsx)(eS.ZP.Icon,{icon:wo.Z,disabled:!0,"aria-label":Q.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATION}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:M_.ZP.getName(a)})]}),(0,r.jsx)(bL,{guildJoinRequest:i,guildJoinRequestUser:a,guild:n}),(0,r.jsxs)(l.Scroller,{children:[(0,r.jsx)(IL,{user:a,className:TL().container}),(0,r.jsx)("div",{className:TL().disabledFormRenderer,children:(0,r.jsx)(aL,{guildId:n.id,formFields:c,user:a})})]})]})};var CL=n(509197),AL=n.n(CL);const PL=function(e){var t=e.guildId,n=ix({guildId:t}),i=(null!=n?n:{}).user,a=o.useMemo((function(){return null!=i?new rx.Z(i):null}),[i]),l=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)}),[t]);(0,GO.Tt)({subsection:Q.Z.Messages.GUILD_SETTINGS_MEMBER_VERIFICATION_REQUIREMENTS,
location:null==l?void 0:l.name});o.useEffect((function(){Dw.Z.fetchVerificationForm(t)}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:AL().content,children:(0,r.jsx)(Xx,{guildId:t})}),null!=n&&null!=l&&null!=a&&(0,r.jsx)("section",{className:AL().sidebar,children:(0,r.jsx)(NL,{guild:l,guildJoinRequest:n,guildJoinRequestUser:a,onClose:function(){return Lw.Z.setSelectedGuildJoinRequest(t,null)}})})]})};var RL,jL=n(630203),ML=n(971611),wL=n(664806),xL=n(557415),LL=n(8400),DL=n.n(LL),ZL=n(495414),UL=n(575626);function GL(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e.NEW_GUILD_MEMBER="NEW_GUILD_MEMBER";e.CURRENT_GUILD_MEMBER="CURRENT_GUILD_MEMBER";e.COMMUNICATION_DISABLED="COMMUNICATION_DISABLED";e.UNUSUAL_DM_ACTIVITY="UNUSUAL_DM_ACTIVITY";e.INCLUDED_IN_SEARCH_RESULTS="INCLUDED_IN_SEARCH_RESULTS"}(RL||(RL={}));function kL(e){
var t=e.joinedAt,n=e.mostRecentMemberTimestamp,r=[],o=null!=t?new Date(t).getTime():null;if(null!=o&&o>n)r.push(RL.NEW_GUILD_MEMBER);else if(null!=o&&o<=n){r.push(RL.CURRENT_GUILD_MEMBER);(function(e){var t=e.searchState,n=e.searchResults,r=function(e,t){var n;if(null===(n=e.nick)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))return!0;if(null==e.user)return!1;var r=e.user,o=r.globalName;return!!r.username.toLowerCase().includes(t.toLowerCase())||!!(null==o?void 0:o.toLowerCase().includes(t.toLowerCase()))}(e,t.query);if(r)return!0;var o=function(e,t){if(0===t.length)return!1;var n=e.userId;return t.some((function(e){return e.record.id===n}))}(e,n);return!!o||""===t.query})(e)&&r.push(RL.INCLUDED_IN_SEARCH_RESULTS)}return r}function BL(e){var t=e.userId,n=e.joinedAt,r=e.mostRecentMemberTimestamp,o=null!=n?new Date(n):null;if(null==o)return"\0-".concat(r.toString().padStart(16,"0"),"-").concat(t);var i=r-o.getTime()
;return i<0?"-".concat(r.toString().padStart(16,"0"),"-").concat(t):"-".concat(i.toString().padStart(16,"0"),"-").concat(t)}function HL(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GL(e,t,n[t])}))}return e}({},e,t)}function VL(e){return{guildId:e,searchQuery:{query:"",continuationToken:null},searchResults:[],searchLoading:!1,pagination:{pageSize:10,currentPage:1},initialized:!1,newMemberTimestamp:Date.now()}}function FL(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var YL=new ZL.Z("MemberSafetySearchStoreData"),zL={},WL={},KL={};function qL(e){null==WL[e]&&(WL[e]=VL(e));return WL[e]}function XL(e,t){
var n,r=qL(e),o=(null===(n=t.pagination)||void 0===n?void 0:n.pageSize)!==r.pagination.pageSize,i=null!=t.searchQuery||null!=t.searchResults,a=(null==t?void 0:t.newMemberTimestamp)!==r.newMemberTimestamp;WL[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){FL(e,t,n[t])}))}return e}({},r,t);if(function(e,t){var n=JL(e).size(RL.INCLUDED_IN_SEARCH_RESULTS),r=Math.ceil(n/t.pageSize);return t.currentPage>r}(e,WL[e].pagination)){WL[e].pagination.currentPage=1;o=!0}var s=o||i;i||a?rD(e):s&&$L(e);return!0}function QL(e){if(null==KL[e]){KL[e]={membersByPage:{},version:0};$L(e)}return KL[e]}function $L(e){var t=qL(e).pagination,n=QL(e),r=JL(e).values(RL.INCLUDED_IN_SEARCH_RESULTS),o=DL()(r,t.pageSize).reduce((function(e,t,n){e[n+1]=t;return e
}),{});KL[e]={membersByPage:o,version:n.version+1}}function JL(e){null==zL[e]&&(zL[e]=new UL.Z(kL,BL));return zL[e]}function eD(e){var t=JL(e.guildId),n=qL(e.guildId),r=HL(e,{mostRecentMemberTimestamp:n.newMemberTimestamp,searchState:n.searchQuery,searchResults:n.searchResults,user:Y.default.getUser(e.userId)});return t.set(e.userId,r)}function tD(e,t){return JL(e).get(t)}function nD(e,t,n){var r=qf.ZP.getTrueMember(e,t);if(null==r){null!=n&&YL.warn('Guild "'.concat(e,'" Member "').concat(t,'" not found for ').concat(n));return!1}return eD(r)}function rD(e){JL(e).values(void 0,!0).forEach(eD);$L(e)}function oD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sD(e){
sD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sD(e)}function lD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aD(e,t,n[t])}))}return e}function cD(e,t){return!t||"object"!==dD(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uD(e,t){uD=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uD(e,t)}function fD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dD=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=sD(e);if(t){var o=sD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cD(this,n)}}var hD=!1;function ED(e){var t=e.type;return nD(e.guildId,e.user.id,t)}function yD(e){var t=e.type,n=e.guildId;JL(n).values().forEach((function(e){nD(n,e.userId,t)}));return!0}function mD(e){e.guilds.forEach((function(t){var n=t.id,r=t.members;rD(n);r.forEach((function(t){nD(n,t.user.id,e.type)}))}))}var _D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uD(e,t)}(n,e);var t=pD(n);function n(){iD(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(ut.default,A.Z,Bj.Z,qf.ZP)};r.getMembersByGuildId=function(e,t){var n=JL(e);return[n.values(t),n.version]};r.getMembersCountByGuildId=function(e,t){var n=JL(e)
;return[n.size(t),n.version]};r.getMemberSearchByGuildId=function(e){return qL(e)};r.getPagedMembersByGuildId=function(e){var t=JL(e),n=QL(e);return[n.membersByPage,n.version+t.version]};r.__getLocalVars=function(){return{hasCache:hD,store:gD}};return n}(s.ZP.Store);_D.displayName="MemberSafetyStore";var gD=new _D(b.Z,{CONNECTION_OPEN:function(e){hD?hD=!1:zL={};mD(e)},CONNECTION_OPEN_SUPPLEMENTAL:function(e){mD(e)},LOCAL_MESSAGES_LOADED:function(e){var t=e.guildId,n=e.members;if(null==t||null==In.Z.getGuild(t))return!1;hD=!0;var r=!1,o=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;null==tD(t,c.userId)&&(r=nD(t,c.userId,"LOCAL_MESSAGES_LOADED"))}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return r},CACHE_LOADED:function(e){var t=e.guildMembers;hD=!0;Object.entries(t).forEach((function(e){var t=fD(e,2),n=t[0],r=t[1];rD(n);Object.values(r).forEach((function(e){nD(n,e.userId,"CACHE_LOADED")}))}))},
PASSIVE_UPDATE_V1:function(e){var t=e.members,n=e.guildId;return null!=t&&t.reduce((function(e,t){return nD(n,t.user.id,"PASSIVE_UPDATE_V1")||e}),!1)},GUILD_CREATE:function(e){var t=e.guild;rD(t.id);JL(t.id).clear();t.members.forEach((function(e){nD(t.id,e.user.id,"GUILD_CREATE")}));return!0},GUILD_DELETE:function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];WL[e]=VL(e);t&&delete WL[e]}(e.guild.id,!0);return!0},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members;rD(t);n.forEach((function(e){nD(t,e.user.id,"GUILD_MEMBERS_CHUNK")}));XL(t,{searchLoading:!1,initialized:!0});return!0},GUILD_MEMBER_ADD:ED,GUILD_MEMBER_UPDATE:ED,GUILD_MEMBER_UPDATE_LOCAL:function(e){return nD(e.guildId,ut.default.getId())},GUILD_MEMBER_REMOVE:function(e){return function(e,t){return JL(e).delete(t)}(e.guildId,e.user.id)},GUILD_ROLE_UPDATE:yD,GUILD_ROLE_DELETE:yD,GUILD_MEMBER_PROFILE_UPDATE:function(e){
return nD(e.guildId,e.guildMember.user.id,"GUILD_MEMBER_PROFILE_UPDATE")},GUILD_UPDATE_MEMBER_SEARCH_STATE:function(e){e.type;return XL(e.guildId,e.updates)},GUILD_SEARCH_RECENT_MEMBERS:function(e){var t=e.guildId,n=e.query,r=e.continuationToken,o=qL(t).searchQuery,i={};null!=n&&n!==o.query&&(i.query=n);null!=r&&r!==o.continuationToken&&(i.continuationToken=r);return XL(t,{searchQuery:lD({},o,i),searchLoading:!0})}});const bD=gD;function vD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OD(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ID(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){OD(i,r,o,a,s,"next",e)}function s(e){OD(i,r,o,a,s,"throw",e)}a(void 0)}))}}function SD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function TD(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){SD(e,t,n[t])}))}return e}function ND(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function CD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var AD=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},PD=1e3;function RD(e){return e.currentPage*(e.pageSize+1)}function jD(e,t,n){
var r,o=CD(bD.getMembersByGuildId(e,RL.INCLUDED_IN_SEARCH_RESULTS),1)[0],i=null!==(r=Ls.Z.getMemberCount(e))&&void 0!==r?r:o.length,a=RD(t);if(null==n.continuationToken)return a<PD?null:a>i?o[o.length-1].userId:o.length>=999?o[999].userId:o[o.length-1].userId;var s=o.findIndex((function(e){return e.userId===n.continuationToken}));if(-1===s){var l=o[a-1];return null==l?o[o.length-1].userId:l.userId}if(a>i)return o[o.length-1].userId;if(Math.ceil(a/PD)>Math.ceil(s/PD)){var c=o[a-1];return null==c?o[o.length-1].userId:c.userId}if(a-s>=0){return null!=o[a-1]?n.continuationToken:o[s-1].userId}if(a<s)return n.continuationToken;throw Error("Unknown Continuation Token Requested")}function MD(e,t){return wD.apply(this,arguments)}function wD(){wD=ID((function(e,t){var n,r,o,i,a,s,l;return AD(this,(function(c){switch(c.label){case 0:n=bD.getMemberSearchByGuildId(e),r=n.searchQuery,o=n.pagination;i={pagination:t};a=RD(o);s=RD(t)
;if((l=s>a?jD(e,t,r):r.continuationToken)===r.continuationToken)return[3,2];i.searchQuery=ND(TD({},r),{continuationToken:l});return[4,xD(e,i.searchQuery)];case 1:c.sent();c.label=2;case 2:b.Z.dispatch({type:"GUILD_UPDATE_MEMBER_SEARCH_STATE",guildId:e,updates:i});return[2]}}))}));return wD.apply(this,arguments)}function xD(e,t){return LD.apply(this,arguments)}function LD(){return(LD=ID((function(e,t){var n,r;return AD(this,(function(o){switch(o.label){case 0:n=t.query,r=t.continuationToken;return[4,f.Z.searchRecentMembers(e,{query:n,continuationToken:null!=r?r:void 0})];case 1:o.sent();return[2]}}))}))).apply(this,arguments)}function DD(e,t){var n=t.query,r=t.searchResults,o=t.searchLoading,i=bD.getMemberSearchByGuildId(e),a={};null!=n&&(a.searchQuery=ND(TD({},i.searchQuery),{query:n}));if(null!=r){a.searchResults=r;a.newMemberTimestamp=Date.now()}null!=o&&(a.searchLoading=o);b.Z.dispatch({type:"GUILD_UPDATE_MEMBER_SEARCH_STATE",guildId:e,updates:a})}var ZD=n(461884),UD=n(657539)
;function GD(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kD(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function BD(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function HD(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=BD(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",kD(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){GD(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{
d:"M19.1989 4H4.79814C3.80539 4 2.99805 4.80734 2.99805 5.80009V16.6006C2.99805 17.5934 3.80539 18.4007 4.79814 18.4007H6.59823V22.0009L11.3982 18.4007H19.198C20.1907 18.4007 20.998 17.5934 20.998 16.6006V5.80009C20.9989 4.80734 20.1916 4 19.1989 4ZM11.9985 14.8005C11.5017 14.8005 11.0985 14.3982 11.0985 13.9005C11.0985 13.4028 11.5017 13.0005 11.9985 13.0005C12.4953 13.0005 12.8985 13.4028 12.8985 13.9005C12.8985 14.3982 12.4953 14.8005 11.9985 14.8005ZM12.8985 12.1004H11.0985V7.60018H12.8985V12.1004Z",fill:s,className:l})}))}var VD=n(693622),FD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useCalendarFormat,r=void 0!==n&&n,o=t.removeSuffix,i=void 0!==o&&o;return r?e.calendar():e.fromNow(i)},YD=n(735548),zD=n.n(YD);function WD(e){var t,n=e.member,o=(0,_d.yE)(null!==(t=n.flags)&&void 0!==t?t:0,FI.q.STARTED_ONBOARDING);return(0,r.jsx)("div",{className:ze()(zD().flagContainer),children:o&&(0,r.jsx)(HD,{color:br.Z.colors.TEXT_DANGER.css})})}
function KD(e){var t=e.member,n=(0,Ve.ZP)([In.Z],(function(){if(null==t.hoistRoleId)return null;var e=In.Z.getGuild(t.guildId);return null==e?null:e.roles[t.hoistRoleId]}),[t.guildId,t.hoistRoleId]);return(0,r.jsx)("div",{className:ze()(zD().roleContainer),children:null!=n&&(0,r.jsx)(ZD.U,{role:n,guildId:t.guildId,className:zD().highestRole,canRemove:!1,onRemove:function(){}})})}function qD(e){var t=e.member,n=e.user;return null==n?null:(0,r.jsxs)("div",{className:ze()(zD().memberNameContainer),children:[(0,r.jsx)("div",{className:ze()(zD().memberAvatar),children:(0,r.jsx)(UD.Z,{user:n})}),(0,r.jsx)("div",{className:ze()(zD().memberName),children:(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"header-primary",children:kR.Z.getName(t.guildId,null,n)})}),(0,r.jsx)("div",{className:ze()(zD().memberGlobalName),children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",children:M_.ZP.getUserTag(n)})})]})}function XD(e){var t=e.member,n=(0,Ve.ZP)([Y.default],(function(){
return Y.default.getUser(t.userId)}),[t.userId]),i=o.useMemo((function(){var e=IT()(ax.default.extractTimestamp(t.userId));return FD(e,{removeSuffix:!0})}),[t.userId]),a=o.useMemo((function(){if(null==t.joinedAt)return null;var e=IT()(t.joinedAt);return FD(e)}),[t.joinedAt]);return(0,r.jsxs)("tr",{className:ze()(zD().roundedRow,zD().memberRowContainer),children:[(0,r.jsx)("td",{children:(0,r.jsx)(qD,{member:t,user:n})}),(0,r.jsx)("td",{children:a}),(0,r.jsx)("td",{children:i}),(0,r.jsx)("td",{children:"AAAAAAAA"}),(0,r.jsx)("td",{children:(0,r.jsx)(KD,{member:t})}),(0,r.jsx)("td",{children:(0,r.jsx)(WD,{member:t})}),(0,r.jsx)("td",{className:ze()(zD().actionCell),children:(0,r.jsx)(VD.Z,{})})]})}var QD=n(23279),$D=n.n(QD),JD=n(728197),eZ=n(190186),tZ=n(449124),nZ=n.n(tZ);function rZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iZ(e){var t=e.guild,n=o.useRef(),i=(0,Ve.ZP)([bD],(function(){return bD.getMemberSearchByGuildId(t.id)}),[t.id]).searchQuery,a=oZ(o.useState(i.query),2),s=a[0],l=a[1],c=o.useCallback((function(e){
if(null!=n.current){n.current.search(e);DD(t.id,{searchLoading:!0})}}),[t.id]),u=o.useRef($D()(c,250)),f=o.useCallback((function(e){l(e);u.current(e)}),[]),d=o.useCallback((function(e,n){DD(t.id,{query:n,searchResults:e,searchLoading:!1})}),[t.id]),p=o.useCallback((function(){if(null!=n.current){n.current.clear();l("");DD(t.id,{query:"",searchResults:[],searchLoading:!1})}}),[t.id]);o.useEffect((function(){var e,r=new JD.ZP(d,[JD.h8.USER],100,{userFilters:{guild:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",strict:!0}});if(i.query.length>0&&null==n.current){r.search(s);DD(t.id,{searchLoading:!0})}n.current=r}),[t.id,d]);return(0,r.jsx)("div",{className:ze()(nZ().searchHeader),children:(0,r.jsx)(eZ.Z,{className:nZ().searchBar,query:s,placeholder:Q.Z.Messages.MEMBER_SAFETY_TABLE_SEARCH_PLACEHOLDER,onChange:f,onClear:p})})}function aZ(e){var t=e.guild,n=(0,Ve.ZP)([bD],(function(){return bD.getMemberSearchByGuildId(t.id)}),[t.id]),i=n.searchQuery,a=n.searchLoading,s=o.useRef()
;o.useEffect((function(){a&&(s.current=window.setTimeout((function(){DD(t.id,{searchLoading:!1})}),6e3));return function(){null!=s.current&&window.clearTimeout(s.current)}}),[t.id,a]);return(0,r.jsxs)("div",{className:ze()(nZ().searchHeaderContainer),children:[(0,r.jsxs)("div",{className:ze()(nZ().searchHeader),children:[0===i.query.trim().length?(0,r.jsx)(l.Heading,{variant:"heading-md/medium",children:Q.Z.Messages.MEMBER_SAFETY_TABLE_TITLE}):(0,r.jsx)(l.Heading,{variant:"heading-md/medium",children:Q.Z.Messages.MEMBER_SAFETY_TABLE_TITLE_SEARCH}),a&&(0,r.jsx)("div",{className:ze()(nZ().searchLoading),children:(0,r.jsx)(l.Spinner,{animated:!0,type:l.SpinnerTypes.PULSING_ELLIPSIS})})]}),(0,r.jsx)("div",{className:ze()(nZ().searchInput),children:(0,r.jsx)(iZ,{guild:t})})]})}var sZ=n(675858),lZ=n.n(sZ);function cZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function fZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uZ(e,t,n[t])}))}return e}function dZ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hZ(e){var t=e.guild,n=pZ((0,Ve.ZP)([bD],(function(){return bD.getMembersCountByGuildId(t.id,RL.NEW_GUILD_MEMBER)}),[t.id],wL.Q),1)[0],i=(0,Ve.ZP)([bD],(function(){var e=bD.getMemberSearchByGuildId(t.id).newMemberTimestamp;return IT()(e).format("h:mm A")
}),[t.id]),a=o.useCallback((function(){e=t.id,b.Z.dispatch({type:"GUILD_UPDATE_MEMBER_SEARCH_STATE",guildId:e,updates:{newMemberTimestamp:Date.now()}});var e}),[t.id]);return 0===n?null:(0,r.jsxs)("tr",{className:ze()(zD().roundedRow,lZ().newMembersNotice),children:[(0,r.jsx)("td",{children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"interactive-active",children:Q.Z.Messages.MEMBER_SAFETY_TABLE_NEW_MEMBER_NOTICE_LABEL.format({count:n,date:i})})}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{className:ze()(zD().actionCell),children:(0,r.jsx)(l.Button,{onClick:a,size:l.Button.Sizes.SMALL,color:l.Button.Colors.TRANSPARENT,look:l.Button.Looks.LINK,className:ze()(lZ().memberNoticeAction),children:Q.Z.Messages.MEMBER_SAFETY_TABLE_NEW_MEMBER_NOTICE_ACTION})})]})}function EZ(e){var t=e.label;return(0,r.jsx)("th",{className:lZ().tableHeaderCell,children:(0,r.jsx)(l.Text,{variant:"eyebrow",color:"header-secondary",children:t
})})}function yZ(){return(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_NAME}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_JOINED_AT}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_ACCOUNT_AGE}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_INVITE_LINK}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_ROLES}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_FLAGS}),(0,r.jsx)(EZ,{label:Q.Z.Messages.MEMBER_SAFETY_TABLE_HEADER_ACTIONS})]})})}var mZ=[10,25,50,100];function _Z(e){var t=e.guildId,n=pZ((0,Ve.ZP)([bD],(function(){return bD.getMembersCountByGuildId(t,RL.INCLUDED_IN_SEARCH_RESULTS)}),[t],wL.Q),1)[0],i=(0,Ve.ZP)([bD],(function(){return bD.getMemberSearchByGuildId(t).pagination}),[t]),a=o.useMemo((function(){return mZ.map((function(e){return{value:e,label:Number(e).toLocaleString()}}))
}),[]),s=Q.Z.Messages.MEMBER_SAFETY_TABLE_PAGINATION_LABEL.format({count:n});return(0,r.jsxs)("div",{className:ze()(lZ().paginationContainer),children:[(0,r.jsxs)("div",{className:ze()(lZ().pageSizeSelection),children:[(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"text-muted",children:Q.Z.Messages.MEMBER_SAFETY_TABLE_PAGINATION_PRE_LABEL}),(0,r.jsx)(l.Select,{"aria-label":s,className:lZ().pageSizeInput,options:a,isSelected:function(e){return e===i.pageSize},select:function(e){MD(t,dZ(fZ({},i),{pageSize:e}))},serialize:function(e){return"".concat(e)},popoutPosition:"top"}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"text-muted",children:s})]}),(0,r.jsx)("div",{className:ze()(lZ().pagination),children:(0,r.jsx)(l.Paginator,{className:ze()(lZ().paginationInput),totalCount:n,pageSize:i.pageSize,currentPage:i.currentPage,onPageChange:function(e){MD(t,dZ(fZ({},i),{currentPage:e}))},maxVisiblePages:5})})]})}function gZ(e){var t,n=e.guild,i=(0,xL.n2)(n.id),a=(0,
Ve.ZP)([bD],(function(){return bD.getMemberSearchByGuildId(n.id)}),[n.id]),s=pZ((0,Ve.ZP)([bD],(function(){return bD.getPagedMembersByGuildId(n.id)}),[n.id],wL.Q),1)[0];o.useEffect((function(){f.Z.requestMembers(n.id,void 0,1e4)}),[n.id]);if(!i)return null;var c=null!==(t=s[a.pagination.currentPage])&&void 0!==t?t:[];return(0,r.jsxs)("div",{className:ze()(lZ().mainTableContainer),children:[(0,r.jsx)(aZ,{guild:n}),(0,r.jsx)(l.AdvancedScroller,{className:ze()(lZ().tableScroller),children:(0,r.jsxs)("table",{className:ze()(lZ().table),children:[(0,r.jsx)(yZ,{}),(0,r.jsxs)("tbody",{children:[(0,r.jsx)(hZ,{guild:n}),c.map((function(e){return(0,r.jsx)(XD,{member:e},"".concat(n.id,"-").concat(e.userId))}))]})]})}),(0,r.jsx)(_Z,{guildId:n.id})]})}var bZ=n(803942),vZ=n.n(bZ);function OZ(e){var t=e.guild,n=e.previousChannel,i=Q.Z.Messages.MEMBER_SAFETY_CHANNEL_TITLE,a=Q.Z.Messages.MEMBER_SAFETY_CHANNEL_TITLE;(0,GO.Tt)({location:i});return(0,r.jsxs)(MS.Z,{className:vZ().header,
innerClassname:vZ().innerHeader,channelId:LS.oC.MEMBER_SAFETY,guildId:t.id,toolbar:null!=n?(0,r.jsx)(l.Button,{className:vZ().returnButton,size:l.Button.Sizes.SMALL,look:l.Button.Looks.OUTLINED,color:l.Button.Colors.PRIMARY,onClick:function(){null!=n&&(0,K.XU)(t.id,n.id)},children:(0,r.jsx)(l.Text,{className:vZ().returnButtonText,variant:"text-xs/medium",color:"none",children:Q.Z.Messages.RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(jL._,{className:vZ().returnIcon,guild:t,channel:n}),(0,r.jsx)(ML.Z,{children:(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"none",children:n.name})})]},n.id)}})})}):null,children:[(0,r.jsx)(MS.Z.Icon,{icon:ro.Z,"aria-hidden":!0}),(0,r.jsx)(MS.Z.Title,{children:a})]})}function IZ(e){var t=e.guildId,n=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),o=(0,s.e7)([A.Z],(function(){return A.Z.getLastSelectedChannelId(t)})),i=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(o)}))
;return null==n?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:ze()(hT().chat,vZ().page),children:[(0,r.jsx)(OZ,{guild:n,previousChannel:i}),(0,r.jsx)(l.AdvancedScroller,{className:ze()(vZ().scroller),children:(0,r.jsx)("div",{className:ze()(hT().content,vZ().container),children:(0,r.jsx)(gZ,{guild:n})})})]})})}var SZ=n(995247),TZ=n(877475),NZ=n(795909),CZ=n(439683),AZ=n(289716),PZ=n(18882),RZ=n(786522),jZ=n(968968),MZ=n(347834),wZ=n(873629);function xZ(e){b.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}function LZ(e,t,n){return(0,s.e7)([j_.Z],(function(){return t===n?j_.Z.isChannelOptedIn(e,t,!0):function(e,t,n){return!!(0,wZ.hi)(e)||n.isChannelOptedIn(e,t,!0)}(e,t,j_.Z)||null!=n&&j_.Z.isChannelOptedIn(e,n,!0)}))}function DZ(e,t,n){return(0,s.e7)([j_.Z],(function(){return t!==n&&null!=n&&j_.Z.isChannelOptedIn(e,n,!0)}))}var ZZ=n(33941),UZ=n(364269),GZ=n(678510),kZ=n.n(GZ),BZ=n(522627),HZ=n.n(BZ);function VZ(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function FZ(e){var t=e.guild,n=(0,UZ.te)(t.id),o=(0,xs.wE)(ws.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL),i=n&&!o?ws.z$.GUILD_HEADER_COMMUNITY_ONBOARDING_ADMIN_UPSELL:ws.z$.CHANNEL_BROWSER_NUX;(0,xs.kk)(i);var a=n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{className:kZ().heading,color:"always-white",variant:"heading-lg/semibold",children:Q.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_TITLE}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"always-white",children:Q.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_DESCRIPTION}),(0,r.jsx)(l.Button,{className:kZ().checkItOut,onClick:function(){Zl.Z.open(t.id,w.pNK.ONBOARDING);(0,xs.EW)(i,{dismissAction:Us.L.PRIMARY})},look:l.Button.Looks.INVERTED,children:(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"none",children:Q.Z.Messages.CHANNEL_BROWSER_ADMIN_NUX_CTA})})]}),(0,r.jsx)(ZZ.j,{isTooltip:!0})]}):(0,
r.jsxs)("div",{className:kZ().nuxContent,children:[(0,r.jsx)("img",{width:180,className:kZ().image,src:HZ(),alt:"","aria-hidden":!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{className:kZ().heading,variant:"heading-lg/semibold",color:"header-primary",children:Q.Z.Messages.CHANNEL_BROWSER_NUX_TITLE}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:Q.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION}),(0,r.jsx)(l.Text,{className:kZ().tip,variant:"text-md/normal",color:"header-secondary",children:Q.Z.Messages.CHANNEL_BROWSER_NUX_DESCRIPTION_2.format()})]})]});return(0,r.jsxs)("div",{className:ze()(kZ().container,VZ({},kZ().adminUpsell,n)),children:[(0,r.jsx)(l.Clickable,{className:kZ().closeButton,onClick:function(){(0,xs.EW)(i,{dismissAction:Us.L.DISMISS})},children:(0,r.jsx)(JI.Z,{})}),a]})}var YZ=n(112598),zZ=n.n(YZ);function WZ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function KZ(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WZ(i,r,o,a,s,"next",e)}function s(e){WZ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function qZ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function XZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qZ(e,t,n[t])}))}return e}function QZ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var $Z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},JZ=new Set([w.d4z.GUILD_FORUM,w.d4z.GUILD_MEDIA]),eU=new Set([w.d4z.GUILD_VOICE,w.d4z.GUILD_STAGE_VOICE]);function tU(e){var t=e.guild,o=e.channel,i=e.onCategoryClick,a=LZ(t.id,o.id,o.id),s=DZ(t.id,o.id,o.id);return(0,r.jsxs)("div",{className:ze()(zZ().categoryRow,qZ({},zZ().uncategorized,"null"===o.id)),onContextMenu:function(e){(0,xI.jW)(e,KZ((function(){var e,i;return $Z(this,(function(a){switch(a.label){case 0:return[4,n.e(96006).then(n.bind(n,696006))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,QZ(XZ({},e),{channel:o,guild:t}))}]}}))})))},children:[(0,r.jsx)(l.Text,{className:zZ().categoryText,color:"text-muted",variant:"text-xs/semibold",lineClamp:1,children:o.name}),"null"!==o.id&&!s&&(0,r.jsxs)(l.Clickable,{className:zZ().selectAll,onClick:function(){s||i(t.id,o.id,o.id)},
children:[(0,r.jsx)(l.Checkbox,{className:zZ().selectAllCheckbox,size:14,shape:l.Checkbox.Shapes.SMALL_BOX,value:a,type:l.Checkbox.Types.INVERTED,displayOnly:!0}),(0,r.jsx)(l.Text,{color:"text-muted",variant:"text-xs/medium",children:Q.Z.Messages.CHANNEL_BROWSER_SELECT_ALL})]})]})}var nU=o.memo((function(){return(0,r.jsx)("div",{className:zZ().separator})})),rU=o.memo((function(e){var t=e.index;return(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:zZ().subtitleSeparator,children:""},"separator-".concat(t))}));var oU=o.memo((function(e){var t,o,i=e.channel,a=e.category,c=e.guild,u=e.isFirstChannel,f=e.isLastChannel,d=e.onChannelClick,p=e.tooltipDirection,h=void 0===p?"right":p,E=LZ(c.id,i.id,a.id),y=DZ(c.id,i.id,a.id),m=(t=c.id,o=a.id,(0,s.e7)([j_.Z],(function(){if(null!=o&&j_.Z.isChannelOptedIn(t,o,!0))return Q.Z.Messages.CHANNEL_BROWSER_DISABLED_BY_CATEGORY}))),_=(0,s.e7)([PZ.Z],(function(){return PZ.Z.getActiveThreadCount(c.id,i.id)})),g=(0,s.e7)([CZ.Z],(function(){
return CZ.Z.getHighlightedMessageIdCount(i.id)})),b=(0,s.e7)([AZ.Z],(function(){return AZ.Z.shouldIndicateNewChannel(c.id,i.id)})),v=function(e){if(!y){e.stopPropagation();d(c.id,i.id,a.id);return!0}},O=function(e){i.isGuildVocal()?(0,xI.jW)(e,KZ((function(){var e,t;return $Z(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(37472)]).then(n.bind(n,37472))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,QZ(XZ({},e),{channel:i,guild:c}))}]}}))}))):(0,xI.jW)(e,KZ((function(){var e,t;return $Z(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(11261)]).then(n.bind(n,811261))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,QZ(XZ({},e),{channel:i,guild:c}))}]}}))})))},I=function(e,t,n){var o=[];n>0&&o.push((0,r.jsx)(l.Text,{variant:"text-xs/medium",className:zZ().channelSubtitle,color:"text-brand",children:Q.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:n})
},"thread-count"));w.TPd.GUILD_THREADS_ONLY.has(e.type)&&t>=1&&o.push((0,r.jsx)(l.Text,{variant:"text-xs/normal",className:zZ().channelSubtitle,children:Q.Z.Messages.ACTIVE_FORUM_POST_COUNT.format({count:t})},"thread-count"));eU.has(e.type)||o.push((0,r.jsx)(l.Text,{variant:"text-xs/normal",className:zZ().channelSubtitle,children:(0,SZ.qw)(e.id)},"active"));null!=e.topic&&e.topic.length>0&&o.push((0,r.jsx)(ML.Z,{children:(0,r.jsx)(l.Text,{className:zZ().topic,variant:"text-xs/normal",children:QS.Z.parseTopic(e.topic,!0,{channelId:e.id})})},"topic"));return[o.map((function(e,t){return[e,(0,r.jsx)(rU,{index:t},"subtitle-separator-".concat(t))]}))].flat(2).slice(0,-1)}(i,_,g),S=function(e){e.stopPropagation();if(JZ.has(i.type)||e.shiftKey){(0,K.XU)(c.id,i.id);return!0}if(i.isGuildStageVoice()||i.isGuildVoice()){(0,bC.Cq)(i);return!0}Sm.Z.openChannelAsSidebar({guildId:i.guild_id,channelId:i.id,baseChannelId:LS.oC.CHANNEL_BROWSER});return!0},T=Q.Z.Messages.CHANNEL_BROWSER_VIEW
;i.isGuildStageVoice()||i.isGuildVoice()?T=Q.Z.Messages.JOIN:i.isForumLikeChannel()&&(T=Q.Z.Messages.OPEN);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Tooltip,{text:m,delay:500,position:h,children:function(e){var t;return(0,r.jsxs)(l.Clickable,QZ(XZ({className:ze()(zZ().channelRow,(t={},qZ(t,zZ().firstChannel,u),qZ(t,zZ().lastChannel,f),qZ(t,zZ().disabled,y),t))},e),{onClick:v,onContextMenu:O,children:[(0,r.jsxs)("div",{className:zZ().channelInfo,children:[(0,r.jsxs)("div",{className:zZ().channelName,children:[(0,r.jsx)(jL._,{channel:i,guild:c}),(0,r.jsx)(ML.Z,{className:zZ().name,children:(0,r.jsx)(l.Text,{className:zZ().channelText,variant:"text-md/medium",lineClamp:1,color:y?"text-muted":"text-normal",children:i.name})}),b?(0,r.jsx)(Bt.IG,{text:Q.Z.Messages.NEW,color:br.Z.unsafe_rawColors.BRAND_260.css,className:zZ().titleBadge}):null]}),(0,r.jsx)("div",{className:zZ().channelSubtitles,children:I})]}),(0,r.jsxs)("div",{className:zZ().channelActions,children:[(0,
r.jsx)(l.Button,{look:l.ButtonLooks.OUTLINED,color:l.ButtonColors.PRIMARY,size:l.ButtonSizes.SMALL,className:zZ().viewChannelButton,onClick:S,children:T}),(0,r.jsx)(l.Checkbox,{"aria-checked":E,value:E,type:l.Checkbox.Types.INVERTED,disabled:y,innerClassName:zZ().checkboxInner,displayOnly:!0})]})]}))}}),!f&&(0,r.jsx)(nU,{})]})}));function iU(e){var t,n=e.categories,i=e.guild,a=e.className,c=e.innerClassName,u=e.hasSidebar,f=function(e){var t=(0,s.e7)([j_.Z],(function(){return j_.Z.getPendingChannelUpdates(e)}));o.useEffect((function(){xZ(e);return function(){return xZ(e)}}),[e]);o.useEffect((function(){null!=t&&(0,MZ.C1)(e,t)}),[e,t]);var n=o.useCallback((function(e,t,n){var r=j_.Z.isChannelOptedIn(e,t),o=t===n;!r&&jZ.Z.isCollapsed(n)&&null!=n&&(0,RZ.mJ)(n);(0,wZ.hi)(e)?o?(0,wZ.rz)(e,{include:new Set([t])}):(0,wZ.rz)(e,{exclude:new Set([t])}):(0,MZ.k$)(e,t,!r,{section:w.jXE.CHANNEL_BROWSER})}),[]);return{onChannelClick:n}}(i.id).onChannelClick,d=(0,
xs.wE)(ws.z$.CHANNEL_BROWSER_NUX)?0:-1,p=o.useCallback((function(e){var t=e.section;if(0===t&&-1===d)return null;var o=n._categories[t+d];return(0,r.jsx)(tU,{channel:o.channel,guild:i,onCategoryClick:f},o.channel.id)}),[n,i,d,f]),h=o.useCallback((function(e){var t=e.section,o=e.row;if(0===t&&-1===d)return(0,r.jsx)(FZ,{guild:i});var a=n._categories[t+d],s=n[a.channel.id][o];return null==s?null:(0,r.jsx)(oU,{category:a.channel,channel:s.channel,guild:i,isFirstChannel:0===o,isLastChannel:n[a.channel.id].length-1===o,tooltipDirection:u?"right":"top",onChannelClick:f},s.channel.id)}),[n,i,d,u,f]),E=(t=i.id,(0,UZ.te)(t)?250:152),y=(0,SZ.tn)(i.id,n,64,E);return(0,r.jsx)(l.ListAuto,{className:a,innerClassName:ze()(c,zZ().scrollerInner),sectionHeight:48,rowHeight:function(e){return y[e].rowHeight},renderSection:p,renderRow:h,sections:y.map((function(e){return e.rowCount}))},"channel-browser-list")}var aU=n(820272),sU=n.n(aU);function lU(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cU(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function uU(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cU(i,r,o,a,s,"next",e)}function s(e){cU(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dU(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pU(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hU=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function EU(e){var t=e.channelId;return(0,r.jsx)(AI.Z,{
sidebarType:AI.y.ThreadSidebar,maxWidth:600,children:(0,r.jsx)(lS,{channelId:t,baseChannelId:LS.oC.CHANNEL_BROWSER})})}function yU(e){var t=e.guildId,i=pU(o.useState(""),2),a=i[0],c=i[1],u=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),f=(0,s.e7)([eT.ZP],(function(){return eT.ZP.getChannels(t)})),d=(0,s.e7)([TZ.Z],(function(){return TZ.Z.getCategories(t)})),p=(0,SZ.Fo)(t,d,f,a),h=(0,s.e7)([Ds.Z],(function(){return Ds.Z.canWithPartialContext(w.Plq.MANAGE_CHANNELS,{guildId:t})})),E=(0,s.e7)([P_.ZP],(function(){return null!=P_.ZP.getCurrentSidebarChannelId(LS.oC.CHANNEL_BROWSER)})),y=o.useCallback((function(){return c("")}),[c]),m=o.useCallback((function(){(0,l.openModalLazy)(uU((function(){var e,o;return hU(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(57645)]).then(n.bind(n,957645))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,dU(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fU(e,t,n[t])}))}return e}({},e),{channelType:null,guildId:t}))}]}}))})))}),[t]);return null==u?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:ze()(hT().chat,sU().container),children:(0,r.jsxs)("div",{className:ze()(sU().pageBody),children:[(0,r.jsxs)("div",{className:sU().header,children:[(0,r.jsx)(eZ.Z,{className:sU().search,size:eZ.Z.Sizes.MEDIUM,query:a,onChange:function(e){""===a&&""!==e&&Oe.default.track(w.rMx.SEARCH_STARTED,{search_type:"channel browser"});c(e.toLowerCase())},onClear:y,placeholder:Q.Z.Messages.CHANNEL_BROWSER_SEARCH_PLACEHOLDER}),h?(0,r.jsxs)(l.Button,{className:sU().createButton,innerClassName:sU().createButtonInner,onClick:m,children:[(0,r.jsx)(NZ.Z,{className:sU().createIcon
}),Q.Z.Messages.CREATE]}):null]}),(0,r.jsx)(iU,{className:sU().browser,channels:f,categories:p,guild:u,hasSidebar:E})]})})})}var mU=n(353886),_U=n(977997),gU=n(547308),bU=n(841379),vU=n(995141),OU=n(795470),IU=n(129993),SU=n(736626),TU=n(679741),NU=n(89836),CU=n(717091),AU=n(47635),PU=n(888236),RU=n(404741);function jU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wU(e){return function(e){if(Array.isArray(e))return jU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xU(e){b.Z.dispatch({type:"CLEAR_PENDING_CHANNEL_AND_ROLE_UPDATES",guildId:e})}var LU={};function DU(e){var t,n=(0,s.e7)([RU.Z],(function(){return null!==(t=RU.Z.getPendingResponseOptions(e))&&void 0!==t?t:LU}),[e]);o.useEffect((function(){xU(e);return function(){return xU(e)}}),[e]);o.useEffect((function(){null!=n&&0!==Object.keys(n).length&&AU.Z.updateOnboardingResponses(e)}),[e,n]);var r=o.useCallback((function(t,n,r){var o=RU.Z.getOnboardingResponses(e),i=function(e,t,n,r){var o=[],i=[];if(e.singleSelect&&n){var a,s,l,c,u=e.options.find((function(e){return r.includes(e.id)}));o=Ke().difference(null!==(a=t.roleIds)&&void 0!==a?a:[],null!==(s=null==u?void 0:u.roleIds)&&void 0!==s?s:[])
;i=Ke().difference(null!==(l=null==u?void 0:u.roleIds)&&void 0!==l?l:[],null!==(c=t.roleIds)&&void 0!==c?c:[])}else if(n){var f;o=null!==(f=t.roleIds)&&void 0!==f?f:[];i=[]}else{var d=e.options.filter((function(e){return r.includes(e.id)})),p=d.filter((function(e){return t.id!==e.id})),h=d.map((function(e){return e.roleIds})).flat().filter(kr.lm),E=p.map((function(e){return e.roleIds})).flat().filter(kr.lm);o=[];i=Ke().difference(h,E)}return{addedRoleIds:o,removedRoleIds:i}}(t,n,r,o),a=i.addedRoleIds,s=i.removedRoleIds,l=function(e){var t=e.guildId,n=e.prompt,r=e.option,o=e.selected,i=e.responses,a=[],s=[];if(n.singleSelect&&o){var l,c,u,f,d=n.options.find((function(e){return i.includes(e.id)}));a=Ke().difference(null!==(l=r.channelIds)&&void 0!==l?l:[],null!==(c=null==d?void 0:d.channelIds)&&void 0!==c?c:[]);s=Ke().difference(null!==(u=null==d?void 0:d.channelIds)&&void 0!==u?u:[],null!==(f=r.channelIds)&&void 0!==f?f:[])}else if(o){var p;a=null!==(p=r.channelIds)&&void 0!==p?p:[]
;s=[]}else{var h=n.options.filter((function(e){return i.includes(e.id)})),E=h.filter((function(e){return r.id!==e.id})),y=h.map((function(e){return e.channelIds})).flat().filter(kr.lm),m=E.map((function(e){return e.channelIds})).flat().filter(kr.lm);a=[];s=Ke().difference(y,m)}if((0,wZ.hi)(t)){var _;(_=a).push.apply(_,wU(RU.Z.getDefaultChannelIds(t)))}return{addedChannelIds:a,removedChannelIds:s}}({guildId:e,prompt:t,option:n,selected:r,responses:o}),c=l.addedChannelIds,u=l.removedChannelIds,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){MU(e,t,n[t])}))}return e}({},c.reduce((function(t,n){var r=j_.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,_d.mB)(r,zb.ic.OPT_IN_ENABLED,!0)};return t}),{}),u.reduce((function(t,n){
var r=j_.Z.getGuildChannelFlags(e,n);t[n]={flags:(0,_d.mB)(r,zb.ic.OPT_IN_ENABLED,!1)};return t}),{}));AU.Z.selectOption(e,t.id,n.id,r);b.Z.dispatch({type:"USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK",guildId:e,overrides:f});AU.Z.updateRolesLocal(e,a,s)}),[e]);return{handleSelectOption:r}}function ZU(e,t,n){return 0===e.length?"":(n?Q.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES_ALSO:Q.Z.Messages.ONBOARDING_HELP_TEXT_ADD_ROLES).format({count:e.length,extraCount:Math.max(e.length-2,0),role1:e[0],role2:e[1],itemHook:t})}function UU(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,l=(0,s.Wu)([S.Z,Y.default,Jf.Z],(function(){return Array.from(i).map((function(e){return S.Z.getChannel(e)})).filter(kr.lm).map((function(e){return(0,C_.F6)(e,Y.default,Jf.Z,!0)}))})),c=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(kr.lm).map((function(e){return"@".concat(e)
})),u=(null==r?void 0:r.singleSelect)?"":Q.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS,f="";if(0===l.length&&c.length>0)u=ZU(c,a);else if(l.length>0){u=function(e,t){return 0===e.length?"":Q.Z.Messages.ONBOARDING_HELP_TEXT_ADD_CHANNELS.format({count:e.length,extraCount:Math.max(e.length-2,0),channel1:e[0],channel2:e[1],itemHook:t})}(l,a);c.length>0&&(f=ZU(c,a,!0))}return{helpText:u,helpTextAdditional:f}}function GU(e){var t,n=e.guild,r=e.prompt,o=e.selectedRoleIds,i=e.selectedChannelIds,a=e.itemHook,l=(0,s.Wu)([S.Z,Y.default,Jf.Z],(function(){return Array.from(i).map((function(e){return S.Z.getChannel(e)})).filter(kr.lm).map((function(e){return(0,C_.F6)(e,Y.default,Jf.Z,!0)}))})),c=Array.from(o).map((function(e){var r;return null===(r=(null!==(t=null==n?void 0:n.roles)&&void 0!==t?t:{})[e])||void 0===r?void 0:r.name})).filter(kr.lm).map((function(e){return"@".concat(e)})),u=(null==r?void 0:r.singleSelect)?"":Q.Z.Messages.ONBOARDING_CHOOSE_ALL_OPTIONS
;0===l.length&&c.length>0?u=Q.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_ROLES.format({count:c.length,extraCount:Math.max(c.length-2,0),role1:c[0],role2:c[1],itemHook:a}):l.length>0&&0===c.length?u=Q.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS.format({count:l.length,extraCount:Math.max(l.length-2,0),channel1:l[0],channel2:l[1],itemHook:a}):l.length>0&&c.length>0&&(u=Q.Z.Messages.CUSTOMIZE_COMMUNITY_ADD_CHANNELS_AND_ROLES.format({channelCount:l.length,extraChannelCount:Math.max(l.length-2,0),channel1:l[0],channel2:l[1],itemHook:a,roleCount:c.length,extraRoleCount:Math.max(c.length-2,0),role1:c[0],role2:c[1]}));return{helpText:u,helpTextAdditional:""}}function kU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function BU(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function HU(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function VU(e){var t=e.width,n=void 0===t?120:t,o=e.height,i=void 0===o?80:o,a=e.backgroundColor,s=e.foregroundColor,l=HU(e,["width","height","backgroundColor","foregroundColor"]);return(0,r.jsxs)("svg",BU(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kU(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"60",cy:"40",r:"32",fill:a}),(0,r.jsx)("path",{
d:"M75.0832 29.8546L75.0835 29.8548C75.1362 29.884 75.1683 29.9391 75.1683 29.9983C75.1683 30.5369 75.1197 37.4409 73.0784 44.1629C71.005 50.9907 67.1615 56.8317 60.0016 56.8317C52.8418 56.8317 48.9982 50.9907 46.9248 44.1629C44.8836 37.4409 44.835 30.5369 44.835 29.9983C44.835 29.9391 44.8671 29.884 44.9197 29.8548L44.9201 29.8546L59.919 21.5218C59.9191 21.5218 59.9193 21.5217 59.9194 21.5216C59.9718 21.4928 60.0316 21.4928 60.0839 21.5217C60.084 21.5217 60.0842 21.5218 60.0843 21.5218L75.0832 29.8546ZM52.2516 46.6667V48.1667H53.7516H66.2516H67.7516V46.6667C67.7516 44.43 67.0409 42.4584 65.6254 41.0429C64.7687 40.1861 63.7082 39.5876 62.5086 39.2485C64.3809 38.3237 65.6683 36.3949 65.6683 34.165C65.6683 31.0349 63.1317 28.4983 60.0016 28.4983C56.8715 28.4983 54.335 31.0349 54.335 34.165C54.335 36.3949 55.6224 38.3237 57.4947 39.2485C56.295 39.5876 55.2346 40.1861 54.3778 41.0429C52.9623 42.4584 52.2516 44.43 52.2516 46.6667Z",fill:s,stroke:s,strokeWidth:"3"}),(0,r.jsx)("path",{
d:"M103.67 1.80634C103.67 0.808724 102.862 0 101.864 0C100.866 0 100.058 0.808724 100.058 1.80634V3.64278C100.058 4.64039 100.866 5.44911 101.864 5.44911C102.862 5.44911 103.67 4.64039 103.67 3.64278V1.80634Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M103.67 16.3574C103.67 15.3597 102.862 14.551 101.864 14.551C100.866 14.551 100.058 15.3597 100.058 16.3574V18.1938C100.058 19.1914 100.866 20.0001 101.864 20.0001C102.862 20.0001 103.67 19.1914 103.67 18.1938V16.3574Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M110.194 11.8412C111.191 11.8412 112 11.0325 112 10.0349C112 9.03724 111.191 8.22852 110.194 8.22852H108.357C107.36 8.22852 106.551 9.03724 106.551 10.0349C106.551 11.0325 107.36 11.8412 108.357 11.8412H110.194Z",fill:"#58F287"}),(0,r.jsx)("path",{d:"M95.6429 11.7413C96.6405 11.7413 97.4492 10.9326 97.4492 9.935C97.4492 8.93739 96.6405 8.12866 95.6429 8.12866H93.8064C92.8088 8.12866 92.0001 8.93739 92.0001 9.935C92.0001 10.9326 92.8088 11.7413 93.8064 11.7413H95.6429Z",fill:"#58F287"}),(0,
r.jsx)("path",{
d:"M19.1501 74.4573L23.3147 73.0684C23.5192 72.9747 23.6925 72.8241 23.814 72.6347C23.9354 72.4454 24 72.225 24 72C24 71.775 23.9354 71.5546 23.814 71.3653C23.6925 71.1759 23.5192 71.0253 23.3147 70.9316L19.1501 69.5427C18.8657 69.4142 18.6378 69.1862 18.5094 68.9016L17.0145 64.7348C16.9442 64.521 16.8083 64.3349 16.6262 64.203C16.444 64.071 16.2249 64 16 64C15.7751 64 15.556 64.071 15.3738 64.203C15.1917 64.3349 15.0558 64.521 14.9855 64.7348L13.4906 68.9016C13.3622 69.1862 13.1343 69.4142 12.8499 69.5427L8.68528 70.9316C8.4808 71.0253 8.30752 71.1759 8.18604 71.3653C8.06457 71.5546 8 71.775 8 72C8 72.225 8.06457 72.4454 8.18604 72.6347C8.30752 72.8241 8.4808 72.9747 8.68528 73.0684L12.8499 74.4573C13.0011 74.5032 13.1387 74.5858 13.2505 74.6976C13.3622 74.8094 13.4447 74.9471 13.4906 75.0984L14.9855 79.2652C15.0558 79.479 15.1917 79.6651 15.3738 79.797C15.556 79.929 15.7751 80 16 80C16.2249 80 16.444 79.929 16.6262 79.797C16.8083 79.6651 16.9442 79.479 17.0145 79.2652L18.5094 75.0984C18.5553 74.9471 18.6378 74.8094 18.7495 74.6976C18.8613 74.5858 18.9989 74.5032 19.1501 74.4573Z",
fill:"#FFD01A"})]}))}var FU=n(77413),YU=n(489617),zU=n(134954);function WU(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function KU(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qU(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function XU(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=qU(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",KU(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){WU(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 11 10",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M4.20096 9.92805L0.157959 5.88505L1.92496 4.11705L3.88196 6.07305L8.02396 0.274048L10.059 1.72705L4.20096 9.92805Z"})}))}var QU=n(404237),$U=n.n(QU);function JU(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eG(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||rG(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nG(e){return function(e){if(Array.isArray(e))return JU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rG(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rG(e,t){if(e){if("string"==typeof e)return JU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?JU(e,t):void 0}}function oG(e){var t,n,i=e.guildId,a=e.option,s=e.selected,c=e.onSelect,u=e.hideMemberCount,f=e.canBeNew,d=(0,Io.wj)((0,To.ZP)()),p=tG(o.useState(!1),2),h=p[0],E=p[1],y=h&&!u,m=o.useRef(null),_=o.useContext(l.AccessibilityPreferencesContext).reducedMotion,g=(0,Ve.ZP)([YU.Z],(function(){var e,t,r;return null!=(null===(e=a.emoji)||void 0===e?void 0:e.id)&&null!==(n=null===(r=YU.Z.getCustomEmojiById(null===(t=a.emoji)||void 0===t?void 0:t.id))||void 0===r?void 0:r.animated)&&void 0!==n&&n})),b=(0,
zU.Z)(i,1e3),v=null==b||null==a.roleIds?0:(t=Math).max.apply(t,nG(a.roleIds.map((function(e){return b[e]})))),O=f&&!s&&a.isUnseen,I=(0,RA.useSpring)({transform:s||_.enabled?"scale(1)":"scale(0.7)",opacity:s?1:0,config:{duration:150}}),S=(0,l.useToken)(br.Z.colors.BACKGROUND_MODIFIER_ACCENT),T=(0,l.useToken)(br.Z.unsafe_rawColors.BRAND_500),N=(0,RA.useSpring)({from:{color:T.spring()},color:S.spring({opacity:d?.5:.25}),config:{duration:300},delay:500}),C=(0,RA.useTransition)(y,{from:{transform:_.enabled?"translateX(0)":"translateX(8px)",opacity:0},enter:{transform:"translateX(0)",opacity:1},leave:{opacity:0},trail:400,config:{duration:150}}),A=tG(o.useState(!1),2),P=A[0],R=A[1];o.useEffect((function(){if(y){m.current=setTimeout((function(){E(!1);m.current=null}),3e3);return function(){null!=m.current&&clearTimeout(m.current)}}}),[y]);var j,M=ze()($U().optionButtonWrapper,(eG(j={},$U().selected,s),eG(j,$U().pressed,P),j)),w=O?{borderColor:N.color}:{};return(0,r.jsx)(r.Fragment,{
children:(0,r.jsx)(RA.animated.div,{style:w,className:M,children:(0,r.jsxs)(l.Clickable,{className:ze()($U().optionButton),onClick:function(){E(!s);c(!s)},onMouseDown:function(){return R(!0)},onMouseUp:function(){return R(!1)},children:[null==a.emoji||null==a.emoji.id&&null==a.emoji.name?null:(0,r.jsx)(FU.Z,{animated:a.emoji.animated||g,className:$U().buttonEmoji,emojiId:a.emoji.id,emojiName:a.emoji.name}),(0,r.jsxs)("div",{className:$U().buttonText,children:[(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",children:a.title}),a.description.length>0?(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:a.description}):null]}),(0,r.jsx)(RA.animated.div,{className:$U().checkIcon,style:I,children:(0,r.jsx)(XU,{width:10,height:10,color:br.Z.unsafe_rawColors.WHITE_500.css})}),C((function(e,t){return v>0&&t&&(0,r.jsx)(RA.animated.div,{className:$U().memberCount,style:e,children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"always-white",
children:Q.Z.Messages.ONBOARDING_OPTION_ROLE_COUNTS.format({memberCount:v})})})})),O&&(0,r.jsx)(Bt.IG,{color:br.Z.unsafe_rawColors.BRAND_260.css,text:Q.Z.Messages.NEW,className:$U().newBadge})]})})})}var iG=n(824390),aG=n.n(iG),sG=n(737797),lG=n(312406),cG=n.n(lG);function uG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fG(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fG(e,t,n[t])}))}return e}function pG(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hG(e){return function(e){if(Array.isArray(e))return uG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uG(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EG(e){
return null!=e&&(null!=e.id||null!=e.name)}var yG=pG(dG({},sG.v),{control:function(e,t){var n=t.isDisabled,r=t.menuIsOpen;return pG(dG({},e),{backgroundColor:"var(--input-background)",borderColor:"var(--input-background)",opacity:n?.6:1,boxShadow:void 0,borderRadius:r?"8px 8px 0 0":"8px",minHeight:40,transition:"border 0.15s ease",cursor:n?"not-allowed":void 0,pointerEvents:n?"none":void 0,"&:hover":{borderColor:"var(--input-background)"}})},valueContainer:function(e){return pG(dG({},e),{padding:"8px",display:"flex",flexDirection:"row",gap:"8px",cursor:"text"})},indicatorsContainer:function(e){return pG(dG({},e),{alignItems:"flex-start",paddingTop:4})},option:function(e,t){var n=t.isSelected,r=t.isFocused;return pG(dG({},e,n?{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"}:r?{backgroundColor:"var(--background-modifier-hover)",color:"var(--interactive-hover)"}:{backgroundColor:"transparent",color:"var(--interactive-normal)"}),{cursor:"pointer",
display:"flex",padding:12,alignItems:"center",minHeight:40,"&:active":{backgroundColor:"var(--background-modifier-selected)",color:"var(--interactive-active)"},"&:hover [data-hover=true]":{opacity:1}})}});function mG(e){var t=e.options,n=e.value,i=e.onChange,a=e.canBeNew,s=e.memberCounts,c=function(e){e.preventDefault();e.stopPropagation()},u=o.useCallback((function(e){var o,a,s,u;return(0,r.jsxs)("div",{className:cG().selectValuePill,onMouseDown:c,children:[EG(e.emoji)&&(0,r.jsx)(FU.Z,{emojiId:null===(o=e.emoji)||void 0===o?void 0:o.id,emojiName:null===(a=e.emoji)||void 0===a?void 0:a.name,animated:null!==(u=null===(s=e.emoji)||void 0===s?void 0:s.animated)&&void 0!==u&&u}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:e.title}),(0,r.jsx)(l.Clickable,{className:cG().selectValuePillClose,onClick:function(){i(t.filter((function(t){return n.includes(t.id)&&t.id!==e.id})))},children:(0,r.jsx)(JI.Z,{className:cG().selectValuePillCloseIcon})})]})
}),[i,t,n]),f=o.useCallback((function(e){var t,n,o,i,c,u=null==s||null==e.roleIds?0:(t=Math).max.apply(t,hG(e.roleIds.map((function(e){return s[e]})))),f=null!=s&&u>0;return(0,r.jsxs)("div",{className:cG().selectOption,children:[(0,r.jsxs)("div",{className:cG().selectOptionTitle,children:[EG(e.emoji)&&(0,r.jsx)(FU.Z,{emojiId:null===(n=e.emoji)||void 0===n?void 0:n.id,emojiName:null===(o=e.emoji)||void 0===o?void 0:o.name,animated:null!==(c=null===(i=e.emoji)||void 0===i?void 0:i.animated)&&void 0!==c&&c}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:e.title})]}),a&&e.isUnseen&&(0,r.jsx)(Bt.IG,{color:br.Z.unsafe_rawColors.BRAND_260.css,text:Q.Z.Messages.NEW,className:cG().optionNewBadge}),f&&(0,r.jsx)("div",{className:cG().selectOptionMemberCount,"data-hover":!0,children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"always-white",children:Q.Z.Messages.ONBOARDING_OPTION_ROLE_COUNTS.format({memberCount:u})})})]})}),[a,s]),d=o.useCallback((function(e,t){var n=e.data
;return 0===t.length||aG()(t.toLowerCase(),n.title.toLowerCase())}),[]);return(0,r.jsx)(sG.Z,{styleOverrides:yG,clearable:!1,isMulti:!0,options:t,onChange:i,value:n,closeMenuOnSelect:!1,multiValueRenderer:u,optionRenderer:f,filterOption:d})}var _G=n(322008),gG=n(290679),bG=n(814178),vG=n.n(bG),OG=n(913198),IG=n.n(OG);function SG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TG(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function NG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){TG(e,t,n[t])}))}return e}function CG(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function AG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var PG=l.AvatarSizes.SIZE_80,RG="required";function jG(e){var t=e.guild,n=e.user,i=(0,NU.w)({user:n,guildId:t.id,size:120}),a=i.avatarSrc,c=i.eventHandlers,u=i.isAvatarAnimating,f=(0,bU.Z)({user:n,size:(0,vU.y)(PG),canAnimate:u}),d=(0,s.e7)([qf.ZP],(function(){return qf.ZP.getMember(t.id,n.id)})),p=(0,s.Wu)([qf.ZP],(function(){return qf.ZP.getMemberRoleWithPendingUpdates(t.id,n.id)})),h=Ke()(p).filter((function(e){return t.roles.hasOwnProperty(e)})).map((function(e){return t.roles[e]})).orderBy("position","desc").value(),E=(0,TU.Z)(n.id,t.id);o.useEffect((function(){(0,SU.Z)(n.id,n.getAvatarURL(t.id,(0,l.getAvatarSize)(PG)),{guildId:t.id})}),[]);var y,m=(0,
IU.Y)(null==E?void 0:E.bio),_=sd.default.getEnableHardwareAcceleration()?l.AnimatedAvatar:l.Avatar;return(0,r.jsxs)("div",{className:vG().profile,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-primary",children:Q.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.CUSTOMIZE_COMMUNITY_PROFILE_DESCRIPTION}),(0,r.jsxs)("div",{className:vG().profileCard,children:[(0,r.jsx)("div",CG(NG({},c),{children:(0,r.jsx)(_,{src:a,avatarDecoration:f,size:PG,"aria-label":n.username})})),(0,r.jsx)(l.Text,{variant:"text-lg/medium",color:"header-primary",className:vG().username,children:null!==(y=null==d?void 0:d.nick)&&void 0!==y?y:M_.ZP.getName(n)}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"text-muted",className:ze()(IG().markup,vG().bio),children:m}),null!=h&&h.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:vG().separator}),(0,r.jsx)(l.Text,{variant:"text-xs/semibold",
color:"text-muted",className:vG().title,children:Q.Z.Messages.ROLES}),(0,r.jsx)("div",{className:vG().roles,children:null==h?void 0:h.map((function(e){var t;return(0,r.jsxs)("div",{className:vG().role,children:[(0,r.jsx)(l.RoleCircle,{color:null!==(t=e.colorString)&&void 0!==t?t:(0,gU.Rf)(w.p6O),className:vG().roleDot}),(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-primary",children:e.name})]},e.id)}))})]})]})]})}function MG(e){var t,n=e.prompt,i=e.guild,a=AG(o.useState(null),2),c=a[0],u=a[1],f=AG(o.useState(new Set),2),d=f[0],p=f[1],h=null==n||null===(t=n.options)||void 0===t?void 0:t.filter((function(e){return d.has(e.id)})),E=(0,pS.L6)(h),y=(0,pS.dX)(h),m=(0,s.Wu)([RU.Z],(function(){return RU.Z.getOnboardingResponsesForPrompt(i.id,n.id)})),_=GU({guild:i,prompt:n,selectedRoleIds:E,selectedChannelIds:y,itemHook:function(e,t){return(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-primary",children:e},t)}
}),g=_.helpText,b=_.helpTextAdditional,v=DU(i.id).handleSelectOption,O=(0,l.useToken)(br.Z.unsafe_rawColors.BRAND_500),I=(0,RA.useSpring)({from:{color:n.isNew?O.hex({opacity:1}):O.hex({opacity:0})},color:O.hex({opacity:0}),config:{duration:300},delay:500}),S=n.options.map((function(e){return NG({value:e.id},e)})),T=n.options.filter((function(e){return m.includes(e.id)})).map((function(e){return e.id}));return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(RA.animated.div,{className:vG().prompt,style:{borderColor:I.color},children:[n.isNew&&(0,r.jsx)(Bt.IG,{color:(0,OU.Lq)(w.Ilk.BRAND_260),text:Q.Z.Messages.NEW,className:vG().newBadge}),(0,r.jsxs)(l.Heading,{className:vG().promptTitle,variant:"heading-md/semibold",color:"header-primary",children:[n.title,n.required?(0,r.jsx)("span",{className:ze()(vG().required,TG({},vG().error,(null==c?void 0:c.type)===RG)),children:"*"}):null]}),(0,r.jsx)(mG,{options:S,value:T,onChange:function(e){var t=e.find((function(e){return!m.includes(e.id)
})),r=e.map((function(e){return e.id}));if(null!=t){v(n,t,!0);n.singleSelect&&n.options.forEach((function(e){return d.delete(e.id)}));d.add(t.id)}else{var o=m.filter((function(e){return!r.includes(e)})),i=n.options.filter((function(e){return o.includes(e.id)}));if(m.length<=i.length&&n.required){u({type:RG});return}i.forEach((function(e){v(n,e,!1);d.delete(e.id)}))}p(new Set(d));u(null)},canBeNew:!n.isNew}),(0,r.jsxs)(l.Text,{variant:"text-xs/normal",color:"text-muted",className:vG().helpText,children:[g," ",b]})]})})}function wG(e){var t,n=e.prompt,i=e.guild,a=AG(o.useState(null),2),c=a[0],u=a[1],f=AG(o.useState(new Set),2),d=f[0],p=f[1],h=null==n||null===(t=n.options)||void 0===t?void 0:t.filter((function(e){return d.has(e.id)})),E=(0,pS.L6)(h),y=(0,pS.dX)(h),m=(0,s.Wu)([RU.Z],(function(){return RU.Z.getOnboardingResponsesForPrompt(i.id,n.id)})),_=GU({guild:i,prompt:n,selectedRoleIds:E,selectedChannelIds:y,itemHook:function(e,t){return(0,r.jsx)(l.Text,{variant:"text-xs/medium",
color:"header-primary",children:e},t)}}),g=_.helpText,b=_.helpTextAdditional,v=DU(i.id).handleSelectOption,O=(0,l.useToken)(br.Z.unsafe_rawColors.BRAND_500),I=(0,RA.useSpring)({from:{color:n.isNew?O.hex({opacity:1}):O.hex({opacity:0})},color:O.hex({opacity:0}),config:{duration:300},delay:500});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(RA.animated.div,{className:vG().prompt,style:{borderColor:I.color},children:[n.isNew&&(0,r.jsx)(Bt.IG,{color:(0,OU.Lq)(w.Ilk.BRAND_260),text:Q.Z.Messages.NEW,className:vG().newBadge}),(0,r.jsxs)(l.Heading,{className:vG().promptTitle,variant:"heading-md/semibold",color:"header-primary",children:[n.title,n.required?(0,r.jsx)("span",{className:ze()(vG().required,TG({},vG().error,(null==c?void 0:c.type)===RG)),children:"*"}):null]}),(0,r.jsx)("div",{className:vG().promptOptions,children:n.options.map((function(e){return(0,r.jsx)(oG,{hideMemberCount:!0,guildId:i.id,option:e,onSelect:function(t){return function(e,t){if(t||1!==m.length||!n.required){
v(n,e,null!=t&&t);n.singleSelect&&t&&n.options.forEach((function(e){return d.delete(e.id)}));t?d.add(e.id):d.delete(e.id);p(new Set(d));u(null)}else u({type:RG})}(e,t)},selected:m.includes(e.id),canBeNew:!n.isNew},e.id)}))}),(0,r.jsxs)(l.Text,{variant:"text-xs/normal",color:"text-muted",className:vG().helpText,children:[g," ",b]})]})})}function xG(e){var t=e.guildId,n=e.onBrowseChannels,i=(0,Io.wj)((0,To.ZP)()),a=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),u=(0,MI.Z)("(min-width: 1344px)")&&null!=c,f=o.useCallback((function(){(0,K.uL)(w.Z5c.CHANNEL(t,LS.oC.CHANNEL_BROWSER));null==n||n()}),[t,n]),d=(0,s.e7)([CU.ZP],(function(){return CU.ZP.hasUnread(t,gG.W.GUILD_ONBOARDING_QUESTION)})),p=function(e){var t=(0,Ve.Wu)([RU.Z],(function(){return RU.Z.getEnabledOnboardingPrompts(e)}));return o.useMemo((function(){for(var e=0,n=[],r=[],o=[],i=[],a=0;a<t.length;a++){var s=t[a]
;if(s.isNew)n.push(s);else if(s.hasNewAnswers){r.push(s);e+=s.options.filter((function(e){return e.isUnseen})).length}else s.inOnboarding?i.push(s):o.push(s)}return{onboardingPromptsRaw:t,newOnboardingPrompts:n,onboardingPromptsWithNewAnswers:r,newAnswersCount:e,onboardingPrompts:o.concat(i)}}),[t])}(t),h=p.onboardingPromptsRaw,E=p.newOnboardingPrompts,y=p.onboardingPromptsWithNewAnswers,m=p.newAnswersCount,_=p.onboardingPrompts;o.useEffect((function(){null!=(null==a?void 0:a.id)&&(Bj.Z.isFullServerPreview(a.id)||(RU.Z.shouldFetchPrompts(a.id)||d)&&(0,PU.eM)(a.id))}),[null==a?void 0:a.id,d]);o.useEffect((function(){if(null!=(null==a?void 0:a.id)&&!Bj.Z.isFullServerPreview(a.id))return function(){(0,SE.Ju)(a.id,gG.W.GUILD_ONBOARDING_QUESTION,RU.Z.ackIdForGuild(a.id));AU.Z.updateOnboardingResponses(a.id)}}),[null==a?void 0:a.id]);var g=o.useCallback((function(e){if(null==a)return null;switch(e.type){case _G.FN.MULTIPLE_CHOICE:return(0,r.jsx)(wG,{prompt:e,guild:a},e.id)
;case _G.FN.DROPDOWN:return(0,r.jsx)(MG,{prompt:e,guild:a},e.id);default:(0,kr.vE)(e.type)}}),[a]);if(null==a)return null;if(0===h.length){var b=(0,OU.Lq)(i?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500),v=(0,OU.Lq)(i?w.Ilk.PRIMARY_700:w.Ilk.PRIMARY_230);return(0,r.jsx)("div",{className:hT().chat,children:(0,r.jsx)("div",{className:ze()(hT().content,vG().emptyPage),children:(0,r.jsxs)("div",{className:vG().emptyContainer,children:[(0,r.jsx)(VU,{className:vG().emptyIcon,foregroundColor:b,backgroundColor:v}),(0,r.jsx)(l.Heading,{className:vG().emptyHeader,variant:"heading-md/semibold",children:Q.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_HEADER}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",children:Q.Z.Messages.CUSTOMIZE_COMMUNITY_EMPTY_SUBHEADER.format({onBrowseChannels:f})})]})})})}return(0,r.jsx)("div",{className:ze()(hT().chat,vG().scrollerContainer),children:(0,r.jsxs)(l.AdvancedScroller,{className:vG().scroller,fade:!0,children:[(0,r.jsxs)("div",{className:vG().pageBody,
children:[(E.length>0||y.length>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-primary",children:Q.Z.Messages.ONBOARDING_PROMPT_ANSWERS_NEW.format({count:E.length+m})})}),E.map(g),y.map(g),(0,r.jsx)("div",{className:vG().sectionSeparator})]}),_.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",color:"header-primary",children:Q.Z.Messages.ONBOARDING_PROMPT_QUESTIONS_HEADER.format({count:_.length})}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",children:Q.Z.Messages.ONBOARDING_PROMPT_MEMBER_DESCRIPTION})]}),_.map(g)]})]}),u&&(0,r.jsx)(jG,{guild:a,user:c})]})})}var LG=n(142665),DG=n.n(LG);function ZG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UG(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function GG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ZG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZG(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kG(e){var t=e.guild,n=e.previousChannel,i=(0,_U.Z)(t);o.useEffect((function(){(0,
xs.EW)(ws.z$.CHANNEL_BROWSER_NEW_BADGE_NUX,{dismissAction:Us.L.DISMISS})}));var a=i?Q.Z.Messages.CHANNELS_AND_ROLES_HTML_TITLE.format({guildName:t.name}):Q.Z.Messages.CHANNEL_BROWSER_HTML_TITLE.format({guildName:t.name}),s=i?Q.Z.Messages.CHANNELS_AND_ROLES:Q.Z.Messages.CHANNEL_BROWSER_TITLE;(0,GO.Tt)({location:a});return(0,r.jsxs)(MS.Z,{className:DG().header,innerClassname:DG().innerHeader,hideSearch:!0,channelId:LS.oC.CUSTOMIZE_COMMUNITY,guildId:t.id,toolbar:null!=n?(0,r.jsx)(l.Button,{className:DG().returnButton,size:l.Button.Sizes.SMALL,look:l.Button.Looks.OUTLINED,color:l.Button.Colors.PRIMARY,onClick:function(){null!=n&&(0,K.XU)(t.id,n.id)},children:(0,r.jsx)(l.Text,{className:DG().returnButtonText,variant:"text-xs/medium",color:"none",children:Q.Z.Messages.RETURN_TO_CHANNEL.format({channelNameHook:function(){return null==n?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(jL._,{className:DG().returnIcon,guild:t,channel:n}),(0,r.jsx)(ML.Z,{children:(0,r.jsx)(l.Text,{
variant:"text-xs/medium",color:"none",children:n.name})})]},n.id)}})})}):[],children:[(0,r.jsx)(MS.Z.Icon,{icon:mU.Z,"aria-hidden":!0}),(0,r.jsx)(MS.Z.Title,{children:s})]})}function BG(e){var t=e.guildId,n=e.selectedSection,i=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),a=(0,_U.Z)(i),c=GG(o.useState(null!=n?n:_G.l7.CUSTOMIZE),2),u=c[0],f=c[1];o.useEffect((function(){null!=n&&f(n)}),[n]);var d=(0,s.e7)([A.Z],(function(){return A.Z.getLastSelectedChannelId(t)})),p=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getCurrentSidebarChannelId(LS.oC.CHANNEL_BROWSER)})),h=null!=p&&u===_G.l7.BROWSE,E=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(d)})),y=(0,s.e7)([AZ.Z],(function(){return AZ.Z.getNewChannelIds(t).size>0})),m=(0,SZ.fU)(t);return null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ze()(hT().chat,UG({},hT().threadSidebarOpen,h)),children:[(0,r.jsx)(kG,{guild:i,previousChannel:E}),(0,r.jsxs)("div",{className:ze()(hT().content,DG().container),
children:[a&&(0,r.jsxs)(l.TabBar,{className:DG().tabBar,type:"top",look:"brand",selectedItem:u,onItemSelect:function(e){return f(e)},children:[(0,r.jsx)(l.TabBar.Item,{className:DG().tabBarItem,id:_G.l7.CUSTOMIZE,children:Q.Z.Messages.OPT_IN_GUILD_NOTICE_CTA},_G.l7.CUSTOMIZE),(0,r.jsxs)(l.TabBar.Item,{className:DG().tabBarItem,id:_G.l7.BROWSE,"aria-label":Q.Z.Messages.CHANNEL_BROWSER_TITLE,children:[Q.Z.Messages.CHANNEL_BROWSER_TITLE,(0,r.jsx)(Bt.IG,{text:y?Q.Z.Messages.CHANNEL_TYPE_NEW:m,color:y?br.Z.unsafe_rawColors.BRAND_260.css:br.Z.colors.BACKGROUND_ACCENT.css,className:ze()(UG({},DG().newBadge,y))})]},_G.l7.BROWSE)]}),function(){switch(u){case _G.l7.CUSTOMIZE:return(0,r.jsx)(xG,{guildId:t,onBrowseChannels:function(){return f(_G.l7.BROWSE)}});case _G.l7.BROWSE:default:return(0,r.jsx)(yU,{guildId:t})}}()]})]}),h&&(0,r.jsx)(EU,{channelId:p})]})}var HG=n(788533),VG=n(832855),FG=n.n(VG);function YG(e){var t=e.guildId,n=e.channelId,i=o.useCallback((function(){if(null!=t&&null!=n){(0,
PU.I1)(t);(0,HG.default)({guildId:t,returnChannelId:n})}}),[t,n]);return(0,r.jsx)("div",{className:FG().container,children:(0,r.jsxs)("div",{className:FG().explainerContainer,children:[(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.ONBOARDING_ERROR_PAGE_TEXT}),(0,r.jsx)(l.Button,{onClick:i,children:(0,r.jsx)(l.Text,{variant:"text-md/medium",children:Q.Z.Messages.START_ONBOARDING})})]})})}var zG=n(465704),WG=n(302685),KG=n(48543),qG=n(362660),XG=n(189827),QG=n(529077);const $G=(0,it.B)({kind:"user",id:"2023-01_guild_onboarding_includes_rules",label:"Guild Onboarding includes rules experience",defaultConfig:{includeRules:!1},treatments:[{id:1,label:"Last page of onboarding is rules",config:{includeRules:!0}}]});var JG=n(742053),ek=n.n(JG);function tk(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tk(e,t,n[t])}))}return e}function rk(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ok(e,t){return(0,r.jsx)("span",{className:ek().helpTextItem,children:e},t)}function ik(e){return null!=e&&$G.getCurrentConfig({},{autoTrackExposure:!0}).includeRules}function ak(e){
var t=e.headerId,n=e.guild,o=e.step,i=e.lastPrompt,a=e.questionCount,s=e.currentPrompt,c=e.selectOption,u=e.gotoPrevPrompt,f=e.gotoNextPrompt,d=e.completeOnboarding,p=(0,Ve.Wu)([RU.Z],(function(){return RU.Z.getOnboardingResponsesForPrompt(n.id,s.id)})),h=0===p.length&&(null==s?void 0:s.required),E=null==s?void 0:s.options.filter((function(e){return p.includes(e.id)})),y=(0,pS.L6)(E),m=(0,pS.dX)(E),_=0===p.length,g=UU({guild:n,prompt:s,selectedRoleIds:y,selectedChannelIds:m,itemHook:ok}),b=g.helpText,v=g.helpTextAdditional,O=(0,zU.Z)(n.id,1e3),I=s.options.map((function(e){return nk({value:e.id},e)})),S=s.options.filter((function(e){return p.includes(e.id)})).map((function(e){return e.id}));return(0,r.jsx)("div",{className:ek().prompt,children:(0,r.jsxs)("div",{className:ek().promptContent,children:[(0,r.jsxs)(l.ScrollerThin,{className:ek().scrollerContent,children:[(0,r.jsxs)("div",{className:ek().questionHeader,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-muted",
children:Q.Z.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:o+1,questionCount:a})}),s.required?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:ek().headerSeparator,children:""}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-brand",children:Q.Z.Messages.ONBOARDING_PROMPT_REQUIRED_LABEL})]}):null]}),(0,r.jsx)(l.Heading,{className:ek().title,variant:"heading-xl/semibold",color:"header-primary",id:t,children:s.title}),(0,r.jsx)(mG,{options:I,value:S,onChange:function(e){var t=e.find((function(e){return!p.includes(e.id)})),n=e.map((function(e){return e.id}));if(null!=t)c(s.id,t.id,!0);else{var r=p.filter((function(e){return!n.includes(e)}));s.options.filter((function(e){return r.includes(e.id)})).forEach((function(e){c(s.id,e.id,!1)}))}},memberCounts:O})]}),(0,r.jsxs)("div",{className:ek().navButtons,children:[(0,r.jsx)("div",{className:ek().leftButtons,children:o>0&&(0,r.jsxs)(l.Button,{className:ek().button,
innerClassName:ek().buttonInner,onClick:function(){return u(p.length)},size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.OUTLINED,grow:!1,color:l.Button.Colors.PRIMARY,children:[(0,r.jsx)(BA.Z,{className:ek().arrow,direction:BA.Z.Directions.LEFT}),Q.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:ek().rightButtons,children:[(0,r.jsxs)(l.Text,{className:ek().helpText,variant:"text-xs/normal",color:"text-muted",children:[b," ",v]}),(0,r.jsx)(l.Tooltip,{text:h?Q.Z.Messages.ONBOARDING_REQUIRED_QUESTION:null,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(l.Button,{className:ek().button,innerClassName:ek().buttonInner,onMouseEnter:t,onMouseLeave:n,onClick:function(){return i?d():f(p.length)},disabled:h,size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.FILLED,grow:!1,color:_?l.Button.Colors.PRIMARY:l.Button.Colors.BRAND,children:i?(0,r.jsxs)(r.Fragment,{children:[Q.Z.Messages.FINISH,(0,r.jsx)("span",{className:ek().finishEmoji,role:"img","aria-hidden":!0,children:""
})]}):(0,r.jsxs)(r.Fragment,{children:[_?Q.Z.Messages.SKIP:Q.Z.Messages.NEXT,(0,r.jsx)(BA.Z,{className:ek().arrow,direction:BA.Z.Directions.RIGHT})]})})}})]})]})]})})}function sk(e){var t=e.headerId,n=e.guild,o=e.step,i=e.lastPrompt,a=e.questionCount,s=e.currentPrompt,c=e.selectOption,u=e.gotoPrevPrompt,f=e.gotoNextPrompt,d=e.completeOnboarding,p=(0,Ve.Wu)([RU.Z],(function(){return RU.Z.getOnboardingResponsesForPrompt(n.id,s.id)})),h=0===p.length&&(null==s?void 0:s.required),E=null==s?void 0:s.options.filter((function(e){return p.includes(e.id)})),y=(0,pS.L6)(E),m=(0,pS.dX)(E),_=0===p.length,g=UU({guild:n,prompt:s,selectedRoleIds:y,selectedChannelIds:m,itemHook:ok}),b=g.helpText,v=g.helpTextAdditional;return(0,r.jsx)("div",{className:ek().prompt,children:(0,r.jsxs)("div",{className:ek().promptContent,children:[(0,r.jsxs)(l.ScrollerThin,{className:ek().scrollerContent,children:[(0,r.jsxs)("div",{className:ek().questionHeader,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",
color:"text-muted",children:Q.Z.Messages.ONBOARDING_QUESTION_COUNT.format({currentQuestion:o+1,questionCount:a})}),s.required?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:ek().headerSeparator,children:""}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-brand",children:Q.Z.Messages.ONBOARDING_PROMPT_REQUIRED_LABEL})]}):null]}),(0,r.jsx)(l.Heading,{className:ek().title,variant:"heading-xl/semibold",color:"header-primary",id:t,children:s.title}),(0,r.jsx)("div",{className:ek().promptOptions,children:s.options.map((function(e){return(0,r.jsx)(oG,{guildId:n.id,option:e,onSelect:function(t){return c(s.id,e.id,null!=t&&t)},selected:p.includes(e.id)},e.id)}))})]}),(0,r.jsxs)("div",{className:ek().navButtons,children:[(0,r.jsx)("div",{className:ek().leftButtons,children:o>0&&(0,r.jsxs)(l.Button,{className:ek().button,innerClassName:ek().buttonInner,onClick:function(){return u(p.length)},size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.OUTLINED,
grow:!1,color:l.Button.Colors.PRIMARY,children:[(0,r.jsx)(BA.Z,{className:ek().arrow,direction:BA.Z.Directions.LEFT}),Q.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:ek().rightButtons,children:[(0,r.jsxs)(l.Text,{className:ek().helpText,variant:"text-xs/normal",color:"text-muted",children:[b," ",v]}),(0,r.jsx)(l.Tooltip,{text:h?Q.Z.Messages.ONBOARDING_REQUIRED_QUESTION:null,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(l.Button,{className:ek().button,innerClassName:ek().buttonInner,onMouseEnter:t,onMouseLeave:n,onClick:function(){return i?d():f(p.length)},disabled:h,size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.FILLED,grow:!1,color:_?l.Button.Colors.PRIMARY:l.Button.Colors.BRAND,children:i?(0,r.jsxs)(r.Fragment,{children:[Q.Z.Messages.FINISH,(0,r.jsx)("span",{className:ek().finishEmoji,role:"img","aria-hidden":!0,children:""})]}):(0,r.jsxs)(r.Fragment,{children:[_?Q.Z.Messages.SKIP:Q.Z.Messages.NEXT,(0,r.jsx)(BA.Z,{className:ek().arrow,
direction:BA.Z.Directions.RIGHT})]})})}})]})]})]})})}function lk(e){var t=e.guild,n=e.prompts,i=e.step,a=e.selectOption,s=e.completeOnboarding,l=e.setCurrentStep,c=e.headerId,u=e.disableTracking,f=(0,Ve.ZP)([Zw.Z],(function(){return Zw.Z.getRulesPrompt(t.id)}));o.useEffect((function(){Dw.Z.fetchVerificationForm(t.id)}),[t.id]);var d=n[i],p=i+1>=n.length&&!ik(f),h=n[0].required;o.useEffect((function(){u||Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_VIEWED,rk(nk({},(0,UI.hH)(t.id)),{step:0,required:h}))}),[t.id,h,u]);var E=function(e){if(!u){Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_COMPLETED,rk(nk({},(0,UI.hH)(t.id)),{step:i,options_selected:e,skipped:0===e,back:!1,in_onboarding:!0,is_final_step:!1}));i<n.length-1&&Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_VIEWED,rk(nk({},(0,UI.hH)(t.id)),{step:i,required:n[i+1].required}))}i+1<n.length?l(i+1):ik(f)&&l("rules")},y=function(e){if(!u){Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_COMPLETED,rk(nk({},(0,UI.hH)(t.id)),{step:i,
skipped:!1,back:!0,options_selected:e,in_onboarding:!0,is_final_step:!1}));i>0&&Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_VIEWED,rk(nk({},(0,UI.hH)(t.id)),{step:i-1,required:n[i-1].required}))}l(Math.max(0,i-1))};if(null==d)return null;switch(d.type){case _G.FN.MULTIPLE_CHOICE:return(0,r.jsx)(sk,{guild:t,headerId:c,step:i,questionCount:n.length,currentPrompt:d,lastPrompt:p,selectOption:a,gotoPrevPrompt:y,gotoNextPrompt:E,completeOnboarding:s});case _G.FN.DROPDOWN:return(0,r.jsx)(ak,{guild:t,headerId:c,step:i,questionCount:n.length,currentPrompt:d,lastPrompt:p,selectOption:a,gotoPrevPrompt:y,gotoNextPrompt:E,completeOnboarding:s});default:(0,kr.vE)(d.type)}}function ck(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function fk(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){uk(i,r,o,a,s,"next",e)}function s(e){uk(i,r,o,a,s,"throw",e)}a(void 0)}))}}function dk(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dk(e,t,n[t])}))}return e}function hk(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function Ek(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ck(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function mk(e){
var t,n=e.guild,i=e.prompts,a=e.completeOnboarding,s=e.setCurrentStep,c=e.disableTracking,u=e.previousPromptIndex,f=function(e){Ek(e,1)[0].isIntersecting&&y(!0)},d=o.useRef(null),p=(0,Ve.ZP)([Zw.Z],(function(){return Zw.Z.getRulesPrompt(n.id)})),h=Ek(o.useState(null!==(t=null==p?void 0:p.response)&&void 0!==t&&t),2),E=h[0],y=h[1],m=(0,Ve.ZP)([Zw.Z],(function(){return Zw.Z.get(n.id)})),_=(0,To.ZP)(),g=o.useRef(null),b=o.useRef(null),v=(0,Io.wj)(_)?"linear-gradient(to top, rgba(54, 57, 63, 1), rgba(54, 57, 63, 0))":"linear-gradient(to top, rgba(242, 243, 245, 1), rgba(242, 243, 245, 0))",O=o.useCallback(fk((function(){return yk(this,(function(e){switch(e.label){case 0:if(null==m||null==p)return[2];e.label=1;case 1:e.trys.push([1,3,,4]);return[4,Dw.Z.submitVerificationForm(n.id,hk(pk({},m),{formFields:[hk(pk({},p),{response:E})]}))];case 2:e.sent();return[3,4];case 3:e.sent();return[3,4];case 4:a();return[2]}}))})),[n.id,m,p,E,a]);o.useEffect((function(){var e=new IntersectionObserver(f,{
root:g.current,rootMargin:"0px",threshold:0}),t=b.current;null!=t&&null!=t.lastElementChild&&e.observe(t.lastElementChild);return function(){null!=t&&null!=t.lastElementChild&&e.unobserve(t.lastElementChild)}}),[b,g]);return null==p?null:(0,r.jsx)("div",{className:ek().prompt,children:(0,r.jsxs)("div",{className:ek().promptContent,ref:g,children:[(0,r.jsxs)(l.AdvancedScrollerThin,{className:ek().scrollerContent,ref:d,children:[(0,r.jsx)(l.Text,{variant:"text-sm/medium",color:"text-muted",children:Q.Z.Messages.ONBOARDING_RULES_STEP}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",children:Q.Z.Messages.ONBOARDING_RULES_TITLE}),(0,r.jsx)("div",{className:ek().termsFieldBody,ref:b,children:p.values.map((function(e,t){return(0,r.jsxs)("div",{className:ek().termsRow,children:[(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"text-muted",children:"".concat(t+1,".")}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:ek().termsRowContent,
children:QS.Z.parseGuildVerificationFormRule(e,!0,{channelId:n.rulesChannelId})})]},"term-".concat(t))}))})]}),(0,r.jsx)("div",{className:ek().overlay,style:{background:v}}),(0,r.jsxs)("div",{className:ek().navButtons,children:[(0,r.jsx)("div",{className:ek().leftButtons,children:-1!==u&&(0,r.jsxs)(l.Button,{innerClassName:ek().buttonInner,onClick:function(){if(!c){Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_COMPLETED,hk(pk({},(0,UI.hH)(n.id)),{step:-1,skipped:!1,back:!0,options_selected:0,in_onboarding:!0,is_final_step:!1}));u>=0&&Oe.default.track(w.rMx.GUILD_ONBOARDING_STEP_VIEWED,hk(pk({},(0,UI.hH)(n.id)),{step:u,required:i[u].required}))}s(u)},size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.OUTLINED,grow:!1,color:l.Button.Colors.PRIMARY,children:[(0,r.jsx)(BA.Z,{className:ek().arrow,direction:BA.Z.Directions.LEFT}),Q.Z.Messages.BACK]})}),(0,r.jsxs)("div",{className:ek().rightButtons,children:[(0,r.jsx)(l.Text,{className:ek().helpText,variant:"text-xs/normal",color:"text-muted",
children:E?Q.Z.Messages.MEMBER_VERIFICATION_READ_AGREE_RULES:Q.Z.Messages.MEMBER_VERIFICATION_MUST_READ_RULES}),(0,r.jsxs)(l.Button,{innerClassName:ek().buttonInner,onClick:O,disabled:!E,size:l.Button.Sizes.MEDIUM,look:l.Button.Looks.FILLED,grow:!1,color:l.Button.Colors.BRAND,children:[Q.Z.Messages.FINISH,(0,r.jsx)("span",{className:ek().finishEmoji,role:"img","aria-hidden":!0,children:""})]})]})]})]})})}var _k=n(196583),gk=n.n(_k);function bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vk(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ok(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vk(i,r,o,a,s,"next",e)}function s(e){vk(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ik(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Sk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Tk(){return(Tk=Ok((function(e){var t;return Sk(this,(function(n){
switch(n.label){case 0:return[4,new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous";r.onerror=function(e){n(e);r.onerror=r.onload=null;r=null};r.onload=function(){t((0,Dd.XN)(r,2,10));r.onerror=r.onload=null;r=null};r.src=e}))];case 1:return[2,null==(t=n.sent())?void 0:t.map((function(e){var t=Ik(e,3),n=t[0],r=t[1],o=t[2];return(0,qG.vq)(n,r,o)}))]}}))}))).apply(this,arguments)}function Nk(e){var t=e.guildId,n=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),i=(0,jI.Z)(),a=i.ref,c=i.width,u=i.height,d=Ik(o.useState(),2),p=d[0],h=d[1],y=(0,s.Wu)([RU.Z],(function(){return RU.Z.getOnboardingPromptsForOnboarding(t)})),m=(0,s.e7)([RU.Z],(function(){return RU.Z.getEnabled(t)})),_=o.useCallback((function(e,n,r){AU.Z.selectOption(t,e,n,r)}),[t]),g=o.useCallback((function(){AU.Z.completeOnboarding(t,y)}),[t,y]),b=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),v=o.useMemo((function(){return null==b?null:rn.ZP.getGuildSplashURL({id:b.id,splash:b.splash})
}),[b]),O=(0,s.e7)([XG.ZP],(function(){return XG.ZP.getCurrentOnboardingStep(t)})),I=Ik(o.useState(null!=v?null:"cover"),2),S=I[0],T=I[1];null!=v&&null==p&&function(e){return Tk.apply(this,arguments)}(v).then((function(e){h(e[0])}));var N=o.useCallback((function(e){T(O);AU.Z.setUserOnboardingStep(t,e)}),[t,O]),C=(0,s.e7)([Bj.Z],(function(){return Bj.Z.isFullServerPreview(t)})),A=(0,s.e7)([XG.ZP],(function(){return XG.ZP.getOnboardingStatus(t)})),P=null!=y&&y.length>0,R=o.useCallback((function(){(0,XG.kp)(A)&&m&&P?N(0):g()}),[A,m,P,N,g]);o.useEffect((function(){if(!XG.ZP.shouldShowOnboarding(t))return f.Z.escapeToDefaultChannel(t);(0,WG.E)(t)}),[t]);var j=(0,RA.useTransition)(O,{config:RA.config.default,from:{scale:.8,opacity:0},enter:{scale:1,opacity:1},immediate:n||"cover"!==S&&null!==S}),M=XG.ZP.shouldShowOnboarding(t),x=null==b;o.useEffect((function(){if(!M||x){var e=setTimeout((function(){0;(0,K.uL)(w.Z5c.CHANNEL(t))}),1e3);return function(){return clearTimeout(e)}}}),[M,x,t])
;if(!XG.ZP.shouldShowOnboarding(t))return null;if(null==b)return null;var L=function(){switch(O){case"cover":return(0,r.jsx)(QG.ZP,{guild:b,onboardingStatus:XG.uX.READY,onStart:R,disableTracking:C});case"rules":return(0,r.jsx)(mk,{setCurrentStep:N,previousPromptIndex:y.length-1,guild:b,prompts:y,completeOnboarding:g,disableTracking:C});case null:return null;default:return(0,r.jsx)(lk,{guild:b,prompts:y,step:O,selectOption:_,completeOnboarding:g,setCurrentStep:N,disableTracking:C})}};return(0,r.jsxs)("div",{className:gk().main,ref:a,children:[null!=v?(0,r.jsx)(KG.Z,{className:ze()(gk().artwork),src:v,width:c,height:u,imageClassName:gk().cover}):(0,r.jsx)(zG.Z,{className:gk().artwork,preserveAspectRatio:"xMinYMin slice"}),null!=p&&(0,r.jsx)("div",{className:gk().gradient,style:{background:"linear-gradient(180deg, ".concat((0,qG.aD)(p,.16)," 0%, ").concat((0,qG.aD)(p,1)," 100%)")}}),(0,r.jsx)("div",{className:gk().gradient}),j((function(e,t,n){var o=n.key;return(0,r.jsx)(RA.animated.div,{
style:e,children:L()},o)})),"cover"===O&&(0,r.jsx)("div",{className:gk().bottomCenterContent,children:(0,r.jsx)(l.Heading,{variant:"heading-sm/normal",color:"header-secondary",children:Q.Z.Messages.ONBOARDING_COVER_PRIVACY_POLICY.format({privacyLink:w.EYA.PRIVACY})})})]})}var Ck=n(710965),Ak=n(202176),Pk=n(198895),Rk=n(615796),jk=n(547721),Mk=n(783423),wk=n(772040),xk=n(973935),Lk=n(142926),Dk=n(840249),Zk=n(383163),Uk=n(936337),Gk=n(202833),kk=n.n(Gk);function Bk(e){var t=e.buttonText,n=e.onGoBack,o=e.onDismiss,i=e.showCloseButton;return(0,r.jsxs)(Uk.ZP,{className:kk().backNotice,children:[i&&(0,r.jsx)(Uk.Ry,{onClick:o,noticeType:w.kVF.BACK_TO_PREVIOUS_SCREEN}),(0,r.jsxs)(l.Button,{className:kk().backButton,innerClassName:kk().backButtonInner,look:l.Button.Looks.OUTLINED,color:l.Button.Colors.WHITE,size:l.Button.Sizes.NONE,onClick:n,children:[(0,r.jsx)(nt.Z,{width:16,height:16,direction:nt.Z.Directions.LEFT,className:kk().backArrow}),t]})]})}
var Hk=n(223430),Vk=n(436622),Fk=n(371768),Yk=n(249052),zk=n(534681),Wk=n(543491),Kk=n(340562),qk=n(856744),Xk=n(707276),Qk=n.n(Xk);function $k(e){var t,n,o=e.value,i=e.type;if(0===o)return null;if(i===qk.Qs.CHANNEL){t=Vk.Z;n=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CHANNEL_BENEFIT_PREVIEW.format({value:o})}else{if(i!==qk.Qs.INTANGIBLE)throw new Error("Unsupported benefit type");t=Fk.Z;n=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_INTANGIBLE_BENEFIT_PREVIEW.format({value:o})}return(0,r.jsxs)(l.Text,{variant:"text-sm/normal",color:"interactive-normal",className:Qk().benefitSummary,children:[(0,r.jsx)(t,{className:Qk().benefitIcon})," ",n]})}function Jk(e){var t=e.listing,n=t.subscription_plans[0],o=(0,zk._W)(t.application_id,t.image_asset,40),i=t.role_benefits.benefits.filter((function(e){return e.ref_type===qk.Qs.CHANNEL})).length,a=t.role_benefits.benefits.filter((function(e){return e.ref_type===qk.Qs.INTANGIBLE})).length,s=i+a>0;return(0,r.jsxs)("div",{
className:Qk().listingPreview,children:[(0,r.jsx)("img",{src:o,alt:"",className:Qk().listingPreviewImage}),(0,r.jsxs)("div",{className:Qk().listingPreviewText,children:[(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"interactive-active",children:t.name}),(0,r.jsx)(Hk.Z,{size:2}),(0,r.jsxs)(l.Text,{variant:"text-sm/normal",color:"interactive-normal",children:[(0,Yk.T4)(n.price,n.currency)," / ",(0,Wk.JE)(n)]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Hk.Z,{size:12}),(0,r.jsxs)("div",{className:Qk().benefitSummaries,children:[(0,r.jsx)($k,{type:qk.Qs.CHANNEL,value:i}),(0,r.jsx)($k,{type:qk.Qs.INTANGIBLE,value:a})]})]})]})]})}function eB(e){var t=e.groupListing,n=e.onSelectGroup,o=(0,jk._k)(t.id),i=(0,s.e7)([Bj.Z],(function(){return Bj.Z.isViewingSubscriptionRoles(t.guild_id)})),a=o.filter((function(e){return i||e.published})),c=(0,MI.Z)(qk.iP),u=(0,q.Dt)(),f=(0,q.Dt)();return 0===a.length?null:(0,r.jsx)("article",{className:Qk().container,"aria-labelledby":u,children:(0,
r.jsxs)(l.HeadingLevel,{component:(0,r.jsx)(l.Heading,{variant:"heading-lg/semibold",id:u,children:t.name}),children:[(0,r.jsx)(Hk.Z,{size:8}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:t.description}),(0,r.jsx)("div",{className:Qk().divider}),(0,r.jsx)(l.Heading,{variant:"heading-deprecated-12/semibold",className:Qk().sectionHeader,id:f,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_AVAILABLE_TIERS.format({numTiers:a.length})}),c?(0,r.jsx)("ul",{className:Qk().subscriptionCardContainer,"aria-labelledby":f,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(Kk.Z,{guildId:t.guild_id,groupListingId:t.id,listingId:e.id,analyticsLocation:w.Sbl.ROLE_SUBSCRIPTIONS_TAB},e.id)},e.id)}))}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ul",{className:Qk().listingPreviews,"aria-labelledby":f,children:a.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(Jk,{listing:e},e.id)},e.id)}))}),(0,r.jsx)(Hk.Z,{size:24}),(0,r.jsx)(l.Button,{
onClick:n,fullWidth:!0,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_GROUP_CARD_CTA})]})]})})}var tB=n(341095),nB=n(506847),rB=n(805537),oB=n(504834),iB=n(196142);function aB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aB(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lB(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uB(e){var t=cB(function(){var e=(0,jI.Z)(),t=e.ref,n=e.width,r=sB(o.useState(),2),i=r[0],a=r[1];o.useEffect((function(){null==i&&null!=n&&a(n)}),[i,n]);return[t,i]}(),2),n=t[0],r=t[1];return[n,null!=(null==e?void 0:e.application_id)&&null!=r?(0,zk._W)(e.application_id,e,r):void 0]}var fB=n(874669),dB=n.n(fB);function pB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return pB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EB(e){var t=e.coverImageAsset,n=e.title,o=e.guild,i=e.description,a=e.children,s=hB(uB(null!=t?t:void 0),2),c=s[0],u=s[1];return(0,r.jsxs)("div",{className:dB().container,children:[(0,r.jsx)("div",{ref:c,className:dB().coverImageContainer,children:null!=u&&(0,r.jsx)("img",{src:u,alt:"",className:dB().coverImage})}),(0,r.jsx)("div",{className:dB().guildIconContainer,children:(0,r.jsx)(Mo.Z,{guild:o,size:Mo.Z.Sizes.XLARGE})}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:dB().ctaTitle,children:n}),(0,
r.jsx)(l.Text,{className:dB().ctaSubtitle,variant:"text-md/normal",color:"header-secondary",children:i}),a]})}var yB=n(677296),mB=n.n(yB),_B=function(e){var t=e.subscription;if(null==t)return null;if(t.status===w.O0b.PAST_DUE){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Hk.Z,{size:16}),(0,r.jsx)(oB.Z,{message:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_WARNING,ctaMessage:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_USER_SUBSCRIPTION_PAST_DUE_CTA,onClick:function(){h.Z.open(w.oAB.SUBSCRIPTIONS,zb.cP)}})]})}return null};const gB=function(e){var t=e.guild,n=e.groupListing,o=e.singleGroupView,i=e.editGroupId;(0,rB.Z)({guildId:t.id,groupListingId:null==n?void 0:n.id,location:w.Sbl.ROLE_SUBSCRIPTIONS_TAB,relevantSubscriptionListingIds:null==n?void 0:n.subscription_listings_ids});var a,s,c,u=(0,nB.Z)(null==n?void 0:n.id).activeSubscription,f=(0,
jk.YB)(t.id),d=o?null==f?void 0:f.description:null==n?void 0:n.description,p=tB.B7(null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null,i).editStateIds;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(EB,{title:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:t.toString()}),description:null!=d?d:null,coverImageAsset:null!==(s=null==f?void 0:f.cover_image_asset)&&void 0!==s?s:null,guild:t,children:[null!=n?(0,r.jsx)(iB.Z,{className:mB().pendingPlanChangeNotice,groupListingId:n.id,subscription:u}):null,(0,r.jsx)(_B,{subscription:u})]}),(0,r.jsx)(l.HeadingLevel,{children:(0,r.jsx)(Zk.Z,{guildId:t.id,children:p.map((function(e){return(0,r.jsx)(Kk.Z,{guildId:t.id,groupListingId:null!==(c=null==n?void 0:n.id)&&void 0!==c?c:"",listingId:e,analyticsLocation:w.Sbl.ROLE_SUBSCRIPTIONS_TAB},e)}))})})]})};var bB="guild-role-subscription-overview-notice",vB=n(765037),OB=n.n(vB);function IB(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IB(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TB(e){var t=e.onGoBack,n=e.onDismiss,i=o.useMemo((function(){
return document.getElementById(bB)}),[]);return null==i?null:xk.createPortal((0,r.jsx)(Bk,{buttonText:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_BACK_TO_GROUPS_VIEW_CTA,onGoBack:t,onDismiss:n,showCloseButton:!1}),i)}function NB(e){var t=e.guild,n=(0,Lk.z5)(t.id),i=(0,jk.YB)(t.id),a=(0,jk.GG)(t.id),c=SB(o.useState(null),2),u=c[0],f=c[1],d=(0,s.e7)([Bj.Z],(function(){return Bj.Z.isViewingSubscriptionRoles(t.id)})),p=SB(o.useState(!1),2),h=p[0],E=p[1],y=(0,s.Wu)([Dk.Z],(function(){return a.filter((function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.subscription_listings_ids[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=Dk.Z.getSubscriptionListing(a);if(null!=s&&(d||s.published))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}))}),[a,d]);if(!n){var m=y[0];return null!=m||d?(0,r.jsx)(gB,{guild:t,groupListing:m,singleGroupView:!0,editGroupId:t.id}):null}var _,g,b=y.find((function(e){return e.id===u}))
;return null!=b?(0,r.jsxs)(r.Fragment,{children:[!h&&(0,r.jsx)(TB,{onGoBack:function(){return f(null)},onDismiss:function(){return E(!0)}}),(0,r.jsx)(gB,{guild:t,groupListing:b,singleGroupView:!1,editGroupId:b.id})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(EB,{title:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_PAGE_GROUP_CTA.format({serverName:t.toString()}),description:null!==(_=null==i?void 0:i.description)&&void 0!==_?_:null,coverImageAsset:null!==(g=null==i?void 0:i.cover_image_asset)&&void 0!==g?g:null,guild:t}),(0,r.jsx)(l.HeadingLevel,{children:(0,r.jsx)(Zk.Z,{className:OB().groupListings,guildId:t.id,children:y.map((function(e){return(0,r.jsx)(eB,{groupListing:e,onSelectGroup:function(){return f(e.id)}},e.id)}))})})]})}var CB,AB=n(447079),PB=n.n(AB),RB=n(302147),jB=n.n(RB);!function(e){e.GUILD_NOT_ELIGIBLE="guild_not_eligible";e.NOT_GUILD_MEMBER="not_guild_member"}(CB||(CB={}));var MB=function(e){var t=e.errorType;(0,Cg.Z)({type:W.nv.PAGE,
name:W.zs.ROLE_SUBSCRIPTION_LISTING_UPSELL_ERROR_PAGE,properties:{error_page_type:t}});return(0,r.jsx)("div",{className:PB().errorPageContainer,children:(0,r.jsxs)("div",{className:PB().errorPageContent,children:[(0,r.jsx)("img",{src:jB(),alt:"",className:PB().errorPageIllo}),(0,r.jsx)(l.Heading,{variant:"heading-xl/extrabold",className:PB().errorPageTitle,children:t===CB.GUILD_NOT_ELIGIBLE?Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_TITLE:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_TITLE}),(0,r.jsx)(l.Text,{variant:"text-md/normal",className:PB().errorPagSubtitle,children:t===CB.GUILD_NOT_ELIGIBLE?Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_GUILD_NOT_ELIGIBLE_SUBTITLE:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_ERROR_PAGE_NOT_GUILD_MEMBER_SUBTITLE})]})})},wB=n(10024),xB=n.n(wB),LB=n(691634),DB=n.n(LB);function ZB(){return(0,r.jsx)("div",{className:xB().container,children:(0,r.jsxs)("div",{
className:xB().content,children:[(0,r.jsx)("img",{src:DB(),alt:Q.Z.Messages.CREATOR_MONETIZATION_NOTICE_ILLO_A11Y_LABEL}),(0,r.jsx)(Hk.Z,{size:12}),(0,r.jsx)(l.Heading,{className:xB().header,variant:"heading-lg/semibold",children:Q.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_TITLE}),(0,r.jsx)(Hk.Z,{size:8}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",children:Q.Z.Messages.CREATOR_MONETIZATION_DISABLED_NOTICE_DESCRIPTION})]})})}var UB=n(452454),GB=n.n(UB);function kB(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function BB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kB(i,r,o,a,s,"next",e)}function s(e){kB(i,r,o,a,s,"throw",e)}a(void 0)}))}}function HB(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var VB=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}};const FB=function(e){var t=e.guildId,i=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)}),[t]),a=(0,s.e7)([Cl.Z],(function(){return Cl.Z.isConnected()})),c=(0,Ak.Z)(t),u=(0,Mk.Z)(t),f=(0,s.e7)([Rk.Z],(function(){return Rk.Z.isSubscriptionFetching})),d=(0,jk.tT)(null==i?void 0:i.id,{refetchOnMount:!0}).listingsLoaded,p=(0,Pk.VV)(t),h=p.shouldHideRoleSubscriptionPurchaseEntryPoints,E=p.restrictionsLoading,y=null==i||!d||f||E;(0,GO.Tt)({subsection:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL,location:null==i?void 0:i.name});(0,Ck.Z)(Qe.tq?"role-subscriptions-overview":void 0);var m=a&&(null==i||!(c||u)||h&&!E);o.useEffect((function(){by.jg()}),[]);o.useEffect((function(){if(m&&!Qe.tq){(0,l.openModalLazy)(BB((function(){var e,t;return VB(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(33086)]).then(n.bind(n,433086))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){HB(e,t,n[t])}))}return e}({},e))}]}}))})));if(A.Z.getChannelId(t)===LS.oC.ROLE_SUBSCRIPTIONS){var e;(0,K.dL)(w.Z5c.CHANNEL(t,null===(e=eT.ZP.getDefaultChannel(t))||void 0===e?void 0:e.id))}else(0,K.dL)(xv.Z.defaultRoute)}}),[t,m]);if(Qe.tq&&m){var _=null==i?CB.NOT_GUILD_MEMBER:CB.GUILD_NOT_ELIGIBLE;return(0,r.jsx)(MB,{errorType:_})}return(0,r.jsxs)("div",{className:GB().container,children:[(0,r.jsxs)(MS.Z,{toolbar:(0,r.jsx)(o.Fragment,{}),className:GB().headerBar,children:[(0,r.jsx)(MS.Z.Icon,{icon:wk.Z,"aria-hidden":!0}),(0,r.jsx)(MS.Z.Title,{children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL})]}),(0,r.jsx)("div",{id:bB}),(0,r.jsx)("div",{className:GB().content,children:c?(0,r.jsx)(l.ScrollerNone,{className:GB().scroller,
children:(0,r.jsx)("div",{className:GB().scrollerContent,children:y?(0,r.jsx)(l.Spinner,{}):(0,r.jsx)(NB,{guild:i})})}):(0,r.jsx)(ZB,{})})]})};var YB=n(661299),zB=n(516217),WB=n(966225),KB=(0,it.B)({kind:"user",id:"2023-03_activity_gartic_phone_coach_mark",label:"Activity Coach Mark Gartic Phone",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Activity Coach Mark Gartic Phone",config:{enabled:!0}}]}),qB=(0,it.B)({kind:"user",id:"2022-11_activitiesbashoutcoachmark",label:"Bash Out Coach Mark",defaultConfig:{enabled:!1},treatments:[{id:0,label:"Control",config:{enabled:!1}},{id:1,label:"Enable Bash Out Coach Mark",config:{enabled:!0}}]}),XB=n(19585);function QB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $B(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function JB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){$B(i,r,o,a,s,"next",e)}function s(e){$B(i,r,o,a,s,"throw",e)}a(void 0)}))}}function eH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return QB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QB(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nH=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function rH(e){var t=e.guildId,i=tH(o.useState(!1),2),a=i[0],s=i[1],c=(0,xs.wE)(ws.z$.APP_DIRECTORY_UPSELL_MODAL),u=st.useExperiment({},{autoTrackExposure:!c}).enabled,f=u&&!c;o.useEffect((function(){if(f&&!a){s(!0);Oe.default.track(w.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:ws.z$[ws.z$.APP_DIRECTORY_UPSELL_MODAL],guild_id:t});(0,l.openModalLazy)(JB((function(){var e,o;return nH(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(80664)]).then(n.bind(n,580664))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eH(e,t,n[t])}))}return e}({guildId:t},e))}]}}))})),{onCloseCallback:function(){return(0,xs.EW)(ws.z$.APP_DIRECTORY_UPSELL_MODAL,{forceTrack:!0,dismissAction:Us.L.AUTO,guildId:t})}})}}),[t,f,a]);var d=(0,Mb.QP)((function(e){return e.fullScreenLayers.length>0})),p=u&&c,h=d,E=(0,vs.bn)(ws.z$.APP_DIRECTORY_COACH_MARK);o.useEffect((function(){return function(){E&&(0,xs.EW)(ws.z$.APP_DIRECTORY_COACH_MARK,{dismissAction:Us.L.AUTO,guildId:t})}}),[t,E]);return{shouldRenderAppDirectoryCoachMark:p,hidesAppDirectoryCoachMark:h}}var oH=n(387099),iH=n(653224),aH=n(766496),sH=n(886077);function lH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cH(e){cH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return cH(e)}function uH(e,t){return!t||"object"!==dH(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fH(e,t){fH=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return fH(e,t)}var dH=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cH(e);if(t){var o=cH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uH(this,n)}}var hH={hiddenEventsAndStages:[]};function EH(e){var t=e.eventId,n=e.stageId;null==t&&null==n||b.Z.dispatch({type:"LIVE_CHANNEL_NOTICE_HIDE",eventId:t,stageId:n})}
var yH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&fH(e,t)}(n,e);var t=pH(n);function n(){lH(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&null!=e.hiddenEventsAndStages&&(hH=e)};r.isLiveChannelNoticeHidden=function(e){var t=e.eventId,n=e.stageId;return!(null==n||!hH.hiddenEventsAndStages.includes("stage-".concat(n)))||null!=t&&hH.hiddenEventsAndStages.includes("event-".concat(t))};r.getState=function(){return hH};r.__getLocalVars=function(){return{state:hH}};return n}(s.ZP.PersistedStore);yH.displayName="LiveChannelNoticesStore";yH.persistKey="liveChannelNotices_v2";const mH=new yH(b.Z,{LIVE_CHANNEL_NOTICE_HIDE:function(e){var t=e.eventId,n=e.stageId
;null!=t?hH.hiddenEventsAndStages.push("event-".concat(t)):null!=n&&hH.hiddenEventsAndStages.push("stage-".concat(n))},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id);!hH.hiddenEventsAndStages.includes(n)||t.status!==NC.p1.CANCELED&&t.status!==NC.p1.COMPLETED||(hH.hiddenEventsAndStages=hH.hiddenEventsAndStages.filter((function(e){return e!==n})))},GUILD_SCHEDULED_EVENT_DELETE:function(e){var t=e.guildScheduledEvent,n="event-".concat(t.id);hH.hiddenEventsAndStages.includes(n)&&(hH.hiddenEventsAndStages=hH.hiddenEventsAndStages.filter((function(e){return e!==n})))},STAGE_INSTANCE_DELETE:function(e){var t=e.instance,n="stage-".concat(t.id);hH.hiddenEventsAndStages.includes(n)&&(hH.hiddenEventsAndStages=hH.hiddenEventsAndStages.filter((function(e){return e!==n})))}});var _H=(0,it.B)({kind:"guild",id:"2021-10_study_group",label:"Student hub study group",defaultConfig:{enableStudyGroup:!1},treatments:[{id:1,label:"Enables study group sidebar",
config:{enableStudyGroup:!0}}]}),gH=function(e){o.useEffect((function(){null!=e&&e.hasFeature(w.oNc.HUB)&&_H.trackExposure({guildId:e.id})}),[e]);var t;return _H.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:!1,disable:null==e||!e.hasFeature(w.oNc.HUB)})};var bH=n(480983),vH=n(940455);function OH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IH(e){IH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return IH(e)}function SH(e,t){return!t||"object"!==NH(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TH(e,t){TH=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return TH(e,t)}var NH=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function CH(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=IH(e);if(t){var o=IH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SH(this,n)}}var AH="publicUpsellChannelNoticeGuilds",PH=new Set;var RH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&TH(e,t)}(n,e);var t=CH(n);function n(){OH(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ds.Z,In.Z,Ls.Z);this.syncWith([Ds.Z,In.Z,Ls.Z],w.dG4);var e;PH=null!==(e=new Set(ve.Z.get(AH)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null!=e){
var t=Ls.Z.getMemberCount(e.id);return!PH.has(e.id)&&null!=t&&t>=vH.U3&&Ds.Z.can(w.Plq.ADMINISTRATOR,e)&&!e.hasFeature(w.oNc.COMMUNITY)}};r.__getLocalVars=function(){return{PUBLIC_UPSELL_CHANNEL_NOTICE_GUILDS_KEY:AH,guildIds:PH}};return n}(s.ZP.Store);RH.displayName="EnablePublicGuildUpsellNoticeStore";const jH=new RH(b.Z,{PUBLIC_UPSELL_NOTICE_DISMISS:function(e){var t=e.guildId;if(!PH.has(t)){PH.add(t);ve.Z.set(AH,PH);return!0}}});var MH=n(985801),wH=n(930865);function xH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LH(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function DH(e){DH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return DH(e)}function ZH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){LH(e,t,n[t])}))}return e}function UH(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function GH(e,t){return!t||"object"!==BH(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kH(e,t){kH=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return kH(e,t)}var BH=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function HH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=DH(e);if(t){var o=DH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GH(this,n)}}var VH={},FH=function(){VH={lastDismissedGracePeriods:{},isVisible:{}}};FH();var YH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&kH(e,t)}(n,e);var t=HH(n);function n(){xH(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(VH=e)}
;r.getLastDismissedGracePeriodForGuild=function(e){return null!=VH.lastDismissedGracePeriods[e]?VH.lastDismissedGracePeriods[e]:null};r.isVisible=function(e){return null!=e&&(null!=VH.isVisible[e]&&VH.isVisible[e])};r.getState=function(){return VH};r.__getLocalVars=function(){return{state:VH,setDefaultState:FH}};return n}(s.ZP.PersistedStore);YH.displayName="GuildBoostingGracePeriodNoticeStore";YH.persistKey="PremiumGuildGracePeriodNoticeStore";YH.migrations=[function(e){return UH(ZH({},e),{lastDismissedGracePeriods:null!=e?ZH({},e.lastDismissedGracePeriods):{},isVisible:{}})}];const zH=new YH(b.Z,{GUILD_APPLIED_BOOSTS_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.appliedBoosts,r=null!=VH.lastDismissedGracePeriods[t]?VH.lastDismissedGracePeriods[t]:null,o=null!=r&&Date.now()-r<=w.Dge,i=null!=n&&!o&&(0,wH.Vx)(n,t);VH=UH(ZH({},VH),{isVisible:UH(ZH({},VH.isVisible),LH({},t,i))})},BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS:function(e){var t=e.guildId;VH=UH(ZH({},VH),{
lastDismissedGracePeriods:UH(ZH({},VH.lastDismissedGracePeriods),LH({},t,Date.now())),isVisible:UH(ZH({},VH.isVisible),LH({},t,!1))})}});function WH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KH(e){KH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return KH(e)}function qH(e,t){return!t||"object"!==QH(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function XH(e,t){XH=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return XH(e,t)}var QH=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))
;return!0}catch(e){return!1}}();return function(){var n,r=KH(e);if(t){var o=KH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qH(this,n)}}var JH=null;function eV(){var e=Y.default.getCurrentUser();if(null==e||e.mfaEnabled===JH)return!1;JH=e.mfaEnabled}var tV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&XH(e,t)}(n,e);var t=$H(n);function n(){WH(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Y.default,eT.ZP);this.syncWith([Y.default,eT.ZP],eV)};r.isVisible=function(e){return null!=e&&e.mfaLevel===w.BpS.ELEVATED&&!1===JH&&eT.ZP.hasElevatedPermissions(e.id)};r.__getLocalVars=function(){return{mfaEnabled:JH}};return n}(s.ZP.Store);tV.displayName="GuildMFAWarningStore";const nV=new tV(b.Z,{CONNECTION_OPEN:eV,
GUILD_UPDATE:function(){return!0}});function rV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oV(e){oV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return oV(e)}function iV(e,t){return!t||"object"!==sV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function aV(e,t){aV=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return aV(e,t)}var sV=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=oV(e);if(t){var o=oV(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iV(this,n)}}var cV={MAX_MEMBER_COUNT:new Set};var uV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&aV(e,t)}(n,e);var t=lV(n);function n(){rV(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ds.Z,In.Z,Ls.Z);this.syncWith([Ds.Z,In.Z,Ls.Z],w.dG4);ve.Z.remove(w.vID.MAX_MEMBER_COUNT_100);ve.Z.remove(w.vID.MAX_MEMBER_COUNT_250);var e;cV[w.vID.MAX_MEMBER_COUNT]=null!==(e=new Set(ve.Z.get(w.vID.MAX_MEMBER_COUNT)))&&void 0!==e?e:new Set};r.isVisible=function(e){if(null==e)return!1;var t,n=null!==(t=Ls.Z.getMemberCount(e.id))&&void 0!==t?t:0,r=Ds.Z.can(w.Plq.ADMINISTRATOR,e);return!cV[w.vID.MAX_MEMBER_COUNT].has(e.id)&&r&&e.maxMembers>0&&e.maxMembers-n<=1e4};r.__getLocalVars=function(){return{
CHANNEL_MEMBER_CAP_THRESHOLD:1e4,guildIds:cV}};return n}(s.ZP.Store);uV.displayName="MaxMemberCountChannelNoticeStore";const fV=new uV(b.Z,{MAX_MEMBER_COUNT_NOTICE_DISMISS:function(e){var t=e.guildId;if(!cV[w.vID.MAX_MEMBER_COUNT].has(t)){cV[w.vID.MAX_MEMBER_COUNT].add(t);ve.Z.set(w.vID.MAX_MEMBER_COUNT,cV[w.vID.MAX_MEMBER_COUNT]);return!0}}});var dV;!function(e){e[e.ENABLE_PUBLIC_GUILD=0]="ENABLE_PUBLIC_GUILD";e[e.APPLIED_GUILD_BOOST_GRACE_PERIOD=1]="APPLIED_GUILD_BOOST_GRACE_PERIOD";e[e.MAX_MEMBER_COUNT=2]="MAX_MEMBER_COUNT";e[e.GUILD_LIVE_CHANNEL=3]="GUILD_LIVE_CHANNEL";e[e.GUILD_MFA_WARNING=4]="GUILD_MFA_WARNING";e[e.COMMANDS_MIGRATION=5]="COMMANDS_MIGRATION";e[e.APPLICATION_SUBSCRIPTION_EXPIRATION=6]="APPLICATION_SUBSCRIPTION_EXPIRATION";e[e.HUB_STUDY_ROOM=7]="HUB_STUDY_ROOM"}(dV||(dV={}));function pV(e){var t,n=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",r=(0,s.cj)([MH.Z],(function(){return{appliedGuildBoosts:MH.Z.getAppliedGuildBoostsForGuild(n),
lastFetchedAt:MH.Z.getLastFetchedAtForGuild(n)}})).lastFetchedAt,i=(0,s.cj)([zH],(function(){return{lastDismissedGracePeriod:zH.getLastDismissedGracePeriodForGuild(n),isGracePeriodVisible:zH.isVisible(n)}})),a=i.lastDismissedGracePeriod,l=i.isGracePeriodVisible,c=(0,s.e7)([jH],(function(){return jH.isVisible(e)})),u=(0,s.e7)([fV],(function(){return fV.isVisible(e)})),f=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.ADMINISTRATOR,e)})),d=null!=a&&Date.now()-a<=w.Dge,p=null!=e?e.premiumSubscriberCount:0,h=(0,wH.rF)(p,n)!==w.Eu4.NONE,E=!(null!=r&&Date.now()-r<=432e5)&&(!d&&f&&h),y=function(e){var t,n=(0,sH.ZP)(e),r=S.Z.getChannel(null===(t=n[0])||void 0===t?void 0:t.id),o=(0,s.e7)([aH.Z],(function(){return aH.Z.getStageInstanceByChannel(null==r?void 0:r.id)}),[r]),i=(0,wN.k5)(e),a=(0,s.cj)([mH],(function(){return{isStageNoticeHidden:mH.isLiveChannelNoticeHidden({stageId:null==o?void 0:o.id}),isEventNoticeHidden:mH.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}
}),[o,i]),l=a.isStageNoticeHidden,c=a.isEventNoticeHidden;return null!=i?null!=o?!l:!c:null!=o&&!l}(n),m=(0,s.e7)([nV],(function(){return nV.isVisible(e)})),_=bH.Z.useShouldShowChannelNotice(n),g=(0,Cr.h6)(e),b=gH(e).enableStudyGroup,v=g.length>0,O=b&&!Boolean(null==e?void 0:e.hasFeature(w.oNc.HUB));o.useEffect((function(){var e=-1;E&&(e=window.setTimeout((function(){null!=n&&(0,iH.C0)(n)}),30*Math.random()*1e3));return function(){window.clearTimeout(e)}}),[n,E]);return c?dV.ENABLE_PUBLIC_GUILD:l?dV.APPLIED_GUILD_BOOST_GRACE_PERIOD:u?dV.MAX_MEMBER_COUNT:y?dV.GUILD_LIVE_CHANNEL:m?dV.GUILD_MFA_WARNING:_?dV.COMMANDS_MIGRATION:v?dV.APPLICATION_SUBSCRIPTION_EXPIRATION:O?dV.HUB_STUDY_ROOM:null}var hV=n(179138),EV=n(495085),yV=n(213013),mV=n(383950),_V=n(830001),gV=n(591406),bV=n(342147),vV=n(955514),OV=n(485911);function IV(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function SV(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){IV(i,r,o,a,s,"next",e)}function s(e){IV(i,r,o,a,s,"throw",e)}a(void 0)}))}}function TV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var NV=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function CV(e){var t,i=(0,bV.SE)(e),a=vH.$X.some((function(t){return(null==e?void 0:e.id)!==OV._&&Ch.ZP.canEveryone(t,e)})),s=(null==e?void 0:e.defaultMessageNotifications)===w.bL.ALL_MESSAGES,c=(0,vV.FT)(ws.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),u=i&&(a||s)&&!c,f=o.useCallback((function(){var t;(0,vV.Qd)(ws.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",!0,Us.L.DISMISS)}),[e]),d=o.useRef(!1);o.useEffect((function(){if(u&&!d.current){(0,l.openModalLazy)(SV((function(){var t,o;return NV(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(95937)]).then(n.bind(n,195937))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){TV(e,t,n[t])}))}return e}({guild:e,canEveryoneModerate:a,isDefaultNotificationsAllMessages:s},t))}]}}))})),{onCloseCallback:f});var t;Oe.default.track(w.rMx.DISMISSIBLE_CONTENT_SHOWN,{type:ws.CW[ws.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE],guild_id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""});d.current=!0}}),[a,e,f,s,u])}var AV=n(786765),PV=n(401598);var RV=n(603927);var jV=n(10390);function MV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wV(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xV(e){xV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xV(e)}function LV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wV(e,t,n[t])}))}return e}function DV(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ZV(e,t){
return!t||"object"!==GV(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UV(e,t){UV=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return UV(e,t)}var GV=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function kV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xV(e);if(t){var o=xV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZV(this,n)}}var BV="hasSeenGuildTemplatePromotionTooltip",HV={},VV=!0===ve.Z.get(BV);function FV(e){var t=e.guildId;HV=DV(LV({},HV),wV({},t,!1))}var YV=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&UV(e,t)}(n,e);var t=kV(n);function n(){MV(this,n);return t.apply(this,arguments)}var r=n.prototype;r.shouldShowGuildTemplateDirtyTooltip=function(e){var t;return null!==(t=HV[e])&&void 0!==t&&t};r.shouldShowGuildTemplatePromotionTooltip=function(){return!VV};r.__getLocalVars=function(){return{HAS_SEEN_GUILD_TEMPLATE_PROMOTION_TOOLTIP_KEY:BV,showGuildTemplateDirtyTooltipFlags:HV,seenGuildTemplatePromotionTooltip:VV}};return n}(s.ZP.Store);YV.displayName="GuildTemplateTooltipStore";const zV=new YV(b.Z,{GUILD_TEMPLATE_DIRTY_TOOLTIP_REFRESH:function(e){var t=e.guildTemplate;HV=DV(LV({},HV),wV({},t.source_guild_id,t.is_dirty||!1))},GUILD_TEMPLATE_PROMOTION_TOOLTIP_HIDE:function(){ve.Z.set(BV,!0);VV=!0},GUILD_TEMPLATE_SYNC_SUCCESS:function(e){
HV=DV(LV({},HV),wV({},e.guildTemplate.source_guild_id,!1))},GUILD_TEMPLATE_DIRTY_TOOLTIP_HIDE:FV,GUILD_TEMPLATE_DELETE_SUCCESS:FV});var WV=n(198325),KV=n(974771);var qV=n(700183),XV=n(156620),QV=n(305082),$V=n(455469),JV=n(964262),eF=n(151650);var tF,nF=n(536945),rF=n(736543),oF=n(361925),iF=n(620597),aF=n(953727),sF=n(507802),lF=n(26468),cF=n(582762),uF=n(691648),fF=n(786170),dF=n(456517),pF=n.n(dF);!function(e){e.BOOSTING="BOOSTING";e.NITRO="NITRO";e.BASH_OUT="BASH_OUT";e.GARTIC_PHONE="GARTIC_PHONE";e.GAME_NIGHT="GAME_NIGHT"}(tF||(tF={}));var hF="https://cdn.discordapp.com/attachments/860252504826445825/1029516100356018217/Activities_NUX_GL_1.mp4",EF="https://cdn.discordapp.com/attachments/887469171804356628/916446867586416660/activities-video-poster-512.png";var yF=function(e){var t=e.channelId,n=e.markAsDismissed,i=function(e){switch(e){case tF.BOOSTING:return{analyticsLocation:fp.Z.ACTIVITY_COACH_MARK_BOOSTING,analyticsType:"embedded_activity_discovery_tutorial",
description:Q.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_WTP_DESCRIPTION,learnMore:!0,title:Q.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_TITLE,videoPosterUrl:EF,videoUrl:hF,ctaText:Q.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:Q.Z.Messages.DISMISS};case tF.NITRO:return{analyticsLocation:fp.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"embedded_activity_nitro_discovery_tutorial",description:Q.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_DESCRIPTION,learnMore:!0,title:Q.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_NITRO_TITLE,videoPosterUrl:EF,videoUrl:hF,ctaText:Q.Z.Messages.EMBEDDED_ACTIVITIES_TRY_IT_OUT,dismissText:Q.Z.Messages.DISMISS};case tF.BASH_OUT:return{analyticsLocation:fp.Z.ACTIVITY_COACH_MARK_BASH_OUT,analyticsType:"embedded_activity_bash_out_tutorial",description:Q.Z.Messages.EMBEDDED_ACTIVITY_NOTICE_BASH_OUT_DESCRIPTION,learnMore:!1,title:Q.Z.Messages.EMBEDDED_ACTIVITIES_AVAILABLE_NOW,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037963592227635230/bash_out.jpg",
videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1037967755955146762/bash_out.mp4",ctaText:Q.Z.Messages.PLAY,dismissText:Q.Z.Messages.DISMISS};case tF.GARTIC_PHONE:return{analyticsLocation:fp.Z.ACTIVITY_COACH_MARK_GARTIC_PHONE,analyticsType:"embedded_activity_gartic_phone_tutorial",description:Q.Z.Messages.EMBEDDED_ACTIVITY_GARTIC_PHONE_DESCRIPTION,learnMore:!1,title:Q.Z.Messages.EMBEDDED_ACTIVITY_GARTIC_PHONE_TITLE,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1083484393609367563/23_023_GarticPhone_Web_Coachmark_English.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1083484048539779173/23_023_GarticPhone_Web_Coachmark_English.mp4",ctaText:Q.Z.Messages.PLAY_NOW,dismissText:Q.Z.Messages.MAYBE_LATER};case tF.GAME_NIGHT:return{analyticsLocation:fp.Z.ACTIVITIES_COACH_MARK_GAME_NIGHT,analyticsType:"embedded_activity_game_night_tutorial",description:Q.Z.Messages.EMBEDDED_ACTIVITIES_GAME_NIGHT_BODY,learnMore:!1,
title:Q.Z.Messages.EMBEDDED_ACTIVITIES_GAME_NIGHT_HEADING,videoPosterUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1093287297950175272/game_night_desktop.jpg",videoUrl:"https://cdn.discordapp.com/attachments/860252504826445825/1093286971708813382/game_night_desktop.mp4",ctaText:Q.Z.Messages.PLAY_NOW,dismissText:Q.Z.Messages.MAYBE_LATER};default:return{analyticsLocation:fp.Z.ACTIVITY_COACH_MARK_NITRO,analyticsType:"",description:"",learnMore:!1,title:"",videoPosterUrl:"",videoUrl:"",ctaText:"",dismissText:""}}}(e.tutorialType),a=i.analyticsLocation,c=i.analyticsType,u=i.ctaText,f=i.dismissText,d=i.description,p=i.learnMore,h=i.title,E=i.videoPosterUrl,y=i.videoUrl,m=(0,XB.Z)(a),_=m.analyticsLocations,g=m.AnalyticsLocationProvider;o.useEffect((function(){Oe.default.track(w.rMx.TOOLTIP_VIEWED,{type:c})}),[c]);var b=(0,lF.bp)()===w.IlC.POPOUT,v=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(t)}),[t]);return(0,r.jsx)(g,{children:(0,r.jsx)("div",{className:pF().wrapper,
children:(0,r.jsx)("div",{className:pF().container,children:(0,r.jsxs)("div",{className:pF().content,children:[(0,r.jsx)(fF.Z,{className:pF().video,src:y,poster:E,width:224,height:126,loop:!0,muted:!0,autoPlay:!0}),(0,r.jsx)("div",{className:pF().header,children:(0,r.jsx)(l.Heading,{className:pF().headerText,variant:"text-sm/bold",color:"always-white",children:h})}),(0,r.jsxs)(l.Text,{className:pF().subheaderText,variant:"text-xs/normal",color:"always-white",children:[d,p?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(l.Anchor,{className:pF().learnMoreLink,href:"https://support.discord.com/hc/articles/4422142836759",children:Q.Z.Messages.LEARN_MORE})]}):null]}),(0,r.jsxs)("div",{className:pF().ctaActionWrapper,children:[(0,r.jsx)(l.Button,{color:l.Button.Colors.BRAND,onClick:function(){n()},children:f}),(0,r.jsx)(l.Button,{color:l.Button.Colors.BRAND,look:l.Button.Looks.INVERTED,onClick:function(){n();if(null!=v){(0,uF.Z)({channel:v.isGuildVoice()?v:void 0,guildId:v.guild_id,
locationObject:{page:w.ZY5.GUILD_CHANNEL,section:w.jXE.GUILD_CHANNEL_LIST,object:w.qAy.ACTIVITIES_COACH_MARK,objectType:w.Qqv.ACTIVITY},openInPopout:b,analyticsLocations:_});(0,cF.w1)({guildId:v.guild_id})}},children:u})]})]})})})})},mF=n(63054),_F=n(692969),gF=n.n(_F),bF=n(694111),vF=n.n(bF);function OF(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_TITLE,content:Q.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_DESCRIPTION,asset:(0,r.jsx)("div",{className:gF().image,children:(0,r.jsx)("img",{alt:"",src:vF()})}),buttonCTA:Q.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_ACCEPT,onClick:function(e){!function(e,t){t&&Zl.Z.open(e.id,w.pNK.DISCOVERY_LANDING_PAGE)}(t,!0)},secondaryButtonCTA:Q.Z.Messages.DISCOVERY_LANDING_PAGE_UPSELL_BUTTON_DISMISS,onSecondaryClick:function(){},markAsDismissed:n})}var IF=n(718116),SF=n(741159),TF=n.n(SF);function NF(e){var t=e.onClick,n=e.onSecondaryClick,i=e.onComponentMount,a=e.markAsDismissed
;o.useEffect((function(){null==i||i()}),[i]);var s=o.useCallback((function(e){t(e);null==a||a(Us.L.PRIMARY)}),[t,a]),c=o.useCallback((function(){null==n||n();null==a||a(Us.L.SECONDARY)}),[n,a]);return(0,r.jsxs)("div",{className:TF().tooltipWrapper,children:[(0,r.jsx)(l.Heading,{className:TF().tooltipHeader,variant:"heading-md/semibold",children:Q.Z.Messages.SERVER_DISCOVERY_TOOLTIP_TITLE}),(0,r.jsx)(l.Text,{className:TF().tooltipText,variant:"text-sm/normal",children:Q.Z.Messages.SERVER_DISCOVERY_TOOLTIP_DESCRIPTION.format({count:IF.WZ})}),(0,r.jsxs)("div",{className:TF().buttonsContainer,children:[(0,r.jsx)(l.Button,{fullWidth:!0,size:l.Button.Sizes.SMALL,color:l.Button.Colors.BRAND,onClick:s,children:Q.Z.Messages.LEARN_MORE}),(0,r.jsx)(l.Button,{fullWidth:!0,size:l.Button.Sizes.SMALL,look:l.Button.Looks.BLANK,onClick:c,children:Q.Z.Messages.NO_THANKS})]})]})}var CF=n(311846),AF=n(743219),PF=n(894243),RF=n(442535),jF=n(983449),MF=n.n(jF);function wF(){var e=(0,RF.j)(!0);return(0,
r.jsx)("div",{children:(0,r.jsx)(l.Avatar,{src:e,size:l.AvatarSizes.SIZE_40,"aria-label":Q.Z.Messages.GUILD_AUTOMOD_USERNAME})})}function xF(e){var t=e.guildId,n=e.onDismissed,i=e.contentHeader,a=e.contentBody,s=e.acceptButtonText,c=e.dismissButtonText,u=e.imageHeader,f=e.analyticsTooltipViewedType,d=e.onAccept,p=e.onInitialized,h=null!=d?d:function(){n();Zl.Z.open(t,w.pNK.GUILD_AUTOMOD);Zl.Z.setSection(w.pNK.GUILD_AUTOMOD)};o.useEffect((function(){null!=p&&p()}),[p]);return(0,r.jsx)(iF.ZP,{className:MF().message,header:i,content:a,onComponentMount:function(){null!=f&&Oe.default.track(w.rMx.TOOLTIP_VIEWED,{type:f,location:{page:w.ZY5.GUILD_CHANNEL}})},asset:(0,r.jsx)("div",{className:MF().container,children:(0,r.jsxs)("div",{className:MF().card,children:[(0,r.jsx)(wF,{}),(0,r.jsxs)("div",{className:MF().content,children:[(0,r.jsxs)("div",{className:MF().name,children:[(0,r.jsx)(l.Text,{variant:"text-sm/semibold",color:"text-brand",className:MF().nameText,
children:null!=u?u:Q.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_ASSET_HEADER}),(0,r.jsx)(PF.Z,{width:16,height:16,color:CF.Z.BLUE_345,className:MF().shield})]}),(0,r.jsx)("div",{className:MF().spoiler})]})]})}),buttonCTA:null!=s?s:Q.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_CTA,onClick:h,secondaryButtonCTA:null!=c?c:Q.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_DISMISSAL,markAsDismissed:n})}function LF(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(xF,{guildId:t,onDismissed:n,contentHeader:Q.Z.Messages.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE_UPSELL_HEADER,contentBody:Q.Z.Messages.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE_UPSELL_CONTENT.format(),analyticsTooltipViewedType:"guild_automod_custom_block_message"})}function DF(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(xF,{guildId:t,onDismissed:n,imageHeader:Q.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_ASSET_HEADER,contentHeader:Q.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_HEADER,contentBody:Q.Z.Messages.GUILD_MENTION_RAID_LIMIT_UPSELL_CONTENT,
analyticsTooltipViewedType:"guild_mention_raid_limit",onAccept:function(){n();Zl.Z.open(t,w.pNK.GUILD_AUTOMOD);Zl.Z.setSection(w.pNK.GUILD_AUTOMOD,w.KsC.AUTOMOD_MENTION_SPAM)}})}function ZF(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(xF,{guildId:t,onDismissed:n,imageHeader:Q.Z.Messages.GUILD_ANTIRAID_UPSELL_ASSET_HEADER,contentHeader:Q.Z.Messages.GUILD_ANTIRAID_UPSELL_HEADER,contentBody:Q.Z.Messages.GUILD_ANTIRAID_UPSELL_CONTENT.format(),analyticsTooltipViewedType:"guild_anti_raid_upsell",dismissButtonText:Q.Z.Messages.GUILD_ANTIRAID_UPSELL_DISMISSAL,onAccept:function(){n();Zl.Z.open(t,w.pNK.MODERATION)},onInitialized:function(){AF.l.trackExposure({guildId:t})}})}function UF(e){var t=e.guildId,n=e.onDismissed;return(0,r.jsx)(xF,{guildId:t,onDismissed:n,contentHeader:Q.Z.Messages.AUTOMOD_USER_PROFILE_UPSELL_HEADER,contentBody:Q.Z.Messages.AUTOMOD_USER_PROFILE_UPSELL_CONTENT.format(),analyticsTooltipViewedType:"guild_automod_user_profile"})}
var GF=n(596801),kF=n(64300),BF=n.n(kF),HF=n(204186),VF=n.n(HF);function FF(e){var t=e.guildId,n=e.markAsDismissed,o=(0,Ve.ZP)([In.Z,Y.default],(function(){var e=Y.default.getCurrentUser(),n=In.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Cg.Z)({type:W.nv.POPOUT,name:W.zs.CREATOR_PROMO_PAGE_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{className:BF().container,children:(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_HEADER,content:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PROMO_PAGE_UPSELL_BODY,asset:(0,r.jsx)("div",{className:BF().image,children:(0,r.jsx)("img",{alt:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:VF(),className:BF().image})}),buttonCTA:Q.Z.Messages.CHECK_IT_OUT,onClick:function(){Zl.Z.open(t,w.pNK.ROLE_SUBSCRIPTIONS_STORE_PAGE)},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:n})})}var YF=n(513095),zF=n.n(YF);function WF(e){var t=e.guildId,n=e.markAsDismissed,o=(0,
Ve.ZP)([In.Z,Y.default],(function(){var e=Y.default.getCurrentUser(),n=In.Z.getGuild(t);return!0===(null==n?void 0:n.isOwner(e))}));(0,Cg.Z)({type:W.nv.POPOUT,name:W.zs.ENABLE_CREATOR_MONETIZATION_GUILD_HEADER_UPSELL,properties:{guild_id:t,is_owner:o}});return(0,r.jsx)("div",{className:zF().container,children:(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_HEADER,content:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_BODY,asset:(0,r.jsx)("div",{className:zF().image,children:(0,r.jsx)("img",{alt:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_UPSELL_IMG_ALT,src:DB(),className:zF().image})}),buttonCTA:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_UPSELL_CTA,onClick:function(){Zl.Z.open(t,w.pNK.ROLE_SUBSCRIPTIONS)},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:n})})}var KF=n(343963),qF=n.n(KF);function XF(e){var t=e.guildId,n=e.markAsDismissed;return(0,r.jsx)("div",{className:qF().container,children:(0,r.jsx)(iF.ZP,{
header:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_TITLE,content:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_BODY,asset:(0,r.jsx)(fF.Z,{className:qF().video,src:"https://cdn.discordapp.com/assets/server-subscription-tier-template/upsell.mov",autoPlay:!0,loop:!0}),buttonCTA:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_TEMPLATE_UPSELL_CTA,onClick:function(){Zl.Z.open(t,w.pNK.ROLE_SUBSCRIPTIONS,void 0,w.KsC.ROLE_SUBSCRIPTION_TIER_TEMPLATE)},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:n})})}var QF=n(621722),$F=n.n(QF);function JF(e){var t=e.markAsDismissed;return(0,r.jsxs)("div",{className:$F().container,children:[(0,r.jsx)("div",{className:$F().pointer}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:$F().content,children:Q.Z.Messages.HUB_PRIVACY_SETTINGS_TOOLTIP}),(0,r.jsx)(l.Button,{look:l.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){t(Us.L.AUTO)},children:Q.Z.Messages.GOT_IT})]})}
var eY=n(696047),tY=n(937199),nY=n.n(tY),rY=n(962502),oY=n.n(rY);function iY(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function aY(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iY(i,r,o,a,s,"next",e)}function s(e){iY(i,r,o,a,s,"throw",e)}a(void 0)}))}}function sY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sY(e,t,n[t])}))}return e}function cY(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var uY=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function fY(e){var t=e.guildId,o=e.markAsDismissed,i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{color:"always-white",variant:"text-sm/normal",className:nY().upsellBody,children:Q.Z.Messages.MEDIA_CHANNEL_UPSELL_BODY}),(0,r.jsx)(l.Text,{color:"always-white",variant:"text-sm/normal",children:Q.Z.Messages.MEDIA_CHANNEL_LEARN_MORE.format({hcArticleUrl:eY.S})})]});return(0,r.jsx)("div",{className:nY().container,children:(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.MEDIA_CHANNEL_UPSELL_TITLE,content:i,asset:(0,r.jsx)(fF.Z,{className:nY().video,src:oY(),autoPlay:!0,loop:!0}),
buttonCTA:Q.Z.Messages.MEDIA_CHANNEL_UPSELL_CREATE_NOW_CTA,onClick:function(){Oe.default.track(w.rMx.MEDIA_CHANNEL_UPSELL_CLICKED,lY({},(0,UI.hH)(t)));(0,l.openModalLazy)(aY((function(){var e,o;return uY(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(57645)]).then(n.bind(n,957645))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,cY(lY({},e),{channelType:w.d4z.GUILD_FORUM,flags:LS.zZ.IS_MEDIA_CHANNEL,guildId:t}))}]}}))})))},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:o})})}var dY=n(86271),pY=n(496719),hY=n.n(pY);function EY(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function yY(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){EY(i,r,o,a,s,"next",e)}function s(e){EY(i,r,o,a,s,"throw",e)}a(void 0)}))}}function mY(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}var _Y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e]
;r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function gY(e){var t=e.guild,o=e.markAsDismissed;return(0,r.jsx)("div",{className:hY().container,children:(0,r.jsx)(iF.ZP,{asset:(0,r.jsxs)("div",{className:hY().asset,children:[(0,r.jsx)(dY.Z,{height:24,width:24,className:hY().summaryIcon}),(0,r.jsx)(Fj.Z,{className:hY().stars})]}),header:(0,r.jsxs)("div",{className:hY().header,children:[Q.Z.Messages.SUMMARIES_UPSELL_TITLE,(0,r.jsx)(Bt.IG,{text:Q.Z.Messages.BETA,color:br.Z.unsafe_rawColors.BRAND_500.css,className:hY().betaTag})]}),content:(0,r.jsxs)("div",{className:hY().content,children:[Q.Z.Messages.SUMMARIES_UPSELL_SUBTITLE,(0,r.jsx)(l.Text,{className:hY().learnMore,variant:"text-sm/medium",children:Q.Z.Messages.SUMMARIES_UPSELL_LEARN_MORE_LINK.format({helpdeskArticle:X.Z.getArticleURL(w.BhN.CONVERSATION_SUMMARIES)})})]}),buttonCTA:Q.Z.Messages.ENABLE,onClick:function(){(0,l.openModalLazy)(yY((function(){var e,o,i;return _Y(this,(function(a){
switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(35612)]).then(n.bind(n,935612))];case 1:e=a.sent(),o=e.default;(i=new Set(t.features)).add(w.oNc.SUMMARIES_ENABLED_BY_USER);Zl.Z.updateGuild({features:i});Zl.Z.saveGuild(t.id,{features:i});return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mY(e,t,n[t])}))}return e}({},e))}]}}))})))},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:o})})}var bY=n(609853),vY=n(284921),OY=n.n(vY),IY=n(460811),SY=n.n(IY);const TY=function(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.SPLIT_PERMISSION_TOOLTIP_HEADER,content:Q.Z.Messages.SPLIT_PERMISSION_TOOLTIP_BODY.format({date:qV.n5.toLocaleDateString()}),
buttonCTA:Q.Z.Messages.GUILD_AUTOMOD_DEFAULT_UPSELL_DISMISSAL,asset:(0,r.jsx)("img",{alt:"",src:SY(),className:OY().tooltipImage}),onClick:n,onSecondaryClick:function(){Zl.Z.open(t.id,w.pNK.ROLES);n()},secondaryButtonCTA:Q.Z.Messages.SPLIT_PERMISSION_TOOLTIP_CTA,markAsDismissed:n})};var NY=n(175072),CY=n(72982),AY=n(937106),PY=n.n(AY),RY=n(289954),jY=n.n(RY),MY=n(810540),wY=n.n(MY),xY=n(705206),LY=n.n(xY),DY=n(567012),ZY=n.n(DY),UY=n(862470),GY=n.n(UY),kY=n(283920),BY=n.n(kY),HY=n(336415),VY=n.n(HY);function FY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FY(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zY(e){null!=e&&Zl.Z.open(e.id,w.pNK.OVERVIEW,{section:w.jXE.PREMIUM_GUILD_PROGRESS_BAR},w.KsC.DISPLAY)}function WY(e,t){t&&Zl.Z.open(e.id,w.pNK.DISCOVERY)}function KY(e,t){null!=t&&((0,wH.f2)(t,w.Eu4.TIER_1)?Zl.Z.open(t.id,w.pNK.OVERVIEW,{section:w.jXE.PREMIUM_GUILD_INVITE_SPLASH},w.KsC.INVITE):(0,GF.Z)({analyticsLocations:e,analyticsSourceLocation:w.jXE.PREMIUM_GUILD_INVITE_SPLASH,guild:t,perks:(0,CY.o9)()}))}function qY(e){var t=e.renderPopout,n=e.renderGuildHeaderDropdownButton;return(0,
r.jsx)(l.Popout,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:t})},position:"bottom",align:"center",animation:l.Popout.Animation.TRANSLATE,shouldShow:!0,children:function(){return n()}})}const XY=o.memo((function(e){var t=e.contentTypes,n=e.theme,o=e.guild,i=e.renderGuildHeaderDropdownButton,a=e.hidesAppDirectoryCoachMark,s=(0,XB.Z)().analyticsLocations,l=function(){Oe.default.track(w.rMx.TOOLTIP_VIEWED,{type:Dy.cd.PREMIUM_PROGRESS_BAR,location:{page:w.ZY5.GUILD_CHANNEL}})},c=function(){Oe.default.track(w.rMx.PREMIUM_UPSELL_VIEWED,{type:Dy.cd.INVITE_SPLASH_UPSELL,location:{page:w.ZY5.GUILD_CHANNEL},location_stack:s})},u=(0,Io.wj)(n)?ZY():GY(),f=YY((0,dM.B)(t,Us.R.GUILD_HEADER_TOOLTIPS),2),d=f[0],p=f[1];return(0,r.jsx)(r.Fragment,{children:function(){switch(d){case ws.z$.GUILD_MENTION_RAID_LIMIT:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(DF,{guildId:o.id,onDismissed:p}),renderGuildHeaderDropdownButton:i})
;case ws.z$.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(LF,{guildId:o.id,onDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_AUTOMOD_USER_PROFILE_UPSELL_AB:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(UF,{guildId:o.id,onDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.ANTI_RAID_SAFETY_ALERT_NOTICE:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(ZF,{guildId:o.id,onDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{onComponentMount:l,header:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:u,className:jY().fullWidthImage}),content:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CONTENT.format(),buttonCTA:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,
onSecondaryClick:function(){return zY()},onClick:function(){return zY(o)},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{onComponentMount:l,header:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:u,className:jY().fullWidthImage}),content:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_SIZE_TOOLTIP_CONTENT.format(),buttonCTA:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS,secondaryButtonCTA:Q.Z.Messages.PREMIUM_PROGRESS_BAR_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return zY()},onClick:function(){return zY(o)},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(WF,{guildId:o.id,markAsDismissed:p}),renderGuildHeaderDropdownButton:i})
;case ws.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(NF,{onClick:function(){return WY(o,!0)},onSecondaryClick:function(){return WY(o)},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(OF,{guild:o,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_INVITE_SPLASH:var e=(0,wH.f2)(o,w.Eu4.TIER_1)?Q.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT.format():Q.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CONTENT_LOCKED.format({boostCount:(0,wH.KK)(o,w.Eu4.TIER_1)}),t=(0,wH.f2)(o,w.Eu4.TIER_1)?Q.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_PRIMARY_ROLE_SETTINGS:Q.Z.Messages.LEARN_MORE;return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{onComponentMount:c,header:Q.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_TITLE,asset:(0,r.jsx)("img",{alt:"",src:LY(),className:jY().fullWidthImage}),content:e,buttonCTA:t,
secondaryButtonCTA:Q.Z.Messages.INVITE_SPLASH_GUILD_HEADER_TOOLTIP_CTA_SECONDARY,onSecondaryClick:function(){return KY(s)},onClick:function(){return KY(s,o)},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(JF,{markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{className:PY().tooltipOverrideColor,header:Q.Z.Messages.ACTIVE_THREADS_UPSELL_HEADER,content:Q.Z.Messages.ACTIVE_THREADS_UPSELL_CONTENT,buttonCTA:Q.Z.Messages.GOT_IT,onClick:function(){return p()},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.APP_DIRECTORY_COACH_MARK:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{className:a?PY().visibilityHidden:void 0,header:Q.Z.Messages.APP_DIRECTORY_COACHMARK_HEADER,content:Q.Z.Messages.APP_DIRECTORY_COACHMARK,asset:(0,r.jsx)("img",{alt:"",src:wY(),
className:PY().tooltipAsset}),buttonCTA:Q.Z.Messages.GOT_IT,onClick:function(){return p()},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.CREATOR_PROMO_PAGE_COACH_MARK:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(FF,{guildId:o.id,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.CLYDE_GUILD_HEADER_NUX:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{header:(0,r.jsxs)(r.Fragment,{children:[Q.Z.Messages.CLYDE_MODAL_TITLE,(0,r.jsx)(bY.Z,{className:PY().botTag,type:NY.H.AI,verified:!0})]}),headerClassName:PY().clydeTooltipHeaderContainer,asset:(0,r.jsx)("img",{alt:"",src:BY(),className:PY().clydeTooltipAsset}),content:Q.Z.Messages.CLYDE_GUILD_TOOLTIP_DETAILS.format({learnMoreURL:X.Z.getArticleURL(w.BhN.CLYDE_AI)}),buttonCTA:Q.Z.Messages.ENABLE,onClick:function(){Zl.Z.open(o.id,w.pNK.INTEGRATIONS)},secondaryButtonCTA:Q.Z.Messages.DISMISS,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_SOUNDBOARD_PERMISSION:return(0,
r.jsx)(qY,{renderPopout:(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.SOUNDBOARD_TOOLTIP_TITLE_NEW,content:Q.Z.Messages.SOUNDBOARD_TOOLTIP_BODY,buttonCTA:Q.Z.Messages.CHECK_IT_OUT,secondaryButtonCTA:Q.Z.Messages.NO_THANKS,asset:(0,r.jsx)("img",{alt:"",src:VY(),className:jY().fullWidthImage}),onClick:function(){Zl.Z.open(o.id,w.pNK.ROLES);Zl.Z.selectRole(o.id,Q.Z.Messages.USE_SOUNDBOARD)},markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.MEDIA_CHANNEL_UPSELL:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(fY,{guildId:o.id,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_SUMMARIES_UPSELL:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(gY,{guild:o,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.GUILD_HEADER_SPLIT_PERMISSION:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(TY,{guild:o,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});case ws.z$.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL:return(0,r.jsx)(qY,{renderPopout:(0,r.jsx)(XF,{
guildId:o.id,markAsDismissed:p}),renderGuildHeaderDropdownButton:i});default:return i()}}()})}));var QY=n(333398),$Y=(0,it.B)({kind:"user",id:"2022-12_channel_notice_redesign",label:"Channel Notice Redesign",defaultConfig:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!1},treatments:[{id:1,label:"Show Redesigned Channel Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!1}},{id:2,label:"Show Redesigned Stage/Event Notices",config:{showRedesignedChannelNotice:!1,showRedesignedLiveChannelNotice:!0}},{id:3,label:"Show Redesigned Channel Notices & Stage/Event Notices",config:{showRedesignedChannelNotice:!0,showRedesignedLiveChannelNotice:!0}}]});function JY(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=$Y.useExperiment({},{autoTrackExposure:e}),n=t.showRedesignedChannelNotice,r=t.showRedesignedLiveChannelNotice;return{showRedesignedChannelNotice:n,showRedesignedLiveChannelNotice:r}}var ez=n(772260),tz=n.n(ez)
;function nz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var rz=(0,We.debounce)(UI.ZP.trackWithMetadata,500);const oz=function(e){var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,c=e.imageStyles,u=e.imageMarginX,f=e.imageMarginTop,d=e.trackingSource,p=e.undismissable,h=e.onDismissed,E=e.onClick,y=e.cta,m=e.ctaColor,_=e.centerText;o.useEffect((function(){rz(w.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var g=null;"function"==typeof y?g=y():null!=y&&(g=(0,r.jsx)(l.Button,{className:tz().button,size:l.Button.Sizes.SMALL,onClick:function(){null!=s&&Oe.default.track(w.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:d,guild_id:t.id,notice_type:s});null==E||E()},fullWidth:!0,color:m,children:y}));var b=null;"function"==typeof n?b=n():null!=n&&(b=(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",className:ze()(tz().title,nz({},tz().noImageTitle,null==a),nz({},tz().center,_)),children:n}))
;var v=null!=u?"".concat(u,"px"):"16px";return(0,r.jsxs)("div",{className:tz().container,children:[!0===p?null:(0,r.jsx)(l.Clickable,{onClick:function(){UI.ZP.trackWithMetadata(w.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==h||h()},className:tz().close,"aria-label":Q.Z.Messages.DISMISS,children:(0,r.jsx)(JI.Z,{className:tz().closeIcon})}),null!=a&&(0,r.jsx)("div",{className:tz().imageContainer,style:{marginTop:"".concat(f,"px"),marginLeft:v,marginRight:v},children:(0,r.jsx)("img",{className:tz().image,style:c,src:a,alt:""})}),(0,r.jsxs)("div",{className:tz().message,children:[b,(0,r.jsx)(l.Text,{className:ze()(nz({},tz().center,_)),variant:"text-sm/normal",color:"text-muted",children:i}),g]})]})};var iz=n(899060),az=n.n(iz);function sz(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sz(e,t,n[t])}))}return e}var cz=Ke().debounce(UI.ZP.trackWithMetadata,500),uz=function(e){var t=e.guild,n=e.title,i=e.message,a=e.image,s=e.type,c=e.imageMarginX,u=e.imageMarginTop,f=e.trackingSource,d=e.undismissable,p=e.onDismissed,h=e.onClick,E=e.cta,y=e.ctaColor;o.useEffect((function(){cz(w.rMx.CHANNEL_NOTICE_VIEWED,{notice_type:s,guild_id:t.id})}),[t.id,s]);var m=null;"function"==typeof E?m=E():null!=E&&(m=(0,r.jsx)(l.Button,{className:az().btn,size:l.Button.Sizes.SMALL,onClick:function(){null!=s&&Oe.default.track(w.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:f,guild_id:t.id,notice_type:s});null==h||h()},fullWidth:!0,color:y,children:E}));var _=null!=c?"".concat(c,"px"):"16px";return(0,r.jsxs)("div",{className:az().channelNotice,children:[!0===d?null:(0,r.jsx)(l.Clickable,{onClick:function(){
UI.ZP.trackWithMetadata(w.rMx.CHANNEL_NOTICE_CLOSED,{notice_type:s});null==p||p()},className:az().close,"aria-label":Q.Z.Messages.DISMISS,children:(0,r.jsx)(JI.Z,{className:az().closeIcon})}),(0,r.jsx)("div",{className:az().imageContainer,style:{marginTop:"".concat(u,"px"),marginLeft:_,marginRight:_},children:(0,r.jsx)("img",{className:az().image,src:a,alt:""})}),(0,r.jsxs)("div",{className:az().message,children:[null!=n?(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:az().title,children:n}):null,(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:i}),m]})]})};const fz=function(e){return JY(!0).showRedesignedChannelNotice?(0,r.jsx)(oz,lz({},e)):(0,r.jsx)(uz,lz({},e))};var dz=n(108881),pz=n.n(dz);function hz(e){var t=e.guild,n=(0,Cr.h6)(t),i=function(){return(0,Cp.sB)(t.id)},a=o.useMemo((function(){return new Set(n.map((function(e){return e.applicationId})))}),[n]),l=(0,s.e7)([QY.Z],(function(){return QY.Z.getApplications()})),c=o.useMemo((function(){
var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,c=l[s];null!=c&&e.push(c)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[l,a]);if(0===c.length)return null;var u="";u=1===c.length?Q.Z.Messages.ONE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name}):2===c.length?Q.Z.Messages.TWO_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name,b:c[1].name}):3===c.length?Q.Z.Messages.THREE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT.format({a:c[0].name,b:c[1].name,c:c[2].name}):Q.Z.Messages.MORE_APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CONTENT;return(0,r.jsx)(fz,{guild:t,onDismissed:i,message:u,type:w.vID.APPLICATION_SUBSCRIPTION_EXPIRATION,image:pz(),onClick:function(){i();Zl.Z.open(t.id,w.pNK.INTEGRATIONS)},imageMarginTop:6,imageMarginX:46,cta:Q.Z.Messages.APPLICATION_SUBSCRIPTION_EXPIRATION_CHANNEL_NOTICE_CTA})}
var Ez=n(695850),yz=n.n(Ez),mz=n(509142),_z=n.n(mz);function gz(e){var t=e.guild,n=e.markAsDismissed,o=(0,Ve.ZP)([Cm.Z],(function(){return Cm.Z.getKeybindForAction(w.kg4.SAVE_CLIP)}));if(null==o)return null;var i=nm.BB(o.shortcut,!0);return(0,r.jsx)(fz,{image:_z(),guild:t,onDismissed:n,onClick:n,message:Q.Z.Messages.CLIPS_CHANNEL_NOTICE_EDUCATION_BODY.format({keybind:i,keybindHook:function(){return(0,r.jsx)("div",{className:yz().keyCombo,children:i})}}),cta:Q.Z.Messages.GOT_IT,trackingSource:w.PsQ.CLIPS_EDUCATION,type:w.vID.CLIPS_EDUCATION})}var bz=n(525177);var vz=n(854243),Oz=n(663372),Iz=n.n(Oz),Sz=n(468516),Tz=n.n(Sz);function Nz(e){var t=e.guild,n=e.markAsDismissed,o=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),i=(0,vz.lT)(t)===bz.P.ComingSoon,a=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.ADMINISTRATOR,t)})),c=i&&a,u=function(){open(X.Z.getArticleURL(w.BhN.CLYDE_AI));n()};return(0,r.jsx)(oz,{image:o?Tz():BY(),imageStyles:{borderRadius:"50%"},imageMarginTop:8,
guild:t,onDismissed:n,centerText:!0,imageMarginX:64,onClick:c?void 0:u,title:function(){var e=c?Q.Z.Messages.CLYDE_NUX_ADMIN_CHANNEL_NOTICE_TITLE:Q.Z.Messages.CLYDE_NUX_USER_CHANNEL_NOTICE_TITLE;return(0,r.jsxs)("div",{className:Iz().titleContainer,children:[(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",className:Iz().title,children:e}),(0,r.jsx)(bY.Z,{type:NY.H.AI})]})},message:c?Q.Z.Messages.CLYDE_NUX_ADMIN_CHANNEL_NOTICE_MESSAGE:Q.Z.Messages.CLYDE_NUX_USER_CHANNEL_NOTICE_MESSAGE,cta:c?function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Button,{className:Iz().button,size:l.Button.Sizes.SMALL,onClick:function(){Zl.Z.open(t.id,w.pNK.INTEGRATIONS);Oe.default.track(w.rMx.CLYDE_NUX_NOTICE_MANAGE_SETTINGS_CTA_CLICKED,{guild_id:t.id});n()},fullWidth:!0,color:l.Button.Colors.PRIMARY,children:Q.Z.Messages.CLYDE_NUX_ADMIN_CHANNEL_NOTICE_MANAGE_SETTINGS}),(0,r.jsx)(l.Button,{className:Iz().button,size:l.Button.Sizes.SMALL,onClick:function(){
Oe.default.track(w.rMx.CHANNEL_NOTICE_CTA_CLICKED,{source:w.PsQ.CLYDE_ADMIN_NUX_NOTICE,guild_id:t.id,notice_type:w.vID.CLYDE_ADMIN_NUX});u()},fullWidth:!0,children:Q.Z.Messages.CLYDE_NUX_CHANNEL_NOTICE_LEARN_MORE})]})}:Q.Z.Messages.CLYDE_NUX_CHANNEL_NOTICE_LEARN_MORE,trackingSource:c?w.PsQ.CLYDE_ADMIN_NUX_NOTICE:w.PsQ.CLYDE_USER_NUX_NOTICE,type:c?w.vID.CLYDE_ADMIN_NUX:w.vID.CLYDE_USER_NUX})}var Cz=n(226867),Az=n.n(Cz);function Pz(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(fz,{image:Az(),guild:t,onDismissed:n,onClick:function(){open(X.Z.getArticleURL(w.BhN.CONNECTION_DETAILS));n()},title:Q.Z.Messages.LINKED_ROLES_ADMIN_NUX_TITLE,message:Q.Z.Messages.LINKED_ROLES_ADMIN_NUX_CONTENT,cta:Q.Z.Messages.LEARN_MORE,trackingSource:w.PsQ.LINKED_ROLES_ADMIN_NUX,type:w.vID.LINKED_ROLES_ADMIN})}var Rz=n(23943),jz=n.n(Rz);const Mz=function(e){var t=e.guild,n=t.id,o=(0,s.e7)([MH.Z],(function(){return MH.Z.getAppliedGuildBoostsForGuild(t.id)}));return null==o||(0,wH._k)(o,n)<=0?null:(0,
r.jsx)(fz,{guild:t,onDismissed:function(){!function(e){b.Z.dispatch({type:"BOOSTED_GUILD_GRACE_PERIOD_NOTICE_DISMISS",guildId:e})}(n)},onClick:function(){Zl.Z.open(n,w.pNK.GUILD_PREMIUM)},message:Q.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE,trackingSource:w.PsQ.GRACE_PERIOD_NOTICE,type:w.vID.GUILD_BOOSTING_GRACE_PERIOD,image:jz(),cta:Q.Z.Messages.PREMIUM_GUILD_GRACE_PERIOD_NOTICE_BUTTON,ctaColor:l.ButtonColors.PRIMARY})};var wz=n(484771),xz=n.n(wz);function Lz(e){var t=e.guild,n=e.markAsDismissed,o=(0,wH.KK)(t,w.Eu4.TIER_2),i=(0,XB.Z)(fp.Z.GUILD_BANNER_NOTICE).analyticsLocations;return(0,r.jsx)(fz,{guild:t,onDismissed:n,cta:Q.Z.Messages.GUILD_BANNER_NOTICE_CTA,message:Q.Z.Messages.GUILD_BANNER_NOTICE.format({boostsNeeded:o}),type:w.vID.GUILD_BANNER,image:xz(),onClick:function(){return(0,GF.Z)({analyticsLocations:i,analyticsSourceLocation:{section:w.jXE.CHANNEL_NOTICE,object:w.qAy.SERVER_BANNER_TOOLTIP},guild:t,perks:(0,CY.XO)()})},imageMarginTop:15,imageMarginX:22})}
var Dz=n(727869),Zz=n.n(Dz);function Uz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gz(e){Gz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Gz(e)}function kz(e,t){return!t||"object"!==Hz(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bz(e,t){Bz=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Bz(e,t)}var Hz=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Vz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Gz(e);if(t){var o=Gz(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kz(this,n)}}var Fz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Bz(e,t)}(n,e);var t=Vz(n);function n(){Uz(this,n);var e;(e=t.apply(this,arguments)).handleButtonClick=function(){var t=e.props.guild;(0,gV.f)({guildId:t.id,location:{section:w.jXE.CHANNEL_NOTICE,object:w.qAy.SERVER_STATUS_CTA}})};return e}n.prototype.render=function(){var e=this.props,t=e.guild,n=e.memberCount,o=e.markAsDismissed,i=null==n||n<30;return(0,r.jsx)(fz,{guild:t,onDismissed:o,onClick:this.handleButtonClick,message:i?Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_SMALL_GUILD:Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE,cta:Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_NOTICE_BUTTON,trackingSource:w.PsQ.GUILD_SUBSCRIPTION_NOTICE,type:w.vID.GUILD_BOOSTING,
image:Zz(),imageMarginX:26})};return n}(o.PureComponent);const Yz=s.ZP.connectStores([Ls.Z],(function(e){var t=e.guild;return{memberCount:Ls.Z.getMemberCount(t.id)}}))(Fz);var zz=n(599467);function Wz(e){var t,n=(0,wN.eF)(e),r=(0,sH.ZP)(e),o=S.Z.getChannel(null===(t=r[0])||void 0===t?void 0:t.id);return null!=n?n:o}var Kz=n(933022);function qz(e){return(0,s.e7)([ut.default,A.Z,Kz.ZP],(function(){var t=ut.default.getId();return A.Z.getVoiceChannelId()===e?Kz.ZP.getPermissionsForUser(t,e):null}),[e])}var Xz=n(197045),Qz=n(23727);function $z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jz(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}
return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function eW(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function tW(e){var t=e.width,n=void 0===t?32:t,o=e.height,i=void 0===o?32:o,a=e.color,s=void 0===a?"currentColor":a,l=eW(e,["width","height","color"]);return(0,r.jsx)("svg",Jz(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$z(e,t,n[t])}))}return e
}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 ".concat(n," ").concat(i),fill:"none",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3C7.44772 3 7 3.44772 7 4V12C7 12.5523 7.44772 13 8 13C8.55228 13 9 12.5523 9 12V4C9 3.44772 8.55228 3 8 3ZM3 6C3 5.44772 3.44772 5 4 5C4.55228 5 5 5.44772 5 6V10C5 10.5523 4.55228 11 4 11C3.44772 11 3 10.5523 3 10V6ZM11 6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V10C13 10.5523 12.5523 11 12 11C11.4477 11 11 10.5523 11 10V6Z",fill:s})}))}var nW=n(516909);function rW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function iW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oW(e,t,n[t])}))}return e}function aW(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sW(e){return function(e){if(Array.isArray(e))return rW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lW,cW=16,uW=12;!function(e){e[e.STAGE=0]="STAGE";e[e.EVENT_EXTERNAL=1]="EVENT_EXTERNAL";e[e.EVENT_VOICE=2]="EVENT_VOICE";e[e.STUDY_ROOM=3]="STUDY_ROOM"}(lW||(lW={}));function fW(e){var t=e.guild,n=e.isStudyRoomNotice,i=void 0!==n&&n,a=Wz(t.id),c=(0,wN.k5)(t.id),u=(0,s.e7)([aH.Z],(function(){return aH.Z.getStageInstanceByChannel(null==a?void 0:a.id)}),[a]),f=(0,s.cj)([mH],(function(){return{isStageNoticeHidden:mH.isLiveChannelNoticeHidden({stageId:null==u?void 0:u.id}),isEventNoticeHidden:mH.isLiveChannelNoticeHidden({eventId:null==c?void 0:c.id})}}),[u,c]),d=f.isStageNoticeHidden,p=f.isEventNoticeHidden,h=(0,s.cj)([vC.Z],(function(){
var e=vC.Z.getMutableParticipants(null==a?void 0:a.id,OC.pV.SPEAKER),t=null!=a?vC.Z.getParticipantCount(a.id,OC.pV.AUDIENCE):0;return{speakers:sW(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[null==a?void 0:a.id]),E=h.speakers,y=h.listenerCount,m=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.CONNECT,a)})),_=qz(null==a?void 0:a.id),g=null==c?void 0:c.creator_id,b=(0,s.e7)([Y.default],(function(){return Y.default.getUser(g)}),[g]);o.useEffect((function(){null!=g&&(0,ah.PR)(g)}),[g]);var v=o.useMemo((function(){return function(e){var t=e.guildEvent,n=e.stageInstance,o=e.activeChannel,i=e.canConnect,a=e.myRole,s=e.eventCreator,c=e.speakers,u=e.listenerCount,f=e.isEventNoticeHidden,d=e.isStageNoticeHidden,p=e.isStudyRoomNotice,h=null!=n&&null!=o&&!d;if(p&&null!=o){var E=(0,CT.KS)(o);return{noticeType:lW.STUDY_ROOM,title:" ".concat(o.name),location:Q.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=E?(0,r.jsx)(E,{width:cW,height:cW,
className:tz().locationIcon}):null,canListenIn:i,buttonText:Q.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,users:[],overflowUsers:null}}if(null==t||f){if(h){var y=Q.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==a?void 0:a.speaker)?y=Q.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(y=Q.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:lW.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(nW.Z,{width:cW,height:cW,className:tz().locationIcon}),canListenIn:i,buttonText:y,onClose:function(){return EH({stageId:null==n?void 0:n.id})},users:c.length>5?c.slice(0,5):c,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:tz().pill,children:[(0,r.jsx)(Qz.Z,{width:uW,height:uW,className:tz().pillIcon}),(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-secondary",className:tz().pillLabel,children:u})]})}}}else{if(t.entity_type===NC.WX.STAGE_INSTANCE&&h){var m=Q.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON
;(null==a?void 0:a.speaker)?m=Q.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=a&&(m=Q.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);return{noticeType:lW.STAGE,title:n.topic,location:o.name,locationIcon:(0,r.jsx)(nW.Z,{width:cW,height:cW,className:tz().locationIcon}),canListenIn:i,buttonText:m,onClose:function(){return EH({stageId:null==n?void 0:n.id})},users:c.length>5?c.slice(0,5):c,overflowUsers:u<1?null:(0,r.jsxs)("div",{className:tz().pill,children:[(0,r.jsx)(Qz.Z,{width:uW,height:uW,className:tz().pillIcon}),(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-secondary",className:tz().pillLabel,children:u})]})}}if(t.entity_type===NC.WX.EXTERNAL){var _=(0,mC.cS)(t);return null==_?{noticeType:null}:{noticeType:lW.EVENT_EXTERNAL,title:t.name,location:(0,zz.m)(_,!0),locationIcon:(0,r.jsx)(TC.Z,{width:cW,height:cW,className:tz().locationIcon}),canListenIn:!1,buttonText:Q.Z.Messages.GUILD_EVENT_DETAILS_INFO_TAB_TITLE,onClose:function(){return EH({
eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:tz().pill,children:[(0,r.jsx)(dN.Z,{width:uW,height:uW,className:tz().pillIcon}),(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-secondary",className:tz().pillLabel,children:t.user_count})]})}}if(t.entity_type===NC.WX.VOICE&&null!=o){var g=(0,CT.KS)(o);return{noticeType:lW.EVENT_VOICE,title:t.name,location:o.name,locationIcon:null!=g?(0,r.jsx)(g,{width:cW,height:cW,className:tz().locationIcon}):null,canListenIn:i,buttonText:Q.Z.Messages.GUILD_EVENT_JOIN,onClose:function(){return EH({eventId:null==t?void 0:t.id})},users:null==s?[]:[s],overflowUsers:null==t.user_count||t.user_count<1?null:(0,r.jsxs)("div",{className:tz().pill,children:[(0,r.jsx)(dN.Z,{width:uW,height:uW,className:tz().pillIcon}),(0,r.jsx)(l.Text,{variant:"text-xs/medium",color:"header-secondary",className:tz().pillLabel,children:t.user_count})]})}}}return{noticeType:null}}({
guildEvent:c,stageInstance:u,activeChannel:a,canConnect:m,myRole:_,eventCreator:b,speakers:E,listenerCount:y,isEventNoticeHidden:p,isStageNoticeHidden:d,isStudyRoomNotice:i})}),[c,u,a,m,_,b,E,y,p,d,i]),O=v.noticeType,I=v.title,S=v.location,T=v.locationIcon,N=v.canListenIn,C=v.buttonText,A=v.users,P=v.overflowUsers,R=v.onClose;if(null==O)return null;return(0,r.jsxs)("div",{className:tz().container,children:[null!=R?(0,r.jsx)(l.Clickable,{onClick:R,className:tz().close,"aria-label":Q.Z.Messages.DISMISS,children:(0,r.jsx)(JI.Z,{className:tz().closeIcon})}):null,(0,r.jsxs)("div",{className:tz().header,children:[(0,r.jsx)(tW,{color:br.Z.unsafe_rawColors.GREEN_230.css,width:cW,height:cW}),(0,r.jsx)(l.Text,{variant:"text-xs/semibold",color:"text-positive",children:Q.Z.Messages.LIVE})]}),(A.length>0||null!=P)&&(0,r.jsxs)("div",{className:tz().participants,children:[A.map((function(e){return(0,r.jsx)(l.Popout,{preload:function(){return(0,SU.Z)(e.id,e.getAvatarURL(t.id,80),{guildId:t.id})},
renderPopout:function(t){return(0,r.jsx)(Xz.Z,aW(iW({},t),{userId:e.id}))},position:"right",children:function(n){return(0,r.jsx)(l.Avatar,aW(iW({},n),{src:e.getAvatarURL(t.id,24),"aria-label":e.username,size:l.AvatarSizes.SIZE_24,className:tz().avatar}))}},e.id)})),P]}),(0,r.jsx)(l.Text,{variant:"text-md/medium",color:"header-primary",className:ze()(tz().title,tz().live),children:I}),(0,r.jsxs)("div",{className:tz().locationContainer,children:[T,(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"text-muted",className:tz().location,children:S})]}),N||O===lW.EVENT_EXTERNAL?(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,color:l.Button.Colors.GREEN,onClick:function(){if(N){if(null==a||null==a.getGuildId())return;(0,bC.Cq)(a);(0,K.XU)(a.getGuildId(),a.id)}else{if(null==c)return;(0,Dl.bO)({eventId:c.id})}},className:tz().button,fullWidth:!0,children:C}):null]})}var dW=n(68537),pW=n(274740),hW=n.n(pW);function EW(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yW(e){return function(e){if(Array.isArray(e))return EW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mW,_W=16,gW=o.memo((function(e){var t=e.heading,n=e.location,o=e.locationIcon,i=e.details,a=e.detailsIcon,s=e.topic,c=e.onClickCloseIcon,u=e.children;return(0,r.jsxs)("div",{className:hW().channelNotice,children:[(0,r.jsxs)("div",{className:hW().textBlock,children:[(0,
r.jsx)("div",{className:hW().liveIndicator}),(0,r.jsx)(l.Text,{color:"text-positive",variant:"text-xs/bold",className:hW().liveNowText,children:t}),null!=c&&(0,r.jsx)(l.Clickable,{onClick:c,className:hW().closeIcon,"aria-label":Q.Z.Messages.CLOSE,children:(0,r.jsx)(JI.Z,{height:16,width:16})})]}),(0,r.jsx)(l.Text,{color:"header-primary",variant:"text-md/semibold",className:hW().eventName,children:s}),(0,r.jsxs)("div",{className:hW().textBlock,children:[o,(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-xs/normal",className:hW().channelName,children:n}),null!=i&&null!=a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:hW().dotDivider,color:"header-secondary",variant:"text-xs/normal",children:""}),a,(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-xs/normal",children:i})]})]}),u]})}));function bW(e){var t=e.guildEvent,n=e.channel,o=(0,s.Wu)([OO.ZP],(function(){return OO.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,CT.KS)(n)
;return(0,r.jsx)(gW,{onClickCloseIcon:function(){return EH({eventId:null==t?void 0:t.id})},heading:Q.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t.name,location:n.name,locationIcon:null!=i?(0,r.jsx)(i,{width:_W,height:_W,className:hW().stageIcon}):null,children:(0,r.jsx)(TW,{channel:n,speakers:o,voiceType:mW.VOICE})})}function vW(e){var t=e.guildEvent,n=(0,mC.cS)(t);return null==n?null:(0,r.jsx)(gW,{onClickCloseIcon:function(){return EH({eventId:null==t?void 0:t.id})},heading:Q.Z.Messages.HAPPENING_NOW,topic:t.name,location:(0,zz.m)(n,!0),locationIcon:(0,r.jsx)(TC.Z,{width:_W,height:_W,className:hW().stageIcon}),children:(0,r.jsx)(OW,{guildEvent:t})})}function OW(e){var t=e.guildEvent,n=o.useCallback((function(){(0,Dl.bO)({eventId:t.id})}),[t]);return(0,r.jsx)(l.Button,{fullWidth:!0,className:hW().joinButton,onClick:n,color:l.Button.Colors.GREEN,size:l.Button.Sizes.SMALL,children:Q.Z.Messages.SEE_DETAIL})}function IW(e){var t=e.channel,n=e.label;return(0,r.jsx)(l.Button,{fullWidth:!0,
className:hW().joinButton,onClick:function(){if(null!=t&&null!=t.getGuildId()){(0,bC.Cq)(t);(0,K.XU)(t.getGuildId(),t.id)}},color:l.Button.Colors.GREEN,size:l.Button.Sizes.SMALL,children:n})}function SW(e){var t=e.stageInstance,n=e.channel,o=(0,s.cj)([vC.Z],(function(){var e=vC.Z.getMutableParticipants(n.id,OC.pV.SPEAKER),t=vC.Z.getParticipantCount(n.id,OC.pV.AUDIENCE);return{speakers:yW(new Set(e.map((function(e){return e.user})))),listenerCount:t}}),[n.id]),i=o.speakers,a=o.listenerCount,l=Q.Z.Messages.LISTENING_COUNT.format({count:"".concat(a)});return(0,r.jsx)(gW,{onClickCloseIcon:function(){return EH({stageId:null==t?void 0:t.id})},heading:Q.Z.Messages.STAGE_CHANNEL_LIVE_NOW,location:n.name,details:l,detailsIcon:(0,r.jsx)(Qz.Z,{width:14,height:14,className:hW().stageIcon}),locationIcon:(0,r.jsx)(nW.Z,{width:_W,height:_W,className:hW().stageIcon}),topic:t.topic,children:(0,r.jsx)(TW,{channel:n,speakers:i,voiceType:mW.STAGE})})}!function(e){e[e.VOICE=1]="VOICE";e[e.STAGE=2]="STAGE"
;e[e.STUDY_ROOM=3]="STUDY_ROOM"}(mW||(mW={}));function TW(e){var t=e.channel,n=e.speakers,i=e.voiceType,a=t.getGuildId(),c=o.useMemo((function(){return n.slice(0,3)}),[n]),u=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.CONNECT,t)})),f=qz(t.id),d=Q.Z.Messages.JOIN;switch(i){case mW.VOICE:d=Q.Z.Messages.JOIN;break;case mW.STAGE:d=Q.Z.Messages.STAGE_CHANNEL_JOIN_BUTTON;(null==f?void 0:f.speaker)?d=Q.Z.Messages.STAGE_CHANNEL_JOINED_SPEAKER_BUTTON:null!=f&&(d=Q.Z.Messages.STAGE_CHANNEL_JOINED_AUDIENCE_BUTTON);break;case mW.STUDY_ROOM:d=Q.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA;break;default:(0,kr.vE)(i)}return null==a?null:(0,r.jsxs)(r.Fragment,{children:[c.length>0?(0,r.jsxs)("div",{className:hW().textBlock,children:[(0,r.jsx)(VN.Z,{guildId:a,users:c,showUserPopout:!0,size:VN.u.SIZE_16}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-xs/normal",className:hW().userNames,children:(0,dW.ER)(a,c,null==t?void 0:t.id,n.length)})]}):null,u&&null==f&&(0,r.jsx)(IW,{channel:t,
label:d})]})}const NW=o.memo((function(e){var t=e.guild,n=JY(!0).showRedesignedLiveChannelNotice,o=Wz(t.id),i=(0,wN.k5)(t.id),a=(0,s.e7)([aH.Z],(function(){return aH.Z.getStageInstanceByChannel(null==o?void 0:o.id)}),[o]),l=(0,s.cj)([mH],(function(){return{isStageNoticeHidden:mH.isLiveChannelNoticeHidden({stageId:null==a?void 0:a.id}),isEventNoticeHidden:mH.isLiveChannelNoticeHidden({eventId:null==i?void 0:i.id})}}),[a,i]),c=l.isStageNoticeHidden,u=l.isEventNoticeHidden,f=null,d=null!=a&&null!=o&&!c;if(n)return(0,r.jsx)(fW,{guild:t});null==i||u?d&&(f=(0,r.jsx)(SW,{stageInstance:a,channel:o})):i.entity_type===NC.WX.STAGE_INSTANCE&&d?f=(0,r.jsx)(SW,{stageInstance:a,channel:o}):i.entity_type===NC.WX.EXTERNAL?f=(0,r.jsx)(vW,{guildEvent:i}):i.entity_type===NC.WX.VOICE&&null!=o&&(f=(0,r.jsx)(bW,{guildEvent:i,channel:o}));return f}));var CW=n(148167),AW=n.n(CW);function PW(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function RW(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){PW(i,r,o,a,s,"next",e)}function s(e){PW(i,r,o,a,s,"throw",e)}a(void 0)}))}}function jW(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var MW=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function wW(e){var t=e.guild,o=e.markAsDismissed;return(0,r.jsx)(fz,{guild:t,onDismissed:o,onClick:function(){(0,l.openModalLazy)(RW((function(){var e,t;return MW(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,966658))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){jW(e,t,n[t])}))}return e}({},e))}]}}))})))},message:Q.Z.Messages.HUB_LINK_CHANNEL_NOTICE_BODY,cta:Q.Z.Messages.LEARN_MORE,trackingSource:w.PsQ.HUB_LINK_NOTICE,type:w.vID.HUB_LINK,image:AW()})}var xW=n(976518),LW=n.n(xW);const DW=function(e){var t=e.channel,n=e.guild;return(0,r.jsx)(fz,{guild:n,onDismissed:function(){(0,Tm.Kw)(Tm.v6.HUB_STUDY_ROOM_NOTICE)},onClick:function(){(0,Tm.Kw)(Tm.v6.HUB_STUDY_ROOM_NOTICE);if(null!=t&&null!=t.getGuildId()){(0,bC.Cq)(t);(0,K.XU)(t.getGuildId(),t.id)}},title:Q.Z.Messages.HUB_STUDY_ROOM_NOTICE_TITLE,message:Q.Z.Messages.HUB_STUDY_ROOM_NOTICE_DESCRIPTION,cta:Q.Z.Messages.HUB_STUDY_ROOM_NOTICE_VOICE_CTA,image:LW(),type:w.vID.HUB_STUDY_ROOM})};var ZW=n(149698),UW=n.n(ZW);const GW=function(e){var t=e.name,n=e.channel,o=(0,s.Wu)([OO.ZP],(function(){return OO.ZP.getVoiceStatesForChannel(n).map((function(e){return e.user}))}),[n]),i=(0,CT.KS)(n);return(0,r.jsx)(gW,{heading:Q.Z.Messages.STAGE_CHANNEL_LIVE_NOW,topic:t,
location:Q.Z.Messages.HUB_STUDY_ROOM_VOICE_CHANNEL_TOOLTIP,locationIcon:null!=i?(0,r.jsx)(i,{width:16,height:16,className:UW().icon}):null,children:(0,r.jsx)(TW,{channel:n,speakers:o,voiceType:mW.STUDY_ROOM})})};var kW=n(126976);function BW(e){var t=e.channel,n=e.guild,o=(0,s.e7)([Tm.qc],(function(){return Tm.qc.hasHotspot(Tm.v6.HUB_STUDY_ROOM_NOTICE)})),i=(0,kW.r)(t.guild_id),a=(0,RA.useSpring)({maxHeight:i?0:300,overflow:"hidden",delay:400});return(0,r.jsx)(RA.animated.div,{style:a,children:o?(0,r.jsx)(DW,{channel:t,guild:n}):(0,r.jsx)(GW,{name:" ".concat(t.name),channel:t})})}const HW=function(e){var t=e.guild,n=(0,s.e7)([eT.ZP],(function(){return eT.ZP.getChannels(t.id)[eT.Zb][0]})),o=(0,s.e7)([Ds.Z],(function(){return null!=n&&Ds.Z.can(w.Plq.CONNECT,n.channel)}));return t.hasFeature(w.oNc.HUB)?null==n?null:o?(0,r.jsx)(BW,{channel:n.channel,guild:t}):null:null};function VW(e){var t=e.guild,n=function(){return bH.Z.dismissNotice(t.id)};return(0,r.jsx)(fz,{guild:t,onDismissed:n,
cta:Q.Z.Messages.CHECK_IT_OUT,message:Q.Z.Messages.COMMANDS_SCOPE_MIGRATION_ADMIN_NOTICE.format(),type:w.vID.COMMANDS_MIGRATION,image:or(),onClick:function(){n();Zl.Z.open(t.id,w.pNK.INTEGRATIONS)},imageMarginTop:15,imageMarginX:22})}var FW=n(864244),YW=n.n(FW);const zW=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,b.Z.dispatch({type:"PUBLIC_UPSELL_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(fz,{guild:t,onDismissed:n,onClick:function(){return Zl.Z.open(t.id,w.pNK.COMMUNITY)},message:Q.Z.Messages.NOTICE_ENABLE_PUBLIC_GUILD_UPSELL_MESSAGE,trackingSource:w.PsQ.ENABLE_PUBLIC_GUILD_UPSELL_NOTICE,type:w.vID.PUBLIC_UPSELL,image:YW(),cta:Q.Z.Messages.LEARN_MORE})};var WW=n(785538),KW=n.n(WW);function qW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XW(e){XW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return XW(e)}function QW(e,t){
return!t||"object"!==JW(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $W(e,t){$W=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $W(e,t)}var JW=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function eK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=XW(e);if(t){var o=XW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QW(this,n)}}var tK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&$W(e,t)}(n,e);var t=eK(n);function n(){qW(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsx)(fz,{guild:this.props.guild,onClick:function(){return h.Z.open(w.oAB.ACCOUNT)},message:Q.Z.Messages.TWO_FA_GUILD_MFA_WARNING_MESSAGE_WITH_SPACING.format(),cta:Q.Z.Messages.TWO_FA_GUILD_MFA_WARNING_RESOLVE_BUTTON,trackingSource:w.PsQ.GUILD_MFA_WARNING,type:w.vID.MFA_WARNING,image:KW(),imageMarginX:54,undismissable:!0})};return n}(o.PureComponent);const nK=tK;var rK=n(688891);const oK=function(e){var t=e.guild,n=e.markAsDismissed;o.useEffect((function(){(0,xs.kk)(ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)}),[]);var i=o.useCallback((function(){Zl.Z.open(t.id,w.pNK.ONBOARDING);Oe.default.track(w.rMx.UPSELL_CLICKED,{type:ws.z$[ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE],action:"primary"});(0,xs.EW)(ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE,{dismissAction:Us.L.PRIMARY});(0,
rK.G)(t.id,ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)}),[t.id]),a=o.useCallback((function(){Oe.default.track(w.rMx.UPSELL_CLICKED,{type:ws.z$[ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE],action:"dismiss"});n();(0,rK.G)(t.id,ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)}),[t.id,n]);return(0,r.jsx)(oz,{guild:t,onDismissed:a,onClick:i,title:Q.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_TITLE,message:Q.Z.Messages.GUILD_ONBOARDING_CHANNEL_NOTICE_MESSAGE,cta:Q.Z.Messages.CHECK_IT_OUT,trackingSource:w.PsQ.GUILD_ONBOARDING_UPSELL_NOTICE,type:w.vID.GUILD_ONBOARDING_UPSELL})};var iK=n(947079),aK=n.n(iK);function sK(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function lK(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sK(i,r,o,a,s,"next",e)}function s(e){sK(i,r,o,a,s,"throw",e)}a(void 0)}))}}function cK(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uK(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fK(e){fK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fK(e)}function dK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uK(e,t,n[t])}))}return e}function pK(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)
}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hK(e,t){return!t||"object"!==yK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function EK(e,t){EK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return EK(e,t)}var yK=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fK(e);if(t){var o=fK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hK(this,n)}}var _K=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,s])}}},gK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&EK(e,t)}(o,e);var t=mK(o);function o(){cK(this,o);var e;(e=t.apply(this,arguments)).handleInvite=function(){var t=e.props.guild;(0,l.openModalLazy)(lK((function(){var e,o;return _K(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765)]).then(n.bind(n,654765))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,pK(dK({},e),{guild:t,source:w.t4x.INVITE_NOTICE}))}]}}))})))};e.handleClose=function(){var t=A.Z.getChannelId();e.props.markAsDismissed();null!=t&&ZS.Z.sendBotMessage(t,Q.Z.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:Q.Z.Messages.INVITE_PEOPLE}))};return e}o.prototype.render=function(){
var e="".concat(Q.Z.Messages.INVITE_NOTICE_MESSAGE,"\n").concat(Q.Z.Messages.INVITE_NOTICE_MESSAGE_PART_2);return(0,r.jsx)(fz,{guild:this.props.guild,onDismissed:this.handleClose,onClick:this.handleInvite,message:e,cta:Q.Z.Messages.INVITE_PEOPLE,trackingSource:w.PsQ.INVITE_NOTICE,type:w.vID.INVITE,image:aK(),imageMarginX:46})};return o}(o.PureComponent);const bK=gK;var vK=n(389515),OK=n.n(vK);const IK=function(e){var t=e.guild,n=o.useCallback((function(){e=t.id,b.Z.dispatch({type:"MAX_MEMBER_COUNT_NOTICE_DISMISS",guildId:e});var e}),[t.id]);return(0,r.jsx)(fz,{guild:t,onDismissed:n,message:Q.Z.Messages.NOTICE_CHANNEL_MAX_MEMBERS_CAP_REACHED_MESSAGE.format({maxMemberCount:t.maxMembers,maxMembersUrl:X.Z.getArticleURL(w.BhN.MAX_MEMBERS)}),type:w.vID.MAX_MEMBER_COUNT,image:OK(),imageMarginX:61})};var SK=n(327203),TK=n(956485),NK=n(10439),CK=n.n(NK);const AK=function(e){var t=SK.$.binds[0].split("+").map((function(e){return null!=l.PRETTY_KEYS[e]?l.PRETTY_KEYS[e]():e
})).join(" + ").toUpperCase();return(0,r.jsx)(fz,{guild:e.guild,onDismissed:e.markAsDismissed,onClick:function(){return(0,TK.$Z)("CHANNEL_NOTICE")},message:Q.Z.Messages.QUICKSWITCHER_NOTICE,cta:t,trackingSource:w.PsQ.QUICK_SWITCHER_NOTICE,type:w.vID.QUICKSWITCHER,image:CK(),imageMarginX:50})};var PK=n(482507),RK=n(337285),jK=n.n(RK);function MK(e){var t=e.guild,n=e.markAsDismissed;return(0,r.jsx)(fz,{guild:t,onDismissed:n,onClick:function(){return(0,PK.J)((0,Nd.wR)(t.id,LS.oC.ROLE_SUBSCRIPTIONS))},message:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_MWEB_PURCHASE_DESKTOP_UPSELL_BODY,cta:Q.Z.Messages.COPY_LINK,trackingSource:w.PsQ.ROLE_SUBSCRIPTION_MWEB_PURCHASE_NOTICE,type:w.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,image:jK()})}function wK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xK(e){xK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xK(e)}function LK(e,t){
return!t||"object"!==ZK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DK(e,t){DK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return DK(e,t)}var ZK=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function UK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xK(e);if(t){var o=xK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LK(this,n)}}var GK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&DK(e,t)}(n,e);var t=UK(n);function n(){wK(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([In.Z,Ds.Z],w.dG4)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=w.Hqc&&e.hasFeature(w.oNc.CREATOR_MONETIZABLE)&&e.hasFeature(w.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)&&(0,PV.H2)(e)&&(0,Lk.LA)(e.id)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);GK.displayName="RoleSubscriptionMWebPurchaseNoticeStore";const kK=new GK(b.Z);var BK=n(980604);function HK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VK(e){VK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return VK(e)}function FK(e,t){return!t||"object"!==zK(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function YK(e,t){
YK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return YK(e,t)}var zK=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function WK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=VK(e);if(t){var o=VK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FK(this,n)}}var KK=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&YK(e,t)}(n,e);var t=WK(n);function n(){HK(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(In.Z)
;this.syncWith([In.Z],w.dG4)};r.channelNoticePredicate=function(e,t){return!e.hasFeature(w.oNc.BANNER)&&Date.now()-t>=w.Hqc};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);KK.displayName="GuildBoostingNoticeStore";const qK=new KK(b.Z);function XK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QK(e){QK=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return QK(e)}function $K(e,t){return!t||"object"!==eq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JK(e,t){JK=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return JK(e,t)}var eq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=QK(e);if(t){var o=QK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $K(this,n)}}var nq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&JK(e,t)}(n,e);var t=tq(n);function n(){XK(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ds.Z);this.syncWith([Ds.Z],w.dG4)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=w.Hqc&&Ds.Z.can(w.Plq.MANAGE_GUILD,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);nq.displayName="GuildBoostingNoticeStore";const rq=new nq(b.Z);function oq(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iq(e){iq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return iq(e)}function aq(e,t){return!t||"object"!==lq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sq(e,t){sq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return sq(e,t)}var lq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=iq(e);if(t){var o=iq(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return aq(this,n)}}function uq(){return!0}var fq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&sq(e,t)}(n,e);var t=cq(n);function n(){oq(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ds.Z);this.syncWith([Ds.Z],uq)};r.channelNoticePredicate=function(e){return(0,rK.S)(e.id,ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);fq.displayName="GuildOnboardingUpsellNoticeStore";const dq=new fq(b.Z);function pq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hq(e){hq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hq(e)}function Eq(e,t){
return!t||"object"!==mq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yq(e,t){yq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yq(e,t)}var mq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hq(e);if(t){var o=hq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eq(this,n)}}var gq=!1;function bq(e){var t=In.Z.getGuild(e);if(null==t)return!1;if(!t.hasFeature(w.oNc.HUB))return!1;gq=!0;return!0}function vq(){return!0}var Oq=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yq(e,t)}(n,e);var t=_q(n);function n(){pq(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(In.Z,Nm.Z);this.syncWith([Nm.Z],vq)};r.channelNoticePredicate=function(e){return!!e.hasFeature(w.oNc.LINKED_TO_HUB)&&!gq};r.__getLocalVars=function(){return{isAlreadyInHub:gq}};return n}(s.ZP.Store);Oq.displayName="HubLinkNoticeStore";const Iq=new Oq(b.Z,{CONNECTION_OPEN:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.guilds[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){if(bq(o.value.id))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1},GUILD_CREATE:function(e){return bq(e.guild.id)}});function Sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function Tq(e){Tq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Tq(e)}function Nq(e,t){return!t||"object"!==Aq(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cq(e,t){Cq=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Cq(e,t)}var Aq=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Pq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Tq(e);if(t){var o=Tq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nq(this,n)}}function Rq(){return!0}var jq=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Cq(e,t)}(n,e);var t=Pq(n);function n(){Sq(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Ds.Z);this.syncWith([Ds.Z],Rq)};r.channelNoticePredicate=function(e,t){return Date.now()-t>=w.Hqc&&Ds.Z.can(w.Plq.ADMINISTRATOR,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);jq.displayName="InviteNoticeStore";const Mq=new jq(b.Z);var wq="lastHiddenChannelNotice",xq=[{type:w.vID.GUILD_BOOSTING,store:rq,dismissibleContentType:ws.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION},{type:w.vID.GUILD_BANNER,store:qK,dismissibleContentType:ws.z$.CHANNEL_NOTICE_GUILD_BANNER},{type:w.vID.INVITE,store:Mq,dismissibleContentType:ws.z$.CHANNEL_NOTICE_INVITE},{type:w.vID.HUB_LINK,store:Iq,
dismissibleContentType:ws.z$.CHANNEL_NOTICE_HUBLINK},{type:w.vID.QUICKSWITCHER,store:BK.Z,dismissibleContentType:ws.z$.CHANNEL_NOTICE_QUICKSWITCHER},{type:w.vID.ROLE_SUBSCRIPTION_MWEB_PURCHASE,store:kK,dismissibleContentType:ws.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL},{type:w.vID.GUILD_ONBOARDING_UPSELL,store:dq,dismissibleContentType:ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE},{type:w.vID.CLIPS_EDUCATION,dismissibleContentType:ws.z$.CLIPS_CHANNEL_NOTICE_EDUCATION},{type:w.vID.LINKED_ROLES_ADMIN,dismissibleContentType:ws.z$.LINKED_ROLE_ADMIN_GUILD},{type:w.vID.CLYDE_ADMIN_NUX,dismissibleContentType:ws.z$.CHANNEL_NOTICE_CLYDE_NUX},{type:w.vID.CLYDE_USER_NUX,dismissibleContentType:ws.z$.CHANNEL_NOTICE_CLYDE_NUX}],Lq=xq.map((function(e){return e.store})).filter(kr.lm);function Dq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uq(e){e.stopPropagation()}function Gq(e){var t,n,i,a=e.guild,l=Zq(o.useState(null!==(t=ve.Z.get(wq))&&void 0!==t?t:0),2),c=l[0],u=l[1],f=(0,s.Wu)(Lq,(function(){return xq.filter((function(e){
var t=e.store;return null==t?void 0:t.channelNoticePredicate(a,c)})).map((function(e){return e.dismissibleContentType}))}));(n=Ql.N.useExperiment({},{autoTrackExposure:!1}).enableUpsells,i=ls.nI(),n&&i)&&f.push(ws.z$.CLIPS_CHANNEL_NOTICE_EDUCATION);var d=function(e){var t,n=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)})),r=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.ADMINISTRATOR,n)})),o=null==n?void 0:n.hasFeature(w.oNc.CLYDE_DISABLED),i=bz.Z.useExperiment({guildId:null!==(t=null==n?void 0:n.id)&&void 0!==t?t:""}).experimentState;return i===bz.P.DefaultOn&&!o||i===bz.P.ComingSoon&&r}(a.id);return(0,r.jsx)(dM.Z,{contentTypes:f,groupName:Us.R.CHANNEL_NOTICES,children:function(e){var t=e.visibleContent,n=e.markAsDismissed,o=function(){!function(e){ve.Z.set(wq,e);u(e)}(Date.now());n()},i=function(){switch(t){case ws.z$.CHANNEL_NOTICE_HUBLINK:return(0,r.jsx)(wW,{guild:a,markAsDismissed:o});case ws.z$.CHANNEL_NOTICE_INVITE:return(0,r.jsx)(bK,{guild:a,markAsDismissed:o})
;case ws.z$.CHANNEL_NOTICE_PREMIUM_GUILD_SUBSCRIPTION:return(0,r.jsx)(Yz,{guild:a,markAsDismissed:o});case ws.z$.CHANNEL_NOTICE_QUICKSWITCHER:return(0,r.jsx)(AK,{guild:a,markAsDismissed:o});case ws.z$.CHANNEL_NOTICE_GUILD_BANNER:return(0,r.jsx)(Lz,{guild:a,markAsDismissed:o});case ws.z$.GUILD_ROLE_SUBSCRIPTION_MWEB_PURCHASE_UPSELL:return(0,r.jsx)(MK,{guild:a,markAsDismissed:o});case ws.z$.GUILD_ONBOARDING_UPSELL_CHANNEL_NOTICE:return(0,r.jsx)(oK,{guild:a,markAsDismissed:o});case ws.z$.CLIPS_CHANNEL_NOTICE_EDUCATION:return(0,r.jsx)(gz,{guild:a,markAsDismissed:n});case ws.z$.LINKED_ROLE_ADMIN_GUILD:return(0,r.jsx)(Pz,{guild:a,markAsDismissed:n});default:return null}}();if(null==i){if(!d||(0,vV.OY)(ws.CW.CLYDE_GUILD_NOTICE_NUX,a.id))return null;i=(0,r.jsx)(Nz,{guild:a,markAsDismissed:function(){(0,vV.Qd)(ws.CW.CLYDE_GUILD_NOTICE_NUX,a.id,!0)}})}return(0,r.jsx)("div",{onContextMenu:Uq,children:i})}})}const kq=function(e){var t=e.guild;switch(pV(t)){case dV.ENABLE_PUBLIC_GUILD:return(0,
r.jsx)(zW,{guild:t});case dV.APPLIED_GUILD_BOOST_GRACE_PERIOD:return(0,r.jsx)(Mz,{guild:t});case dV.MAX_MEMBER_COUNT:return(0,r.jsx)(IK,{guild:t});case dV.GUILD_LIVE_CHANNEL:return(0,r.jsx)(NW,{guild:t});case dV.GUILD_MFA_WARNING:return(0,r.jsx)(nK,{guild:t});case dV.COMMANDS_MIGRATION:return(0,r.jsx)(VW,{guild:t});case dV.APPLICATION_SUBSCRIPTION_EXPIRATION:return(0,r.jsx)(hz,{guild:t});case dV.HUB_STUDY_ROOM:return(0,r.jsx)(HW,{guild:t})}return cf.s.isDisallowPopupsSet()?null:(0,r.jsx)(Gq,{guild:e.guild})};var Bq=n(29802),Hq=n.n(Bq);function Vq(e){var t=e.guild,n=e.setHasSubheader,i=o.useRef(null);o.useLayoutEffect((function(){var e=i.current;null!=e&&n(e.childNodes.length>0)}));return(0,r.jsx)("div",{className:Hq().container,ref:i,children:(0,r.jsx)(kq,{guild:t})})}var Fq=n(918288),Yq=n.n(Fq);function zq(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Wq=function(){return(0,r.jsx)("div",{className:Yq().spacer})
},Kq=function(){return(0,r.jsx)("div",{className:Yq().category})},qq=function(e){var t=e.width;return(0,r.jsxs)("div",{className:Yq().channel,children:[(0,r.jsx)("div",{className:Yq().channelIcon}),(0,r.jsx)("div",{className:Yq().channelName,style:{width:"".concat(t,"px")}})]})};const Xq=function(e){var t=e.withBannerPadding;return(0,r.jsxs)("div",{className:ze()(Yq().container,zq({},Yq().bannerPadding,t)),children:[(0,r.jsx)(Kq,{}),(0,r.jsx)(qq,{width:100}),(0,r.jsx)(qq,{width:74}),(0,r.jsx)(qq,{width:100}),(0,r.jsx)(qq,{width:70}),(0,r.jsx)(qq,{width:112}),(0,r.jsx)(qq,{width:175}),(0,r.jsx)(Wq,{}),(0,r.jsx)(Kq,{}),(0,r.jsx)(qq,{width:100}),(0,r.jsx)(qq,{width:74}),(0,r.jsx)(qq,{width:100}),(0,r.jsx)(qq,{width:70}),(0,r.jsx)(qq,{width:112}),(0,r.jsx)(qq,{width:56})]})};function Qq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $q(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function eX(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jq(i,r,o,a,s,"next",e)}function s(e){Jq(i,r,o,a,s,"throw",e)}a(void 0)}))}}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nX(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function rX(e){rX=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return rX(e)}function oX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){nX(e,t,n[t])}))}return e}function iX(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function aX(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function sX(e,t){
return!t||"object"!==uX(t)&&"function"!=typeof t?$q(e):t}function lX(e,t){lX=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lX(e,t)}function cX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qq(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uX=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fX(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=rX(e);if(t){var o=rX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sX(this,n)}}var dX=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},pX=88,hX=1e3,EX="server-settings",yX={origin:{x:-8,y:-48},targetWidth:40,targetHeight:40,offset:{x:0,y:0}},mX=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lX(e,t)}(o,e);var t=fX(o);function o(){tX(this,o);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.showTimeout=new zE.V7;e.state={controller:new RA.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1,shouldShowSubscribeTooltip:!1,bannerVisibleHeight:pX,hasGuildSubheader:!1};e.handleHistoryChange=function(t){null!=t.state&&t.state.shouldShowSubscribeTooltip&&e.showTimeout.start(hX,(function(){return e.setState({shouldShowSubscribeTooltip:!0})}))};e.handleHeaderMenuToggle=function(t){var n=e.props.isHeaderPopoutOpen;t.stopPropagation();(0,yV.l)(!n);(0,JV.$u)(ws.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP);e.closeAllHeaderNotices()};e.handleContextMenu=function(t){var o=e.props.guild;null!=o&&(0,xI.jW)(t,eX((function(){var e,t
;return dX(this,(function(i){switch(i.label){case 0:return[4,n.e(41818).then(n.bind(n,941818))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,iX(oX({},e),{guild:o}))}]}}))})))};e.handleHeaderContextMenu=function(t){var o=e.props.guild;null!=o&&(0,xI.jW)(t,eX((function(){var e,t;return dX(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(57253),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,iX(oX({},e),{guild:o}))}]}}))})))};e.closeAllHeaderNotices=function(){e.handleCloseSubscribeTooltip();e.handleCloseTemplateDirtyTooltip();e.handleCloseStudentHubPrivacySettingsTooltip()};e.handleCloseStudentHubPrivacySettingsTooltip=function(){var t,n=(0,xs.un)(ws.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP),r=null===(t=e.props.guild)||void 0===t?void 0:t.hasFeature(w.oNc.HUB);!n&&r&&(0,xs.EW)(ws.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP,{dismissAction:Us.L.AUTO})}
;e.handleCloseSubscribeTooltip=function(){e.showTimeout.stop();e.state.shouldShowSubscribeTooltip&&e.setState({shouldShowSubscribeTooltip:!1})};e.handleCloseTemplateDirtyTooltip=function(){var t=e.props,n=t.guild,r=t.showGuildTemplateDirtyTooltip;null!=n&&r&&jV.Z.hideGuildTemplateDirtyTooltip(n.id)};var i=$q(e);e.renderMenuPopout=eX((function(){var e,t;return dX(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(57253),n.e(79834)]).then(n.bind(n,79834))];case 1:e=o.sent(),t=e.default;return[2,function(e){var n=e.closePopout,o=i.props.guild;return null!=o&&(0,r.jsx)(t,{onClose:n,guild:o})}]}}))}));e.renderGuildHeaderUpsellPopout=function(t){
var n=e.props,o=n.showGuildBoostingProgressBarUpsell,i=n.showGuildBoostingProgressBarSizeUpsell,a=n.showRoleSubscriptionUpsell,s=n.showDiscoveryTooltip,l=n.showInviteSplashUpsell,c=n.showDiscoveryLandingPageSettingsUpsell,u=n.showHubPrivacySettingsTooltip,f=n.showActiveThreadsNotice,d=n.showAntiRaidUpsellNotice,p=n.showMentionRaidLimitUpsell,h=n.showAutomodCustomBlockMessageUpsell,E=n.showAutomodUserProfileUpsell,y=n.shouldRenderAppDirectoryCoachMark,m=n.showCreatorPromoPageTooltip,_=n.showGuildSoundboardPermissionUpsell,g=n.showMediaChannelUpsell,b=n.showSummaryUpsell,v=n.showSplitPermissionUpsell,O=n.showTierTemplatesUpsell,I=n.guild,S=n.theme,T=n.hidesAppDirectoryCoachMark;if(null==I)return e.renderGuildHeaderDropdownButton(t);var N=[];u&&N.push(ws.z$.STUDENT_HUB_PRIVACY_SETTINGS_TOOLTIP);f&&N.push(ws.z$.GUILD_HEADER_ACTIVE_THREADS_NOTICE);o&&N.push(ws.z$.GUILD_HEADER_PREMIUM_GUILD_PROGRESS);i&&N.push(ws.z$.GUILD_HEADER_PROGRESS_BAR_SIZE_COACH_MARK)
;a&&N.push(ws.z$.GUILD_HEADER_ROLE_SUBSCRIPTION_UPSELL);_&&N.push(ws.z$.GUILD_HEADER_SOUNDBOARD_PERMISSION);v&&N.push(ws.z$.GUILD_HEADER_SPLIT_PERMISSION);l&&N.push(ws.z$.GUILD_HEADER_INVITE_SPLASH);s&&N.push(ws.z$.GUILD_HEADER_SERVER_DISCOVERY_TOOLTIP);c&&N.push(ws.z$.GUILD_DISCOVERY_LANDING_PAGE_SETTINGS_UPSELL);y&&N.push(ws.z$.APP_DIRECTORY_COACH_MARK);m&&N.push(ws.z$.CREATOR_PROMO_PAGE_COACH_MARK);d&&N.push(ws.z$.ANTI_RAID_SAFETY_ALERT_NOTICE);p&&N.push(ws.z$.GUILD_MENTION_RAID_LIMIT);h&&N.push(ws.z$.GUILD_AUTOMOD_CUSTOM_BLOCK_MESSAGE);E&&N.push(ws.z$.GUILD_AUTOMOD_USER_PROFILE_UPSELL_AB);if(0===N.length)return e.renderGuildHeaderDropdownButton(t);g&&N.push(ws.z$.MEDIA_CHANNEL_UPSELL);b&&N.push(ws.z$.GUILD_HEADER_SUMMARIES_UPSELL);O&&N.push(ws.z$.SERVER_SUBSCRIPTION_TIER_TEMPLATE_UPSELL);return(0,r.jsx)(XY,{contentTypes:N,theme:S,guild:I,renderGuildHeaderDropdownButton:function(){return e.renderGuildHeaderDropdownButton(t)},hidesAppDirectoryCoachMark:T})}
;e.renderGuildHeaderDropdownButton=function(t){var n=e.props,o=n.guild,i=n.shouldShowBoostingHighlight,a=n.isTutorialHighlightDismissed,s=n.isBoostingFlowDismissed,l=XV.Z.getCurrentConfig({},{autoTrackExposure:!1}).enabled,c=i&&!a&&!s,u=l&&!t||null==o;return(0,r.jsx)($V.$,{substeps:[Dy.H6.BOOSTING_GUILD_MENU_ITEM],disableFlow:u,tooltipPosition:"right",tooltipSpacing:16,onNext:function(){null!=o&&(0,gV.f)({guildId:o.id,location:{section:w.jXE.GUILD_HEADER_POPOUT}})},disableHighlight:!0,children:function(e){return(0,r.jsx)("div",{className:ze()(nX({},PY().dropdownWrapperHighlighted,c)),children:(0,r.jsx)(YB.Z,{open:t,className:PY().dropdownButton,withHighlight:c})})}})};e.pinBannerOrGuildInfo=function(t){var n=t.scrollTop;e.setAnimatedValue(n)};return e}var i=o.prototype;i.componentDidMount=function(){var e,t=this;this.setAnimatedValue(0);b.Z.subscribe("LAYER_PUSH",this.closeAllHeaderNotices);this.historyUnlisten=zf.Z.addRouteChangeListener(this.handleHistoryChange)
;(null===(e=zf.Z.getHistory().location.state)||void 0===e?void 0:e.shouldShowSubscribeTooltip)&&this.showTimeout.start(hX,(function(){return t.setState({shouldShowSubscribeTooltip:!0})}))};i.componentWillUnmount=function(){this.showTimeout.stop();this.state.controller.dispose();this.historyUnlisten();b.Z.unsubscribe("LAYER_PUSH",this.closeAllHeaderNotices)};i.getGuildBannerHash=function(){var e=this.props,t=e.guild,n=e.hasChannelNotice;return null==t||n?null:t.banner};i.renderGuildHeaderNotices=function(e){var t=this,n=this.props,o=n.showGuildTemplateDirtyTooltip,i=n.showGuildHeaderTutorial,a=n.anyLayerOpen,s=this.state.shouldShowSubscribeTooltip;return i?(0,r.jsx)("div",{onClick:function(t){return e?null:t.stopPropagation()},children:(0,r.jsx)(rF.Z,{tutorialId:EX,position:"bottom",inlineSpecs:yX,children:this.renderGuildHeaderDropdownButton(e)})}):o?(0,r.jsx)(l.Tooltip,{forceOpen:!0,color:l.TooltipColors.BRAND,position:"bottom",shouldShow:!e&&!a,
text:Q.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,"aria-label":Q.Z.Messages.GUILD_TEMPLATES_UNSYNCED_TOOLTIP,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):a||e?this.renderGuildHeaderDropdownButton(e):s?(0,r.jsx)(l.Popout,{renderPopout:function(){return(0,r.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_HEADER,content:Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_TEXT,buttonCTA:Q.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_HEADER_SUBSCRIBE_TOOLTIP_CLOSE,onClick:t.handleCloseSubscribeTooltip})})},position:"bottom",align:"center",animation:l.Popout.Animation.TRANSLATE,shouldShow:!0,children:function(){return t.renderGuildHeaderDropdownButton(e)}}):this.renderGuildHeaderUpsellPopout(e)};i.renderGuildHeader=function(e){
var t=this,n=this.props,o=n.guild,i=n.isHeaderPopoutOpen,a=n.showGuildHeaderTutorial,s=n.showGuildTemplateDirtyTooltip,c=n.isGuildHeaderDismissibleTooltipShown,u=n.HeaderAnalyticsLocationProvider,f=this.state,d=f.controller,p=f.renderBanner,h=f.bannerVisible,E=f.bannerVisibleHeight,y=f.communityInfoVisible,m=a||s||c;return null==o?null:(0,r.jsx)(u,{children:(0,r.jsx)(l.LazyPopout,{renderPopout:this.renderMenuPopout,position:"bottom",align:"center",animation:l.Popout.Animation.SCALE,shouldShow:i,onRequestClose:function(){(0,JV.RI)(Dy.QD.BOOSTING);(0,yV.l)(!1)},children:function(n){n.onClick;var a=aX(n,["onClick"]);return(0,r.jsx)(mF.ZP,iX(oX({guild:o,controller:d,renderBanner:p,hasSubheader:e,bannerVisible:h,communityInfoVisible:y,guildBanner:t.getGuildBannerHash(),onClick:t.handleHeaderMenuToggle,onContextMenu:t.handleHeaderContextMenu,disableBannerAnimation:m,animationOverlayHeight:E},a),{children:t.renderGuildHeaderNotices(i)}))}})})};i.setAnimatedValue=function(e){
var t=this.props.guild,n=null!=this.getGuildBannerHash(),r=null==t?void 0:t.hasCommunityInfoSubheader();null!=t&&(n||r)&&(n?this.setAnimatedValueForBanner(e):this.setAnimatedValueForGuildInfo(e))};i.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,o=t.bannerVisible,i=t.bannerVisibleHeight,a=t.controller;(e>=64&&o||e<64&&!o)&&(o=!o);(e>=pX&&!n||e<pX&&n)&&(n=!n);i=Math.max(pX-e,0);r=o;n===this.state.renderBanner&&o===this.state.bannerVisible&&i===this.state.bannerVisibleHeight&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:o,bannerVisibleHeight:i,communityInfoVisible:r});a.update({value:Math.min(1,Math.max(0,1-e/pX)),immediate:!0}).start()};i.setAnimatedValueForGuildInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&(n=!n);n!==this.state.communityInfoVisible&&this.setState({communityInfoVisible:n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0
}).start()};i.renderChannelList=function(){var e=this.props,t=e.isUnavailable,n=e.guild,o=e.selectedChannel,i=e.enableStudyGroup,a=aX(e,["isUnavailable","guild","selectedChannel","enableStudyGroup"]);if(t||null==n)return(0,r.jsx)(Xq,{withBannerPadding:null!=n&&null!=this.getGuildBannerHash()});if(n.hasFeature(w.oNc.HUB)&&!i)return(0,r.jsx)("div",{className:PY().hubContainer,children:(0,r.jsx)(WV.Z,{guild:n,channel:null!=o?o:eT.ZP.getDefaultChannel(n.id)})});var s=n.id===OV._?sF.j:sF.E;return(0,r.jsx)(s,iX(oX({guild:n},a),{guildBanner:this.getGuildBannerHash(),hasGuildSubheader:this.state.hasGuildSubheader,onScroll:null==n||null==this.getGuildBannerHash()&&!n.hasCommunityInfoSubheader()?null:this.pinBannerOrGuildInfo}))};i.renderFooter=function(){var e=this.props,t=e.selectedChannelId,n=e.shouldRenderNitroActivitiesCoachMark,o=e.shouldRenderBashOutCoachMark,i=e.shouldRenderGarticPhoneCoachMark,a=e.shouldRenderActivitiesGameNightCoachMark,s=[]
;n&&s.push(ws.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2);o&&s.push(ws.z$.BASH_OUT_COACH_MARK);i&&s.push(ws.z$.ACTIVITY_COACH_MARK_GARTIC_PHONE);a&&s.push(ws.z$.ACTIVITIES_COACH_MARK_GAME_NIGHT);return(0,r.jsx)(dM.Z,{contentTypes:s,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;switch(n){case ws.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2:return(0,r.jsx)(yF,{channelId:null!=t?t:void 0,markAsDismissed:function(){(0,xs.EW)(ws.z$.ACTIVITIES_NITRO_TUTORIAL_COACH_MARK_V2,{forceTrack:!0,dismissAction:Us.L.DISMISS});s.includes(ws.z$.BASH_OUT_COACH_MARK)&&(0,xs.EW)(ws.z$.BASH_OUT_COACH_MARK,{forceTrack:!0,dismissAction:Us.L.AUTO});i&&(0,xs.EW)(ws.z$.ACTIVITY_COACH_MARK_GARTIC_PHONE,{forceTrack:!0,dismissAction:Us.L.AUTO});a&&(0,xs.EW)(ws.z$.ACTIVITIES_COACH_MARK_GAME_NIGHT,{forceTrack:!0,dismissAction:Us.L.AUTO})},tutorialType:tF.NITRO});case ws.z$.BASH_OUT_COACH_MARK:return(0,r.jsx)(yF,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:tF.BASH_OUT})
;case ws.z$.ACTIVITY_COACH_MARK_GARTIC_PHONE:return(0,r.jsx)(yF,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:tF.GARTIC_PHONE});case ws.z$.ACTIVITIES_COACH_MARK_GAME_NIGHT:return(0,r.jsx)(yF,{channelId:null!=t?t:void 0,markAsDismissed:o,tutorialType:tF.GAME_NIGHT});default:return(0,r.jsx)(r.Fragment,{})}}})};i.render=function(){var e=this,t=this.props,n=t.guild,o=t.FooterAnalyticsLocationProvider;return(0,r.jsxs)("nav",{className:PY().container,onContextMenu:this.handleContextMenu,"aria-label":Q.Z.Messages.GUILD_SIDEBAR_A11Y_LABEL.format({guildName:null!=n?n.toString():""}),children:[null!=n&&this.renderGuildHeader(this.state.hasGuildSubheader),null!=n&&(0,r.jsx)(Vq,{guild:n,setHasSubheader:function(t){return e.setState({hasGuildSubheader:t})}}),this.renderChannelList(),(0,r.jsx)(o,{children:this.renderFooter()})]})};o.getDerivedStateFromProps=function(e){var t=e.guild,n=e.hasChannelNotice;return null==t||null==t.banner||n?{renderBanner:!1,bannerVisible:!1}:null};return o
}(o.PureComponent);function _X(e){var t=e.guildId,n=e.hideSelectedChannel,i=e.selectedChannelId,a=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)})),c=(0,EV.Z)(t),u=(0,s.e7)([aF.Z],(function(){return aF.Z.getGuildDimensions(t).scrollTo})),f=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId()})),d=cX((0,s.Wu)([Ds.Z],(function(){return[Ds.Z.can(w.Plq.MANAGE_GUILD,a),Ds.Z.can(w.Plq.MANAGE_ROLES,a),Ds.Z.can(w.Plq.MANAGE_THREADS,a)]})),3),p=d[0],h=d[1],E=d[2],y=(0,s.e7)([Vc.Z],(function(){return Vc.Z.isUnavailable(t)})),m=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),_=(0,s.e7)([La.Z],(function(){return La.Z.darkSidebar?w.BRd.DARK:La.Z.theme})),g=gH(a).enableStudyGroup,b=(0,vs.ZP)((function(e){return e.currentlyShown.has(ws.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION)})),v=cX(o.useState(!b),2),O=v[0],I=v[1],N=(0,Ng.Z)(t),A=(0,XB.Z)(fp.Z.GUILD_HEADER).AnalyticsLocationProvider,P=(0,XB.Z)(fp.Z.GUILD_CHANNEL_LIST_FOOTER).AnalyticsLocationProvider;o.useEffect((function(){
t!==N&&I(!b)}),[t,N,b]);var R,j=cX((0,vs.ZP)((function(e){return[xq.some((function(t){return e.currentlyShown.has(t.dismissibleContentType)})),e.currentlyShownGroup.has(Us.R.GUILD_HEADER_TOOLTIPS)]})),2),M=j[0],x=j[1],L=null!=pV(a)||M,D=(0,l.useModalsStore)(l.hasAnyModalOpenSelector),Z=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),U=(0,s.e7)([oF.Z],(function(){return oF.Z.shouldShow(EX)})),G=p&&!1===(null==a?void 0:a.premiumProgressBarEnabled)&&!cf.s.isDisallowPopupsSet(),k=(0,s.e7)([Ls.Z],(function(){return Ls.Z.getMemberCount(t)})),B=p&&null!=k&&k>=30&&!1===(null==a?void 0:a.premiumProgressBarEnabled)&&!cf.s.isDisallowPopupsSet(),H=h&&null!=a&&(a.hasFeature(w.oNc.COMMUNITY)||null!=k&&k>50),V=(0,qV.Ww)(a),F=function(e){var t,n=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)})),r=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),o=(null==n?void 0:n.ownerId)===(null==r?void 0:r.id),i=(0,RV.Sd)()
;return o&&null!==(t=null==n?void 0:n.hasFeature(w.oNc.COMMUNITY))&&void 0!==t&&t&&i&&!((null==n?void 0:n.hasFeature(w.oNc.CREATOR_MONETIZABLE))||(null==n?void 0:n.hasFeature(w.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||(null==n?void 0:n.hasFeature(w.oNc.CREATOR_MONETIZABLE_DISABLED)))}(t),z=(0,hV._)(t),W=!0===(null==a?void 0:a.hasFeature(w.oNc.HUB)),K=p&&!0===(null==a?void 0:a.hasFeature(w.oNc.DISCOVERABLE)),q=(0,oH.Q)(),X=(p||(null==a?void 0:a.premiumTier)===w.Eu4.NONE)&&!cf.s.isDisallowPopupsSet()&&!q,Q=(0,s.e7)([zV,T.Z],(function(){return null!=a&&null!=m&&p&&!T.Z.hasLayers()&&zV.shouldShowGuildTemplateDirtyTooltip(t)})),$=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(i)})),J=(0,yV.y)().isPopoutOpen,ee=null!==(R=null==a?void 0:a.hasFeature(w.oNc.COMMUNITY))&&void 0!==R&&R,te=(0,s.e7)([nF.Z],(function(){return!Ke().isEmpty(nF.Z.getThreadsForGuild(t))})),ne=E&&null!=k&&k>=200&&te,re=O,oe=!0===(null==a?void 0:a.hasFeature(w.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)),ie=(0,
Lk.vS)(a)&&p&&oe,ae=(0,QV.AR)(),se=(0,xs.wE)(Dy.QD.BOOSTING),le=rH({guildId:t}),ce=le.shouldRenderAppDirectoryCoachMark,ue=le.hidesAppDirectoryCoachMark,fe=qB.useExperiment({},{autoTrackExposure:!0}).enabled,de=Af.ZP.canUsePremiumActivities(m),pe=Af.ZP.isNewUser(m),he=O&&fe&&de,Ee=(0,zB.Qd)(t).enabled,ye=(0,zB.vM)(),me=O&&(Ee||ye)&&!pe,_e=KB.useExperiment({},{autoTrackExposure:!0}).enabled,ge=O&&_e,be=WB.F.useExperiment({},{autoTrackExposure:!0}).enabled,ve=O&&be;CV(a);var Oe=(0,xs.wE)(ws.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP),Ie=(0,mV.MR)(a),Se=(0,mV.WR)(a),Te=(0,_V.LK)(a),Ne=(0,_V.sG)(a),Ce=function(e){var t=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)})),n=(0,KV.Ui)(t),r=Ds.Z.can(w.Plq.MANAGE_CHANNELS,t);return n&&r}(t),Ae=function(e){var t=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)})),n=Ds.Z.can(w.Plq.MANAGE_GUILD,t);return(0,eF.l9)(t,n)&&n}(t),Pe=function(e){var t=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)})),n=(0,Lk.ss)(e),r=(0,
Lk.Gp)(),o=!0===(null==t?void 0:t.hasFeature(w.oNc.ROLE_SUBSCRIPTIONS_ENABLED))&&!1===(null==t?void 0:t.hasFeature(w.oNc.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)),i=(0,PV.H2)(t);o&&r&&i&&AV.jJ.trackExposure({guildId:e});return o&&r&&i&&n}(t);return(0,r.jsx)(mX,{guildId:t,hideSelectedChannel:n,guild:a,scrollToChannel:u,selectedChannelId:n?null:i,selectedChannel:$,selectedVoiceChannelId:f,voiceStates:c,isUnavailable:y,theme:_,user:m,hasChannelNotice:L,anyLayerOpen:D||Z,showGuildBoostingProgressBarUpsell:G,showGuildBoostingProgressBarSizeUpsell:B,showInviteSplashUpsell:X,showDiscoveryLandingPageSettingsUpsell:K,showGuildHeaderTutorial:U,showGuildTemplateDirtyTooltip:Q,showRoleSubscriptionUpsell:F,showDiscoveryTooltip:z,showHubPrivacySettingsTooltip:W,showCreatorPromoPageTooltip:ie,showNewUnreadsBar:ee,showActiveThreadsNotice:ne,showAntiRaidUpsellNotice:Ie,showMentionRaidLimitUpsell:Se,showAutomodCustomBlockMessageUpsell:Te,showAutomodUserProfileUpsell:Ne,
showGuildSoundboardPermissionUpsell:H,showMediaChannelUpsell:Ce,showSummaryUpsell:Ae,showSplitPermissionUpsell:V,showTierTemplatesUpsell:Pe,isHeaderPopoutOpen:J,enableStudyGroup:g,isGuildHeaderDismissibleTooltipShown:x,canShowCoachMarkAtBottom:O,HeaderAnalyticsLocationProvider:A,FooterAnalyticsLocationProvider:P,shouldRenderNitroActivitiesCoachMark:re,shouldShowBoostingHighlight:ae,isBoostingFlowDismissed:se,shouldRenderAppDirectoryCoachMark:ce,hidesAppDirectoryCoachMark:ue,shouldRenderBashOutCoachMark:he,shouldRenderGarticPhoneCoachMark:ge,shouldRenderActivitiesGameNightCoachMark:ve,isTutorialHighlightDismissed:Oe,shouldRenderBurstCoachmark:me})}var gX=n(913921),bX=n(757753),vX=n(966658),OX=n(826357),IX=n.n(OX);function SX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SX(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const NX=function(e){var t=e.guildId,n=e.inviteCode,i=TX(o.useState(Ww.hO.INITIAL),2),a=i[0],l=i[1],c=TX(o.useState(null!=n),2),u=c[0],f=c[1];o.useEffect((function(){null!=n&&po.Z.resolveInvite(n,"Hub").finally((function(){return f(!1)}))}),[n]);var d=(0,s.e7)([bX.Z],(function(){
return null!=n?bX.Z.getInvite(n):null})),p=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)}));o.useEffect((function(){null!=p&&(0,K.uL)(w.Z5c.CHANNEL(t))}),[p,t]);var h=o.useCallback((function(e){l((function(t){return Math.max(t,e)}))}),[]),E=(0,xw.gK)();return(0,r.jsx)("div",{className:IX().page,children:(0,r.jsxs)(ww.Z,{embedded:!0,splash:E,waveState:a,showLogo:!1,updateWaveState:h,children:[(0,r.jsx)("div",{className:IX().dragRegion}),(0,r.jsx)("div",{className:IX().contentWrapper,children:!u&&(0,r.jsx)(vX.HubEmailConnectionModalView,{invite:d})})]})})};var CX=n(125776),AX=n(56148),PX=(0,it.B)({kind:"user",id:"2023-01_clear_all_message_requests",label:"Safety Experience Reject All Message Requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function RX(){return PX.useExperiment({},{autoTrackExposure:!0}).enabled}var jX=n(996344),MX=n(48315),wX=n(544488);function xX(){return(0,s.e7)([MX.Z],(function(){return MX.Z.getSpamChannelsCount()}))
}function LX(){var e=(0,wX.q)(),t=o.useRef(e),n=(0,s.e7)([jX.Z],(function(){return jX.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}function DX(){var e=xX(),t=o.useRef(e),n=(0,s.e7)([MX.Z],(function(){return MX.Z.isReady()})),r=o.useRef(n);o.useEffect((function(){if(n&&!r.current){r.current=!0;t.current=e}}),[n,e]);return t.current<=1&&1===e}var ZX=n(525008),UX=n(771344),GX=n(272403),kX=n.n(GX);function BX(e){var t=e.channel,n=e.baseChannelId,i=(0,C_.ZP)(t),a=LX(),c=DX(),u=(0,s.e7)([jX.Z],(function(){return jX.Z.isMessageRequest(t.id)})),f=(0,s.e7)([MX.Z],(function(){return MX.Z.isSpam(t.id)})),d=(0,UX.V)(t.id,t.getRecipientId()),p=o.useCallback((function(){Sm.Z.closeChannelSidebar(P_.uZ);u&&a&&(0,gN.Kh)(t.id);f&&c&&(0,gN.Kh)(t.id)}),[t.id,f,c,u,a]),h=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,l.ToastType.FAILURE))}),[]),E=(0,
ZX.m)({onAcceptSuccess:p,onError:h}).markAsNotSpam;if(null==t||!t.isDM())return null;var y=[(0,r.jsx)(eS.ZP.Icon,{icon:JI.Z,tooltip:Q.Z.Messages.CLOSE,onClick:function(){return Sm.Z.closeChannelSidebar(n)}},"close")];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eS.ZP,{toolbar:y,"aria-label":Q.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:(0,KI.ud)({channel:t,channelName:i,inSidebar:!0})}),f&&(0,r.jsxs)("div",{className:kX().hamBanner,children:[(0,r.jsx)(l.Text,{className:kX().hamBannerText,variant:"text-sm/normal",children:Q.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_HEADER}),(0,r.jsx)(l.Button,{className:kX().hamBannerButton,size:l.ButtonSizes.SMALL,onClick:function(){return E(t,d)},children:Q.Z.Messages.MESSAGE_REQUESTS_CHANNEL_SIDEBAR_HAM_BUTTON})]}),(0,r.jsx)("div",{className:nS().chat,children:(0,r.jsx)(LI.Z,{channel:t,guild:null,chatInputType:GI.I.SIDEBAR},t.id)})]})}var HX=n(582906),VX=n(686874),FX=n(218372),YX=n(202237),zX=n(463473),WX=n(652119),KX=n(132167)
;function qX(e){return e.sort((function(e,t){return ax.default.compare(e.lastMessageId,t.lastMessageId)})).reverse()}var XX=n(327860),QX=n(234594),$X=n(490530),JX=n.n($X),eQ=n(96972),tQ=n.n(eQ),nQ=n(540579),rQ=n.n(nQ);function oQ(e){return e===QX.pS.SPAM?Q.Z.Messages.MESSAGE_REQUESTS_SPAM_EMPTY_STATE_BODY:Q.Z.Messages.MESSAGE_REQUESTS_EMPTY_STATE_BODY}function iQ(e){var t=e.section,n=(0,s.e7)([La.Z],(function(){return La.Z.theme}));return(0,r.jsxs)(XX.ZP,{theme:n,className:JX().emptyStateContainer,children:[(0,r.jsx)(XX.ZP.Image,{width:415,height:200,lightSrc:rQ(),darkSrc:tQ()}),(0,r.jsx)(XX.ZP.Text,{note:oQ(t)})]})}var aQ=n(110599),sQ=n.n(aQ);function lQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cQ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function uQ(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){
cQ(i,r,o,a,s,"next",e)}function s(e){cQ(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fQ(e,t,n[t])}))}return e}function pQ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hQ(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var EQ=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),
return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const yQ=function(e){
var t=e.children,i=e.user,a=e.channel,s=e.onClick,c=e.isFocused,u=e.isActive,f=e.onOtherHover,d=e.className,p=hQ(o.useState(!1),2),h=p[0],E=p[1],y=hQ(o.useState(!1),2),m=y[0],_=y[1],g=function(){E(!0);!c||u||m||null==f||f()},b=function(){E(!1)};return(0,r.jsx)(Si.mh,{id:a.id,children:function(e){return(0,r.jsx)(l.FocusRing,{offset:{left:-8,right:-8},children:(0,r.jsx)(Qu.Z.div,pQ(dQ({className:ze()(sQ().messageRequestItem,d,fQ({},sQ().active,u||m)),onContextMenu:function(e){return function(e,t){if(null!=t){_(!0);(0,xI.jW)(e,uQ((function(){var e,o;return EQ(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,pQ(dQ({},e),{user:t}))}]}}))})),{onClose:function(){_(!1)}})}}(e,i)},onMouseEnter:g,onMouseLeave:b,onClick:null!=s?s:void 0,style:{LIST_ROW_HEIGHT:QX.WN,opacity:1}},e),{children:t(h||u||m)}))})}})}
;var mQ=n(334835),_Q=n(621647),gQ=n(202561),bQ=n(761465);function vQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function OQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vQ(e,t,n[t])}))}return e}function IQ(e){var t=e.lastMessageId,n=e.message;return e.loaded&&null!=n?ax.default.extractTimestamp(n.id):null!=t?ax.default.extractTimestamp(t):null}var SQ=n(804808),TQ=n(507488),NQ=n(763536),CQ=n(939198),AQ=n(22556),PQ=n.n(AQ);function RQ(e){var t=e.channel,n=(0,bQ.a)(t),i=n.loaded,a=n.error,c=n.message,u=(0,s.e7)([Jf.Z],(function(){return null!=c&&Jf.Z.isBlocked(c.author.id)}),[c]),f=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.MANAGE_MESSAGES,t)
})),d=Da.cC.useSetting(),p=o.useMemo((function(){return null!=(null==c?void 0:c.content)&&""!==c.content?(0,SQ.ZP)(c,{formatInline:!0,noStyleAndInteraction:!0}):{content:null}}),[c]).content,h=null;if(a)h=(0,r.jsx)(l.Text,{className:PQ().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:Q.Z.Messages.MESSAGE_REQUESTS_ERROR_LOADING_PREVIEW});else if(i)if(null!=c&&u)h=(0,r.jsx)(l.Text,{className:PQ().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:Q.Z.Messages.MESSAGE_REQUESTS_BLOCKED_MESSAGE});else if(null!=c){var E=(0,NQ.f)(c,p,u,ze()(PQ().messageContent,IG().inlineFormat,IG().smallFontSize),{iconClass:PQ().messageContentIcon,iconSize:CQ.WW}),y=E.contentPlaceholder,m=E.renderedContent;h=null!=m?(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"text-muted",className:PQ().messageContent,children:m}):(0,r.jsx)(l.Text,{tag:"span",variant:"text-sm/normal",color:"text-muted",className:PQ().messageReplacement,children:y})}else h=(0,r.jsx)(l.Text,{
className:PQ().messageReplacement,variant:"text-sm/normal",color:"text-muted",children:Q.Z.Messages.MESSAGE_REQUESTS_DELETED_MESSAGE});else h=null;return(0,r.jsx)(TQ.a.Provider,{value:(0,$S.Z)(d,f),children:(0,r.jsx)(l.FocusBlock,{className:PQ().messageFocusBlock,children:h})})}const jQ=o.memo(RQ);var MQ=n(808573),wQ=n.n(MQ),xQ=sd.default.getEnableHardwareAcceleration()?l.AnimatedAvatar:l.Avatar;function LQ(e){var t=e.channel,n=e.otherUser,o=e.active,i=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),a=(0,s.e7)([Jf.Z],(function(){return null==n?null:Jf.Z.getNickname(n.id)})),c=!i&&o,u=function(e){var t=(0,bQ.a)(e),n=IQ(OQ({lastMessageId:(0,s.e7)([CU.ZP],(function(){return CU.ZP.lastMessageId(e.id)}))},t));return null==n?"":(0,gQ.Ye)(n)}(t),f=(0,bU.Z)({user:n,size:(0,vU.y)(l.AvatarSizes.SIZE_40)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xQ,{className:wQ().avatar,src:(0,_Q.x)(t,40,c),avatarDecoration:f,size:l.AvatarSizes.SIZE_40,"aria-label":n.username}),(0,
r.jsxs)("div",{className:wQ().userPreview,children:[(0,r.jsxs)("div",{className:wQ().userContainerWithPreview,children:[(0,r.jsx)(mQ.Z,{nick:a,user:n,showAccountIdentifier:!0,className:wQ().tagContainer,usernameClass:wQ().username,discriminatorClass:null!=M_.ZP.getGlobalName(n)?wQ().globalName:wQ().discriminator}),(0,r.jsx)(l.Text,{className:wQ().timestampWithPreview,color:"text-muted",variant:"text-xs/normal",children:u})]}),(0,r.jsx)("div",{className:wQ().messagePreview,children:(0,r.jsx)(jQ,{channel:t})})]})]})}var DQ=n(254814),ZQ=n.n(DQ);function UQ(e){var t=e.active,n=e.user,i=e.channel,a=LX(),s=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,l.ToastType.FAILURE))}),[]),c=o.useCallback((function(){Sm.Z.closeChannelSidebar(P_.uZ)}),[]),u=o.useCallback((function(){Sm.Z.closeChannelSidebar(P_.uZ);a&&(0,gN.Kh)(i.id)}),[i.id,a]),f=(0,ZX.m)({user:n,onAcceptSuccess:u,onRejectSuccess:c,onError:s
}),d=f.acceptMessageRequest,p=f.rejectMessageRequest,h=f.isAcceptLoading,E=f.isRejectLoading,y=f.isUserProfileLoading,m=f.isOptimisticAccepted,_=f.isOptimisticRejected,g=h||E||y||(m||_);return(0,r.jsxs)("div",{className:ZQ().container,children:[(0,r.jsx)(LQ,{channel:i,otherUser:n,active:t}),(0,r.jsxs)("div",{className:ZQ().actions,children:[(0,r.jsx)(l.Button,{className:ZQ().button,color:l.ButtonColors.PRIMARY,size:l.Button.Sizes.SMALL,onClick:function(e){e.stopPropagation();p(i.id)},disabled:g,submitting:E||_,children:Q.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,r.jsx)(l.Button,{className:ZQ().button,color:l.ButtonColors.BRAND,size:l.Button.Sizes.SMALL,onClick:function(e){e.stopPropagation();d(i.id)},disabled:g,submitting:h||y||m,children:Q.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})]})}function GQ(e){var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest,a=(0,KX._)().channelId;return(0,r.jsx)(yQ,{className:t,isFocused:a===n.id,channel:n,user:o,onClick:function(e){
e.stopPropagation();Sm.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:P_.uZ,hasSingleMessageRequest:i});setTimeout((function(){zh.S.dispatch(w.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(UQ,{active:e,user:o,channel:n})}})}var kQ=n(986923),BQ=n(478797),HQ=n.n(BQ);function VQ(e){var t=e.active,n=e.user,i=e.channel,a=DX(),s=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.MESSAGE_REQUESTS_SPAM_ERROR_ALERT_TITLE,l.ToastType.FAILURE));HX.Z.increment({name:CX.V.SPAM_MESSAGE_REQUEST_ERROR_VIEW})}),[]),c=o.useCallback((function(){Sm.Z.closeChannelSidebar(P_.uZ)}),[]),u=o.useCallback((function(){Sm.Z.closeChannelSidebar(P_.uZ);a&&(0,gN.Kh)(i.id)}),[i.id,a]),f=(0,ZX.m)({user:n,onAcceptSuccess:u,onRejectSuccess:c,onError:s}),d=f.acceptMessageRequest,p=f.isAcceptLoading,h=f.isUserProfileLoading,E=f.isOptimisticAccepted,y=p||h,m=y||E;return(0,r.jsxs)("div",{className:HQ().container,children:[(0,r.jsx)(LQ,{otherUser:n,
channel:i,active:t}),(0,r.jsxs)("div",{className:HQ().actions,children:[(0,r.jsx)(l.Button,{className:HQ().button,color:l.ButtonColors.PRIMARY,size:l.Button.Sizes.SMALL,onClick:function(e){d(i.id);e.stopPropagation()},disabled:m,submitting:y,children:Q.Z.Messages.MESSAGE_REQUESTS_SPAM_ACCEPT}),(0,r.jsx)(kQ.Z,{className:HQ().button,channel:i,buttonSize:l.Button.Sizes.SMALL})]})]})}function FQ(e){var t=e.className,n=e.channel,o=e.user,i=e.hasSingleMessageRequest;return(0,r.jsx)(yQ,{className:t,isFocused:!1,channel:n,user:o,onClick:function(e){e.stopPropagation();Sm.Z.openPrivateChannelAsSidebar({channelId:n.id,baseChannelId:P_.uZ,hasSingleMessageRequest:i});setTimeout((function(){zh.S.dispatch(w.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:n.id})}),0)},children:function(e){return(0,r.jsx)(VQ,{active:e,user:o,channel:n})}})}var YQ=n(342637),zQ=n.n(YQ);function WQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function KQ(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function qQ(){var e=o.useRef(null),t=function(){var e=(0,s.e7)([S.Z],(function(){return S.Z.getPrivateChannelsVersion()})),t=(0,s.Wu)([S.Z,MX.Z],(function(){var e=S.Z.getMutablePrivateChannels();return qX(Array.from(MX.Z.getSpamChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([Y.default],(function(){var e={};t.forEach((function(t){var n=Y.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t]);return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),n=xX(),i=DX(),a=RX(),c=(0,Ti.Z)("message-requests-spam-list"),u=(0,
KX._)().channelId,f=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,l.ToastType.FAILURE))}),[]),d=(0,ZX.m)({onError:f}).rejectAll,p=o.useCallback((function(){var e=t.map((function(e){return e.channel.id}));d(e)}),[t,d]);o.useEffect((function(){Oe.default.track(w.rMx.SPAM_MESSAGE_REQUESTS_VIEWED,{num_spam_message_requests:n});HX.Z.increment({name:CX.V.SPAM_MESSAGE_REQUEST_VIEW})}),[]);var h=o.useCallback((function(e){var n,o,a,s=e.row,l=t[s],c=null===(n=t[s+1])||void 0===n||null===(o=n.channel)||void 0===o?void 0:o.id,f=l.channel.id,d=null!=u&&u===f,p=null!=u&&u===c;return(0,r.jsx)(FQ,{className:ze()((a={},WQ(a,zQ().selected,d),WQ(a,zQ().siblingSelected,p),a)),channel:l.channel,user:l.user,hasSingleMessageRequest:i},f)}),[t,i,u]),E=o.useCallback((function(){return(0,r.jsxs)(YX.Z,{className:zQ().sectionTitle,children:[Q.Z.Messages.MESSAGE_REQUESTS_SPAM_HEADER.format({count:n}),a&&n>0?(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(l.Text,{className:zQ().titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,r.jsx)(l.Button,{onClick:p,look:l.ButtonLooks.LINK,color:l.ButtonColors.LINK,size:l.ButtonSizes.SMALL,className:zQ().clearAllButton,"aria-label":Q.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:Q.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"message-requests-spam-title")}),[n,p,a]);return 0===t.length?(0,r.jsx)(iQ,{section:QX.pS.SPAM}):(0,r.jsx)(Si.bG,{navigator:c,children:(0,r.jsx)(Si.SJ,{children:function(n){var o=n.ref,i=n.role,a=KQ(n,["ref","role"]);return(0,r.jsx)(l.List,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){WQ(e,t,n[t])}))}return e}({className:zQ().list,innerRole:i,
innerAriaLabel:Q.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:QX.oi,rowHeight:QX.WN,renderSection:E,renderRow:h,sections:[t.length],chunkSize:30,fade:!0},a),"message-requests-spam-list")}})})}var XQ=n(279597),QQ=n.n(XQ);function $Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JQ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function e$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function t$(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n$(){var e=o.useRef(null),t=(0,wX.q)(),n=function(){var e=(0,s.e7)([S.Z],(function(){return S.Z.getPrivateChannelsVersion()})),t=(0,
s.Wu)([S.Z,jX.Z],(function(){var e=S.Z.getMutablePrivateChannels();return qX(Array.from(jX.Z.getMessageRequestChannelIds()).map((function(t){return e[t]})).filter((function(e){return null!=e})))}),[e]),n=(0,s.cj)([Y.default],(function(){var e={};t.forEach((function(t){var n=Y.default.getUser(t.recipients[0]);null!=n&&(e[t.id]=n)}));return e}),[t]);return o.useMemo((function(){return t.map((function(e){return{channel:e,user:n[e.id]}}))}),[t,n])}(),i=LX(),a=RX(),c=o.useCallback((function(){(0,l.showToast)((0,l.createToast)(Q.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,l.ToastType.FAILURE))}),[]),u=(0,ZX.m)({onError:c}).rejectAll,f=(0,Ti.Z)("message-requests-list"),d=(0,KX._)().channelId,p=o.useCallback((function(){var e=n.map((function(e){return e.channel.id}));u(e)}),[n,u]),h=o.useCallback((function(e){var t,o,a,s=e.row,l=n[s],c=null===(t=n[s+1])||void 0===t||null===(o=t.channel)||void 0===o?void 0:o.id,u=l.channel.id,f=null!=d&&d===u,p=null!=d&&d===c;return(0,r.jsx)(GQ,{
className:ze()((a={},JQ(a,QQ().selected,f),JQ(a,QQ().siblingSelected,p),a)),channel:l.channel,user:l.user,hasSingleMessageRequest:i},u)}),[i,n,d]),E=o.useCallback((function(){return(0,r.jsxs)(YX.Z,{className:QQ().sectionTitle,children:[t>0?Q.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE_WITH_COUNT.format({count:t}):Q.Z.Messages.MESSAGE_REQUESTS_PAGE_TITLE,a&&t>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:QQ().titleDivider,variant:"eyebrow",color:"header-secondary",tag:"span",children:""}),(0,r.jsx)(l.Button,{onClick:p,look:l.ButtonLooks.LINK,color:l.ButtonColors.LINK,size:l.ButtonSizes.SMALL,className:QQ().clearAllButton,"aria-label":Q.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL,children:Q.Z.Messages.MESSAGE_REQUESTS_CLEAR_ALL})]}):null]},"title")}),[t,p,a]);n.length!==t&&HX.Z.increment({name:CX.V.MESSAGE_REQUEST_COUNT_DRIFT});return 0===n.length?(0,r.jsx)(iQ,{section:QX.pS.REQUESTS}):(0,r.jsx)(Si.bG,{navigator:f,children:(0,r.jsx)(Si.SJ,{children:function(t){
var o=t.ref,i=t.role,a=e$(t,["ref","role"]);return(0,r.jsx)(l.List,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){JQ(e,t,n[t])}))}return e}({className:QQ().list,innerRole:i,innerAriaLabel:Q.Z.Messages.MESSAGE_REQUESTS,ref:function(t){e.current=t;var n;o.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},paddingTop:24,paddingBottom:24,sectionHeight:QX.oi,rowHeight:QX.WN,renderSection:E,renderRow:h,sections:[n.length],chunkSize:30,fade:!0},a),"message-requests-list")}})})}function r$(e){var t=e.pageWidth,n=e.onSidebarResize,o=(0,s.e7)([P_.ZP],(function(){return P_.ZP.getSidebarState(P_.uZ)})),i=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(null==o?void 0:o.channelId)}))
;if(null==o||o.type!==vN.t.VIEW_MESSAGE_REQUEST||null==i||!i.isPrivate())return null;var a=t-w.R7I;return(0,r.jsx)(AI.Z,{sidebarType:AI.y.MessageRequestSidebar,maxWidth:a,onWidthChange:n,children:(0,r.jsx)(BX,{channel:i,baseChannelId:P_.uZ})})}var o$=function(e){var t=e.markAsDismissed;return(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT_TEENS,buttonCTA:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:QQ().messageRequestCoachmark,onClick:t,markAsDismissed:t,caretPosition:iF.DF.TOP_CENTER,headerClassName:QQ().header})},i$=function(e){var t=(0,WX.Z)(),n=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion}));o.useEffect((function(){(0,xs.kk)(ws.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK)}),[]);return(0,r.jsx)(dM.Z,{contentTypes:[ws.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK],children:function(o){var i=o.visibleContent,a=o.markAsDismissed;return i===ws.z$.MESSAGE_REQUEST_SETTINGS_COACH_MARK?(0,
r.jsx)(l.Popout,{renderPopout:function(){return t?(0,r.jsx)(o$,{markAsDismissed:a}):(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_TITLE,content:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONTENT,buttonCTA:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_CONFIRM,secondaryButtonCTA:Q.Z.Messages.MESSAGE_REQUESTS_COACHMARK_DISMISS,className:QQ().messageRequestCoachmark,onClick:function(e){e.stopPropagation();(0,K.uL)(w.Z5c.SETTINGS("privacy-and-safety"))},markAsDismissed:a,caretPosition:iF.DF.TOP_CENTER,headerClassName:QQ().header})},position:"bottom",align:"center",animation:n?l.Popout.Animation.NONE:l.Popout.Animation.TRANSLATE,shouldShow:!(T.Z.hasLayers()||(0,l.hasAnyModalOpen)()),spacing:16,children:function(){return e.children}}):e.children}})};function a$(e){return e.section===QX.pS.SPAM?(0,r.jsx)(qQ,{}):(0,r.jsx)(n$,{})}var s$=(0,RI.Z)((function(e){var t=e.width,n=(0,wX.q)();o.useEffect((function(){AX.Y(w.Z5c.MESSAGE_REQUESTS);(0,VX.e)("message-requests")
;Oe.default.track(w.rMx.MESSAGE_REQUESTS_VIEWED,{num_message_requests:n});HX.Z.increment({name:CX.V.MESSAGE_REQUEST_VIEW})}),[]);var i,a=(0,s.e7)([La.Z],(function(){return La.Z.theme})),c=xX(),u=t$(o.useState(!1),2),f=u[0],d=u[1],p=(0,s.e7)([P_.ZP,jX.Z,MX.Z],(function(){var e=P_.ZP.getSidebarState(P_.uZ);return null!=e&&e.type===vN.t.VIEW_MESSAGE_REQUEST&&(jX.Z.isMessageRequest(e.channelId)||MX.Z.isSpam(e.channelId))})),h=t$(o.useState(QX.pS.REQUESTS),2),E=h[0],y=h[1];(0,GO.Tt)({location:Q.Z.Messages.MESSAGE_REQUESTS});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ze()(hT().chat,QQ().container,(i={},JQ(i,hT().threadSidebarOpen,p),JQ(i,hT().threadSidebarFloating,p&&f),i)),children:[(0,r.jsxs)(MS.Z,{className:(0,zX.Q)(a),toolbar:!0,children:[(0,r.jsx)(MS.Z.Icon,{icon:FX.Z,"aria-hidden":!0}),(0,r.jsx)(i$,{children:(0,r.jsx)(MS.Z.Title,{children:Q.Z.Messages.MESSAGE_REQUESTS})}),(0,r.jsx)(MS.Z.Divider,{}),(0,r.jsxs)(l.TabBar,{"aria-label":Q.Z.Messages.MESSAGE_REQUESTS,
selectedItem:E,type:"top-pill",onItemSelect:function(e){y(e)},className:QQ().tabBar,children:[(0,r.jsx)(l.TabBar.Item,{id:QX.pS.REQUESTS,className:QQ().item,children:Q.Z.Messages.MESSAGE_REQUESTS_REQUESTS_TAB_TITLE}),(0,r.jsx)(l.TabBar.Item,{id:QX.pS.SPAM,className:QQ().item,children:0===c?Q.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE:Q.Z.Messages.MESSAGE_REQUESTS_SPAM_TAB_TITLE_WITH_COUNT.format({count:c})})]})]}),(0,r.jsx)("div",{className:hT().content,children:(0,r.jsx)(a$,{section:E})})]}),p&&(0,r.jsx)(r$,{pageWidth:t,onSidebarResize:function(e,t){d(t)}})]})}));const l$=s$;var c$=n(661985),u$=n(719174),f$=n(22158);function d$(){var e=(0,Ve.ZP)([IN.Z],(function(){return IN.Z.hasLoadedExperiments})),t=(0,c$.R_)(),n=(0,u$.Z)();o.useEffect((function(){e&&!t&&(0,K.uL)(w.Z5c.FRIENDS)}),[e,t]);return e&&t?!1===n?(0,r.jsx)(a.l_,{to:w.Z5c.SETTINGS("family-center")}):(0,r.jsx)(f$.Z,{}):null}var p$=n(299192);function h$(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}var E$=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}
i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const y$=function(){return(e=function(){var e;return E$(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,ld.Z.get(w.ANM.FRIEND_SUGGESTIONS)];case 1:e=t.sent();b.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_SUCCESS",suggestions:e.body});return[3,3];case 2:t.sent();b.Z.dispatch({type:"LOAD_FRIEND_SUGGESTIONS_FAILURE"});return[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h$(i,r,o,a,s,"next",e)}function s(e){h$(i,r,o,a,s,"throw",e)}a(void 0)}))})();var e},m$=function(e){ld.Z.delete(w.ANM.FRIEND_SUGGESTION(e))};function _$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v$(e){v$=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v$(e)}function O$(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I$(e,t){return!t||"object"!==N$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S$(e,t){S$=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S$(e,t)}function T$(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N$=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C$(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v$(e);if(t){var o=v$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I$(this,n)}}var A$={},P$=0,R$=!1,j$=!1;function M$(e){var t;return{key:e.suggested_user.id,name:null===(t=Ke().first(e.reasons))||void 0===t?void 0:t.name,user:new rx.Z(e.suggested_user)}}var w$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S$(e,t)}(n,e);var t=C$(n);function n(){g$(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Y.default)};r.getSuggestionCount=function(){return P$}
;r.getSuggestions=function(){return Object.entries(A$).map((function(e){var t=T$(e,2);t[0];return t[1]}))};r.getSuggestion=function(e){return A$[e]};r.__getLocalVars=function(){return{suggestions:A$,suggestionCount:P$,fetching:R$,shouldFetch:j$}};return n}(s.ZP.Store);w$.displayName="FriendSuggestionStore";const x$=new w$(b.Z,{CONNECTION_OPEN:function(e){A$={};if((P$=e.friendSuggestionCount)>0){j$=!0;!function(){if(!R$&&j$){R$=!0;j$=!1;y$()}}()}},FRIEND_SUGGESTION_CREATE:function(e){var t=M$(e.suggestion);if(null!=A$[t.key])return!1;P$++;A$=O$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b$(e,t,n[t])}))}return e}({},A$),b$({},t.key,t))},FRIEND_SUGGESTION_DELETE:function(e){P$=Math.max(0,--P$);delete A$[e.suggestedUserId]},
LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){R$=!1;A$=Ke().chain(e.suggestions).map(M$).keyBy((function(e){return e.key})).value();P$=Ke().keys(A$).length},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(){R$=!1;A$={}}});var L$=n(76107),D$=n(213276),Z$=n(546274),U$=n(399370),G$=n(773165),k$=n.n(G$);function B$(e){var t=e.className,n=e.markAsDismissed;return(0,r.jsxs)(U$.Z,{className:ze()(k$().card,t),children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:k$().header,children:Q.Z.Messages.NOW_PLAYING_GDPR_HEADER}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:Q.Z.Messages.NOW_PLAYING_GDPR_BODY.format({onPrivacyClick:function(){return h.Z.open(w.oAB.PRIVACY_AND_SAFETY)}})}),(0,r.jsxs)("div",{className:k$().buttonContainer,children:[(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,onClick:function(){return(0,Z$.g)([w.pjP.PERSONALIZATION],[])},children:Q.Z.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES}),(0,r.jsx)(l.Button,{color:l.Button.Colors.PRIMARY,size:l.Button.Sizes.SMALL,
onClick:function(){return n(Us.L.DISMISS)},look:l.Button.Looks.LINK,children:Q.Z.Messages.NO_THANKS})]})]})}var H$=n(31914),V$=n(758635),F$=n(120819),Y$=n(322422),z$=n(71854),W$=n(542517),K$=n(113666),q$=n(503370),X$=n(625620),Q$=n(983586);function $$(e){var t,n,i=e.activity,a=(null!==(t=(0,Q$.rq)(i))&&void 0!==t?t:{}).channelId,s=(0,Ve.ZP)([aH.Z],(function(){return aH.Z.getStageInstanceByChannel(a)}),[a]),c=o.useRef(null),u=o.useCallback((function(){var e=S.Z.getChannel(a);null!=e&&bC.Cq(e)}),[a]),f=null!==(n=null==s?void 0:s.topic)&&void 0!==n?n:i.name,d=Q.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({channel:f});return(0,r.jsx)("div",{ref:c,children:(0,r.jsx)(l.Clickable,{onClick:u,focusProps:{ringTarget:c},children:(0,r.jsx)(l.Heading,{variant:"heading-sm/semibold",children:d})})})}var J$=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.body=$$}var t=e.prototype;t.shouldShow=function(e){
return(0,Q$.JE)(e)};t.createHeader=function(e){return{subtitle:Q.Z.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,icon:null}};return e}(),eJ=n(79462),tJ=n(168491),nJ=n.n(tJ);var rJ=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},eJ.gD,new J$);function oJ(e){var t,n=e.application_id;if(null!=n){var r=rJ[n];return null!=r&&!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))?r.createHeader(e):void 0}}function iJ(e){var t,n=e.application_id;if(null!=n){var o=rJ[n];if(null!=(null==o?void 0:o.body)&&!1!==(null===(t=o.shouldShow)||void 0===t?void 0:t.call(o,e))){var i=o.body;return(0,r.jsx)("section",{className:nJ().section,children:(0,r.jsx)(i,{activity:e})},"delegate-".concat(n))}}}var aJ=n(402008),sJ=n(995688),lJ=n(809118),cJ=n(776477);function uJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fJ(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function pJ(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hJ(e){hJ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hJ(e)}function EJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pJ(e,t,n[t])}))}return e}function yJ(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mJ(e,t){return!t||"object"!==bJ(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _J(e,t){_J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _J(e,t)}function gJ(e){return function(e){if(Array.isArray(e))return uJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uJ(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bJ=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hJ(e);if(t){var o=hJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mJ(this,n)}}var OJ="party-",IJ="channel-",SJ="user-",TJ=!1,NJ=!1,CJ=[],AJ=[],PJ={},RJ={},jJ=new Set,MJ=new Set;function wJ(){var e=Jf.Z.getFriendIDs()
;return H$.Z.hasConsented(w.pjP.PERSONALIZATION)?new Set(gJ(ed.Z.getUserAffinitiesUserIds()).concat(gJ(e))):new Set(e)}function xJ(e){return $f.Z.findActivity(e,(function(e){return e.type!==w.IIU.CUSTOM_STATUS}))}function LJ(e){null==PJ[e]&&(PJ=yJ(EJ({},PJ),pJ({},e,new lJ.Z({name:e}))));return PJ[e]}function DJ(e){null==RJ[e]&&(RJ=yJ(EJ({},RJ),pJ({},e,new sJ.Z({url:e}))));return RJ[e]}function ZJ(e){MJ.has(e)||jJ.add(e)}function UJ(e){if((0,W$.Z)(e))return aJ.r9;var t=null!=e.application_id?tl.Z.getGame(e.application_id):null;if(null!=t)return t;if((0,K$.Z)(e))return LJ(e.name);if((0,q$.Z)(e)&&null!=e.url)return DJ(e.url);null!=e.application_id&&ZJ(e.application_id);return t}function GJ(e){var t=R.Z.getVoiceStateForUser(e);return null!=(null==t?void 0:t.channelId)&&Ds.Z.canWithPartialContext(w.Plq.VIEW_CHANNEL,{channelId:t.channelId})?t.channelId:null}function kJ(e,t){return Ke()(e).orderBy([t,function(e){return e.game.name}],["desc","asc"])}function BJ(e){return Jf.Z.isFriend(e.id)}
function HJ(e,t,n){var r,o=Y.default.getCurrentUser(),i=t.map((function(e){return e.id})),a=t.filter((function(t){return e.has(t.id)})),s=!1,l=[],c=new Set,u=!1,f=[],d=!0,p=!1,h=void 0;try{for(var E,y=function(){var e,n,r=E.value,i=ec.Z.getAnyStreamForUser(r.id),a=xJ(r.id);null!=i&&f.push({stream:i,streamUser:r,activity:a});if(null==a)return"continue";var d=(0,F$.a)();if((0,z$.Z)(a)&&(0,Y$.ZP)({userId:r.id,activity:a,application:void 0,channelId:null===(e=R.Z.getVoiceStateForUser(r.id))||void 0===e?void 0:e.channelId,currentUser:o,isActivitiesEnabledForCurrentPlatform:d,ChannelStore:S.Z,VoiceStateStore:R.Z,PermissionStore:Ds.Z,GuildStore:In.Z})!==Y$.Fw.CAN_JOIN)return"continue";var p=null===(n=a.timestamps)||void 0===n?void 0:n.start;if(null==p&&!(0,z$.Z)(a))return"continue";var h=(0,X$.Z)(a);if(null==h)return"continue";u=h===aJ.XB;if(!function(e){var t,n=e.application_id;if(null==n)return!0;var r=rJ[n];return null==r||!1!==(null===(t=r.shouldShow)||void 0===t?void 0:t.call(r,e))
}(a))return"continue";var y=function(e){var t=tl.Z.getGame(e);if(null!=t)return t;if("string"!=typeof e){Ie.Z.captureMessage("Unknown type for applicationId: ".concat(void 0===e?"undefined":bJ(e),", value: ").concat(e),{tags:{source:"ACTIVITIES"}});return null}if(e===aJ.XB)return aJ.r9;if(e.startsWith(lJ.H))return LJ(e.slice(lJ.H.length));if(e.startsWith(sJ._))return DJ(e.slice(sJ._.length));ZJ(e);return null}(h);if(null==y||c.has(y.id))return"continue";var m=null!=a?UJ(a):null;null!=m&&m.id===y.id||(a=null);var _=[];if(null!=a&&null!=a.party&&null!=a.party.id){var g,b=null!==(g=cJ.Z.getParty(a.party.id))&&void 0!==g?g:[];_=Array.from(b).reduce((function(e,t){var n=Y.default.getUser(t);null!=n&&e.push(n);return e}),[])}else _=t.filter((function(e){var t=xJ(e.id),n=null!=t?UJ(t):null;return null!=n&&n.id===y.id}));(_=Ke().orderBy(_,[BJ],["desc"])).length!==t.length&&(s=!0);c.add(y.id);l.push({game:y,activity:a,activityUser:r,startedPlayingTime:p,playingMembers:_})
},m=t[Symbol.iterator]();!(d=(E=m.next()).done);d=!0)y()}catch(e){p=!0;h=e}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}var _,g=1===a.length,b=[],v=new Set,O=new Set,I=!0,T=!1,N=void 0;try{for(var C,A=t[Symbol.iterator]();!(I=(C=A.next()).done);I=!0){var P=GJ(C.value.id),j=S.Z.getChannel(P),M=null!=j?j.getGuildId():null,w=In.Z.getGuild(M);if(O.has(M)&&v.has(P)||null==j||null==w||j.id===w.afkChannelId){if(null==j){r=null;g=!0}}else{var x=Ke()(R.Z.getVoiceStatesForChannel(j.id)).map((function(e){var t=e.userId;return Y.default.getUser(t)})).filter(kr.lm).orderBy([BJ],["desc"]).value();x.filter((function(e){return!i.includes(e.id)})).forEach((function(e){return t.push(e)}));if(g)O.has(M)||(r=null);else{r=w;g=!0}O.add(M);v.add(P);b.push({channel:j,guild:w,members:x})}}}catch(e){T=!0;N=e}finally{try{I||null==A.return||A.return()}finally{if(T)throw N}}return{id:n,voiceChannels:b,isSpotifyActivity:u,priorityMembers:a.map((function(e){return{user:e,
status:$f.Z.getStatus(e.id)}})),partiedMembers:t,showPlayingMembers:s,guildContext:r,currentActivities:kJ(l,(function(e){return null!==(_=e.startedPlayingTime)&&void 0!==_?_:0})).value(),applicationStreams:f}}function VJ(){return TJ&&Cl.Z.isConnected()}function FJ(){if(!VJ())return!1;jJ.clear();var e,t,n,r=function(e){return Ke()(e).groupBy((function(e){var t,n=GJ(e.id),r=xJ(e.id);return null!=n?"".concat(IJ,"-").concat(n):null!=(null==r||null===(t=r.party)||void 0===t?void 0:t.id)?"".concat(OJ,"-").concat(r.party.id):"".concat(SJ,"-").concat(e.id)}))}(Array.from(wJ()).reduce((function(e,t){var n=Y.default.getUser(t);null==n||n.bot||e.push(n);return e}),[])),o=(e=r,t=wJ(),n=HJ.bind(null,t),Ke()(e).mapValues(n)),i=o.values().orderBy([function(e){return e.partiedMembers.length>1},function(e){return e.applicationStreams.length>0},function(e){return e.voiceChannels.length>0},function(e){return e.currentActivities.length>0},function(e){return e.isSpotifyActivity},function(e){
return e.priorityMembers.map((function(e){return e.user.username.toLowerCase()})).join(" ")}],["desc","desc","desc","desc","asc","asc"]).value();CJ=function(e){return e.filter((function(e){return e.voiceChannels.length>=1||e.currentActivities.length>0||e.applicationStreams.length>0}))}(i);AJ=function(e){return e.map((function(e){return{type:w.GOo.USER,party:e}}))}(CJ);!function(){if(jJ.size>0){var e=Array.from(jJ);Js.Z.fetchApplications(e);e.forEach((function(e){return MJ.add(e)}));jJ.clear()}}();NJ=!0}var YJ=Ke().throttle((function(){FJ();KJ.emitChange()}),1e3);function zJ(){if(!VJ())return!1;YJ();return!1}var WJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_J(e,t)}(n,e);var t=vJ(n);function n(){fJ(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
this.syncWith([Y.default,tl.Z,$f.Z,cJ.Z,R.Z,ec.Z,Jf.Z,H$.Z,ed.Z],zJ);this.waitFor(Cl.Z,In.Z,tl.Z,Y.default,ed.Z)};r.__getLocalVars=function(){return{PARTY_ID_START_PARTY:OJ,PARTY_ID_START_CHANNEL:IJ,PARTY_ID_START_USER:SJ,RECOMPUTE_NOW_PLAYING_THROTTLE:1e3,isMounted:TJ,loaded:NJ,currentActivityParties:CJ,nowPlayingCards:AJ,xboxGames:PJ,twitchRecords:RJ,applicationIdsToFetch:jJ,applicationIdsFetched:MJ,throttledRecomputeNowPlaying:YJ,instance:KJ}};!function(e,t,n){t&&dJ(e.prototype,t);n&&dJ(e,n)}(n,[{key:"currentActivityParties",get:function(){return CJ}},{key:"nowPlayingCards",get:function(){return AJ}},{key:"isMounted",get:function(){return TJ}},{key:"loaded",get:function(){return NJ}}]);return n}(s.ZP.Store);WJ.displayName="NowPlayingViewStore";var KJ=new WJ(b.Z,{LOGOUT:function(){TJ=!1;CJ=[];AJ=[];jJ.clear()},NOW_PLAYING_MOUNTED:function(){TJ=!0;YJ()},NOW_PLAYING_UNMOUNTED:function(){TJ=!1}});const qJ=KJ
;var XJ=n(83797),QJ=n(934870),$J=n(429041),JJ=n(579581),e0=n(61040),t0=n(101604),n0=n(712776),r0=n(983073),o0=n(483535),i0=n(767484),a0=n(993137),s0=n(641277),l0=n(686910),c0=n(247729),u0=n(129010),f0=n(753724),d0=n(796938),p0=n(977005),h0=n(658689);function E0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}
return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _0(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=m0(e,["width","height","color"]);return(0,r.jsxs)("svg",y0(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E0(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:s,
d:"M12 14C7.289 14 4 16.467 4 20V22H20V20C20 16.467 16.711 14 12 14ZM11 19C10.447 19 10 18.553 10 18C10 17.447 10.447 17 11 17C11.553 17 12 17.447 12 18C12 18.553 11.553 19 11 19ZM14 19C13.447 19 13 18.553 13 18C13 17.447 13.447 17 14 17C14.553 17 15 17.447 15 18C15 18.553 14.553 19 14 19Z"}),(0,r.jsx)("path",{fill:s,d:"M18 6H17.91C17.432 3.167 14.967 1 12 1C9.033 1 6.568 3.167 6.09 6H6C4.896 6 4 6.896 4 8V9C4 10.104 4.896 11 6 11C6 12.102 6.897 13 8 13H16C17.104 13 18 12.102 18 11C19.104 11 20 10.104 20 9V8C20 6.896 19.104 6 18 6ZM16 10H8V6H16V10Z"})]}))}var g0=n(846003),b0=n.n(g0);function v0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){v0(e,t,n[t])}))}return e}function I0(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var S0=(0,h0.Z)((function(e){var t=e.member,n=e.empty,o=e.analyticsContext,i=e.guildId;if(n)return(0,r.jsx)("div",{className:b0().partyMemberEmpty});if(null==t)return(0,r.jsx)("div",{className:b0().partyMemberUnknown,children:(0,r.jsx)(_0,{className:b0().partyMemberUnknownIcon})});var a={location:I0(O0({},o.location),{object:w.qAy.AVATAR})};return(0,r.jsx)("div",{className:b0().partyMemberKnown,children:(0,r.jsx)(l.Popout,{preload:function(){return(0,SU.Z)(t.id,t.getAvatarURL(i,80),{
guildId:i})},renderPopout:function(e){return(0,r.jsx)(Xz.Z,I0(O0({},e),{userId:t.id,analyticsParams:a}))},position:"left",children:function(e){return(0,r.jsx)(l.Avatar,I0(O0({},e),{src:t.getAvatarURL(i,24),"aria-label":t.username,size:l.AvatarSizes.SIZE_24,className:b0().partyMember}))}})})}));const T0=function(e){var t=e.partySize,n=e.members,o=e.minAvatarsShown,i=void 0===o?1:o,a=e.maxAvatarsShown,s=void 0===a?2:a,l=e.guildId,c=t.unknownSize,u=t.totalSize,f=t.knownSize;if(u<i)return null;for(var d=Ke()(n).filter(kr.lm).take(s).map((function(e){return(0,r.jsx)(S0,{member:e,guildId:l},e.id)})).value(),p=0;p<c&&d.length<s;p++)d.push((0,r.jsx)(S0,{guildId:l},"unknown-member-".concat(p)));for(var h=u-f-c,E=0;E<h&&d.length<s;E++)d.push((0,r.jsx)(S0,{empty:!0,guildId:l},"empty-member-".concat(E)));var y=Math.max(Math.min(u-d.length,99),0);if(1===y){var m=n[s];d.push((0,r.jsx)(S0,{member:m,guildId:l},m.id))}return(0,r.jsx)("div",{className:b0().wrapper,children:(0,r.jsxs)("div",{
className:b0().partyMembers,children:[d,y>1?(0,r.jsxs)("div",{className:b0().partyMemberOverflow,children:["+",y]}):null]})})};function N0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A0(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P0(e){P0=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return P0(e)}function R0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A0(e,t,n[t])}))}return e}function j0(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function M0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function w0(e,t){return!t||"object"!==D0(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function x0(e,t){x0=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x0(e,t)}function L0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N0(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D0=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=P0(e);if(t){var o=P0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w0(this,n)}}var U0,G0,k0=64,B0=160,H0=[14,14,12,12,10,8,6],V0=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(l.Text,{className:ze()(nJ().textContent,t),variant:"text-sm/semibold",children:e})},F0=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.jsx)(l.Text,{className:ze()(nJ().textContent,t),variant:"text-xs/normal",children:e})},Y0=(0,$J.Z)((function(e){var t=e.message;return(0,r.jsx)("div",{
className:nJ().timestamp,children:t})})),z0=function(e){var t=e.children;return(0,r.jsx)("section",{className:nJ().section,children:t})},W0=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x0(e,t)}(o,e);var t=Z0(o);function o(){C0(this,o);return t.apply(this,arguments)}var i=o.prototype;i.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;if(null==n||!(0,n0.Z)(t)||(0,W$.Z)(t))return null;e=(0,XJ.Z)(t)?(0,r.jsx)(Y0,{timestamps:n}):(0,r.jsx)(l0.ZP,{start:n.start,end:n.end,location:l0.ZP.Locations.USER_ACTIVITY,className:nJ().playTime});return F0(e)};i.render=function(){var e,t,o=this.props,i=o.activity,a=i.assets,s=i.details,l=i.state,c=i.application_id,u=o.getAssetImage;return(0,r.jsx)(z0,{children:(0,r.jsxs)("div",{className:nJ().activitySection,
children:[null!=a&&0!==Object.keys(a).length?(0,r.jsxs)("div",{className:nJ().activitySectionAssets,children:[(0,r.jsx)("img",{alt:null!==(e=a.large_text)&&void 0!==e?e:"",src:u(c,a.large_image,[B0,B0]),className:ze()(nJ().largeImage,A0({},nJ().largeImageMask,null!=a.small_image))}),null!=a.small_image?(0,r.jsx)("img",{alt:null!==(t=a.small_text)&&void 0!==t?t:"",src:u(c,a.small_image,[k0,k0]),className:nJ().smallImage}):null]}):(0,r.jsx)("div",{className:nJ().activitySectionAssets,children:(0,r.jsx)("img",{alt:"",src:n(534413),className:nJ().largeImage})}),(0,r.jsxs)("div",{children:[V0(null!=s&&""!==s?s:Q.Z.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=l?F0(l):null,this.renderTimePlayed()]})]})})};return o}(o.Component);!function(e){e.XBOX="XBOX";e.SPOTIFY="SPOTIFY";e.MULTIPLE="MULTIPLE"}(G0||(G0={}));var K0=function(e){var t,n=e.src,o=e.onClick,i=e.onContextMenu;switch(n){case G0.XBOX:t=(0,r.jsx)(f0.Z,{className:nJ().headerIcon,color:br.Z.unsafe_rawColors.PRIMARY_300.css});break
;case G0.SPOTIFY:t=(0,r.jsx)(u0.Z,{className:nJ().headerIcon,color:br.Z.unsafe_rawColors.SPOTIFY.css});break;case G0.MULTIPLE:t=(0,r.jsx)("div",{className:nJ().multipleIconWrapper,children:(0,r.jsx)(c0.Z,{className:ze()(nJ().headerIcon,nJ().multipleIcon),color:br.Z.unsafe_rawColors.PRIMARY_300.css})});break;default:t=(0,r.jsx)("img",{src:null!=n?n:void 0,alt:"",className:nJ().headerIcon})}return null!=o||null!=i?(0,r.jsx)(l.Clickable,{onClick:o,className:ze()(null!=o?nJ().clickableIcon:""),onContextMenu:i,children:t}):t};K0.Src=G0;var q0=function(e){var t=e.priorityUser,n=e.title,o=e.subtitle,i=e.icon,a=e.onContextMenu,s=e.guildId;return(0,r.jsxs)("header",{className:null!=i?nJ().headerFull:nJ().headerSimple,children:[(0,r.jsx)(l.Avatar,{src:t.user.getAvatarURL(s,32),"aria-label":t.user.username,size:l.AvatarSizes.SIZE_32,className:nJ().headerAvatar,status:t.status,onContextMenu:a}),(0,r.jsxs)("div",{className:nJ().headerDetails,children:[(0,r.jsx)(l.Text,{
className:ze()(nJ().textContent),variant:"text-md/semibold",children:n}),(0,r.jsx)(l.Text,{color:"header-secondary",className:nJ().textContent,variant:"text-sm/normal",children:o})]}),null!=i?i:null]})};q0.Icon=K0;var X0=function(e){var t=e.children,n=e.className,o=M0(e,["children","className"]);return(0,r.jsx)(l.FocusRing,{children:(0,r.jsx)(U$.Z,j0(R0({className:ze()(n,nJ().wrapper),padded:!0},o),{children:t}))})};X0.Header=q0;X0.Body=function(e){var t=e.children;return(0,r.jsx)(U$.Z,{inset:!0,padded:!1,className:nJ().body,children:t})};X0.Separator=function(e){var t=e.inset,n=e.className;return(0,r.jsx)("div",{className:ze()(nJ().separator,A0({},nJ().inset,t),n)})};X0.VoiceSection=function(e){var t,n,i=e.guild,a=e.channel,s=e.onGuildClick,c=e.partySize,u=e.members,f=e.onChannelContextMenu,d=o.useRef(null),p=(0,C_.ZP)(a,!0);return(0,r.jsx)(z0,{children:(0,r.jsxs)("div",{className:nJ().voiceSection,ref:d,onContextMenu:function(e){return f(e,a)},children:[(0,r.jsx)(l.Clickable,{
onClick:s,"aria-hidden":!0,tabIndex:-1,children:(0,r.jsxs)("div",{className:nJ().voiceSectionAssets,children:[null!=i.getIconURL(32)?(0,r.jsx)("img",{alt:"",src:null!==(t=i.getIconURL(32))&&void 0!==t?t:void 0,className:ze()(nJ().voiceSectionGuildImage,nJ().largeImageMask)}):(0,r.jsx)("div",{className:nJ().voiceSectionNoGuildImageWrapper,children:(0,r.jsx)("div",{className:nJ().voiceSectionNoGuildImage,style:{fontSize:null!==(n=H0[i.acronym.length])&&void 0!==n?n:H0[H0.length-1]},children:i.acronym})}),(0,r.jsx)("div",{className:nJ().voiceSectionIconWrapper,children:(0,r.jsx)(d0.Z,{className:nJ().voiceSectionIcon})})]})}),(0,r.jsx)(l.Clickable,{onClick:s,focusProps:{ringTarget:d},children:(0,r.jsxs)("div",{className:nJ().voiceSectionDetails,children:[V0(i.toString(),nJ().voiceSectionText),F0(p,nJ().voiceSectionText)]})}),(0,r.jsx)(T0,{partySize:c,members:u,guildId:i.id})]})})};X0.GameSection=function(e){var t=e.icon,n=e.name,o=e.partySize,i=e.members;return(0,r.jsx)(z0,{children:(0,
r.jsxs)("div",{className:nJ().gameSection,children:[null!=t?(0,r.jsx)("img",{alt:"",src:t,className:nJ().gameSectionIcon}):null,(0,r.jsxs)("div",{children:[V0(n),F0(Q.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:o.totalSize}))]}),(0,r.jsx)(T0,{partySize:o,members:i})]})})};X0.RichPresenceSection=W0;X0.XboxSection=function(e){var t=e.title;return(0,r.jsx)(z0,{children:(0,r.jsxs)("div",{className:nJ().xboxSection,children:[(0,r.jsx)(f0.Z,{className:nJ().xboxSectionIcon}),(0,r.jsxs)("div",{className:nJ().xboxSectionDetails,children:[V0(t),F0(Q.Z.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX)]})]})})};X0.SpotifySection=function(e){var t=e.activity,n=t.assets,o=t.details,i=t.state,a=t.application_id,s=e.partySize,l=e.members,c=e.isSolo,u=e.getAssetImage;return(0,r.jsx)(z0,{children:(0,r.jsxs)("div",{className:nJ().spotifySection,children:[null!=n?(0,r.jsxs)("div",{className:nJ().activitySectionAssets,children:[(0,r.jsx)("img",{
alt:null!==(U0=n.large_text)&&void 0!==U0?U0:"",src:u(a,n.large_image,[B0,B0]),className:ze()(nJ().largeImage,nJ().borderRadius0,A0({},nJ().largeImageMask,null!=n.small_image))}),c?null:(0,r.jsx)(u0.Z,{className:nJ().smallImage,color:br.Z.unsafe_rawColors.SPOTIFY.css})]}):(0,r.jsx)("div",{}),(0,r.jsxs)("div",{children:[null!=o?V0(o):null,null!=i?F0(i):null]}),(0,r.jsx)(T0,{minAvatarsShown:c?2:1,partySize:s,members:l})]})})};X0.TwitchSection=function(e){var t,o,i=e.activity,a=e.user,s=e.getAssetImage,c=e.guildId,u=i.name,f=i.details,d=i.assets,p=i.application_id;if(null!=d&&(0,q$.Z)(i)){var h;t=(0,r.jsx)(a0.Z,{className:nJ().twitchSectionPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(l.Clickable,{href:(0,t0.Z)(i),tag:"a",target:"_blank",children:[(0,r.jsx)("img",{alt:null!==(h=d.large_text)&&void 0!==h?h:"",src:s(p,d.large_image,[900,500]),className:nJ().twitchSectionPreview}),(0,r.jsx)("img",{src:n(182105),className:nJ().twitchSectionPlayButton,alt:""})]})})}return(0,r.jsxs)(z0,{
children:[(0,r.jsxs)("div",{className:ze()((o={},A0(o,nJ().twitchSectionSimple,null==a),A0(o,nJ().twitchSectionFull,null!=a),o)),children:[(0,r.jsx)("img",{alt:"",src:No.Z.get(w.ABu.TWITCH).icon.lightSVG,className:nJ().twitchSectionIcon}),(0,r.jsxs)("div",{children:[V0(u),null!=f?F0(f):null]}),null!=a?(0,r.jsx)(l.Avatar,{src:a.getAvatarURL(c,24),"aria-label":a.username,className:nJ().twitchSectionAvatar,size:l.AvatarSizes.SIZE_24}):null]}),t]})};X0.ApplicationStreamingSection=function(e){var t,n=e.activity,o=e.user,i=e.applicationStream,a=e.onPreviewClick,c=e.guildId,u=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(i.channelId)})),f=L0((0,nc.wq)(u),2),d=f[0],p=f[1],h=(0,r.jsx)(a0.Z,{className:nJ().applicationStreamingPreviewWrapper,aspectRatio:16/9,children:(0,r.jsxs)(l.Clickable,{onClick:d?a:void 0,className:nJ().applicationStreamingPreviewSize,children:[(0,r.jsx)(lC.Z,{stream:i,className:nJ().applicationStreamingPreviewSize}),(0,r.jsx)("div",{
className:nJ().applicationStreamingHoverWrapper,children:(0,r.jsx)("div",{className:nJ().applicationStreamingHoverText,children:(0,nc.P9)(p)})})]})}),E=null!==(t=(0,r0.Z)(n,i))&&void 0!==t?t:Q.Z.Messages.SHARING_SCREEN;return(0,r.jsxs)(z0,{children:[(0,r.jsxs)("div",{className:nJ().applicationStreamingSection,children:[(0,r.jsx)(l.Avatar,{size:l.AvatarSizes.SIZE_32,src:o.getAvatarURL(c,32),"aria-label":o.username,className:nJ().applicationStreamingAvatar}),(0,r.jsxs)("div",{children:[V0(M_.ZP.getName(o)),F0(E)]}),(0,r.jsx)(p0.ZP,{size:p0.ZP.Sizes.SMALL})]}),h]})};X0.EmbeddedActivitySection=function(e){var t=e.activity,n=e.channel,i=e.guildId,a=e.participants,c=(0,o0.Z)(),u=L0(o.useState(null),2),f=u[0],d=u[1];o.useEffect((function(){null!=t.application_id&&(0,op.hR)(t.application_id,["embedded_background"]).then((function(e){var t=L0(e,1)[0];return d(t)}))}),[t.application_id]);var p,h=(0,s.Wu)([Y.default,ut.default],(function(){return Array.from(a).map((function(e){
return ut.default.getId()===e?null:Y.default.getUser(e)})).filter(kr.lm)})),E=(0,JJ.O)(),y=(0,XB.Z)().analyticsLocations,m=tl.Z.getGame(null!==(p=null==t?void 0:t.application_id)&&void 0!==p?p:"");if(null==m)return null;var _=null!=t.created_at&&t.created_at>0?{start:t.created_at}:void 0,b=(0,op.xF)(m.id,f,300);return(0,r.jsxs)(z0,{children:[(0,r.jsxs)("div",{className:nJ().embeddedActivityTopRow,children:[(0,r.jsx)(s0.Z,{game:m,size:s0.Z.Sizes.XSMALL,className:nJ().embeddedActivityIcon}),(0,r.jsx)("div",{className:nJ().embeddedActivityName,children:(0,r.jsx)(l.Text,{variant:"text-sm/semibold",children:m.name})}),null!=_?(0,r.jsx)("div",{className:nJ().embeddedActivityTimeElapsed,children:(0,r.jsx)(l.Text,{color:"text-muted",variant:"text-sm/normal",children:(0,r.jsx)(Y0,{timestamps:_})})}):null]}),(0,r.jsx)(a0.Z,{aspectRatio:16/9,children:(0,r.jsxs)("div",{className:nJ().embeddedActivityPlayerContainer,children:[null!=b?(0,r.jsx)("img",{src:b,alt:m.name,
className:nJ().embeddedActivityImage}):null,(0,r.jsxs)("div",{className:nJ().embeddedActivityImageOverlay,children:[(0,r.jsx)(i0.OV,{users:h,guildId:i,channelId:n.id}),(0,r.jsx)("div",{className:nJ().embeddedActivityJoinWrapper,children:(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,onClick:function(e){e.stopPropagation();(0,e0.Z)({activity:t,currentEmbeddedApplication:c,activityChannelId:n.id,locationObject:E.location,embeddedActivitiesManager:g.Z,analyticsLocations:y})},children:Q.Z.Messages.JOIN})})]})]})})]})};const Q0=X0;var $0=64;function J0(e,t){var n,r=e.length,o=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var i=t.party.size;o=Math.max(i[0]-e.length,0);n=i[1]}else n=r+o;return{knownSize:r,unknownSize:o,totalSize:n}}function e1(e){var t=e.party,n=e.onChannelContextMenu,o=t.voiceChannels,i=t.currentActivities,a=t.partiedMembers,s=t.applicationStreams,l=t.guildContext,c=[],u=function(e){var t=c.length;if(0!==t){
var n,o,i=c[t-1],a="".concat(null!==(n=null==e?void 0:e.key)&&void 0!==n?n:""),s="".concat(null!==(o=null==i?void 0:i.key)&&void 0!==o?o:"").startsWith("game")&&a.startsWith("rich-presence");c.push((0,r.jsx)(Q0.Separator,{inset:s},"sep-".concat(a)));c.push(e)}else c.push(e)};o.length>0&&o.forEach((function(e){var t=e.members,o=e.channel,i=e.guild;u((0,r.jsx)(Q0.VoiceSection,{guild:i,channel:o,members:t,partySize:J0(t),onChannelContextMenu:n,onGuildClick:function(){(0,QJ.X)(i.id)}},"voice-".concat(o.id)))}));var f=!0,p=!1,h=void 0;try{for(var E,y=t.currentActivities[Symbol.iterator]();!(f=(E=y.next()).done);f=!0){var m=E.value.activity;if(null!=m){var _=iJ(m);if(null!=_){u(_);break}}}}catch(e){p=!0;h=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw h}}s.length>0&&s.forEach((function(e){var t=e.stream,n=e.streamUser,o=e.activity;u((0,r.jsx)(Q0.ApplicationStreamingSection,{guildId:null==l?void 0:l.id,user:n,activity:o,applicationStream:t,onPreviewClick:function(){
d.default.selectVoiceChannel(t.channelId);(0,ql.iV)(t)}},"application-stream-".concat(t.ownerId)))}));i.forEach((function(e,t){var n=e.activity,s=e.game,c=e.playingMembers,f=e.activityUser;if(null==n||null==n.type)return null;if(i.length>1&&n.type===w.IIU.PLAYING&&!(0,XJ.Z)(n)&&null!=s){var d,p;u((0,r.jsx)(Q0.GameSection,{icon:s.getIconURL($0),name:s.name,partySize:{knownSize:c.length,unknownSize:0,totalSize:c.length},members:c},"game-".concat(null!==(d=n.session_id)&&void 0!==d?d:t,"-").concat(null!==(p=n.application_id)&&void 0!==p?p:t)))}else if((0,z$.Z)(n)){var h,E=new Set(c.map((function(e){return e.id}))),y=null===(h=o.find((function(e){return null!=e})))||void 0===h?void 0:h.channel;null!=y&&u((0,r.jsx)(Q0.EmbeddedActivitySection,{activity:n,participants:E,channel:y,guildId:y.guild_id},"embedded-activity-".concat(n.application_id)))}else if(null==n.assets&&!(0,XJ.Z)(n)||n.type!==w.IIU.PLAYING)if((0,q$.Z)(n)){var m,_=o.length>0&&o[0].members.length>1,g=c.length>1;u((0,
r.jsx)(Q0.TwitchSection,{guildId:null==l?void 0:l.id,activity:n,user:_||g?f:null,getAssetImage:op.xF},"streaming-".concat(null!==(m=n.session_id)&&void 0!==m?m:t)))}else if((0,W$.Z)(n)){var b;u((0,r.jsx)(Q0.SpotifySection,{activity:n,isSolo:1===a.length,partySize:{knownSize:c.length,unknownSize:0,totalSize:c.length},getAssetImage:op.xF,members:c},"spotify-".concat(null!==(b=n.session_id)&&void 0!==b?b:t,"-").concat(f.id)))}else if(null==n.assets&&!(0,XJ.Z)(n)||n.type!==w.IIU.LISTENING){if((0,K$.Z)(n)){var v;u((0,r.jsx)(Q0.XboxSection,{title:s.name},"xbox-".concat(null!==(v=n.session_id)&&void 0!==v?v:t)))}}else{var O;u((0,r.jsx)(Q0.RichPresenceSection,{activity:n,getAssetImage:op.xF},"rich-presence-".concat(null!==(O=n.session_id)&&void 0!==O?O:t,"-").concat(f.id)))}else{var I;u((0,r.jsx)(Q0.RichPresenceSection,{activity:n,getAssetImage:op.xF},"rich-presence-".concat(null!==(I=n.session_id)&&void 0!==I?I:t,"-").concat(f.id)))}}));return c.length>0?(0,r.jsx)(Q0.Body,{children:c}):null}
function t1(e){var t=e.party,o=e.onUserContextMenu,i=t.priorityMembers,a=t.guildContext,s=i[0],l=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map((function(e){return e.user.id}))),o=n.filter((function(e){return!r.has(e.id)})),i=M_.ZP.getName(t[0].user),a=null!=t[1]?M_.ZP.getName(t[1].user):null!=o[0]?M_.ZP.getName(o[0]):null;switch(n.length){case 1:return i;case 2:return Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:i,user2:a});default:return Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:i,user2:a,extras:n.length-2})}}(t),c=function(e){var t,o=e.priorityMembers,i=e.partiedMembers,a=e.voiceChannels,s=e.currentActivities,l=o.length,c=l+(i.length-l)===1,u=s[0],f=null==u?void 0:u.activity,d=null==u?void 0:u.startedPlayingTime,p={name:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:""};if((0,z$.Z)(f)&&null!=f)return{subtitle:(0,r.jsx)(l0.ZP,{start:d,location:l0.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null
};if(c&&null!=u){var h=u.game;if(null==f)return{subtitle:null,icon:null};var E=oJ(f);if(null!=E)return E;switch(f.type){case w.IIU.PLAYING:return(0,K$.Z)(f)?{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:(0,r.jsx)(Q0.Header.Icon,{src:Q0.Header.Icon.Src.XBOX})}:{subtitle:(0,r.jsx)(l0.ZP,{start:d,location:l0.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=h?(0,r.jsx)(Q0.Header.Icon,{src:null!=h.getIconURL($0)?h.getIconURL($0):n(534413)}):null};case w.IIU.STREAMING:return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=h&&null!=h.getIconURL($0)?(0,r.jsx)(Q0.Header.Icon,{src:h.getIconURL($0)}):null};case w.IIU.LISTENING:var y;y=(0,W$.Z)(f)?(0,r.jsx)(Q0.Header.Icon,{src:Q0.Header.Icon.Src.SPOTIFY}):null!=h.getIconURL($0)?(0,r.jsx)(Q0.Header.Icon,{src:h.getIconURL($0)}):(0,r.jsx)(Q0.Header.Icon,{src:n(534413)});return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_LISTENING.format({name:f.name}),icon:y};case w.IIU.WATCHING:return{
subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=h&&null!=h.getIconURL($0)?(0,r.jsx)(Q0.Header.Icon,{src:h.getIconURL($0)}):null};default:return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}if(0===s.length){if(a.length>0)return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};var m=s[0];if(null!=m){var _=m.activity;if(null!=_){var g=oJ(_);if(null!=g)return g}if(null!=_&&_.type===w.IIU.LISTENING)return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:(0,r.jsx)(Q0.Header.Icon,{src:Q0.Header.Icon.Src.SPOTIFY})}}}else if(1===s.length){var b=s.find((function(e){return null!=e.activity}));if(null==b)return{subtitle:null,icon:null};var v=b.activity,O=b.game,I=b.startedPlayingTime;tb()(null!=v,"Activity was null somehow");return{subtitle:(0,r.jsx)(l0.ZP,{start:I,location:l0.ZP.Locations.ACTIVITY_FEED_NEW,messageProps:p}),icon:null!=O&&null!=O.getIconURL($0)?(0,r.jsx)(Q0.Header.Icon,{
src:O.getIconURL($0)}):null}}return{subtitle:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:(0,r.jsx)(Q0.Header.Icon,{src:Q0.Header.Icon.Src.MULTIPLE})}}(t),u=c.subtitle,f=c.icon;return(0,r.jsx)(Q0.Header,{priorityUser:s,guildId:null==a?void 0:a.id,title:l,subtitle:u,icon:f,onContextMenu:function(e){return o(e,s.user)}})}var n1=n(545580),r1=n(629223),o1=n(476020);function i1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a1(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function s1(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){a1(i,r,o,a,s,"next",e)}function s(e){a1(i,r,o,a,s,"throw",e)}a(void 0)}))}}function l1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c1(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l1(e,t,n[t])}))}return e}function u1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f1(e){return function(e){if(Array.isArray(e))return i1(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i1(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:
a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p1=No.Z.get(w.ABu.XBOX).name;function h1(e,t){var n=e.canJoin,o=e.activity,i=e.activityUser;if(!n||null==o)return null;function a(){return(a=s1((function(){var e;return d1(this,(function(t){switch(t.label){case 0:return null==o?[2]:[4,OE.Z.sendActivityInviteUser({type:w.mFx.JOIN_REQUEST,userId:i.id,activity:o,location:w.Sbl.PROFILE_POPOUT})];case 1:null!=(e=t.sent())&&d.default.selectPrivateChannel(e.id);return[2]}}))}))).apply(this,arguments)}return(0,r.jsx)(l.MenuItem,{id:"join-".concat(o.session_id),
label:t?Q.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:i.toString()}):Q.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,action:function(){return a.apply(this,arguments)}})}function E1(e,t){var n=e.activity,o=e.game,i=e.libraryApplication,a=e.location,s=e.canPlay,c=e.isRunning,u=e.isLaunching;if(!s||null==n)return null;var f=c?Q.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:o.name}):u?Q.Z.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:o.name}):void 0;return(0,r.jsx)(l.MenuItem,{id:"play-".concat(n.session_id),action:function(){(0,_O.playApplication)(o.id,i,{analyticsParams:{location:u1(c1({},a),{object:w.qAy.LIST_ITEM})}})},label:t?Q.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:o.name}):Q.Z.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,subtext:f})}function y1(e){var t=e.currentActivities.length>1,n=function(e){var t=e.currentActivities,n=(0,s.e7)([r1.Z],(function(){return r1.Z.getAccounts().some((function(e){
return e.type===No.Z.get(w.ABu.XBOX).type}))})),o=t.some((function(e){var t=e.activity;return(0,K$.Z)(t)}));return n||!o?null:(0,r.jsx)(l.MenuItem,{id:"xbox-connect",action:function(){return h.Z.open(w.oAB.CONNECTIONS)},label:Q.Z.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:p1})})}(e),i=function(e){var t=e.currentActivities,n=o.useContext(Oe.AnalyticsContext);return(0,s.Wu)([ba.ZP,sl.Z,ml.Z,fO.Z,o1.Z],(function(){return t.filter((function(e){return!(0,z$.Z)(e.activity)})).map((function(e){var t=e.activity,r=e.game,o=sl.Z.getActiveLibraryApplication(r.id);return u1(c1({},e),{libraryApplication:o,canJoin:null!=t&&(0,n1.Z)(t,w.xjy.JOIN)&&t.type===w.IIU.PLAYING,canPlay:(0,Il.t)({LibraryApplicationStore:sl.Z,LaunchableGameStore:ml.Z,DispatchApplicationStore:fO.Z,ConnectedAppsStore:o1.Z,applicationId:r.id,branchId:null!=o?o.branchId:null}),isLaunching:ml.Z.launchingGames.has(r.id),isRunning:ba.ZP.getRunningVerifiedApplicationIds().includes(r.id),location:n.location})}))}),[t])
}(e),a=[],c=!0,u=!1,f=void 0;try{for(var d,p=i[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var E=d.value,y=E.activity;null!=y&&null!=y.type&&a.push(h1(E,t),E1(E,t))}}catch(e){u=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw f}}return[n].concat(f1(a))}var m1=n(386691),_1=n.n(m1);function g1(e){var t=e.user,n=e.status,o=e.isFocused,i=e.guildId;return(0,r.jsxs)("div",{className:_1().memberItem,children:[(0,r.jsx)(l.Avatar,{src:t.getAvatarURL(i,24),className:_1().avatar,"aria-label":t.username,size:l.AvatarSizes.SIZE_24,status:n,statusColor:o?"currentColor":void 0}),(0,r.jsx)(mQ.Z,{user:t,hideDiscriminator:!0})]})}function b1(e){var t=e.label;return(0,r.jsxs)("div",{className:_1().memberItem,children:[(0,r.jsx)("div",{className:ze()(_1().avatar,_1().unknown)}),(0,r.jsx)("div",{children:t})]})}function v1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O1(e,t,n[t])}))}return e}function S1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function T1(e){return function(e){if(Array.isArray(e))return v1(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v1(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N1(e,t,n,o,i){var a=[],s=!0,c=!1,u=void 0;try{for(var f,d=function(){var e=f.value,t=e.user,n=e.status;a.push((0,r.jsx)(l.MenuItem,{id:t.id,keepItemStyles:!0,render:function(e){return(0,r.jsx)(g1,S1(I1({},e),{user:t,status:n,guildId:i}))},action:function(){return(0,ng.m)({userId:t.id,analyticsLocation:{section:w.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))
},p=e[Symbol.iterator]();!(s=(f=p.next()).done);s=!0)d()}catch(e){c=!0;u=e}finally{try{s||null==p.return||p.return()}finally{if(c)throw u}}var h=!0,E=!1,y=void 0;try{for(var m,_=function(){var e=m.value;a.push((0,r.jsx)(l.MenuItem,{id:e.id,keepItemStyles:!0,render:function(t){return(0,r.jsx)(g1,S1(I1({},t),{user:e,guildId:i}))},action:function(){return(0,ng.m)({userId:e.id,analyticsLocation:{section:w.jXE.ACTIVITY_FEED_NOW_PLAYING_CONTEXT_MENU}})}}))},g=t[Symbol.iterator]();!(h=(m=g.next()).done);h=!0)_()}catch(e){E=!0;y=e}finally{try{h||null==g.return||g.return()}finally{if(E)throw y}}var b=n-a.length;b>0&&a.push((0,r.jsx)(l.MenuItem,{id:"unknown-members-".concat(null==o?void 0:o.session_id),render:function(e){return(0,r.jsx)(b1,S1(I1({},e),{label:Q.Z.Messages.GAME_FEED_UNKNOWN_PLAYERS.format({count:b})}))}}));return a}var C1=n(761953);function A1(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,
af_rich_presence:e.currentActivities.some((function(e){var t=e.activity;return(0,XJ.Z)(t)})),game_platform:e.currentActivities.length>0?(0,rg.Z)(e.currentActivities[0].activity):null}}function P1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function R1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P1(e,t,n[t])}))}return e}function j1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var M1=n(73727),w1=n(557162),x1=n(47038),L1=n(304493),D1=n(979965);function Z1(e){var t=e.currentActivities,n=e.isSpotifyActivity,o=t[0],i=function(e,t,n){var o=(0,s.e7)([M1.Z,ut.default],(function(){return null!=t?(0,x1.Z)(M1.Z,ut.default,t,e):void 0}),[e,t]);if(null==o||null==e||null==t)return null;var i=o.isCurrentUser||o.notPlayable||o.playingSameTrack,a=o.isCurrentUser||o.syncingWithUser||o.syncingWithParty;return[(0,r.jsx)(l.MenuItem,{id:"spotify-play-".concat(e.session_id),action:function(){return(0,D1.Z)(o,ig.kG.USER_ACTIVITY_PLAY,n)},label:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_PLAY_ON_SPOTIFY,subtext:i?(0,w1.Z)(o,ig.kG.USER_ACTIVITY_PLAY):void 0,disabled:i},"spotify-play-".concat(e.session_id)),o.canPlaySpotify?(0,r.jsx)(l.MenuItem,{id:"spotify-sync-".concat(e.session_id),action:function(){return(0,L1.Z)(o,ig.kG.USER_ACTIVITY_SYNC,n)},
label:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_LISTEN_ALONG,subtext:a?(0,w1.Z)(o,ig.kG.USER_ACTIVITY_SYNC):void 0,disabled:a},"spotify-sync-".concat(e.session_id)):null]}(null==o?void 0:o.activity,null==o?void 0:o.activityUser);return n?i:null}function U1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U1(e,t,n[t])}))}return e}function k1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B1(e){var t=e.party,n=e.close,i=e.onSelect,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(){C1.Z.openPrivateChannel(c).then((function(t){return UI.ZP.trackWithMetadata(w.rMx.ACTIVITY_FEED_DM_VISITED,R1({source:j1(R1({},s.location),{object:w.qAy.LIST_ITEM}),channel_id:t,recipient_id:"string"==typeof c?c:c[0],af_recently_played:!1},A1(e)))}))},i=e.priorityMembers,a=e.partiedMembers,s=o.useContext(Oe.AnalyticsContext),c=i.map((function(e){return e.user.id})),u=1===a.length&&1===i.length,f=i.length-a.length>0;return!u&&!t||f||0===c.length?null:(0,r.jsx)(l.MenuItem,{id:"message",action:n,label:Q.Z.Messages.SEND_DM})}(t),c=function(e){var t=o.useContext(Oe.AnalyticsContext),n=e.voiceChannels[0],i=(0,s.e7)([Ds.Z],(function(){
return null!=n&&Ds.Z.can(w.Plq.CONNECT,n.channel)}));return null==n?null:[(0,r.jsx)(l.MenuItem,{id:"join-voice",action:function(){(0,QJ.X)(n.guild.id);d.default.selectVoiceChannel(n.channel.id);UI.ZP.trackWithMetadata(w.rMx.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,G1({source:k1(G1({},t.location),{object:w.qAy.LIST_ITEM}),guild_id:n.guild.id,channel_id:n.channel.id},A1(e)))},label:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL,disabled:!i},"join-voice"),(0,r.jsx)(l.MenuItem,{id:"goto-server",action:function(){(0,QJ.X)(n.guild.id);UI.ZP.trackWithMetadata(w.rMx.ACTIVITY_FEED_GUILD_VISITED,G1({source:k1(G1({},t.location),{object:w.qAy.LIST_ITEM}),guild_id:n.guild.id,af_recently_played:!1},A1(e)))},label:Q.Z.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER},"goto-server")]}(t),u=function(e){return e.applicationStreams.map((function(e){var t=e.stream,n=e.streamUser;return(0,r.jsx)(l.MenuItem,{id:"spectate-".concat(t.ownerId),action:function(){
d.default.selectVoiceChannel(t.channelId);(0,ql.iV)(t)},label:Q.Z.Messages.WATCH_USER_STREAM.format({streamerName:M_.ZP.getName(n)})},"spectate-".concat(t.ownerId))}))}(t),f=Z1(t),p=y1(t),h=function(e){var t=e.priorityMembers,n=e.partiedMembers,i=e.currentActivities,a=e.guildContext,s=new Set(t.map((function(e){return e.user.id}))),c=n.filter((function(e){return!s.has(e.id)})),u=o.useMemo((function(){var e=i.flatMap((function(e){return e.playingMembers})).map((function(e){return e.id}));return n.filter((function(t){return!e.includes(t.id)}))}),[n,i]);if(i.length<=1&&0===u.length){var f,d;return(0,r.jsx)(l.MenuGroup,{label:n.length>1?Q.Z.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:n.length}):void 0,children:N1(t,c,n.length,null!==(d=null===(f=i[0])||void 0===f?void 0:f.activity)&&void 0!==d?d:void 0,null==a?void 0:a.id)})}var p=i.map((function(e,n){var o=e.playingMembers,i=e.game,c=e.activity,u=new Set(o.map((function(e){return e.id})));return(0,
r.jsx)(l.MenuGroup,{label:"".concat(i.name," - ").concat(o.length),children:N1(t.filter((function(e){var t=e.user;return u.has(t.id)})),o.filter((function(e){return!s.has(e.id)})),o.length,null!=c?c:void 0,null==a?void 0:a.id)},n)})),h=u.map((function(e){return e.id})),E=(0,r.jsx)(l.MenuGroup,{label:"".concat(Q.Z.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER," - ").concat(u.length),children:N1(t.filter((function(e){var t=e.user;return h.includes(t.id)})),u.filter((function(e){return!s.has(e.id)})),u.length,void 0,null==a?void 0:a.id)});return T1(p).concat([E])}(t);return(0,r.jsxs)(l.Menu,{navId:"now-playing-menu",onClose:n,"aria-label":Q.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onSelect:i,children:[a,(0,r.jsxs)(l.MenuGroup,{children:[c,u]}),(0,r.jsx)(l.MenuGroup,{children:f}),(0,r.jsx)(l.MenuGroup,{children:p}),h]})}function H1(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function V1(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H1(i,r,o,a,s,"next",e)}function s(e){H1(i,r,o,a,s,"throw",e)}a(void 0)}))}}function F1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z1(e){z1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return z1(e)}function W1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y1(e,t,n[t])}))}return e}function K1(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function q1(e,t){return!t||"object"!==Q1(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X1(e,t){X1=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return X1(e,t)}var Q1=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function $1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=z1(e);if(t){
var o=z1(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q1(this,n)}}var J1=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var e2=n(184137),t2=n.n(e2);function n2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function r2(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var o2,i2=(o2=function(e){var t=e.party,n=e.onUserContextMenu,o=e.onChannelContextMenu,i=(0,r.jsx)(t1,{party:t,onUserContextMenu:n}),a=(0,r.jsx)(e1,{party:t,onChannelContextMenu:o});return null!=i||null!=a?(0,
r.jsx)(l.Popout,{position:"left",renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(B1,{party:t,close:n})},spacing:8,children:function(e,t){var n=t.isShown;return(0,r.jsx)(Q0,r2(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){n2(e,t,n[t])}))}return e}({},e),{"aria-haspopup":"menu",className:t2().itemCard,active:n,children:(0,r.jsxs)("div",{children:[i,a]})}))}}):null},(0,h0.Z)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&X1(e,t)}(o,e);var t=$1(o);function o(){F1(this,o);return t.apply(this,arguments)}var i=o.prototype;i.render=function(){
return(0,r.jsx)(o2,K1(W1({},this.props),{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))};i.handleMessageUser=function(e,t){return C1.Z.openPrivateChannel(t.id)};i.handleUserContextMenu=function(e,t,o){(0,xI.jW)(e,V1((function(){var e,o;return J1(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,K1(W1({},e),{user:t}))}]}}))})),{onClose:o})};i.handleGuildContextMenu=function(e,t){(0,xI.jW)(e,V1((function(){var e,o;return J1(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(57253),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,K1(W1({},e),{guild:t}))}]}}))})))};i.handleChannelContextMenu=function(e,t){
var o=In.Z.getGuild(t.getGuildId());if(null==o)return null;(0,xI.jW)(e,V1((function(){var e,i;return J1(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(84663),n.e(44522)]).then(n.bind(n,544522))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,K1(W1({},e),{channel:t,guild:o}))}]}}))})))};return o}(o.Component))),a2=Ke().throttle((function(){return V$.W(!1)}),3e5);function s2(){var e=(0,s.cj)([qJ,ed.Z,Y.default],(function(){return{nowPlayingCards:qJ.nowPlayingCards,loaded:qJ.loaded,needsRefresh:ed.Z.needsRefresh(),fetching:ed.Z.getFetching(),currentUser:Y.default.getCurrentUser()}})),t=e.nowPlayingCards,n=e.loaded,i=e.needsRefresh,a=e.fetching,c=e.currentUser;o.useEffect((function(){b.Z.wait((function(){b.Z.dispatch({type:"NOW_PLAYING_MOUNTED"})}));return function(){return b.Z.wait((function(){b.Z.dispatch({type:"NOW_PLAYING_UNMOUNTED"})}))}}),[null==c?void 0:c.id]);o.useEffect((function(){i&&!a&&a2()}),[i,a]);var u=null;if(!n)return(0,
r.jsx)("div",{className:t2().emptyCard,children:(0,r.jsx)(l.Spinner,{})});u=t.length>0?t.map((function(e){var t=e.party;return(0,r.jsx)(i2,{party:t},t.id)})):(0,r.jsxs)("div",{className:t2().emptyCard,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:t2().emptyHeader,children:Q.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER}),(0,r.jsx)(l.Text,{color:"none",className:t2().emptyText,variant:"text-sm/normal",children:Q.Z.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})]});return(0,r.jsx)(r.Fragment,{children:u})}var l2=n(252569),c2=n.n(l2);function u2(){var e=(0,XB.Z)(fp.Z.ACTIVE_NOW_COLUMN).AnalyticsLocationProvider,t=(0,s.e7)([H$.Z],(function(){return H$.Z.hasConsented(w.pjP.PERSONALIZATION)}))?[]:[ws.z$.NOW_PLAYING_CONSENT_CARD],n=(0,q.Dt)();return(0,r.jsx)(e,{children:(0,r.jsx)(D$.Z,{section:w.jXE.ACTIVE_NOW_COLUMN,children:(0,r.jsx)("aside",{className:c2().container,"aria-labelledby":n,children:(0,r.jsxs)(l.Scroller,{className:c2().scroller,children:[(0,
r.jsx)(l.Heading,{variant:"heading-lg/semibold",className:c2().header,id:n,children:Q.Z.Messages.GAME_FEED_CURRENT_HEADER_TITLE}),(0,r.jsx)(dM.Z,{contentTypes:t,children:function(e){var t=e.visibleContent,n=e.markAsDismissed;if(t===ws.z$.NOW_PLAYING_CONSENT_CARD)return(0,r.jsx)(B$,{className:c2().consentCard,markAsDismissed:n})}}),(0,r.jsx)(s2,{})]})})})})}var f2=n(560923),d2=n(169376);function p2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y2(e){y2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y2(e)}function m2(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b2(e,t)}function _2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E2(e,t,n[t])}))}return e}function g2(e,t){return!t||"object"!==v2(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b2(e,t){b2=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b2(e,t)}var v2=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O2(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y2(e);if(t){var o=y2(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g2(this,n)}}function I2(e){var t=Y.default.getUser(e);return{user:t,usernameLower:null!=t?M_.ZP.getName(t).toLowerCase():null}}function S2(e){return{status:$f.Z.getStatus(e),isMobile:$f.Z.isMobileOnline(e),activities:$f.Z.getActivities(e),applicationStream:ec.Z.getAnyStreamForUser(e)}}function T2(e){var t=[];Ke()(qf.ZP.memberOf(e)).map(In.Z.getGuild).sortBy((function(e){return null!=e?e.name.toLowerCase():null})).forEach((function(e){null!=e&&t.push(e)}));return{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,5)}}var N2=function(e){m2(n,e);var t=O2(n);function n(e){p2(this,n);var r;(r=t.call(this)).key=e.key
;r.type=e.type;r.status=e.status;r.activities=e.activities;r.applicationStream=e.applicationStream;r.user=e.user;r.isMobile=e.isMobile;r.usernameLower=e.usernameLower;r.mutualGuildsLength=e.mutualGuildsLength;r.mutualGuilds=e.mutualGuilds;r.nickname=e.nickname;return r}!function(e,t,n){t&&h2(e.prototype,t);n&&h2(e,n)}(n,[{key:"comparator",get:function(){var e,t;return[this.type,null!==(t=null===(e=this.nickname)||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:this.usernameLower]}}]);return n}(d2.Z),C2=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p2(this,e);this._rows=t}var t=e.prototype;t.reset=function(){var t=Ke().map(Jf.Z.getRelationships(),(function(e,t){return new N2(_2({key:t,type:e,nickname:Jf.Z.getNickname(t)},I2(t),S2(t),T2(t)))})),n=Ke().map(x$.getSuggestions(),(function(e){return new N2(_2({key:e.key,type:99,nickname:e.name},I2(e.key),S2(e.key),T2(e.key)))}));return new e(Ke().concat(t,n))};t.clone=function(){
return new e(this._rows)};t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],o=r.merge(e(r.key));t=t||o!==r;this._rows[n]=o}return t};t.filter=function(e,t){return Ke()(this._rows).filter((function(e){if(null==e.user)return!1;if(null!=t&&""!==t){var n=t.toLowerCase();return[e.usernameLower,e.nickname].map((function(e){return null==e?void 0:e.toLowerCase()})).some((function(e){return null==e?void 0:e.includes(n)}))}return!0})).filter((function(t){switch(e){case w.pJs.ONLINE:return t.type===w.OGo.FRIEND&&t.status!==w.Skl.OFFLINE;case w.pJs.PENDING:return t.type===w.OGo.PENDING_INCOMING||t.type===w.OGo.PENDING_OUTGOING;case w.pJs.SUGGESTIONS:return 99===t.type;case w.pJs.BLOCKED:return t.type===w.OGo.BLOCKED;case w.pJs.ALL:default:return t.type===w.OGo.FRIEND}})).sortBy((function(e){return e.comparator})).value()};t.getRelationshipCounts=function(){var e,t=(E2(e={},w.OGo.FRIEND,0),E2(e,w.OGo.PENDING_INCOMING,0),E2(e,w.OGo.PENDING_OUTGOING,0),E2(e,99,0),
E2(e,w.OGo.BLOCKED,0),e);this._rows.forEach((function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}));return t};return e}(),A2=!0,P2=!1,R2=w.pJs.ONLINE,j2=new C2,M2=!0,w2=!1;function x2(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(A2&&(e||R2!==w.pJs.ONLINE&&R2!==w.pJs.ADD_FRIEND)&&!P2){A2=!1;P2=!0;f2.Z.fetchRelationships()}}function L2(){A2=!0;M2?P2=!1:x2();j2=j2.reset();if(!w2){var e=j2.getRelationshipCounts();R2=0===e[w.OGo.FRIEND]?0!==e[w.OGo.PENDING_INCOMING]?w.pJs.PENDING:w.pJs.ADD_FRIEND:w.pJs.ONLINE}}function D2(){j2=M2?new C2:j2.reset()}function Z2(e){return function(){if(M2)return!1;if(j2.update(e)){j2=j2.clone();return!0}return!1}}var U2=function(e){m2(n,e);var t=O2(n);function n(){p2(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Jf.Z,$f.Z,Y.default,In.Z,qf.ZP,ec.Z,x$);this.syncWith([Jf.Z],D2);this.syncWith([x$],D2);this.syncWith([Y.default],Z2(I2));this.syncWith([$f.Z,ec.Z],Z2(S2));L2()}
;r.getState=function(){return{fetching:P2,section:R2,pendingCount:Jf.Z.getPendingCount(),rows:j2}};r.__getLocalVars=function(){return{MAX_MUTUAL_GUILDS:5,SUGGESTION_TYPE:99,shouldFetch:A2,fetching:P2,section:R2,rows:j2,pause:M2,initialSectionSet:w2}};return n}(s.ZP.Store);U2.displayName="FriendsStore";const G2=new U2(b.Z,{CONNECTION_OPEN:function(){L2()},FRIENDS_SET_SECTION:function(e){R2=e.section;x2()},CHANNEL_SELECT:function(e){var t=e.channelId;M2=null!=t;D2();return!M2},LOAD_RELATIONSHIPS_SUCCESS:function(){P2=!1},LOAD_RELATIONSHIPS_FAILURE:function(){A2=!0;P2=!0},DRAWER_SELECT_TAB:function(e){var t=e.tab;M2=t!==w.cII.FRIENDS;D2();return!M2},FRIENDS_SET_INITIAL_SECTION:function(e){R2=e.section;w2=!0}});var k2=n(491275),B2=n(792708),H2=n(908478),V2=n(668785),F2=n(780929),Y2=n.n(F2);function z2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W2(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function K2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){W2(e,t,n[t])}))}return e}function q2(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function X2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q2={canSend:!1,hint:null,success:null,error:null},$2=(0,q.hQ)(),J2="".concat($2,"-decription"),e4="".concat($2,"-error");function t4(e,t){switch(t.type){case"RESET":return Q2;case"SUCCESS":return q2(K2({},Q2),{success:t.text});case"HINT":return q2(K2({},Q2),{canSend:!0,hint:t.text});case"ERROR":
return q2(K2({},e),{canSend:!0,error:t.text})}}function n4(){var e=o.createRef(),t=o.createRef(),n=X2(o.useReducer(t4,Q2),2),i=n[0],a=n[1],s=i.canSend,c=i.hint,u=i.success,f=i.error,d=(0,B2.y)();o.useEffect((function(){if(null!=u){tb()(null!=e.current,"Input is submitting when not mounted");e.current.value="";e.current.focus()}}),[u,e]);var p;return(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault();tb()(null!=e.current,"Input is submitted when not mounted");var n=e.current.value.trim();d&&!n.includes("#")&&n.startsWith("@")&&(n=n.substring(1));var r=(0,H2.Z)(n,d);null==r?f2.Z.sendRequest(n,{location:"Add Friend"}).then((function(){return a({type:"SUCCESS",text:Q.Z.Messages.ADD_FRIEND_SUCCESS.format({discordTag:n})})}),(function(e){return a({type:"ERROR",text:(0,H2.N)(e.body.code,n,d)})})):a({type:"ERROR",text:r})},autoComplete:"off",children:[(0,r.jsx)(l.FormText,{id:J2,type:l.FormText.Types.DESCRIPTION,
children:d?Q.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION:Q.Z.Messages.ADD_FRIEND_DESCRIPTION}),(0,r.jsx)(l.FocusRing,{focusTarget:e,ringTarget:t,ringClassName:Y2().ring,children:(0,r.jsxs)("div",{ref:t,className:ze()(Y2().addFriendInputWrapper,(p={},W2(p,Y2().success,u),W2(p,Y2().error,f),p)),children:[(0,r.jsx)(l.TextInput,{id:$2,inputRef:e,className:Y2().addFriendInput,inputClassName:Y2().input,onKeyPress:function(t){var n=t.currentTarget.value;if(t.key!==V2.mR.Enter&&n.includes("#")){tb()(null!=e.current,"Input is handling keypress when not mounted");var r=n.indexOf("#"),o=e.current.selectionStart,i=t.key===V2.mR.Backspace||t.key===V2.mR.ArrowRight||t.key===V2.mR.ArrowLeft,a=t.which>=48&&t.which<=57;(null!=o&&o>r&&/^(.+?#\d{4})$/.test(n)&&!i||null!=o&&o>r&&!a&&!i)&&t.preventDefault()}},onChange:function(e){if(e.length<=0)a({type:"RESET"});else{var t="",n=X2(e.split("#"),2)[1];d&&null==n||(t=e+w.LYt.slice(null!=n?n.length+1:0));a({type:"HINT",text:t})}},maxLength:37,autoFocus:!0,
autoComplete:"off",name:"add-friend","data-lpignore":!0,placeholder:d?Q.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION:Q.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-label":d?Q.Z.Messages.POMELO_ADD_FRIEND_DESCRIPTION:Q.Z.Messages.ADD_FRIEND_PLACEHOLDER,"aria-invalid":null!=f||void 0,"aria-describedby":null!=f?e4:J2}),null!=c&&(0,r.jsx)("div",{className:Y2().addFriendHint,"aria-hidden":!0,children:c}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,disabled:!s,type:"submit",children:Q.Z.Messages.ADD_FRIEND_BUTTON})]})}),null!=f&&(0,r.jsx)(l.FormText,{role:"alert",id:e4,type:l.FormText.Types.ERROR,className:Hg().marginTop8,children:f}),null!=u&&(0,r.jsx)(l.FormText,{role:"status",type:l.FormText.Types.SUCCESS,className:Hg().marginTop8,children:u})]})}var r4=n(215841),o4=n(106750);function i4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a4(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s4(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l4(e){var t=e.color,n=void 0===t?"currentColor":t,o=s4(e,["color"]);return(0,r.jsx)("svg",a4(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i4(e,t,n[t])}))}return e}({},o),{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{clipRule:"evenodd",d:"m5.41667 4.2625 5.66573 5.7375-5.66573 5.7375 1.74426 1.7625 7.42237-7.5-7.42237-7.5z",fill:n,fillRule:"evenodd"})}))}var c4=n(463806),u4=n.n(c4),f4=n(794649),d4=n.n(f4);function p4(e,t,n){return(0,r.jsxs)("button",{className:u4().container,onClick:n,children:[(0,r.jsx)("img",{className:u4().icon,alt:"",src:e}),(0,r.jsx)(l.Text,{className:u4().text,variant:"text-md/medium",children:t}),(0,r.jsx)(l4,{className:u4().arrow})]},t)}function h4(){var e=Object.values(In.Z.getGuilds()).filter((function(e){return e.hasFeature(w.oNc.HUB)}));return(0,r.jsxs)(o.Fragment,{
children:[(0,r.jsx)("header",{className:u4().header,children:(0,r.jsx)(l.FormTitle,{tag:"h2",className:u4().title,children:Q.Z.Messages.ADD_FRIEND_MAKE_FRIENDS})}),(0,r.jsxs)("div",{className:u4().grid,children:[e.map((function(e){return p4(rn.ZP.getGuildIconURL({id:e.id,icon:e.icon,size:240}),e.name,(function(){!function(e){Oe.default.track(w.rMx.ADD_FRIEND_OTHER_PLACES_HUB_CLICKED,{guild_id:e});(0,QJ.X)(e)}(e.id)}))})),p4(d4(),Q.Z.Messages.ADD_FRIEND_EXPLORE_PUBLIC_SERVERS,(function(){(0,o4.AQ)();Oe.default.track(w.rMx.ADD_FRIEND_OTHER_PLACES_DISCOVERY_CLICKED);(0,K.uL)(w.Z5c.GUILD_DISCOVERY)}))]})]})}var E4=n(984710),y4=n.n(E4);function m4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _4(e){_4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _4(e)}function g4(e,t){return!t||"object"!==O4(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b4(e,t){b4=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b4(e,t)}var v4,O4=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_4(e);if(t){var o=_4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g4(this,n)}}!function(e){e.SECTION_NO_RESULTS="SECTION_NO_RESULTS"}(v4||(v4={}));var S4=Object.freeze({SECTION_ALL:{lightSrc:n(607603),darkSrc:n(74700),width:376,height:162,renderContent:function(e){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(XX.ZP.Text,{
note:Q.Z.Messages.FRIENDS_EMPTY_STATE_ALL}),(0,r.jsx)(l.Button,{className:y4().button,onClick:e,children:Q.Z.Messages.ADD_FRIEND})]})}},SECTION_ONLINE:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(XX.ZP.Text,{note:Q.Z.Messages.FRIENDS_EMPTY_STATE_ONLINE})}},SECTION_BLOCKED:{lightSrc:n(399898),darkSrc:n(492623),width:433,height:232,renderContent:function(){return(0,r.jsx)(XX.ZP.Text,{note:Q.Z.Messages.FRIENDS_EMPTY_STATE_BLOCKED})}},SECTION_PENDING:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(XX.ZP.Text,{note:Q.Z.Messages.FRIENDS_EMPTY_STATE_PENDING})}},SECTION_SUGGESTIONS:{lightSrc:n(540579),darkSrc:n(96972),width:415,height:200,renderContent:function(){return(0,r.jsx)(XX.ZP.Text,{note:Q.Z.Messages.FRIENDS_EMPTY_STATE_SUGGESTIONS})}},SECTION_NO_RESULTS:{lightSrc:n(688224),darkSrc:n(376354),width:421,height:218,renderContent:function(){return(0,r.jsx)(XX.ZP.Text,{
note:Q.Z.Messages.FRIEND_REQUEST_NO_RESULTS_FOUND})}}});var T4=function(e){var t=e.theme,n=Q.Z.Messages.FRIENDS_EMPTY_STATE_ALL,i=S4.SECTION_ALL;return(0,r.jsx)(o.Fragment,{children:(0,r.jsxs)(XX.ZP,{theme:t,children:[(0,r.jsx)(XX.ZP.Image,{width:i.width,height:i.height,lightSrc:i.lightSrc,darkSrc:i.darkSrc}),(0,r.jsx)(XX.ZP.Text,{note:n})]})})},N4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b4(e,t)}(n,e);var t=I4(n);function n(){m4(this,n);var e;(e=t.apply(this,arguments)).state={opacity:new Qu.Z.Value(1)};e.componentWillEnter=function(t){e.state.opacity.setValue(0);Qu.Z.timing(e.state.opacity,{toValue:1,duration:250}).start(t)};e.componentWillLeave=function(t){Qu.Z.timing(e.state.opacity,{toValue:0,duration:250}).start(t)};return e}n.prototype.render=function(){
var e=this.props,t=e.type,n=e.onClick,o=e.theme,i={opacity:this.state.opacity},a=function(e){switch(e){case w.pJs.ADD_FRIEND:case w.pJs.ALL:return S4.SECTION_ALL;case w.pJs.ONLINE:return S4.SECTION_ONLINE;case w.pJs.PENDING:return S4.SECTION_PENDING;case w.pJs.SUGGESTIONS:return S4.SECTION_SUGGESTIONS;case w.pJs.BLOCKED:return S4.SECTION_BLOCKED;case v4.SECTION_NO_RESULTS:return S4.SECTION_NO_RESULTS;default:throw new Error("FriendsEmptyState: Invalid empty state")}}(t);return t===w.pJs.ADD_FRIEND?(0,r.jsx)(Qu.Z.div,{className:y4().friendsEmpty,style:i,children:(0,r.jsx)(T4,{theme:o})}):(0,r.jsx)(Qu.Z.div,{className:y4().friendsEmpty,style:i,children:(0,r.jsxs)(XX.ZP,{theme:o,children:[(0,r.jsx)(XX.ZP.Image,{width:a.width,height:a.height,lightSrc:a.lightSrc,darkSrc:a.darkSrc}),a.renderContent(n)]})})};return n}(o.PureComponent);const C4=s.ZP.connectStores([La.Z],(function(){return{theme:La.Z.theme}}),{forwardRef:!0})(N4);var A4=n(837151),P4=n.n(A4);function R4(){return(0,
r.jsxs)("header",{className:P4().header,children:[(0,r.jsx)(l.FormTitle,{tag:"h2",className:P4().title,children:Q.Z.Messages.ADD_FRIEND}),(0,r.jsx)(n4,{})]})}const j4=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(R4,{}),(0,r4.b)()&&(0,r.jsx)(h4,{}),(0,r.jsx)("div",{className:P4().emptyState,children:(0,r.jsx)(C4,{type:w.pJs.ADD_FRIEND})})]})};var M4=(0,it.B)({kind:"user",id:"2023-05_clear_pending_incoming_friend_requests",label:"Enable ability to clear incoming friend requests",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function w4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x4(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function L4(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function D4(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=L4(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",x4(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w4(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:l,fill:s,fillRule:"evenodd",clipRule:"evenodd",d:"M20.2949 0.298996L21.7089 1.713L19.4169 4.006L21.7089 6.299L20.2949 7.713L18.0019 5.42L15.7099 7.713L14.2949 6.299L16.5879 4.006L14.2949 1.713L15.7099 0.298996L18.0019 2.592L20.2949 0.298996ZM8.00195 13.006C10.207 13.006 12.002 11.211 12.002 9.006C12.002 6.801 10.207 5.006 8.00195 5.006C5.79695 5.006 4.00195 6.801 4.00195 9.006C4.00195 11.211 5.79695 13.006 8.00195 13.006ZM8.00195 14.006C3.29095 14.006 0.00195312 16.473 0.00195312 20.006V21.006H16.002V20.006C16.002 16.473 12.713 14.006 8.00195 14.006Z"})}))}var Z4,U4=n(559347),G4=n.n(U4);function k4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function B4(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.DENY=1]="DENY";e[e.DEFAULT=2]="DEFAULT"}(Z4||(Z4={}));function H4(e){var t=e.icon,n=e.tooltip,o=e.onClick,i=e.actionType,a=void 0===i?Z4.DEFAULT:i,s=e.shouldHighlight;return(0,r.jsx)(l.Tooltip,{text:n,children:function(e){var i;return(0,r.jsx)(l.Clickable,B4(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){k4(e,t,n[t])}))}return e}({},e),{"aria-label":n,onClick:o,className:ze()(G4().actionButton,(i={},k4(i,G4().actionAccept,a===Z4.ACCEPT),k4(i,G4().actionDeny,a===Z4.DENY),k4(i,G4().highlight,s),k4(i,G4().actionButtonMobile,Qe.tq),i)),children:(0,r.jsx)(t,{className:G4().icon})}))}})}H4.ActionTypes=Z4;const V4=H4;var F4=n(35330),Y4=n.n(F4);function z4(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function W4(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){z4(i,r,o,a,s,"next",e)}function s(e){z4(i,r,o,a,s,"throw",e)}a(void 0)}))}}function K4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q4(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X4(e){X4=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return X4(e)}function Q4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q4(e,t,n[t])}))}return e}function $4(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function J4(e,t){return!t||"object"!==t3(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function e3(e,t){e3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return e3(e,t)}var t3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function n3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=X4(e);if(t){var o=X4(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J4(this,n)}}var r3=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},o3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&e3(e,t)}(o,e);var t=n3(o);function o(){K4(this,o);var e;(e=t.apply(this,arguments)).state={height:new Qu.Z.Value(62),opacity:new Qu.Z.Value(1),hovered:!1,isContextMenuActive:!1};e.handleMouseEnter=function(){var t=e.props,n=t.isFocused,r=t.isActive,o=t.onOtherHover,i=e.state.isContextMenuActive;e.setState({hovered:n});!n||r||i||null==o||o()};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleContextMenu=function(t,o){e.setState({isContextMenuActive:!0});(0,xI.jW)(t,W4((function(){var e,t;return r3(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,$4(Q4({},e),{user:o}))}]}}))})),{onClose:function(){e.setState({isContextMenuActive:!1})}})};return e}var i=o.prototype;i.componentWillLeave=function(e){Qu.Z.parallel([Qu.Z.timing(this.state.opacity,{toValue:0,duration:200
}),Qu.Z.timing(this.state.height,{toValue:0,duration:200})]).start(e)};i.componentWillEnter=function(e){this.state.opacity.setValue(0);this.state.height.setValue(0);Qu.Z.parallel([Qu.Z.timing(this.state.opacity,{toValue:1,duration:200}),Qu.Z.timing(this.state.height,{toValue:62,duration:200})]).start(e)};i.render=function(){var e=this,t=this.state,n=t.height,o=t.opacity,i=t.hovered,a=t.isContextMenuActive,s=this.props,c=s.children,u=s.user,f=s.onClick,d=s.isActive;return(0,r.jsx)(Si.mh,{id:u.id,children:function(t){return(0,r.jsx)(l.FocusRing,{offset:{left:-8,right:-8},children:(0,r.jsx)(Qu.Z.div,$4(Q4({className:ze()(Y4().peopleListItem,q4({},Y4().active,d||a)),onContextMenu:function(t){return e.handleContextMenu(t,u)},onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onClick:null!=f?f:void 0,style:{height:n,opacity:o}},t),{children:c(i||d||a)}))})}})};return o}(o.PureComponent);const i3=o3;var a3=n(715402),s3=n.n(a3);function l3(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const c3=function(e){var t=e.user,n=e.hovered,o=e.subText,i=e.showAccountIdentifier,a=e.status,l=e.isMobile,c=e.className,u=(0,s.e7)([Jf.Z],(function(){return Jf.Z.getNickname(t.id)}));return(0,r.jsxs)("div",{className:ze()(s3().userInfo,c,l3({},s3().hovered,n)),children:[(0,r.jsx)(UD.Z,{user:t,className:s3().avatar,animate:n,status:a,isMobile:l}),(0,r.jsxs)("div",{className:s3().text,children:[(0,r.jsx)(mQ.Z,{user:t,nick:u,botClass:s3().botTag,className:ze()(s3().discordTag,l3({},s3().alignPomelo,t.isPomelo())),usernameClass:s3().username,discriminatorClass:s3().discriminator,showAccountIdentifier:i}),(0,r.jsx)("div",{className:s3().subtext,children:o})]})]})};var u3=n(707673),f3=n.n(u3);function d3(e){var t=e.user,n=e.key,i=e.isFocused,a=o.useContext(Oe.AnalyticsContext),s=function(e){e.stopPropagation();f2.Z.unblockUser(t.id,{location:"Friends"})};return(0,r.jsx)(i3,{isFocused:i,onClick:function(){return(0,ng.m)({
userId:t.id,analyticsLocation:a.location})},user:t,children:function(e){return(0,r.jsxs)("div",{className:f3().listItemContents,children:[(0,r.jsx)(c3,{user:t,hovered:e,status:w.Skl.UNKNOWN,subText:Q.Z.Messages.BLOCKED}),(0,r.jsx)(V4,{icon:D4,actionType:V4.ActionTypes.DENY,tooltip:Q.Z.Messages.UNBLOCK,onClick:s,shouldHighlight:e})]})}},n)}var p3=n(106555),h3=n(306473),E3=n.n(h3);const y3=function(e){var t=e.hovered,n=e.activities,o=e.applicationStream,i=e.status;return n.length>0?(0,r.jsx)(p3.Z,{className:E3().activity,textClassName:E3().text,emojiClassName:E3().customStatusEmoji,activities:n,applicationStream:o,animate:t}):(0,r.jsx)("div",{className:E3().text,children:(0,M_.u5)(i)})};var m3=n(299677),_3=n.n(m3);function g3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v3(e){
v3=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v3(e)}function O3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b3(e,t,n[t])}))}return e}function I3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S3(e,t){return!t||"object"!==N3(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T3(e,t){T3=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T3(e,t)}var N3=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C3(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v3(e);if(t){var o=v3(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S3(this,n)}}function A3(e){var t=e.user,n=e.onSelect,o=function(){f2.Z.removeFriend(t.id,{location:"Friends"})},i=(0,s.e7)([ga.Z],(function(){return ga.Z.supports(va.AN.VIDEO)}));return(0,r.jsxs)(l.Menu,{navId:"friend-row","aria-label":Q.Z.Messages.USER_ACTIONS_MENU_LABEL,
onClose:xI.Zy,onSelect:n,children:[i?(0,r.jsx)(l.MenuItem,{id:"start-video-call",label:Q.Z.Messages.START_VIDEO_CALL,action:function(){C1.Z.openPrivateChannel(t.id,!0,!0)}}):null,(0,r.jsx)(l.MenuItem,{id:"start-voice-call",label:Q.Z.Messages.START_VOICE_CALL,action:function(){C1.Z.openPrivateChannel(t.id,!0)}}),(0,r.jsx)(l.MenuItem,{id:"remove-friend",label:Q.Z.Messages.REMOVE_FRIEND,action:function(){(0,l.openModal)((function(e){return(0,r.jsx)(l.ConfirmModal,I3(O3({header:Q.Z.Messages.REMOVE_FRIEND_TITLE.format({name:M_.ZP.getName(t)}),confirmText:Q.Z.Messages.REMOVE_FRIEND,cancelText:Q.Z.Messages.CANCEL,onConfirm:o},e),{children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.REMOVE_FRIEND_BODY.format({name:M_.ZP.getName(t)})})}))}))},color:"danger"})]})}var P3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&T3(e,t)}(n,e);var t=C3(n);function n(){g3(this,n);var e;(e=t.apply(this,arguments)).peopleListItemRef=o.createRef();e.state={isActiveRow:!1};e.handleOpenPrivateChannel=function(t){var n=e.props.user;t.stopPropagation();var r=Ke().find(S.Z.getMutablePrivateChannels(),(function(e){return e.type===w.d4z.DM&&e.getRecipientId()===n.id}));null!=r?(0,K.uL)(w.Z5c.CHANNEL(w.ME,r.id)):C1.Z.openPrivateChannel(n.id)};e.handleOpenActionsMenu=function(t){var n=e.props.user;(0,xI.vq)(t,(function(e){return(0,r.jsx)(A3,I3(O3({},e),{user:n}))}),{onClose:function(){e.setState({isActiveRow:!1})}});e.setState({isActiveRow:!0})};return e}var i=n.prototype;i.componentWillLeave=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillLeave(e)};i.componentWillEnter=function(e){null!=this.peopleListItemRef.current&&this.peopleListItemRef.current.componentWillEnter(e)};i.render=function(){
var e=this,t=this.props,n=t.user,o=t.isFocused,i=t.activities,a=t.applicationStream,s=t.status,l=t.isMobile,c=this.state.isActiveRow;return(0,r.jsx)(i3,{ref:this.peopleListItemRef,isFocused:o,isActive:c,user:n,onOtherHover:function(){return c?null:(0,xI.Zy)()},onClick:this.handleOpenPrivateChannel,children:function(t){return(0,r.jsxs)("div",{className:_3().listItemContents,children:[(0,r.jsx)(c3,{user:n,status:s,isMobile:l,subText:(0,r.jsx)(y3,{hovered:t,activities:i,applicationStream:a,status:s}),hovered:t,showAccountIdentifier:!0}),(0,r.jsxs)("div",{className:_3().actions,children:[(0,r.jsx)(V4,{icon:no.Z,tooltip:Q.Z.Messages.SEND_DM,onClick:e.handleOpenPrivateChannel,shouldHighlight:t}),(0,r.jsx)(V4,{icon:VD.Z,tooltip:Q.Z.Messages.MORE,onClick:e.handleOpenActionsMenu,shouldHighlight:t})]})]})}})};return n}(o.PureComponent);const R3=P3;var j3=n(660396),M3=n.n(j3);function w3(e){var t=e.user,n=e.type,i=e.status,a=e.isFocused,s=o.useContext(Oe.AnalyticsContext),l=function(e){
e.stopPropagation();f2.Z.cancelFriendRequest(t.id,{location:"Friends"})},c=function(e){e.stopPropagation();f2.Z.addRelationship({userId:t.id,context:{location:"Friends"}})},u=i===w.Skl.OFFLINE?w.Skl.UNKNOWN:i,f=n===w.OGo.PENDING_INCOMING?Q.Z.Messages.INCOMING_FRIEND_REQUEST:Q.Z.Messages.OUTGOING_FRIEND_REQUEST;return(0,r.jsx)(i3,{isFocused:a,user:t,onClick:function(){return(0,ng.m)({userId:t.id,analyticsLocation:s.location})},children:function(e){var o,i=n===w.OGo.PENDING_INCOMING?(0,r.jsxs)(r.Fragment,{children:[(null===(o=Y.default.getCurrentUser())||void 0===o?void 0:o.isStaff())&&(null==t?void 0:t.isStaff())&&(0,r.jsx)("div",{className:M3().staffIndicator,children:(0,r.jsx)(Bt.IG,{color:br.Z.unsafe_rawColors.BRAND_500.css,text:Q.Z.Messages.STAFF_BADGE_TOOLTIP})}),(0,r.jsx)(V4,{icon:UM.Z,actionType:V4.ActionTypes.ACCEPT,tooltip:Q.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:c,shouldHighlight:e}),(0,r.jsx)(V4,{icon:JI.Z,actionType:V4.ActionTypes.DENY,
tooltip:Q.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:l,shouldHighlight:e})]}):(0,r.jsx)(V4,{icon:JI.Z,actionType:V4.ActionTypes.DENY,tooltip:Q.Z.Messages.FRIEND_REQUEST_CANCEL,onClick:l,shouldHighlight:e});return(0,r.jsxs)("div",{className:M3().listItemContents,children:[(0,r.jsx)(c3,{user:t,hovered:e,showAccountIdentifier:!0,status:u,subText:f,className:M3().userInfo}),(0,r.jsx)("div",{className:M3().actions,children:i})]})}})}var x3=n(798159),L3=n(712837),D3=n.n(L3);function Z3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U3(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const G3=function(e){
var t=e.statusSections,n=e.renderRow,i=e.searchQuery,a=function(e){return 0===t[e].length?0:40},c=function(e){var r=e.section,o=e.row,i=t[r];if(null==i||null==o)return null;var a=i[o];return null==a?null:n(a)},u=(0,s.e7)([E.Z],(function(){return E.Z.keyboardModeEnabled})),f=o.useRef(null),d=o.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),p=o.useCallback((function(){return new Promise((function(e){var t=f.current;if(null==t)return e();t.scrollToBottom({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),h=o.useCallback((function(e){var t=document.querySelector(e),n=f.current;null!=t&&null!=n&&n.scrollIntoViewNode({node:t,padding:8,callback:function(){return null==t?void 0:t.focus()}})}),[]),y=(0,x3.ZP)({id:"people-list",isEnabled:u,scrollToStart:d,scrollToEnd:p,setFocus:h});return(0,r.jsx)(Si.bG,{
navigator:y,children:(0,r.jsx)(Si.SJ,{children:function(e){var n=e.ref,o=U3(e,["ref"]);return(0,r.jsx)(l.ListAuto,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z3(e,t,n[t])}))}return e}({ref:function(e){f.current=e;var t;n.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null},sectionHeight:a,renderRow:c,rowHeight:62,sections:t.map((function(e){return""!==i&&0===e.length?e.length+1:e.length})),className:D3().peopleList},o))}})})};var k3=n(443660);function B3(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function H3(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B3(i,r,o,a,s,"next",e)}
function s(e){B3(i,r,o,a,s,"throw",e)}a(void 0)}))}}function V3(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F3(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Y3(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}var z3=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0
}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const W3=function(e){var t=e.statusSections,n=e.renderRow,o=e.searchQuery,i=e.sectionFilter,a=e.useReducedMotion,c=(0,s.e7)([E.Z],(function(){return E.Z.keyboardModeEnabled})),u=(0,x3.ZP)({id:"people",isEnabled:c,scrollToStart:function(){return H3((function(){return z3(this,(function(e){return[2]}))}))()},scrollToEnd:function(){return H3((function(){return z3(this,(function(e){return[2]}))}))()}}),f=i!==w.pJs.ONLINE&&i!==w.pJs.ALL,d=a||""!==o||f,p=t.map((function(e,t){return d?(0,r.jsx)("div",{children:e.map(n)},t):(0,r.jsx)(k3.Z,{transitionAppear:!1,component:"div",children:e.map(n)},t)}));return(0,r.jsx)(Si.bG,{navigator:u,children:(0,r.jsx)(Si.SJ,{children:function(e){var t=e.ref,n=Y3(e,["ref"]);return(0,r.jsx)(l.ScrollerAuto,F3(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V3(e,t,n[t])}))}return e}({ref:t,className:D3().peopleList},n),{children:p}))}})})};function K3(e){var t=e.relationshipCount,n=e.statusSections,o=e.renderRow,i=e.searchQuery,a=e.sectionFilter,s=e.useReducedMotion;return t>=64?(0,r.jsx)(G3,{statusSections:n,renderRow:o,searchQuery:i}):(0,r.jsx)(W3,{statusSections:n,renderRow:o,sectionFilter:a,searchQuery:i,useReducedMotion:s})}var q3=n(791451),X3=n.n(q3);function Q3(e){var t=e.title,n=e.id;return(0,r.jsx)(YX.Z,{className:X3().title,id:n,children:t})}var $3=n(227580),J3=n.n($3);function e5(e){var t=e.user,n=e.nickname,i=e.status,a=e.isFocused,s=o.useContext(Oe.AnalyticsContext),l=function(e){null==e||e.stopPropagation();f2.Z.addRelationship({userId:t.id,context:{location:"Friends"},type:void 0,friendToken:void 0,fromFriendSuggestion:!0})
},c=function(e){null==e||e.stopPropagation();m$(t.id)},u=i===w.Skl.OFFLINE?w.Skl.UNKNOWN:i;return(0,r.jsx)(i3,{isFocused:a,user:t,onClick:function(){return(0,ng.m)({userId:t.id,analyticsLocation:s.location})},children:function(e){var o=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V4,{icon:UM.Z,actionType:V4.ActionTypes.ACCEPT,tooltip:Q.Z.Messages.FRIEND_REQUEST_ACCEPT,onClick:l,shouldHighlight:e}),(0,r.jsx)(V4,{icon:JI.Z,actionType:V4.ActionTypes.DENY,tooltip:Q.Z.Messages.FRIEND_REQUEST_IGNORE,onClick:c,shouldHighlight:e})]});return(0,r.jsxs)("div",{className:J3().listItemContents,children:[(0,r.jsx)(c3,{user:t,hovered:e,status:u,subText:n,className:J3().userInfo}),(0,r.jsx)("div",{className:J3().actions,children:o})]})}})}function t5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function r5(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){n5(e,t,n[t])}))}return e}function o5(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return t5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a5(e,t){switch(e){case w.pJs.ONLINE:return Q.Z.Messages.FRIENDS_ONLINE_HEADER.format({online:t.toString()});case w.pJs.PENDING:return Q.Z.Messages.FRIENDS_PENDING_HEADER.format({count:t.toString()});case w.pJs.SUGGESTIONS:return Q.Z.Messages.FRIENDS_FRIEND_SUGGESTIONS_HEADER.format({count:t.toString()})
;case w.pJs.BLOCKED:return Q.Z.Messages.FRIENDS_BLOCKED_HEADER.format({count:t.toString()});default:return Q.Z.Messages.FRIENDS_ALL_HEADER.format({count:t.toString()})}}const s5=function(e){var t=e.sectionFilter,n=e.titleId,i=(0,s.cj)([G2],(function(){return G2.getState()})),a=i.rows,c=i.section,u=(0,s.e7)([xr.Z],(function(){return xr.Z.isFocused()})),f=(0,s.e7)([Jf.Z],(function(){return Jf.Z.getRelationshipCount()})),d=M4.useExperiment({},{autoTrackExposure:!0}).enabled,p=i5(o.useState((function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=Object.values(w.pJs)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){e[o.value]=""}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e})),2),h=p[0],y=p[1],m=o.useCallback((function(e){y(o5(r5({},h),n5({},t,e)))}),[h,t]),_=o.useCallback((function(){y(o5(r5({},h),n5({},t,"")))}),[h,t]),g=a.filter(t,h[t]);if(0===g.length&&""===h[t])return(0,r.jsx)("div",{className:D3().emptyStateContainer,children:(0,r.jsx)(C4,{
type:t,onClick:function(){p$.Z.setSection(w.pJs.ADD_FRIEND)}},c)});var b=[g],v=0===g.length&&""!==h[t],O=g.filter((function(e){return e.type===w.OGo.PENDING_INCOMING})).length,I=t===w.pJs.PENDING&&O>0&&d&&O>=5;return(0,r.jsxs)(D$.Z,{section:w.jXE.FRIENDS_LIST,children:[(0,r.jsx)(eZ.Z,{className:ze()(D3().searchBar,v?D3().searchEmptyState:null),query:h[t],onChange:m,onClear:_,size:eZ.Z.Sizes.MEDIUM}),(0,r.jsxs)("div",{className:D3().sectionTitle,children:[(0,r.jsx)(Q3,{id:n,title:a5(t,g.length)}),I&&(0,r.jsx)(l.Button,{look:l.ButtonLooks.LINK,color:l.ButtonColors.LINK,className:D3().clearButton,size:l.Button.Sizes.TINY,onClick:function(e){e.stopPropagation();f2.Z.confirmClearPendingRelationships(O)},"aria-label":Q.Z.Messages.CLEAR_INCOMING_REQUESTS_BUTTON,children:Q.Z.Messages.CLEAR_INCOMING_REQUESTS_BUTTON})]}),v?(0,r.jsx)("div",{className:D3().emptyStateContainer,children:(0,r.jsx)(C4,{type:v4.SECTION_NO_RESULTS},c)}):(0,r.jsx)(K3,{relationshipCount:f,statusSections:b,
renderRow:function(e){switch(t){case w.pJs.BLOCKED:return(0,r.jsx)(d3,o5(r5({},e),{isFocused:u}));case w.pJs.PENDING:return(0,r.jsx)(w3,o5(r5({},e),{isFocused:u}));case w.pJs.SUGGESTIONS:return(0,r.jsx)(e5,o5(r5({},e),{isFocused:u}));case w.pJs.ONLINE:case w.pJs.ALL:default:return(0,r.jsx)(R3,o5(r5({},e),{isFocused:u}))}},sectionFilter:t,searchQuery:h[t],useReducedMotion:E.Z.useReducedMotion})]})};var l5=n(433979),c5=n.n(l5);function u5(){return(0,r.jsxs)("div",{className:c5().inviteToolbar,children:[(0,r.jsx)(L$.Z,{tooltip:Q.Z.Messages.NEW_GROUP_DM}),(0,r.jsx)(MS.Z.Divider,{})]})}const f5=function(e){var t=e.initialSection;o.useEffect((function(){AX.Y(w.Z5c.FRIENDS);(0,VX.e)("friends")}));o.useEffect((function(){null!=t&&p$.Z.setInitialSection(t)}),[t]);var n=(0,s.e7)([La.Z],(function(){return La.Z.theme})),i=(0,s.cj)([G2],(function(){return G2.getState()})),a=i.section,c=i.pendingCount,u=(0,s.cj)([x$],(function(){return x$.getSuggestionCount()})),f=(0,q.Dt)(),d=(0,q.Dt)();return(0,
r.jsxs)("main",{className:c5().container,"aria-label":Q.Z.Messages.FRIENDS,children:[(0,r.jsx)(GO.yY,{location:Q.Z.Messages.FRIENDS}),(0,r.jsxs)(MS.Z,{className:(0,zX.Q)(n),toolbar:(0,r.jsx)(u5,{}),scrollable:Qe.tq,role:"navigation","aria-labelledby":f,children:[(0,r.jsx)(MS.Z.Icon,{icon:k2.Z,"aria-hidden":!0}),(0,r.jsx)(MS.Z.Title,{id:f,children:Q.Z.Messages.FRIENDS}),(0,r.jsx)(MS.Z.Divider,{}),(0,r.jsxs)(l.TabBar,{"aria-label":Q.Z.Messages.FRIENDS,selectedItem:a,type:"top-pill",onItemSelect:function(e){p$.Z.setSection(e)},className:c5().tabBar,children:[(0,r.jsx)(l.TabBar.Item,{id:w.pJs.ONLINE,className:c5().item,children:Q.Z.Messages.FRIENDS_SECTION_ONLINE}),(0,r.jsx)(l.TabBar.Item,{id:w.pJs.ALL,className:c5().item,children:Q.Z.Messages.FRIENDS_SECTION_ALL}),(0,r.jsxs)(l.TabBar.Item,{id:w.pJs.PENDING,className:c5().item,"aria-label":Q.Z.Messages.FRIENDS_SECTION_PENDING,children:[Q.Z.Messages.FRIENDS_SECTION_PENDING,c>0?(0,r.jsx)(Bt.mA,{count:c,className:c5().badge,style:{
paddingRight:0}}):null]}),u>0?(0,r.jsxs)(l.TabBar.Item,{id:w.pJs.SUGGESTIONS,className:c5().item,"aria-label":Q.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,children:[Q.Z.Messages.FRIENDS_SECTION_SUGGESTIONS,(0,r.jsx)(Bt.mA,{count:u,className:c5().badge,style:{paddingRight:0}})]}):null,(0,r.jsx)(l.TabBar.Item,{id:w.pJs.BLOCKED,className:c5().item,children:Q.Z.Messages.BLOCKED}),(0,r.jsx)(l.TabBar.Item,{"aria-label":Q.Z.Messages.FRIENDS_SECTION_ADD_FRIEND,className:ze()(c5().item,c5().addFriend),id:w.pJs.ADD_FRIEND,children:(0,r.jsx)("span",{children:Q.Z.Messages.FRIENDS_SECTION_ADD_FRIEND})})]})]}),(0,r.jsxs)("div",{className:c5().tabBody,children:[(0,r.jsx)(l.TabBar.Panel,{id:a,className:c5().peopleColumn,"aria-labelledby":d,children:a===w.pJs.ADD_FRIEND?(0,r.jsx)(j4,{}):(0,r.jsx)(s5,{titleId:d,sectionFilter:a})}),(0,r.jsx)("div",{className:c5().nowPlayingColumn,children:(0,r.jsx)(u2,{})})]})]})}
;var d5=n(247250),p5=n(43566),h5=n(394352),E5=n(442658),y5=n(401080),m5=n(107218),_5=n(796909),g5=n(173808),b5=n(136317),v5=n(436145),O5=n(821),I5=n(398344),S5=n(195363),T5=n(401340),N5=n(940581),C5=n(788138),A5=n.n(C5),P5=n(163471),R5=n.n(P5),j5=n(770631),M5=n.n(j5),w5=n(961088),x5=n.n(w5),L5=n(630234),D5=n.n(L5),Z5=n(456202),U5=n.n(Z5),G5=n(791643),k5=n.n(G5),B5=n(565411),H5=n.n(B5);function V5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F5(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Y5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V5(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z5,W5=function(e){var t=e.stepDescription,n=e.hasCompletedStep,o=e.image,i=e.onClick,a=e.tooltipText,s=e.isEnabled,c=void 0===s||s,u=e.shouldPreventDefaultEmojiPickerToggle,f=void 0!==u&&u;return(0,r.jsx)(l.Tooltip,{shouldShow:!c,text:a,position:"right",tooltipContentClassName:A5().tooltipText,spacing:20,children:function(e){var a,s,u,d,p,h=e.onMouseEnter,E=e.onMouseLeave;return(0,r.jsx)(l.Clickable,{onMouseEnter:h,onMouseLeave:E,onClick:function(){c&&i()},className:ze()((a={},
F5(a,A5().tutorialLinkcontainer,!0),F5(a,A5().tutorialLinkcontainerEnabled,c),a)),"data-premium-tutorial-persistent-coachmark-emoji-step":f,children:(0,r.jsxs)("div",{className:ze()(F5({},A5().tutorialLinkBackground,!0)),children:[(0,r.jsx)("div",{className:ze()((s={},F5(s,A5().tutorialLinkImageContainer,!0),F5(s,A5().tutorialLinkImageContainerDisabled,!c),s)),children:o}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",className:ze()((u={},F5(u,A5().tutorialLink,!0),F5(u,A5().tutorialLinkEnabled,c),F5(u,A5().tutorialLinkDisabled,!c),u)),children:t}),n?(0,r.jsx)(UM.Z,{className:ze()((d={},F5(d,A5().tutorialCheckmark,!0),F5(d,A5().tutorialCheckmarkEnabled,c),F5(d,A5().tutorialCheckmarkDisabled,!c),d))}):(0,r.jsx)("div",{className:A5().rightCaretContainer,children:(0,r.jsx)(b5.Z,{width:16,className:ze()((p={},F5(p,A5().tutorialRightCaret,!0),F5(p,A5().tutorialRightCaretEnabled,c),F5(p,A5().tutorialRightCaretDisabled,!c),p))})})]})})}})};!function(e){e[e.JUMP_TO_DM=0]="JUMP_TO_DM"
;e[e.JUMP_TO_SERVER=1]="JUMP_TO_SERVER";e[e.OPEN_CHAT=2]="OPEN_CHAT"}(z5||(z5={}));var K5=function(e){var t=e.hasCompletedProfileTutorial,n=e.hasCompletedBoostTutorial,i=e.hasCompletedEmojiTutorial,a=e.analyticsLocations,l=(0,y5.Z)({analyticsLocation:{page:w.ZY5.PREMIUM_TRIAL_TUTORIAL_COACHMARK}}),c=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()})),u=(0,s.e7)([A.Z],(function(){return A.Z.getChannelId(c)})),f=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(u)})),d=null!=f&&f.type===EC.d.GUILD_VOICE,p=(0,s.Wu)([m5.Z],(function(){return m5.Z.getFlattenedGuildIds()})),h=function(e,t,n,r){var o=(0,s.cj)([YU.Z,Ds.Z,CU.ZP],(function(){if(!YU.Z.hasUsableEmojiInAnyGuild())return{canUserSendEmoji:!1,userCantSendEmojiReason:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_FLOW_DISABLED_TOOLTIP};if(null==r){var o=e.find((function(e){return!CU.ZP.hasUnread(e)}));return null!=o?{canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:z5.JUMP_TO_DM,firstChannelWithNoNewMessages:o}:t.length>0?{
canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:z5.JUMP_TO_SERVER,guildId:t[0]}:{canUserSendEmoji:!1,userCantSendEmojiReason:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP}}if(r.type!==EC.d.DM&&r.type!==EC.d.GUILD_TEXT&&r.type!==EC.d.GROUP_DM&&r.type!==EC.d.PUBLIC_THREAD&&r.type!==EC.d.PRIVATE_THREAD&&r.type!==EC.d.GUILD_VOICE)return{canUserSendEmoji:!1,userCantSendEmojiReason:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP};if(null!=n){if(!Ds.Z.can(w.Plq.SEND_MESSAGES,r))return{canUserSendEmoji:!1,userCantSendEmojiReason:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_OPEN_CHANNEL_TOOLTIP};if(!Ds.Z.can(w.Plq.USE_EXTERNAL_EMOJIS,r))return{canUserSendEmoji:!1,userCantSendEmojiReason:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_CHANNEL_DOESNT_ALLOW_EMOJI_TOOLTIP}}return{canUserSendEmoji:!0,userCantSendEmojiReason:void 0,actionType:z5.OPEN_CHAT}})),i=o.canUserSendEmoji,a=o.userCantSendEmojiReason,l=o.actionType,c=o.firstChannelWithNoNewMessages,u=o.guildId
;return{canUserSendEmoji:i,userCantSendEmojiReason:a,onClickEmojiTutorial:function(){i&&(l===z5.JUMP_TO_DM&&void 0!==c?(0,K.uL)(w.Z5c.CHANNEL(w.ME,c)):l===z5.JUMP_TO_SERVER&&void 0!==u?(0,QJ.X)(u):l===z5.OPEN_CHAT&&void 0!==r&&r.type===EC.d.GUILD_VOICE&&d5.Z.updateChatOpen(r.id,!0))}}}((0,s.Wu)([_5.Z,jX.Z,MX.Z],(function(){var e=_5.Z.getPrivateChannelIds();return(0,E5.tU)(e,[jX.Z,MX.Z])})),p,c,f),E=h.canUserSendEmoji,y=h.userCantSendEmojiReason,m=h.onClickEmojiTutorial,_=function(e){var t=(0,s.cj)([P.Z,In.Z],(function(){if(0===e.length)return{isBoostStepEnabled:!1};var t=P.Z.getGuildId();return{isBoostStepEnabled:!0,currentGuild:In.Z.getGuild(t)}})),n=t.isBoostStepEnabled,r=t.currentGuild;return{isBoostStepEnabled:n,onClickBoostingTutorial:function(){n&&null==r&&e.length>0&&(0,QJ.X)(e[0])}}}(p),g=_.isBoostStepEnabled,b=_.onClickBoostingTutorial,v=(0,To.ZP)();o.useEffect((function(){E||Oe.default.track(w.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"emoji"})
;g||Oe.default.track(w.rMx.PREMIUM_FEATURE_TUTORIAL_FLOW_DISABLED,{flow:"boost"})}),[E,g]);return(0,r.jsxs)("div",{className:A5().tutorialStepsContainer,children:[(0,r.jsx)(W5,{stepDescription:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CUSTOM_PROFILES,hasCompletedStep:t,image:(0,r.jsx)("img",{alt:"",src:D5()}),onClick:function(){(0,ov.w9)(Dy.QD.PROFILE_CUSTOMIZATION);!function(e,t){Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:t,helper_action:Dy.IM.CUSTOM_PROFILES_CLICKED});(0,T5.k)(Dy.MY[Dy.QD.PROFILE_CUSTOMIZATION][0]);e();(0,v5.p)(!0)}(l,a)}}),(0,r.jsx)("hr",{className:A5().tutorialLinkSeparator}),(0,r.jsx)(W5,{stepDescription:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_EMOJI,hasCompletedStep:i,image:(0,r.jsx)("img",{alt:"",src:x5(),className:A5().emojiTutorialImg}),onClick:function(){null==m||m();(0,ov.w9)(Dy.QD.CUSTOM_EMOJI);!function(e,t){Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Dy.IM.UNLOCK_EMOJI_CLICKED})
;var n=t?GI.I.SIDEBAR:GI.I.NORMAL;(0,h5.RO)(N5.X1.EMOJI,n);(0,JV.$u)(ws.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP);(0,T5.k)(Dy.MY[Dy.QD.CUSTOM_EMOJI][0]);(0,v5.p)(!0)}(a,d);!function(){var e=P.Z.getGuildId(),t=0;YU.Z.getTopEmoji(e).length>0&&t++;YU.Z.getDisambiguatedEmojiContext(e).favoriteEmojisWithoutFetchingLatest.length>0&&t++;YU.Z.getDisambiguatedEmojiContext(e).getFrequentlyUsedEmojisWithoutFetchingLatest().length>0&&t++;p5.kJ.setActiveCategoryIndex(t)}()},tooltipText:y,isEnabled:E,shouldPreventDefaultEmojiPickerToggle:!0}),(0,r.jsx)("hr",{className:A5().tutorialLinkSeparator}),(0,r.jsx)(W5,{stepDescription:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_BOOSTS,hasCompletedStep:n,image:(0,r.jsx)("img",{alt:"",src:(0,Io.wj)(v)?R5():M5(),className:A5().boostTutorialImg}),onClick:function(){null==b||b();(0,ov.w9)(Dy.QD.BOOSTING);!function(e){Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Dy.IM.SERVER_BOOSTS_CLICKED});(0,yV.l)(!0);(0,
JV.$u)(ws.z$.PREMIUM_TUTORIAL_SERVER_MENU_TOOLTIP);(0,T5.k)(Dy.MY[Dy.QD.BOOSTING][0]);(0,v5.p)(!0)}(a)},tooltipText:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_BOOST_FLOW_DISABLED_TOOLTIP,isEnabled:g})]})},q5=function(e,t){if(!t&&e>=1&&e<3)return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_WELCOME_BACK;switch(e){case 1:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED_ONE;case 2:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_LAST_ONE;case 3:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER_COMPLETED;default:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_HEADER}},X5=function(e){switch(e){case 1:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_CHOOSE_ANOTHER_PERK;case 2:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_LAST_ONE;case 3:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER_COMPLETED;default:return Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_SUB_HEADER}},Q5=function(e){
var t=I5.Z.isPersistentCoachmarkCollapsed?Dy.IM.HELPER_UNCOLLAPSED:Dy.IM.HELPER_COLLAPSED;Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:t});(0,v5.Lt)()},$5=function(e){var t=e.analyticsLocations,n=e.setDisplayDismissConfirmation,o=e.dismissedTutorialStepsLength,i=e.hasCompletedStepDuringSession,a=e.hasCompletedProfileTutorial,s=e.hasCompletedBoostTutorial,c=e.hasCompletedEmojiTutorial,u=e.hasCompletedAllSteps;return(0,r.jsxs)("div",{className:A5().expandedCoachmarkContent,children:[(0,r.jsx)(l.Text,{className:A5().expandedCoachmarkHeader,variant:"text-md/semibold",children:q5(o,i)}),(0,r.jsx)(l.Text,{className:A5().expandedCoachmarkSubheader,variant:"text-sm/normal",children:X5(o)}),(0,r.jsx)(K5,{hasCompletedProfileTutorial:a,hasCompletedBoostTutorial:s,hasCompletedEmojiTutorial:c,analyticsLocations:t}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("hr",{className:A5().tutorialLinkSeparator}),(0,r.jsxs)("div",{
className:A5().expandedCoachmarkFooterContent,children:[(0,r.jsx)(l.Clickable,{onClick:function(){return n(!0)},children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:A5().closeHelperLink,children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_MARKETING_CLOSE})}),(0,r.jsx)(l.Clickable,{onClick:function(){return function(e){Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Dy.IM.EXPLORE_ALL_PERKS_CLICKED});(0,K.uL)(w.Z5c.APPLICATION_STORE)}(t)},children:(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:A5().seeAllPerksLink,children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_MARKETING_REDIRECT})})]})]})]})},J5=function(e){var t=e.analyticsLocations,n=e.setDisplayDismissConfirmation;return(0,r.jsxs)("div",{className:A5().expandedCoachmarkContent,children:[(0,r.jsx)(l.Text,{className:A5().expandedCoachmarkHeader,variant:"text-md/semibold",children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CONFIRMATION_HEADER}),(0,r.jsx)(l.Text,{
className:A5().expandedCoachmarkSubheader,variant:"text-sm/normal",children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CONFIRMATION_SUBHEADER}),(0,r.jsx)("hr",{className:A5().tutorialDismissConfirmationSeparator}),(0,r.jsxs)("div",{className:A5().expandedCoachmarkFooterContent,children:[(0,r.jsx)(l.Button,{onClick:function(){return n(!1)},look:l.ButtonLooks.BLANK,color:A5().cancelButtonColor,children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_CANCEL}),(0,r.jsx)(l.Button,{onClick:function(){return function(e){Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:e,helper_action:Dy.IM.HELPER_DISMISSED});(0,xs.EW)(ws.z$.PREMIUM_TUTORIAL_EXPERIENCE)}(t)},children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COACHMARK_CLOSE_YES})]})]})},e6=function(e){var t=e.analyticsLocations,n=(0,QV.eM)(),i=n.includes(Dy.QD.PROFILE_CUSTOMIZATION),a=n.includes(Dy.QD.BOOSTING),c=n.includes(Dy.QD.CUSTOM_EMOJI),u=Y5(o.useState(!1),2),f=u[0],d=u[1];o.useEffect((function(){
i&&a&&c&&d(!0)}),[i,a,c]);var p=(0,s.e7)([O5.Z],(function(){return O5.Z.hasCompletedStepDuringSession})),h=Y5(o.useState(!1),2),y=h[0],m=h[1],_=(0,s.e7)([E.Z],(function(){return E.Z.useReducedMotion})),g=(0,s.e7)([I5.Z],(function(){return I5.Z.canPlayWowMoment}));o.useEffect((function(){return function(){g&&(0,v5.HY)(!1)}}),[g]);var b=g&&!_;return(0,r.jsxs)("div",{className:ze()(A5().expandedCoachmarkContentContainer,b&&A5().slideInFromBottomAnimation),children:[b&&(0,r.jsx)(S5.PremiumSubscriptionWowMomentForHelper,{}),(0,r.jsxs)("div",{className:A5().expandedCoachmarkBannerContainer,children:[(0,r.jsx)("div",{className:A5().expandedCoachmarkBannerBranding,children:(0,r.jsx)(g5.Z,{color:br.Z.unsafe_rawColors.WHITE_500.css,height:"26px"})}),(0,r.jsx)("div",{className:A5().expandedCoachmarkBannerImageContainer,children:p||f?(0,r.jsx)("img",{alt:"",src:U5(),className:A5().expandedCoachmarkCelebrationBannerImage}):(0,r.jsx)("img",{alt:"",src:H5(),className:A5().expandedCoachmarkBannerImage
})}),(0,r.jsx)(l.Clickable,{onClick:function(){return Q5(t)},className:A5().expandedCoachmarkCollapseButtonContainer,children:(0,r.jsx)(YB.Z,{open:!1,className:A5().expandedCoachmarkCollapseButton})})]}),y?(0,r.jsx)(J5,{analyticsLocations:t,setDisplayDismissConfirmation:m}):(0,r.jsx)($5,{analyticsLocations:t,setDisplayDismissConfirmation:m,dismissedTutorialStepsLength:n.length,hasCompletedStepDuringSession:p,hasCompletedProfileTutorial:i,hasCompletedBoostTutorial:a,hasCompletedEmojiTutorial:c,hasCompletedAllSteps:f})]})},t6=function(e){var t=e.analyticsLocations;return(0,r.jsxs)(l.Clickable,{onClick:function(){return Q5(t)},className:A5().collapsedCoachmarkContainer,children:[(0,r.jsx)("img",{alt:"",src:k5(),className:A5().collapsedCoachmarkImage}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",className:A5().collapsedCoachmarkHeading,children:Q.Z.Messages.PREMIUM_TRIAL_TUTORIAL_COLLAPSED_COACHMARK_HEADING}),(0,r.jsx)(Zr.Z,{className:A5().collapsedCoachmarkExpandButton})]})}
;const n6=function(){var e=(0,s.e7)([I5.Z],(function(){return I5.Z.isPersistentCoachmarkCollapsed})),t=(0,XB.Z)(fp.Z.PREMIUM_TRIAL_TUTORIAL_COACHMARK).analyticsLocations;if((0,s.e7)([I5.Z],(function(){return I5.Z.isPersistentHelperHidden})))return(0,r.jsx)(r.Fragment,{});Oe.default.track(w.rMx.PREMIUM_FEATURE_HELPER_ACTIONS,{location_stack:t,helper_action:Dy.IM.HELPER_RENDERED});return e?(0,r.jsx)(t6,{analyticsLocations:t}):(0,r.jsx)(e6,{analyticsLocations:t})};var r6=n(628486),o6=n(88818),i6=n(695358);function a6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s6(e){s6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s6(e)}function l6(e,t){return!t||"object"!==u6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c6(e,t){c6=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return c6(e,t)}var u6=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s6(e);if(t){var o=s6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l6(this,n)}}var d6={};var p6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c6(e,t)}(n,e);var t=f6(n);function n(){a6(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSkuIdForChannel=function(e){return d6[e]};r.__getLocalVars=function(){return{channelIdToSkuId:d6
}};return n}(s.ZP.Store);p6.displayName="ChannelSKUStore";const h6=new p6(b.Z,{CONNECTION_OPEN:function(){d6={}},STORE_LISTING_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.storeListing;null!=t&&(d6[t]=n.sku.id)}});var E6=n(491509),y6=n(954640),m6=n(252411),_6=n.n(m6);function g6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6(e){b6=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b6(e)}function v6(e,t){return!t||"object"!==I6(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O6(e,t){O6=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O6(e,t)}var I6=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b6(e);if(t){var o=b6(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v6(this,n)}}var T6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O6(e,t)}(n,e);var t=S6(n);function n(){g6(this,n);var e;(e=t.apply(this,arguments)).fetchStoreListing=function(t){var n=e.props,r=n.channel,o=n.inputSkuId;return null!=t?C1.Z.fetchChannelStoreListing(r.id,t):null!=o?C1.Z.fetchChannelStoreListing(r.id,o):C1.Z.fetchChannelStoreListing(r.id)};e.renderApplicationListing=function(t){var n=t.location,o=e.props,i=o.channel,a=o.skuId,s=o.width;return(0,r.jsx)(y6.Z,{channel:i,
inputSkuId:a,fetchStoreListing:e.fetchStoreListing,location:n,pageSize:(0,E6.getPageSize)(s)})};return e}var o=n.prototype;o.componentDidMount=function(){this.fetchStoreListing();(0,VX.e)("channel_store_listing")};o.render=function(){return null!=this.props.skuId?(0,r.jsx)(D$.Z,{page:w.ZY5.CHANNEL_STORE_LISTING,root:!0,children:(0,r.jsx)("div",{className:_6().applicationStore,children:(0,r.jsx)(a.AW,{path:"*",render:this.renderApplicationListing})})}):null};return n}(o.Component);const N6=(0,RI.Z)(s.ZP.connectStores([h6],(function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:h6.getSkuIdForChannel(t.id)}}))(T6));function C6(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A6(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P6(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function R6(e){var t=e.width,n=void 0===t?14:t,o=e.height,i=void 0===o?14:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=P6(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",A6(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C6(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 14 14",children:(0,r.jsx)("path",{fill:s,className:l,
d:"M6.99471698,9.67522659 C8.47108874,9.67522659 9.66792453,8.47748685 9.66792453,7 C9.66792453,5.52251315 8.47108874,4.32477341 6.99471698,4.32477341 C5.51834522,4.32477341 4.32150943,5.52251315 4.32150943,7 C4.32150943,8.47748685 5.51834522,9.67522659 6.99471698,9.67522659 Z M6.99471698,2.67522659 C8.18867925,2.67522659 9.26641509,3.16163142 10.0483019,3.94410876 L11.9396226,2.05135952 C10.6822642,0.782477341 8.92830189,0 6.99471698,0 C3.12754717,0 0,3.14048338 0,7 L2.67320755,7 C2.67320755,4.6102719 4.60679245,2.67522659 6.99471698,2.67522659 Z M11.3267925,7 C11.3267925,9.3897281 9.39320755,11.3247734 7.00528302,11.3247734 C5.81132075,11.3247734 4.73358491,10.8383686 3.94113208,10.0558912 L2.04981132,11.9486405 C3.31773585,13.2175227 5.06113208,14 6.99471698,14 C10.8618868,14 14,10.8595166 14,7 L11.3267925,7 Z"})}))}var j6=n(61738),M6=n.n(j6);function w6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x6(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w6(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L6="isHideDevBanner";const D6=function(){var e,t=x6((0,
o.useState)("true"===(null===(e=ve.Z.get(L6,"false"))||void 0===e?void 0:e.toString())),2),n=t[0],i=t[1];if(n)return null;var a=function(){ve.Z.set(L6,!0);i(!0)},s=function(){return(0,r.jsx)(l.Clickable,{onClick:a,className:M6().closeButton,"aria-label":Q.Z.Messages.DISMISS,children:(0,r.jsx)(JI.Z,{className:M6().closeIcon})})};0;if("staging"===window.GLOBAL_ENV.RELEASE_CHANNEL){return(0,r.jsxs)("div",{className:ze()(M6().devBanner,M6().staging),children:[(0,r.jsx)(R6,{className:M6().icon}),Q.Z.Messages.DEV_NOTICE_STAGING.format({buildNumber:"204762"}),(0,r.jsx)(s,{})]})}return null};var Z6=n(473727),U6=n(105783);function G6(e){b.Z.dispatch({type:"DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS",skuId:e})}var k6=n(216421);const B6=function(){b.Z.dispatch({type:"CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID"})};var H6=n(481117),V6=n(762572),F6=n(497842),Y6=n(683323),z6=n(293078),W6=n(457185),K6=n.n(W6);const q6=function(e){var t=e.noticeType,n=e.markAsDismissed,o=e.partnerGame,i=(0,
s.e7)([Y.default],(function(){return Y.default.getCurrentUser()}));if(null==o)return null;var a=(0,z6.BS)(o);if(null==a)return null;var l,c="https://survey.alchemer.com/s3/7043057/Drops-NPS?user_id=".concat(null!==(l=null==i?void 0:i.id)&&void 0!==l?l:"");return(0,r.jsxs)(Uk.ZP,{className:K6().colorGuildBlue,children:[Q.Z.Messages.DROPS_BANNER_ENDED_INCOMPLETE.format({gameTitle:a.title}),(0,r.jsx)(Uk.u3,{href:c,target:"_blank",onClick:function(){n(Us.L.PRIMARY)},children:Q.Z.Messages.DROPS_FEEDBACK_SURVEY}),(0,r.jsx)(Uk.Ry,{onClick:function(){n(Us.L.DISMISS)},noticeType:t})]})};var X6=n(516659),Q6=n(297629),$6=n.n(Q6);const J6=function(e){var t=e.noticeType,n=e.markAsDismissed,o=e.partnerGame,i=(0,X6.au)(o);if(null==i)return null;var a,s,l=(a=i.drop,s=i.config.streamLengthRequirement,{bodyText:Q.Z.Messages.DROPS_BANNER_NOTICE.format({gameName:a.title,endDate:IT()(a.endDate,"YYYY-MM-DD HH:mm").format("MMM Do"),streamLengthRequirement:s}),articleUrl:a.articleUrl
}),c=l.bodyText,u=l.articleUrl;return(0,r.jsxs)(Uk.ZP,{className:$6().colorGuildBlue,children:[c,(0,r.jsx)(Uk.u3,{href:u,target:"_blank",onClick:function(){n(Us.L.PRIMARY)},children:Q.Z.Messages.LEARN_MORE}),(0,r.jsx)(Uk.Ry,{onClick:function(){n(Us.L.DISMISS)},noticeType:t})]})};function e7(e){var t=e.dismissCurrentNotice,n=(0,Ve.ZP)([P.Z],(function(){return P.Z.getGuildId()}),[]),i=(0,Ve.ZP)([In.Z],(function(){return In.Z.getGuild(n)}),[n]);o.useEffect((function(){(0,xs.kk)(ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR)}),[]);return null==i?null:(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){Oe.default.track(w.rMx.UPSELL_CLICKED,{type:ws.z$[ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR],action:"dismiss"});t();(0,rK.G)(i.id,ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR)}}),Q.Z.Messages.GUILD_ONBOARDING_NAGBAR_MESSAGE,(0,r.jsx)(Uk.Ey,{onClick:function(){Oe.default.track(w.rMx.UPSELL_CLICKED,{type:ws.z$[ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR],action:"primary"})
;Zl.Z.open(i.id,w.pNK.ONBOARDING);(0,rK.G)(i.id,ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR)},children:Q.Z.Messages.GUILD_ONBOARDING_UPSELL_COACHMARK_CHECK_IT_OUT})]})}var t7=n(895808),n7=n(95891),r7=n(43299),o7=n(895058),i7=n(201556),a7=n(838229),s7=n.n(a7);const l7=function(e){var t=e.notice,n=e.noticeType,o=e.dismissCurrentNotice,i=null!=(null==t?void 0:t.metadata.premiumSubscription),a=(0,o7.n)();(0,i7.U)(w.jXE.NOTIFICATION_BAR,null==a?void 0:a.countryCode);if(null==a)return null;var s=a.countryCode,l=a.currency,c=a.paymentSourceTypes.length>0;return(0,r.jsxs)(Uk.ZP,{color:i?Uk.DM.BRAND:Uk.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Uk.Ry,{onClick:o,noticeType:n}),!i&&(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),(0,r7.Gv)(s,l,c,i),(0,r.jsx)(Uk.No,{onClick:function(){o();h.Z.open(w.oAB.PREMIUM)},noticeType:n,children:Q.Z.Messages.LEARN_MORE})]})};var c7=n(73407),u7=n(276611),f7=n(717035);function d7(e){switch(e){case Dy.Si.TIER_0:return Uk.DM.PREMIUM_TIER_0;case Dy.Si.TIER_2:
return Uk.DM.PREMIUM_TIER_2;default:throw new Error("Unsupported subscription tier: ".concat(e))}}function p7(e,t){switch(e){case Dy.Si.TIER_0:return t.days>0?Q.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?Q.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):Q.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});case Dy.Si.TIER_2:return t.days>0?Q.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_DAYS_VARIANT.format({days:t.days}):t.hours>0?Q.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_HOURS_VARIANT.format({hours:t.hours}):Q.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_MINUTES_VARIANT.format({minutes:Math.max(t.minutes,1)});default:throw new Error("Unsupported subscription tier: ".concat(e))}}function h7(e){switch(e){case Dy.Si.TIER_0:return Q.Z.Messages.NOTICE_PREMIUM_TIER_0_TRIAL_ENDING_CTA_VARIANT;case Dy.Si.TIER_2:
return Q.Z.Messages.NOTICE_PREMIUM_TIER_2_TRIAL_ENDING_CTA_VARIANT;default:throw new Error("Unsupported subscription tier: ".concat(e))}}const E7=function(e){var t,n=e.dismissCurrentNotice,o=e.subscriptionTier,i=(0,XB.Z)(function(e){switch(e){case Dy.Si.TIER_0:return fp.Z.PREMIUM_TIER_0_TRIAL_ENDING_NOTICE;case Dy.Si.TIER_2:return fp.Z.PREMIUM_TIER_2_TRIAL_ENDING_NOTICE;default:throw new Error("Unsupported subscription tier: ".concat(e))}}(o)).analyticsLocations,a=(0,f7.N)(),s=(0,c7.Z)(null!=a&&null!=a.expires_at?Date.parse(a.expires_at):0);return null==a||(null===(t=a.subscription_trial)||void 0===t?void 0:t.sku_id)!==o||null==a.expires_at||Object.values(s).every((function(e){return 0===e}))?null:(0,r.jsxs)(Uk.ZP,{color:d7(o),children:[(0,r.jsx)(Uk.Ry,{onClick:n}),(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),p7(o,s),(0,r.jsx)(Uk.Ey,{onClick:function(){(0,u7.Z)({trialId:a.trial_id,subscriptionTier:o,analyticsLocations:i,analyticsObject:{page:w.ZY5.IN_APP,section:w.jXE.NOTIFICATION_BAR,
object:w.qAy.BUTTON_CTA}})},children:h7(o)})]})};var y7=(0,it.B)({kind:"user",id:"2023-06_remove_spotify_dc_nagbar",label:"Remove Spotify DC Nagbar",defaultConfig:{removeSpotifyNagbar:!1},treatments:[{id:1,label:"Remove Nagbar",config:{removeSpotifyNagbar:!0}}]});const m7=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y7.useExperiment({},{autoTrackExposure:e})};var _7=n(705090);function g7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function b7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g7(i,r,o,a,s,"next",e)}function s(e){g7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var O7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),
return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},I7=function(e){var t=e.dismissibleContent,o=e.noticeType,i=(0,
s.e7)([o6.Z],(function(){return o6.Z.getNotice()})),a=t===ws.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY;return m7(a).removeSpotifyNagbar&&a?null:(0,r.jsx)(dM.Z,{contentTypes:[t],groupName:Us.R.NOTICE_BAR,children:function(e){var t=e.visibleContent,a=e.markAsDismissed;switch(t){case ws.z$.GUILD_ONBOARDING_UPSELL_NAGBAR:return(0,r.jsx)(e7,{dismissCurrentNotice:a});case ws.z$.NAGBAR_NOTICE_DOWNLOAD:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),Q.Z.Messages.NOTICE_NATIVE_APPS_2020_06,(0,r.jsx)("i",{className:s7().iconApple}),(0,r.jsx)("i",{className:s7().iconAndroid}),(0,r.jsx)("i",{className:s7().iconWindows}),(0,r.jsx)(Uk.No,{noticeType:o,onClick:function(){(0,l.openModalLazy)(b7((function(){var e,t;return O7(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,908056))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v7(e,t,n[t])}))}return e}({source:"Top Bar Nag"},e))}]}}))})))},children:Q.Z.Messages.DOWNLOAD})]});case ws.z$.NAGBAR_NOTICE_CONNECT_SPOTIFY:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.SPOTIFY,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),(0,r.jsx)(u0.Z,{className:s7().platformIcon}),Q.Z.Messages.NOTICE_CONNECT_SPOTIFY,(0,r.jsx)(Uk.No,{onClick:function(){return(0,F6.Z)(w.ABu.SPOTIFY,"Notice Bar")},noticeType:o,children:Q.Z.Messages.CONNECT})]});case ws.z$.NAGBAR_NOTICE_CONNECT_PLAYSTATION:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PLAYSTATION,children:[(0,r.jsx)(Uk.Ry,{onClick:a}),(0,r.jsx)("img",{alt:"",className:s7().platformIcon,src:No.Z.get(w.ABu.PLAYSTATION).icon.whiteSVG}),Q.Z.Messages.NOTICE_CONNECT_PLAYSTATION,(0,r.jsx)(Uk.Ey,{
onClick:function(){return(0,F6.Z)(w.ABu.PLAYSTATION,"Notice Bar")},children:Q.Z.Messages.CONNECT})]});case ws.z$.NAGBAR_NOTICE_MFA_SMS_BACKUP:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),Q.Z.Messages.NOTICE_MFA_SMS_BACKUP,(0,r.jsx)(Uk.No,{onClick:function(){return h.Z.open(w.oAB.ACCOUNT)},noticeType:o,children:Q.Z.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON})]});case ws.z$.NAGBAR_NOTICE_PREMIUM_PROMO:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PREMIUM_TIER_2,children:[(0,r.jsx)("span",{className:s7().premiumLogo}),(0,r.jsx)("span",{className:s7().premiumText,children:Q.Z.Messages.NOTICE_PREMIUM_PROMO_MESSAGE}),(0,r.jsx)(Uk.No,{className:s7().premiumAction,noticeType:o,onClick:function(){Oe.default.track(w.rMx.PREMIUM_PROMOTION_OPENED,{location_section:w.jXE.NOTIFICATION_BAR,location_object:w.qAy.BUTTON_CTA});h.Z.open(w.oAB.PREMIUM)},children:Q.Z.Messages.NOTICE_PREMIUM_PROMO_ACTION}),(0,r.jsx)(Uk.Ry,{onClick:function(){a();(0,
ah.mB)(w.xW$.PREMIUM_PROMO_DISMISSED,!0)},noticeType:o})]});case ws.z$.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING:return(0,r.jsx)(E7,{dismissCurrentNotice:a,subscriptionTier:Dy.Si.TIER_2});case ws.z$.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING:return(0,r.jsx)(E7,{dismissCurrentNotice:a,subscriptionTier:Dy.Si.TIER_0});case ws.z$.NAGBAR_NOTICE_PREMIUM_REACTIVATE:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Uk.Ry,{noticeType:o,onClick:a}),Q.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_TEXT,(0,r.jsx)(Uk.No,{noticeType:o,onClick:function(){a();h.Z.open(w.oAB.PREMIUM)},children:Q.Z.Messages.PREMIUM_SUBSCRIPTION_REACTIVATION_NOTICE_BUTTON_TEXT})]});case ws.z$.NAGBAR_NOTICE_LOCALIZED_PRICING:return(0,r.jsx)(l7,{notice:i,noticeType:o,dismissCurrentNotice:a});case ws.z$.QUEST_1_GO_LIVE_BANNER:var s,c=null==i||null===(s=i.metadata)||void 0===s?void 0:s.partnerGame;return(0,r.jsx)(J6,{noticeType:o,markAsDismissed:a,partnerGame:c})
;case ws.z$.QUEST_1_ENDED_INCOMPLETE:var u,f=null==i||null===(u=i.metadata)||void 0===u?void 0:u.partnerGame;return(0,r.jsx)(q6,{noticeType:o,markAsDismissed:a,partnerGame:f});case ws.z$.NAGBAR_BOUNCED_EMAIL_NOTICE:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),Q.Z.Messages.BOUNCED_EMAIL_DETECTED_NOTICE,(0,r.jsx)(Uk.No,{noticeType:o,onClick:function(){(0,K.uL)(w.Z5c.SETTINGS("account"))},children:Q.Z.Messages.CHANGE_EMAIL_SHORT})]});case ws.z$.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION:var d=Y6.Z.getEligibleGuildsForNagActivate();return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_NAGBAR_TEXT,(0,r.jsx)(Uk.No,{noticeType:o,onClick:function(){a(Us.L.PRIMARY);(0,K.uL)(1===d.length?w.Z5c.GUILD_SETTINGS(d[0],"role-subscriptions"):w.Z5c.PICK_GUILD_SETTINGS("role-subscriptions",void 0,"server-subscriptions-finish-setting-up"))},children:Q.Z.Messages.LETS_GO})]})
;case ws.z$.NAGBAR_NOTICE_POMELO:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{onClick:a,noticeType:o}),Q.Z.Messages.POMELO_ACTION_NEEDED.format(),(0,r.jsx)(Uk.No,{onClick:function(){return(0,t7.Z)(_7.Kq.NOTICE)},noticeType:o,children:Q.Z.Messages.GET_STARTED})]})}}})},S7=(n(749106),n(113609)),T7=(n(632685),n(264076));n(131461);var N7=n(827289),C7=n(922763),A7=n(968635),P7=n.n(A7);function R7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function j7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R7(i,r,o,a,s,"next",e)}function s(e){R7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function M7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function w7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var x7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function L7(e){var t=e.onDismiss,o=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()})),i=(0,N7.zH)(),a=(0,s.e7)([In.Z],(function(){return null!=i?In.Z.getGuild(i):null}),[i]),c=(0,N7.mI)(i),u=c.shouldShowIncidentActions,f=c.incidentData,d=c.isUnderLockdown;if(null==a||null==f||!u)return null;var p,h=function(e){if(o===i||e)(0,l.openModalLazy)(j7((function(){var t,o;return x7(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(18554)]).then(n.bind(n,318554))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,w7(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M7(e,t,n[t])}))}return e}({},t),{guildId:a.id,disableLockdown:e}))}]}}))})));else{var t=a.getSafetyAlertsChannelId();null!=t?(0,gN.Kh)(t):(0,QJ.X)(a.id)}},E=null!==(p=f.dmsDisabledUntil)&&void 0!==p?p:f.invitesDisabledUntil;if(null!=E&&d)return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.NEUTRAL,children:[(0,r.jsx)(Uk.Ry,{onClick:t}),Q.Z.Messages.GUILD_ANTIRAID_LOCKDOWN_NAGBAR_MESSAGE.format({guildName:a.name,time:new Date(E).toLocaleString(Q.Z.getLocale(),{month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"})}),(0,r.jsx)(Uk.Ey,{onClick:function(){return h(!0)},children:(0,r.jsxs)("div",{className:P7().actionButton,children:[(0,r.jsx)(Ao.Z,{width:16,height:16}),(0,r.jsx)("span",{children:Q.Z.Messages.GUILD_ANTIRAID_LOCKDOWN_NAGBAR_ACTION})]
})})]});var y=(0,C7.CG)(f)?Q.Z.Messages.GUILD_ANTIRAID_NAGBAR_RAID_MESSAGE.format({guildName:a.name}):(0,C7.kk)(f)?Q.Z.Messages.GUILD_ANTIRAID_NAGBAR_DM_RAID_MESSAGE.format({guildName:a.name}):Q.Z.Messages.GUILD_ANTIRAID_NAGBAR_MESSAGE.format({guildName:a.name});return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:t}),y,(0,r.jsx)(Uk.Ey,{onClick:function(){return h(!1)},children:(0,r.jsx)("div",{className:P7().actionButton,children:o===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ao.Z,{width:16,height:16}),(0,r.jsx)("span",{children:Q.Z.Messages.GUILD_ANTIRAID_NAGBAR_ACTION})]}):(0,r.jsx)("span",{children:Q.Z.Messages.GUILD_ANTIRAID_NAGBAR_ACTION_VIEW})})})]})}var D7=n(11414),Z7=n(614948);function U7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G7(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U7(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k7(e){var t=e.guildId,n=e.analyticsLocations,o=e.analyticsLocation,i=G7((0,Z7.ww)({guildId:t,analyticsLocations:n,analyticsLocation:o,openWithoutBackstack:!0
}),2),a=i[0],s=i[1],l=s?Q.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE:Q.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE_NO_PERMS,c=s?Q.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_USER_PROFILE_CTA:Q.Z.Messages.GUILD_AUTOMOD_NAGBAR_QUARANTINED_ACCOUNT_USERNAME_CTA;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.CUSTOM,className:s7().quarantineNotice,children:[l,(0,r.jsx)(Uk.Ey,{onClick:a,children:c})]})}var B7=n(716371),H7=n(745499),V7=n.n(H7),F7=n(253166),Y7=n.n(F7);function z7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W7(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function K7(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){W7(i,r,o,a,s,"next",e)}function s(e){W7(i,r,o,a,s,"throw",e)}a(void 0)}))}}function q7(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function X7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q7(e,t,n[t])}))}return e}function Q7(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $7(e){return function(e){if(Array.isArray(e))return z7(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)
}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z7(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J7=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:
case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const e8=function(){var e,t=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()}),[]),o=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(t)}),[t]),i=(0,s.e7)([Gw.Z],(function(){return null!=t?Gw.Z.getRequest(t):null}),[t]),c=(0,a.TH)(),u=!0===(null===(e=(0,a.LX)(c.pathname,w.Z5c.CHANNEL(null==o?void 0:o.id,LS.oC.GUILD_ONBOARDING)))||void 0===e?void 0:e.isExact);if(null==o||!o.hasVerificationGate()||u)return null
;var f,d=null!==(f=null==i?void 0:i.applicationStatus)&&void 0!==f?f:Uw.wB.STARTED,p=null,h=null,E=null,y=[V7().notice,Y7().notice];switch(d){case Uw.wB.SUBMITTED:p=Q.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;h=Q.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;E=function(){(0,l.openModal)((function(e){return(0,r.jsx)(l.ConfirmModal,Q7(X7({header:Q.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:Q.Z.Messages.CONFIRM,cancelText:Q.Z.Messages.CANCEL,onConfirm:function(){return Lw.Z.removeGuildJoinRequest(o.id)},confirmButtonColor:l.Button.Colors.BRAND},e),{children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}))};break;case Uw.wB.REJECTED:p=Q.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;h=Q.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE;E=function(){(0,l.openModalLazy)(K7((function(){var e,t;return J7(this,(function(i){switch(i.label){case 0:return[4,n.e(13621).then(n.bind(n,713621))];case 1:
e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,X7({guildId:o.id},e))}]}}))})))};y.push(V7().error);break;default:p=Q.Z.Messages.MEMBER_VERIFICATION_NOTICE_TEXT;h=Q.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA;E=function(){(0,Gc.hk)(o.id)}}return(0,r.jsxs)("div",{className:ze().apply(void 0,$7(y)),children:[(0,r.jsx)(l.Text,{className:V7().header,variant:"text-sm/normal",children:p}),(0,r.jsx)(l.Button,{className:V7().button,look:l.Button.Looks.OUTLINED,color:l.Button.Colors.WHITE,size:l.Button.Sizes.NONE,onClick:E,children:h})]})};var t8=n(345550),n8=n(727599),r8=n(398868),o8=n.n(r8);function i8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a8(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function s8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l8(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i8(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c8=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const u8=function(){var e=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()
}),[]),t=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(e)}),[e]),n=(0,s.e7)([qI.Z],(function(){return qI.Z.getHistorySnapshot()}),[]),i=l8(o.useState(!1),2),a=i[0],c=i[1];if(null==t)return null;var u=function(){var e,n=(e=function(){return c8(this,(function(e){switch(e.label){case 0:c(!0);e.label=1;case 1:e.trys.push([1,3,,4]);Br.mT(t.id);return[4,f.Z.joinGuild(t.id,{source:w.vtS.NOTICE_BAR})];case 2:e.sent();return[3,4];case 3:e.sent();c(!1);return[3,4];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){a8(i,r,o,a,s,"next",e)}function s(e){a8(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:ze()(o8().notice,Y7().notice),children:[(0,r.jsxs)(l.Button,{look:l.Button.Looks.OUTLINED,color:l.Button.Colors.WHITE,size:l.Button.Sizes.NONE,className:ze()(o8().button,o8().back),innerClassName:o8().iconButton,onClick:function(){var e=(0,K.s1)()
;null!=n&&null!=n.location?(0,K.dL)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s8(e,t,n[t])}))}return e}({},n.location)):e.goBack()},children:[(0,r.jsx)(n8.Z,{width:16,height:16,className:o8().arrow}),Q.Z.Messages.BACK]}),(0,r.jsx)(l.Text,{className:o8().header,variant:"text-sm/normal",children:Q.Z.Messages.LURKER_MODE_NAG_BAR_HEADER}),(0,r.jsx)(l.Button,{className:o8().button,look:l.Button.Looks.OUTLINED,color:l.Button.Colors.WHITE,size:l.Button.Sizes.NONE,submitting:a,onClick:u,children:Q.Z.Messages.LURKER_MODE_NAG_BAR_BUTTON.format({guild:t.name})})]})};var f8=n(247253),d8=n(822816),p8=n(742257),h8=n(771575),E8=n(499219),y8=n(426404),m8=n(304924),_8=n.n(m8);function g8(e){var t=A.Z.getVoiceChannelId();if(null!=t){
var n=S.Z.getChannel(t);null!=n&&(0,h8.RK)(n,e)}}function b8(){var e,t=(0,E8.Z)(),n=null!==(e=(0,y8._d)(null==t?void 0:t.id))&&void 0!==e?e:0;return(0,r.jsxs)(Uk.ZP,{className:_8().container,color:Uk.DM.DEFAULT,children:[(0,r.jsx)("div",{children:Q.Z.Messages.STAGE_SPEAK_INVITE_HEADER}),n>0?(0,r.jsxs)("div",{className:_8().blocked,children:[(0,r.jsx)(p8.Z,{width:12,height:12,className:_8().blockedIcon}),(0,r.jsx)("div",{className:_8().blockedText,children:Q.Z.Messages.STAGE_SPEAK_INVITE_HEADER_BLOCKED_USERS.format({number:n})})]}):null,(0,r.jsx)(l.Button,{className:ze()(_8().button,_8().acceptButton),size:l.Button.Sizes.MIN,color:l.Button.Colors.WHITE,onClick:function(){return g8(!1)},children:(0,r.jsx)(l.Text,{className:_8().acceptText,variant:"text-xs/normal",color:"none",children:Q.Z.Messages.STAGE_SPEAK_INVITE_ACCEPT})}),(0,r.jsx)(l.Button,{className:ze()(_8().button,_8().declineButton),look:l.Button.Looks.OUTLINED,size:l.Button.Sizes.MIN,color:l.Button.Colors.WHITE,
onClick:function(){return g8(!0)},children:(0,r.jsx)(l.Text,{className:_8().declineText,variant:"text-xs/normal",color:"none",children:Q.Z.Messages.STAGE_SPEAK_INVITE_DECLINE})})]})}var v8=n(746974),O8=n(842020);function I8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T8(e){T8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T8(e)}function N8(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function C8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function A8(e,t){return!t||"object"!==R8(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P8(e,t){P8=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P8(e,t)}var R8=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j8(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T8(e);if(t){var o=T8(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A8(this,n)}}var M8={DropdownSizes:O8.Z.DropdownSizes,Sizes:O8.Z.Sizes,Colors:O8.Z.Colors,Looks:O8.Z.Looks},w8=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&P8(e,t)}(n,e);var t=j8(n);function n(){I8(this,n);var e;(e=t.apply(this,arguments)).renderContextMenu=function(){var t=e.props,n=t.skus,o=t.onSKUSelect,i=t.onMenuSelect;return(0,r.jsx)(l.Menu,{onSelect:i,navId:"test-skus","aria-label":Q.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:xI.Zy,children:n.map((function(e){return(0,r.jsx)(l.MenuItem,{id:"".concat(e.id),
label:e.name,action:function(){null==o||o(e)}},"".concat(e.id))}))})};e.handleContextMenu=function(t){t.stopPropagation();xI.vq(t,e.renderContextMenu)};e.handleClick=function(){var t=e.props,n=t.onSKUSelect,r=t.primarySKU;null!=r&&(null==n||n(r))};return e}n.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,o=(e.applicationId,e.primarySKU,e.onSKUSelect,C8(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return(0,r.jsx)(O8.Z,N8(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S8(e,t,n[t])}))}return e}({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:void 0},o),{children:n}))};return n}(o.PureComponent)
;const x8=s.ZP.connectStores([v8.Z,tl.Z],(function(e){var t,n=e.applicationId,r=(0,zk.uF)(n,tl.Z,v8.Z);return{skus:(null!==(t=v8.Z.getForApplication(n))&&void 0!==t?t:[]).sort((function(e,t){return null!=r&&e.id===r.id?-1:null!=r&&t.id===r.id?1:e.name>=t.name?-1:1})),primarySKU:r}}))(w8);function L8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var D8=null;function Z8(){null!==D8&&(0,l.closeModal)(D8);D8=null}function U8(){_a.Z.setSilenceWarning(!1);Z8()}function G8(){D8=(0,l.openModal)((function(e){return(0,r.jsx)(Tg.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L8(e,t,n[t])}))}return e}({title:Q.Z.Messages.CONFIRM_DISABLE_SILENCE_TITLE,
body:Q.Z.Messages.CONFIRM_DISABLE_SILENCE_BODY,secondaryConfirmText:Q.Z.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:U8,onConfirm:Z8,confirmText:Q.Z.Messages.OKAY},e))}))}var k8=n(811276);function B8(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function H8(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B8(i,r,o,a,s,"next",e)}function s(e){B8(i,r,o,a,s,"throw",e)}a(void 0)}))}}function V8(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function F8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V8(e,t,n[t])}))}return e}function Y8(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var z8=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},W8=function(){return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){q8();G8()}}),Q.Z.Messages.NOTICE_NO_INPUT_DETECTED,(0,r.jsx)(Uk.u3,{href:X.Z.getArticleURL(w.BhN.NO_INPUT_DETECTED),children:Q.Z.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT})]})},K8=function(){return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){q8();G8()}}),Q.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,(0,r.jsx)(Uk.Ey,{onClick:function(){
(0,Sg.jN)(w.S9g.USER_SETTINGS);h.Z.setSection(w.oAB.VOICE)},children:Q.Z.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT})]})};function q8(e){k6.Z.dismiss(null!=e?{untilAtLeast:IT()(e)}:void 0)}var X8=o.memo((function(){var e,t=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),i=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()})),a=(0,s.e7)([o6.Z],(function(){return o6.Z.getNotice()})),u=(0,XB.Z)().analyticsLocations,f=null==a?void 0:a.type,E=(0,B7.J)(i);o.useEffect((function(){null!=f&&function(e,t){var n={notice_type:e};null!=t&&(n.guild_id=t);Oe.default.track(w.rMx.APP_NOTICE_VIEWED,n)}(f,i)}),[f,i]);o.useEffect((function(){if(null!=a&&a.type===w.kVF.SURVEY&&null!=a.metadata){var e=a.metadata,t=T7.Z.getUserExperimentDescriptor(e.id);null!=t&&(0,S7.W9)(e.id,t)}}),[a]);if(null==a)return null;var y=o6.m[a.type];if(null!=y)return(0,r.jsx)(I7,{dismissibleContent:y,noticeType:a.type});var m=null===(e=a.metadata)||void 0===e?void 0:e.premiumType;switch(a.type){
case w.kVF.LURKING_GUILD:return(0,r.jsx)(u8,{});case w.kVF.PENDING_MEMBER:return(0,r.jsx)(e8,{});case w.kVF.INVITED_TO_SPEAK:return(0,r.jsx)(b8,{});case w.kVF.GUILD_RAID_NOTIFICATION:var _=a.metadata.dismissUntil;return(0,r.jsx)(L7,{onDismiss:function(){return q8(_)}});case w.kVF.GENERIC:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.GENERIC}),a.message,null!=a.buttonText?(0,r.jsx)(Uk.No,{onClick:a.callback,noticeType:w.kVF.GENERIC,children:a.buttonText}):null]});case w.kVF.LAUNCH_GAME_FAILURE:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.LAUNCH_GAME_FAILURE}),a.message,null!=a.buttonText?(0,r.jsx)(Uk.No,{onClick:a.callback,noticeType:w.kVF.LAUNCH_GAME_FAILURE,children:a.buttonText}):null]});case w.kVF.VOICE_DISABLED:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){B6();q8()},
noticeType:w.kVF.VOICE_DISABLED}),Q.Z.Messages.NOTICE_CONNECTION_CONFLICT,(0,r.jsx)(Uk.No,{onClick:function(){var e=C.Z.getRemoteDisconnectVoiceChannelId();if(null!=e){null!=S.Z.getChannel(e)&&d.default.selectVoiceChannel(e)}},noticeType:w.kVF.VOICE_DISABLED,children:Q.Z.Messages.RECONNECT})]});case w.kVF.SPOTIFY_AUTO_PAUSED:var g=No.Z.get(w.ABu.SPOTIFY);return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.SPOTIFY_AUTO_PAUSED}),(0,r.jsx)("img",{alt:"",className:s7().platformIcon,src:g.icon.whiteSVG}),Q.Z.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,(0,r.jsx)(Uk.No,{onClick:function(){return h.Z.open(w.oAB.VOICE)},noticeType:w.kVF.SPOTIFY_AUTO_PAUSED,children:Q.Z.Messages.VOICE_SETTINGS}),(0,r.jsx)(l.Anchor,{className:s7().textLinkSmall,href:X.Z.getArticleURL(w.BhN.SPOTIFY_AUTO_PAUSED),target:"_blank",children:Q.Z.Messages.NOTICE_WHATS_THIS})]});case w.kVF.UNCLAIMED_ACCOUNT:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,
children:[Q.Z.Messages.NOTICE_UNCLAIMED_ACCOUNT,(0,r.jsx)(Uk.No,{noticeType:w.kVF.UNCLAIMED_ACCOUNT,onClick:function(){return E&&null!=i?(0,Gc.hk)(i):Uc.j()},children:Q.Z.Messages.CLAIM_ACCOUNT})]});case w.kVF.UNVERIFIED_ACCOUNT:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[Q.Z.Messages.NOTICE_UNVERIFIED_ACCOUNT,(0,r.jsx)(Uk.No,{noticeType:w.kVF.UNVERIFIED_ACCOUNT,onClick:function(){c.Z.verifyResend();U6.Z.show({title:Q.Z.Messages.VERIFICATION_EMAIL_TITLE,body:Q.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null==t?void 0:t.email}),secondaryConfirmText:Q.Z.Messages.CHANGE_EMAIL,onConfirmSecondary:Uc.j})},children:Q.Z.Messages.RESEND})]});case w.kVF.SCHEDULED_MAINTENANCE:return null==a.metadata?null:(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return H6.Z.ackScheduledMaintenance()},noticeType:w.kVF.SCHEDULED_MAINTENANCE}),Q.Z.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(a.metadata),(0,r.jsx)(Uk.u3,{
href:"".concat(w.yXt.STATUS,"/incidents/").concat(a.metadata.id),children:Q.Z.Messages.LEARN_MORE})]});case w.kVF.NO_INPUT_DETECTED:return ga.Z.supports(va.AN.LOOPBACK)?(0,r.jsx)(K8,{}):(0,r.jsx)(W8,{});case w.kVF.HARDWARE_MUTE:if(null==a.metadata)return null;var b=a.metadata,v=b.vendor,O=b.model;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[Q.Z.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:v.name,modelName:O.name}),(0,r.jsx)(Uk.u3,{href:O.url,target:"_blank",rel:"noreferrer noopener",children:Q.Z.Messages.SUPPORT})]});case w.kVF.STREAMER_MODE:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.STREAMER_MODE,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.STREAMER_MODE}),Q.Z.Messages.NOTICE_STREAMER_MODE_TEXT,(0,r.jsx)(Uk.No,{onClick:function(){return Xl.Z.setEnabled(!1)},noticeType:w.kVF.STREAMER_MODE,children:Q.Z.Messages.DISABLE})]});case w.kVF.H264_DISABLED:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){q8()}
}),Q.Z.Messages.NOTICE_H264_DISABLED_SETTINGS,(0,r.jsx)(Uk.Ey,{onClick:function(){(0,Sg.jN)(w.S9g.USER_SETTINGS);h.Z.setSection(w.oAB.VOICE)},children:Q.Z.Messages.NOTICE_H264_DISABLED_SETTINGS_LINK_TEXT})]});case w.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==a.metadata)return null;var I=a.metadata,T=I.skuId,N=I.applicationId,A=v8.Z.get(T),R=tl.Z.getGame(N);if(null==A||null==R)return null;var j={page:w.ZY5.IN_APP};return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return G6(A.id)},noticeType:w.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK}),(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),Q.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:R.name,skuName:A.name}),(0,r.jsx)(Uk.No,{noticeType:w.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK,onClick:function(){return(0,Ly.S)({applicationId:R.id,skuId:A.id,openPremiumPaymentModal:function(){(0,u7.Z)({initialPlanId:null,subscriptionTier:Dy.Si.TIER_2,analyticsLocations:u,
analyticsObject:j})},analyticsLocations:u,analyticsLocation:j,context:__OVERLAY__?w.IlC.OVERLAY:w.IlC.APP}).then((function(){return G6(A.id)}))},children:Q.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON})]});case w.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==a.metadata)return null;var M=a.metadata,x=M.skuId,L=M.applicationId,D=v8.Z.get(x),Z=tl.Z.getGame(L);return null==D||null==Z?null:(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PREMIUM_TIER_1,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL}),(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),Q.Z.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:Z.name,skuName:D.name}),(0,r.jsx)(Uk.Ey,{children:(0,r.jsx)(Z6.rU,{onClick:function(){return q8()},to:{pathname:w.Z5c.APPLICATION_STORE_LISTING_SKU(D.id),state:{scrollRestoration:!1}},children:Q.Z.Messages.LEARN_MORE})})]});case w.kVF.SURVEY:var U=a.metadata;if(null==U)return null
;var G=U.key,k=U.prompt,B=U.cta,H=U.url;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.CUSTOM,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.SURVEY,onClick:function(){(0,V6.hZ)(G,!0)}}),k,(0,r.jsx)(Uk.No,{noticeType:w.kVF.SURVEY,onClick:function(){window.open(H,"_blank");(0,V6.hZ)(G,!1)},children:B})]});case w.kVF.CORRUPT_INSTALLATION:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[Q.Z.Messages.NOTICE_CORRUPT_INSTALLATION,(0,r.jsx)(Uk.u3,{href:X.Z.getArticleURL(w.BhN.CORRUPT_INSTALLATION),target:"_blank",children:Q.Z.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT})]});case w.kVF.VIDEO_UNSUPPORTED_BROWSER:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.VIDEO_UNSUPPORTED_BROWSER}),Q.Z.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,(0,r.jsx)(Uk.No,{noticeType:w.kVF.VIDEO_UNSUPPORTED_BROWSER,onClick:function(){(0,l.openModalLazy)(H8((function(){var e,t;return z8(this,(function(o){switch(o.label){case 0:
return[4,Promise.resolve().then(n.bind(n,908056))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,F8({source:"Video unsupported browser"},e))}]}}))})))},children:Q.Z.Messages.DOWNLOAD})]});case w.kVF.DISPATCH_ERROR:if(null==a.metadata)return null;var V=a.metadata.error;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.DISPATCH_ERROR}),null==V?void 0:V.displayMessage,(0,r.jsx)(Uk.No,{noticeType:w.kVF.DISPATCH_ERROR,onClick:function(){return(0,l.openModalLazy)(H8((function(){var e,t;return z8(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(78185)]).then(n.bind(n,278185))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,F8({},e))}]}}))})))},children:Q.Z.Messages.LEARN_MORE})]});case w.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==a.metadata)return null;var F=a.metadata,z=F.progress,W=F.total,K=F.name;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DEFAULT,
children:[(0,r.jsx)(Uk.Ry,{onClick:function(){return q8()},noticeType:w.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS}),(0,r.jsxs)(jg.Z,{justify:jg.Z.Justify.CENTER,children:[null!=K?Q.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:"".concat(K),progress:"".concat(z),total:"".concat(W)}):Q.Z.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:"".concat(z),total:"".concat(W)}),(0,r.jsx)(l.Spinner,{type:l.Spinner.Type.PULSING_ELLIPSIS,className:s7().ellipsis})]})]});case w.kVF.APPLICATION_TEST_MODE:return null==a.metadata?null:null!=bl.Z.testModeEmbeddedApplicationId?(0,r.jsx)(Uk.ZP,{color:Uk.DM.WARNING,children:(0,r.jsxs)(jg.Z,{justify:jg.Z.Justify.CENTER,align:jg.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:Q.Z.Messages.NOTICE_EMBEDDED_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(Uk.Ry,{onClick:p.mc,noticeType:w.kVF.APPLICATION_TEST_MODE})]})}):(0,r.jsx)(Uk.ZP,{color:Uk.DM.WARNING,children:(0,r.jsxs)(jg.Z,{
justify:jg.Z.Justify.CENTER,align:jg.Z.Align.CENTER,children:[(0,r.jsx)("div",{children:Q.Z.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:a.metadata.applicationName})}),(0,r.jsx)(x8,{dropdownSize:M8.DropdownSizes.SMALL,className:s7().testModeSKUSelector,color:M8.Colors.WHITE,look:M8.Looks.OUTLINED,size:M8.Sizes.MIN,onSKUSelect:function(e){return Np.yt(e.id,{analyticsSource:{page:null,section:w.jXE.NOTIFICATION_BAR,object:w.qAy.NAVIGATION_LINK}})},applicationId:a.metadata.applicationId,children:Q.Z.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING}),(0,r.jsx)(Uk.Ry,{onClick:p.mc,noticeType:w.kVF.APPLICATION_TEST_MODE})]})});case w.kVF.OUTBOUND_PROMOTION:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.OUTBOUND_PROMOTION,onClick:function(){f8.ZP.dismissOutboundPromotionNotice()}}),(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),Q.Z.Messages.OUTBOUND_PROMOTION_NOTICE,(0,r.jsx)(Uk.No,{noticeType:w.kVF.OUTBOUND_PROMOTION,
onClick:function(){Oe.default.track(w.rMx.OUTBOUND_PROMOTION_NOTICE_CLICKED);h.Z.open(w.oAB.INVENTORY);f8.ZP.dismissOutboundPromotionNotice()},children:Q.Z.Messages.TAKE_ME_THERE})]});case w.kVF.VIEWING_ROLES:return(0,r.jsx)(t8.Z,{});case w.kVF.PREMIUM_UNCANCEL:return(0,r.jsxs)(Uk.ZP,{color:m===Dy.p9.TIER_1?Uk.DM.PREMIUM_TIER_1:m===Dy.p9.TIER_0?Uk.DM.PREMIUM_TIER_0:Uk.DM.PREMIUM_TIER_2,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),(0,r.jsx)(n7.Z,{className:s7().premiumIcon}),m===Dy.p9.TIER_1?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):m===Dy.p9.TIER_0?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(Uk.No,{
noticeType:w.kVF.PREMIUM_UNCANCEL,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);(0,l.openModalLazy)(H8((function(){var e,t;return z8(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(30689),n.e(1162),n.e(37983),n.e(59330)]).then(n.bind(n,159330))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Y8(F8({},e),{daysLeft:a.metadata.daysLeft,premiumType:m,analyticsSource:"Nag Bar",premiumSubscription:a.metadata.premiumSubscription}))}]}}))})))},children:m===Dy.p9.TIER_1?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_1_NOTICE_BUTTON_TEXT:m===Dy.p9.TIER_0?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_TIER_0_NOTICE_BUTTON_TEXT:Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_NOTICE_BUTTON_TEXT})]});case w.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT:var q=a.metadata,$=q.daysPastDue,J=q.dismissUntil;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{
noticeType:f,onClick:function(){q8(J)}}),Q.Z.Messages.PREMIUM_SUBSCRIPTION_ONE_TIME_PAYMENT_PAST_DUE_SUBSCRIPTION_TEXT_NO_ACTION.format({daysPastDue:$}),(0,r.jsx)(Uk.No,{noticeType:w.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT,onClick:function(){q8(J);h.Z.open(w.oAB.SUBSCRIPTIONS)},children:Q.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_RENEW_NOW_BUTTON_TEXT})]});case w.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),Q.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_TEXT,(0,r.jsx)(Uk.No,{noticeType:w.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(w.oAB.SUBSCRIPTIONS)},
children:Q.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_INVALID_PAYMENT_NOTICE_BUTTON_TEXT})]});case w.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),Q.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_TEXT,(0,r.jsx)(Uk.No,{noticeType:w.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(w.oAB.SUBSCRIPTIONS)},children:Q.Z.Messages.PREMIUM_SUBSCRIPTION_PAST_DUE_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]});case w.kVF.PREMIUM_MISSING_PAYMENT:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t
;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd)}}),m===Dy.p9.TIER_1?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):m===Dy.p9.TIER_0?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}):Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_TEXT.format({daysLeft:a.metadata.daysLeft}),(0,r.jsx)(Uk.No,{noticeType:w.kVF.PREMIUM_MISSING_PAYMENT,onClick:function(){var e,t;q8(null===(e=a.metadata)||void 0===e||null===(t=e.premiumSubscription)||void 0===t?void 0:t.currentPeriodEnd);h.Z.open(w.oAB.SUBSCRIPTIONS)},children:m===Dy.p9.TIER_1?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_1_NOTICE_BUTTON_TEXT:m===Dy.p9.TIER_0?Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_TIER_0_NOTICE_BUTTON_TEXT:Q.Z.Messages.PREMIUM_SUBSCRIPTION_ENDING_MISSING_PAYMENT_NOTICE_BUTTON_TEXT})]
});case w.kVF.BACK_TO_PREVIOUS_SCREEN:var ee;return(0,r.jsx)(Bk,{buttonText:null!==(ee=a.buttonText)&&void 0!==ee?ee:Q.Z.Messages.GO_BACK,onGoBack:a.callback,onDismiss:function(){return q8()},showCloseButton:!0});case w.kVF.AUTOMOD_QUARANTINED_USER_PROFILE:var te={page:w.ZY5.IN_APP};return(0,r.jsx)(k7,{guildId:i,analyticsLocations:u,analyticsLocation:te});case w.kVF.QUARANTINED:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.CUSTOM,className:s7().quarantineNotice,children:[Q.Z.Messages.LIMITED_ACCESS_NAG_BAR_NOTICE,(0,r.jsx)(Uk.u3,{href:k8.Z,target:"_blank",children:Q.Z.Messages.LIMITED_ACCESS_NAG_BAR_APPEAL}),(0,r.jsx)(l.Anchor,{href:X.Z.getArticleURL(w.BhN.QUARANTINE),target:"_blank",className:s7().quarantineLearnMoreLink,children:Q.Z.Messages.LEARN_MORE})]});case w.kVF.DROPS_PROGRESS_INTERRUPTION:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.DANGER,children:[Q.Z.Messages.DROPS_PROGRESS_INTERRUPTION_WARNING.format({gameTitle:a.metadata.gameTitle}),(0,r.jsx)(Uk.Ey,{onClick:a.metadata.reloadCallback,
children:Q.Z.Messages.ERRORS_RESTART_APP})]});case w.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION:var ne=a.metadata,re=ne.dismissUntil,oe=ne.decisionId;return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.WARNING,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION,onClick:function(){null!=i&&(0,D7.T9)(i);q8(re)}}),Q.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_MESSAGE,(0,r.jsx)(Uk.Ey,{onClick:function(){null!=i&&(0,D7.UE)(i,oe,(function(){q8(re);(0,D7.T9)(i)}))},children:Q.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_REMOVE_RESTRICTION}),null!=i?(0,r.jsx)(Uk.Ey,{onClick:function(){return Zl.Z.open(i,w.pNK.GUILD_AUTOMOD,void 0,w.KsC.AUTOMOD_MENTION_SPAM)},children:Q.Z.Messages.GUILD_AUTOMOD_MENTION_SPAM_NOTICE_CONFIGURE_SETTINGS}):null]});case w.kVF.SAFETY_USER_SENTIMENT_NAGBAR:return(0,r.jsxs)(Uk.ZP,{color:Uk.DM.BRAND,children:[(0,r.jsx)(Uk.Ry,{noticeType:w.kVF.SAFETY_USER_SENTIMENT_NAGBAR,onClick:function(){d8.hZ();q8()}}),Q.Z.Messages.SAFETY_USER_SENTIMENT_NOTICE,(0,
r.jsx)(Uk.No,{noticeType:w.kVF.SAFETY_USER_SENTIMENT_NAGBAR,onClick:function(){(0,l.openModalLazy)(H8((function(){var e,t;return z8(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(69836)]).then(n.bind(n,69836))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,F8({},e))}]}}))})));d8.hZ();q8()},children:Q.Z.Messages.SAFETY_USER_SENTIMENT_NOTICE_CTA})]});default:return null}}));function Q8(){var e=(0,XB.Z)(fp.Z.NOTICE).AnalyticsLocationProvider;return(0,r.jsx)(e,{children:(0,r.jsx)(X8,{})})}var $8=n(503528),J8=n(264817),e9=n(901750),t9=n(910067);var n9=n(343862),r9=n(317387),o9=n(350247),i9=n(169445),a9=n(132148),s9=n(699992),l9=n(779854),c9=n(536392),u9=n(7114),f9=n(493221),d9=n(734318),p9=n(425650),h9=n(557931),E9=n(879639),y9=n(284952),m9=n(576725),_9=n(779622),g9=n.n(_9);function b9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v9(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function O9(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v9(i,r,o,a,s,"next",e)}function s(e){v9(i,r,o,a,s,"throw",e)}a(void 0)}))}}function I9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){I9(e,t,n[t])}))}return e}function T9(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N9(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function C9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return b9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b9(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A9=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},P9=function(e){var t=e.selected,n=N9(e,["selected"]),o=(0,Si.JA)("friends"),i=(0,s.e7)([Jf.Z],(function(){return Jf.Z.getPendingCount()}));return(0,r.jsx)(E9.Qj,T9(S9({selected:t,route:w.Z5c.FRIENDS,icon:k2.Z,text:Q.Z.Messages.FRIENDS},n,o),{children:i>0?(0,r.jsx)(Bt.mA,{count:i}):null}))},R9=function(e){var t=e.selected,n=e.hideGameUpdateProgressIndicator,o=N9(e,["selected","hideGameUpdateProgressIndicator"]),i=(0,Si.JA)("library");return(0,r.jsx)(E9.Qj,T9(S9({
selected:t,route:w.Z5c.APPLICATION_LIBRARY,icon:p9.Z,text:Q.Z.Messages.LIBRARY},o,i),{children:(0,r.jsx)(m9.Z,{className:ze()(g9().downloadProgressCircle,I9({},g9().hideGameUpdateProgressIndicator,n))})}))},j9=function(e){var t,n,o=e.selected,i=e.route,a=e.locationState,l=N9(e,["selected","route","locationState"]),c=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),u=(0,s.e7)([c9.Z],(function(){return c9.Z.getPremiumTypeSubscription()})),f=(0,Si.JA)("nitro"),d=(0,f7.N)(),p=(0,s.e7)([Rk.Z],(function(){return Rk.Z.isLocalizedPromoEnabled}))&&null==d,h=(0,o9.ij)().shouldShowUpsells,E=r9.L.useExperiment({},{autoTrackExposure:!1}).enableTier0?2592e6:7776e6,y=(0,ff.$k)(h||null!=d);if(!(o||null!=d||null!=c&&Date.now()-c.createdAt.getTime()>E||(0,Af.Qo)(c,u)))return null;if(h)n=(0,r.jsx)(i9.Z,{isSelected:o});else if(null!=d)n=(0,r.jsx)(l9.Z,{trialOffer:d,isTabSelected:o});else if(y)n=(0,r.jsx)(s9.Z,{});else if(p){n=(0,r.jsx)(a9.k,{entryPoint:a9.U.PrivateMessages})
;o||(t=g9().localizedPricingBadge)}return(0,r.jsx)(E9.Qj,T9(S9({selected:o,route:i,icon:n7.Z,text:Q.Z.Messages.PREMIUM,locationState:a},l,f),{className:t,children:n}))},M9=function(e){var t=e.selected,n=e.route,o=e.locationState,i=N9(e,["selected","route","locationState"]),a=(0,Si.JA)("activities"),l=(0,s.e7)([La.Z],(function(){return La.Z.getState().theme})),c=(0,t9.p)();return(0,r.jsx)(E9.Qj,T9(S9({selected:t,route:n,icon:d9.Z,iconClassName:ze()(g9().activitiesBirthdayIcon,I9({},g9().activitiesBirthdayIconLight,"light"===l)),text:Q.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_TAB_TITLE,locationState:o},i,a),{children:c>0?(0,r.jsx)(Bt.mA,{count:c}):null}))},w9=function(e){var t=e.selected,n=(0,wX.q)(),o=(0,Si.JA)("messageRequests"),i=(0,KX._)().channelId;if(!(0,s.e7)([jX.Z,MX.Z],(function(){return(0,E5.IO)([jX.Z,MX.Z])})))return null;var a=null==i?void 0:function(){return C1.Z.preload(w.ME,i)};return(0,r.jsx)(E9.Qj,T9(S9({selected:t,route:w.Z5c.MESSAGE_REQUESTS,icon:FX.Z,
text:Q.Z.Messages.MESSAGE_REQUESTS,onClick:a},o),{children:n>0?(0,r.jsx)(Bt.mA,{count:n}):null}))},x9=function(e){var t=e.selected,n=Q.Z.Messages.FAMILY_CENTER_SIDEBAR_TITLE,i=(0,Si.JA)("family-center"),a=(0,c$.R_)(),s=Da.Ex.useSetting(),l=(0,u$.Z)(),c=C9(o.useState(!1),2),u=c[0],f=c[1];return a&&s&&l?(0,r.jsx)(E9.Qj,T9(S9({selected:t,route:w.Z5c.FAMILY_CENTER,icon:ro.Z,text:n,onMouseEnter:function(){f(!0)},onMouseLeave:function(){f(!1)}},i),{children:(0,r.jsx)(L9,{isParentHovered:u})})):null},L9=function(e){var t=e.isParentHovered,o=(0,n9.TQ)();return t?(0,r.jsx)(l.Clickable,{onClick:function(){(0,J8.ZD)(O9((function(){var e,t;return A9(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(52202)]).then(n.bind(n,352202))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,S9({},e))}]}}))})))},"aria-label":Q.Z.Messages.CLOSE,tabIndex:-1,children:(0,r.jsx)(Bt.G2,{icon:JI.Z,disableColor:!0,className:g9().familyCenterClose})}):o>0?(0,
r.jsx)(Bt.mA,{count:o}):(0,r.jsx)(dM.Z,{contentTypes:[ws.z$.FAMILY_CENTER_NEW_BADGE],children:function(e){return e.visibleContent===ws.z$.FAMILY_CENTER_NEW_BADGE?(0,r.jsx)(Bt.IG,{text:Q.Z.Messages.NEW,color:kt.Z.REDESIGN_BUTTON_PRIMARY_BACKGROUND}):null}})},D9=function(){return(0,TK.$Z)("DM_SEARCH")};function Z9(e){switch(e){case w.Z5c.APPLICATION_LIBRARY:return w.ZY5.LIBRARY;case w.Z5c.FRIENDS:return w.ZY5.FRIENDS_LIST}return e.startsWith(w.Z5c.APPLICATION_STORE)?e===w.Z5c.APPLICATION_STORE?w.ZY5.STORE_DIRECTORY_HOME:e.startsWith(w.Z5c.APPLICATION_STORE)?w.ZY5.STORE_DIRECTORY_BROWSE:w.ZY5.STORE_LISTING:w.ZY5.DM_CHANNEL}var U9=function(e){var t=e.showLibrary,n=e.hasLibraryApplication,o=e.homeLink,i=e.storeLink,a=e.premiumTabSelected,s=C9((0,r6.Z)((function(e){return[e.channelId,e.path]}),$8.Z),2),l=s[0],c=s[1],u=e9.Z.useExperiment({},{autoTrackExposure:!0}).enabled;return(0,r.jsxs)("nav",{className:g9().privateChannels,"aria-label":Q.Z.Messages.PRIVATE_CHANNELS_A11Y_LABEL,children:[(0,
r.jsx)(rF.Z,{tutorialId:"direct-messages",position:"right",offsetX:-52,children:(0,r.jsx)("div",{className:ze()(g9().searchBar,I9({},g9().themedHeaderMobile,Qe.tq)),children:(0,r.jsx)("button",{type:"button",className:ze()(g9().searchBarComponent,I9({},g9().themedSearchBarMobile,Qe.tq)),onClick:D9,children:Q.Z.Messages.DM_SEARCH_PLACEHOLDER})})}),(0,r.jsxs)(y9.Z,T9(S9({},e),{version:c,selectedChannelId:l,showDMHeader:!0,children:[(0,r.jsx)(P9,{selected:null!=c?c===w.Z5c.FRIENDS:o===w.Z5c.FRIENDS},"friends"),n&&t?(0,r.jsx)(R9,{selected:null==c?null!=o&&o.startsWith(w.Z5c.APPLICATION_LIBRARY):c.startsWith(w.Z5c.APPLICATION_LIBRARY),hideGameUpdateProgressIndicator:o===w.Z5c.APPLICATION_LIBRARY},"library"):null,(0,r.jsx)(j9,{selected:null==c?a:c.startsWith(w.Z5c.APPLICATION_STORE),route:null==i||location.pathname.startsWith(w.Z5c.ACTIVITIES)||location.pathname.startsWith(w.Z5c.APPLICATION_STORE)?w.Z5c.APPLICATION_STORE:i,locationState:{analyticsSource:{page:Z9(o),section:w.jXE.NAVIGATION,
object:w.qAy.NAVIGATION_LINK}}},"premium"),u?(0,r.jsx)(M9,{selected:null!=c&&c.startsWith(w.Z5c.ACTIVITIES)||null!=o&&o.startsWith(w.Z5c.ACTIVITIES),route:w.Z5c.ACTIVITIES,locationState:{analyticsSource:{page:Z9(o),section:w.jXE.NAVIGATION,object:w.qAy.NAVIGATION_LINK}}},"activities"):null,(0,r.jsx)(w9,{selected:null==c?null!=o&&o.startsWith(w.Z5c.MESSAGE_REQUESTS):c===w.Z5c.MESSAGE_REQUESTS},"message-requests"),(0,r.jsx)(x9,{selected:null==c?null!=o&&o.startsWith(w.Z5c.FAMILY_CENTER):c===w.Z5c.FAMILY_CENTER},"family-center")]}))]})};function G9(){var e=(0,s.e7)([f9.Z],(function(){return f9.Z.getHomeLink()})),t=(0,s.e7)([v8.Z],(function(){if(e===w.Z5c.APPLICATION_STORE)return!0;var t=(0,h9.ZK)(e);if(null!=t){var n,r;return null!==(r=null===(n=v8.Z.get(t))||void 0===n?void 0:n.premium)&&void 0!==r&&r}return!1}),[e]),n=!Da.bm.useSetting(),o=(0,s.cj)([La.Z],(function(){return{theme:La.Z.theme}})).theme,i=(0,s.e7)([sl.Z],(function(){return sl.Z.hasLibraryApplication()})),a=(0,
s.e7)([u9.Z],(function(){return u9.Z.getCurrentPath()}));return(0,r.jsx)(U9,{theme:o,showLibrary:n,hasLibraryApplication:i,storeLink:a,homeLink:e,premiumTabSelected:t})}var k9=n(9941),B9=n(458922),H9=n(412961);function V9(e){b.Z.dispatch({type:"LIBRARY_APPLICATION_FILTER_UPDATE",query:e})}function F9(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b.Z.dispatch({type:"LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE",key:e,isKeyboardEvent:t})}var Y9=n(770819),z9=n(276433),W9=n(763993),K9=n(629904),q9=n.n(K9);function X9(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $9(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J9(e){J9=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return J9(e)}
function eee(e,t){return!t||"object"!==nee(t)&&"function"!=typeof t?X9(e):t}function tee(e,t){tee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return tee(e,t)}var nee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ree(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=J9(e);if(t){var o=J9(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eee(this,n)}}var oee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&tee(e,t)}(n,e);var t=ree(n);function n(){Q9(this,n);var e
;(e=t.apply(this,arguments)).searchBarRef=null;e.state={focused:!1};e.setRef=function(t){e.searchBarRef=t};e.handleKeyDown=function(t){var n,r=e.props,o=r.activeRowKey,i=r.hasModalOpen,a=r.applicationViewItems,s=X9(e).searchBarRef;if(!(i||t.ctrlKey||t.altKey||t.metaKey||null==s)){var l=null===(n=(0,W9.uB)(t))||void 0===n?void 0:n.activeElement;if(l===s.inputRef.current||!(0,W9.VG)(l))switch(t.which){case w.yXg.ESCAPE:t.target!==s.inputRef.current?e.reset():null!=s.inputRef.current&&s.blur();break;case w.yXg.ENTER:if(null!=o){t.preventDefault();var c=a.find((function(e){return e.key===o}));if(null==c)return;var u=c.libraryApplication;_O.performDefaultLibraryApplicationAction(u,{analyticsParams:{source:w.Sbl.APPLICATION_LIBRARY,location:{page:w.ZY5.LIBRARY,section:w.jXE.LIBRARY_APPLICATION_LIST,object:w.qAy.BUTTON_CTA}}})}break;case w.yXg.ARROW_DOWN:case w.yXg.ARROW_UP:t.preventDefault();t.stopPropagation();e.updateActiveRow(t.which===w.yXg.ARROW_DOWN?1:-1);break;default:
null!=s.inputRef.current&&t.target!==s.inputRef.current&&s.focus()}}};return e}var o=n.prototype;o.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)};o.componentWillUnmount=function(){b.Z.wait((function(){return F9(null)}));document.removeEventListener("keydown",this.handleKeyDown)};o.reset=function(){F9(null);V9("")};o.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()};o.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,o=n.findIndex((function(e){return e.key===r})),i=0;o>=0&&(i=(o+e)%n.length)<0&&(i=n.length-1);var a=n[i];F9(null!=a?a.key:null,!0)};o.render=function(){var e,t=this,n=this.props.filterQuery,o=this.state.focused;return(0,r.jsx)("div",{className:ze()((e={},$9(e,q9().libraryFilter,!0),$9(e,q9().focused,o),e)),children:(0,r.jsx)(eZ.Z,{className:q9().searchBar,ref:this.setRef,onChange:V9,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})
},name:"filter",onClear:function(){t.reset();t.focusInput()},maxLength:100,query:n,placeholder:Q.Z.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER})})};return n}(o.Component);function iee(){var e=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),t=(0,l.useModalsStore)(l.hasAnyModalOpenSelector);return(0,r.jsx)(oee,{activeRowKey:(0,s.e7)([z9.Z],(function(){return z9.Z.activeRowKey})),hasModalOpen:t||e,filterQuery:(0,s.e7)([Y9.Z],(function(){return Y9.Z.applicationFilterQuery})),applicationViewItems:(0,s.e7)([Y9.Z],(function(){return Y9.Z.sortedFilteredLibraryApplicationViewItems}))})}var aee=n(956958),see=n.n(aee);function lee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lee(e,t,n[t])}))}return e}function uee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var fee=(0,Il.Q)()||!1;function dee(e){var t=e.currentRoute,n=e.renderToolbar,i=o.useContext(Oe.AnalyticsContext),a=fee||t===w.Z5c.APPLICATION_LIBRARY_SETTINGS;return(0,r.jsxs)(MS.Z,{className:see().libraryHeader,toolbar:null==n?void 0:n(),children:[(0,r.jsx)(MS.Z.Icon,{icon:p9.Z,"aria-hidden":!0}),(0,r.jsx)(MS.Z.Title,{children:Q.Z.Messages.LIBRARY}),(0,r.jsx)(MS.Z.Divider,{}),(0,r.jsxs)(l.TabBar,{type:"top-pill",selectedItem:t,
onItemSelect:function(e){e!==t&&(0,K.uL)(e,{state:{analyticsSource:uee(cee({},i.location),{section:w.jXE.TABS,object:w.qAy.NAVIGATION_LINK})}})},children:[(0,r.jsx)(l.TabBar.Item,{id:w.Z5c.APPLICATION_LIBRARY,children:Q.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),a?(0,r.jsx)(l.TabBar.Item,{id:w.Z5c.APPLICATION_LIBRARY_SETTINGS,children:Q.Z.Messages.SETTINGS}):null]})]})}const pee=o.memo(dee);var hee=n(192607),Eee=n(424160),yee=n(351317),mee=n(416044),_ee=n(954419),gee=n(534540),bee=n(168062);const vee=function(e){var t=e.id,n=e.startColor,o=e.stopColor,i=e.color,a=e.stop;return(0,r.jsxs)("linearGradient",{id:t,children:[(0,r.jsx)("stop",{offset:"0",stopColor:n}),(0,r.jsx)("stop",{offset:a,stopColor:o}),(0,r.jsx)("stop",{offset:a,stopColor:i}),(0,r.jsx)("stop",{offset:"1",stopColor:i})]})};function Oee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Iee(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oee(e,t,n[t])}))}return e}function See(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Tee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Nee(e){return"CloudDone-".concat(e)}function Cee(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=Tee(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=c&&(f=(0,r.jsx)(vee,See(Iee({},c),{color:s,id:Nee(c.id)})));return(0,r.jsxs)("svg",See(Iee({},(0,MT.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(Nee(c.id),")"):s,className:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"})]}))}function Aee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Aee(e,t,n[t])}))}return e}function Ree(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Mee(e){return"CloudDownload-".concat(e)}function wee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wee(e,t,n[t])}))}return e}function Lee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Dee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Zee(e){return"CloudUpload-".concat(e)}function Uee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kee(e){kee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return kee(e)}function Bee(e,t){return!t||"object"!==Vee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hee(e,t){Hee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Hee(e,t)}var Vee=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=kee(e);if(t){var o=kee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bee(this,n)}}var Yee,zee=new Set([w.TzF.PUSHING,w.TzF.PULLING]),Wee=Object.freeze((Gee(Yee={},w.TzF.DONE,bee.Z),Gee(Yee,w.TzF.PLANNING,bee.Z),Gee(Yee,w.TzF.PREPARING,bee.Z),
Gee(Yee,w.TzF.PUSHING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=Dee(e,["width","height","color","foreground","gradientConfig"]),f=null;null!=c&&(f=(0,r.jsx)(vee,Lee(xee({},c),{color:s,id:Zee(c.id)})));return(0,r.jsxs)("svg",Lee(xee({},(0,MT.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(Zee(c.id),")"):s,className:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})]}))})),Gee(Yee,w.TzF.PULLING,(function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=e.gradientConfig,u=jee(e,["width","height","color","foreground","gradientConfig"]),f=null
;null!=c&&(f=(0,r.jsx)(vee,Ree(Pee({},c),{color:s,id:Mee(c.id)})));return(0,r.jsxs)("svg",Ree(Pee({},(0,MT.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:f}),(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{fill:null!=c?"url(#".concat(Mee(c.id),")"):s,className:l,d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"})]}))})),Gee(Yee,w.TzF.CONFLICT,bee.Z),Gee(Yee,w.TzF.ERROR,bee.Z),Yee)),Kee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Hee(e,t)}(n,e);var t=Fee(n);function n(){Uee(this,n);var e;(e=t.apply(this,arguments))._doneTimer=new zE.V7;return e}var o=n.prototype;o.componentDidMount=function(){
this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()};o.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==w.TzF.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())};o.componentWillUnmount=function(){this._doneTimer.stop()};o.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,(function(){return e.forceUpdate()}))};o.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===w.TzF.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1};o.getStop=function(e,t){if(t)return 1;if(e.type===w.TzF.PUSHING||e.type===w.TzF.PULLING){return e.progress/e.total}return 0};o.getTooltip=function(e,t){switch(e.type){case w.TzF.DONE:return t?Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case w.TzF.CONFLICT:case w.TzF.ERROR:
return Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case w.TzF.PLANNING:return Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case w.TzF.PREPARING:return Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case w.TzF.PUSHING:return Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case w.TzF.PULLING:return Q.Z.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING;default:return null}};o.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,o=e.className,i=null==t?{type:w.TzF.DONE}:t,a=this.getIsRecentlySynced(),s={};(zee.has(i.type)||a)&&(s.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,a)});var c=a?Cee:Wee[i.type];return(0,r.jsx)(l.Tooltip,{text:this.getTooltip(i,a),children:function(e){return(0,r.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gee(e,t,n[t])}))}return e}({className:o},s,e))}})};return n}(o.PureComponent);const qee=s.ZP.connectStores([gee.Z],(function(e){var t=e.libraryApplication;return{cloudSyncState:gee.Z.getState(t.id,t.branchId)}}))(Kee);var Xee=n(825700),Qee=n.n(Xee);function $ee(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Jee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$ee(i,r,o,a,s,"next",e)}function s(e){$ee(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ete(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tte(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nte(e){
nte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nte(e)}function rte(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tte(e,t,n[t])}))}return e}function ote(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ite(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ate(e,t){return!t||"object"!==lte(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ste(e,t){ste=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ste(e,t)}var lte=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function cte(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nte(e)
;if(t){var o=nte(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ate(this,n)}}var ute,fte=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},dte=(0,sn.Mg)(Qee().rowMinHeight),pte=(0,sn.Mg)(Qee().linkedToGlowDuration),hte=Object.freeze((tte(ute={},w.iEv.PLATFORM,"Platform"),tte(ute,w.iEv.LAST_PLAYED,"Last Played"),tte(ute,w.iEv.NAME,"Name"),ute));var Ete=function(e){var t=e.flag,n=e.icon,o=e.item,i=e.tooltip,a=o.libraryApplication.hasFlag(t);return(0,r.jsx)(l.Tooltip,{text:i,children:function(e){return(0,r.jsx)(n,rte({className:ze()(Qee().settingIcon,tte({},Qee().hidden,!a))},e))}})},yte=[{key:w.iEv.NAME,renderHeader:function(){return Q.Z.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:Qee().nameCell,bodyCellClassName:Qee().nameBodyCell,render:function(e){return(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[(0,r.jsx)(s0.Z,{game:e.application,size:s0.Z.Sizes.SMALL,className:Qee().gameIcon}),(0,
r.jsxs)("div",{className:Qee().nameCellInfo,children:[(0,r.jsx)("div",{className:Qee().nameCellText,children:e.libraryApplication.getBranchedName(e.application)}),e.libraryApplication.hasFlag(w.eHb.PREMIUM)?(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.PREMIUM_GAME,children:function(e){return(0,r.jsx)(n7.Z,rte({className:Qee().nitroIcon},e))}}):null]})]})}},{key:w.iEv.PLATFORM,renderHeader:function(){return Q.Z.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:Qee().platformCell,bodyCellClassName:Qee().textCell,render:function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsx)(jg.Z,{align:jg.Z.Align.CENTER,children:null!=t?w.EOG[t]:Q.Z.Messages.GAME_LIBRARY_NOT_APPLICABLE})}},{key:w.iEv.LAST_PLAYED,renderHeader:function(){return Q.Z.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:Qee().lastPlayedCell,bodyCellClassName:Qee().textCell,render:function(e){var t
;t=e.isRunning?Q.Z.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?Q.Z.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?(0,r.jsx)(l0.ZP,{end:e.lastPlayed,location:l0.ZP.Locations.GAME_LIBRARY_LAST_PLAYED}):Q.Z.Messages.GAME_LIBRARY_LAST_PLAYED_NONE;return(0,r.jsx)(jg.Z,{align:jg.Z.Align.CENTER,className:ze()(tte({},Qee().lastPlayedCellNew,e.isNew)),children:t})}},{key:w.iEv.ACTIONS,renderHeader:function(){return null},cellClassName:Qee().actionsCell,render:function(e,t,n){if(null==t)throw new Error("No cell props defined.");var i,a,s=e.key===t.activeRowKey;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{className:Qee().settingIcons,children:[(0,r.jsx)(Ete,{flag:w.eHb.PRIVATE,item:e,icon:GR.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),(0,r.jsx)(Ete,{flag:w.eHb.OVERLAY_DISABLED,item:e,icon:mee.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),(0,r.jsx)(qee,{className:ze()(Qee().settingIcon,tte({},Qee().hidden,!e.supportsCloudSync)),
libraryApplication:e.libraryApplication})]}),(0,_ee.Je)(e.libraryApplication)?(0,r.jsx)(Eee.Z,{analyticsListSort:(i=t.sortKey,a=t.sortDirection,"".concat(hte[i]," ").concat(a===w.sHY.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:w.Sbl.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?l.Button.Colors.GREEN:l.Button.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===w.apO.PLAY,size:Qee().actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}):(0,r.jsx)(hee.Z,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:s?l.Button.Colors.GREEN:l.Button.Colors.PRIMARY,customDisabledColor:l.Button.Colors.PRIMARY,size:Qee().actionButtonSize})]})}}],mte=function(e){
var t,n=e.item,o=e.activeRowKey,i=e.highlightedApplicationKey,a=e.onMouseEnter,s=e.onMouseLeave,l=e.onContextMenu,c=e.setRef,u=ite(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),f=n.key===o,d=n.key===i;return(0,r.jsx)("div",{className:ze()((t={},tte(t,Qee().rowWrapperActive,f&&!d),tte(t,Qee().rowWrapperGlow,d),tte(t,Qee().rowWrapper,!f&&!d),tte(t,Qee().rowWrapperDim,!f&&!n.isLaunchable),t)),ref:function(e){return c(e,n.key)},onMouseEnter:function(){return a(n)},onMouseLeave:s,onContextMenu:function(e){return l(e,n)},children:(0,r.jsx)("div",rte({},u))})},_te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ste(e,t)}(i,e);var t=cte(i);function i(){ete(this,i);var e;(e=t.apply(this,arguments))._didUnmount=!1;e._rowRefs={};e.state={
overflowMenuRowKey:null,highlightedApplicationKey:null!=e.props.location.state?e.props.location.state.applicationId:null};e.setActiveRowKey=function(t){e.setState({overflowMenuRowKey:t.key})};e.clearActiveRowKey=function(){e._didUnmount||e.setState({overflowMenuRowKey:null})};e.handleRowMouseEnter=function(t){e.props.isNavigatingByKeyboard||F9(t.key)};e.handleRowMouseLeave=function(){e.props.isNavigatingByKeyboard||F9(null)};e.setRowRef=function(t,n){e._rowRefs[n]=t};e.handleApplicationContextMenu=function(t,o){e.setActiveRowKey(o);var i=e.props.analyticsContext;(0,xI.jW)(t,Jee((function(){var e,t;return fte(this,(function(a){switch(a.label){case 0:return[4,n.e(96743).then(n.bind(n,196743))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ote(rte({},e),{applicationId:o.libraryApplication.id,branchId:o.libraryApplication.branchId,analyticsContext:i}))}]}}))})),{onClose:e.clearActiveRowKey})};return e}var a=i.prototype;a.componentDidMount=function(){
if(this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}};a.componentWillUnmount=function(){this._didUnmount=!0};a.componentDidUpdate=function(e){if(!e.fetched&&this.props.fetched){this.handleHighlightedApplicationKey();this.trackViewed()}var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];if(null!=n){b.Z.wait(xI.Zy);this.props.scrollToRow(n,dte)}}};a.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;if(null!=t&&null!=this._rowRefs[t]){this.props.scrollToRow(this._rowRefs[t],dte);(new zE.V7).start(pte,(function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))}};a.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0
},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){switch(s.value.libraryApplication.getDistributor()){case w.GQo.DISCORD:e.num_applications_discord++;break;case w.GQo.STEAM:e.num_applications_steam++;break;case w.GQo.BATTLENET:e.num_applications_battlenet++;break;case w.GQo.TWITCH:e.num_applications_twitch++;break;case w.GQo.UPLAY:e.num_applications_uplay++;break;case w.GQo.ORIGIN:e.num_applications_origin++;break;case w.GQo.GOG:e.num_applications_gog++;break;case w.GQo.EPIC:e.num_applications_epic++}e.num_applications_total++}}catch(e){i=!0;a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}Oe.default.track(w.rMx.LIBRARY_VIEWED,ote(rte({},e),{load_id:n.loadId}))};a.handleSort=function(e,t){!function(e,t){b.Z.dispatch({type:"LIBRARY_TABLE_SORT_UPDATE",key:e,direction:t})}(e,t)};a.renderImportHelp=function(){
var e,t=this.props,n=t.applicationViewItems,o=t.filterQuery,i=n.length>0;if(i)return null;e=""!==o?Q.Z.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:o}):Q.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT;return(0,r.jsxs)("div",{className:i?Qee().emptyStateSmall:Qee().emptyStateLarge,children:[(0,r.jsx)("div",{className:Qee().emptyWumpus}),(0,r.jsx)(jg.Z,{grow:0,shrink:i?1:0,direction:jg.Z.Direction.VERTICAL,children:(0,r.jsxs)("div",{className:Qee().emptyStateText,children:[(0,r.jsx)("div",{className:Qee().emptyStateHeader,children:Q.Z.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER}),(0,r.jsx)("div",{className:Qee().emptyStateDescription,children:e})]})})]})};a.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,i=e.applicationViewItems,a=e.activeRowKey,s=e.stickyHeader,l=this.state,c=l.overflowMenuRowKey,u=l.highlightedApplicationKey;return(0,r.jsxs)(o.Fragment,{children:[i.length>0?(0,r.jsx)(yee.Z,{columns:yte,data:i,sortData:!1,
rowComponent:mte,className:Qee().table,headerClassName:s?Qee().stickyHeader:Qee().header,headerCellClassName:Qee().headerCell,sortedHeaderCellClassName:Qee().headerCellSorted,bodyCellClassName:Qee().bodyCell,rowClassName:Qee().row,sortKey:t,sortDirection:n,stickyHeader:s,rowProps:{activeRowKey:null!=c?c:a,highlightedApplicationKey:u,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:null!=c?c:a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp()]})};return i}(o.PureComponent);_te.defaultProps={stickyHeader:!1};function gte(e){var t=o.useContext(Oe.AnalyticsContext),n=(0,a.TH)(),i=(0,s.cj)([Y9.Z],(function(){return{applicationViewItems:Y9.Z.sortedFilteredLibraryApplicationViewItems,
filterQuery:Y9.Z.applicationFilterQuery,fetched:Y9.Z.hasFetchedApplications}})),l=i.applicationViewItems,c=i.filterQuery,u=i.fetched,f=(0,s.cj)([z9.Z],(function(){return{sortKey:z9.Z.sortKey,sortDirection:z9.Z.sortDirection,activeRowKey:z9.Z.activeRowKey,isNavigatingByKeyboard:z9.Z.isNavigatingByKeyboard}})),d=f.sortKey,p=f.sortDirection,h=f.activeRowKey,E=f.isNavigatingByKeyboard;return(0,r.jsx)(_te,ote(rte({},e),{analyticsContext:t,location:n,applicationViewItems:l,filterQuery:c,fetched:u,sortKey:d,sortDirection:p,activeRowKey:h,isNavigatingByKeyboard:E}))}var bte=n(454708),vte=n(829389),Ote=n(222641),Ite=n(701190),Ste=n(452723),Tte=n(963429),Nte=n(852007),Cte=n.n(Nte);function Ate(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rte(e){Rte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return Rte(e)}function jte(e,t){return!t||"object"!==xte(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mte(e,t){Mte=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mte(e,t)}function wte(e){return function(e){if(Array.isArray(e))return Ate(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ate(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ate(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xte=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Lte(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Rte(e);if(t){var o=Rte(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jte(this,n)}}var Dte=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mte(e,t)}(n,e);var t=Lte(n);function n(){Pte(this,n);var e
;(e=t.apply(this,arguments)).canvas=o.createRef();e.updateAnimation=function(t){var n=e.canvas.current;if(null!=n){var r=e.props,o=r.data,i=r.updateInterval,a=r.color,s=r.numUpdatesToShow,l=r.lineWidth,c=r.animate,u=r.gradientStopColor;if(!(o.length<2)){var f=Math.max(Math.min((t-e.dataChangedAt)/i,1),0),d=n.getContext("2d"),p=e.maxValue;d.strokeStyle=a;d.lineWidth=l;var h=n.height-d.lineWidth,E=d.createLinearGradient(0,0,0,h);if(null!=u)E.addColorStop(0,u);else{var y=qG.oo(a),m=y.r,_=y.g,g=y.b;E.addColorStop(0,"rgba(".concat(m,", ").concat(_,", ").concat(g,", 0)"))}E.addColorStop(1,e.fillColor);d.fillStyle=E;var b=o.length>=s?s:o.length;d.setTransform(1,0,0,-1,0,n.height);d.clearRect(0,0,n.width,n.height);d.translate(0,.5*d.lineWidth);var v,O,I=Math.floor(n.width/(b-3)),S=.5*I,T=I-I*f;d.translate(T,0);d.beginPath();var N=-I;o.forEach((function(e,t){v={x:N,y:h*e/p};0===t?d.moveTo(v.x,v.y):d.bezierCurveTo(O.x+S,O.y,v.x-S,v.y,v.x,v.y);O=v;N+=I}));d.stroke();d.lineTo(N-I,0);d.lineTo(0,0)
;d.fill();c&&f<1&&(e.animationFrameRequestId=window.requestAnimationFrame(e.updateAnimation))}}};return e}var i=n.prototype;i.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,o=n.data,i=n.animate,a=null==e||e.data!==t.data&&!Ke().isEqual(e.data,t.data);if(a){var s;this.dataChangedAt=performance.now();this.maxValue=null!=r?r:(s=Math).max.apply(s,wte(o))}if(a||null==e||!e.animate&&i||e.color!==this.props.color){var l=qG.oo(this.props.color);this.fillColor="rgba(".concat(l.r,", ").concat(l.g,", ").concat(l.b,", 0.5)");window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}};i.componentDidMount=function(){this.animationFrameRequestId=0;this.onDataUpdate(null,this.props)};i.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)};i.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId);this.animationFrameRequestId=0};i.render=function(){
var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return(0,r.jsx)("div",{className:t,children:(0,r.jsx)("canvas",{ref:this.canvas,className:Cte().canvas,width:n,height:o})})};return n}(o.PureComponent);Dte.defaultProps={animate:!0};const Zte=Dte;var Ute=n(275746),Gte=n.n(Ute);const kte=function(e){var t,n=e.title,o=e.className,i=e.color,a=e.animate,s=e.gradientStopColor,l=e.getHistoricalTotalBytes,c=(0,OU.Sl)(i).hex,u=null===(t=(0,OU.Sl)(s))||void 0===t?void 0:t.hex;return(0,r.jsx)(Tte.Z,{getHistoricalTotalBytes:l,children:function(e,t,i){return(0,r.jsx)("div",{className:ze()(Gte().monitor,o),children:(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[(0,r.jsxs)(jg.Z,{className:Gte().text,direction:jg.Z.Direction.VERTICAL,children:[(0,r.jsx)("div",{className:Gte().title,children:n}),(0,r.jsx)("div",{className:Gte().rate,children:(s=e[e.length-1]/t*1e3,s>1e3?Q.Z.Messages.FILE_RATE_MB.format({size:Math.round(s/1e3)}):Q.Z.Messages.FILE_RATE_KB.format({size:Math.round(s)}))})]
}),(0,r.jsx)("div",{className:Gte().overflowContainer,children:(0,r.jsx)(Zte,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:Gte().sparkChart,updateInterval:t,color:c,gradientStopColor:u,numUpdatesToShow:i,animate:a,pixelWidth:600,pixelHeight:48,lineWidth:4})})]})});var s}})};var Bte=n(51786),Hte=n.n(Bte);function Vte(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fte(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Yte(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fte(i,r,o,a,s,"next",e)}function s(e){Fte(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0)
;Object.defineProperty(e,r.key,r)}}function Kte(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qte(e){qte=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return qte(e)}function Xte(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Jte(e,t)}function Qte(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function $te(e,t){return!t||"object"!==tne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jte(e,t){Jte=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Jte(e,t)}function ene(e){return function(e){if(Array.isArray(e))return Vte(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vte(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vte(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tne=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=qte(e);if(t){var o=qte(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $te(this,n)}}var rne,one,ine,ane,sne=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},lne=function(e){var t=e.className,n=e.children,o=e.onContextMenu,i=e.item;return(0,r.jsx)("div",{className:t,onContextMenu:function(e){return o(e,i)},children:n})},cne=[br.Z.unsafe_rawColors.BLUE_345.css,br.Z.colors.INTERACTIVE_NORMAL.css],une=function(e){var t=e.tooltip,n=e.onClick,o=e.icon;return(0,r.jsx)(l.Tooltip,{text:t,children:function(e){var i=e.onMouseEnter,a=e.onMouseLeave;return(0,
r.jsx)(l.Button,{"aria-label":t,className:Hte().actionButton,innerClassName:Hte().actionButtonContents,color:l.Button.Colors.PRIMARY,size:l.Button.Sizes.ICON,onClick:n,onMouseEnter:i,onMouseLeave:a,children:(0,r.jsx)(o,{className:Hte().actionIcon})})}})};function fne(e,t){switch(t){case w.f07.POST_INSTALL_SCRIPTS:case w.f07.PLANNING:case w.f07.FINALIZING:case w.f07.ALLOCATING_DISK:return"".concat(e);default:return(0,Ste.BU)(e,{useKibibytes:!0})}}var dne=(Kte(ane={},w.vxO.INSTALLING,(Kte(rne={},l0.J6.NONE,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),Kte(rne,l0.J6.SECONDS,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(rne,l0.J6.MINUTES,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(rne,l0.J6.HOURS,(function(e,t,n,r){
return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),rne)),Kte(ane,w.vxO.UPDATING,(Kte(one={},l0.J6.NONE,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})})),Kte(one,l0.J6.SECONDS,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(one,l0.J6.MINUTES,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(one,l0.J6.HOURS,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),one)),Kte(ane,w.vxO.REPAIRING,(Kte(ine={},l0.J6.NONE,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})})),Kte(ine,l0.J6.SECONDS,(function(e,t,n,r){
return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(ine,l0.J6.MINUTES,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})})),Kte(ine,l0.J6.HOURS,(function(e,t,n,r){return Q.Z.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})})),ine)),ane);function pne(e,t,n,r,o){var i=null!=e?e/60:null,a=dne[t],s=null!=a?Object.keys(a):[],l=(0,l0.CI)(i,s),c=l.unit,u=l.time;if(null!=a&&null!=c){var f=a[c];return null!=f?f(n,r,o,u):null}return null}function hne(e){var t=e.type,n=e.stage,r=e.percent,o=e.progress,i=e.total,a=e.secondsRemaining,s=fne(i,n),l=fne(o,n);switch(n){case w.f07.QUEUED:return 0===o?Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:r,progress:l,total:s});case w.f07.PLANNING:
return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:r});case w.f07.ALLOCATING_DISK:return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:r});case w.f07.PATCHING:return pne(a,t,r,l,s);case w.f07.FINALIZING:return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:r});case w.f07.PAUSING:return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:r,progress:l,total:s});case w.f07.VERIFYING:return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:r,progress:l,total:s});case w.f07.POST_INSTALL_SCRIPTS:return Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:r,progress:l,total:s});case w.f07.REPAIRING:return t===w.vxO.REPAIRING?pne(a,t,r,l,s):Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:r,progress:l,total:s})}throw new Error("Invalid Dispatch stage")}function Ene(e,t,o){xI.jW(e,Yte((function(){var e,i;return sne(this,(function(a){
switch(a.label){case 0:return[4,n.e(96743).then(n.bind(n,196743))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Qte(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Kte(e,t,n[t])}))}return e}({},e),{applicationId:t.applicationId,branchId:t.branchId,analyticsContext:o}))}]}}))})))}var yne="name",mne="progress",_ne="actions",gne=function(e){Xte(n,e);var t=nne(n);function n(){zte(this,n);var e;(e=t.apply(this,arguments)).renderProgressPatchingBody=function(t,n){var r=e.props.item.state;if(null==r)return null;var o=r.stage,i=r.progress,a=r.total,s=r.type,l=r.readerProgress;if(null==i||null==a||null==o)return null;var c=_ee.xI(i,a),u=_ee.xI(null!=l?l:0,a),f=t[t.length-1]/n*1e3,d=a-i,p=0!==f?Math.max(1,d/f):null,h=hne({
type:s,stage:o,percent:Math.floor(c),progress:i,total:a,secondsRemaining:p});return e.renderStackedProgress({percents:[c,u],message:h})};return e}var o=n.prototype;o.renderBody=function(e){var t=e.percent,n=e.foregroundColor,o=e.foregroundGradientColor,i=e.message;return(0,r.jsxs)(jg.Z,{direction:jg.Z.Direction.VERTICAL,children:[(0,r.jsx)(l.Progress,{percent:t,size:l.Progress.Sizes.SMALL,foregroundColor:(0,OU.Lq)(n),foregroundGradientColor:null!=o?[(0,OU.Lq)(o[0]),(0,OU.Lq)(o[1])]:void 0,animate:this.isFocused}),(0,r.jsx)("div",{className:Hte().progressCellText,children:null!=i?i:""})]})};o.renderStackedProgress=function(e){var t=e.percents,n=e.message;return(0,r.jsxs)(jg.Z,{direction:jg.Z.Direction.VERTICAL,children:[(0,r.jsx)(l.StackedProgress,{percents:t,size:l.Progress.Sizes.SMALL,foregroundColors:cne,animate:this.isFocused}),(0,r.jsx)("div",{className:Hte().progressCellText,children:null!=n?n:""})]})};o.renderFinished=function(){var e=this.props.item;return this.renderBody({
message:Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return Ol.wi(e.applicationId,e.branchId)}}),foregroundColor:(0,Io.ap)(e.theme)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,percent:100})};o.renderQueued=function(){var e,t,n=this.props.item,r=n.state,o=n.theme;if(null!=r){var i=r.progress,a=r.total,s=r.stage;if(null!=i&&null!=a){var l=fne(a,s),c=fne(i,s);t=_ee.xI(i,a);var u=Math.floor(t);e=s===w.f07.PAUSING?Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:u,progress:c,total:l}):Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:u,progress:c,total:l})}}if(null==t||null==e){t=0;e=Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION}return this.renderBody({percent:t,foregroundColor:(0,Io.ap)(o)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,message:e})};o.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,o=t.total;if(null==r||null==o)return null
;var i=_ee.xI(r,o),a=Math.floor(i),s=0===r&&1===o?Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:Q.Z.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:a,progress:(0,Ste.BU)(r),total:(0,Ste.BU)(o)});return this.renderBody({message:s,foregroundColor:(0,Io.ap)(n)?w.Ilk.PRIMARY_300:w.Ilk.PRIMARY_500,percent:i})};o.renderProgressPatching=function(){return(0,r.jsx)(Tte.Z,{getHistoricalTotalBytes:fO.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,children:this.renderProgressPatchingBody})};o.renderProgressDefault=function(){var e=this.props.item.state;if(null==e)return null;var t=e.total,n=e.progress,r=e.stage,o=e.type;if(null==t||null==n||null==r)return null;var i=_ee.xI(n,t),a=Math.floor(i);return this.renderBody({percent:i,message:hne({type:o,stage:r,percent:a,progress:n,total:t}),foregroundColor:w.Ilk.BLUE_345})};o.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case w.f07.PATCHING:case w.f07.REPAIRING:
return this.renderProgressPatching();default:return this.renderProgressDefault()}};o.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==w.vxO.UPDATING&&t.state.type!==w.vxO.REPAIRING&&t.state.type!==w.vxO.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()};!function(e,t,n){t&&Wte(e.prototype,t);n&&Wte(e,n)}(n,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]);return n}(o.PureComponent),bne=function(){return(0,r.jsx)(une,{icon:Ite.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return Ol.v4()}})},vne=function(){return(0,r.jsx)(une,{icon:Ote.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return Ol.wO()}})},One=function(e){var t=e.item;return(0,r.jsx)(une,{icon:vte.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){
return Ol.A1(t.applicationId,t.branchId)}})},Ine=function(e){var t=e.item;return(0,r.jsx)(une,{icon:JI.Z,tooltip:Q.Z.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return Ol.al(t.applicationId,t.branchId)}})},Sne=[{key:yne,cellClassName:Hte().nameCell,render:function(e){return(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[(0,r.jsx)(s0.Z,{game:e.application,className:Hte().gameIcon,size:s0.Z.Sizes.SMALL}),(0,r.jsx)("div",{className:Hte().nameCellText,children:e.application.name})]})}},{key:mne,cellClassName:Hte().progressCell,headerCellClassName:Hte().progressCellHeader,bodyCellClassName:Hte().progressCellBody,render:function(e,t){return(0,r.jsx)(gne,{item:e,cellProps:t})}},{key:_ne,cellClassName:Hte().actionsCell,render:function(e,t){var n,o;if(e.finished)n=null!=e.libraryApplication?(0,r.jsx)(Eee.Z,{libraryApplication:e.libraryApplication,size:l.Button.Sizes.SMALL,className:Hte().gameActionButton,source:w.Sbl.APPLICATION_LIBRARY_UPDATES
}):null;else if(null!=e.state){if(e.state.type!==w.vxO.UP_TO_DATE){n=e.index>0?(0,r.jsx)(One,{item:e}):null!=t&&t.paused?(0,r.jsx)(bne,{}):(0,r.jsx)(vne,{item:e});o=(0,r.jsx)(Ine,{item:e})}}else o=(0,r.jsx)(Ine,{item:e});return(0,r.jsxs)(jg.Z,{justify:jg.Z.Justify.END,children:[n,o]})}}],Tne=function(e){Xte(n,e);var t=nne(n);function n(){zte(this,n);var e;(e=t.apply(this,arguments)).isUnmounted=!1;e.isTallerThanHalfViewport=!1;e.throttledUpdateHeight=Ke().throttle((function(){if(!e.isUnmounted){var t=e.props,n=t.height,r=t.onHeightTallerThanHalfViewportChange,o=n>window.innerHeight/2;if(e.isTallerThanHalfViewport!==o){e.isTallerThanHalfViewport=o;r(o)}}}),1e3);return e}var o=n.prototype;o.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)};o.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()};o.componentWillUnmount=function(){this.props.applications.forEach((function(e){e.finished&&b.Z.wait((function(){
Ol.wi(e.applicationId,e.branchId)}))}));window.removeEventListener("resize",this.throttledUpdateHeight);this.isUnmounted=!0};o.render=function(){var e=this.props,t=e.applications,n=e.paused,o=e.isFocused,i=e.theme,a=e.analyticsContext;return 0===t.length?null:(0,r.jsxs)("div",{className:Hte().gameUpdates,children:[(0,r.jsxs)("div",{className:Hte().headerRow,children:[(0,r.jsx)(kte,{className:ze()(Hte().headerCell,Hte().networkProgress),title:Q.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:fO.Z.getHistoricalTotalBytesDownloaded,color:w.Ilk.GREEN_360,animate:o}),(0,r.jsx)(kte,{className:ze()(Hte().headerCell,Hte().diskProgress),title:Q.Z.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:fO.Z.getHistoricalTotalBytesWritten,color:w.Ilk.BLUE_345,animate:o})]}),(0,r.jsx)(yee.Z,{hasHeader:!1,columns:Sne,data:t,className:Hte().table,rowClassName:Hte().row,rowComponent:lne,cellProps:{paused:n,isFocused:o,theme:i},rowProps:{onContextMenu:function(e,t){
return Ene(e,t,a)}},bodyCellClassName:Hte().cell})]})};return n}(o.PureComponent);function Nne(e,t,n,r){return e.reduce((function(e,o,i){var a=o.applicationId,s=o.branchId,l=n.getGame(a),c=r.getState(a,s);null!=l&&e.push({key:"".concat(a,":").concat(s),applicationId:a,branchId:s,state:c,application:l,libraryApplication:sl.Z.getLibraryApplication(a,s),finished:t,index:i});return e}),[])}const Cne=(0,RI.Z)(s.ZP.connectStores([bte.Z,La.Z,xr.Z,tl.Z,fO.Z],(function(){var e=Nne(bte.Z.activeItems,!1,tl.Z,fO.Z),t=Nne(bte.Z.finishedItems,!0,tl.Z,fO.Z);return{applications:ene(e).concat(ene(t)),paused:bte.Z.paused,isFocused:xr.Z.isFocused(),theme:La.Z.theme}}))((0,h0.Z)(Tne)));var Ane=n(248231),Pne=n.n(Ane);function Rne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jne(e){jne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return jne(e)}function Mne(e,t){
return!t||"object"!==xne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wne(e,t){wne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return wne(e,t)}var xne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Lne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=jne(e);if(t){var o=jne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mne(this,n)}}var Dne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&wne(e,t)}(n,e);var t=Lne(n);function n(){Rne(this,n);var e;(e=t.apply(this,arguments))._scrollerRef=o.createRef();e._scrollToPadding=0;e.state={includeUpdatesInScroller:!1};e.handleHeightTallerThanHalfViewportChange=function(t){e.setState({includeUpdatesInScroller:t})};e.scrollToRow=function(t,n){var r=e._scrollerRef.current;if(null!=r){t.focus();r.scrollIntoViewRect({start:n,end:n});e._scrollToOnMount=null}else{e._scrollToOnMount=t;e._scrollToPadding=n}};return e}var i=n.prototype;i.componentDidMount=function(){AX.Y(w.Z5c.APPLICATION_LIBRARY);(0,H9.T)(w.jEp.LIBRARY);b.Z.wait((function(){return(0,k9.o)()}));(0,B9.N)();null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)};i.renderToolbar=function(){return(0,r.jsx)(iee,{})};i.render=function(){var e=this.state.includeUpdatesInScroller,t=(0,r.jsx)("div",{children:(0,r.jsx)(D$.Z,{
section:w.jXE.LIBRARY_INSTALL_MODULE,children:(0,r.jsx)(Cne,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})})});return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(pee,{currentRoute:w.Z5c.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),e?null:t,(0,r.jsxs)(l.AdvancedScrollerAuto,{className:ze()(Pne().container,Pne().scroller),ref:this._scrollerRef,children:[e?t:null,(0,r.jsx)(D$.Z,{section:w.jXE.LIBRARY_APPLICATION_LIST,children:(0,r.jsx)(gte,{stickyHeader:!e,scrollToRow:this.scrollToRow})})]})]})};return n}(o.PureComponent),Zne=n(324171),Une=n(980151),Gne=n(840974),kne=n(282019),Bne=n.n(kne);function Hne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vne(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Fne=Math.ceil(2*Math.PI*20);function Yne(e){var t=Math.round(-85*e+199),n=Math.round(-71*e+208),r=Math.round(-22*e+240);return"rgb(".concat(t,", ").concat(n,", ").concat(r,")")}function zne(e){var t=Math.floor(Fne*e);return"".concat(t,", ").concat(Fne)}const Wne=function(e){var t=e.total,n=e.used,o=Math.max(0,Math.min(1,n/t)),i="".concat(Math.floor(100*o),"%");return(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i}),children:function(e){return(0,r.jsxs)("div",Vne(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Hne(e,t,n[t])}))}return e}({className:Bne().wrapper,role:"progressbar","aria-label":Q.Z.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:i})},e),{children:[(0,r.jsxs)("svg",{viewBox:"25 25 50 50",className:Bne().svg,"aria-hidden":!0,children:[(0,r.jsx)("circle",{className:Bne().background,cx:"50",cy:"50",r:20}),(0,r.jsx)("circle",{className:Bne().foreground,cx:"50",cy:"50",r:20,stroke:Yne(o),strokeDasharray:zne(o)})]}),(0,r.jsx)("aside",{className:Bne().usageInfo,"aria-hidden":!0,children:i})]}))}})};var Kne=n(108106),qne=n(94093),Xne=n.n(qne);function Qne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jne(e){Jne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Jne(e)}
function ere(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ore(e,t)}function tre(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$ne(e,t,n[t])}))}return e}function nre(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rre(e,t){return!t||"object"!==ire(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ore(e,t){ore=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ore(e,t)}var ire=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function are(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Jne(e);if(t){var o=Jne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rre(this,n)}}var sre=function(e){ere(n,e);var t=are(n);function n(){Qne(this,n);var e
;(e=t.apply(this,arguments)).state={label:void 0,isDefault:null};e.handleStartEditing=function(){var t=e.props,n=t.path,r=t.label,o=t.isDefault;(0,t.onToggleEditing)(n);e.setState({label:r,isDefault:o})};e.handleStopEditing=function(){(0,e.props.onToggleEditing)(null);e.setState({label:void 0,isDefault:null})};e.handleRemoveLocation=function(){(0,l.openModal)((function(t){return(0,r.jsx)(l.ConfirmModal,nre(tre({},t),{header:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:Q.Z.Messages.CANCEL,onConfirm:function(){e.handleStopEditing();(0,Une.iD)(e.props.path)},children:(0,r.jsx)(l.Text,{variant:"text-md/normal",children:Q.Z.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY})}))}))};e.handleSaveChanges=function(){(0,Une.Tb)(e.props.path,{label:null!=e.state.label?e.state.label:e.props.label,isDefault:null!=e.state.isDefault?e.state.isDefault:e.props.isDefault});e.handleStopEditing()}
;e.handleLabelChange=function(t){e.setState({label:t})};e.handleToggleDefault=function(){e.setState({isDefault:!e.state.isDefault})};return e}var o=n.prototype;o.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?(0,r.jsx)(Wne,{total:e.totalKB,used:e.totalKB-e.availableKB}):null};o.renderViewing=function(){var e,t,n=this.props,o=n.path,i=n.label,a=n.editingPath,s=n.isDefault,c=n.metadata;if(null!=c){e=null!=c.availableKB?(0,Ste.BU)(c.availableKB,{useKibibytes:!0}):null;t=null!=c.totalKB?(0,Ste.BU)(c.totalKB,{useKibibytes:!0}):null}return(0,r.jsxs)(jg.Z,{className:Xne().installationPath,align:jg.Z.Align.CENTER,children:[this.renderDiskUsageCircle(),(0,r.jsxs)(jg.Z,{direction:jg.Z.Direction.VERTICAL,className:Xne().descriptionWrapper,children:[(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[(0,r.jsx)(l.Heading,{className:Xne().rowTitle,variant:"heading-md/semibold",children:null!=i?i:Gne.Z.getLabelFromPath(o)}),s?(0,
r.jsx)("span",{className:Xne().defaultIndicator,children:Q.Z.Messages.DEFAULT}):null]}),null!=c&&null!=e&&null!=t?(0,r.jsx)(Kne.Z,{className:Xne().rowBody,hoverText:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t}),children:o}):(0,r.jsx)(l.Text,{className:Xne().rowBody,variant:"text-xs/normal",children:o})]}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,disabled:null!=a,color:l.Button.Colors.PRIMARY,onClick:this.handleStartEditing,children:Q.Z.Messages.EDIT})]})};o.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,o=this.state,i=o.label,a=o.isDefault;return(0,r.jsx)(l.Card,{editable:!0,className:Xne().installationPathEditing,children:(0,r.jsxs)(jg.Z,{children:[this.renderDiskUsageCircle(),(0,r.jsxs)(jg.Z.Child,{children:[(0,r.jsx)(l.FormItem,{title:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME,children:(0,r.jsx)(l.TextInput,{value:i,placeholder:Gne.Z.getLabelFromPath(t),onChange:this.handleLabelChange})}),(0,
r.jsx)(l.FormItem,{title:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:Hg().marginTop20,children:(0,r.jsx)(l.TextInput,{disabled:!0,value:t})}),(0,r.jsx)(l.Checkbox,{type:l.Checkbox.Types.INVERTED,value:null!=a?a:this.props.isDefault,disabled:this.props.isDefault,className:Xne().defaultLocationCheckbox,onChange:this.handleToggleDefault,children:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT}),(0,r.jsx)(l.FormDivider,{className:Xne().separator}),(0,r.jsxs)(jg.Z,{children:[(0,r.jsx)(l.Button,{disabled:n||this.props.isDefault,size:l.Button.Sizes.SMALL,color:l.Button.Colors.RED,look:l.Button.Looks.OUTLINED,onClick:this.handleRemoveLocation,children:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE}),(0,r.jsxs)(jg.Z,{justify:jg.Z.Justify.END,children:[(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,color:l.Button.Colors.PRIMARY,look:l.Button.Looks.LINK,onClick:this.handleStopEditing,children:Q.Z.Messages.CANCEL}),(0,r.jsx)(l.Button,{
disabled:t===this.props.path&&i===this.props.label&&a===this.props.isDefault,size:l.Button.Sizes.SMALL,color:l.Button.Colors.GREEN,onClick:this.handleSaveChanges,children:Q.Z.Messages.SAVE})]})]})]})]})})};o.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()};return n}(o.PureComponent),lre=function(e){ere(n,e);var t=are(n);function n(){Qne(this,n);var e;(e=t.apply(this,arguments)).state={editingPath:null};e.handleAddInstallationLocation=function(){sd.default.showOpenDialog(["openDirectory"]).then((function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,Une.RY)(e[0])}))};e.handleToggleEditing=function(t){e.setState({editingPath:t})};return e}var o=n.prototype;o.componentDidMount=function(){(0,Une.ec)(this.props.installationPaths.map((function(e){return e.path})))};o.render=function(){var e=this,t=this.props,n=t.installationPaths,o=t.installationPathsMetadata,i=t.defaultInstallationPath,a=this.state.editingPath
;return(0,r.jsxs)(l.FormSection,{className:Xne().wrapper,title:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS,children:[n.map((function(t){var n=t.path,s=t.label;return(0,r.jsx)(sre,{path:n,label:s,metadata:o[n],isDefault:i===n,editingPath:a,hasGamesInstalledInPath:Gne.Z.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)})),(0,r.jsx)("div",{className:Xne().buttonRowWrapper,children:(0,r.jsx)(l.Button,{disabled:!ls.FB,onClick:this.handleAddInstallationLocation,size:l.Button.Sizes.SMALL,children:Q.Z.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD})})]})};return n}(o.PureComponent);const cre=s.ZP.connectStores([Gne.Z],(function(){return{installationPaths:Gne.Z.installationPaths,installationPathsMetadata:Gne.Z.installationPathsMetadata,defaultInstallationPath:Gne.Z.defaultInstallationPath}}))(lre);var ure=n(735793),fre=n.n(ure);function dre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pre(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hre(e){hre=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return hre(e)}function Ere(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pre(e,t,n[t])}))}return e}function yre(e,t){return!t||"object"!==_re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mre(e,t){mre=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return mre(e,t)}var _re=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function gre(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=hre(e);if(t){var o=hre(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yre(this,n)}}function bre(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var o=t.map((function(e){var t=e.libraryApplication.getDistributor();return(0,r.jsxs)("div",{className:fre().hiddenLibraryApplication,children:[(0,r.jsxs)(jg.Z,{direction:jg.Z.Direction.VERTICAL,className:fre().hiddenLibraryApplicationContent,children:[(0,r.jsx)("div",{className:fre().applicationName,children:e.libraryApplication.getBranchedName(e.application)}),null!=t?(0,r.jsx)("div",{className:fre().applicationSubText,children:w.EOG[t]}):null]}),(0,r.jsx)(l.Clickable,{className:fre().restoreButton,
onClick:function(){return n(e.libraryApplication)},children:(0,r.jsx)(JI.Z,{className:fre().restoreIcon})})]},e.key)}));return(0,r.jsxs)(l.FormSection,{className:fre().hiddenLibraryApplications,children:[(0,r.jsx)(l.FormTitle,{className:fre().hiddenLibraryApplicationsTitle,children:Q.Z.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL}),o]})}var vre=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&mre(e,t)}(n,e);var t=gre(n);function n(){dre(this,n);var e;(e=t.apply(this,arguments)).handleRestoreHiddenLibraryApplication=function(t){var n=_d.x9(t.getFlags(),w.eHb.HIDDEN);Zne.h(t.id,t.branchId,n);e.trackRestoreApplication(t,_d.yE(n,w.eHb.HIDDEN))};return e}var i=n.prototype;i.handleToggleShortcutDesktop=function(e){Da.Xc.updateSetting(e)};i.handleToggleShortcutStartMenu=function(e){
Da.Pe.updateSetting(e)};i.trackRestoreApplication=function(e,t){Oe.default.track(w.rMx.APPLICATION_SETTINGS_UPDATED,Ere({hidden_enabled:t},e.getAnalyticsData()))};i.renderBody=function(){var e=this.props,t=e.hiddenLibraryApplicationViewItems,n=e.installShortcutDesktop,i=e.installShortcutStartMenu;return(0,r.jsxs)("div",{className:fre().body,children:[(0,Il.Q)()?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.FormSwitch,{value:n,onChange:this.handleToggleShortcutDesktop,note:Q.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE,children:Q.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP}),(0,r.jsx)(l.FormSwitch,{value:i,onChange:this.handleToggleShortcutStartMenu,note:Q.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE,children:Q.Z.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU}),(0,r.jsx)(cre,{})]}):null,(0,r.jsx)(bre,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:t})]})};i.render=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(pee,{currentRoute:w.Z5c.APPLICATION_LIBRARY_SETTINGS}),(0,r.jsx)(l.ScrollerAuto,{className:fre().scroller,children:this.renderBody()})]})};return n}(o.PureComponent);function Ore(){var e={installShortcutDesktop:Da.Xc.useSetting(),installShortcutStartMenu:Da.Pe.useSetting(),hiddenLibraryApplicationViewItems:(0,s.e7)([Y9.Z],(function(){return Y9.Z.hiddenLibraryApplicationViewItems}))};return(0,r.jsx)(vre,Ere({},e))}var Ire=n(998854),Sre=n.n(Ire);function Tre(){return(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(TI.Z,{path:w.Z5c.APPLICATION_LIBRARY_SETTINGS,exact:!0,children:(0,r.jsxs)(D$.Z,{page:w.ZY5.LIBRARY_SETTINGS,root:!0,children:[(0,r.jsx)(GO.yY,{subsection:Q.Z.Messages.SETTINGS}),(0,r.jsx)(Ore,{})]})}),(0,r.jsx)(TI.Z,{path:w.Z5c.APPLICATION_LIBRARY,children:(0,r.jsxs)(D$.Z,{page:w.ZY5.LIBRARY,root:!0,children:[(0,r.jsx)(GO.yY,{subsection:Q.Z.Messages.APPLICATION_LIBRARY_MY_GAMES}),(0,r.jsx)(Dne,{})]})})]})}function Nre(){o.useEffect((function(){(0,VX.e)("application_library")}),[])
;return(0,r.jsxs)("div",{className:Sre().container,children:[(0,r.jsx)(GO.yY,{location:Q.Z.Messages.LIBRARY}),(0,r.jsx)(Tre,{})]})}const Cre=o.memo(Nre);var Are=n(868844);var Pre=(0,it.B)({kind:"user",id:"2021-11_discovery_tags",label:"Discovery Tags",defaultConfig:{shouldDisplayTags:!1,shouldDisplayRecommendedSearchTags:!1},treatments:[{id:1,label:"Show keyword tags on home and search result pages",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!1}},{id:2,label:"Show keyword tags on home and search result pages and under the search bar",config:{shouldDisplayTags:!0,shouldDisplayRecommendedSearchTags:!0}}]}),Rre=n(64672),jre=n(218767),Mre=n(819633),wre=n(288634),xre=n(549069),Lre=n(935576),Dre=n(857012),Zre=n.n(Dre);function Ure(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gre(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kre(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gre(e,t,n[t])}))}return e}function Bre(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hre(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ure(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ure(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vre=["egirl","egirls","waifu","dating","nsfw","sex","playboy","stupid","harem","playgirl","shitcoin","shitpost","porno","nudes","sexy","horny","fart","tits","balls","cum"],Fre=function(e){var t=e.text,n=e.onClick,o=e.className,i=e.hide;return(0,r.jsx)("li",{className:ze()(Zre().tag,o,Gre({},Zre().hide,i)),children:(0,
r.jsx)(l.Clickable,{className:Zre().tagText,onClick:function(e){e.stopPropagation();e.preventDefault();n(e)},children:t})})},Yre=function(e){var t=e.tags,n=e.onTagClick,i=e.guildId,a=e.section;o.useEffect((function(){Oe.default.track(w.rMx.OPEN_POPOUT,{type:"Discovery Tags Overflow",guild_id:i,location:{page:w.ZY5.GUILD_DISCOVERY,section:a}})}),[i,a]);return(0,r.jsx)(l.Dialog,{className:Zre().overflowTagsPopout,children:(0,r.jsx)("ul",{children:t.map((function(e){return(0,r.jsx)(Fre,{onClick:function(){return n(e)},className:Zre().tagAlt,text:e},e)}))})})},zre=function(e){var t=e.className,n=e.count;return(0,r.jsx)(l.Popout,{renderPopout:function(){return(0,r.jsx)(Yre,kre({},e))},position:"right",align:"top",closeOnScroll:!0,children:function(e){return(0,r.jsx)(Fre,Bre(kre({className:t},e),{text:"+".concat(n)}))}})},Wre={DEFAULT:Zre().tagDefault,LIGHT:Zre().tagLight,ALT:Zre().tagAlt},Kre=function(e){
var t=e.tags,n=e.onTagClick,i=e.className,a=e.discoveryTagStyle,s=void 0===a?Wre.DEFAULT:a,l=e.hideOverflow,c=void 0!==l&&l,u=e.guildId,f=e.section,d=(0,jI.Z)(),p=d.ref,h=d.width,E=Hre(o.useState(null),2),y=E[0],m=E[1],_=t.filter((function(e){return!Vre.includes(e.toLowerCase())}));o.useLayoutEffect((function(){if(null!=p.current&&null!=h&&0!==h){for(var e=0,t=0,n=h-40-4,r=0;r<_.length;r++){t+=p.current.children[r].clientWidth+4;if(r===_.length-1?t>n+40:t>n)break;e++}m((function(t){return e<=_.length?e:t}))}}),[h,p,_]);return(0,r.jsxs)("ul",{ref:p,className:ze()(Zre().tagContainer,i,Gre({},Zre().invisible,null==y)),children:[_.map((function(e,t){return(0,r.jsx)(Fre,{className:s,onClick:function(){return n(e)},hide:null!=y&&t>=y,text:e},e)})),!c&&null!=y&&y<_.length&&(0,r.jsx)(zre,{className:s,onTagClick:n,tags:_.slice(y),count:_.length-y,guildId:u,section:f})]})},qre=n(584656),Xre=n(668159),Qre=n(473444),$re=n(734897),Jre=n.n($re);function eoe(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function toe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function noe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function roe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ooe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eoe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eoe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ioe=function(e){
var t=e.guild,n=ooe(o.useState(!1),2),i=n[0],a=n[1],s=o.useCallback((function(){return a(!0)}),[a]),c=o.useCallback((function(){return a(!0)}),[a]);return(0,r.jsx)("div",{className:ze()(Jre().actionButtonsContainer,toe({},Jre().forceButtonsShow,i)),children:(0,r.jsx)(Xre.ZP,{children:(0,r.jsx)(Qre.GuildDiscoveryMenuPopout,{onRequestOpen:s,onRequestClose:c,guild:t,children:function(e){var t=e.onClick,n=roe(e,["onClick"]);return(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.MORE,hideOnClick:!0,children:function(e){var o=e.onClick,i=roe(e,["onClick"]);return(0,r.jsx)(Xre.zx,noe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){toe(e,t,n[t])}))}return e}({},n,i),{onClick:function(e){e.stopPropagation();null==o||o();t(e)},
"aria-label":Q.Z.Messages.MORE,children:(0,r.jsx)(Ur.Z,{className:Jre().overflowIcon})}))}})}})})})};var aoe=n(475196),soe=n.n(aoe),loe=n(348833),coe=n.n(loe);function uoe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function foe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function doe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){foe(i,r,o,a,s,"next",e)}function s(e){foe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function poe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hoe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Eoe(e){Eoe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Eoe(e)}function yoe(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hoe(e,t,n[t])}))}return e}function moe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _oe(e,t){return!t||"object"!==boe(t)&&"function"!=typeof t?uoe(e):t}function goe(e,t){goe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return goe(e,t)}var boe=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function voe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Eoe(e);if(t){var o=Eoe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _oe(this,n)}}var Ooe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ioe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&goe(e,t)}(o,e);var t=voe(o);function o(){poe(this,o);var e;(e=t.apply(this,arguments)).state={loaded:!1,hasBeenSeen:!1,isVisible:!1,submitting:!1};var i=uoe(e)
;e.handleClickView=function(){var e=doe((function(e){var t,n,r;return Ooe(this,(function(o){switch(o.label){case 0:if(e.target.className.includes("Menu"))return[2];t=i.props,n=t.onView,r=t.guild;e.stopPropagation();i.setState({submitting:!0});o.label=1;case 1:o.trys.push([1,,4,5]);return null!=n?[4,n(r.id)]:[3,3];case 2:o.sent();o.label=3;case 3:return[3,5];case 4:i.setState({submitting:!1});return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.handleVisibilityChange=function(t){var n=e.props,r=n.onGuildCardSeen,o=n.guild;if(null!=o&&!e.state.hasBeenSeen&&t){e.setState({hasBeenSeen:t});null!=r&&r(o.id)}};e.handleContextMenu=function(t){var o=uoe(e);(0,xI.jW)(t,doe((function(){var e,t;return Ooe(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,473444))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,moe(yoe({},e),{guild:o.props.guild}))}]}}))})))};e.setIsVisible=function(t){e.setState({isVisible:t
})};return e}var i=o.prototype;i.getDefaultSplashURL=function(e,t){if(t)return coe();switch(e){case w.BRd.DARK:return Zo();case w.BRd.LIGHT:return Go()}};i.render=function(){var e,t=this,n=this.props,o=n.guild,i=n.className,a=n.theme,s=n.onTagClick,c=this.state,u=c.loaded,f=c.hasBeenSeen,d=c.isVisible,p=c.submitting,h=o.name,E=o.description,y=o.presenceCount,m=o.memberCount,_=o.keywords,g=null===(e=o.features)||void 0===e?void 0:e.has(w.oNc.HUB),b=rn.ZP.getGuildDiscoverySplashURL({id:o.id,splash:o.discoverySplash,size:300*(0,Po.x_)()}),v=null!=b?b:this.getDefaultSplashURL(a,g),O=rn.ZP.getGuildIconURL({id:o.id,icon:o.icon,size:40});Pre.trackExposure({});var I=Pre.getCurrentConfig({},{autoTrackExposure:!1}).shouldDisplayTags,S=qre.N.getCurrentConfig({},{autoTrackExposure:!1}).canSeeInAppReportingButtons;qre.N.trackExposure({});var T,N,C=Da.Sb.getSetting()||S;return(0,r.jsx)(Lre.$,{active:!d,onChange:this.setIsVisible,threshold:.1,children:d?(0,r.jsx)(Lre.$,{
onChange:this.handleVisibilityChange,active:!f,threshold:.55,children:(0,r.jsxs)("div",{className:ze()(i,(T={},hoe(T,soe().loaded,u),hoe(T,soe().loading,!u),T)),children:[p?(0,r.jsx)(l.Spinner,{type:l.Spinner.Type.PULSING_ELLIPSIS,className:soe().spinner}):null,(0,r.jsxs)(l.Clickable,{onClick:this.handleClickView,className:ze()(soe().card,(N={},hoe(N,soe().submitting,p),hoe(N,soe().cardWithTags,I),N)),onContextMenu:this.handleContextMenu,children:[(0,r.jsxs)("div",{className:soe().cardHeader,children:[(0,r.jsx)("div",{className:soe().splash,children:(0,r.jsx)("img",{src:v,alt:"",className:ze()(soe().splashImage,hoe({},soe().splashImageHeight,!g)),onLoad:function(){return t.setState({loaded:!0})}})}),C?(0,r.jsx)("div",{className:soe().actionButtons,children:(0,r.jsx)(ioe,{guild:o})}):null,(0,r.jsx)("div",{className:soe().guildIcon,children:(0,r.jsx)(an.ZP,{mask:an.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{className:soe().iconMask,children:(0,r.jsx)(an.ZP,{
mask:an.ZP.Masks.SQUIRCLE,width:40,height:40,children:(0,r.jsx)("img",{src:O,alt:"",className:soe().avatar})})})})})]}),(0,r.jsxs)("div",{className:soe().guildInfo,children:[(0,r.jsxs)("div",{className:soe().title,children:[(0,r.jsx)(jo.Z,{className:soe().guildBadge,guild:o,tooltipColor:l.Tooltip.Colors.PRIMARY}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:soe().guildName,children:h})]}),(0,r.jsx)(l.Text,{className:soe().description,variant:"text-sm/normal",color:"header-secondary",children:E}),I&&null!=_&&null!=s&&(0,r.jsx)(Kre,{tags:_,onTagClick:function(e){return s(e,o.id)},guildId:o.id,section:Br.P1.POPULAR}),(0,r.jsxs)("div",{className:soe().memberInfo,children:[null!=y&&(0,r.jsxs)("div",{className:soe().memberCount,children:[(0,r.jsx)("div",{className:soe().dotOnline}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:Q.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:y})})]}),null!=m&&(0,r.jsxs)("div",{
className:soe().memberCount,children:[(0,r.jsx)("div",{className:soe().dotOffline}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:Q.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:m})})]})]})]})]})]})}):(0,r.jsx)("div",{className:ze()(soe().card,hoe({},soe().cardWithTags,I))})})};return o}(o.PureComponent);Ioe.Placeholder=function(e){return(0,r.jsx)("div",{className:ze()(e.className,soe().cardPlaceholder)})};const Soe=Ioe;function Toe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Noe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Toe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Toe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Coe=n(259906),Aoe=n.n(Coe);function Poe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var Roe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},joe=[[1696,20],[1432,16],[1168,12],[0,8]],Moe=[[1696,30],[1432,24],[1168,18],[0,12]];const woe=function(e){
var t=e.title,n=e.subtitle,i=e.guildsData,a=e.analyticsContext,s=e.theme,c=e.onViewGuild,u=e.fetchGuilds,f=e.onGuildCardSeen,d=e.currentCategoryId,p=e.loadId,h=e.onTagClick,E=e.showMoreCards,y=void 0!==E&&E;o.useEffect((function(){b.Z.wait((function(){return u()}))}),[d]);var m=function(e){var t=Noe(o.useState(0),2),n=t[0],r=t[1],i=o.useCallback((function(){var t=window.innerWidth,n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=Noe(a.value,2),c=l[0],u=l[1];if(t>=c){r(u);return}}}catch(e){o=!0;i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}),[e]);o.useEffect((function(){i()}),[i]);o.useEffect((function(){window.addEventListener("resize",i);return function(){window.removeEventListener("resize",i)}}));return n}(y?Moe:joe),_=(0,XB.Z)().analyticsLocations;if(null==i)return null;var g=i.guilds,v=i.loading,O=null==g||0===g.length;if(!v&&O)return null;var I,S=function(){var e,t=(e=function(e){var t;return Roe(this,(function(n){
switch(n.label){case 0:if(!(0,wre.yU)())return[3,1];(0,xre.Z)({analyticsSource:{page:w.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:w.ZY5.GUILD_DISCOVERY,section:w.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:_});return[3,3];case 1:t=g.findIndex((function(t){return t.id===e}));return[4,c(e,t,a,p)];case 2:n.sent();n.label=3;case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Poe(i,r,o,a,s,"next",e)}function s(e){Poe(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(v||null==g){for(var T=[],N=0;N<m;N++)T.push((0,r.jsx)(Soe.Placeholder,{},N));I=T}else I=g.slice(0,m).map((function(e){return(0,r.jsx)(Soe,{className:Aoe().guildCard,guild:e,onView:S,theme:s,onGuildCardSeen:f,onTagClick:h},e.id)}));return(0,r.jsx)("section",{className:Aoe().guildListSection,children:(0,r.jsxs)(l.HeadingLevel,{component:(0,r.jsx)(l.Heading,{className:Aoe().title,variant:"heading-lg/semibold",
children:t}),children:[null!=n&&(0,r.jsx)(l.Text,{className:Aoe().subtitle,variant:"text-sm/normal",color:"header-secondary",children:n}),(0,r.jsx)("div",{className:Aoe().guildList,children:I})]})})};function xoe(e){xoe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xoe(e)}function Loe(e,t){return!t||"object"!==Zoe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Doe(e,t){Doe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Doe(e,t)}var Zoe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Uoe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){
return!1}}();return function(){var n,r=xoe(e);if(t){var o=xoe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Loe(this,n)}}var Goe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Doe(e,t)}(n,e);var t=Uoe(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handlePageChange=function(e){var t=r.props.onPageChange;r.setState({currentPage:e});null!=t&&t(e)};var o=(0,K.s1)().location.search,i=(null!=o&&o.length>0&&o.startsWith("?")?Sh.parse(o):{}).offset,a=null!=i?Math.floor(parseInt(i,10)/e.pageSize)+1:1;r.state={currentPage:a};return r}var o=n.prototype;o.componentDidUpdate=function(e){var t=this.props.resetCurrentPage;!e.resetCurrentPage&&t&&this.setState({currentPage:1})}
;o.render=function(){var e=this.props,t=e.totalCount,n=e.pageSize,o=e.maxVisiblePages,i=e.children,a=this.state.currentPage;return i({controller:(0,r.jsx)(l.Paginator,{totalCount:t,pageSize:n,currentPage:a,maxVisiblePages:o,onPageChange:this.handlePageChange})})};return n}(o.PureComponent);const koe=Goe;var Boe=n(638057),Hoe=n(340974),Voe=n(594697),Foe=n(325971),Yoe=n.n(Foe);function zoe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Woe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Koe(e){Koe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Koe(e)}function qoe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Xoe(e,t){return!t||"object"!==Joe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qoe(e,t){Qoe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Qoe(e,t)}function $oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zoe(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zoe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Joe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function eie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Koe(e);if(t){var o=Koe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xoe(this,n)}}var tie=Ke().throttle(Br.c6,1e3,{leading:!1,
trailing:!0}),nie=function(e){var t=e.isSelected,n=e.onCategoryChange,o=e.categoryId,i=e.name,a=e.count;return(0,r.jsx)(l.Clickable,{onClick:function(){return n(o)},className:ze()(Yoe().categoryPill,Woe({},Yoe().selected,t)),children:(0,r.jsx)(l.Text,{className:Yoe().categoryLabel,variant:"text-sm/normal",children:null!=a?"".concat(i," (").concat(a,")"):i})})},rie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Qoe(e,t)}(n,e);var t=eie(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._searchRef=o.createRef();r.canSearch=function(e){return e.trim().length>=2&&!(0,Boe.x)(e)};r.doSearch=function(e,t,n,o){var i,a=r.props,s=a.defaultLanguage,l=a.currentCategoryId,c=r.state,u=c.query,f=c.selectedLanguage,d={
approximate_member_count:Br.sq};o&&o4.G7(u,d);r.setState({searchId:(0,Rre.P)(),queryHasChanged:!1,isSearching:!0});o4.bR(u,{categoryId:null==n?l:n,preferredLocale:null!==(i=null==f?void 0:f.code)&&void 0!==i?i:s.code,offset:e,length:t,filters:d})};r.handleSearchBlurred=function(e){var t=r.props.onSearchBlur;r.setState({inputFocused:!1});null==t||t()};r.handleSearchKeyPress=function(e){var t=r.state,n=t.query,o=t.queryHasChanged,i=r.props,a=i.loadId,s=i.currentCategoryId,l=s!==Voe.Hk?s:null;if(r.canSearch(n)&&o&&e.charCode===w.yXg.ENTER){Br.tI(a,l);r.doSearch(0,12,void 0,!0)}else 0===n.length&&e.charCode===w.yXg.ENTER&&r.setState({isSearching:!1})};r.handleQueryChanged=function(e){r.setState({query:e,queryHasChanged:!0})};r.handleQueryCleared=function(){r.setState({query:"",queryHasChanged:!0,isSearching:!1})};r.handleLanguageChange=function(e){var t=r.props,n=t.mostRecentQuery,o=t.availableLanguages,i=null==o?void 0:o.find((function(t){return t.name===e}));r.setState({
selectedLanguage:i},(function(){r.canSearch(n)&&r.doSearch(0,12)}))};r.handleCategoryChange=function(e){var t=r.props.mostRecentQuery;o4.uY(e);r.canSearch(t)&&r.doSearch(0,12,e)};r.handleFocus=function(){var e=r.props.onSearchFocus;r.setState({inputFocused:!0});null==e||e()};r.focusInput=function(){var e;null===(e=r._searchRef.current)||void 0===e||e.focus()};r.state={searchId:(0,Rre.P)(),query:e.isSearchPage?e.mostRecentQuery:"",queryHasChanged:!1,isSearching:!1,selectedLanguage:e.defaultLanguage,inputFocused:!1,isHandlingTagSearch:e.isTagSearch||!1};return r}var i=n.prototype;i.componentDidMount=function(){var e=this.props,t=e.loadId,n=e.searchResults,r=e.currentCategoryId,o=this.state,i=o.searchId,a=o.query,s=o.isHandlingTagSearch,l=this.context;null==Hoe.ZP.getSearchIndex()&&o4.Ue();zh.S.subscribe(w.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);zh.S.subscribe(w.CkL.TEXTAREA_FOCUS,this.focusInput);if(a.length>0){var c=r!==Voe.Hk?r:null;tie({loadId:t,searchId:i,query:a,
guildResults:n.guilds,analyticsContext:l,categoryId:c,isTagSearch:s})}};i.componentDidUpdate=function(e,t){var n=this.props,r=n.loadId,o=n.isFetchingSearch,i=n.searchResults,a=n.currentCategoryId,s=n.mostRecentQuery,l=this.state,c=l.isSearching,u=l.searchId,f=l.query,d=l.isHandlingTagSearch,p=this.context,h=e.isFetchingSearch&&!o,E=a!==Voe.Hk?a:null;if((c||d)&&h){tie({loadId:r,searchId:u,query:f,guildResults:i.guilds,analyticsContext:p,categoryId:E,isTagSearch:d});this.setState({isHandlingTagSearch:!1})}!t.isSearching&&c&&Br.tI(r,E,p);e.mostRecentQuery!==s&&this.setState({query:s,searchId:(0,Rre.P)(),isHandlingTagSearch:!0})};i.componentWillUnmount=function(){zh.S.unsubscribe(w.CkL.GLOBAL_CLIPBOARD_PASTE,this.focusInput);zh.S.unsubscribe(w.CkL.TEXTAREA_FOCUS,this.focusInput)};i.renderSearchOptions=function(){var e=this.props.availableLanguages,t=this.state.selectedLanguage;if(null==e)return null;var n,o=e.map((function(e){var t=e.name;return{label:t,value:t}}));return(0,
r.jsx)(l.SingleSelect,{className:Yoe().languageSelector,options:o,value:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",onChange:this.handleLanguageChange,maxVisibleItems:6})};i.renderCategories=function(){var e=this,t=this.props,n=t.currentCategoryId,o=t.countsByCategory;return(0,r.jsx)("div",{className:Yoe().categories,children:null==o?void 0:o.map((function(t){var o=$oe(t,2),i=o[0],a=o[1];return(0,r.jsx)(nie,{categoryId:i,name:i===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_ALL_CATEGORY_FILTER:Mre.Z.getCategoryName(i),onCategoryChange:e.handleCategoryChange,isSelected:n===i,count:a},i)}))})};i.render=function(){var e=this.state,t=e.query,n=e.inputFocused,o=this.props,i=o.placeholder,a=o.isSearchPage;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ze()(Yoe().container,Woe({},Yoe().searchPage,a)),children:[(0,r.jsx)("div",{className:Yoe().search,children:(0,r.jsx)(Kn.Z,{ref:this._searchRef,searchTerm:t,className:a?void 0:Yoe().searchBox,
inputClassName:a?void 0:Yoe().searchBoxInput,closeIconClassName:a?void 0:Yoe().closeIcon,searchIconClassName:a?void 0:Yoe().searchIcon,label:Q.Z.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:i,onChange:this.handleQueryChanged,onClear:this.handleQueryCleared,onFocus:this.handleFocus,onBlur:this.handleSearchBlurred,onKeyPress:this.handleSearchKeyPress,autoFocus:!a,cta:n&&null!=t&&t.length>1?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})}),a?this.renderSearchOptions():null]}),a?this.renderCategories():null]})};return n}(o.PureComponent);rie.contextType=Oe.AnalyticsContext;function oie(e){var t=(0,s.e7)([Mre.Z],(function(){return Mre.Z.getDiscoveryCategories()}),[],Mre.j),n=(0,s.e7)([Hoe.ZP],(function(){return Hoe.ZP.getTopCategoryCounts(e.mostRecentQuery)}));return(0,r.jsx)(rie,qoe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Woe(e,t,n[t])}))}return e}({},e),{categories:t,countsByCategory:n}))}var iie=n(993665),aie=n.n(iie);function sie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lie(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function cie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lie(i,r,o,a,s,"next",e)}function s(e){lie(i,r,o,a,s,"throw",e)}a(void 0)}))}}function uie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function die(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var hie=function(){return(0,r.jsx)("div",{className:aie().placeholder})};const Eie=function(e){var t,i=e.guild,a=e.theme,s=e.onView,c=e.onTagClick,u=i.id,f=i.discoverySplash,d=i.icon,p=i.name,h=i.description,E=i.presenceCount,y=i.memberCount,m=i.keywords,_=die(o.useState(!1),2),g=_[0],b=_[1],v=die(o.useState(!1),2),O=v[0],I=v[1],S=(0,XB.Z)().analyticsLocations,T=rn.ZP.getGuildDiscoverySplashURL({id:u,splash:f,size:240*(0,Po.x_)()}),N=null!=T?T:function(e){switch(e){case w.BRd.DARK:return Zo();case w.BRd.LIGHT:return Go()}}(a),C=null!==(t=rn.ZP.getGuildIconURL({id:u,icon:d,size:32
}))&&void 0!==t?t:void 0,A=function(){var e=cie((function(e){return pie(this,(function(t){switch(t.label){case 0:if(e.target.className.includes("Menu"))return[2];if((0,wre.yU)()){(0,xre.Z)({analyticsSource:{page:w.ZY5.GUILD_DISCOVERY},analyticsLocation:{page:w.ZY5.GUILD_DISCOVERY,section:w.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:S});return[2]}I(!0);t.label=1;case 1:t.trys.push([1,,4,5]);return null!=s?[4,s(i.id)]:[3,3];case 2:t.sent();t.label=3;case 3:return[3,5];case 4:I(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();o.useEffect((function(){return Pre.trackExposure({})}));var P,R=Pre.useExperiment({},{autoTrackExposure:!1}).shouldDisplayTags,j=(0,qre.I)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:aie().card,children:[O?(0,r.jsx)(l.Spinner,{type:l.Spinner.Type.PULSING_ELLIPSIS,className:aie().spinner}):null,(0,r.jsxs)(l.Clickable,{className:ze()(aie().container,(P={},uie(P,aie().hover,g),
uie(P,aie().submitting,O),P)),onClick:A,onContextMenu:function(e){(0,xI.jW)(e,cie((function(){var e,t;return pie(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,473444))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,fie(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uie(e,t,n[t])}))}return e}({},e),{guild:i}))}]}}))})))},onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[(0,r.jsx)("div",{className:ze()(aie().splashContainer,uie({},aie().splashContainerWithTags,R)),children:(0,r.jsx)("img",{src:N,alt:"",className:aie().splashImage,width:240})}),(0,r.jsxs)("div",{className:ze()(aie().content,uie({},aie().contentWithTags,R)),children:[(0,
r.jsxs)("div",{className:aie().header,children:[(0,r.jsx)(an.ZP,{mask:an.ZP.Masks.SQUIRCLE,width:32,height:32,children:(0,r.jsx)("img",{src:C,alt:"",className:aie().avatar})}),(0,r.jsxs)("div",{className:aie().headerName,children:[(0,r.jsx)("div",{children:(0,r.jsx)(jo.Z,{guild:i,className:aie().guildBadge,size:16})}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:aie().headerTitle,children:p})]})]}),(0,r.jsx)(l.Text,{className:aie().description,variant:"text-sm/normal",children:h}),R&&null!=m&&null!=c&&(0,r.jsx)(Kre,{guildId:i.id,discoveryTagStyle:Wre.ALT,onTagClick:function(e){return c(e,i.id)},tags:m,section:Br.P1.SEARCH}),(0,r.jsxs)("div",{className:aie().memberInfo,children:[null!=E&&(0,r.jsx)("div",{className:aie().memberCount,children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:Q.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:E})})}),null!=y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{
className:aie().dotSeparator}),(0,r.jsx)("div",{className:aie().memberCount,children:(0,r.jsx)(l.Text,{variant:"text-xs/normal",color:"header-secondary",children:Q.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:y})})})]})]})]}),j?(0,r.jsx)("div",{className:aie().actionButtons,children:(0,r.jsx)(ioe,{guild:i})}):null]})]}),(0,r.jsx)("hr",{className:aie().separator})]})};var yie=n(968370),mie=n.n(yie);function _ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gie(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function bie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gie(i,r,o,a,s,"next",e)}function s(e){gie(i,r,o,a,s,"throw",e)}a(void 0)}))}}function vie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oie(e){
Oie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Oie(e)}function Iie(e,t){return!t||"object"!==Tie(t)&&"function"!=typeof t?_ie(e):t}function Sie(e,t){Sie=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Sie(e,t)}var Tie=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Nie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Oie(e);if(t){var o=Oie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iie(this,n)}}var Cie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Aie=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Sie(e,t)}(n,e);var t=Nie(n);function n(){vie(this,n);var e,o=_ie(e=t.apply(this,arguments));e.handleViewGuild=function(){var e=bie((function(e){var t,n,r,i,a;return Cie(this,(function(s){switch(s.label){case 0:t=o.props,n=t.guilds,r=t.analyticsContext,i=t.onViewGuild;a=n.findIndex((function(t){return t.id===e}));return[4,i(e,a,r)];case 1:s.sent();return[2]}}))}));return function(t){return e.apply(this,arguments)}}();e.renderGuild=function(t,n){var o=e.props,i=o.theme,a=o.onTagClick;return(0,r.jsx)(Eie,{guild:t,theme:i,onView:e.handleViewGuild,onTagClick:a},n)};return e}var o=n.prototype;o.renderPlaceholders=function(){for(var e=this.props.loadingPlaceholderCount,t=[],n=0;n<e;n++)t.push((0,r.jsx)(hie,{},n));return t};o.render=function(){var e=this,t=this.props,n=t.guilds,o=t.loading
;return(0,r.jsx)(RA.Spring,{from:{opacity:o?0:1},to:{opacity:1},delay:100,children:function(t){return(0,r.jsx)(RA.animated.div,{className:mie().guildList,style:t,children:o||null==n?e.renderPlaceholders():n.map(e.renderGuild)})}})};return n}(o.PureComponent);Aie.defaultProps={loadingPlaceholderCount:12};const Pie=Aie;var Rie=n(171659),jie=n.n(Rie);function Mie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xie=12,Lie=function(){var e=(0,K.s1)().location.search;return null!=e&&e.length>0&&e.startsWith("?")?Sh.parse(e):{}},Die=function(e){var t=e.categoryId,n=e.categoryName,o=e.onClick,i=t===Voe.Hk,a=i?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_HEADER:Q.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_HEADER.format({categoryName:n}),s=i?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_BODY:Q.Z.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_CATEGORY_BODY.format({onClick:o});return(0,r.jsxs)("div",{className:jie().emptyContainer,children:[(0,r.jsx)("div",{className:jie().emptyImage}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",
className:jie().emptyHeader,children:a}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",children:s})]})},Zie=function(){return(0,r.jsxs)("div",{className:jie().emptyContainer,children:[(0,r.jsx)("div",{className:jie().errorImage}),(0,r.jsx)(l.Text,{variant:"text-md/normal",color:"header-secondary",className:jie().emptyHeader,children:Q.Z.Messages.GUILD_DISCOVERY_SEARCH_ERROR})]})};const Uie=function(e){var t=e.loadId,n=e.searchResults,i=e.mostRecentQuery,a=e.defaultLanguage,c=e.availableLanguages,u=e.isFetchingSearch,f=e.scroller,d=e.loadingGuildId,p=e.theme,h=e.currentCategoryId,E=e.currentCategoryName,y=e.onViewGuild,m=e.onGuildCardSeen,_=e.placeholder,g=e.onTagClick,b=Ke().uniqueId("GuildDiscovery"),v=n.guilds,O=n.loading,I=n.total,S=wie(o.useState(!1),2),T=S[0],N=S[1],C=Lie().tag,A=wie(o.useState(C),2),P=A[0],R=A[1],j=(0,s.e7)([Hoe.ZP],(function(){return Hoe.ZP.hasSearchError()})),M=function(e,t,n){o4.bR(i,{categoryId:n?Voe.Hk:h,preferredLocale:a.code,offset:e,
length:t,filters:{approximate_member_count:Br.sq}});N(!1)};o.useEffect((function(){var e=Lie(),t=e.offset,n=e.tag,r=null!=t?Math.floor(parseInt(t,10)/xie)+1:1;R(!!n);1===r&&N(!0)}),[i]);var w=h===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_HEADER.format({count:null!=I?I.toLocaleString():"0",query:i}):Q.Z.Messages.GUILD_DISCOVERY_SEARCH_RESULTS_CATEGORY_HEADER.format({count:null!=I?I.toLocaleString():"0",query:i,category:E});return(0,r.jsxs)("div",{className:jie().container,children:[(0,r.jsxs)("div",{className:jie().searchHeader,children:[(0,r.jsx)(l.Clickable,{onClick:function(){o4.AQ();Br.IZ(t)},className:jie().arrow,"aria-label":Q.Z.Messages.BACK,children:(0,r.jsx)(nt.Z,{direction:nt.Z.Directions.LEFT})}),(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:jie().header,children:w})]}),(0,r.jsx)(oie,{loadId:t,searchResults:n,mostRecentQuery:i,isFetchingSearch:u,defaultLanguage:a,placeholder:_,availableLanguages:c,isSearchPage:!0,currentCategoryId:h,isTagSearch:P
}),j?(0,r.jsx)(Zie,{}):I<=0?(0,r.jsx)(Die,{categoryId:h,categoryName:E,onClick:function(){o4.uY(Voe.Hk);M(0,xie,!0)}}):(0,r.jsx)("div",{className:jie().results,children:(0,r.jsx)(koe,{pageSize:xie,totalCount:I,resetCurrentPage:T,onPageChange:function(e){M((e-1)*xie,xie);null==f||f.scrollTo({to:0})},children:function(e){var t=e.controller;return(0,r.jsxs)("section",{"aria-labelledby":b,children:[(0,r.jsx)(Pie,{guilds:v,loading:O,loadingPlaceholderCount:xie,onViewGuild:y,loadingGuildId:d,theme:p,analyticsContext:Br.P1.SEARCH,onGuildCardSeen:m,onTagClick:g}),t]})}})})]})};var Gie=n(116433);function kie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hie=n(928130),Vie=n.n(Hie);function Fie(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Yie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fie(i,r,o,a,s,"next",e)}function s(e){Fie(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Wie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const Kie=function(e){var t=e.hasHub;return(0,r.jsxs)("div",{className:Vie().container,children:[(0,r.jsx)("div",{className:Vie().iconContainer,children:(0,r.jsx)("div",{className:Vie().icon})}),(0,r.jsx)(l.Text,{color:"header-primary",variant:"text-lg/semibold",className:Vie().header,children:t?Q.Z.Messages.HUB_EMAIL_CONNECTION_ADD_HEADER:Q.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_HEADER}),(0,r.jsx)(l.Text,{color:"header-secondary",variant:"text-sm/normal",className:Vie().description,children:t?Q.Z.Messages.HUB_EMAIL_CONNECTION_ADD_DESCRIPTION:Q.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_CARD_DESCRIPTION}),(0,r.jsx)("div",{className:Vie().gap}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.LARGE,color:t?l.Button.Colors.PRIMARY:l.Button.Colors.GREEN,onClick:function(){return(0,l.openModalLazy)(Yie((function(){var e,t;return Wie(this,(function(o){switch(o.label){case 0:
return[4,Promise.resolve().then(n.bind(n,966658))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zie(e,t,n[t])}))}return e}({},e))}]}}))})))},children:(0,r.jsx)(l.Text,{variant:"text-sm/semibold",className:Vie().addButton,color:"none",children:t?Q.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_ANOTHER:Q.Z.Messages.HUB_EMAIL_CONNECTION_JOIN_MY_SCHOOOL})})]})};var qie=n(185874),Xie=n.n(qie);function Qie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qie(e,t,n[t])}))}return e}function Jie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const eae=function(e){var t=e.guilds,n=(0,s.e7)([La.Z],(function(){return La.Z.theme})),o=t.map((function(e){return(0,r.jsx)(Soe,{className:Xie().guildCard,onView:function(){return f.Z.transitionToGuildSync(e.id)},guild:Jie($ie({},e),{presenceCount:void 0,memberCount:void 0,premiumSubscriptionCount:void 0,
emojis:void 0}),theme:n},e.id)}));return(0,r.jsx)("section",{className:Xie().guildListSection,children:t.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Heading,{className:Xie().title,variant:"heading-lg/semibold",children:Q.Z.Messages.YOUR_HUB}),(0,r.jsxs)("div",{className:Xie().guildList,children:[o,(0,r.jsx)(Kie,{hasHub:!0})]})]}):(0,r.jsx)("div",{className:Xie().guildList,children:(0,r.jsx)(Kie,{hasHub:!1})})})};var tae=n(610982),nae=n.n(tae),rae=n(237018),oae=n.n(rae);const iae=function(e){var t=e.loadId,n=(0,s.e7)([In.Z],(function(){var e=In.Z.getGuilds();return Object.entries(e).filter((function(e){var t=Bie(e,2);t[0];return t[1].hasFeature(w.oNc.HUB)})).map((function(e){var t=Bie(e,2);t[0];return t[1]}))}));o.useEffect((function(){(0,Br.Zt)({loadId:t,gamesYouPlayGuilds:[],allGuilds:[],categoryId:Voe.U})}),[t]);(0,GO.Tt)({subsection:Q.Z.Messages.HUB_SCHOOL_HUBS,location:Q.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE});return(0,r.jsx)(l.Scroller,{className:nae().scroller,children:(0,
r.jsxs)("div",{className:nae().viewWrapper,children:[(0,r.jsxs)("div",{className:nae().headerContainer,children:[(0,r.jsx)("img",{alt:"",className:nae().headerImage,src:oae()}),(0,r.jsxs)("div",{className:nae().headerContent,children:[(0,r.jsx)(l.Heading,{className:nae().headerText,variant:"heading-xl/semibold",children:Q.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,r.jsx)(l.Text,{className:nae().headerDescription,variant:"text-md/normal",color:"none",children:Q.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE})]})]}),(0,r.jsx)(eae,{guilds:n}),(0,r.jsx)("div",{className:nae().divider}),(0,r.jsx)(l.Text,{className:nae().footerDescription,variant:"text-md/medium",color:"header-secondary",children:Q.Z.Messages.HUB_DISCOVERY_FOOTER_DESCRIPTION})]})})};var aae=n(575136),sae=n(80210),lae=n.n(sae),cae=n(236481),uae=n.n(cae);function fae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dae(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function pae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dae(i,r,o,a,s,"next",e)}function s(e){dae(i,r,o,a,s,"throw",e)}a(void 0)}))}}function hae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yae(e){yae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return yae(e)}function mae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Eae(e,t,n[t])}))}return e}function _ae(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gae(e,t){return!t||"object"!==vae(t)&&"function"!=typeof t?fae(e):t}function bae(e,t){bae=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return bae(e,t)}var vae=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Oae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=yae(e);if(t){var o=yae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gae(this,n)}}var Iae=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Sae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&bae(e,t)}(n,e);var t=Oae(n);function n(){hae(this,n);var e;(e=t.apply(this,arguments))._scroller=o.createRef();e._guildIdsSeen=new Set;e.loadId=(0,Rre.P)();e.state={animatedValue:new Qu.Z.Value(0),loadingGuildId:null};e.scrollToTop=function(){null!=e._scroller.current&&e._scroller.current.scrollTo({to:0})};e.handleScroll=function(){var t,n,r=e.state.animatedValue,o=null!==(n=null===(t=e._scroller.current)||void 0===t?void 0:t.getScrollerState().scrollTop)&&void 0!==n?n:0;r.setValue(Math.min(1,o/200))};var r=fae(e);e.handleViewGuild=function(){
var e=pae((function(e,t,n,o){var i,a,s,l,c,u,f;return Iae(this,(function(d){switch(d.label){case 0:a=r.props.currentCategoryId;s=r.state.loadingGuildId;if(e===s)return[2];c=null!==(l=null===(i=r._scroller.current)||void 0===i?void 0:i.getScrollerState().scrollTop)&&void 0!==l?l:0;u=(0,K.s1)().location;(0,K.dL)(_ae(mae({},u),{state:c}));r.setState({loadingGuildId:e});f=a!==Voe.Hk?a:null;d.label=1;case 1:d.trys.push([1,3,,4]);return[4,Br.Lq({loadId:null!=o?o:r.loadId,guildId:e,index:t,analyticsContext:n,categoryId:f})];case 2:d.sent();return[3,4];case 3:d.sent();r.setState({loadingGuildId:null});return[3,4];case 4:return[2]}}))}));return function(t,n,r,o){return e.apply(this,arguments)}}();e.handleGuildCardSeen=function(t){e._guildIdsSeen.add(t)};e.handleTagSearch=function(t,n,r){var o=e.props,i=o.currentCategoryId,a=o.defaultLanguage;if(null!=i){var s={approximate_member_count:Br.sq};(0,o4.G7)(t,s);(0,o4.bR)(t,{filters:s,categoryId:i,preferredLocale:a.code,offset:0,length:xie,tag:!0})
;Br.j$(e.loadId,i,r,n);e.scrollToTop()}};return e}var i=n.prototype;i.componentDidMount=function(){var e,t=this.props,n=t.isFetching,r=t.guilds,o=r.gamesYouPlay,i=r.featured,a=t.searchRoute,s=t.currentHomepageCategoryId,l=t.mostRecentQuery;(0,B9.N)();(0,jre.le)();null==Hoe.ZP.getSearchIndex()&&(0,o4.Ue)();b.Z.wait((function(){e=w.x8Z.SERVER_DISCOVERY_BADGE,b.Z.dispatch({type:"VIEW_HISTORY_MARK_VIEW",key:e});var e}));n||0!==l.length||Br.Zt({loadId:this.loadId,gamesYouPlayGuilds:o.guilds,allGuilds:i.guilds,categoryId:s});if(null!=a){var c=Sh.parse(a),u=c.query,f=c.offset,d=c.limit,p=c.preferredLocale,h=c.categoryId;(0,o4.bR)(u,{categoryId:parseInt(h,10),preferredLocale:p,offset:parseInt(f,10),filters:{approximate_member_count:Br.sq},length:parseInt(d,10)})}else null!=s&&s!==Voe.Hk&&b.Z.wait((function(){return(0,o4.uY)(s)}));var E,y=null!==(E=null===(e=(0,K.s1)().location.state)||void 0===e?void 0:e.scrollTop)&&void 0!==E?E:0;if(y>0){var m
;null===(m=this._scroller.current)||void 0===m||m.scrollTo({to:y})}(0,VX.e)("guild_discovery")};i.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=n.gamesYouPlay,o=n.featured,i=t.isFetching,a=t.mostRecentQuery,s=t.currentHomepageCategoryId,l=t.currentCategoryId;e.isFetching&&!i&&Br.Zt({loadId:this.loadId,gamesYouPlayGuilds:r.guilds,allGuilds:o.guilds,categoryId:s});if(e.currentCategoryId!==l){var c;null===(c=this._scroller.current)||void 0===c||c.scrollTo({to:0})}e.currentCategoryId!==l&&Br.Az(this.loadId,Array.from(this._guildIdsSeen));e.mostRecentQuery.length>0&&a.length<1&&s!==l&&(0,o4.uY)(s)};i.componentWillUnmount=function(){var e=this.props,t=e.currentCategoryId,n=e.recommendationsLoadId,r=e.recommendationsGuilds;t===Voe.Hk?null!=r&&null!=n&&Br.Az(n,this.getOrderedGuildIdsSeen(r.map((function(e){return e.id}))),"Game Recommendations"):Br.Az(this.loadId,Array.from(this._guildIdsSeen))};i.getOrderedGuildIdsSeen=function(e){var t=this;return e.filter((function(e){
return t._guildIdsSeen.has(e)}))};i.renderGamesYouPlay=function(){var e=this.props,t=e.guilds,n=e.mightHaveGamesYouPlay,o=e.theme,i=e.userGuilds,a=Object.keys(i),s=t[w.Lcj.GAMES_YOU_PLAY];s.guilds=s.guilds.filter((function(e){return!a.includes(e.id)}));var l=this.state.loadingGuildId;return n?(0,r.jsx)(woe,{loadId:this.loadId,title:Q.Z.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guildsData:s,loadingGuildId:l,analyticsContext:Br.P1.RECOMMENDED,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:o4.gk,theme:o}):null};i.renderSearchBar=function(){var e,t=this.props,n=t.mostRecentQuery,o=t.guilds.search,i=t.defaultLanguage,a=t.isFetchingSearch,s=t.currentCategoryId,l=t.categories,c=t.currentCategoryName;Pre.trackExposure({});var u,f=Pre.getCurrentConfig({},{autoTrackExposure:!1}).shouldDisplayRecommendedSearchTags?s===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER_TAGS:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER_TAGS.format({
categoryName:c}):s===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:c}),d=null!==(u=null===(e=o[n])||void 0===e?void 0:e[s])&&void 0!==u?u:Hoe.xk;return(0,r.jsx)(oie,{loadId:this.loadId,searchResults:d,mostRecentQuery:n,isFetchingSearch:a,defaultLanguage:i,placeholder:f,currentCategoryId:s,categories:l})};i.renderSearchResults=function(){var e,t,n=this,o=this.props,i=o.mostRecentQuery,a=o.guilds.search,s=o.availableLanguages,l=o.defaultLanguage,c=o.isFetchingSearch,u=o.theme,f=o.currentCategoryId,d=o.currentCategoryName,p=this.state.loadingGuildId,h=f===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:d}),E=null!==(t=null===(e=a[i])||void 0===e?void 0:e[f])&&void 0!==t?t:Hoe.xk;return(0,r.jsx)(Uie,{loadId:this.loadId,availableLanguages:s,defaultLanguage:l,placeholder:h,isFetchingSearch:c,searchResults:E,
mostRecentQuery:i,loadingGuildId:p,currentCategoryId:f,currentCategoryName:d,scroller:this._scroller.current,theme:u,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,onTagClick:function(e,t){return n.handleTagSearch(e,t,Br.P1.SEARCH)}})};i.renderRecommendedGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=this.state.loadingGuildId;return(0,r.jsx)(woe,{loadId:this.loadId,title:Q.Z.Messages.GUILD_DISCOVERY_FEATURED_HEADER,guildsData:n.featured,analyticsContext:Br.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,o4.$z)(0,30)},loadingGuildId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,Br.P1.POPULAR)}})};i.renderPopularGuildsSection=function(){var e=this,t=this.props,n=t.guilds,o=t.theme,i=t.currentCategoryId,a=this.state.loadingGuildId;return(0,r.jsx)(woe,{loadId:this.loadId,title:Q.Z.Messages.GUILD_DISCOVERY_POPULAR_HEADER,guildsData:n[i],loadingGuildId:a,
analyticsContext:Br.P1.POPULAR,onViewGuild:this.handleViewGuild,onGuildCardSeen:this.handleGuildCardSeen,fetchGuilds:function(){return(0,o4.K5)(i)},currentCategoryId:i,theme:o,onTagClick:function(t,n){return e.handleTagSearch(t,n,Br.P1.POPULAR)}})};i.render=function(){var e,t,n=this,i=this.props,a=i.currentCategoryName,s=i.mostRecentQuery,c=i.currentCategoryId,u=i.guilds,f=s.length>0;Pre.trackExposure({});var d=Pre.getCurrentConfig({},{autoTrackExposure:!1}).shouldDisplayRecommendedSearchTags,p=c===Voe.Hk?null===(e=u[w.Lcj.FEATURED])||void 0===e?void 0:e.guilds:null===(t=u[c])||void 0===t?void 0:t.guilds;if(c===Voe.U)return(0,r.jsx)(iae,{loadId:this.loadId});var h=c===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a});return(0,r.jsxs)("div",{className:mie().pageWrapper,children:[(0,r.jsx)(GO.yY,{subsection:f?s:void 0,location:h}),(0,r.jsx)("div",{
className:ze()(mie().dragRegion,mie().pageHeaderDrag,Eae({},mie().searchPageDrag,f))}),Qe.tq&&(0,r.jsx)(eS.ZP,{children:(0,r.jsx)(o.Fragment,{})}),(0,r.jsx)(l.AdvancedScrollerAuto,{className:mie().scroller,ref:this._scroller,onScroll:this.handleScroll,children:(0,r.jsx)("div",{className:ze()(mie().viewWrapper,Eae({},mie().searchPage,f)),children:f?this.renderSearchResults():(0,r.jsxs)(l.HeadingLevel,{forceLevel:1,component:(0,r.jsxs)("div",{className:mie().searchHeader,children:[(0,r.jsx)("img",{alt:"",className:mie().headerImage,src:uae()}),(0,r.jsx)("div",{className:mie().headerContentWrapper,children:(0,r.jsxs)("div",{className:mie().headerContent,children:[(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:mie().searchTitle,children:c===Voe.Hk?Q.Z.Messages.GUILD_DISCOVERY_HOME_TITLE:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_TITLE.format({categoryName:a})}),(0,r.jsx)(l.Text,{variant:"text-md/normal",className:mie().searchSubtitle,
children:c===Voe.Hk&&Q.Z.Messages.GUILD_DISCOVERY_HOME_SUBTITLE}),this.renderSearchBar(),d&&(0,r.jsx)(Kre,{hideOverflow:!0,section:Br.P1.HEADER,className:mie().headerTagContainer,discoveryTagStyle:Wre.LIGHT,onTagClick:function(e){return n.handleTagSearch(e,void 0,Br.P1.HEADER)},tags:Ke().chain(p).flatMap((function(e){return e.keywords})).compact().uniq().sampleSize(10).value()})]})})]}),children:[(0,r.jsx)("div",{className:mie().featuredBody,children:c===Voe.Hk?this.renderRecommendedGuildsSection():this.renderPopularGuildsSection()}),(0,r.jsxs)("div",{className:mie().footer,children:[(0,r.jsx)("img",{alt:"",src:lae(),className:mie().footerImage}),(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",children:Q.Z.Messages.GUILD_DISCOVERY_CATEGORY_FOOTER_TITLE}),(0,r.jsx)(l.Button,{look:l.Button.Looks.LINK,color:l.Button.Colors.LINK,size:l.Button.Sizes.MIN,onClick:this.scrollToTop,children:Q.Z.Messages.GUILD_DISCOVERY_FOOTER_BODY})]})]})})})]})};return n
}(o.PureComponent),Tae=s.ZP.connectStores([La.Z,wr.default,aae.Z,H$.Z,Hoe.ZP,Mre.Z,In.Z],(function(){var e,t=Voe.dU,n=wr.default.locale,r=null!==(e=Ke().find(t,{code:n}))&&void 0!==e?e:t[0],o=aae.Z.applicationStatistics,i=Object.keys(o),a=H$.Z.hasConsented(w.pjP.PERSONALIZATION)&&i.length>0,s=Hoe.ZP.getCurrentCategoryId(),l=Hoe.ZP.getCurrentHomepageCategoryId();return{isFetching:Hoe.ZP.isFetching(),isFetchingSearch:Hoe.ZP.isFetchingSearch(),guilds:Hoe.ZP.getDiscoverableGuilds(),mostRecentQuery:Hoe.ZP.getMostRecentQuery(),currentCategoryId:s,currentHomepageCategoryId:l,currentCategoryName:Mre.Z.getCategoryName(s),categories:Mre.Z.getDiscoveryCategories(),userGuilds:In.Z.getGuilds(),theme:La.Z.theme,mightHaveGamesYouPlay:a,availableLanguages:t,defaultLanguage:r}}))(Sae);function Nae(e){var t=(0,s.cj)([Gie.Z],(function(){return{recommendedGuilds:Gie.Z.getRecommendedGuilds(),loadId:Gie.Z.getLoadId(),fetching:Gie.Z.isFetching()}})),n=t.fetching,o=t.loadId,i=t.recommendedGuilds;return(0,
r.jsx)(Tae,_ae(mae({},e),{fetchingRecommendations:n,usingGameRecommendations:!1,recommendationsGuilds:i,recommendationsLoadId:o}))}function Cae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Aae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Rae(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=Pae(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",Aae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cae(e,t,n[t])}))}return e}({},(0,MT.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M22.447 8.11002L12.447 3.11002C12.166 2.96902 11.834 2.96902 11.552 3.11002L1.552 8.11002C1.35 8.21002 1.197 8.38402 1.107 8.57302C1.046 8.69502 1 8.90202 1 9.00502V14.77C1 15.322 1.448 15.77 2 15.77C2.552 15.77 3 15.322 3 14.77V10.172L12.015 13.927L22.372 9.93302C22.737 9.78602 22.983 9.44002 22.999 9.04602C23.016 8.65202 22.799 8.28702 22.447 8.11002ZM12 16.005C11.869 16.005 11.738 15.979 11.615 15.928L5 13.172V16.185C5 16.564 5.214 16.91 5.553 17.08C5.7173 17.1621 5.88209 17.2461 6.04836 17.3308C7.61773 18.1306 9.31996 18.998 12 18.998C14.6812 18.998 16.3872 18.1284 17.956 17.3287C18.1208 17.2447 18.2842 17.1614 18.447 17.08C18.786 16.911 19 16.564 19 16.186V13.385L12.359 15.939C12.243 15.982 12.122 16.005 12 16.005ZM1 18.005C1 17.453 1.448 17.005 2 17.005C2.552 17.005 3 17.453 3 18.005V20.005C3 20.557 2.552 21.005 2 21.005C1.448 21.005 1 20.557 1 20.005V18.005Z"})}))}function jae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function Mae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xae(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=wae(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",Mae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jae(e,t,n[t])}))}return e}({},(0,MT.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,
d:"M19.396 3.29898C19.016 3.01598 18.524 2.93098 18.07 3.06498L8.07 6.06498C7.435 6.25498 7 6.83998 7 7.50298V15.054C6.835 15.03 6.671 15.003 6.5 15.003C4.566 15.003 3 16.571 3 18.503C3 20.434 4.566 22.003 6.5 22.003C8.434 22.003 10 20.434 10 18.503V8.61798L17 6.51798V13.054C16.835 13.03 16.671 13.003 16.5 13.003C14.566 13.003 13 14.571 13 16.503C13 18.434 14.566 20.003 16.5 20.003C18.434 20.003 20 18.434 20 16.503V4.50298C20 4.02698 19.775 3.58198 19.396 3.29898Z"})}))}function Lae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Zae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Uae(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.className,c=e.foreground,u=Zae(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",Dae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Lae(e,t,n[t])}))}return e}({},(0,MT.Z)(u)),{className:l,width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:c,fill:s,fillRule:"evenodd",clipRule:"evenodd",
d:"M18.6683 11.9964C19.5992 13.2208 20.3732 14.4331 20.9422 15.5701C22.5858 18.8593 22.0118 20.4688 21.2418 21.2398C20.895 21.5846 20.2596 21.9978 19.1951 21.9978C17.3645 21.9978 14.7478 20.7553 12.0004 18.6683C9.25198 20.7553 6.63527 21.9978 4.80569 21.9978C3.74111 21.9978 3.10478 21.5846 2.75896 21.2398C1.98792 20.4677 1.41392 18.8593 3.05853 15.5701C3.62751 14.4331 4.40257 13.2218 5.33245 11.9964C2.51569 8.28291 1.00176 4.51719 2.75896 2.75898C3.10578 2.41316 3.74111 2 4.80569 2C6.63628 2 9.25298 3.24251 12.0004 5.32944C14.7488 3.24251 17.3655 2 19.1951 2C20.2596 2 20.895 2.41216 21.2418 2.75898C22.999 4.51618 21.4851 8.28191 18.6683 11.9964ZM19.8203 4.18042C19.6806 4.03969 19.4032 4.01053 19.1951 4.01053C18.0481 4.01053 15.9933 4.9203 13.6209 6.64835C15.0262 7.86472 16.2346 9.08512 17.3655 10.395C19.752 7.13188 20.3541 4.71422 19.8203 4.18042ZM14.1325 14.1316C14.8654 13.3987 15.5108 12.689 16.0928 12.0024C15.4876 11.2856 14.8342 10.5689 14.1325 9.86621C13.4128 9.14744 12.701 8.51312 12.0004 7.92202C11.2997 8.51312 10.588 9.14744 9.86821 9.86621C9.16653 10.5689 8.51311 11.2856 7.90794 12.0024C8.48999 12.689 9.13637 13.3987 9.86821 14.1316C10.588 14.8513 11.2997 15.4856 12.0004 16.0747C12.701 15.4856 13.4128 14.8513 14.1325 14.1316ZM4.80569 4.01053C4.5986 4.01053 4.32115 4.03969 4.18142 4.18042C3.64661 4.71422 4.24977 7.13088 6.63628 10.394C7.83556 9.00469 9.05696 7.79435 10.3799 6.64735C8.00645 4.9203 5.95269 4.01053 4.80569 4.01053ZM4.18041 19.8183C4.32014 19.9581 4.5976 19.9872 4.80569 19.9872C5.95269 19.9872 8.00746 19.0785 10.3799 17.3514C8.98357 16.1421 7.7873 14.9348 6.6413 13.6078C5.92053 14.593 5.31133 15.56 4.85695 16.4688C3.79539 18.5909 3.9502 19.5881 4.18041 19.8183ZM19.1941 19.9872C19.4021 19.9872 19.6796 19.9581 19.8193 19.8183C20.0495 19.5881 20.2044 18.5919 19.1428 16.4688C18.6884 15.559 18.0792 14.592 17.3584 13.6078C16.2114 14.9358 15.0152 16.1431 13.6199 17.3514C15.9933 19.0785 18.0471 19.9872 19.1941 19.9872ZM14.0109 11.9984C14.0109 13.1088 13.1108 14.0089 12.0004 14.0089C10.89 14.0089 9.98984 13.1088 9.98984 11.9984C9.98984 10.888 10.89 9.98784 12.0004 9.98784C13.1108 9.98784 14.0109 10.888 14.0109 11.9984Z"
})}))}var Gae=n(707073),kae=n(651034),Bae=n(545289),Hae=n.n(Bae),Vae=function(e){switch(e){case Voe.fW.Activity:return(0,r.jsx)(c0.Z,{});case Voe.fW.Discover:return(0,r.jsx)(on.Z,{});case Voe.fW.Education:return(0,r.jsx)(Rae,{});case Voe.fW.Music:return(0,r.jsx)(xae,{});case Voe.fW.Science:return(0,r.jsx)(Uae,{});case Voe.fW.Stage:return(0,r.jsx)(nW.Z,{height:22,width:22});case Voe.fW.Television:return(0,r.jsx)(Gae.Z,{});default:(0,kr.vE)(e)}},Fae=function(e){var t=e.categories,n=e.currentCategoryId,o=e.handleCategorySelect,i=e.shouldDisplaySelectedCategory,a=void 0===i||i;return(0,r.jsx)(r.Fragment,{children:t.map((function(e){return(0,r.jsx)(kae.Z,{avatar:Vae(e.icon),name:e.name,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return o(e.categoryId)},wrapContent:!0,selected:a&&e.categoryId===n,className:Hae().categoryItem,selectedClassName:Hae().selectedCategoryItem,innerClassName:Hae().itemInner},e.categoryId)}))})};Fae.Icons=Voe.fW;const Yae=Fae
;var zae=n(623028),Wae=n.n(zae);function Kae(e){var t=e.text;return(0,r.jsx)(l.Heading,{variant:"heading-xl/semibold",className:Wae().discoverHeader,children:t})}var qae=n(348311);const Xae=function(e){var t=e.handleCategorySelect,n=e.shouldDisplaySelectedCategory,o=e.currentCategoryId,i=(0,s.e7)([Nm.Z],(function(){return Nm.Z.hasHotspot(Tm.v6.HUB_NEW)}));return(0,r.jsx)(kae.Z,{avatar:(0,r.jsx)(qae.Z,{}),name:Q.Z.Messages.HUB_SCHOOL_HUBS,focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){t(Voe.U);(0,Tm.Kw)(Tm.v6.HUB_NEW)},wrapContent:!0,selected:n&&Voe.U===o,className:Hae().categoryItem,selectedClassName:Hae().selectedCategoryItem,innerClassName:Hae().itemInner,children:i&&(0,r.jsx)("div",{className:Hae().new,children:(0,r.jsx)(l.Text,{color:"none",variant:"text-xs/semibold",className:Hae().newText,children:Q.Z.Messages.NEW})})},Voe.U)};function Qae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function $ae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Jae=function(e){switch(e){case 1:return Voe.fW.Activity;case 2:return Voe.fW.Music;case 3:return Voe.fW.Television;case 5:return Voe.fW.Science;case 6:return Voe.fW.Education;default:return Voe.fW.Discover}};const ese=function(){var e=(0,s.cj)([Hoe.ZP],(function(){return{currentCategoryId:Hoe.ZP.getCurrentCategoryId(),isViewingSearchResults:Hoe.ZP.getMostRecentQuery().length>0}})),t=e.currentCategoryId,n=e.isViewingSearchResults,o=(0,s.e7)([Mre.Z],(function(){return Mre.Z.getDiscoveryCategories()
}),[],Mre.j),i=null==o?void 0:o.map((function(e){return $ae(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qae(e,t,n[t])}))}return e}({},e),{icon:Jae(e.categoryId)})})),a=function(e){(0,o4.uY)(e,!0);Sc();n&&(0,o4.AQ)()};return(0,r.jsxs)(l.Scroller,{children:[(0,r.jsx)(Kae,{text:Q.Z.Messages.DISCOVER}),(0,r.jsx)(Yae,{categories:i,handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n}),(0,r.jsx)(Xae,{handleCategorySelect:a,currentCategoryId:t,shouldDisplaySelectedCategory:!n})]})};var tse=n(876759);function nse(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function rse(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){nse(i,r,o,a,s,"next",e)}function s(e){nse(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ose(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ise(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ose(e,t,n[t])}))}return e}var ase=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function sse(e,t,n){return lse.apply(this,arguments)}function lse(){return(lse=rse((function(e,t,n){var r;return ase(this,(function(o){switch(o.label){case 0:null==t&&(t=wE.Z.getStatus());return[4,Da.co.updateSetting(e)];case 1:o.sent();r={next_status:e,prev_status:t};null!=n&&(r=ise({},r,n));Oe.default.track(w.rMx.USER_STATUS_UPDATED,r);return[2]}
}))}))).apply(this,arguments)}function cse(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function use(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cse(i,r,o,a,s,"next",e)}function s(e){cse(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var dse=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i
;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function pse(){(0,l.openModalLazy)(use((function(){var e,t;return dse(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(1653),n.e(84457),n.e(34840)]).then(n.bind(n,234840))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fse(e,t,n[t])}))}return e}({},e))}]}}))})),{onCloseCallback:function(){b.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"});b.Z.dispatch({type:"LOGIN_RESET",isMultiAccount:!0})},modalKey:$b.Ui})}var hse=n(196644),Ese=n(873553),yse=n(22724),mse=n(696307),_se=n.n(mse);function gse(){var e=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),t=(0,s.e7)([sc.Z],(function(){return sc.Z.hidePersonalInformation})),n=(0,yse.L)().multiAccountUsers,o=n.map((function(n){var o=new rx.Z(n),i=o.id===(null==e?void 0:e.id),a=n.tokenStatus===Ese.q.INVALID,s=t?null:"#".concat(o.discriminator);return(0,r.jsx)(l.MenuItem,{id:o.id,focusedClassName:_se().focused,label:function(e){var c=e.isFocused;return(0,r.jsxs)("div",{className:_se().userMenuItem,children:[(0,r.jsx)(l.Avatar,{
src:o.getAvatarURL(void 0,40),size:l.AvatarSizes.SIZE_24,"aria-label":n.username}),(0,r.jsxs)("div",{className:_se().userMenuUsername,children:[(0,r.jsx)(l.Text,{className:_se().userMenuText,variant:"text-sm/normal",children:M_.ZP.getUserTag(o,{mode:"username",identifiable:t?"never":"always"})}),!o.isPomelo()&&(0,r.jsx)(l.Text,{className:_se().userMenuDiscriminator,variant:"text-sm/normal",children:s})]}),i&&(0,r.jsx)(sL.Z,{color:(0,OU.Lq)(c?w.Ilk.WHITE_500:w.Ilk.BRAND_500),backgroundColor:(0,OU.Lq)(c?w.Ilk.BRAND_500:w.Ilk.WHITE_500),width:18,height:18,className:_se().activeIcon}),a&&(0,r.jsx)(Yj.Z,{color:(0,OU.Lq)(w.Ilk.RED_400),backgroundColor:(0,OU.Lq)(w.Ilk.WHITE_500),width:15,height:15,className:_se().activeIcon})]})},action:function(){a?pse():function(t){if(t!==(null==e?void 0:e.id)){Oe.default.track(w.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:w.jXE.PROFILE_POPOUT}});hse.yD(t)}}(o.id)}},o.id)}));o.push((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.MenuSeparator,{}),(0,
r.jsx)(l.MenuItem,{id:"manage-accounts",label:Q.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,action:pse})]}));return o}function bse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vse(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ose(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ise(e){var t=e.width,n=void 0===t?20:t,o=e.height,i=void 0===o?20:o,a=e.color,s=void 0===a?"currentColor":a,l=Ose(e,["width","height","color"]);return(0,r.jsxs)("svg",vse(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bse(e,t,n[t])}))}return e}({},(0,MT.Z)(l)),{width:n,height:i,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M13.4996 0H6.72144C6.62254 1.34004e-06 6.52586 0.0293272 6.44363 0.0842743C6.36141 0.139221 6.29733 0.217322 6.25949 0.308693C6.22165 0.400063 6.21176 0.500602 6.23106 0.597595C6.25037 0.694589 6.298 0.783679 6.36794 0.8536L7.63564 2.1213C7.82317 2.30884 7.92853 2.56319 7.92853 2.8284C7.92853 3.09361 7.82317 3.34796 7.63564 3.5355L6.22144 4.9498C5.65884 5.51241 5.34277 6.27546 5.34277 7.0711C5.34277 7.86674 5.65884 8.62979 6.22144 9.1924C6.40897 9.37993 6.66331 9.48528 6.92853 9.48528C7.19374 9.48528 7.4481 9.37993 7.63564 9.1924L9.75703 7.0711C10.1321 6.69603 10.6408 6.48533 11.1712 6.48533C11.7017 6.48533 12.2104 6.69603 12.5854 7.0711L13.146 7.6317C13.2159 7.70164 13.305 7.74927 13.402 7.76858C13.499 7.78788 13.5996 7.77799 13.6909 7.74015C13.7823 7.70231 13.8604 7.63823 13.9154 7.556C13.9703 7.47377 13.9996 7.37709 13.9996 7.2782V0.5C13.9996 0.367392 13.9469 0.240214 13.8532 0.146446C13.7594 0.052678 13.6322 0 13.4996 0Z",fill:s}),(0,r.jsx)("path",{
d:"M4.5 17.9999H11.2782C11.3771 17.9999 11.4738 17.9706 11.556 17.9157C11.6382 17.8607 11.7023 17.7826 11.7401 17.6912C11.778 17.5999 11.7879 17.4993 11.7686 17.4023C11.7493 17.3053 11.7016 17.2163 11.6317 17.1463L10.364 15.8786C10.1765 15.6911 10.0711 15.4367 10.0711 15.1715C10.0711 14.9063 10.1765 14.652 10.364 14.4644L11.7782 13.0501C12.3408 12.4875 12.6569 11.7245 12.6569 10.9288C12.6569 10.1332 12.3408 9.37014 11.7782 8.80753C11.5907 8.62 11.3363 8.51465 11.0711 8.51465C10.8059 8.51465 10.5515 8.62 10.364 8.80753L8.2426 10.9288C7.86753 11.3039 7.35883 11.5146 6.8284 11.5146C6.29797 11.5146 5.78927 11.3039 5.4142 10.9288L4.85361 10.3682C4.78369 10.2983 4.69459 10.2507 4.5976 10.2314C4.5006 10.2121 4.40006 10.2219 4.30869 10.2598C4.21731 10.2976 4.13922 10.3617 4.08427 10.4439C4.02933 10.5262 4 10.6228 4 10.7217V17.4999C4 17.6325 4.05269 17.7597 4.14645 17.8535C4.24022 17.9473 4.36739 17.9999 4.5 17.9999Z",fill:s})]}))}var Sse=n(951035),Tse=n.n(Sse);function Nse(e,t,n,r,o,i,a){try{
var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Cse(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nse(i,r,o,a,s,"next",e)}function s(e){Nse(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ase(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pse(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ase(e,t,n[t])}))}return e}function Rse(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var jse=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Mse(e){var t=e.status,n=e.description,o=e.focused;return(0,r.jsxs)("div",{className:Tse().statusItem,children:[(0,r.jsx)(l.Status,{status:t,className:Tse().icon,size:10,color:o?"currentColor":void 0}),(0,r.jsx)("div",{className:Tse().status,children:(0,M_.u5)(t)}),null!=n&&(0,r.jsx)("div",{className:Tse().description,children:n})]})}function wse(e){var t=e.customStatus,n=function(e){e.stopPropagation();Da.Ok.updateSetting(void 0)};return null!=t?(0,r.jsx)("div",{"aria-label":Q.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(tse.Z,{className:null!=t.emoji?Tse().customStatusWithEmoji:Tse().customStatusItem,activity:t,
emojiClassName:Tse().customEmoji,textClassName:Tse().customText,placeholderText:Q.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,children:(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.CUSTOM_STATUS_CLEAR_CUSTOM_STATUS,children:function(e){return(0,r.jsx)(l.Button,Rse(Pse({},e),{className:Tse().clearStatusButton,onClick:n,look:l.Button.Looks.BLANK,size:l.Button.Sizes.NONE,tabIndex:-1,"aria-hidden":!0,children:(0,r.jsx)(lL.Z,{className:Tse().clearStatusIcon})}))}})})}):(0,r.jsxs)("div",{className:ze()(Tse().statusItem,Tse().customStatusContentIcon),"aria-label":Q.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS,children:[(0,r.jsx)("div",{className:Tse().customEmojiPlaceholder}),(0,r.jsx)("div",{className:Tse().status,children:Q.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS})]})}function xse(e){var t=e.focused;return(0,r.jsxs)("div",{className:ze()(Tse().statusItem,Tse().statusItemNoPadding,Tse().customStatusContentIcon,Tse().switchAccountsItem),
"aria-label":Q.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,children:[(0,r.jsx)(Ise,{width:18,height:18,className:Tse().switchAccountsIcon,color:t?br.Z.unsafe_rawColors.WHITE_500.css:"currentColor"}),(0,r.jsx)("div",{className:Tse().status,children:Q.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE})]})}var Lse=function(e){var t=e.customStatus,i=e.onClose,a=e.analyticsContext,s=e.onSelect,c=gse();o.useEffect((function(){Oe.default.track(w.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=t,location:a.location})}),[]);var u=function(e){sse(e,void 0,{location:a.location})};return(0,r.jsxs)(l.Menu,{navId:"status-picker",variant:"fixed","aria-label":Q.Z.Messages.SET_STATUS,onClose:i,onSelect:s,children:[(0,r.jsx)(l.MenuItem,{id:"online",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(Mse,{status:l.StatusTypes.ONLINE,focused:t})},action:function(){return u(l.StatusTypes.ONLINE)}}),(0,r.jsx)(l.MenuSeparator,{}),(0,r.jsx)(l.MenuItem,{id:"idle",keepItemStyles:!0,
render:function(e){var t=e.isFocused;return(0,r.jsx)(Mse,{status:l.StatusTypes.IDLE,focused:t})},action:function(){return u(l.StatusTypes.IDLE)}}),(0,r.jsx)(l.MenuItem,{id:"dnd",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(Mse,{status:l.StatusTypes.DND,description:Q.Z.Messages.STATUS_DND_HELP,focused:t})},action:function(){return u(l.StatusTypes.DND)}}),(0,r.jsx)(l.MenuItem,{id:"invisible",keepItemStyles:!0,render:function(e){var t=e.isFocused;return(0,r.jsx)(Mse,{status:l.StatusTypes.INVISIBLE,description:Q.Z.Messages.STATUS_INVISIBLE_HELPER,focused:t})},action:function(){return u(l.StatusTypes.INVISIBLE)}}),(0,r.jsx)(l.MenuSeparator,{}),(0,r.jsx)(l.MenuItem,{id:"custom-status",keepItemStyles:!0,render:function(){return(0,r.jsx)(wse,{customStatus:t})},action:function(){(0,l.openModalLazy)(Cse((function(){var e,t;return jse(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(88005)]).then(n.bind(n,388005))];case 1:e=o.sent(),
t=e.default;return[2,function(e){return(0,r.jsx)(t,Rse(Pse({},e),{sourceAnalyticsContext:a}))}]}}))})))}}),(0,r.jsx)(l.MenuSeparator,{}),(0,r.jsx)(l.MenuItem,{id:"switch-account",action:pse,label:function(e){var t=e.isFocused;return(0,r.jsx)(xse,{focused:t})},children:c},"switch-account")]})};const Dse=(0,h0.Z)((function(e){var t=(0,s.e7)([ME.Z],(function(){return ME.Z.getCustomStatusActivity()})),n=Da.co.useSetting();return(0,r.jsx)(Lse,Rse(Pse({},e),{customStatus:t,status:n}))}));var Zse=(0,it.B)({kind:"user",id:"2023-01_consumer_education_launch",label:"Safety Consumer Education Launch - Block/Mute",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});var Use=(0,it.B)({kind:"user",id:"2023-04_dm_spam_filter_coachmark",label:"Safety DM Spam Filter Coachmark rollout",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})
;var Gse=n(473664),kse=n(277544),Bse=n(790165),Hse=n(585730),Vse=n(940007);function Fse(e,t,n){return n?Q.Z.Messages.CONSOLE_CONNECTING_DISABLED:t?Q.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE:e?Q.Z.Messages.UNDEAFEN:Q.Z.Messages.DEAFEN}var Yse=n(180306);function zse(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wse(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Kse(e){e?(0,l.openModal)((function(e){return(0,r.jsx)(Tg.default,Wse(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zse(e,t,n[t])}))}return e}({},e),{title:Q.Z.Messages.SERVER_DEAFENED_DIALOG_TITLE,body:Q.Z.Messages.SERVER_DEAFENED_DIALOG_BODY}))})):_a.Z.toggleSelfDeaf()}var qse=n(668269),Xse=n(450136),Qse=n(99827),$se=n(618887),Jse=n(793807),ele=n.n(Jse);function tle(e){var t=e.markAsDismissed,n=e.partnerGame;(0,X6.hs)(n,W.nv.POPOUT,W.zs.DROPS_QUEST_ENROLLMENT);var o=(0,X6.au)(n);if(null==o)return null;var i,a,s=(i=o.drop,a=o.config.streamLengthRequirement,{header:Q.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:i.title}),body:i.messages.enrollmentTooltip(a),imgSrc:i.assets.tooltipSrc,imgStyle:ele().defaultDropImage}),c=s.header,u=s.body,f=s.imgSrc,d=s.imgStyle,p=function(){t(Us.L.DISMISS)};return(0,r.jsxs)("div",{
className:ele().container,children:[(0,r.jsx)("img",{src:f,alt:"",className:d}),(0,r.jsx)(l.Clickable,{className:ele().buttonClose,"aria-label":Q.Z.Messages.CLOSE,onClick:p,children:(0,r.jsx)(JI.Z,{width:16,height:16,className:ele().closeIcon})}),(0,r.jsx)(l.Heading,{className:ele().title,variant:"heading-md/extrabold",children:c}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",className:ele().subTitle,children:u}),o.config.autoEnrollment?(0,r.jsx)(l.Button,{look:l.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){h.Z.open(w.oAB.INVENTORY);t(Us.L.PRIMARY)},children:Q.Z.Messages.LEARN_MORE}):(0,r.jsx)(l.Button,{innerClassName:ele().button,look:l.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){(0,$se.RJ)(o.drop.dropsQuestId);h.Z.open(w.oAB.INVENTORY);t(Us.L.PRIMARY)},children:Q.Z.Messages.DROPS_ELIGIBILITY_ENROLLMENT_PRIMARY_CTA}),(0,r.jsx)(l.Button,{className:ele().linkButtonContainer,innerClassName:ele().linkButton,onClick:p,look:l.Button.Looks.LINK,fullWidth:!0,
color:l.Button.Colors.WHITE,children:Q.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:ele().pointer})]})}var nle=n(59027),rle=n.n(nle);function ole(e){var t=e.markAsDismissed,n=e.partnerGame;(0,X6.hs)(n,W.nv.POPOUT,W.zs.DROPS_QUEST_COMPLETION);var o=(0,X6.au)(n);if(null==o)return null;var i,a,s=(i=o.drop,a=o.config.streamLengthRequirement,{body:i.messages.completionTooltip(a),imgSrc:i.assets.tooltipSrc,imgStyle:rle().defaultDropImage}),c=s.body,u=s.imgSrc,f=s.imgStyle,d=function(){t(Us.L.DISMISS)};return(0,r.jsxs)("div",{className:rle().container,children:[(0,r.jsx)("img",{src:u,alt:"",className:f}),(0,r.jsx)(l.Clickable,{className:rle().buttonClose,"aria-label":Q.Z.Messages.CLOSE,onClick:d,children:(0,r.jsx)(JI.Z,{width:16,height:16,className:rle().closeIcon})}),(0,r.jsx)(l.Heading,{className:rle().title,variant:"heading-md/extrabold",children:Q.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER}),(0,r.jsx)(l.Text,{variant:"text-sm/medium",className:rle().subTitle,children:c}),(0,
r.jsx)(l.Button,{look:l.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){h.Z.open(w.oAB.INVENTORY);t(Us.L.PRIMARY)},children:Q.Z.Messages.REDEEM}),(0,r.jsx)(l.Button,{className:rle().linkButtonContainer,innerClassName:rle().linkButton,onClick:d,look:l.Button.Looks.LINK,fullWidth:!0,color:l.Button.Colors.WHITE,children:Q.Z.Messages.NOT_NOW}),(0,r.jsx)("div",{className:rle().pointer})]})}var ile=n(169071);const ale=(0,it.B)({kind:"user",id:"2022-04_account_profile_popout",label:"Account Profile Popout",defaultConfig:{isPopupEnabled:!1,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1},treatments:[{id:1,label:"Enable Account Profile Popout",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!1}},{id:2,label:"Enable Account Profile Popout w/ DiscordTag button",config:{isPopupEnabled:!0,isTaglessAccountPanelEnabled:!1,isJoinedTagButtonEnabled:!0}}]});var sle=n(125890),lle=n.n(sle);function cle(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value
}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function ule(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cle(i,r,o,a,s,"next",e)}function s(e){cle(i,r,o,a,s,"throw",e)}a(void 0)}))}}function fle(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dle(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fle(e,t,n[t])}))}return e}function ple(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var hle=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1]
;break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Ele=n(485552),yle=n(507250),mle=n(906615),_le=n(239639),gle=n(960412),ble=n(28236),vle=n.n(ble);function Ole(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ile(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Sle(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ile(i,r,o,a,s,"next",e)}function s(e){Ile(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Tle(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nle(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cle(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ole(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ole(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ale=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ple(e,t,n,o){return(0,r.jsx)(l.MenuItem,{id:e,keepItemStyles:!0,render:function(t){var n=t.isFocused;return(0,r.jsxs)("div",{className:vle().statusItem,children:[(0,r.jsx)(l.Status,{status:e,className:vle().icon,size:10,color:n?"currentColor":void 0}),(0,r.jsx)("div",{className:vle().status,children:(0,M_.u5)(e)}),null!=o&&(0,r.jsx)("div",{className:vle().description,children:o})]})},action:function(){return sse(e,t,n)}})}function Rle(e){var t=e.user,i=e.customStatus,a=e.guildId,c=e.isApplicationStreaming,u=e.onClose,f=e.onSelect,d=e.closePopout,p=(0,JJ.O)(),h=(0,
XB.Z)(fp.Z.ACCOUNT_PROFILE_POPOUT).AnalyticsLocationProvider,E=(0,TU.Z)(t.id,a),y=Cle((0,s.Wu)([$f.Z],(function(){var e,n=t.id;return"string"!=typeof n?[void 0,void 0,w.Skl.UNKNOWN,!1]:[null!==(e=$f.Z.findActivity(n,(function(e){return e.type!==w.IIU.CUSTOM_STATUS})))&&void 0!==e?e:void 0,$f.Z.findActivity(t.id,(function(e){return e.type===w.IIU.CUSTOM_STATUS})),$f.Z.getStatus(n),$f.Z.isMobileOnline(n)]})),4),m=y[0],_=y[1],g=y[2],b=y[3],v=function(e,t){return(0,r.jsxs)(r.Fragment,{children:[Ple(w.Skl.ONLINE,e,t),(0,r.jsx)(l.MenuSeparator,{},"menu-separator-statuses"),Ple(w.Skl.IDLE,e,t),Ple(w.Skl.DND,e,t,Q.Z.Messages.STATUS_DND_HELP),Ple(w.Skl.INVISIBLE,e,t,Q.Z.Messages.STATUS_INVISIBLE_HELPER)]})}(g,p);o.useEffect((function(){Oe.default.track(w.rMx.OPEN_POPOUT,{type:"User Status Menu",has_custom_status:null!=i,other_user_id:t.id,application_id:null!=m?m.application_id:void 0,is_streaming:c,application_name:null!=m?m.name:void 0,
profile_has_nitro_customization:null!=(null==E?void 0:E.banner),location:p.location})}),[]);var O=gse(),I=function(e,t){var o=function(e){e.stopPropagation();Da.Ok.updateSetting(void 0)},i=function(){(0,l.openModalLazy)(ule((function(){var e,t;return hle(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(88005)]).then(n.bind(n,388005))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,dle({sourceAnalyticsContext:a},e))}]}}))})))},a=(0,JJ.O)();if(null!=e){var s=null!=e.emoji?function(t){var n=t.className;return(0,r.jsx)(p3.I,{className:n,emoji:e.emoji,animate:!0,hideTooltip:!0})}:void 0;return(0,r.jsx)(l.MenuItem,{id:"edit-custom-status",label:Q.Z.Messages.CUSTOM_STATUS_EDIT_CUSTOM_STATUS_PLACEHOLDER,icon:s,focusedClassName:t,showIconFirst:!0,hint:function(e){return(0,r.jsx)(l.Clickable,ple(dle({},e),{onClick:o,tabIndex:-1,children:(0,r.jsx)(lL.Z,{width:18,height:18})}))},action:i})}return(0,r.jsx)(l.MenuItem,{id:"set-custom-status",
focusedClassName:t,label:Q.Z.Messages.CUSTOM_STATUS_SET_CUSTOM_STATUS_CTA,icon:function(e){return(0,r.jsx)("div",{className:ze()(lle().customEmojiPlaceholder,e)})},action:i,showIconFirst:!0})}(null!=i?i:void 0,vle().menuItemFocused),S=(0,Rr.Z)({id:t.id,label:Q.Z.Messages.COPY_ID_USER,showIconFirst:!0});return(0,r.jsx)(h,{children:(0,r.jsxs)(Ele.Z,{user:t,profileType:gle.y0.POPOUT,children:[(0,r.jsx)(_le.ZP,{user:t,displayProfile:E,onClose:function(){return null==d?void 0:d()},isMobile:b,isStreaming:(0,q$.Z)(m),status:g,disableUserProfileLink:__OVERLAY__,isHovering:!1}),(0,r.jsxs)(Ele.Z.Inner,{children:[(0,r.jsx)(yle.Z,{activity:m,customStatusActivity:_,displayProfile:E,user:t,onClose:u,setNote:!1,canDM:!1,hideNote:!0,showCopiableUsername:!0}),(0,r.jsx)(mle.Z,{className:vle().divider}),(0,r.jsxs)(l.Menu,{navId:"account","aria-label":Q.Z.Messages.SET_STATUS,hideScroller:!0,className:vle().menu,onClose:u,onSelect:f,children:[(0,r.jsxs)(l.MenuGroup,{children:[(0,r.jsx)(l.MenuItem,{
id:"status-picker",label:(0,M_.u5)(g),focusedClassName:vle().menuItemFocused,subMenuIconClassName:vle().subMenuIcon,action:Qe.tq?function(){(0,l.openModalLazy)((function(){return new Promise((function(e){e((function(e){return(0,r.jsx)(l.ModalRoot,Nle(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tle(e,t,n[t])}))}return e}({},e),{size:l.ModalSize.SMALL,className:vle().modal,"aria-label":Q.Z.Messages.SET_STATUS,children:(0,r.jsx)(l.Menu,{navId:"account",variant:"fixed","aria-label":Q.Z.Messages.SET_STATUS,hideScroller:!0,className:vle().statusPickerModalMenu,onClose:e.onClose,onSelect:e.onClose,children:v})}))}))}))}))}:void 0,showIconFirst:!0,icon:function(e){var t=e.className,n=e.isFocused;return(0,r.jsx)(l.Status,{status:g,size:12,
className:ze()(t,vle().mainStatusIcon),color:n?"currentColor":void 0})},children:Qe.tq?void 0:v},"status-picker"),I]}),(0,r.jsx)(l.MenuGroup,{children:(0,r.jsx)(l.MenuItem,{id:"switch-account",focusedClassName:vle().menuItemFocused,subMenuIconClassName:vle().subMenuIcon,label:Q.Z.Messages.SWITCH_ACCOUNTS_MENU_ITEM_TITLE,icon:Ise,showIconFirst:!0,action:pse,children:O},"switch-account")}),(0,r.jsx)(l.MenuGroup,{children:S})]})]})]})})}function jle(e){var t=e.userId,n=e.user,i=e.guildId,a=e.onClose,l=e.onSelect,c=(0,s.e7)([Y.default],(function(){return Y.default.getUser(t)}),[t]),u=(0,s.e7)([ME.Z],(function(){return ME.Z.getCustomStatusActivity()})),f=Cle(o.useState(!1),2),d=f[0],p=f[1],h=null!=c?c:n,E=(0,s.e7)([ec.Z],(function(){return null!=h&&null!=ec.Z.getAnyStreamForUser(h.id)}));o.useEffect((function(){null==c&&function(){e.apply(this,arguments)}();function e(){return(e=Sle((function(){return Ale(this,(function(e){switch(e.label){case 0:return"string"!=typeof t?[3,2]:[4,(0,
ah.PR)(t)];case 1:e.sent();p(!0);e.label=2;case 2:return[2]}}))}))).apply(this,arguments)}}),[c,t]);if(null==h){d&&tb()(null!=h,"Unexpected missing user");return null}return(0,r.jsx)(Rle,{closePopout:a,user:h,customStatus:u,guildId:i,isApplicationStreaming:E,onClose:a,onSelect:l})}var Mle=n(50034),wle=(0,it.B)({kind:"user",id:"2023-03_mute_block_aa",label:"Safety Consumer Education Block/Mute - A/A",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Mute",config:{bucket:1,enabled:!0}},{id:2,label:"Block",config:{bucket:2,enabled:!0}}]});function xle(){return(0,Ve.ZP)([Ls.Z],(function(){return Object.values(Ls.Z.getMemberCounts()).some((function(e){return e>=200}))}))}var Lle=function(){var e=Zse.useExperiment({},{autoTrackExposure:!0}).enabled,t=(0,Ve.ZP)([Y.default],(function(){return Y.default.getCurrentUser()})),n=xle();return e&&!(0,M_.EO)(t)&&n},Dle=function(){return wle.useExperiment({},{autoTrackExposure:!0}).enabled},Zle=(0,it.B)({kind:"user",
id:"2023-04_consumer_education_launch__reporting",label:"Consumer Education Launch - Reporting",defaultConfig:{bucket:0,enabled:!1},treatments:[{id:1,label:"Reporting",config:{bucket:1,enabled:!0}}]});var Ule=function(){var e=Zle.useExperiment({},{autoTrackExposure:!0}).enabled,t=(0,Ve.ZP)([Y.default],(function(){return Y.default.getCurrentUser()})),n=xle();return e&&!(0,M_.EO)(t)&&n},Gle=n(620440),kle=n.n(Gle);const Ble=function(e){var t=e.markAsDismissed,n=(0,Ve.ZP)([E.Z],(function(){return E.Z.useReducedMotion}));return Lle()?(0,r.jsx)(iF.ZP,{asset:(0,r.jsx)(fF.Z,{className:kle().video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195117439557712/Safety_BLOCK_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_HEADER,content:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_BLOCK_CONTENT,buttonCTA:Q.Z.Messages.GOT_IT,className:kle().coachmark,onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,
caretPosition:iF.DF.BOTTOM_CENTER,headerClassName:kle().header}):null};var Hle=n(618599),Vle=n.n(Hle);const Fle=function(e){var t=e.markAsDismissed,n=(0,Ve.ZP)([E.Z],(function(){return E.Z.useReducedMotion}));return Lle()?(0,r.jsx)(iF.ZP,{asset:(0,r.jsx)(fF.Z,{className:Vle().video,src:"https://cdn.discordapp.com/attachments/1067194967979733053/1067195118026772480/Safety_MUTE_Coachmark.mp4",loop:!0,autoPlay:!n,width:"100%"}),header:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_HEADER,content:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_MUTE_CONTENT,buttonCTA:Q.Z.Messages.GOT_IT,className:Vle().coachmark,onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:iF.DF.BOTTOM_CENTER,headerClassName:Vle().header}):null};var Yle=n(812050),zle=n.n(Yle),Wle=function(e){var t=e.markAsDismissed,n=(0,Ve.ZP)([E.Z],(function(){return E.Z.useReducedMotion}));return Ule()?(0,r.jsx)(iF.ZP,{asset:(0,r.jsx)(fF.Z,{
src:"https://cdn.discordapp.com/attachments/1063579271815245944/1095089224421740695/CEC_Reporting_Animation_v03_EN_1x1_Music_1.mp4",loop:!0,autoPlay:!n,className:zle().video,width:"100%"}),header:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_REPORTING_HEADER,content:Q.Z.Messages.SAFETY_CONSUMER_EDUCATION_REPORTING_CONTENT,buttonCTA:Q.Z.Messages.GOT_IT,onClick:function(e){e.stopPropagation();t()},markAsDismissed:t,caretPosition:iF.DF.BOTTOM_CENTER,headerClassName:zle().header}):null},Kle=n(258441),qle=n(37969),Xle=n.n(qle);function Qle(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const $le=o.forwardRef((function(e,t){var n,i=e.body,a=e.header,s=e.artClassName,c=e.headerClassName,u=e.tryItText,f=e.onTryFeature,d=e.onClose,p=e.className,h=e.inlineArt,E=void 0!==h&&h,y=e.isPremiumFeature,m=void 0!==y&&y,_=e.shouldUseHorizontalButtons,g=void 0!==_&&_,b=e.showGIFTag,v=void 0!==b&&b,O=e.dismissibleContent,I=function(e){(0,xs.EW)(O,{
dismissAction:e})},S=g?l.Button.Sizes.LARGE:l.Button.Sizes.MAX;o.useEffect((function(){(0,xs.kk)(O)}),[O]);return(0,r.jsx)("div",{className:p,ref:t,children:(0,r.jsxs)("div",{className:ze()(Xle().content,(n={},Qle(n,Xle().contentNoArt,null==s||E),Qle(n,Xle().contentPremium,m),n)),children:[(0,r.jsx)("div",{className:ze()(s,E?Xle().artInline:Xle().artAbsolute),children:v&&(0,r.jsx)(Kle.Z,{className:Xle().gifTag})}),(0,r.jsxs)("div",{className:Xle().body,children:[(0,r.jsxs)(l.Heading,{className:ze()(m?Xle().headerWithPremiumIcon:Xle().header,c),variant:"heading-md/bold",color:"always-white",children:[m?(0,r.jsx)(n7.Z,{className:Xle().premiumIcon}):null,a]}),null==i?null:"string"==typeof i?(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"always-white",children:i}):i]}),null!=f?(0,r.jsxs)("div",{className:g?Xle().buttonContainerHorizontal:Xle().buttonContainerVertical,children:[(0,r.jsx)(l.Button,{className:Xle().button,size:S,onClick:function(){null==d||d();f();I(Us.L.PRIMARY)},
color:m?l.Button.Colors.BRAND:l.Button.Colors.WHITE,look:m?l.Button.Looks.INVERTED:l.Button.Looks.FILLED,children:null!=u?u:Q.Z.Messages.EDUCATION_NEW_FEATURE_TRY_IT}),(0,r.jsx)(l.Button,{className:Xle().button,size:S,onClick:function(){null==d||d();I(Us.L.DISMISS)},color:m?l.Button.Colors.WHITE:l.Button.Colors.BRAND,look:m?l.Button.Looks.LINK:l.Button.Looks.FILLED,children:Q.Z.Messages.EDUCATION_NEW_FEATURE_DISMISS})]}):(0,r.jsx)(l.Button,{className:Xle().button,size:l.Button.Sizes.MAX,onClick:function(){null==d||d();I(Us.L.PRIMARY)},color:l.Button.Colors.WHITE,children:Q.Z.Messages.EDUCATION_NEW_FEATURE_CONFIRM}),(0,r.jsx)("div",{className:Xle().pointer})]})})}));var Jle=n(876827),ece=n.n(Jle);function tce(e){var t=e.markAsDismissed;return(0,r.jsx)($le,{header:Q.Z.Messages.SOUNDBOARD_VOLUME_TOOLTIP_HEADER,body:Q.Z.Messages.SOUNDBOARD_VOLUME_TOOLTIP_BODY,tryItText:Q.Z.Messages.TAKE_ME_THERE,dismissibleContent:ws.z$.SOUNDBOARD_VOLUME_EDUCATION,artClassName:ece().art,
onTryFeature:function(){h.Z.open(w.oAB.VOICE);t()},onClose:t,shouldUseHorizontalButtons:!0,inlineArt:!0})}var nce=n(784686),rce=n(757225),oce=n(218713),ice=n.n(oce);const ace=function(e){var t=e.markAsDismissed;o.useEffect((function(){Oe.default.track(w.rMx.DM_SAFETY_COACHMARK_ACTION,{action:rce.Rv.VIEW})}),[]);return(0,r.jsx)(iF.ZP,{header:Q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_HEADER_V2,content:Q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_CONTENT_V2.format({helpdeskArticle:X.Z.getArticleURL(w.BhN.SAFE_DIRECT_MESSAGING)}),buttonCTA:Q.Z.Messages.GOT_IT,secondaryButtonCTA:Q.Z.Messages.USER_EXPLICIT_CONTENT_FILTER_COACHMARK_REDIRECT,className:ice().coachmark,onClick:function(e){e.stopPropagation();t();Oe.default.track(w.rMx.DM_SAFETY_COACHMARK_ACTION,{action:rce.Rv.DISMISS})},onSecondaryClick:function(){(0,K.uL)(w.Z5c.SETTINGS("privacy-and-safety"));Oe.default.track(w.rMx.DM_SAFETY_COACHMARK_ACTION,{action:rce.Rv.CHANGE_SETTING})},markAsDismissed:t,
caretPosition:iF.DF.BOTTOM_CENTER,headerClassName:ice().header})};const sce=function(e){return(0,s.cj)([R.Z,ga.Z,ut.default],(function(){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ga.Z,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut.default,i=null!=e?n.getVoiceState(e.getGuildId(),o.getId()):null;return{selfDeaf:r.isSelfDeaf(),deaf:null!==(t=null==i?void 0:i.deaf)&&void 0!==t&&t}}(e,R.Z,ga.Z,ut.default)}))};var lce=n(79987),cce=n(466317),uce=n(308377),fce=n(6171),dce=n(961241),pce=n(554647),hce=n(168775),Ece=n(630781),yce=n(984479),mce=n(483255),_ce=n(575709),gce=n.n(_ce);function bce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vce(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Oce(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vce(i,r,o,a,s,"next",e)}function s(e){vce(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ice(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Tce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nce(e){Nce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Nce(e)}function Cce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tce(e,t,n[t])}))}return e}
function Ace(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Rce(e,t){return!t||"object"!==Mce(t)&&"function"!=typeof t?bce(e):t}function jce(e,t){jce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return jce(e,t)}var Mce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Nce(e);if(t){var o=Nce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rce(this,n)}}var xce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Lce=sd.default.getEnableHardwareAcceleration()?l.AnimatedAvatar:l.Avatar;var Dce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jce(e,t)}(o,e);var t=wce(o)
;function o(){Ice(this,o);var e;(e=t.apply(this,arguments)).copiedTimeout=new zE.V7;e.copiedDecayTimeout=new zE.V7;e.speakingWhileMutedTooltipTimeout=new zE.V7;e.state={hovered:!1,copiedStreak:0,shouldShowNametagTooltip:!1,shouldShowCopiedFeedback:!1,shouldShowSpeakingWhileMutedTooltip:!1,hoveringOnMute:!1};e.handleToggleSelfMute=function(){var t=e.props,n=t.serverMute,r=t.suppress;(0,qse.Z)(n,r)};e.handleToggleSelfDeaf=function(){Kse(e.props.serverDeaf)};e.handleOpenAccountSettings=function(){e.handleOpenSettings()};e.handleOpenSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.oAB.ACCOUNT,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;h.Z.open(e,t,n)};e.handleOpenSettingsContextMenu=function(t){var o=e.props.currentUser;if(null!=o){var i=bce(e);(0,xI.jW)(t,Oce((function(){var e,t;return xce(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(5418),n.e(66885),n.e(61012),n.e(64045),n.e(51388),n.e(43562),n.e(75034),n.e(22587)]).then(n.bind(n,22587))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ace(Cce({},e),{user:o,premiumSubscription:i.props.premiumSubscription,webBuildOverride:i.props.webBuildOverride}))}]}}))})))}};e.handleInputAudioContextMenu=function(e){(0,xI.jW)(e,Oce((function(){var e,t;return xce(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,666305))];case 1:e=o.sent(),t=e.default;return[2,function(){return(0,r.jsx)(t,{onClose:xI.Zy,renderInputDevices:!0,renderInputModes:!0,renderInputVolume:!0})}]}}))})))};e.handleOutputAudioContextMenu=function(e){(0,xI.jW)(e,Oce((function(){var e,t;return xce(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,666305))];case 1:e=o.sent(),t=e.default;return[2,function(){return(0,r.jsx)(t,{onClose:xI.Zy,renderOutputDevices:!0,renderOutputVolume:!0})}]}}))
})))};e.handleMouseEnter=function(){e.setState({hovered:!0})};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleMouseEnterMute=function(){e.setState({hoveringOnMute:!0,shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()};e.handleMouseLeaveMute=function(){e.setState({hoveringOnMute:!1})};e.handleCopyTag=function(){var t=e.props.currentUser,n=e.state,r=n.shouldShowNametagTooltip,o=n.copiedStreak;if(null!=t){(0,Gr.JG)(M_.ZP.getUserTag(t,{decoration:"never",identifiable:"always"}));Oe.default.track(w.rMx.TEXT_COPIED,{type:"User Tag"});var i={shouldShowCopiedFeedback:!0,shouldShowNametagTooltip:!0};r||(i.copiedStreak=o+1);e.setState(i,(function(){e.copiedTimeout.start(1e3,(function(){return e.setState({shouldShowNametagTooltip:!1})}));e.copiedDecayTimeout.start(2e3,(function(){return e.setState({copiedStreak:0})}))}))}};e.handleOccludedChanged=function(){e.props.occluded&&e.setState({shouldShowNametagTooltip:!1,
shouldShowSpeakingWhileMutedTooltip:!1})};e.handleSpeakingWhileMutedChanged=function(){var t=e.props,n=t.selfMute,r=t.serverMute,o=t.suppress,i=t.speakingWhileMuted,a=t.occluded,s=e.state.hoveringOnMute;if(i)s||!n||r||o||a||e.setState({shouldShowSpeakingWhileMutedTooltip:!0},(function(){e.speakingWhileMutedTooltipTimeout.start(2e3,(function(){return e.setState({shouldShowSpeakingWhileMutedTooltip:!1})}))}));else{e.setState({shouldShowSpeakingWhileMutedTooltip:!1});e.speakingWhileMutedTooltipTimeout.stop()}};e.renderStatusPickerPopout=function(t){var n=t.closePopout,o=e.props,i=o.showRichProfilePopup,a=o.currentUser;if(i){var s={userId:null==a?void 0:a.id,user:a,onClose:function(){e.handleMouseLeave();null==n||n()}};return(0,r.jsx)("div",{className:gce().accountProfilePopoutWrapper,children:(0,r.jsx)(jle,Cce({},s))})}return(0,r.jsx)(Dse,{onClose:function(){e.handleMouseLeave();null==n||n()}})};e.renderSettingsGear=function(){
var t=e.props,n=t.webBuildOverride,o=t.isEligibleForPomelo,i=null;null!=n?i=(0,r.jsx)(fce.Z,{width:9,height:9,className:gce().hasBuildOverride,"aria-hidden":!0}):o&&(i=(0,r.jsx)(Bt.fW,{color:kt.Z.STATUS_DANGER,className:gce().hasBuildOverride,"aria-hidden":!0}));return(0,r.jsx)(hce.Z,{tooltipText:null!=n?Q.Z.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:n.id}):Q.Z.Messages.USER_SETTINGS,onClick:e.handleOpenAccountSettings,onContextMenu:e.handleOpenSettingsContextMenu,innerClassName:null!=n||o?gce().buildOverrideButton:null,icon:cce.Z,children:i})};return e}var i=o.prototype;i.componentDidUpdate=function(e){var t=e.speakingWhileMuted,n=e.occluded,r=this.props,o=r.speakingWhileMuted;r.occluded!==n&&this.handleOccludedChanged();o!==t&&this.handleSpeakingWhileMutedChanged()};i.componentWillUnmount=function(){this.copiedTimeout.stop();this.copiedDecayTimeout.stop();this.speakingWhileMutedTooltipTimeout.stop()};i.renderCopiedSuccess=function(){
var e=this.state.copiedStreak,t=[Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_2,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_3,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_4,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_5,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_6,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_7,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_8,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_9,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_10,Q.Z.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_11],n=Math.min(Math.max(0,e-1),t.length-1);return(0,r.jsx)(l.Shaker,{isShaking:this.isCopiedStreakGodlike,children:t[n]})};i.renderNameTagV2=function(){var e=this.state.hovered,t=this.props,n=t.customStatusActivity,o=t.userTag,i=t.currentUser,a=t.status;if(null==i)return null;var s,l=M_.ZP.getName(i),c=o,u=null!=a&&a!==w.Skl.UNKNOWN,f=null!=n;(f||u&&i.isPomelo())&&(s=(0,r.jsx)(Kne.Z,{hoverText:c,forceHover:e,children:f?(0,r.jsx)(tse.Z,{activity:n,
emojiClassName:gce().emoji,className:gce().customStatus}):M_.ZP.humanizeStatus(a)}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:gce().panelTitleContainer,children:(0,r.jsx)(yce.Z,{children:l})}),(0,r.jsx)("div",{className:gce().panelSubtextContainer,children:(0,r.jsx)(Ece.Z,{children:null!=s?s:c})})]})};i.renderNameTag=function(){if(this.props.inGlobalDisplayNameExperiment)return this.renderNameTagV2();var e=this.props,t=e.customStatusActivity,n=e.hidePrivateData,o=e.currentUser,i=this.state.hovered;if(null==o)return null;var a=n?null:"#".concat(o.discriminator),s=null!=t?(0,r.jsx)(Kne.Z,{hoverText:a,forceHover:i,children:(0,r.jsx)(tse.Z,{activity:t,emojiClassName:gce().emoji,className:gce().customStatus})}):a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Text,{className:gce().usernameContainer,variant:"text-sm/normal",children:(0,r.jsx)(yce.Z,{children:o.username})}),null!=s?(0,r.jsx)(Ece.Z,{className:gce().discriminator,children:s}):null]})}
;i.renderCopiableNameTag=function(){var e=this,t=this.props.currentUser,n=this.state,o=n.shouldShowNametagTooltip,i=n.shouldShowCopiedFeedback;if(null==t)return null;var a=null,s=l.TooltipColors.PRIMARY;if(Gr.wS){a=Q.Z.Messages.ACCOUNT_CLICK_TO_COPY;if(i){a=this.renderCopiedSuccess();s=this.isCopiedStreakGodlike?l.TooltipColors.RED:l.TooltipColors.GREEN}}return(0,r.jsx)(l.Tooltip,{text:a,forceOpen:o,"aria-label":!!Gr.wS&&Q.Z.Messages.ACCOUNT_CLICK_TO_COPY,color:s,delay:500,onAnimationRest:function(t,n){i&&!o&&n.phase===w.UkZ.LEAVE&&e.setState({shouldShowCopiedFeedback:!1})},children:function(t){var n=t.onClick,o=t.onMouseEnter,a=Pce(t,["onClick","onMouseEnter"]);return(0,r.jsx)(l.Clickable,Ace(Cce({},a),{onMouseEnter:function(){if(i){e.copiedTimeout.stop();e.setState({shouldShowNametagTooltip:!1},o)}else null==o||o()},onClick:function(){null==n||n();e.handleCopyTag()},className:ze()(gce().nameTag,Tce({},gce().canCopy,Gr.wS)),children:e.renderNameTag()}))}})}
;i.renderAvatarWithPopout=function(){var e=this,t=this.props,n=t.speaking,o=t.streaming,i=t.currentUser,a=t.status,s=t.showTagAsButton,c=t.showTaglessAccountPanel,u=t.canRenderAvatarDecorations;if(null==i)return null;var f=u?(0,rn.NZ)({userId:i.id,avatarDecoration:i.avatarDecoration,size:(0,vU.y)(l.AvatarSizes.SIZE_32)}):null;return(0,r.jsx)(D$.Z,{object:w.qAy.AVATAR,children:(0,r.jsx)(l.Popout,{renderPopout:this.renderStatusPickerPopout,position:"top",align:"left",animation:l.Popout.Animation.FADE,spacing:14,fixed:!0,preload:function(){return(0,SU.Z)(i.id,null==i?void 0:i.getAvatarURL(null,80))},children:function(t,u){var d;return(0,r.jsxs)(l.Clickable,Ace(Cce({},t),{"aria-label":Q.Z.Messages.SET_STATUS,className:ze()(gce().avatarWrapper,(d={},Tce(d,gce().withTagAsButton,s),Tce(d,gce().withTagless,c),d)),children:[(0,r.jsx)(Lce,{size:l.AvatarSizes.SIZE_32,src:i.getAvatarURL(void 0,32,!1),avatarDecoration:f,"aria-label":i.username,status:o?w.Skl.STREAMING:a,isSpeaking:n,
className:gce().avatar}),s||c?(0,r.jsx)("div",{className:ze()(gce().nameTag,Tce({},gce().canCopy,Gr.wS)),children:c?(0,r.jsx)(hce.Z,{tooltipText:null,icon:u.isShown?Dr.Z:Zr.Z,role:"switch","aria-label":Q.Z.Messages.SET_STATUS}):e.renderNameTag()}):null]}))}})})};i.renderNameZone=function(){var e=this,t=this.props,n=t.currentUser,o=t.dismissibleContents,i=this.props,a=i.showTagAsButton,s=i.showTaglessAccountPanel;return null==n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(dM.Z,{contentTypes:o.avatar,children:function(t){t.visibleContent;return e.renderAvatarWithPopout()}}),a||s?null:this.renderCopiableNameTag()]})};i.render=function(){var e=this,t=this.props,n=t.currentUser,o=t.selfDeaf,i=t.selfMute,a=t.awaitingRemote,s=t.serverMute,c=t.serverDeaf,u=t.suppress,f=t.dismissibleContents,d=this.state.shouldShowSpeakingWhileMutedTooltip;if(null==n)return null;var p=i||u||s,h=o||c;return(0,r.jsxs)("div",{className:gce().container,onMouseEnter:this.handleMouseEnter,
onMouseLeave:this.handleMouseLeave,children:[this.renderNameZone(),(0,r.jsxs)(jg.Z,{grow:0,children:[(0,r.jsx)(hce.Z,{tooltipText:d?Q.Z.Messages.ACCOUNT_SPEAKING_WHILE_MUTED:(0,Yse.Z)(i,s,u,a),tooltipColor:d?l.TooltipColors.GREEN:void 0,tooltipForceOpen:d||void 0,onMouseEnter:this.handleMouseEnterMute,onMouseLeave:this.handleMouseLeaveMute,icon:p?pce.Z:dce.Z,iconForeground:p?gce().strikethrough:null,onClick:this.handleToggleSelfMute,innerClassName:ze()(Tce({},gce().redIcon,s||u)),onContextMenu:this.handleInputAudioContextMenu,role:"switch","aria-label":Q.Z.Messages.MUTE,"aria-checked":p,disabled:a}),(0,r.jsx)(hce.Z,{tooltipText:Fse(o,c,a),icon:o?uce.Z:Qz.Z,onClick:this.handleToggleSelfDeaf,onContextMenu:this.handleOutputAudioContextMenu,innerClassName:ze()(Tce({},gce().redIcon,c)),iconForeground:h?gce().strikethrough:null,role:"switch","aria-label":Q.Z.Messages.DEAFEN,"aria-checked":h,disabled:a}),(0,r.jsx)(dM.Z,{contentTypes:f.settings,children:function(t){
var n=t.visibleContent,o=t.markAsDismissed;switch(n){case ws.z$.QUEST_2_ENROLLMENT_TOOLTIP:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(tle,{markAsDismissed:o,partnerGame:mce.X2.FORTNITE})},children:e.renderSettingsGear});case ws.z$.QUEST_2_COMPLETION_TOOLTIP:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(ole,{markAsDismissed:o,partnerGame:mce.X2.FORTNITE})},children:e.renderSettingsGear});case ws.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(ace,{markAsDismissed:o})},children:e.renderSettingsGear});case ws.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Ble,{markAsDismissed:o})},children:e.renderSettingsGear});case ws.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE:
return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Fle,{markAsDismissed:o})},children:e.renderSettingsGear});case ws.z$.SOUNDBOARD_VOLUME_EDUCATION:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(tce,{markAsDismissed:o})},children:e.renderSettingsGear});case ws.z$.USER_SAFETY_CONSUMER_EDUCATION_REPORTING:return(0,r.jsx)(l.Popout,{position:"top",align:"center",shouldShow:!0,renderPopout:function(){return(0,r.jsx)(Wle,{markAsDismissed:o})},children:e.renderSettingsGear});default:return e.renderSettingsGear()}}})]})]})};!function(e,t,n){t&&Sce(e.prototype,t);n&&Sce(e,n)}(o,[{key:"isCopiedStreakGodlike",get:function(){return this.state.copiedStreak>=10}}]);return o}(o.PureComponent);function Zce(){var e=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),t=(0,X6._g)(mce.X2.FORTNITE),n=(0,s.e7)([ut.default],(function(){return ut.default.getId()
})),i=Da.Ok.useSetting(),a=o.useMemo((function(){return null!=i?(0,Xse.Z)(i):null}),[i]),c=(0,s.cj)([wE.Z],(function(){return{streaming:null!=wE.Z.findActivity((function(e){return e.type===w.IIU.STREAMING})),status:wE.Z.getStatus()}})),u=c.streaming,f=c.status,d=(0,Gse.Z)({userId:n}),p=M_.ZP.useUserTag(e,{decoration:"never"}),h=(0,s.e7)([sc.Z],(function(){return sc.Z.hidePersonalInformation})),E=(0,s.e7)([C.Z,S.Z],(function(){var e=C.Z.getChannelId();return null!=e?S.Z.getChannel(e):null})),y=(0,lce.Z)(E),m=y.mute,_=y.selfMute,g=y.suppress,b=sce(E),v=b.selfDeaf,O=b.deaf,I=(0,s.e7)([Hse.C],(function(){var e;return(0,Vse.fD)()?null===(e=Hse.C.getCurrentBuildOverride().overrides)||void 0===e?void 0:e.discord_web:null})),N=(0,s.e7)([c9.Z],(function(){return c9.Z.getPremiumTypeSubscription()})),A=(0,s.e7)([ga.Z],(function(){return ga.Z.getEverSpeakingWhileMuted()})),P=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),R=(0,
l.useModalsStore)(l.hasAnyModalOpenSelector)||P||cf.s.isDisallowPopupsSet(),j=(0,nce.rW)(),M=(0,Mle.b)(),x=(0,XB.Z)().analyticsLocations;(0,kse.U)(!0,{analyticsLocations:x});var L=(0,Bse.L)();o.useEffect((function(){ale.trackExposure({})}));var D=(0,s.e7)([bO.Z],(function(){return null!=bO.Z.getAwaitingRemoteSessionInfo()})),Z=ale.useExperiment({},{autoTrackExposure:!1}),U=Z.isPopupEnabled,G=Z.isJoinedTagButtonEnabled,k=Z.isTaglessAccountPanelEnabled,B=(0,s.e7)([Qse.Z],(function(){return Qse.Z.isCurrentQuestCompleted})),H=(0,s.e7)([Qse.Z],(function(){return Qse.Z.currentDropQuestGameTitle})),V=(0,ile.n)(),F=Use.useExperiment({},{autoTrackExposure:!1}).enabled,z=Lle(),W=Zse.useExperiment({},{autoTrackExposure:!1}).bucket,K=Ule();Dle();var q=(0,s.e7)([pp.Z],(function(){return pp.Z.hasHadOtherUserPlaySoundInSession()})),X={avatar:[],settings:[]};if(!R){if(t){var Q;X.settings.push(ws.z$.QUEST_2_ENROLLMENT_TOOLTIP);B&&H===(null===(Q=(0,
z6.BS)(mce.X2.FORTNITE))||void 0===Q?void 0:Q.title)&&X.settings.push(ws.z$.QUEST_2_COMPLETION_TOOLTIP)}V&&F&&X.settings.push(ws.z$.USER_SAFETY_SAFE_DIRECT_MESSAGING);z&&(1===W?X.settings.push(ws.z$.USER_SAFETY_CONSUMER_EDUCATION_MUTE):X.settings.push(ws.z$.USER_SAFETY_CONSUMER_EDUCATION_BLOCK));q&&X.settings.push(ws.z$.SOUNDBOARD_VOLUME_EDUCATION);K&&X.settings.push(ws.z$.USER_SAFETY_CONSUMER_EDUCATION_REPORTING)}return(0,r.jsx)(Dce,{currentUser:e,customStatusActivity:a,dismissibleContents:X,userTag:p,hidePrivateData:h,inGlobalDisplayNameExperiment:j,occluded:R,premiumSubscription:N,selfDeaf:v,selfMute:_,serverDeaf:O,serverMute:m,showRichProfilePopup:U,showTagAsButton:G,showTaglessAccountPanel:k,speaking:d,speakingWhileMuted:A,status:f,streaming:u,suppress:g,webBuildOverride:I,awaitingRemote:D,canRenderAvatarDecorations:L,isEligibleForPomelo:M})}var Uce=n(800296),Gce=n(783072),kce=n.n(Gce);function Bce(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function Hce(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bce(i,r,o,a,s,"next",e)}function s(e){Bce(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Vce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yce(e){Yce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Yce(e)}function zce(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Wce(e,t){return!t||"object"!==qce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kce(e,t){Kce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Kce(e,t)}var qce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Yce(e);if(t){var o=Yce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wce(this,n)}}var Qce=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},
trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},$ce=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Kce(e,t)}(o,e);var t=Xce(o);function o(){Vce(this,o);return t.apply(this,arguments)}var i=o.prototype;i.handleContextMenu=function(e,t){(0,xI.jW)(e,Hce((function(){var e,o;return Qce(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,zce(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fce(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})))};i.renderUser=function(e){var t=this
;return null==e?null:(0,r.jsxs)(jg.Z,{className:kce().user,align:jg.Z.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)},children:[(0,r.jsx)(l.Avatar,{src:e.getAvatarURL(void 0,24),"aria-label":e.username,size:l.AvatarSizes.SIZE_24,className:kce().avatar}),(0,r.jsx)(mQ.Z,{user:e,className:kce().tag,usernameClass:kce().username,discriminatorClass:kce().discriminator})]},e.id)};i.render=function(){var e=this,t=this.props,n=t.party,o=t.header,i=n.map((function(t){return e.renderUser(t)}));return(0,r.jsxs)("div",{className:kce().userList,children:[(0,r.jsx)("div",{className:kce().header,children:o}),(0,r.jsx)(l.ScrollerThin,{className:kce().content,fade:!0,children:i})]})};return o}(o.PureComponent);const Jce=$ce;var eue=n(811324),tue=n(294162),nue=n(697960),rue=n.n(nue);function oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iue(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function aue(e){aue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return aue(e)}function sue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){iue(e,t,n[t])}))}return e}function lue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function cue(e,t){
return!t||"object"!==fue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uue(e,t){uue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return uue(e,t)}var fue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function due(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=aue(e);if(t){var o=aue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cue(this,n)}}var pue=5,hue=4,Eue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&uue(e,t)}(n,e);var t=due(n);function n(){oue(this,n);var e;(e=t.apply(this,arguments)).renderPartyMember=function(t,n){if(null==t)return null;var i,a=e.props,s=a.host,c=a.renderUserPopout,u=a.onUserContextMenu;i=(null==s?void 0:s.id)===t.id?Q.Z.Messages.SPOTIFY_LISTEN_ALONG_HOST:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;return(0,r.jsx)(l.Popout,{preload:function(){return(0,SU.Z)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){tb()(null!=t,"");return c(e,t)},position:"top",align:"center",children:function(e){return(0,r.jsx)(l.Tooltip,{text:i,children:function(r){var i=r.onMouseEnter,a=r.onMouseLeave;return(0,o.createElement)(l.Avatar,lue(sue({},e),{key:t.id,src:t.getAvatarURL(void 0,24),size:l.AvatarSizes.SIZE_24,className:ze()(rue().avatar,n),"aria-label":t.username,onMouseEnter:i,onMouseLeave:a,onContextMenu:function(e){null!=t&&(null==u||u(e,t))}}))}})}},t.id)}
;e.renderPartyMemberOverflow=function(t,n,o){var i=e.props.renderOverflowPopout;return(0,r.jsx)(l.Popout,{renderPopout:i,children:function(e){return(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS,children:function(o){return(0,r.jsx)("div",lue(sue({className:ze()(rue().overflow,n)},o,e),{children:t}))}})}},o)};return e}var i=n.prototype;i.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===(null==n?void 0:n.id)};i.renderTitle=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(yce.Z,{children:this.isHost()?Q.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):Q.Z.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER}),(0,r.jsx)(Ece.Z,{children:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER})]})};i.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:(0,r.jsx)(hce.Z,{tooltipText:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_STOP,onClick:e,icon:JI.Z})};i.renderHelpIcon=function(){
if(!this.isHost())return null;return(0,r.jsx)(hce.Z,{tooltipText:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_INFO,onClick:function(){window.open(X.Z.getArticleURL(w.BhN.SPOTIFY_CONNECTION),"_blank")},icon:fce.Z})};i.render=function(){return(0,r.jsxs)("div",{className:rue().listeningAlong,children:[this.renderTitle(),(0,r.jsx)(jg.Z,{justify:jg.Z.Justify.END,className:rue().party,children:(0,r.jsx)(tue.Z,{users:this.props.party,max:this.isHost()?pue:hue,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})}),(0,r.jsxs)("div",{className:rue().icons,children:[this.renderHelpIcon(),this.renderStopListeningButton()]})]})};return n}(o.PureComponent);const yue=Eue;function mue(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function _ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mue(i,r,o,a,s,"next",e)}function s(e){mue(i,r,o,a,s,"throw",e)}a(void 0)
}))}}function gue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bue(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vue(e){vue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vue(e)}function Oue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bue(e,t,n[t])}))}return e}function Iue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Sue(e,t){return!t||"object"!==Nue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tue(e,t){Tue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tue(e,t)}var Nue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vue(e);if(t){var o=vue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return Sue(this,n)}}var Aue=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){
i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Pue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tue(e,t)}(o,e);var t=Cue(o);function o(){gue(this,o);var e;(e=t.apply(this,arguments)).handleUserContextMenu=function(e,t){(0,xI.jW)(e,_ue((function(){var e,o;return Aue(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Iue(Oue({},e),{user:t}))}]}}))})))};e.renderOverflowPopout=function(){var t=e.props.party;return(0,r.jsx)(Jce,{party:t,header:Q.Z.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:t.length})})};return e}var i=o.prototype;i.hasParty=function(e){return e.length>1}
;i.handleStopListening=function(){(0,eue.Z)()};i.renderUserPopout=function(e,t){return(0,r.jsx)(Xz.Z,Iue(Oue({},e),{userId:t.id}))};i.render=function(){var e=this.props,t=e.currentUser,n=e.host,o=e.party;return this.hasParty(o)&&null!=t?(0,r.jsx)(yue,{currentUser:t,host:n,party:o,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null};return o}(o.PureComponent);const Rue=s.ZP.connectStores([M1.Z,Y.default,Jf.Z,cJ.Z],(function(){var e,t,n=M1.Z.getSyncingWith(),r=M1.Z.getActivity(),o=Y.default.getCurrentUser(),i=[];if(null!=n){e=Y.default.getUser(n.userId);t=n.partyId}else if(null!=r&&null!=r.party&&null!=r.party.id){e=o;t=r.party.id}if(null!=t){var a;i=Ke()(Array.from(null!==(a=cJ.Z.getParty(t))&&void 0!==a?a:[])).map((function(e){return Y.default.getUser(e)})).filter(kr.lm).orderBy([function(t){return null==e||e.id===t.id},function(e){return Jf.Z.isFriend(e.id)
}],["desc","desc"]).value()}return{currentUser:o,host:e,party:i}}))(Pue);var jue,Mue,wue=n(216151),xue=n(946767),Lue=n(976010),Due=[(jue="Watch Together",Mue="2021-09_watch_together_rollout",(0,it.B)({kind:"guild",id:Mue,label:"Exposure tracking for ".concat(jue," (do not override)"),defaultConfig:{},treatments:[]}))];var Zue=n(555086),Uue=n(22664),Gue=n(59732),kue=n(436771),Bue=n(948243),Hue=n(907078);function Vue(){var e=(0,s.e7)([ut.default],(function(){return ut.default.getId()})),t=Hue.Z.useExperiment({}).canBroadcast,n=(0,s.e7)([wE.Z],(function(){return wE.Z.getBroadcast()}));return t&&null!=n&&n.userId===e}var Fue=n(496388),Yue=n(122590),zue=n(423871),Wue=n(484802),Kue=n(550677),que=n(397897),Xue=n.n(que);function Que(e){var t=e.platform;return t===Kue.YE.XBOX?(0,r.jsx)(f0.Z,{className:Xue().icon}):t===Kue.YE.PLAYSTATION?(0,r.jsx)(zue.Z,{className:Xue().icon}):null}function $ue(e){var t,n=e.voiceState,o=e.awaitingRemoteSessionInfo,i=null!=o?(0,Wue.y)(o.type):null,a=(0,
s.e7)([c_.Z],(function(){var e;return null===(e=c_.Z.getSessionById(null!==(t=null==n?void 0:n.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),c=null!=i?i:a;if(null==c||!Kue.al.has(c))return null;var u=null!=o,f=u?c===Kue.YE.XBOX?Q.Z.Messages.XBOX_TRANSFERRING_ELLIPSIS:Q.Z.Messages.PLAYSTATION_TRANSFERRING_ELLIPSIS:c===Kue.YE.XBOX?Q.Z.Messages.XBOX_REMOTE_CONNECTED.format():Q.Z.Messages.PLAYSTATION_REMOTE_CONNECTED.format();return(0,r.jsxs)("div",{className:ze()(Xue().root,u?Xue().connecting:Xue().connected),children:[(0,r.jsx)(Que,{platform:c}),(0,r.jsx)(l.Text,{color:u?"header-primary":"always-white",variant:"text-xs/medium",children:f})]})}var Jue=n(371607),efe=n(113865),tfe=n(203158),nfe=n(594125),rfe=n(261258),ofe=n.n(rfe);function ife(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function afe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function sfe(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){afe(i,r,o,a,s,"next",e)}function s(e){afe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lfe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lfe(e,t,n[t])}))}return e}function ufe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ffe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function dfe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ife(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ife(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pfe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function hfe(e){var t=function(e){null==e||e();O()},i=function(e){null!=g&&(0,xI.jW)(e,sfe((function(){var e,t;return pfe(this,(function(o){switch(o.label){case 0:return[4,n.e(56674).then(n.bind(n,656674))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,cfe({guildId:g},e))}]}}))})))},a=e.channel,s=e.iconClassName,c=e.className,u=ffe(e,["channel","iconClassName","className"]),f=(0,Ve.ZP)([Y.default],(function(){return Y.default.getCurrentUser()})),d=(0,lce.Z)(a),p=d.mute,h=d.suppress,E=(0,Ve.ZP)([ga.Z],(function(){
return ga.Z.isDeaf()})),y=dfe(o.useState(!1),2),m=y[0],_=y[1],g=a.getGuildId(),b=dfe((0,efe.c)([ws.z$.SOUNDBOARD_EDUCATION]),2),v=b[0],O=b[1],I=(0,XB.Z)(fp.Z.SOUNDBOARD_BUTTON).AnalyticsLocationProvider,S=Xe().v4(),T=function(e){return(0,r.jsx)(l.Popout,{shouldShow:m,position:"top",onRequestClose:function(){return _(!1)},renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(nfe.Z,{guildId:g,channel:a,onClose:t,analyticsSource:"rtc panel"})},children:function(n){return(0,r.jsx)("div",{children:(0,r.jsx)(l.Button,ufe(cfe(ufe(cfe({},e,n),{className:c,wrapperClassName:c,disabled:p||h||E,onClick:function(){var n;t();null==e||null===(n=e.onClick)||void 0===n||n.call(e);_(!m)},onContextMenu:i,fullWidth:!0,size:l.Button.Sizes.SMALL}),u),{children:(0,r.jsx)(tfe.Z,{className:s})}))})}})};return v===ws.z$.SOUNDBOARD_EDUCATION&&(0,M_.Fc)(f)?(0,r.jsx)(l.Popout,{positionKey:S,position:"top",align:"center",shouldShow:!0,renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)($le,{
header:Q.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_HEADER,body:(0,r.jsx)(l.Text,{variant:"text-sm/normal",color:"always-white",children:Q.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_BODY.format()}),tryItText:Q.Z.Messages.SOUNDBOARD_NEW_FEATURE_TOOLTIP_TRY_IT_OUT,dismissibleContent:ws.z$.SOUNDBOARD_EDUCATION,artClassName:ofe().educationFeatureArt,onTryFeature:function(){_(!0);t(n)},onClose:function(){return t(n)},shouldUseHorizontalButtons:!0,inlineArt:!0})},children:function(){return T()}}):(0,r.jsx)(I,{children:(0,r.jsx)(l.Tooltip,{text:p?Q.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:h?Q.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:E?Q.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED:Q.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD,children:function(e){return T(e)}})})}var Efe=n(713717),yfe=n(672522),mfe=n(137390),_fe=n(130166),gfe=n(199047),bfe=n(708258),vfe=n(259099),Ofe=n(1056),Ife=n(289261),Sfe=n(665435),Tfe=n(537077),Nfe=n(759864),Cfe=n(542231);function Afe(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pfe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rfe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function jfe(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=Rfe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Pfe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Afe(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{className:l,d:"M10.889 4C10.889 3.44772 11.3367 3 11.889 3H12.1112C12.6635 3 13.1112 3.44772 13.1112 4V20C13.1112 20.5523 12.6635 21 12.1112 21H11.889C11.3367 21 10.889 20.5523 10.889 20V4Z",fill:s}),(0,r.jsx)("path",{className:l,
d:"M6.44439 6.25C6.44439 5.69772 6.89211 5.25 7.44439 5.25H7.66661C8.2189 5.25 8.66661 5.69772 8.66661 6.25V17.75C8.66661 18.3023 8.2189 18.75 7.66661 18.75H7.44439C6.89211 18.75 6.44439 18.3023 6.44439 17.75V6.25Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M3.22222 15.375C3.77451 15.375 4.22222 14.9273 4.22222 14.375L4.22222 9.625C4.22222 9.07272 3.77451 8.625 3.22222 8.625H3C2.44772 8.625 2 9.07272 2 9.625V14.375C2 14.9273 2.44772 15.375 3 15.375H3.22222Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M22.0001 13.25C22.0001 13.8023 21.5523 14.25 21.0001 14.25H20.7778C20.2255 14.25 19.7778 13.8023 19.7778 13.25V10.75C19.7778 10.1977 20.2255 9.75 20.7778 9.75H21.0001C21.5523 9.75 22.0001 10.1977 22.0001 10.75V13.25Z",fill:s}),(0,r.jsx)("path",{className:l,d:"M16.3333 7.5C15.781 7.5 15.3333 7.94772 15.3333 8.5V15.5C15.3333 16.0523 15.781 16.5 16.3333 16.5H16.5555C17.1078 16.5 17.5555 16.0523 17.5555 15.5V8.5C17.5555 7.94772 17.1078 7.5 16.5555 7.5H16.3333Z",fill:s})]}))}function Mfe(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wfe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xfe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Lfe(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=xfe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",wfe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Mfe(e,t,n[t])}))}return e}({},(0,MT.Z)(c)),{width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M30.6666 24.9644L35.1111 20.5199V31C35.1111 32.1046 34.2156 33 33.1111 33H32.6666C31.562 33 30.6666 32.1046 30.6666 31V24.9644Z",fill:s}),(0,r.jsx)("path",{d:"M26.2224 14.1463V8C26.2224 6.89543 25.327 6 24.2224 6H23.7779C22.6734 6 21.7779 6.89543 21.7779 8V18.5907L26.2224 14.1463Z",fill:s}),(0,r.jsx)("path",{
d:"M21.7779 33.8543L21.9254 33.7056L26.2224 29.4086V40C26.2224 41.1046 25.327 42 24.2224 42H23.7779C22.6734 42 21.7779 41.1046 21.7779 40V33.8543Z",fill:s}),(0,r.jsx)("path",{d:"M17.3332 23.0354L12.8888 27.4799V12.5C12.8888 11.3954 13.7842 10.5 14.8888 10.5H15.3332C16.4378 10.5 17.3332 11.3954 17.3332 12.5V23.0354Z",fill:s}),(0,r.jsx)("path",{d:"M8.44445 28.75C8.44445 29.8546 7.54902 30.75 6.44445 30.75H6C4.89543 30.75 4 29.8546 4 28.75V19.25C4 18.1454 4.89543 17.25 6 17.25H6.44445C7.54902 17.25 8.44445 18.1454 8.44445 19.25L8.44445 28.75Z",fill:s}),(0,r.jsx)("path",{d:"M44.0001 26.5C44.0001 27.6046 43.1047 28.5 42.0001 28.5H41.5557C40.4511 28.5 39.5557 27.6046 39.5557 26.5V21.5C39.5557 20.3954 40.4511 19.5 41.5557 19.5H42.0001C43.1047 19.5 44.0001 20.3954 44.0001 21.5V26.5Z",fill:s}),(0,r.jsx)("path",{d:"M42 8.54L39.46 6L6 39.46L8.54 42L16.92 33.64L19.38 31.16L22.7 27.84L29.98 20.56L42 8.54Z",fill:s,className:l})]}))}
var Dfe=n(108206),Zfe=n(235606),Ufe=n(161482),Gfe=n(102770),kfe=n(565102),Bfe=n(502653),Hfe=n(877116),Vfe=n(636246),Ffe=n(519718),Yfe=n(419348),zfe=n(469413),Wfe=n.n(zfe);function Kfe(){return(0,r.jsxs)("div",{className:Wfe().icon,children:[(0,r.jsx)(an.ZP,{mask:an.ZP.Masks.STATUS_SCREENSHARE,width:20,height:20,children:(0,r.jsx)(Gae.Z,{width:20,height:20})}),(0,r.jsx)(JI.Z,{className:Wfe().badge})]})}function qfe(){return(0,r.jsx)(hce.Z,{tooltipText:Q.Z.Messages.STOP_BROADCASTING,onClick:function(){(0,Bfe.b)();d.default.disconnect()},icon:Kfe})}function Xfe(e){var t=e.channel;return(0,r.jsx)(hce.Z,{tooltipText:Q.Z.Messages.AUDIENCE_DISCONNECT,onClick:function(){(0,Ffe.Z)(t)?(0,Vfe.Us)(t):d.default.disconnect()},icon:Yfe.Z})}function Qfe(e){var t=e.channel;return(0,r.jsx)(hce.Z,{tooltipText:Q.Z.Messages.DISCONNECT_SELF,onClick:function(){(0,kfe.A)({channelId:t.id,shouldDisconnectCall:!0})||((0,Hfe.Z)(t)?(0,Dl.lC)(t):d.default.disconnect())},icon:Yfe.Z})}function $fe(e){
var t=e.channel,n=Vue();return t.isGuildStageVoice()?(0,r.jsx)(Xfe,{channel:t}):n&&t.isBroadcastChannel()?(0,r.jsx)(qfe,{}):(0,r.jsx)(Qfe,{channel:t})}var Jfe=n(895462),ede=n(839184),tde=n(933850),nde=n(462360),rde=n(69540),ode=n(249090),ide=n.n(ode);function ade(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sde(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function lde(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sde(i,r,o,a,s,"next",e)}function s(e){sde(i,r,o,a,s,"throw",e)}a(void 0)}))}}function cde(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ude(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cde(e,t,n[t])}))}return e}function fde(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dde(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e
}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ade(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ade(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pde=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},hde={offset:2},Ede={serverDeaf:{icon:uce.Z,colorize:!0,getStatus:function(){return Q.Z.Messages.SERVER_DEAFENED}},serverMute:{icon:pce.Z,colorize:!0,getStatus:function(){return Q.Z.Messages.SERVER_MUTED}},deaf:{icon:uce.Z,colorize:!1,getStatus:function(){return Q.Z.Messages.VOICE_CHANNEL_DEAFENED}},mute:{icon:pce.Z,colorize:!1,getStatus:function(){
return Q.Z.Messages.VOICE_CHANNEL_MUTED}}};function yde(e){var t,o,i=function(e){null!=m?(0,xI.jW)(e,lde((function(){var e,t;return pde(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(14136)]).then(n.bind(n,914136))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,fde(ude({},e),{user:c,guildId:m,channel:a,showMediaItems:!0}))}]}}))}))):(0,xI.jW)(e,lde((function(){var e,t;return pde(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,fde(ude({},e),{user:c,showMediaItems:!0}))}]}}))})))},a=e.channel,c=e.user,u=e.nick,f=e.mute,d=e.deaf,p=e.serverMute,h=e.serverDeaf,E=(0,s.e7)([ga.Z],(function(){return ga.Z.isLocalMute(c.id)})),y=(0,Gse.Z)({userId:c.id,checkSoundSharing:!0
}),m=null!==(t=a.getGuildId())&&void 0!==t?t:void 0,_=c.getAvatarURL(a.guild_id,24),g=null!=u?u:c.username,b=null!==(o=h?Ede.serverDeaf:d?Ede.deaf:p?Ede.serverMute:f||E?Ede.mute:void 0)&&void 0!==o?o:{},v=b.icon,O=b.colorize,I=b.getStatus,S=null!=I?Q.Z.Messages.VOICE_PANEL_USER_TOOLTIP.format({userName:g,status:I()}):g;return(0,r.jsx)(l.Popout,{preload:function(){return(0,SU.Z)(c.id,c.getAvatarURL(m,80),{guildId:m,channelId:a.id})},position:"top",renderPopout:function(e){return(0,r.jsx)(Xz.Z,ude({userId:c.id,guildId:m,channelId:a.id},e))},children:function(e){return(0,r.jsx)(l.Tooltip,{text:S,children:function(t){return(0,r.jsx)(l.Clickable,fde(ude({},t,e),{className:ide().avatarContainer,onContextMenu:i,focusProps:hde,children:(0,r.jsx)(Jfe.Z,{shakeLocation:rde.oZ.VOICE_USER,isShaking:y,children:(0,r.jsx)("div",{className:ze()(ide().avatar,cde({},ide().speaking,y)),style:{backgroundImage:"url(".concat(_,")")},children:null!=v?(0,r.jsx)(v,{
className:ze()(ide().avatarIconOverlay,cde({},ide().avatarIconRed,O)),width:16,height:16,foreground:ide().avatarIconRed}):null})})}))}})}})}function mde(e){var t=e.voiceStates,n=e.channel,i=e.className,a=dde(o.useState(!1),2),c=a[0],u=a[1],f=c?nde.Z:tde.Z,d=(0,r.jsx)(ede.ZP,{className:ide().expandButton,onClick:function(){return u(!c)},color:ede.YX.PRIMARY,size:ede.tT.SIZE_24,tooltip:c?Q.Z.Messages.VOICE_PANEL_HIDE_EXTRAS:Q.Z.Messages.VOICE_PANEL_SHOW_EXTRAS,icon:(0,r.jsx)(f,{width:16,height:16}),focusProps:hde}),p=(0,s.e7)([ut.default],(function(){return ut.default.getId()}),[]),h=dde(function(e,t){var n,r=[],o=!0,i=!1,a=void 0;try{for(var s,l=function(){var e=s.value;if(e.user.id===t)return"continue";if(r.some((function(t){return t.user.id===e.user.id})))return"continue";if(r.length>=7)return{v:[r,!0]};r.push(e)},c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=l();if("object"==((n=u)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n))return u.v}
}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return[r,!1]}(t,p),2),E=h[0],y=h[1],m=y&&c?t:E;return m.length<=0?null:(0,r.jsx)(l.ScrollerThin,{className:ze()(ide().scroller,i),fade:!0,children:(0,r.jsxs)("div",{className:ide().voiceUsers,role:"group","aria-label":Q.Z.Messages.VOICE_PANEL_USERS_A11Y_LABEL,children:[m.map((function(e){var t=e.user,o=e.nick,i=e.voiceState;return t.id!==p?(0,r.jsx)(yde,{channel:n,user:t,nick:o,mute:i.isVoiceMuted(),deaf:i.isVoiceDeafened(),video:i.selfVideo,serverMute:i.mute,serverDeaf:i.deaf},t.id):null})),y?d:null]})})}var _de=n(58005),gde=n.n(_de);function bde(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vde(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ode(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vde(i,r,o,a,s,"next",e)}
function s(e){vde(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ide(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sde(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tde(e){Tde=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Tde(e)}function Nde(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sde(e,t,n[t])}))}return e}function Cde(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ade(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Pde(e,t){return!t||"object"!==Mde(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rde(e,t){Rde=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Rde(e,t)}function jde(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bde(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mde=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function wde(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Tde(e);if(t){var o=Tde(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pde(this,n)}}var xde=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Lde(e){var t=e.currentTarget;Oe.default.track(w.rMx.NOISE_CANCELLATION_LINK_CLICKED,{text:t.text,href:t.href,location:{section:w.jXE.NOISE_CANCELLATION_POPOUT}})}function Dde(){var e=o.useRef(null);(0,l.useFocusLock)(e);o.useEffect((function(){return Oe.default.track(w.rMx.OPEN_POPOUT,{type:w.jXE.NOISE_CANCELLATION_POPOUT})}),[]);var t=(0,s.e7)([ga.Z],(function(){return ga.Z.getNoiseCancellation()}));return(0,r.jsxs)("div",{ref:e,className:gde().noiseCancellationPopout,children:[(0,r.jsx)(l.FormSwitch,{hideBorder:!0,className:Hg().marginBottom4,value:t,onChange:function(){
return _a.Z.setNoiseCancellation(!t,{section:w.jXE.NOISE_CANCELLATION_POPOUT})},note:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_DESCRIPTION,children:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_HEADER}),(0,r.jsx)(xue.Z,{title:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_MIC_TEST_TITLE,notchBackground:xue._.BLACK,buttonTest:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_TEST,buttonStop:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_STOP,buttonClassName:gde().micTestButton,buttonColor:l.Button.Colors.PRIMARY,location:{section:w.jXE.NOISE_CANCELLATION_POPOUT}}),(0,r.jsx)(l.FormTitle,{tag:l.FormTitleTags.H5,className:ze()(Hg().marginBottom8,Hg().marginTop20),children:Q.Z.Messages.NOISE_CANCELLATION_POPOUT_FOOTER}),(0,r.jsxs)(jg.Z,{justify:jg.Z.Justify.BETWEEN,className:gde().footer,children:[(0,r.jsx)(l.Anchor,{href:w.EYA.KRISP,onClick:function(e){return Lde(e)},children:(0,r.jsx)("div",{className:gde().krispLogo})}),(0,r.jsx)(l.Anchor,{href:X.Z.getArticleURL(w.BhN.NOISE_SUPPRESSION),className:gde().krispLink,
onClick:function(e){return Lde(e)},children:Q.Z.Messages.LEARN_MORE})]})]})}function Zde(){var e=(0,s.e7)([_fe.Z],(function(){return _fe.Z.isMuted()})),t=e?Q.Z.Messages.STAGE_MUSIC_UNMUTE:Q.Z.Messages.STAGE_MUSIC_MUTE;return(0,r.jsx)(hce.Z,{"aria-label":t,tooltipText:t,icon:e?Gfe.Z:Ufe.Z,onClick:function(){return(0,yfe.v)(!e)}})}function Ude(e){var t=e.channel,n=e.enableActivities,i=e.disabled,a=(0,gfe.Z)(),c=(0,vfe.Z)(t),u=(0,s.cj)([j.ZP],(function(){return null!=j.ZP.getSelfEmbeddedActivityForChannel(t.id)})),f=(0,ic.Z)(t),d=(0,bfe.Z)(t),p=d.reachedLimit,h=d.limit,E=o.useCallback((function(){(0,Ife.Z)()}),[]),y=(0,lF.bp)(),m=o.useCallback((function(e){if(ga.Z.isVideoEnabled()!==e){var n=function(){_a.Z.setVideoEnabled(e);if(e){var n;(0,K.uL)(w.Z5c.CHANNEL(null!==(n=t.getGuildId())&&void 0!==n?n:w.ME,t.id))}};e?(0,Wy.Z)(n,y):n()}}),[t,y]),_=u||n||f,g=(0,r.jsx)(Cfe.Z,{className:ze()(gde().buttonIcon,Sde({},gde().withText,!_))});return(0,r.jsx)(Nfe.Z,Cde(Nde({onChange:m,
onCameraUnavailable:E,hasPermission:c,channelLimit:h,channelLimitReached:p},a),{enabled:!i&&a.enabled,children:function(e){var t=e.unavailable,n=e.active,o=e.label,i=(e.iconComponent,Ade(e,["unavailable","active","label","iconComponent"]));return(0,r.jsx)(l.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Fue.Z,{onClose:t})},position:"top",align:"center",animation:l.Popout.Animation.FADE,children:function(e,a){var s=e.onClick,c=Ade(e,["onClick"]),u=a.isShown;return(0,r.jsx)(l.Tooltip,{text:o,children:function(e){var o;return(0,r.jsx)(l.Button,Cde(Nde({},i,e,c),{onClick:function(t){var n;i.onClick(t);null===(n=e.onClick)||void 0===n||n.call(e);u&&s(t)},onContextMenu:function(t){var n;s(t);null===(n=e.onContextMenu)||void 0===n||n.call(e)},size:l.Button.Sizes.SMALL,className:ze()(gde().button,gde().buttonColor,(o={},Sde(o,gde().buttonActive,n),Sde(o,gde().fauxDisabled,t),Sde(o,gde().disabled,i.disabled),o)),innerClassName:gde().buttonContents,
wrapperClassName:gde().button,fullWidth:!0,children:_?g:(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[g,Q.Z.Messages.VIDEO]})}))}})}})}}))}function Gde(e){var t=e.channel,n=e.enableActivities,i=(0,lF.bp)(),a=(0,XB.Z)().analyticsLocations,c=i===w.IlC.POPOUT,u=(0,s.e7)([md.Z],(function(){return md.Z.getIsEnabled()}),[]);!function(e){o.useEffect((function(){null!=e&&Due.forEach((function(t){t.trackExposure({guildId:e})}))}),[e])}(t.getGuildId());var f=(0,Gue.KF)(t.id),d=(0,Gue.g5)(f),p=jde((0,s.e7)([j.ZP],(function(){return null!=t.id&&""!==t.id?j.ZP.getEmbeddedActivitiesForChannel(t.id):j.i6})),1)[0],h=(0,s.cj)([j.ZP],(function(){return{userInActivity:null!=j.ZP.getSelfEmbeddedActivityForChannel(t.id)}})).userInActivity,E=(0,JJ.O)(),y=(0,Uue.a)({}),m=f!==Gue.jy.CAN_LAUNCH;return n?(0,r.jsx)(l.Tooltip,{text:d,children:function(e){var n;return(0,r.jsxs)(l.Button,Cde(Nde({},e),{fullWidth:!0,size:l.Button.Sizes.SMALL,onClick:function(){var n;(0,uF.Z)({channel:t,guildId:t.guild_id,
locationObject:E.location,openInPopout:c,analyticsLocations:a});null===(n=e.onClick)||void 0===n||n.call(e)},disabled:m,className:ze()(gde().button,gde().buttonColor,(n={},Sde(n,gde().buttonDeveloperActivityShelf,u),Sde(n,gde().buttonActive,h||null!=p),Sde(n,gde().disabled,m),n)),innerClassName:gde().buttonContents,wrapperClassName:gde().button,children:[y?(0,r.jsx)(Bue.A,{top:-1,right:-1}):null,(0,r.jsx)(Dfe.Z,{className:gde().buttonIcon})]}))}}):null}function kde(e){var t,n=e.channel,i=e.canGoLive,a=e.enableActivities,c=e.disabled,u=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),f=(0,s.Wu)([ec.Z],(function(){return ec.Z.getAllActiveStreams()})),d=(0,vfe.Z)(n),p=n.getGuildId(),h=(0,s.cj)([j.ZP],(function(){return null!=j.ZP.getSelfEmbeddedActivityForChannel(n.id)})),E=(0,ic.Z)(n),y=o.useCallback((function(){(0,Tfe.Z)(p,n.id,w.jXE.ACTIVITY_PANEL)}),[p,n.id]),m=f.find((function(e){return e.ownerId===(null==u?void 0:u.id)})),_=(0,Ofe.E)(n,u,f)
;t=null==m?i?y:Sfe.Z:function(){return(0,Jue.Z)(m)};var g=null!=m||_.length>0,b=d?Q.Z.Messages.SHARE_YOUR_SCREEN:Q.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE,v=h||a||E,O=(0,r.jsx)(Zfe.Z,{className:ze()(gde().buttonIcon,Sde({},gde().withText,!v))});return(0,r.jsx)(l.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Ofe.Z,{channel:n,currentUser:u,activeStreams:f,onClose:t,handleGoLive:i?y:Sfe.Z})},position:"top",align:"center",animation:l.Popout.Animation.FADE,children:function(e){var n=e.onClick,o=Ade(e,["onClick"]);return(0,r.jsx)(l.Tooltip,{text:b,children:function(e){var i;return(0,r.jsx)(l.Button,Cde(Nde(Cde(Nde({},e),{size:l.Button.Sizes.SMALL,onClick:function(r){var o;g?n(r):t();null===(o=e.onClick)||void 0===o||o.call(e)},disabled:!d||c,className:ze()(gde().button,gde().buttonColor,(i={},Sde(i,gde().buttonActive,null!=m),Sde(i,gde().disabled,!d||c),i))}),g?o:null),{innerClassName:gde().buttonContents,wrapperClassName:gde().button,
children:v?O:(0,r.jsxs)(jg.Z,{align:jg.Z.Align.CENTER,children:[O,Q.Z.Messages.GO_LIVE_SHARE_SCREEN]})}))}})}})}var Bde=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Rde(e,t)}(o,e);var t=wde(o);function o(){Ide(this,o);var e;(e=t.apply(this,arguments)).canScreenshare=function(){var t=e.props,n=t.channel;return t.canGoLive&&null!=n&&null!=n.getGuildId()};e.handleNoiseCancellationClicked=function(){var t=e.props.noiseCancellationActive;_a.Z.setNoiseCancellation(!t,{section:w.jXE.NOISE_CANCELLATION_POPOUT})};e.handleGoLive=function(){var t=e.props,n=t.guild,r=t.channel,o=null!=r?r.getGuildId():null!=n?n.id:null;null!=o&&(0,Tfe.Z)(o,r.id,w.Sbl.VOICE_PANEL)};e.handleChannelLinkClick=function(t){var n,r=e.props,o=r.guild,i=r.channel;tb()(null!=i,"Channel is null during navigation click");t.stopPropagation()
;wue.Z.channelListScrollTo(null!==(n=null==o?void 0:o.id)&&void 0!==n?n:w.ME,i.id)};e.handleChannelLinkContextMenu=function(t){var o=e.props.channel;(0,xI.jW)(t,Ode((function(){var e,t;return xde(this,(function(i){switch(i.label){case 0:return[4,n.e(1048).then(n.bind(n,101048))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Cde(Nde({},e),{channel:o}))}]}}))})))};e.handleCloseVoicePanelIntroduction=function(){Fl.Kw(Yl.v.VOICE_PANEL_INTRODUCTION)};e.renderVoicePanelIntroduction=function(){return(0,r.jsxs)("div",{className:ze()(gde().voicePanelIntroductionWrapper,"theme-light"),children:[(0,r.jsx)(l.Heading,{className:gde().voicePanelIntroductionHeader,variant:"heading-md/semibold",children:Q.Z.Messages.VOICE_PANEL_INTRODUCTION_HEADER}),(0,r.jsx)(l.Text,{className:gde().voicePanelIntroductionText,variant:"text-sm/normal",children:Q.Z.Messages.VOICE_PANEL_INTRODUCTION_TEXT}),(0,r.jsx)(l.Button,{className:gde().voicePanelIntroductionButton,color:l.Button.Colors.BRAND,
onClick:e.handleCloseVoicePanelIntroduction,children:Q.Z.Messages.VOICE_PANEL_INTRODUCTION_CLOSE})]})};return e}var i=o.prototype;i.renderConnectionStatus=function(){var e=this.props,t=e.channel,n=e.guild,o=e.rtcConnectionQuality,i=e.rtcConnectionState,a=e.rtcConnectionLastPing,s=e.hasVideo,c=e.isBroadcasting;if(null==t)return null;var u,f=(0,C_.F6)(t,Y.default,Jf.Z,!0);if(null!=n){u=w.Z5c.CHANNEL(n.id,t.id);f="".concat(f," / ").concat(n.name)}else u=w.Z5c.CHANNEL(w.ME,t.id);c&&t.isBroadcastChannel()&&(f=Q.Z.Messages.BROADCASTING);return(0,r.jsx)(Lue.Z,{statusTextClassName:gde().statusWithPopout,quality:o,state:i,lastPing:a,hasVideo:s,children:(0,r.jsx)(l.FocusRing,{children:(0,r.jsx)(Z6.rU,{to:u,onClick:this.handleChannelLinkClick,onContextMenu:this.handleChannelLinkContextMenu,children:(0,r.jsx)(Ece.Z,{className:gde().channel,children:f})})})})};i.renderNoiseCancellation=function(){
var e=this.props,t=e.noiseCancellationActive,n=e.noiseCancellationError,o=e.hasLayers,i=e.remoteVoiceState,a=e.channel,s=e.voiceStates,c=!o&&n;if(null!=i)return null;if(null==a?void 0:a.isGuildStageVoice()){if(!(null!=s.find((function(e){return e.user.id===ut.default.getId()&&(0,e_.gf)(e.voiceState)===e_.xO.ON_STAGE})))&&(0,mfe.U5)(a.id))return(0,r.jsx)(Zde,{})}return c?(0,r.jsx)(l.Tooltip,{text:Q.Z.Messages.NOISE_CANCELLATION_CPU_OVERUSE,tooltipClassName:gde().noiseCancellationTooltip,forceOpen:!0,children:function(e){var t=e["aria-label"];return(0,r.jsx)(hce.Z,{"aria-label":t,tooltipText:null,disabled:!0,icon:Lfe})}}):(0,r.jsx)(l.Popout,{position:"top",align:"center",renderPopout:function(){return(0,r.jsx)(Dde,{})},children:function(e,n){var o=n.isShown;return(0,r.jsx)(hce.Z,Cde(Nde({},e),{tooltipClassName:gde().noiseCancellationTooltip,tooltipText:o?null:Q.Z.Messages.NOISE_CANCELLATION_TOOLTIP,icon:t?jfe:Lfe}))}},"krisp-popout")};i.renderVoiceStates=function(){
var e=this.props,t=e.channel,n=e.voiceStates,o=e.showVoiceStates;return null!=t&&o&&0!==n.length?(0,r.jsx)(mde,{voiceStates:n,channel:t,className:gde().voiceUsers}):null};i.renderChannelButtons=function(){var e=this.props,t=e.channel,n=e.canGoLive,o=e.remoteVoiceState,i=e.enableActivities,a=e.voiceStates,s=e.selfStream,l=e.isPrivateChannelWithEnabledActivities;if(null==t||null!=o)return null;var c=ut.default.getId();if(t.isGuildStageVoice()){if(!(0,Efe.tu)(t.guild_id))return null;if(!n)return null;var u=a.find((function(e){return e.user.id===c}));if(null==u||u.voiceState.suppress)return null}var f=(t.isGuildVoice()||l)&&i,d=(0,bfe.t)(t).reachedLimit,p=(0,Efe.xJ)(t.id);return(0,r.jsxs)("div",{className:gde().actionButtons,children:[(0,r.jsx)(Ude,{channel:t,enableActivities:f,disabled:!p&&d}),(0,r.jsx)(kde,{channel:t,canGoLive:n,enableActivities:f,disabled:t.isGuildStageVoice()&&(p&&null==s||!p&&d)}),(0,r.jsxs)(r.Fragment,{children:[f?(0,r.jsx)(Gde,{channel:t,enableActivities:i
}):null,(0,ic.Z)(t)?(0,r.jsx)(hfe,{className:ze()(gde().button,gde().buttonColor),iconClassName:gde().buttonIcon,channel:t}):null]})]})};i.render=function(){var e=this,t=this.props,n=t.channel,o=t.noiseCancellationSupported,i=t.shouldShowVoicePanelIntroduction;return null==n?null:(0,r.jsx)(l.Popout,{renderPopout:this.renderVoicePanelIntroduction,position:"top",align:"center",animation:l.Popout.Animation.TRANSLATE,shouldShow:i,children:function(){return(0,r.jsxs)("div",{className:gde().container,children:[(0,r.jsxs)(jg.Z,{className:gde().connection,align:jg.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:gde().inner,children:e.renderConnectionStatus()}),(0,r.jsxs)(jg.Z,{grow:0,shrink:0,children:[o?e.renderNoiseCancellation():null,(0,r.jsx)($fe,{channel:n})]})]}),e.renderVoiceStates(),e.renderChannelButtons()]})}})};return o}(o.PureComponent);const Hde=(0,h0.Z)((function(e){var t,n,i=(0,Yue.Z)(),a=(0,s.e7)([bO.Z],(function(){return bO.Z.getAwaitingRemoteSessionInfo()})),c=(0,
s.e7)([Y.default],(function(){return Y.default.getCurrentUser()})),u=(0,s.cj)([C.Z],(function(){return null!=i?{channelId:i.channelId,rtcConnectionQuality:w.IE4.FINE,rtcConnectionState:w.hes.RTC_CONNECTED,rtcConnectionLastPing:0}:{channelId:C.Z.getChannelId(),rtcConnectionQuality:C.Z.getQuality(),rtcConnectionState:C.Z.getState(),rtcConnectionLastPing:C.Z.getLastPing()}})),f=u.channelId,d=Ade(u,["channelId"]),p=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(f)}),[f]),h=null==p?void 0:p.getGuildId(),E=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(h)}),[h]),y=(0,s.cj)([ga.Z],(function(){return{noiseCancellationSupported:ga.Z.isNoiseCancellationSupported(),noiseCancellationActive:ga.Z.getNoiseCancellation(),noiseCancellationError:ga.Z.isNoiseCancellationError(),canGoLive:(0,rc.Z)(ga.Z)}})),m=(0,s.e7)([ga.Z,Nm.Z],(function(){return Nm.Z.hasHotspot(Yl.v.VOICE_PANEL_INTRODUCTION)&&(0,M_.EO)(c)&&!ga.Z.isInteractionRequired()&&!(null==p?void 0:p.isGuildStageVoice())})),_=(0,
s.e7)([R.Z],(function(){return null!=f&&R.Z.hasVideo(f)}),[f]),g=(0,s.e7)([ec.Z],(function(){return ec.Z.getCurrentUserActiveStream()})),b=(0,s.e7)([T.Z],(function(){return T.Z.hasLayers()})),v=(0,s.e7)([Bj.Z],(function(){return Bj.Z.isViewingRoles(h)})),O=(0,s.e7)([Ds.Z],(function(){return v&&!Ds.Z.can(w.Plq.VIEW_CHANNEL,p)}),[v,p]),I=Da.Fg.useSetting(),N=jde((0,s.Wu)([OO.ZP,vC.Z],(function(){return(null==p?void 0:p.isGuildStageVoice())?[vC.Z.getMutableParticipants(p.id,OC.pV.SPEAKER),vC.Z.getParticipantsVersion(p.id),null]:[null,null,null!=p?OO.ZP.getVoiceStatesForChannel(p):null]}),[p]),3),A=N[0],P=N[1],j=N[2],M=o.useMemo((function(){return null!==(n=null!==(t=null==A?void 0:A.map((function(e){return{user:e.user,nick:e.userNick,voiceState:e.voiceState}})))&&void 0!==t?t:j)&&void 0!==n?n:[]}),[A,P,j]),x=jde(o.useState(!1),2),L=x[0],D=x[1];o.useEffect((function(){(v||O)&&D(!1)}),[v,O,D]);var Z=(0,XB.Z)(fp.Z.RTC_PANEL).AnalyticsLocationProvider,U=(0,
Zue.Z)(null!=h?h:"",null==p?void 0:p.id),G=(0,kue.Z)(null==p?void 0:p.id),k=Vue();return(0,r.jsx)(Z,{children:(0,r.jsxs)("div",{className:gde().wrapper,children:[null!=i||null!=a?(0,r.jsx)($ue,{voiceState:i,awaitingRemoteSessionInfo:a}):null,(0,r.jsx)(Bde,Cde(Nde({},e,y,d),{enableActivities:U,remoteVoiceState:i,guild:E,channel:p,hasVideo:_,selfStream:g,hasLayers:b,voiceStates:M,showVoiceStates:I,shouldShowVoicePanelIntroduction:m,isPrivateChannelWithEnabledActivities:G,isBroadcasting:k})),!L&&v&&null!=h?(0,r.jsxs)("div",{className:gde().viewAsRolesWarning,children:[(0,r.jsx)(l.Text,{variant:"text-sm/normal",className:gde().viewAsRolesWarningText,children:O?Q.Z.Messages.VIEW_AS_ROLES_HIDDEN_VC_WARNING:Q.Z.Messages.VIEW_AS_ROLES_VOICE_WARNING}),(0,r.jsx)(l.Button,{className:gde().viewAsRolesWarningButton,size:l.Button.Sizes.MIN,onClick:function(){D(!0)},children:Q.Z.Messages.DISMISS})]}):null]})})}));var Vde=n(399920),Fde=n.n(Vde);function Yde(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zde(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wde(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zde(e,t,n[t])}))}return e}function Kde(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qde(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yde(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yde(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xde=function(e){var t=e.match,n=(0,s.e7)([S.Z,A.Z],(function(){var e=A.Z.getChannelId();return S.Z.getChannel(e)
})),o=t.params,i=o.guildId,a=o.channelId,l=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(i)})),c=(0,s.e7)([qf.ZP],(function(){return null==i?null:qf.ZP.getSelfMember(i)}));if(null!=i&&null!=a&&(0,LS.AB)(a))switch(a){case LS.oC.ROLE_SUBSCRIPTIONS:return(0,r.jsx)(FB,{guildId:i});case LS.oC.MEMBER_APPLICATIONS:return(0,r.jsx)(PL,{guildId:i});case LS.oC.GUILD_HOME:return(0,r.jsx)(Mw,{guildId:i});case LS.oC.CHANNEL_BROWSER:return(0,r.jsx)(BG,{guildId:i,selectedSection:_G.l7.BROWSE});case LS.oC.GUILD_ONBOARDING:return(0,r.jsx)(Nk,{guildId:i});case LS.oC.CUSTOMIZE_COMMUNITY:return(0,r.jsx)(BG,{guildId:i,selectedSection:_G.l7.CUSTOMIZE});case LS.oC.MEMBER_SAFETY:return(0,r.jsx)(IZ,{guildId:i});default:(0,kr.vE)(a)}if((0,pS.p3)(l,c))return(0,r.jsx)(YG,{guildId:i,channelId:a});if((null==n?void 0:n.type)===w.d4z.GUILD_STORE){var u=t.params.messageId;return(0,r.jsx)(N6,{channel:n,inputSkuId:u},n.id)}return(0,r.jsx)(i6.Z,{})},Qde=o.memo((function(){var e=(0,
r6.Z)(),t=e.guildId,n=e.channelId,o=(0,s.e7)([A.Z],(function(){return null!=n?n:A.Z.getChannelId(t)}));return window.location.pathname.startsWith(w.Z5c.GUILD_DISCOVERY)?(0,r.jsx)(ese,{}):null!=t?(0,r.jsx)(_X,{selectedChannelId:o,guildId:t},t):(0,r.jsx)(G9,{})}));function $de(e){var t=(0,r6.Z)((function(e){return e.guildId}));return(0,r.jsx)(Uce.Z,Kde(Wde({},e),{guildId:t}))}var Jde=function(e){return(0,r.jsx)(Xde,Wde({},e))},epe=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)(nx,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},tpe=function(e){var t=e.match;return null!=t.params.guildId?(0,r.jsx)(NX,{guildId:t.params.guildId,inviteCode:t.params.inviteCode}):null},npe=function(){return(0,r.jsx)(Cre,{})},rpe=function(){return(0,r.jsx)(Are.Z,{})},ope=function(e){return(0,r.jsx)(SI,Wde({},e))},ipe=function(){return(0,r.jsx)(II,{})},ape=function(){return(0,r.jsx)(f5,{})},spe=function(){return(0,r.jsx)(l$,{})},lpe=function(){return(0,r.jsx)(d$,{})
},cpe=function(e){switch(e.match.params.feature){case"addFriends":return(0,r.jsx)(f5,{initialSection:w.pJs.ADD_FRIEND});case"pendingFriends":return(0,r.jsx)(f5,{initialSection:w.pJs.PENDING});case"sessionManagement":return(0,r.jsx)(a.l_,{to:w.Z5c.SETTINGS("sessions")});case"connections":return(0,r.jsx)(a.l_,{to:{pathname:w.Z5c.SETTINGS("connections"),search:e.location.search}});case"family-center":return(0,r.jsx)(a.l_,{to:w.Z5c.FAMILY_CENTER});default:return(0,r.jsx)(a.l_,{to:w.Z5c.ME})}};function upe(e){var t=e.hasNotice,n=e.sidebarTheme,o=e.hideSidebar;!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];vI.useExperiment({},{autoTrackExposure:e})}(!0);var i,a=(0,s.e7)([NI.Z],(function(){return NI.Z.isFullscreenInContext()})),l=(0,QV.AR)();return o?null:(0,r.jsxs)("div",{className:ze()(Fde().sidebar,(0,zX.Q)(n),(i={},zde(i,Fde().hasNotice,t),zde(i,Fde().fullWidth,Qe.tq),zde(i,Fde().hidden,a),i)),children:[(0,r.jsx)(Qde,{}),l&&(0,r.jsx)(n6,{}),(0,
r.jsxs)("section",{className:Fde().panels,"aria-label":Q.Z.Messages.ACCOUNT_A11Y_LABEL,children:[(0,r.jsx)(Rue,{}),(0,r.jsx)(D$.Z,{section:w.jXE.ACTIVITY_PANEL,children:(0,r.jsx)($de,{className:Fde().activityPanel})}),(0,r.jsx)(D$.Z,{section:w.jXE.RTC_CONNECTION_PANEL,children:(0,r.jsx)(Hde,{})}),(0,r.jsx)(D$.Z,{section:w.jXE.ACCOUNT_PANEL,children:(0,r.jsx)(Zce,{})})]}),(0,r.jsx)(D6,{})]})}function fpe(){var e,t=(0,s.e7)([o6.Z],(function(){return o6.Z.hasNotice()})),n=(0,s.e7)([La.Z],(function(){return La.Z.darkSidebar?w.BRd.DARK:void 0})),i=function(){var e=qde(o.useState((function(){return window.location.pathname.startsWith(w.Z5c.GUILD_MEMBER_VERIFICATION(""))})),2),t=e[0],n=e[1];o.useEffect((function(){return zf.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(w.Z5c.GUILD_MEMBER_VERIFICATION("")))}))}),[]);return t}(),l=function(){var e=qde(o.useState((function(){return window.location.pathname.startsWith(w.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""))
})),2),t=e[0],n=e[1];o.useEffect((function(){return zf.Z.addRouteChangeListener((function(e){n(e.pathname.startsWith(w.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB("")))}))}),[]);return t}(),c=function(){var e,t=(0,a.TH)();return!0===(null===(e=(0,a.LX)(t.pathname,w.Z5c.GUILD_BOOSTING_MARKETING(":guildId")))||void 0===e?void 0:e.isExact)}(),u=(0,s.e7)([xc],(function(){return xc.getIsOpen()})),f=(0,a.$B)([w.Z5c.CHANNEL(w.ME,":channelId"),w.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")]),d=(null==f||null===(e=f.params)||void 0===e?void 0:e.channelId)===LS.oC.GUILD_ONBOARDING,p=i||l||c||d,h=o.useCallback((function(){return Tc()}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:Fde().container,children:[u&&(0,r.jsx)(gX.Z,{className:Fde().guilds,themeOverride:n}),(0,r.jsx)(CI.Z.Provider,{value:(null==f?void 0:f.params.guildId)===w.ME||null==f?void 0:f.params.guildId,children:(0,r.jsxs)("div",{className:Fde().base,children:[Qe.tq?null:(0,r.jsx)(Q8,{}),(0,r.jsxs)("div",{
className:Fde().content,children:[(0,r.jsx)(upe,{hasNotice:t,sidebarTheme:n,hideSidebar:p||!u}),(0,r.jsx)(OI.Z.Provider,{value:h,children:(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(TI.Z,{path:w.Z5c.ACTIVITY,disableTrack:!0,children:(0,r.jsx)(a.l_,{to:w.Z5c.ME})}),(0,r.jsx)(TI.Z,{path:w.Z5c.ACTIVITIES_HAPPENING_NOW,render:ipe,impressionName:W.zs.ACTIVITIES}),(0,r.jsx)(TI.Z,{path:w.Z5c.ACTIVITY_DETAILS(":applicationId"),render:ope,impressionName:W.zs.ACTIVITY_DETAILS,impressionProperties:function(e){return{application_id:e.computedMatch.params.applicationId}}}),(0,r.jsx)(TI.Z,{path:w.Z5c.ACTIVITIES,render:ipe,impressionName:W.zs.ACTIVITIES}),(0,r.jsx)(TI.Z,{path:w.Z5c.APPLICATION_LIBRARY,render:npe,impressionName:W.zs.APPLICATION_LIBRARY,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.APPLICATION_STORE,render:rpe,impressionName:W.zs.APPLICATION_STORE,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.MESSAGE_REQUESTS,render:spe,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.FAMILY_CENTER,render:lpe,
disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.ME,exact:!0,render:ape,impressionName:W.zs.FRIENDS,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:[w.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),w.Z5c.CHANNEL(w.ME,":channelId"),w.Z5c.CHANNEL(":guildId",":channelId?",":messageId?")],render:Jde,impressionName:W.zs.GUILD_CHANNEL,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.GUILD_DISCOVERY,render:function(e){return function(e){var t=null!=e&&e.length>0&&e.startsWith("?")?e.split("?")[1]:null;return(0,r.jsx)(Nae,{searchRoute:t})}(e.location.search)},impressionName:W.zs.GUILD_DISCOVERY,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),render:epe,impressionName:W.zs.GUILD_MEMBER_VERIFICATION,disableTrack:!0}),(0,r.jsx)(TI.Z,{path:w.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),render:tpe,impressionName:W.zs.HUB_EMAIL_SIGNUP,impressionProperties:function(e){return{has_invite:void 0!==e.computedMatch.params.inviteCode}}
}),(0,r.jsx)(TI.Z,{path:w.Z5c.FEATURE(":feature"),exact:!0,render:cpe,disableTrack:!0})]})})]})]})})]})})}const dpe=n(549869).Z;var ppe=n(805907),hpe=n(597967);var Epe=n(978868);function ype(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gpe(e){gpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return gpe(e)}function bpe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_pe(e,t,n[t])}))}return e}function vpe(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ope(e,t){return!t||"object"!==Tpe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ipe(e,t){Ipe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ipe(e,t)}function Spe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ype(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ype(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tpe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Npe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}
}();return function(){var n,r=gpe(e);if(t){var o=gpe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ope(this,n)}}var Cpe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ipe(e,t)}(n,e);var t=Npe(n);function n(){mpe(this,n);var e;(e=t.apply(this,arguments)).isMessageRequestsInitialized=!1;return e}var r=n.prototype;r.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.connected,r=e.isNSFWChannel,o=e.channelParentId,i=e.isTextInVoice,a=e.canSendMessage,s=e.hasPendingMemberAction;if(n&&null!=t){(0,UI.yw)(w.rMx.CHANNEL_OPENED,{channel_is_nsfw:r,parent_id:o,can_send_message:a,has_pending_member_action:s});i&&(0,UI.yw)(w.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:r})}};r.componentDidUpdate=function(e){
var t=this.props,n=t.voiceChannelId,r=t.voiceChannelIdJoined,o=t.voiceChannelGuildId,i=t.voiceChannelType,a=t.voiceChannelBitrate,s=t.videoEnabled,l=t.isScreenSharing,c=t.runningGame,u=t.runningGamePid,f=t.selectedChannelId,d=t.selectedGuildId,p=t.channelParentId,h=t.connected,E=t.homeLink,y=t.friendsTabSection,m=t.isNSFWChannel,_=t.isMemberPending,g=t.hasPreviewEnabled,b=t.rtcConnectionId,v=t.postableChannelCount,O=t.isTextInVoice,I=t.canSendMessage,T=t.numMessageRequests,N=t.hasPendingMemberAction;if(e.voiceChannelId!==n&&null!=e.voiceChannelId){var A=ba.ZP.getCurrentGame(),R=null!=A?A.name:"",j=aH.Z.getStageInstanceByChannel(e.voiceChannelId),M=MN.ZP.getActiveEventByChannel(e.voiceChannelId);Oe.default.track(w.rMx.LEAVE_VOICE_CHANNEL,bpe({channel_id:e.voiceChannelId,channel_type:e.voiceChannelType,channel_bitrate:e.voiceChannelBitrate,guild_id:e.voiceChannelGuildId,rtc_connection_id:e.rtcConnectionId,game_name:R,duration:C.Z.getDuration(),game_platform:this.props.gamePlatform,
game_id:this.props.gameId,media_session_id:e.mediaSessionId,stage_instance_id:null==j?void 0:j.id,guild_scheduled_event_id:null==M?void 0:M.id},(0,UI.kO)(e.voiceChannelGuildId,e.voiceChannelId,e.videoEnabled),C.Z.getVoiceStateStats(),NI.Z.getSelectedParticipantStats(e.voiceChannelId)))}if(e.voiceChannelIdJoined!==r&&null!=r){var x=ba.ZP.getCurrentGame(),L=null!=x?x.name:"";if(null!=r&&null!=n){var D=aH.Z.getStageInstanceByChannel(n),Z=MN.ZP.getActiveEventByChannel(n);(0,UI.yw)(w.rMx.CHANNEL_OPENED,{channel_id:n,channel_is_nsfw:m,parent_id:p,can_send_message:I,has_pending_member_action:N});Oe.default.track(w.rMx.JOIN_VOICE_CHANNEL,bpe({channel_id:n,channel_type:i,channel_bitrate:a,guild_id:o,rtc_connection_id:b,game_name:L,game_platform:this.props.gamePlatform,game_id:this.props.gameId,stage_instance_id:null==D?void 0:D.id,guild_scheduled_event_id:null==Z?void 0:Z.id},(0,UI.oG)(o,n),(0,UI.kO)(o,n,s)))}}if(e.runningGame!==c&&null!=c&&!c.isLauncher){var U=tl.Z.getGameByName(c.name),G=(0,
ba.jk)(c);Oe.default.track(w.rMx.LAUNCH_GAME,{game:c.name,game_id:null==U?null:U.id,verified:null!=U,elevated:c.elevated,game_platform:w.M7m.DESKTOP,distributor:c.distributor,is_overlay_enabled:lc.Z.enabled,is_overlay_game_enabled:G.enabled,is_overlay_game_source:G.source});if(null!=c.name&&null!=u&&tl.Z.shouldReport(c.name)){var k=c.name,B=u;Js.Z.identifyGame(B,k).then((function(e){return Js.Z.reportUnverifiedGame(e)})).catch((function(e){return new el.Z("AutoAnalytics").error("Cannot identify game",e)}))}}if((e.videoEnabled!==s||e.isScreenSharing!==l)&&null!=n){var H="none",V=[l?"screen":null,s?"camera":null].filter(kr.lm),F=null;if(l){H="screen";F=(0,hpe.t)()}else s&&(H="camera");Oe.default.track(w.rMx.VIDEO_INPUT_TOGGLED,bpe({video_input_type:H,video_toggle_source:__OVERLAY__?"overlay":"app",enabled_inputs:V,preview_enabled:Da.qF.getSetting()},F,this.getGameMetadata(),(0,UI.AB)(n)))}if(h&&null!=d&&(d!==e.selectedGuildId||!e.connected||_&&!e.isMemberPending)){
var Y,z,W=vpe(bpe({},_?{is_pending:_,preview_enabled:g}:{}),{postable_channels:v,premium_progress_bar_enabled:null!==(z=null===(Y=In.Z.getGuild(P.Z.getGuildId()))||void 0===Y?void 0:Y.premiumProgressBarEnabled)&&void 0!==z&&z,viewing_all_channels:!j_.Z.isOptInEnabled(d),num_recent_channels:Epe.Z.recentsChannelCount(d)});(0,UI.yw)(w.rMx.GUILD_VIEWED,W)}else if(!h||null!=d||E!==w.Z5c.FRIENDS||e.connected&&y===e.friendsTabSection&&E===e.homeLink){if(h&&null==d&&E===w.Z5c.MESSAGE_REQUESTS&&(!e.connected||E!==e.homeLink)&&!this.isMessageRequestsInitialized){this.isMessageRequestsInitialized=!0;Oe.default.track(w.rMx.MESSAGE_REQUESTS_INITIALIZED,{num_message_requests:T})}}else Oe.default.track(w.rMx.FRIENDS_LIST_VIEWED,bpe({tab_opened:y},dpe()));if(h&&null!=f&&(!e.connected||f!==e.selectedChannelId||d!==e.selectedGuildId)){var K=(0,ppe.K)(S.Z.getChannel(f),!0);(0,UI.yw)(w.rMx.CHANNEL_OPENED,bpe({channel_is_nsfw:m,parent_id:p,can_send_message:I,has_pending_member_action:N},K));O&&(0,
UI.yw)(w.rMx.TEXT_IN_VOICE_OPENED,{channel_is_nsfw:m})}};r.getGameMetadata=function(){return{game_platform:this.props.gamePlatform,game_name:this.props.gameName,game_exe_name:this.props.gameExeName,game_id:this.props.gameId}};r.render=function(){return null};return n}(o.PureComponent);function Ape(){var e,t,n,o,i,a=Spe((0,s.Wu)([A.Z],(function(){return[A.Z.getVoiceChannelId(),A.Z.getChannelId()]}),[]),2),l=a[0],c=a[1],u=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(c)}),[c]),f=(0,s.e7)([NI.Z],(function(){return null!=(null==u?void 0:u.id)&&NI.Z.getChatOpen(u.id)}),[u]),d=null==u?void 0:u.nsfw,p=null!==(e=null==u?void 0:u.parent_id)&&void 0!==e?e:void 0,h=(0,s.e7)([S.Z],(function(){return S.Z.getChannel(l)}),[l]),E=(0,s.e7)([P.Z],(function(){return P.Z.getGuildId()}),[]),y=(0,s.e7)([In.Z],(function(){return In.Z.getGuild(E)}),[E]),m=(0,s.e7)([Y.default],(function(){return Y.default.getCurrentUser()}),[]),_=(0,s.e7)([qf.ZP],(function(){var e
;return null!=m&&null!=E&&(null!==(t=null===(e=qf.ZP.getMember(E,m.id))||void 0===e?void 0:e.isPending)&&void 0!==t&&t)}),[m,E]),g=(0,s.e7)([G2],(function(){return G2.getState().section}),[]),b=(0,s.e7)([f9.Z],(function(){return f9.Z.getHomeLink()}),[]),v=(0,s.e7)([Cl.Z],(function(){return Cl.Z.isConnected()}),[]),O=Spe((0,s.Wu)([ga.Z],(function(){return[ga.Z.isVideoEnabled(),ga.Z.isScreenSharing()]}),[]),2),I=O[0],T=O[1],N=(0,s.e7)([C.Z],(function(){return C.Z.getChannelId()}),[]),R=(0,s.e7)([wE.Z],(function(){return wE.Z.getPrimaryActivity()}),[]),j=(0,s.e7)([ba.ZP],(function(){return ba.ZP.getCurrentGame()}),[]),M=(0,s.e7)([C.Z],(function(){return C.Z.getMediaSessionId()}),[]),x=(0,s.e7)([C.Z],(function(){return C.Z.getRTCConnectionId()}),[]),L=(n=E,0===(i=(0,s.e7)([eT.ZP],(function(){return null!==(o=eT.ZP.getChannels(n)[eT.sH])&&void 0!==o?o:[]}),[n])).length?0:i.filter((function(e){var t=e.channel;return Ds.Z.can(_r.Z.combine(w.Plq.SEND_MESSAGES,w.Plq.VIEW_CHANNEL),t)
})).length),D=(0,s.e7)([Ds.Z],(function(){return Ds.Z.can(w.Plq.SEND_MESSAGES,u)})),Z=(0,s.e7)([jX.Z],(function(){return jX.Z.getMessageRequestsCount()}),[]),U=YI(null==y?void 0:y.id,null==u?void 0:u.id),G={selectedChannelId:c,channelParentId:p,isNSFWChannel:d,selectedGuildId:E,friendsTabSection:g,homeLink:b,connected:v,videoEnabled:I,isScreenSharing:T,voiceChannelId:null==h?void 0:h.id,voiceChannelIdJoined:N,voiceChannelGuildId:null==h?void 0:h.getGuildId(),voiceChannelType:null==h?void 0:h.type,voiceChannelBitrate:null==h?void 0:h.bitrate,runningGame:j,runningGamePid:null!=j?j.pid:null,gamePlatform:(0,rg.Z)(R),gameName:null!=R?R.name:null,gameId:null!=R?R.application_id:null,gameExeName:null!=j?j.exeName:null,hasPreviewEnabled:null==y?void 0:y.features.has(w.oNc.PREVIEW_ENABLED),isMemberPending:_,mediaSessionId:M,rtcConnectionId:x,postableChannelCount:L,isTextInVoice:f,canSendMessage:D,numMessageRequests:Z,hasPendingMemberAction:U};return(0,r.jsx)(Cpe,bpe({},G))}
var Ppe=n(685269),Rpe=n(997244);const jpe=function(e,t){b.Z.dispatch({type:"INCOMING_CALL_MOVE",x:e,y:t})};function Mpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wpe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xpe(e){xpe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xpe(e)}function Lpe(e,t){return!t||"object"!==Upe(t)&&"function"!=typeof t?wpe(e):t}function Dpe(e,t){Dpe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Dpe(e,t)}function Zpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mpe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mpe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Upe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Gpe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xpe(e);if(t){var o=xpe(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lpe(this,n)}}var kpe,Bpe,Hpe=Math.pow(3,2);!function(e){e[e.DISABLED=0]="DISABLED";e[e.DEFAULT=1]="DEFAULT";e[e.OFFSET=2]="OFFSET"}(kpe||(kpe={}));!function(e){e.TOP="TOP";e.BOTTOM="BOTTOM";e.RIGHT="RIGHT";e.LEFT="LEFT"}(Bpe||(Bpe={}));function Vpe(e,t,n,r,o){var i=e.top,a=e.bottom,s=e.left,l=e.right;if(null==i&&null==a){i=0;a=n-o}else null==i&&null!=a?i=n-(a+o):null!=i&&(a=n-(i+o));if(null==s&&null==l){s=0;l=t-r}else null==s&&null!=l?s=t-(l+r):null==l&&null!=s&&(l=t-(s+r));if(null==i||null==a||null==s||null==l)throw new Error("Logically this can never happen based on our if/else statements");return{top:i,left:s,bottom:a,right:l}}function Fpe(e){return[null==e.bottom?Bpe.TOP:Bpe.BOTTOM,null==e.right?Bpe.LEFT:Bpe.RIGHT]}function Ype(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;0===t||t<=r?r=null:t=null;0===n||n<=o?o=null:n=null;return{top:t,left:n,bottom:r,right:o}}function zpe(e){
var t=e.top,n=e.left,r=e.bottom,o=e.right;if(r<0){t+=r;r=0}if(t<0){r+=t;t=0}if(o<0){n+=o;o=0}if(n<0){o+=n;n=0}return{top:t,left:n,bottom:r,right:o}}function Wpe(e){return null!=e?"".concat(e,"px"):"auto"}var Kpe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Dpe(e,t)}(n,e);var t=Gpe(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).draggableRef=o.createRef();r._dragStart={x:0,y:0};r.handleMouseDown=function(e){var t=r.position,n=t.top,o=t.left,i=t.bottom,a=t.right,s=r.props,l=s.dragAnywhere,c=s.selector,u=s.maxX,f=s.maxY,d=e.target,p=r.draggableRef.current;if(null!=p&&e.button===w.AeJ.PRIMARY&&(l||null!=d&&null!=c&&""!==c&&null!=d.closest(c))){var h=function(e){var t=e.top;return{x:e.left,y:t}}(Vpe({top:n,
left:o,bottom:i,right:a},u,f,p.clientWidth,p.clientHeight)),E=h.x,y=h.y;r._dragStart={x:e.clientX,y:e.clientY};r._offsetX=e.clientX-E;r._offsetY=e.clientY-y;window.addEventListener("mousemove",r.handleMouseMove);window.addEventListener("mouseup",r.handleMouseUp)}};r.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,n=e.clientY,o=r.draggableRef.current,i=r.props,a=i.maxX,s=i.maxY,l=i.flipVertical,c=i.flipHorizontal,u=i.onDragStart,f=i.onDrag,d=i.onFlip,p=i.snapOrientation,h=r.state,E=h.dragging,y=h.dragging,m=h.verticalOrientation,_=h.horizontalOrientation,g=!1;if(!(null==o||!E&&(b=r._dragStart,v={x:t,y:n},O=b.x,I=b.y,S=v.x,T=v.y,Math.pow(O-S,2)+Math.pow(I-T,2))<Hpe)){var b,v,O,I,S,T;E=!0;var N=o.clientWidth,C=o.clientHeight,A=zpe(Vpe({top:n-r._offsetY,left:t-r._offsetX},a,s,N,C));if(p){var P=Fpe(A=Ype(A));m=P[0];_=P[1]}else A={top:A.top,left:A.left};if(c===kpe.OFFSET&&_!==r.state.horizontalOrientation){r._offsetX=N-r._offsetX;g=!0}
if(l===kpe.OFFSET&&m!==r.state.verticalOrientation){r._offsetY=C-r._offsetY;g=!0}r.setDOMPositions(A);y||null==u||u(A,o);null==f||f(A,o);g&&(null==d||d([m,_]));r.setState({dragging:E,verticalOrientation:m,horizontalOrientation:_,atTopEdge:0===A.top})}};r.handleMouseUp=function(){window.removeEventListener("mousemove",r.handleMouseMove);window.removeEventListener("mouseup",r.handleMouseUp);r.state.dragging&&r.setState({dragging:!1},(function(){var e=r.props.onDragEnd,t=r.draggableRef.current;null!=t&&null!=e&&e(r.position,t)}))};r._checkBoundsRAF=null;r.checkBounds=function(){null!=r._checkBoundsRAF&&cancelAnimationFrame(r._checkBoundsRAF);r._checkBoundsRAF=requestAnimationFrame(r._performCheckBounds)};r._performCheckBounds=function(){var e=wpe(r),t=e.position,n=e.state,o=e.draggableRef.current,i=e.props,a=i.maxX,s=i.maxY,l=i.onRelocated,c=i.snapOrientation,u=r.state,f=u.verticalOrientation,d=u.horizontalOrientation;if(null!=o){var p,h=o.clientHeight,E=Vpe(t,a,s,o.clientWidth,h)
;E=zpe(E);if(c){var y=Fpe(p=Ype(E));f=y[0];d=y[1]}else p={top:E.top,left:E.left,right:null,bottom:null};if(t.left!==p.left||t.right!==p.right||t.top!==p.top||t.bottom!==p.bottom){null==l||l(p,o);r.setDOMPositions(p);var m=0===p.top;f===n.verticalOrientation&&d===n.horizontalOrientation&&m===n.atTopEdge||r.setState({verticalOrientation:f,horizontalOrientation:d,atTopEdge:m})}}};var i=Zpe(Fpe(e.initialPosition),2),a=i[0],s=i[1];r.position=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;null==n&&null==o&&(n=0);null!=n&&null!=o&&(o=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:o}}(e.initialPosition);r.state={dragging:!1,verticalOrientation:a,horizontalOrientation:s,atTopEdge:0===r.position.top};return r}var i=n.prototype;i.componentDidMount=function(){this.checkBounds();this.setDOMPositions(this.position)};i.componentDidUpdate=function(e,t){
var n=this.state,r=n.verticalOrientation,o=n.horizontalOrientation,i=n.atTopEdge,a=this.props,s=a.maxX,l=a.maxY,c=a.onRelocated,u=a.snapOrientation;(e.maxX!==s||e.maxY!==l||e.onRelocated!==c||e.snapOrientation!==u||t.verticalOrientation!==r||t.horizontalOrientation!==o||t.atTopEdge!==i)&&this.checkBounds()};i.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove);window.removeEventListener("mouseup",this.handleMouseUp)};i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,i=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:o};if(null!=i){i.style.top=Wpe(t);i.style.bottom=Wpe(r);i.style.left=Wpe(n);i.style.right=Wpe(o)}};i.render=function(){var e=this.props,t=e.children,n=e.className,i=this.state,a=i.dragging,s=i.verticalOrientation,l=i.horizontalOrientation,c=i.atTopEdge,u=this.position,f=u.top,d=u.left,p=u.right,h={pointerEvents:a?"none":"auto",position:"absolute",top:f,left:d,bottom:u.bottom,right:p}
;return(0,r.jsx)("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:h,children:o.cloneElement(o.Children.only(t),{flipped:l===Bpe.RIGHT,verticalFlipped:s===Bpe.BOTTOM,checkBounds:this.checkBounds,atTopEdge:c})})};return n}(o.PureComponent);Kpe.FlipTypes=kpe;Kpe.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:kpe.DISABLED,flipHorizontal:kpe.DISABLED,dragAnywhere:!1};var qpe=n(535312),Xpe=n(359721),Qpe=n(504001),$pe=n(732068),Jpe=n(731209),ehe=n(661782),the=n(140975),nhe=n.n(the),rhe=n(637678),ohe=n.n(rhe);function ihe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ahe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function she(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ahe(e,t,n[t])}))}return e}function lhe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function che(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e
}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ihe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ihe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var uhe={width:232,height:315},fhe={width:232,height:267},dhe=475,phe=267;function hhe(e){var t=e.header,n=ga.Z.getCameraComponent(),i=(0,s.e7)([ga.Z],(function(){return ga.Z.getVideoDeviceId()})),a=(0,Qpe.Z)();o.useEffect((function(){var e=Y.default.getCurrentUser();if(a&&null!=e){var t=(0,qpe.P)(e);(0,Xpe.FU)(t,i,{track:!1}).catch(w.dG4)}}),[a,i]);return(0,r.jsxs)("div",{className:nhe().previewRoot,children:[(0,
r.jsx)(l.Spinner,{}),(0,r.jsx)("div",{className:nhe().preview,children:(0,r.jsx)(n,{disabled:!1,deviceId:i,width:dhe,height:phe})}),(0,r.jsx)("div",{className:nhe().previewChannelHeader,children:t})]})}function Ehe(e){var t=e.canVideo,n=e.channel,o=e.numVideoDevices,i=(0,gfe.Z)(),a=i.cameraUnavailable,s=i.enabled,c=(0,vfe.Z)(n);return(0,r.jsxs)("div",{className:nhe().actions,children:[(0,r.jsx)($pe.d,{iconComponent:JI.Z,color:"red",className:nhe().actionButton,label:Q.Z.Messages.DISMISS,onClick:function(){return Rpe.Z.stopRinging(n.id)}}),t&&(0,r.jsx)(l.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Fue.Z,{onClose:t})},position:"top",align:"center",animation:l.Popout.Animation.FADE,children:function(e,t){var i=e.onClick,l=t.isShown;return(0,r.jsx)(Nfe.C,{join:!0,enabled:s,color:"green",centerButton:!0,hasPermission:c,cameraUnavailable:a,channel:n,onPopoutClick:o>1?i:null,className:nhe().actionButton,popoutOpen:l,onCameraUnavailable:Ife.Z,onChange:function(){
d.default.selectVoiceChannel(n.id,!0);(0,K.XU)(w.ME,n.id)}})}}),(0,r.jsx)(Jpe.Z,{channel:n,color:"green",centerButton:!0,className:ze()(nhe().actionButton,nhe().last),onClick:function(){return d.default.selectVoiceChannel(n.id)}})]})}function yhe(e){var t=e.animatedStyle,n=e.y,i=e.x,a=e.channel,c=che(o.useState(!1),2),u=c[0],f=c[1],d=(0,_Q.x)(a),p=(0,C_.ZP)(a),h=che((0,s.Wu)([ga.Z],(function(){return[ga.Z.supports(va.AN.VIDEO),Object.keys(ga.Z.getVideoDevices()).length]})),2),E=h[0],y=h[1],m=(0,s.e7)([xr.Z],(function(){return xr.Z.isFocused()})),_=(0,s.e7)([NI.Z],(function(){return NI.Z.getMode(a.id)})),g=o.useCallback((function(e){null!=e.top&&null!=e.left&&jpe(e.left,e.top)}),[]),b=(0,RA.useSpring)({value:u?1:0,config:lhe(she({},RA.config.stiff),{clamp:!0})});o.useEffect((function(){var e=function(e){e.keyCode===w.yXg.ESCAPE&&Rpe.Z.stopRinging(a.id)};window.addEventListener("keydown",e);return function(){return window.removeEventListener("keydown",e)}}),[a])
;var v=_===w.WtW.VIDEO&&E&&y>0,O=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ehe.Z,{className:nhe().icon,ringing:m,src:null!=d?d:"",ringingType:ehe.Z.RingingType.INCOMING,size:u?l.AvatarSizes.SIZE_40:l.AvatarSizes.SIZE_80}),(0,r.jsxs)("div",{className:nhe().titleGroup,children:[(0,r.jsx)(l.Text,{className:nhe().title,color:"header-primary",variant:u?"text-md/semibold":"text-lg/semibold",children:p}),(0,r.jsx)(l.Text,{color:"header-secondary",className:nhe().subtitle,variant:u?"text-sm/normal":"text-md/normal",children:_===w.WtW.VOICE?Q.Z.Messages.INCOMING_CALL_ELLIPSIS:Q.Z.Messages.INCOMING_VIDEO_CALL_ELLIPSIS})]})]}),I=v?uhe:fhe;return(0,r.jsx)(Kpe,{className:nhe().wrapper,selector:".".concat(nhe().root),initialPosition:{left:i,top:n},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:g,dragAnywhere:!0,children:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(RA.animated.div,{className:ze()(nhe().root,ohe().elevationHigh,ahe({},nhe().previewCamera,u),u?(0,zX.Q)("dark"):null),
style:lhe(she({},t),{width:b.value.interpolate([0,1],[I.width,dhe]),minHeight:b.value.interpolate([0,1],[I.height,phe]),translateX:b.value.interpolate([0,1],[0,-1*Math.abs(dhe-I.width)/2])}),children:[u?(0,r.jsx)(hhe,{header:O}):(0,r.jsx)("div",{className:nhe().mainChannelInfo,children:O}),(0,r.jsx)(Ehe,{canVideo:v,channel:a,numVideoDevices:y}),v&&!u?(0,r.jsx)(l.Button,{size:l.Button.Sizes.SMALL,fullWidth:!0,look:l.Button.Looks.LINK,color:l.Button.Colors.PRIMARY,className:nhe().previewButton,onClick:function(){return f(!0)},children:Q.Z.Messages.INCOMING_CALL_PREVIEW_CAMERA}):null]})})})}var mhe=n(669754),_he=n(292832);function ghe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bhe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var vhe={transform:"scale(0.7)",opacity:0},Ohe={transform:"scale(1)",opacity:1};const Ihe=function(){var e=(0,s.e7)([A.Z],(function(){return A.Z.getChannelId()})),t=(0,s.Wu)([aI],(function(){return aI.getIncomingCalls().filter((function(t){var n=t.channel;return e!==n.id}))})),n=(0,s.e7)([aI],(function(){return aI.hasIncomingCalls()})),i=(0,s.e7)([R_.Z],(function(){return R_.Z.isSoundDisabled("call_ringing")})),a=(0,s.e7)([sc.Z],(function(){return sc.Z.disableSounds})),l=(0,s.e7)([mhe.Z],(function(){return mhe.Z.getSoundpack()})),c=o.useRef(!1),u=(0,Ppe.Z)((function(){if(l===_he.Y.CLASSIC){var e=500===Ke().random(1,1e3)?"call_ringing_beat":"call_ringing";return(0,IO.tu)(e,"call_ringing")}return(0,IO.uk)("call_ringing",l)}),[l]);o.useEffect((function(){
return function(){u.stop()}}),[u]);o.useEffect((function(){if(a||i){if(c.current){u.stop();c.current=!1}}else if(n&&!c.current){u.loop();c.current=!0}else if(!n&&c.current){u.stop();c.current=!1}}),[i,a,n,u]);var f=(0,RA.useTransition)(t,{keys:function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.id},enter:{from:vhe,to:Ohe},leave:vhe,config:{mass:1,tension:500,friction:18,clamp:!0}});return f((function(e,t){return(0,r.jsx)(yhe,bhe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ghe(e,t,n[t])}))}return e}({},t),{animatedStyle:e}))}))};var She=n(242839),The=n(239265),Nhe=n(858456),Che=n.n(Nhe);function Ahe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Phe(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Rhe(e){Rhe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Rhe(e)}function jhe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Dhe(e,t)}function Mhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Phe(e,t,n[t])}))}return e}function whe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xhe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Lhe(e,t){return!t||"object"!==Zhe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dhe(e,t){Dhe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Dhe(e,t)}var Zhe=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Uhe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Rhe(e);if(t){var o=Rhe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lhe(this,n)}}var Ghe,khe=(0,Uu.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(5418),n.e(66885),n.e(61012),n.e(64045),n.e(51388),n.e(43562),n.e(75034),n.e(54313)]).then(n.bind(n,95581))},webpackId:95581,name:"UserSettings"}),Bhe=(0,Uu.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(56054),n.e(97621)]).then(n.bind(n,291131))},webpackId:291131,name:"ChannelSettings"}),Hhe=(Phe(Ghe={},w.S9g.USER_SETTINGS,(function(){return(0,r.jsx)(khe,{})})),
Phe(Ghe,w.S9g.CHANNEL_SETTINGS,(function(){return(0,r.jsx)(Bhe,{})})),Phe(Ghe,w.S9g.GUILD_SETTINGS,(function(){return(0,r.jsx)(The.Z,{})})),Ghe),Vhe="SHOWN",Fhe="HIDDEN",Yhe={friction:10,tension:100};function zhe(){o.useEffect((function(){et.Z.enable();et.Z.enableTemp(She.u);return function(){return et.Z.disableTemp()}}),[]);return null}var Whe=function(e){jhe(n,e);var t=Uhe(n);function n(e){Ahe(this,n);var r;(r=t.call(this,e)).containerRef=o.createRef();var i=1,a=1;if(e.mode===Fhe){i=.93;a=0}r.state={animating:!1,scale:new Qu.Z.Value(i),opacity:new Qu.Z.Value(a),mode:e.mode};return r}var i=n.prototype;i.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return t===Vhe&&n===Fhe?this.animateIn():t===Fhe&&n===Vhe?this.animateUnder():void 0};i.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1);r.setValue(0);e();this.setState({animating:!0},(function(){return t.animateIn()}))};i.componentWillLeave=function(e){var t=this
;this.setState({animating:!0},(function(){return t.animateOut(e)}))};i.animateIn=function(e){var t=this;s.ZP.Emitter.pause(500);var n=this.state,r=n.opacity,o=n.scale;Qu.Z.parallel([Qu.Z.spring(r,Mhe({toValue:1},Yhe)),Qu.Z.spring(o,Mhe({toValue:1},Yhe))]).start((function(){return t.animateComplete(e)}))};i.animateOut=function(e){s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;zh.S.dispatch(w.CkL.LAYER_POP_START);Qu.Z.parallel([Qu.Z.spring(n,Mhe({toValue:0},Yhe)),Qu.Z.spring(r,Mhe({toValue:1.1},Yhe))]).start((function(){e();zh.S.dispatch(w.CkL.LAYER_POP_COMPLETE)}))};i.animateUnder=function(){var e=this;s.ZP.Emitter.pause(500);var t=this.state,n=t.opacity,r=t.scale;Qu.Z.parallel([Qu.Z.spring(n,Mhe({toValue:0},Yhe)),Qu.Z.spring(r,Mhe({toValue:.93},Yhe))]).start((function(){return e.animateComplete()}))};i.animateComplete=function(e){this.setState({animating:!1},e)};i.render=function(){
var e,t=this,n=this.state.animating,o=this.props,i=o.mode,a=o.children,s=o.baseLayer,c=xhe(o,["mode","children","baseLayer"]),u=n||i===Fhe?this.getAnimatedStyle():null,f=(0,r.jsx)(Qu.Z.div,whe(Mhe({ref:function(e){return t.containerRef.current=null!=e?e.refs.node:void 0},"aria-hidden":i===Fhe,className:ze()(Che().layer,(e={},Phe(e,Che().baseLayer,s),Phe(e,Che().animating,n),Phe(e,"stop-animations",i===Fhe),e)),style:u},c),{children:a}));return s?f:(0,r.jsx)(l.FocusLock,{containerRef:this.containerRef,children:f})};i.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return{opacity:t,transform:this.context.reducedMotion.enabled?void 0:[{scale:n},{translateZ:0}]}};n.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};return n}(o.PureComponent);Whe.defaultProps={baseLayer:!1};Whe.contextType=l.AccessibilityPreferencesContext;var Khe=function(e){jhe(n,e);var t=Uhe(n);function n(){Ahe(this,n);return t.apply(this,arguments)}
var o=n.prototype;o.componentDidMount=function(){zh.S.subscribe(w.CkL.LAYER_POP_ESCAPE_KEY,Sg.xf)};o.componentWillUnmount=function(){zh.S.unsubscribe(w.CkL.LAYER_POP_ESCAPE_KEY,Sg.xf)};o.renderLayers=function(){var e=this,t=this.props,n=t.children,o=t.layers,i=t.hasFullScreenLayer,a=o.length,s=[];s.push((0,r.jsx)(Whe,{mode:0!==a||i?Fhe:Vhe,baseLayer:!0,children:n},"layer-base"));o.forEach((function(t,n){return s.push(e.renderComponent(t,n,a))}));return s};o.renderComponent=function(e,t,n){var o,i=t===n-1;o="string"==typeof e?Hhe[e]():(0,r.jsx)(e,{});return(0,r.jsxs)(Whe,{mode:i?Vhe:Fhe,children:[(0,r.jsx)(zhe,{}),o]},"layer-".concat(t))};o.renderArtisanalHack=function(){return(0,r.jsx)("div",{className:ze()(Che().bg,(0,zX.Q)(this.props.sidebarTheme))})};o.render=function(){return(0,r.jsxs)(r.Fragment,{children:[this.renderArtisanalHack(),(0,r.jsx)(k3.Z,{component:"div",className:ze()(Che().layers,this.props.className),children:this.renderLayers()})]})};return n}(o.PureComponent)
;function qhe(e){var t=(0,s.e7)([La.Z],(function(){return La.Z.darkSidebar}))?w.BRd.DARK:void 0,n=(0,s.e7)([T.Z],(function(){return T.Z.getLayers()})),o=(0,Mb.QP)((function(e){return e.fullScreenLayers.length>0}));return(0,r.jsx)(Khe,whe(Mhe({},e),{sidebarTheme:t,layers:n,hasFullScreenLayer:o}))}var Xhe=n(854735),Qhe=n.n(Xhe);function $he(){var e=o.useRef(null),t=o.useCallback((function(t){var n=t.duration,r=t.intensity;if(!E.Z.useReducedMotion&&xr.Z.isFocused()){var o=e.current;tb()(null!=o,"Shakeable is shaken when not mounted");o.shake(n,r)}}),[]);o.useEffect((function(){et.Z.setLayout(Je.ZP);et.Z.enable();return function(){return et.Z.disable()}}),[]);o.useEffect((function(){zh.S.subscribe(w.CkL.SHAKE_APP,t);return function(){zh.S.unsubscribe(w.CkL.SHAKE_APP,t)}}),[t]);!function(){var e=(0,s.e7)([aI],(function(){return aI.hasIncomingCalls()})),t=(0,s.e7)([kO.Z,Jf.Z,R_.Z],(function(){
var e=kO.Z.getTotalMentionCount(),t=Jf.Z.getPendingCount(),n=kO.Z.hasAnyUnread(),r=R_.Z.getDisableUnreadBadge(),o=e+t;0===o&&n&&!r&&(o=-1);return o}));o.useEffect((function(){if(e){var t=sd.default.bounceDock("critical"),n=(0,GO.EM)({messages:[Q.Z.Messages.INCOMING_CALL],count:50});return function(){null==t||t();n()}}}),[e]);o.useEffect((function(){lI(t)}),[t]);o.useEffect((function(){return function(){return lI(0)}}),[])}();return(0,r.jsxs)(l.Shakeable,{ref:e,className:Qhe().app,children:[(0,r.jsx)(qhe,{className:Qhe().layers,children:(0,r.jsx)(fpe,{})}),(0,r.jsx)(bI,{}),(0,r.jsx)(wO,{}),(0,r.jsx)(Ape,{}),(0,r.jsx)(xO.Z,{}),(0,r.jsx)(l.DnDKeyboardHelpBar,{}),(0,r.jsx)(Ihe,{})]})}const Jhe=o.memo($he);var eEe=n(112184),tEe=n(219264),nEe=n(313197),rEe=n(408481),oEe=n(502925),iEe=n.n(oEe);function aEe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sEe(e){sEe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return sEe(e)}function lEe(e,t){return!t||"object"!==uEe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cEe(e,t){cEe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cEe(e,t)}var uEe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fEe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=sEe(e);if(t){var o=sEe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lEe(this,n)}}var dEe=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cEe(e,t)}(n,e);var t=fEe(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o,i;(o=t.call(this,e)).videoRef=null;o._noProblemsTimeout=null;o._problemsTimeout=null;o._connectedSound=o.createSound();o._loadingText=(i=[Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_1,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_2,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_3,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_4,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_5,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_6.format({tabHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"tab",className:iEe().keybind},t)}
}),Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_7,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_8,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_9,Q.Z.Messages.ACCESSIBILITY_LOADING_TIP_10.format({F6Hook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"f6",className:iEe().keybind},t)},tabHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"tab",className:iEe().keybind},t)}
}),Q.Z.Messages.LOADING_LINE_1,Q.Z.Messages.LOADING_LINE_2,Q.Z.Messages.LOADING_LINE_4,Q.Z.Messages.LOADING_LINE_5,Q.Z.Messages.LOADING_LINE_6,Q.Z.Messages.LOADING_LINE_7,Q.Z.Messages.LOADING_LINE_8,Q.Z.Messages.LOADING_LINE_9,Q.Z.Messages.LOADING_LINE_10,Q.Z.Messages.LOADING_LINE_11,Q.Z.Messages.LOADING_LINE_12,Q.Z.Messages.LOADING_LINE_13,Q.Z.Messages.LOADING_LINE_14,Q.Z.Messages.LOADING_LINE_15,Q.Z.Messages.LOADING_TIP_1,Q.Z.Messages.LOADING_TIP_2,Q.Z.Messages.LOADING_TIP_3,Q.Z.Messages.LOADING_TIP_4,Q.Z.Messages.LOADING_TIP_5,Q.Z.Messages.LOADING_TIP_6,Q.Z.Messages.LOADING_TIP_7,Q.Z.Messages.LOADING_TIP_8,Q.Z.Messages.LOADING_TIP_9,Q.Z.Messages.LOADING_TIP_10,Q.Z.Messages.LOADING_TIP_11,Q.Z.Messages.LOADING_TIP_12,Q.Z.Messages.LOADING_TIP_13,Q.Z.Messages.LOADING_TIP_14,Q.Z.Messages.LOADING_TIP_15,Q.Z.Messages.LOADING_TIP_16,Q.Z.Messages.LOADING_TIP_17,Q.Z.Messages.LOADING_TIP_18,Q.Z.Messages.LOADING_TIP_19,Q.Z.Messages.LOADING_TIP_20,Q.Z.Messages.LOADING_TIP_21,Q.Z.Messages.LOADING_TIP_22,Q.Z.Messages.LOADING_TIP_23,Q.Z.Messages.LOADING_TIP_24,Q.Z.Messages.LOADING_TIP_25,Q.Z.Messages.LOADING_TIP_26,Q.Z.Messages.LOADING_TIP_27.format({
asterisks:"**"}),Q.Z.Messages.LOADING_KEYBIND_TIP_1.format({quickSwitcherHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"mod+k",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_2.format({markUnreadHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"alt+click",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_3.format({markServerUnreadHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"shift+esc",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_4.format({navigateUnreadHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"shift+alt+up",className:iEe().keybind},t)},downHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"down",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_5.format({keyboardShortcutsHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"mod+/",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_6.format({messageNewlineHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{
shortcut:"shift+return",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_7.format({shiftHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"shift",className:iEe().keybind},t)}}),Q.Z.Messages.LOADING_KEYBIND_TIP_8.format({upHook:function(e,t){return(0,r.jsx)(l.KeyCombo,{shortcut:"up",className:iEe().keybind},t)}})])[Ke().random(i.length-1)];o.handleReady=function(){o.setState({ready:!0});if((0,ls.nI)()){sd.default.send("UPDATED_QUOTES",["Hold Tight  Loading Discord"]);sd.default.send("UPDATE_OPEN_ON_STARTUP")}};o.setVideoRef=function(e){o.videoRef=e};o.setProblemsTimeout=function(){null==o._problemsTimeout&&(o._problemsTimeout=setTimeout((function(){return o.setState({problems:!0})}),1e4))};o.clearProblemsTimeout=function(){clearTimeout(o._problemsTimeout);o._problemsTimeout=null};var a=e.connected;o.state={ready:a,hide:a,problems:!1,shouldRender:!a,opacity:new Qu.Z.Value(a?0:1)};o._connectedSound.volume=1;return o}var o=n.prototype;o.createSound=function(){
var e=this.props.soundpack,t=(0,IO.uk)("discodo",e);t.volume=1;return t};o.componentDidMount=function(){this.setProblemsTimeout()};o.componentDidUpdate=function(e,t){var n=this,r=this.state,o=r.ready,i=r.hide,a=r.problems,s=r.opacity,l=this.props,c=l.connected,u=l.soundpack,f=l.reducedMotion,d=c&&o&&!i&&!a;e.soundpack!==u&&(this._connectedSound=this.createSound());if(e.connected!==c||d)if(c&&null!=this.videoRef){var p=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout);ve.Z.get(w.wli)&&this._connectedSound.play();f?this.setState({problems:!1,hide:c}):this._noProblemsTimeout=setTimeout((function(){n.setState({problems:!1,hide:c})}),p)}else this.setState({problems:!1,hide:c});else if(t.hide!==i){i?this.clearProblemsTimeout():this.setProblemsTimeout();this.setState({shouldRender:!0});Qu.Z.timing(s,{toValue:i?0:1,duration:200}).start((function(){return n.setState({shouldRender:!i})}))
}else t.problems!==a&&a&&H6.Z.checkIncidents()};o.componentWillUnmount=function(){this.clearProblemsTimeout();clearTimeout(this._noProblemsTimeout)};o.render=function(){var e=this.props,t=e.connected,n=e.incident;if(this.state.shouldRender){var o=this._loadingText,i=null;if(null!=n){o=n.name;i=n.incident_updates[0].body}return(0,r.jsxs)(Qu.Z.div,{className:iEe().container,style:{opacity:this.state.opacity},children:[(0,r.jsxs)("div",{className:iEe().content,children:[(0,r.jsx)(rEe.Z,{autoPlay:!0,loop:!t,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?iEe().ready:""}),(0,r.jsxs)("div",{className:iEe().text,children:[null!=n?null:(0,r.jsx)("div",{className:iEe().tipTitle,children:Q.Z.Messages.LOADING_DID_YOU_KNOW}),(0,r.jsx)("div",{className:null!=n?iEe().title:iEe().tip,children:o}),(0,r.jsx)("div",{className:iEe().body,children:i})]})]}),(0,r.jsxs)("div",{className:ze()(iEe().problems,aEe({},iEe().slideIn,this.state.problems)),children:[(0,r.jsx)("div",{
className:iEe().problemsText,children:Q.Z.Messages.CONNECTING_PROBLEMS_CTA}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.Anchor,{className:iEe().twitterLink,href:(0,eEe.Z)(w.RK.TWITTER),target:"_blank",children:[(0,r.jsx)(nEe.Z,{className:iEe().icon}),Q.Z.Messages.TWEET_US]}),(0,r.jsxs)(l.Anchor,{className:iEe().statusLink,href:w.yXt.STATUS,target:"_blank",children:[(0,r.jsx)(R6,{className:iEe().icon}),Q.Z.Messages.SERVER_STATUS]})]})]})]})}return null};return n}(o.PureComponent);const pEe=s.ZP.connectStores([Cl.Z,tEe.Z,mhe.Z,E.Z],(function(){return{isTryingToConnect:Cl.Z.isTryingToConnect(),connected:Cl.Z.isConnected(),incident:tEe.Z.getIncident(),soundpack:mhe.Z.getSoundpack(),reducedMotion:E.Z.useReducedMotion}}))((function(e){var t=e.isTryingToConnect,n=e.connected,o=e.incident,i=e.soundpack,a=e.reducedMotion;return t?(0,r.jsx)(dEe,{reducedMotion:a,soundpack:i,connected:n,incident:o}):null}));n(705429),n(600958),n(227172),n(412732),n(881532),n(242928);var hEe=n(32162)
;function EEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yEe(e){yEe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return yEe(e)}function mEe(e,t){return!t||"object"!==gEe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _Ee(e,t){_Ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _Ee(e,t)}var gEe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bEe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=yEe(e);if(t){var o=yEe(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mEe(this,n)}}var vEe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_Ee(e,t)}(n,e);var t=bEe(n);function n(){EEe(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{NOTIFICATION_ICON_SIZE:64}};return n}(s.ZP.Store);vEe.displayName="UserAchievementStore";new vEe(b.Z,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete&&null!=r){var o=tl.Z.getGame(n),i=null!=o?o.getIconURL(64):null;hEe.default.showNotification(i,r.name,r.description,{notif_type:"USER_ACHIEVEMENT_UPDATE"},{omitViewTracking:!0})}}});n(69660),n(647428),n(223219),n(825781),n(424127),n(367891),n(425187),n(502569),n(353049),n(996246),n(53173),n(431187),n(849172),
n(533404),n(423427),n(588415),n(983512),n(410320),n(426909),n(747820),n(82443),n(866893),n(572615),n(926578),n(955089),n(524600),n(46396),n(883650);function OEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IEe(e){IEe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return IEe(e)}function SEe(e,t){return!t||"object"!==NEe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TEe(e,t){TEe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return TEe(e,t)}var NEe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function CEe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=IEe(e);if(t){var o=IEe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SEe(this,n)}}var AEe=288e5,PEe={};function REe(e){if(null==e||e===w.ME||e===w.I_8)return!1;var t,n=null!==(t=PEe[e])&&void 0!==t?t:0;if(Date.now()<=n+AEe)return!1;PEe[e]=Date.now();Oe.default.track(w.rMx.HIGHLIGHTS_TEST_LOADED,{guild_id:e})}var jEe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&TEe(e,t)}(n,e);var t=CEe(n);function n(){OEe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(P.Z);null!=e&&(PEe=e.lastHighlightsLoadMillis)};r.getState=function(){return{lastHighlightsLoadMillis:PEe}}
;r.__getLocalVars=function(){return{FETCH_HIGHLIGHTS_THRESHOLD_MILLIS:AEe,lastHighlightsLoadMillis:PEe}};return n}(s.ZP.PersistedStore);jEe.displayName="HighlightsTestStore";jEe.persistKey="HighlightsTestStore";new jEe(b.Z,{CONNECTION_OPEN:function(){return REe(P.Z.getGuildId())},CHANNEL_SELECT:function(e){return REe(e.guildId)}});n(835807);var MEe=n(909647);function wEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xEe(e){xEe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return xEe(e)}function LEe(e,t){return!t||"object"!==ZEe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function DEe(e,t){DEe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return DEe(e,t)}var ZEe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function UEe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=xEe(e);if(t){var o=xEe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LEe(this,n)}}var GEe={};function kEe(e,t){var n=GEe[e];if(null==n)return!1;if(n.has(t))return!1;GEe[e]=new Set(n.add(t));return!0}var BEe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&DEe(e,t)}(n,e);var t=UEe(n);function n(){wEe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(ut.default,In.Z);GEe={};null!=e&&Object.keys(e).forEach((function(t){
var n=e[t];null!=n&&"function"==typeof n[Symbol.iterator]&&(GEe[t]=new Set(n))}))};r.getProgress=function(e){return GEe[e]};r.hasProgress=function(e){var t=GEe[e];return null!=t&&!t.has(MEe.Rg.DISMISSED)};r.getState=function(){return GEe};r.__getLocalVars=function(){return{guildProgress:GEe}};return n}(s.ZP.PersistedStore);BEe.displayName="GuildProgressStore";BEe.persistKey="GuildProgressStore";new BEe(b.Z,{CONNECTION_OPEN:function(){var e=[];Object.keys(GEe).forEach((function(t){GEe[t].has(MEe.Rg.COMPLETED)&&e.push(t)}));e.forEach((function(e){return kEe(e,MEe.Rg.DISMISSED)}))},GUILD_PROGRESS_INITIALIZE:function(e){var t=e.guildId;null==GEe[t]&&(GEe[t]=new Set);GEe[t].has(MEe.Rg.COMPLETED)||GEe[t].delete(MEe.Rg.DISMISSED)},GUILD_PROGRESS_COMPLETED_SEEN:function(e){var t=e.guildId;if(null==GEe[t])return!1;GEe[t]=new Set(GEe[t].add(MEe.Rg.COMPLETED))},GUILD_PROGRESS_DISMISS:function(e){return kEe(e.guildId,MEe.Rg.DISMISSED)},GUILD_CREATE:function(e){
var t=e.guild,n=t.id,r=t.member_count,o=In.Z.getGuild(n);if(null==o)return!1;if(o.ownerId===ut.default.getId()&&null!=GEe[o.id]){null!=o.icon&&GEe[o.id].add(MEe.Rg.AVATAR);r>1&&GEe[o.id].add(MEe.Rg.INVITE)}},CHANNEL_CREATE:function(e){var t=e.channel;return null!=t&&null!=t.guild_id&&null!=GEe[t.guild_id]&&kEe(t.guild_id,MEe.Rg.CHANNEL)},CHANNEL_UPDATES:function(e){var t=e.channels,n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;null!=l&&null!=l.guild_id&&null!=GEe[l.guild_id]&&!1!==kEe(l.guild_id,MEe.Rg.CHANNEL)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){var t=e.guild;return null!=t&&(null!=t.id&&null!=GEe[t.id]&&null!=t.icon&&kEe(t.id,MEe.Rg.AVATAR))},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=S.Z.getChannel(t);return n.author.id===ut.default.getId()&&null!=r&&null!=GEe[r.guild_id]&&kEe(r.guild_id,MEe.Rg.MESSAGE)},
GUILD_MEMBER_LIST_UPDATE:function(e){var t=e.guildId,n=e.memberCount;return null!=GEe[t]&&n>1&&kEe(t,MEe.Rg.INVITE)}});n(11879),n(832748),n(522678),n(19539);var HEe=n(994130),VEe=n(62277),FEe=n(649536);function YEe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WEe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function KEe(e){KEe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return KEe(e)}function qEe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){WEe(e,t,n[t])}))}return e}
function XEe(e,t){return!t||"object"!==eye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QEe(e,t){QEe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return QEe(e,t)}function $Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YEe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YEe(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var JEe,eye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=KEe(e);if(t){var o=KEe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XEe(this,n)}}!function(e){e[e.Stale=0]="Stale";e[e.Queued=1]="Queued";e[e.Requested=2]="Requested";e[e.Completed=3]="Completed"}(JEe||(JEe={}));var nye,rye=[JEe.Completed,JEe.Stale,JEe.Queued,JEe.Requested],oye=(WEe(nye={},JEe.Stale,{}),WEe(nye,JEe.Queued,{}),WEe(nye,JEe.Requested,{}),
WEe(nye,JEe.Completed,{}),nye);function iye(e){var t=!0,n=!1,r=void 0;try{for(var o,i=rye[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=oye[a][e];if(null!=s)return[s,a]}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return[null,null]}function aye(e){var t,n,r;return null==e?null:null!==(r=null===(t=e.message)||void 0===t?void 0:t.id)&&void 0!==r?r:null===(n=e.messageRecord)||void 0===n?void 0:n.id}function sye(e,t){delete oye[JEe.Stale][t.channel_id];delete oye[JEe.Queued][t.channel_id];delete oye[JEe.Requested][t.channel_id];oye[JEe.Completed][t.channel_id]={guildId:e,message:t}}function lye(e,t){var n=aye(iye(t.channel_id)[0]);if(null!=n&&Dc.Z.compare(t.id,n)<=0)return!1;sye(e,t)}function cye(e,t,n){var r=$Ee(iye(t),1)[0];delete oye[JEe.Stale][t];delete oye[JEe.Queued][t];delete oye[JEe.Requested][t];delete oye[JEe.Completed][t];oye[n][t]=null!=r?r:{guildId:e}}var uye=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&QEe(e,t)}(n,e);var t=tye(n);function n(){zEe(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){ve.Z.remove("ChannelMessagePreviewStore");var e;oye[JEe.Stale]=null!==(e=ve.Z.get("ChannelMessagePreviewStore2"))&&void 0!==e?e:{};this.waitFor(T7.Z,S.Z,CU.ZP,$I.Z)};r.getMessageState=function(e){var t,n=$Ee(iye(e.id),2),r=n[0],o=n[1];if(null==r){var i;r={guildId:null!==(i=e.guild_id)&&void 0!==i?i:null}}null==r.messageRecord&&null!=r.message&&(r.messageRecord=(0,FEe.e5)(r.message));var a=null===(t=r.messageRecord)||void 0===t?void 0:t.id,s=!1;if(e.isThread())s=!1;else if(null==o)s=!0;else if(o!==JEe.Stale)s=!1;else if(null==a)s=!0;else if(!(s=CU.ZP.lastMessageId(e.id)!==a)){var l;cye(null!==(l=e.guild_id)&&void 0!==l?l:null,e.id,JEe.Completed)}
return[r.messageRecord,s]};r.markChannelFetchStarted=function(e){if(!(e.id in oye[JEe.Completed])&&!(e.id in oye[JEe.Requested])&&!(e.id in oye[JEe.Queued])){var t;cye(null!==(t=e.guild_id)&&void 0!==t?t:null,e.id,JEe.Queued)}};r.getQueuedChannels=function(){var e=oye[JEe.Queued];return Ke()(e).keys().groupBy((function(t){return e[t].guildId})).value()};r.__getLocalVars=function(){return{Stage:JEe,Stages:rye,messagesByStage:oye}};return n}(s.ZP.Store);uye.displayName="ChannelMessagePreviewStore";new uye(b.Z,{APP_STATE_UPDATE:function(e){e.state!==w.$7l.ACTIVE&&function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=rye[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;for(var s in oye[a]){var l=oye[a][s],c=l.guildId,u=l.message;null==u||s in e||(e[s]={guildId:c,message:u})}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}ve.Z.set("ChannelMessagePreviewStore2",e)}();return!1},CHANNEL_MESSAGE_PREVIEW_LOAD_START:function(e){
var t=e.guildId,n=e.channelIds,r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;l in oye[JEe.Completed]||cye(t,l,JEe.Requested)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}},CHANNEL_MESSAGE_PREVIEW_LOAD_SUCCESS:function(e){var t=e.guildId;e.messages.forEach((function(e){return sye(t,e)}));var n=oye[JEe.Requested];for(var r in n)n[r].guildId===t&&(oye[JEe.Completed][r]=n[r])},CONNECTION_OPEN:function(e){var t=e.guilds;oye[JEe.Stale]=qEe({},oye[JEe.Stale],oye[JEe.Completed]);oye[JEe.Completed]={};oye[JEe.Queued]={};oye[JEe.Requested]={};if((0,VEe.cn)()){t.forEach((function(e){var t;return null===(t=e.lastMessages)||void 0===t?void 0:t.forEach((function(t){return sye(e.id,t)}))}));t.forEach((function(e){return e.threadMessages.forEach((function(t){return sye(e.id,t)}))}))}},CONNECTION_RESUMED:function(){oye[JEe.Queued]={};oye[JEe.Requested]={}},GUILD_CREATE:function(e){var t,n=e.guild;if(!(0,
VEe.cn)())return!1;null===(t=n.lastMessages)||void 0===t||t.forEach((function(e){return sye(n.id,e)}));n.threadMessages.forEach((function(e){return sye(n.id,e)}))},LOAD_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;if(!(0,VEe.cn)()||0===n.length)return!1;var r,o=S.Z.getChannel(t);return null!=o&&lye(null!==(r=o.guild_id)&&void 0!==r?r:null,n[0])},LOCAL_MESSAGES_LOADED:function(e){var t=e.channelId,n=e.messages;if(!(0,VEe.cn)()||0===n.length)return!1;var r,o=S.Z.getChannel(t);if(null==o)return!1;(0,HEe.Z)(n);return lye(null!==(r=o.guild_id)&&void 0!==r?r:null,n[0])},MESSAGE_CREATE:function(e){var t=e.guildId,n=e.message;return!!(0,VEe.cn)()&&lye(null!=t?t:null,n)},MESSAGE_UPDATE:function(e){var t=e.message,n=$Ee(iye(t.channel_id),2),r=n[0],o=n[1],i=aye(r);if(null==r||null==o||i!==t.id)return!1;var a=qEe({},r);oye[o][t.channel_id]=a;null!=a.messageRecord&&(a.messageRecord=(0,FEe.wi)(a.messageRecord,t));null!=a.message&&(a.message=(0,FEe.gx)(a.message,t))},
MESSAGE_DELETE:function(e){var t=e.guildId,n=e.id,r=e.channelId;if(!(0,VEe.cn)())return!1;if(aye(iye(r)[0])!==n)return!1;var o=$I.Z.getMessages(r),i=o.hasMoreAfter?null:o.last();if(null!=i)!function(e,t){delete oye[JEe.Stale][t.channel_id];delete oye[JEe.Queued][t.channel_id];delete oye[JEe.Requested][t.channel_id];oye[JEe.Completed][t.channel_id]={guildId:e,messageRecord:t}}(null!=t?t:null,i);else{delete oye[JEe.Stale][r];delete oye[JEe.Queued][r];delete oye[JEe.Requested][r];delete oye[JEe.Completed][r]}},THREAD_LIST_SYNC:function(e){var t=e.guildId,n=e.mostRecentMessages;if(!(0,VEe.cn)())return!1;null==n||n.forEach((function(e){return sye(t,e)}))}});n(206932),n(833589),n(858311),n(58395),n(560837),n(948832),n(523649),n(798808),n(218086),n(78551),n(79308),n(359067),n(487685),n(29975),n(96483);function fye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dye(e){dye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return dye(e)}function pye(e,t){return!t||"object"!==Eye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hye(e,t){hye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hye(e,t)}var Eye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function yye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=dye(e);if(t){var o=dye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pye(this,n)}}
var mye,_ye="ActivityTrackingStore",gye=18e5,bye=3e5,vye=null!==(mye=ve.Z.get(_ye))&&void 0!==mye?mye:{},Oye={},Iye=!1;function Sye(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&Tye(e,!0);var n=Oye[e.applicationId];if(null!=n){n.stop();delete Oye[e.applicationId]}delete vye[e.applicationId];ve.Z.set(_ye,vye)}function Tye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>21e5&&(r=0);OE.Z.updateActivity({applicationId:e.applicationId,distributor:e.isDiscordApplication?w.GQo.DISCORD:e.distributor,shareActivity:(0,_ee.OT)(e.applicationId,sl.Z),token:e.token,duration:Math.floor(r/1e3),closed:t});e.updatedAt=n;var o=Oye[e.applicationId];null==o&&(o=Oye[e.applicationId]=new zE.Xp).start(gye,(function(){return Tye(e)}));if(!t){vye[e.applicationId]=e;ve.Z.set(_ye,vye)}}function Nye(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=ba.ZP.getRunningGames(),n=new Set,r=!0,o=!1,i=void 0
;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=l.name,u=l.distributor,f=tl.Z.getGameByName(c);if(null!=f){n.add(f.id);f.id in vye||Tye({applicationId:f.id,updatedAt:Date.now(),distributor:u})}}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var d=!0,p=!1,h=void 0;try{for(var E,y=Object.keys(vye)[Symbol.iterator]();!(d=(E=y.next()).done);d=!0){var m=E.value;n.has(m)||Sye(vye[m],e)}}catch(e){p=!0;h=e}finally{try{d||null==y.return||y.return()}finally{if(p)throw h}}}function Cye(){var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(vye)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;Sye(vye[i])}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}Iye=!1}var Aye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&hye(e,t)}(n,e);var t=yye(n);function n(){fye(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(ba.ZP,Za.Z,sl.Z);this.syncWith([Za.Z],Nye)};r.getActivities=function(){return vye};r.__getLocalVars=function(){return{STORAGE_KEY:_ye,ACTIVITY_WINDOW:gye,ACTIVITY_WINDOW_GRACE_PERIOD:bye,CLOSE_AUTHENTICATION_FAILED:4004,applicationActivities:vye,applicationIntervals:Oye,hasUpdatedOnConnectionOpen:Iye}};return n}(s.ZP.Store);Aye.displayName="ActivityTrackingStore";new Aye(b.Z,{RUNNING_GAMES_CHANGE:function(){return Nye()},CONNECTION_OPEN:function(){if(Iye)return!1;var e=!0,t=!1,n=void 0;try{for(var r,o=Object.keys(vye)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;Tye(vye[i])}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}Nye(!1);Iye=!0},CONNECTION_CLOSED:function(e){4004===e.code&&Cye()},LOGOUT:Cye,ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=vye[t]
;if(null==r)return!1;r.token=n;ve.Z.set(_ye,vye)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=vye[t];if(null==n)return!1;n.token=null;n.updatedAt=null;ve.Z.set(_ye,vye)}});n(711338),n(180172),n(610773),n(82863),n(381186),n(592981),n(996077),n(440031),n(213818),n(70321),n(449420),n(984216),n(695895),n(512291),n(746477),n(470758),n(869160),n(558095),n(279812),n(371689),n(977528),n(40134),n(66768),n(876296),n(688013),n(107403),n(256727);function Pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(e){Rye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Rye(e)}function jye(e,t){return!t||"object"!==wye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mye(e,t){Mye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mye(e,t)}var wye=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Rye(e);if(t){var o=Rye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jye(this,n)}}function Lye(){return!0}var Dye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mye(e,t)}(n,e);var t=xye(n);function n(){Pye(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(T7.Z)};r.getExperimentAssignment=function(e,t){
return T7.Z.getGuildExperimentDescriptor(t,e)};r.__getLocalVars=function(){return{}};return n}(s.ZP.Store);Dye.displayName="GuildExperimentStore";new Dye(b.Z,{LOGOUT:Lye,LOGIN_SUCCESS:Lye,CONNECTION_OPEN:Lye,EXPERIMENTS_FETCH_SUCCESS:Lye,OVERLAY_INITIALIZE:Lye,CACHE_LOADED:Lye,EXPERIMENTS_FETCH_FAILURE:Lye,EXPERIMENT_REGISTER_LEGACY:Lye,EXPERIMENT_OVERRIDE_BUCKET:Lye});n(430091);n(727266);function Zye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uye(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Gye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Uye(i,r,o,a,s,"next",e)}function s(e){Uye(i,r,o,a,s,"throw",e)}a(void 0)}))}}function kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bye(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Hye(e){Hye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Hye(e)}function Vye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Wye(e,t)}function Fye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bye(e,t,n[t])}))}return e}function Yye(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zye(e,t){return!t||"object"!==Kye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wye(e,t){Wye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Wye(e,t)}var Kye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function qye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Hye(e);if(t){var o=Hye(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return zye(this,n)}}var Xye=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Qye=!1;!function(){Ie.Z.addBreadcrumb({message:"Initializing SessionHeartbeatScheduler LifecycleManager"});C.Z.addChangeListener(ke);b.Z.subscribe("WINDOW_FOCUS",Be);b.Z.subscribe("APP_STATE_UPDATE",He);b.Z.subscribe("LOGIN_SUCCESS",Ge);Ue()}();s.ZP.initialize();pm.loadServer();if(ls.FB){sd.default.on("USER_SETTINGS_OPEN",(function(){T.Z.getLayers().includes(w.S9g.USER_SETTINGS)||h.Z.open(w.oAB.ACCOUNT)}));sd.default.on("LAUNCH_APPLICATION",(function(e,t){var n=sl.Z.getActiveLibraryApplication(t);_O.playApplication(t,n,{analyticsParams:{location:{page:w.ZY5.DIRECT,object:w.qAy.WEB_URL}}})}))}var $ye=s.ZP.connectStores([Cl.Z,xv.Z,ut.default],(function(){return{isConnected:Cl.Z.isConnected(),defaultRoute:xv.Z.defaultRoute,defaultRouteFallback:xv.Z.fallbackRoute,token:ut.default.getToken()}}))(function(e){Vye(n,e);var t=qye(n);function n(){kye(this,n)
;return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props.match;null!=e&&null!=e.params.inviteCode&&function(e){xl.apply(this,arguments)}({code:e.params.inviteCode})};o.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute,o=e.token,i=e.defaultRouteFallback;if(null==o)return(0,r.jsx)(a.l_,{to:w.Z5c.DEFAULT_LOGGED_OUT});if(t){var s=cme(n);return null==s||(s.params.guildId===w.ME||null!=In.Z.getGuild(s.params.guildId))&&null!=S.Z.getChannel(s.params.channelId)?(0,r.jsx)(a.l_,{to:n}):(0,r.jsx)(a.l_,{to:i})}return null};return n}(o.Component));var Jye,eme=(0,ma.e)(Jhe,null,{passProps:!1}),tme=(0,ma.e)((function(){return(0,r.jsx)(Er,{})})),nme=(0,ma.e)((function(e){var t=e.match.params,n=t.applicationId,o=t.section,i=(0,Ul.Z)(ti.c,o);return(0,r.jsx)(yi,{applicationId:n,initialSection:i})})),rme=(0,ma.e)((function(){return(0,r.jsx)(Ea,{})})),ome=[w.Z5c.GUILD_BOOSTING_MARKETING(":guildId")].concat(function(e){
if(Array.isArray(e))return Zye(e)}(Jye=Array.from(LS.Vg).map((function(e){return w.Z5c.CHANNEL(":guildId",e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Jye)||function(e,t){if(e){if("string"==typeof e)return Zye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zye(e,t):void 0}}(Jye)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function ime(e){var t=e.params,n=t.guildId,r=t.channelId,o=void 0===r?null:r,i=t.messageId,a=void 0===i?null:i,s=t.threadId,l=void 0===s?null:s;return{guildId:null!=n?n:w.ME,channelId:o,messageId:a,threadId:l}}var ame=[{path:[w.Z5c.APP_WITH_INVITE_AND_GUILD_ONBOARDING(":inviteCode")],
render:function(e){var t=e.match;return(0,r.jsx)($ye,{match:t})},isSessionRequired:!0},{path:[w.Z5c.APP],render:function(){return(0,r.jsx)($ye,{})},isSessionRequired:!0},{path:[w.Z5c.USERS(":id")],render:function(e){var t=e.match,n=e.location,o=(0,i.parse)(n.search).friend_token,s=t.params.id;(0,Al.h)((function(){return(0,ng.m)({userId:s,guildId:w.ME,friendToken:o,analyticsLocation:{section:w.jXE.DIRECT_ROUTE_ACCESS}})}));return(0,r.jsx)(a.l_,{to:xv.Z.defaultRoute})}},{path:[w.Z5c.APPLICATION_LIBRARY_ACTION(":gameId",":action")],render:function(e){var t=e.match.params,n=t.gameId,o=t.action;fO.Z.whenInitialized((function(){sl.Z.whenInitialized((function(){switch(o){case"launch":var e=sl.Z.getActiveLibraryApplication(n);if(null==e)return;_O.playApplication(e.id,e,{analyticsParams:{location:{page:w.ZY5.DIRECT,object:w.qAy.WEB_URL}}});break;case"test-mode":bl.Z.whenInitialized((function(){return p.Wt(n)}));break;case"uninstall":var t=sl.Z.getActiveLibraryApplication(n);if(null==t)return
;(0,u.W)(t.id,t.branchId,w.Sbl.URI_SCHEME)}}))}));return(0,r.jsx)(a.l_,{to:w.Z5c.APPLICATION_LIBRARY})}},{path:[w.Z5c.GUILD_CREATE],render:function(){(0,Al.h)((function(){return ss.Z.openCreateGuildModal({location:"External link"})}));return(0,r.jsx)(a.l_,{to:xv.Z.defaultRoute})}},{path:[w.Z5c.PICK_GUILD_SETTINGS(":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.section,o=t.subsection,s=(0,i.parse)(location.search).feature;(0,Al.h)((function(){return Vl({section:(0,Ul.Z)(w.pNK,n),subsection:(0,Ul.Z)(w.KsC,o),feature:s})}));return(0,r.jsx)(a.l_,{to:xv.Z.defaultRoute})},isSessionRequired:!0},{path:[w.Z5c.SETTINGS(":section",":subsection?")],render:function(e){var t=e.location,n=(0,uv.default)(t.pathname);null!=n&&(0,Al.h)((function(){return h.Z.open(n.section,n.subsection,{openWithoutBackstack:!1,impressionSource:n.source})}));return(0,r.jsx)(a.l_,{to:xv.Z.defaultRoute})},isSessionRequired:!0},{path:[w.Z5c.USER_GUILD_NOTIFICATION_SETTINGS(":guildId")],
render:function(e){var t=e.match.params.guildId;(0,Al.h)((function(){(0,l.openModalLazy)(Gye((function(){var e,o;return Xye(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(7528)]).then(n.bind(n,207528))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Yye(Fye({},e),{guildId:t}))}]}}))})))}));return(0,r.jsx)(a.l_,{to:w.Z5c.CHANNEL(t)})},isSessionRequired:!0},{path:[w.Z5c.APPLICATION_LIBRARY_INVENTORY],render:function(){(0,Al.h)((function(){return h.Z.open(w.oAB.INVENTORY)}));return(0,r.jsx)(a.l_,{to:xv.Z.defaultRoute})},isSessionRequired:!0},{path:[w.Z5c.WELCOME(":guildId?",":channelId?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.channelId;(0,Lc.c)(Yc.M5.MARKETING_UNCLAIMED);var i=w.Z5c.CHANNEL(n,o);return(0,r.jsx)(a.l_,{to:i})},isSessionRequired:!0},{path:[w.Z5c.GUILD_EVENT_DETAILS(":guildId?",":guildEventId")],render:function(e){var t=e.match.params,n=t.guildId,o=t.guildEventId;(0,Al.h)((function(){(0,Dl.bO)({eventId:o
})}));return(0,r.jsx)(a.l_,{to:w.Z5c.CHANNEL(n)})},isSessionRequired:!0},{path:[w.Z5c.GUILD_SETTINGS(":guildId",":section?",":subsection?")],render:function(e){var t=e.match.params,n=t.guildId,o=t.section,i=t.subsection;(0,Al.h)((function(){Zl.Z.open(n,(0,Ul.Z)(w.pNK,o),void 0,(0,Ul.Z)(w.KsC,i))}));return(0,r.jsx)(a.l_,{to:w.Z5c.CHANNEL(n)})},isSessionRequired:!0,isChatRoute:!0},{path:[w.Z5c.CHANNEL_THREAD_VIEW(":guildId",":channelId",":threadId"),w.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),w.Z5c.ACTIVITY,w.Z5c.ACTIVITIES,w.Z5c.ACTIVITIES_HAPPENING_NOW,w.Z5c.ACTIVITY_DETAILS(":applicationId"),w.Z5c.APPLICATION_LIBRARY,w.Z5c.APPLICATION_STORE,w.Z5c.MESSAGE_REQUESTS,w.Z5c.GUILD_DISCOVERY,w.Z5c.GUILD_MEMBER_VERIFICATION(":guildId",":inviteCode?"),w.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode?"),w.Z5c.GUILD_BOOSTING_MARKETING(":guildId"),w.Z5c.FEATURE(":feature"),w.Z5c.FAMILY_CENTER],render:eme,isSessionRequired:!0,isChatRoute:!0},{
path:[w.Z5c.APPLICATION_DIRECTORY_SEARCH],render:rme,isSessionRequired:!0},{path:[w.Z5c.APPLICATION_DIRECTORY_PROFILE(":applicationId",":section?")],render:nme,isSessionRequired:!0},{path:[w.Z5c.APPLICATION_DIRECTORY],render:tme,isSessionRequired:!0}];function sme(e){if(!Cl.Z.isConnected()&&!Cl.Z.isTryingToConnect()){var t=ut.default.getToken();if(null!=t){var n=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=ame[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,l=s.path;if(s.isSessionRequired){var c=(0,a.LX)(e,{path:l});if(null!=c)return c}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}(e);null!=n&&c.Z.startSession(t)}}}function lme(e){var t=cme(e);if(null!=t){var n=ime(t),r=n.guildId,o=n.channelId,i=n.messageId,s=n.threadId,l=(0,Wf.S)(r),c=(0,Wf.c)(o),u=(0,Wf.c)(s),p=P.Z.getGuildId(),h=p!==r;l&&h&&f.Z.selectGuild(r);if(l&&c){var E=A.Z.getChannelId(p),y=E!==o;if(!Qye||h||y||null!=i){Qye=!0;d.default.selectChannel({
guildId:r,channelId:o,messageId:i})}if(null!=s&&u){var m=P_.ZP.getCurrentSidebarChannelId(E);null!=o&&null!=s&&m!==s&&Sm.Z.openThreadAsSidebar({guildId:r,baseChannelId:o,channelId:s})}else null==o||y||Sm.Z.closeChannelSidebar(o);var _=xc.getIsOpen(),g=y&&_,b=!h&&!y;if(o===LS.oC.ROLE_SUBSCRIPTIONS)Sc();else if(h&&_){var v=null==p&&r===w.ME,O=e===w.Z5c.GUILD_DISCOVERY;v||O?Sc():Tc()}else(g||b)&&Sc()}else(function(e){return ome.some((function(t){var n;return!0===(null===(n=(0,a.LX)(e,t))||void 0===n?void 0:n.isExact)}))})(e)||(0,K.dL)(xv.Z.fallbackRoute)}}function cme(e){var t=!0,n=!1,r=void 0;try{for(var o,i=ame[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,l=s.path;if(s.isChatRoute){var c=(0,a.LX)(e,{path:l});if(null!=c)return c}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null}function ume(e){var t=e.channelId,n=e.guildId,r=e.pathname;if(Cl.Z.isConnected()){(0,K.s1)().location.pathname===r&&(null==S.Z.getChannel(t)?(0,
K.dL)(w.Z5c.CHANNEL(n)):(0,K.dL)(r))}}var fme=function(e){Vye(i,e);var t=qye(i);function i(){kye(this,i);var e;(e=t.apply(this,arguments)).historyUnlisten=function(){};e.rewriterUnlisten=function(){};return e}var s=i.prototype;s.componentDidMount=function(){Wa.initialize();sd.default.setZoomFactor(E.Z.zoom);pm.init();wa.initialize();sf.initialize();El.initialize();il();wv.initialize();gl();Sf.Z.initialize();Oc.initialize();y.Z.init();Nl();vl();du.initialize();ge.initialize();$s.initialize();Hf.initialize();F.initialize();vv.initialize();Xu.initialize();g.Z.initialize();Pl.Z.init();zl();uO();mO();_.Z.initialize();tg();Dv.Z.init();Lv.Z.init();Vb.init();l_.initialize();S_.initialize();Ig.initialize();iv();Ms.initialize();m.Z.initialize();Im.initialize();Jm.initialize();Cu.Z.initialize();Nu.initialize();Zu.initialize();as.initialize();Wl.Z.init({hasModalOpen:l.hasAnyModalOpen,openModal:function(){return(0,l.openModalLazy)(Gye((function(){var e,t;return Xye(this,(function(o){
switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,966658))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fye({},e))}]}}))})))}});Os();Ic.Z.initialize();Yf.Z.initialize();If.initialize();bs.initialize();this.rewriterUnlisten=zf.Z.addRouteRewriter(this.ensureChannelMatchesGuild);this.historyUnlisten=zf.Z.addRouteChangeListener(this.handleHistoryChange)};s.componentWillUnmount=function(){Wa.terminate();El.terminate();wv.terminate();Sf.Z.terminate();sf.terminate();wa.terminate();F.terminate();vv.terminate();g.Z.terminate();Hf.terminate();Xu.terminate();Ig.terminate();_.Z.terminate();Ms.terminate();Ic.Z.terminate();m.Z.terminate();Yf.Z.terminate();Im.terminate();Jm.terminate();Cu.Z.terminate();Nu.terminate();Zu.terminate();as.terminate();If.terminate();bs.terminate();this.historyUnlisten();this.rewriterUnlisten()};s.handleHistoryChange=function(e){var t=e.pathname;sme(t);lme(t)};s.ensureChannelMatchesGuild=function(e){if(!Cl.Z.isConnected())return null
;var t=e.pathname,n=cme(t);if(null==n)return null;var r=ime(n),o=r.guildId,i=r.channelId,a=r.threadId,s=(0,Wf.S)(o)&&o!==w.ME&&o!==w.I_8;if(null!=i&&(0,Wf.c)(i)&&!(0,LS.AB)(i)&&s){var l=S.Z.getChannel(i);if(null==l)T_.Z.loadThread(i).then((function(){return ume({channelId:i,guildId:o,pathname:t})}));else if(l.guild_id!==o)return{path:w.Z5c.CHANNEL(o),state:e.state};if(null!=a){if(!((0,Wf.c)(a)&&!(0,LS.AB)(i)))return null;var c=S.Z.getChannel(a);if(null==c)T_.Z.loadThread(a).then((function(){return ume({channelId:a,guildId:o,pathname:t})}));else if((null==c?void 0:c.parent_id)!==i){Sm.Z.closeChannelSidebar(i);return{path:w.Z5c.CHANNEL(o,i),state:e.state}}}}return null};s.render=function(){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(a.rs,{children:[(0,r.jsx)(a.l_,{exact:!0,from:"/channels",to:"/"}),ame.map((function(e){var t=e.path,n=e.render;return(0,r.jsx)(a.AW,{path:t,render:n},t[0])})),(0,r.jsx)(a.l_,{to:"/"})]}),(0,r.jsx)(pEe,{})]})};return i}(o.PureComponent);const dme=fme},
342147:(e,t,n)=>{"use strict";n.d(t,{D2:()=>l,SE:()=>c});var r=n(202351),o=n(260561),i=n(682776),a=n(2590),s=(0,o.B)({kind:"guild",id:"2022-11_default_disable_mass_mention",label:"Disable mass mentions for communities by default",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function l(e){return s.useExperiment({guildId:e},{autoTrackExposure:!0})}function c(e){var t,n=(0,r.e7)([i.Z],(function(){return i.Z.can(a.Plq.MANAGE_GUILD,e)})),o=s.useExperiment({guildId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},{autoTrackExposure:!0}).enabled;if(null==e)return!1;var l=e.hasFeature(a.oNc.COMMUNITY);return n&&l&&o}},661985:(e,t,n)=>{"use strict";n.d(t,{R_:()=>o,l1:()=>i});var r=(0,n(260561).B)({kind:"user",id:"2023-02_parent_tools_launch",label:"Safety - Family Center Launch",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});function o(){return r.useExperiment({},{autoTrackExposure:!1}).enabled}function i(){
return r.getCurrentConfig({},{autoTrackExposure:!1}).enabled}},145800:(e,t,n)=>{"use strict";n.d(t,{Zh:()=>o,e6:()=>i,iq:()=>a,M9:()=>s});var r=n(813216),o=null!=window.speechSynthesis;function i(e,t){var n=e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.match(/^https?:\/\/(?:www\.)?([^/?#]+)(?:[/?#]|$)/i);return null!=t?t[1]:""}));null!=t&&n.length>t&&(n=(n=n.substring(0,t)).substring(0,Math.min(n.length,n.lastIndexOf(" "))));var o=new SpeechSynthesisUtterance(n);o.rate=r.Z.speechRate;return o}function a(e,t){if(o){e.voice=t;speechSynthesis.speak(e)}}function s(){o&&speechSynthesis.cancel()}},903957:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-05_activities_joinleave_sounds",label:"Activities Sounds Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Activities Join/Leave Sounds",config:{enabled:!0}}]})},852841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(202351),o=n(744564),i=n(88067);function a(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return l(this,n)}}var d=new Set,p=new Set([i.ES.DISCORD_TURNS_8]);var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){if(null!=e){Array.isArray(e.acknowledged)&&(d=new Set(e.acknowledged));Array.isArray(e.opened)&&(p=new Set(e.opened))}};r.getState=function(){return{acknowledged:d,opened:p}};r.getOpened=function(){return p};r.getAcknowledged=function(){return d};r.isOpened=function(e){return p.has(e)};r.__getLocalVars=function(){return{acknowledged:d,opened:p}};return n}(r.ZP.PersistedStore);h.displayName="ActivitiesWhatsNewStore";h.persistKey="ActivitiesWhatsNewStore";const E=new h(o.Z,{ACTIVITIES_WHATS_NEW_ACKNOWLEDGE_SECTION:function(e){var t=e.section;d.add(t)},
ACTIVITIES_WHATS_NEW_MARK_OPENED_SECTION:function(e){var t=e.section;p.add(t)}})},420097:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-04_birthday_activities_whats_new_gdm_tile",label:"Birthday Activities Whats New GDM Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable GDM tile",config:{enabled:!0}}]})},529856:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-04_birthday_activities_jamspace_tile",label:"Birthday Activities Whats New Jamspace Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Jamspace tile",config:{enabled:!0}}]})},316541:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-05_birthday_activities_poker",label:"Birthday Activities Poker Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Poker tile",config:{enabled:!0}}]})},904942:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=(0,n(260561).B)({kind:"user",
id:"2023-04_birthday_activities_putt_party_tile",label:"Birthday Activities Whats New Putt Party Tile",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Putt Party tile",config:{enabled:!0}}]})},910067:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,c:()=>f});var r=n(202351),o=n(852841),i=n(420097),a=n(529856),s=n(316541),l=n(904942),c=n(88067);function u(){return(0,r.e7)([o.Z],(function(){return f(o.Z)}))}function f(e){var t=0,n=e.getAcknowledged();i.q.getCurrentConfig({}).enabled&&!n.has(c.ES.GDM_ACTIVITIES)&&t++;l.u.getCurrentConfig({}).enabled&&!n.has(c.ES.PUTT_PARTY)&&t++;a.q.getCurrentConfig({}).enabled&&!n.has(c.ES.JAMSPACE)&&t++;s.m.getCurrentConfig({}).enabled&&!n.has(c.ES.POKER)&&t++;!n.has(c.ES.DISCORD_TURNS_8)&&t<=0&&t++;return t}},649222:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ACTIVITY_ENCOURAGES_HW_ACCELERATION:()=>b,default:()=>v});var r=n(785893),o=n(667294),i=n(945460),a=n(944010),s=n(28661),l=n(107364),c=n(652591),u=n(310126),f=n(2590),d=n(473708),p=n(743140),h=n.n(p)
;function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var b="Activity Encourages Hardware Acceleration";function v(e){var t,n=e.applicationId,p=_(e,["applicationId"]),E=g(o.useState(!1),2),v=E[0],O=E[1],I=g((0,s.Z)([n]),1)[0],S=null!==(t=null==I?void 0:I.name)&&void 0!==t?t:"This Activity";o.useEffect((function(){c.default.track(f.rMx.OPEN_MODAL,{type:b})}),[]);var T=function(){var e="temporary";if(v){e="permanent";a.ZP.updatedUnsyncedSettings({disableActivityHardwareAccelerationPrompt:!0})}c.default.track(f.rMx.MODAL_DISMISSED,{type:b,dismiss_type:e});p.onClose()};return(0,r.jsxs)(i.ModalRoot,m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({className:h().root,"aria-label":d.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE},p),{children:[(0,
r.jsxs)(i.ModalHeader,{separator:!1,children:[(0,r.jsx)(i.Text,{className:h().header,variant:"text-lg/normal",children:d.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_TITLE}),(0,r.jsx)(i.ModalCloseButton,{onClick:T,className:h().closeButton})]}),(0,r.jsx)(i.ModalContent,{className:h().content,children:(0,r.jsx)(i.Text,{variant:"text-md/normal",className:h().ratingBody,children:d.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_BETTER_BODY.format({applicationName:S})})}),(0,r.jsxs)(i.ModalFooter,{className:h().footer,direction:l.Z.Direction.HORIZONTAL,children:[(0,r.jsx)(i.Checkbox,{type:i.Checkbox.Types.INVERTED,size:18,value:v,onChange:function(){return O(!v)},children:(0,r.jsx)(i.Text,{variant:"text-sm/normal",children:d.Z.Messages.DONT_SHOW_AGAIN})}),(0,r.jsx)(i.Button,{color:i.Button.Colors.PRIMARY,onClick:T,children:d.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_NO_THANKS}),(0,r.jsx)(i.Button,{color:i.Button.Colors.BRAND,onClick:function(){
c.default.track(f.rMx.ACTIVITY_ENABLE_HARDWARE_ACCELERATION,{application_id:n});u.default.setEnableHardwareAcceleration(!0)},children:d.Z.Messages.ACTIVITY_HARDWARE_ACCELERATION_TURN_IT_ON})]})]}))}},189041:(e,t,n)=>{"use strict";n.d(t,{mN:()=>s,qV:()=>l,qq:()=>c,C8:()=>u});var r=n(744564),o=(n(784426),n(652591)),i=n(561210),a=n(2590);function s(e){o.default.track(a.rMx.OPEN_MODAL,{type:"Enter Your Birthday",source:{section:e}});r.Z.dispatch({type:"AGE_GATE_MODAL_OPEN",source:e})}function l(e){r.Z.wait((function(){return r.Z.dispatch({type:"AGE_GATE_MODAL_CLOSE"})}));void 0!==e&&o.default.track(a.rMx.AGE_GATE_ACTION,{source:e,action:i.Al.AGE_GATE_CLOSE})}function c(e){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_SUCCESS_MODAL_OPEN"})}));o.default.track(a.rMx.AGE_GATE_ACTION,{source:e,action:i.Al.AGE_GATE_SUCCESS})}function u(e,t){r.Z.wait((function(){r.Z.dispatch({type:"AGE_GATE_FAILURE_MODAL_OPEN",underageMessage:t})}));o.default.track(a.rMx.AGE_GATE_ACTION,{source:e,
action:i.Al.AGE_GATE_FAILURE})}},549869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(){return{}}},955681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(973935),l=n(809784),c=n(945460),u=n(672380),f=n(677483),d=n(22119),p=n.n(d);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g,b=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}!function(e){e[e.LEFT=0]="LEFT";e[e.RIGHT=1]="RIGHT"}(g||(g={}));var O=function(e){var t=e.onClick,n=e.className,o=e.direction;return(0,r.jsx)(c.Clickable,{"aria-hidden":!0,className:a()(p().scrollerButton,n),onClick:t,children:(0,r.jsx)(f.Z,{className:p().scrollerButtonArrow,direction:o})})},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=v(n);function n(){h(this,n);var e;(e=t.apply(this,arguments)).state={tileIndex:0,prevWidth:e.props.width,lastArrowDirection:g.LEFT,scrollerWidth:0};e.advancedScrollerRef=o.createRef();e.tileScrollerRef=o.createRef();e.setScrollerWidth=function(){var t=(0,s.findDOMNode)(e.tileScrollerRef.current);(0,l.k)(t,HTMLElement)&&t.offsetWidth!==e.state.scrollerWidth&&e.setState({scrollerWidth:t.offsetWidth})};e.prev=function(){e.setState({tileIndex:Math.max(e.state.tileIndex-1,0),lastArrowDirection:g.LEFT})};e.next=function(){e.setState({tileIndex:Math.min(e.state.tileIndex+1,e.getMaxIndex()),lastArrowDirection:g.RIGHT})};return e}var i=n.prototype;i.getMaxOffset=function(){var e=this.props.width,t=this.state.scrollerWidth;return Math.max(Math.floor(t-e),0)};i.getSideOffset=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin,r=this.getMaxOffset(),o=t+n;return r-Math.floor(r/o)*o};i.getMaxIndex=function(){
var e=this.props,t=e.tileWidth,n=e.tileMargin;return Math.round(this.getMaxOffset()/(t+n))};i.getOffset=function(e,t){var n=this.props,r=n.tileWidth,o=n.tileMargin;return Math.min(e*(r+o)+(t===g.RIGHT?this.getSideOffset():0),this.getMaxOffset())};i.componentDidMount=function(){this.setScrollerWidth()};i.componentDidUpdate=function(e,t){if(t.tileIndex!==this.state.tileIndex||t.lastArrowDirection!==this.state.lastArrowDirection){var n,r,o,i=this.state.tileIndex,a=this.getOffset(this.state.tileIndex,this.state.lastArrowDirection);null===(n=this.advancedScrollerRef.current)||void 0===n||n.scrollTo({to:a,animate:!0});null===(o=(r=this.props).onScroll)||void 0===o||o.call(r,{tileIndex:i})}e.width!==this.props.width&&this.setScrollerWidth()};i.render=function(){var e=this,t=this.state,n=t.tileIndex,o=t.lastArrowDirection,i=this.props,s=i.header,l=i.headerId,u=i.subHeader,d=i.headerContainerClassName,h=i.scrollContainerClassName,y=this.getMaxOffset()>0;return(0,r.jsxs)("div",{children:[(0,
r.jsxs)("div",{className:a()(p().headerContainer,d),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Heading,{id:l,variant:"heading-lg/semibold",children:s}),null==u?null:(0,r.jsx)(c.Text,{variant:"text-sm/medium",className:p().subheader,children:u})]}),y?(0,r.jsxs)("div",{className:p().arrowsContainer,children:[(0,r.jsx)(O,{direction:f.Z.Directions.LEFT,onClick:this.prev,className:a()(p().arrowLeft,E({},p().arrowDisabled,0===n&&o===g.LEFT))}),(0,r.jsx)(O,{direction:f.Z.Directions.RIGHT,onClick:this.next,className:a()(p().arrowRight,E({},p().arrowDisabled,n===this.getMaxIndex()&&o===g.RIGHT))})]}):null]}),(0,r.jsx)("div",{className:a()(p().scrollerContainer,h),children:(0,r.jsx)(c.AdvancedScrollerNone,{ref:this.advancedScrollerRef,orientation:"horizontal",className:p().scroller,children:(0,r.jsx)("div",{className:p().scroller,ref:function(t){e.tileScrollerRef.current=t;e.setScrollerWidth()},children:this.props.children})})})]})};n.getDerivedStateFromProps=function(e,t){
return t.prevWidth!==e.width?{tileIndex:0,prevWidth:e.width,lastArrowDirection:g.LEFT}:null};return n}(o.Component);const S=(0,u.Z)(I)},712125:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(661123),o=n(2590);function i(e){var t=function(e){if(null!=e)return{guildPresences:(0,r.yE)(e,o.udG.GATEWAY_PRESENCE),guildMembers:(0,r.yE)(e,o.udG.GATEWAY_GUILD_MEMBERS),messageContent:(0,r.yE)(e,o.udG.GATEWAY_MESSAGE_CONTENT),guildPresencesLimited:(0,r.yE)(e,o.udG.GATEWAY_PRESENCE_LIMITED),guildMembersLimited:(0,r.yE)(e,o.udG.GATEWAY_GUILD_MEMBERS_LIMITED),messageContentLimited:(0,r.yE)(e,o.udG.GATEWAY_MESSAGE_CONTENT_LIMITED)}}(e.flags),n=null!=t&&((null==t?void 0:t.messageContent)||(null==t?void 0:t.messageContentLimited)),i=null!=t&&((null==t?void 0:t.guildPresences)||(null==t?void 0:t.guildPresencesLimited)),a=null!=t&&((null==t?void 0:t.guildMembers)||(null==t?void 0:t.guildMembersLimited));return{hasMessageContent:n,hasGuildPresences:i,hasGuildMembers:a,hasIntents:n||i||a}}},
926543:(e,t,n)=>{"use strict";n.d(t,{M:()=>l,Z:()=>c});var r=n(785893),o=(n(667294),n(751615)),i=n(80783),a=n(2590),s=n(199790);function l(){var e=location.pathname+location.search;return s.a?a.Z5c.REGISTER:(0,i.U)(e,!1)}const c=function(){return(0,r.jsx)(o.l_,{to:l()})}},61200:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var r=n(785893),o=(n(667294),n(736818)),i=n(130585),a=n(926543),s=n(2590);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function u(e,t){var n,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{passProps:!0},f=function(n){return!(0,
i.$8)()&&o.default.getLoginStatus()!==s.u34.LOGGING_IN&&o.default.allowLogoutRedirect()?null!=t?(0,r.jsx)(t,{renderRedirect:(0,r.jsx)(a.Z,{})}):(0,r.jsx)(a.Z,{}):(0,r.jsx)(e,c({},u.passProps?n:null))};f.displayName="Authenticated(".concat(null!==(l=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==l?l:"<Unknown>",")");return f}},410320:(e,t,n)=>{"use strict";n.d(t,{q:()=>_e});var r=n(17916),o=(n(887235),n(940060)),i=n(202351),a=n(630631),s=n(744564),l=n(114643),c=n(847388),u=n(296602),f=n(652555),d=n(382060),p=n(736818),h=n(61209),E=n(567403),y=n(682776),m=n(884755),_=n(247075),g=n(53173);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,s,"next",e)}function s(e){
v(i,r,o,a,s,"throw",e)}a(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]
},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}
},T=new u.Z("GuildBasicChannels"),N=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.synced=null;this.actions={BACKGROUND_SYNC:function(e,n){return t.handleBackgroundSync(e,n)},CHANNEL_CREATE:function(e,n){return t.handleChannelCreate(e,n)},CHANNEL_DELETE:function(e,n){return t.handleChannelDelete(e,n)},CHANNEL_UPDATES:function(e,n){return t.handleChannelUpdates(e,n)},CLEAR_CACHES:function(e,n){return t.handleClear(n)},CLEAR_GUILD_CACHE:function(e,n){return t.handleClear(n)},CONNECTION_OPEN:function(e,n){return t.handleConnectionOpen(e,n)},GUILD_CREATE:function(e,n){return t.handleGuildCreate(e,n)},GUILD_DELETE:function(e,n){return t.handleGuildDelete(e,n)},GUILD_MEMBER_UPDATE:function(e,n){return t.handleGuildMemberUpdate(e,n)},GUILD_ROLE_UPDATE:function(e,n){return t.handleGuildRoleUpdate(e,n)},GUILD_UPDATE:function(e,n){return t.handleGuildUpdate(e,n)},POST_CONNECTION_OPEN:function(){
return t.handlePostConnectionOpen()},WRITE_CACHES:function(e,n){return t.handleWriteCaches(e,n)}}}var t=e.prototype;t.getAsync=function(e){var t=this;return O((function(){var n,r,o,i,a,s,l,c,u;return S(this,(function(f){switch(f.label){case 0:n=performance.now();return[4,Promise.all([_.Z.basicChannels(e).getKvEntries(),_.Z.syncedBasicChannels(e).getKvEntries()])];case 1:r=I.apply(void 0,[f.sent(),2]),o=r[0],i=r[1];a=performance.now()-n;s=I(function(e){var t=[],n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=I(a.value,2),c=l[0];(l[1]?t:n).push(c)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return[t,n]}(i),2),l=s[0],c=s[1];u=new Set(l);t.synced=u;T.log("loaded in ".concat(a,"ms (guilds: ").concat(o.length,", synced: ").concat(u.size," unsynced: ").concat(c.length,")"));return[2,{all:o,stale:c,channels:o.filter((function(e){var t=I(e,2),n=t[0];t[1];return u.has(n)}))}]}}))}))()}
;t.handleClear=function(e){_.Z.basicChannelsTransaction(e).delete();_.Z.syncedBasicChannelsTransaction(e).delete();this.handleReset()};t.handleChannelCreate=function(e,t){null!=e.channel.guild_id&&this.unsync(e.channel.guild_id,t)};t.handleChannelDelete=function(e,t){null!=e.channel.guild_id&&this.unsync(e.channel.guild_id,t)};t.handleChannelUpdates=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.channels.filter((function(e){return null!=e.guild_id}))[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;C(h.Z.getBasicChannel(s.id),s)&&this.unsync(s.guild_id,t)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};t.handleBackgroundSync=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this,s=function(){var e=i.value;switch(e.data_mode){case"unavailable":break;case"partial":var n,r,o;a.onGuildUpdate(e.id,null!==(r=null===(n=e.partial_updates.channels)||void 0===n?void 0:n.map((function(t){return(0,d.q_)(t,e.id)
})))&&void 0!==r?r:[],null!==(o=e.partial_updates.deleted_channel_ids)&&void 0!==o?o:[],t);break;default:a.onGuildSync(e.id,t)}},l=e.guilds[Symbol.iterator]();!(n=(i=l.next()).done);n=!0)s()}catch(e){r=!0;o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}};t.handleConnectionOpen=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.guilds[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.handleOneGuildCreate(s,t)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};t.handlePostConnectionOpen=function(){var e=this;return O((function(){var t,n,r,o,i,a,s,l,u,d,p;return S(this,(function(h){switch(h.label){case 0:t=f.Z.lastTimeConnectedChanged();n=_.Z.database();if(null==e.synced||null==n||!(0,c.O)())return[2];r=E.Z.getGuildIds();o=r.filter((function(t){return!e.synced.has(t)}));T.log("scheduling basic_channel optimstic writes (guilds: ".concat(o.length,")"));i=!0,a=!1,s=void 0;h.label=1;case 1:h.trys.push([1,7,8,9])
;l=o[Symbol.iterator]();h.label=2;case 2:if(i=(u=l.next()).done)return[3,6];d=u.value;return n!==_.Z.database()||t!==f.Z.lastTimeConnectedChanged()?[3,6]:[4,n.transaction((function(t){e.syncOne(d,t)}))];case 3:h.sent();return[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 4:h.sent();h.label=5;case 5:i=!0;return[3,2];case 6:return[3,9];case 7:p=h.sent();a=!0;s=p;return[3,9];case 8:try{i||null==l.return||l.return()}finally{if(a)throw s}return[7];case 9:return[2]}}))}))()};t.handleGuildCreate=function(e,t){this.handleOneGuildCreate(e.guild,t)};t.handleOneGuildCreate=function(e,t){null!=e.channelUpdates?this.onGuildUpdate(e.id,e.channelUpdates.writes,e.channelUpdates.deletes,t):this.onGuildSync(e.id,t)};t.handleGuildUpdate=function(e,t){this.unsync(e.guild.id,t)};t.handleGuildDelete=function(e,t){!0!==e.guild.unavailable&&this.delete(e.guild.id,t)};t.handleGuildRoleUpdate=function(e,t){var n,r=e.role,o=null===(n=E.Z.getGuild(e.guildId))||void 0===n?void 0:n.getRole(r.id)
;null!=o&&r.permissions===o.permissions||this.unsync(e.guildId,t)};t.handleGuildMemberUpdate=function(e,t){e.user.id===p.default.getId()&&this.unsync(e.guildId,t)};t.handleWriteCaches=function(e,t){this.sync(t)};t.handleReset=function(){this.synced=null};t.onGuildUpdate=function(e,t,n,r){(n.length>0||t.some((function(e){return C(h.Z.getBasicChannel(e.id),e)})))&&this.unsync(e,r)};t.onGuildSync=function(e,t){this.unsync(e,t)};t.delete=function(e,t){this.unsync(e,t);_.Z.basicChannelsTransaction(t).delete(e);_.Z.syncedBasicChannelsTransaction(t).delete(e)};t.unsync=function(e,t){var n;null===(n=this.synced)||void 0===n||n.delete(e);_.Z.basicChannelsTransaction(t).delete(e);_.Z.syncedBasicChannelsTransaction(t).put(e,!1);g.Z.invalidate(e)};t.sync=function(e){var t=performance.now(),n={written:0,skipped:0},r=!0,o=!1,i=void 0;try{for(var a,s=E.Z.getGuildIds()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.syncOne(l,e)?n.written++:n.skipped++}}catch(e){o=!0;i=e}finally{
try{r||null==s.return||s.return()}finally{if(o)throw i}}var c=performance.now()-t;T.log("".concat(n.written," basic_channel guilds submitted (took: ").concat(c,"ms, skipped: ").concat(n.skipped," guilds)"))};t.syncOne=function(e,t){var n,r;if(null==E.Z.getGuild(e)||(null===(n=this.synced)||void 0===n?void 0:n.has(e)))return!1;null===(r=this.synced)||void 0===r||r.add(e);_.Z.basicChannelsTransaction(t).put(e,function(e){var t=h.Z.getMutableGuildChannelsForGuild(e);return Object.values(t).map((function(e){return{id:e.id,type:e.type,guild_id:e.guild_id,parent_id:e.parent_id,basicPermissions:m.Z.asBasicFlag(y.Z.computePermissions(e))}}))}(e));_.Z.syncedBasicChannelsTransaction(t).put(e,!0);return!0};return e}();function C(e,t){return null==e||e.type!==t.type||e.parent_id!==t.parent_id||y.Z.computeBasicPermissions(e)!==y.Z.computeBasicPermissions(t)}const A=new N;var P=n(767954),R=n(520172);function j(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}
s.done?t(l):Promise.resolve(l).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,s,"next",e)}function s(e){j(i,r,o,a,s,"throw",e)}a(void 0)}))}}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},x=new u.Z("Guilds"),L=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.actions={BACKGROUND_SYNC:function(e,n){return t.handleBackgroundSync(e,n)},CLEAR_CACHES:function(e,n){return t.clear(n)},CLEAR_GUILD_CACHE:function(e,n){return t.clear(n)},CONNECTION_OPEN:function(e,n){return t.handleConnectionOpen(e,n)},GUILD_CREATE:function(e,n){return t.handleGuildCreate(e,n)},GUILD_DELETE:function(e,n){return t.handleGuildDelete(e,n)},GUILD_MEMBER_ADD:function(e,n){return t.handleGuildMemberAdd(e,n)},GUILD_ROLE_CREATE:function(e,n){return t.handleGuildRoleChange(e,n)},
GUILD_ROLE_DELETE:function(e,n){return t.handleGuildRoleDelete(e,n)},GUILD_ROLE_UPDATE:function(e,n){return t.handleGuildRoleChange(e,n)},GUILD_UPDATE:function(e,n){return t.handleGuildUpdate(e,n)}}}var t=e.prototype;t.getAsync=function(e){return M((function(){var t,n,r;return w(this,(function(o){switch(o.label){case 0:t=performance.now();return[4,_.Z.guilds(e).getMany()];case 1:n=o.sent();r=performance.now();x.log("loaded in ".concat(r-t,"ms (guilds: ").concat(n.length,")"));return[2,n]}}))}))()};t.getOneAsync=function(e,t){return M((function(){return w(this,(function(n){switch(n.label){case 0:return[4,_.Z.guilds(e).get(t)];case 1:return[2,n.sent()]}}))}))()};t.handleBackgroundSync=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=e.guilds[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if("unavailable"===s.data_mode)return;var l=E.Z.getGuild(s.id);null!=l&&this.put(P.sp(s,l),t)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}
;t.handleConnectionOpen=function(e,t){this.clear(t);var n=!0,r=!1,o=void 0;try{for(var i,a=e.guilds[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.putOne(s,t)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}};t.handleGuildCreate=function(e,t){this.putOne(e.guild,t)};t.handleGuildUpdate=function(e,t){var n=E.Z.getGuild(e.guild.id),r=P.di(e.guild,n);this.put(r,t)};t.handleGuildDelete=function(e,t){this.delete(e.guild.id,t)};t.handleGuildRoleChange=function(e,t){var n=R.CL(e.role),r=E.Z.getGuild(e.guildId);null!=r&&this.put(r.upsertRole(n),t)};t.handleGuildRoleDelete=function(e,t){var n=E.Z.getGuild(e.guildId);null!=n&&this.put(n.deleteRole(e.roleId),t)};t.handleGuildMemberAdd=function(e,t){if(null!=e.joinedAt&&e.user.id===p.default.getId()){var n=E.Z.getGuild(e.guildId);null!=n&&this.put(n.updateJoinedAt(e.joinedAt),t)}};t.handleReset=function(){};t.putOne=function(e,t){var n=E.Z.getGuild(e.id),r=P.wD(e,n);this.put(r,t)}
;t.put=function(e,t){_.Z.guildsTransaction(t).put(e)};t.delete=function(e,t){_.Z.guildsTransaction(t).delete(e)};t.clear=function(e){_.Z.guildsTransaction(e).delete()};return e}();const D=new L;var Z=n(936219),U=n(983622),G=n(205894),k=n(996246),B=n(146521),H=n(55609),V=n(717091),F=n(715107),Y=n(464187),z=n(473903),W=n(796909),K=n(130585),q=n(120415);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=n(426909),J=n(358041);var ee=n(2590);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ne(i,r,o,a,s,"next",e)}function s(e){ne(i,r,o,a,s,"throw",e)}a(void 0)}))}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ae(e){ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ae(e)}function se(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ie(e,t,n[t])}))}return e}function le(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ce(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e,t){
ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ue(e,t)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function he(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}var ye=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},me=new u.Z("CacheStore"),_e=!1,ge="stable-26",be=!1,ve="initializing",Oe=9e5,Ie=0,Se=!1,Te=!1,Ne=!1;function Ce(){me.log("Clearing cache store");Ie=Date.now();$.Z.clear();a.Z.remove(ee.FsG);a.Z.remove(ee.ihW);a.Z.remove(ee.O42);ve="no-cache"}function Ae(){(0,K.$8)()?be?me.log("Not writing cache because caches cleared"):Ne?Pe():me.log("Not writing cache because never connected"):me.log("Not writing cache because not authenticated")}function Pe(){me.log("Writing cache now");Ie=Date.now();var e,t=Re(),n={version:ge,channels:Re(),guilds:(e=E.Z.getGuild(Y.Z.getGuildId()),null!=e?[e]:[]),users:je(t),readStates:V.ZP.getAllReadStates(!1)};Se=!0;a.Z.set(ee.FsG,n);a.Z.remove(ee.O42);!function(){var e=Date.now().toString(),t={version:ge,nonce:e,saveableChannels:k.Z.toSnapshot()};me.log("Writing lazy cache (nonce: ".concat(e,")"));s.Z.dispatch({type:"WRITE_CACHES",nonce:e});a.Z.set(ee.ihW,t);$.Z.persist(e)}()}function Re(){
var e=h.Z.getChannel(F.Z.getChannelId());return null!=e?[e]:[]}function je(e){var t=new Set;e.forEach((function(e){e.isPrivate()&&e.recipients.forEach((function(e){var n=z.default.getUser(e);null!=n&&t.add(n)}))}));W.Z.getPrivateChannelIds().forEach((function(e){var n=h.Z.getChannel(e);(null==n?void 0:n.isPrivate())&&n.recipients.forEach((function(e){var n=z.default.getUser(e);null!=n&&t.add(n)}))}));var n=z.default.getCurrentUser();null!=n&&t.add(n);return Array.from(t)}function Me(e){if(null!=e.guilds){var t=!0,n=!1,r=void 0;try{for(var i,a=e.guilds[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value.roles;if(null!=s)for(var l in s){var c=s[l];c.permissions=o.Z.deserialize(c.permissions)}}}catch(e){n=!0;r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}null!=e.channels&&(0,J.ZP)(e.channels);null!=e.privateChannels&&(0,J.ZP)(e.privateChannels);null!=e.guildChannels&&(0,J._$)(e.guildChannels)}function we(e,t,n){return xe.apply(this,arguments)}function xe(){
return(xe=re((function(e,t,n){var r,o,i,a;return ye(this,(function(s){switch(s.label){case 0:r=performance.now();return null==e||null==n?[3,2]:[4,U.ZP.startupLoad(e,t,n,ee.AQB)];case 1:o=s.sent();me.log("loaded ".concat(o.messages.length," messages from kv_storage (guild: ").concat(t,", channel: ").concat(n,")."));i={guildId:t,channelId:n,users:o.users,members:o.members,messages:o.messages};return[2,[performance.now()-r,i]];case 2:a={guildId:null,channelId:null,users:[],members:[],messages:[]};me.log("skipped loaded messages from kv_storage (database: ".concat(null!=e,", channel: ").concat(n,")."));return[2,[performance.now()-r,a]];case 3:return[2]}}))}))).apply(this,arguments)}function Le(){return De.apply(this,arguments)}function De(){return(De=re((function(){var e,t;return ye(this,(function(n){switch(n.label){case 0:e=performance.now();return[4,new Promise((function(e){return a.Z.asyncGet(ee.FsG,e)}))];case 1:if((null==(t=n.sent())?void 0:t.version)===ge){Me(t)
;return[2,[performance.now()-e,t]]}me.log("cache either did not exist, or contains an incompatible version (required: ".concat(ge,", loaded: ").concat(null==t?void 0:t.version,")."));return[2,[performance.now()-e,null]]}}))}))).apply(this,arguments)}function Ze(e,t,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=re((function(e,t,n){var o,a,l,c,u,d,p,h,E,y,m,_,g,b,v,O,I,S,T,N,C,A,P,R,j,M;return ye(this,(function(w){switch(w.label){case 0:me.log("loading early cache");(o=f.Z.getSocket()).connect();l=null!==(a=Y.Z.getGuildId())&&void 0!==a?a:null;u=null!==(c=F.Z.getChannelId())&&void 0!==c?c:null;d=performance.now();p=H.Z.loadCachedMessages.measureAsyncWithoutNesting((function(){return we(e,l,u)}));h=H.Z.loadMiniCache.measureAsyncWithoutNesting(Le);E=H.Z.fetchInitialGuildCache.measureAsync((function(){return ke(e,o,n)}));y=null!=e&&"private-channels"===n.page?r.Z.timeAsync("","kv: private_channels",(function(){return G.Z.getAsync(e,null)})):Promise.resolve([]);0
;return[4,Promise.all([h,p,E,y])];case 1:m=fe.apply(void 0,[w.sent(),4]),_=fe(m[0],2),g=_[0],b=_[1],v=fe(m[1],2),O=v[0],I=v[1],S=m[2],T=m[3];N=performance.now()-d;me.log("cache loaded in ".concat(N,"ms (legacy ").concat(g,"ms, channel_history ").concat(O,"ms)"));if(null!=b&&null!=I){A=Object.fromEntries(I.members.map((function(e){return[e.userId,e]})));P=null!=S.guild&&null!=S.channels;j=null!==(R=S.guild)&&void 0!==R?R:null;i.ZP.Emitter.batched((function(){var e;r.Z.time("","Dispatch Mini Cache",(function(){return s.Z.dispatch(le(se({},b),{type:"CACHE_LOADED",guilds:null!=j?de(b.guilds).concat([j]):b.guilds,channels:de(b.channels).concat(de(T),de(null!==(e=S.channels)&&void 0!==e?e:[])),users:de(b.users).concat(de(I.users)),messages:null==I.channelId?{}:ie({},I.channelId,I.messages),guildMembers:null==I.guildId?{}:ie({},I.guildId,A)}))}));r.Z.time("","socket.processFirstQueuedDispatch()",(function(){return o.processFirstQueuedDispatch(new Set(["INITIAL_GUILD"]))}))}))
;me.log("early_cache_summary: (\n        ok: true\n        meta:\n          auth_user_id: ".concat(t,"\n          selected_guild: ").concat(l,"\n          selected_channel: ").concat(u,"\n          navigation_state: ").concat(JSON.stringify(n),"\n          database: ").concat(null!=e,"\n            name: ").concat(null==e?void 0:e.name,"\n        data:\n          database:\n            private_channels: ").concat("private-channels"===n.page?T.length:"skipped","\n            channel_history:\n              guild: ").concat(I.guildId,"\n              channel: ").concat(I.channelId,"\n              messages: ").concat(I.messages.length,"\n                members: ").concat(I.members.length,"\n                users: ").concat(I.users.length,"\n            initial_guild:\n              id: ").concat(null==j?void 0:j.id,"\n              channels: ").concat(null===(C=S.channels)||void 0===C?void 0:C.length,"\n          legacy:\n            guilds: ").concat(b.guilds.length," (").concat(b.guilds.map((function(e){
return e.id})).join(", "),")\n            channels: ").concat(b.channels.length," (").concat(b.channels.map((function(e){return e.id})).join(", "),")\n            users: ").concat(b.users.length,"\n            read_states: ").concat(b.readStates.length,"\n      )"));me.log("finished dispatching CACHE_LOADED");return[2,[!0,P&&null!==(M=null==j?void 0:j.id)&&void 0!==M?M:null,T.length]]}me.log("finished without dispatching CACHE_LOADED");return[2,[!1,null,0]]}}))}))).apply(this,arguments)}function Ge(){Ye((function(){return s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}));return Promise.resolve()}function ke(e,t,n){return Be.apply(this,arguments)}function Be(){return(Be=re((function(e,t,n){var r,o,i,a,s;return ye(this,(function(c){switch(c.label){case 0:null==(r=t.getIdentifyInitialGuildId())&&"guild-channels"===n.page&&(r=n.guildId);if(null==e||null==r){me.log("skipped loading initial guild (guild: ".concat(r,", database: ").concat(e,")"));return[2,Promise.resolve({guild:null,
channels:null})]}o=r;return[4,Promise.all([(0,l.dI)((function(){return D.getOneAsync(e,o)})),(0,l.dI)((function(){return G.Z.getAsync(e,o)}))])];case 1:i=fe.apply(void 0,[c.sent(),2]),a=i[0],s=i[1];return[2,{guild:a,channels:s}]}}))}))).apply(this,arguments)}function He(e,t){me.log("loading stale guild channels (count: ".concat(t.length,", ids: ").concat(t.join(", "),")"));return Promise.all(t.map((function(t){return G.Z.getAsync(e,t).then((function(e){return[t,e]}))})))}function Ve(e,t,n,r,o){return Fe.apply(this,arguments)}function Fe(){return(Fe=re((function(e,t,n,o,i){var c,u,d,p,h,E,y,m;return ye(this,(function(_){switch(_.label){case 0:me.log("loading late lazy cache");return[4,H.Z.fetchLazyCache.measureAsync((function(){return Promise.all([r.Z.timeAsync("","storage: ".concat(ee.ihW),(function(){return a.Z.asyncGetRaw(ee.ihW)})),(0,l.dI)((function(){return null!=e?r.Z.timeAsync("","kv: cache_version",(function(){return Z.Z.okAsync(e)})):Promise.resolve(!0)})),(0,
l.dI)((function(){return null!=e?r.Z.timeAsync("","kv: guilds",(function(){return D.getAsync(e)})):Promise.resolve([])})),(0,l.dI)((function(){return null!=e?r.Z.timeAsync("","kv: basic_channels",(function(){return A.getAsync(e)})):Promise.resolve({all:[],stale:[],channels:[]})})),(0,l.dI)((function(){return null!=e?r.Z.timeAsync("","kv: private_channels",(function(){return G.Z.getAsync(e,null)})):Promise.resolve([])}))])}))];case 1:c=fe.apply(void 0,[_.sent(),5]),u=c[0],d=c[1],p=c[2],h=c[3],E=c[4];return[4,H.Z.fetchStaleChannels.measureAsync((function(){return null!=e&&null!=h&&h.stale.length>0?(0,l.dI)((function(){return He(e,h.stale)})):Promise.resolve([])}))];case 2:y=_.sent();return[4,new Promise((function(e){return setTimeout(e,0)}))];case 3:_.sent();H.Z.loadLazyCache.recordStart();m=f.Z.getSocket();Ye((function(){var r,a,l,c=performance.now(),f=function(){Ce();Z.Z.clearSync()}
;if(!1!==d)if(null!=p&&null!=h&&null!=y&&null!=E)if(null==d&&(p.length>0||E.length>0||h.all.length>0)){f();me.log("kv_cache was not ok (null version with values)");s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else if(Te){me.log("Skipping lazy cache; already connected.");s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else if(null!=u){m.addAnalytics({hadCacheAtStartup:!0});var _=H.Z.parseLazyCache.measure((function(){return JSON.parse(u)}));if(_.version===ge){var g=_.nonce,b=$.Z.getSavedNonce();if(""===b||g===b){var v=le(se({},_),{guilds:p,privateChannels:E,guildChannels:y,basicGuildChannels:h.channels,initialGuildId:n});H.Z.deserializeCache.measure((function(){return Me(v)}));H.Z.dispatchLazyCache.measure((function(){return s.Z.dispatch(se({type:"CACHE_LOADED_LAZY"},v))}));me.log("late lazy cache loaded (ok: true, took: ".concat(performance.now()-c,"ms)"));m.addAnalytics({usedCacheAtStartup:!0});var O=y.reduce((function(e,t){var n=fe(t,2);n[0];return e+n[1].length
}),0),I=y.length,S=h.all.reduce((function(e,t){var n=fe(t,2);n[0];return e+n[1].length}),0),T=h.channels.reduce((function(e,t){var n=fe(t,2);n[0];return e+n[1].length}),0),N=S-T,C=0===h.stale.length?"":"  ".concat(h.stale.join(", "))
;me.log("lazy_cache_summary: (\n        ok: true\n        meta:\n          auth_user_id: ".concat(t,"\n          nonce: ").concat(g,"\n          initial_guild: ").concat(n,"\n          database: ").concat(null!=e,"\n            ok: ").concat(d,"\n            name: ").concat(null==e?void 0:e.name,"\n        data:\n          database:\n            guilds: ").concat(p.length,"\n            private_channels: ").concat("private-channels"===o.page?"skipped":E.length,"\n            basic_channels:\n              total: ").concat(S," (").concat(h.channels.length," guilds)\n              stale: ").concat(N," (").concat(h.stale.length," guilds").concat(C,")\n              unstale: ").concat(T,"\n            full_channels (guilds_with_stale_basic_channels):\n              total: ").concat(O," (").concat(y.length," guilds)\n          legacy:\n              saveable_channels: ").concat(null===(r=v.saveableChannels)||void 0===r||null===(a=r.channels)||void 0===a?void 0:a.length,"\n              users: ").concat(null===(l=v.users)||void 0===l?void 0:l.length,"\n      )"))
;H.Z.setCacheInfo({guilds:p.length,privateChannels:i+E.length,basicChannels:S,basicChannelsStale:N,fullChannels:O,fullChannelGuilds:I})}else{me.log("ClientStateStore has mismatched nonces with cache.");s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{me.log("Saved cached has mismatched version. Expected ".concat(ge,", got ").concat(_.version));s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}else{me.log("Lazy cache was missing");s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else{me.log("couldn't load database item (\n          database: ".concat(null!=e,"\n          basic_channels: ").concat(null!=h,"\n          guild_channels: ").concat(null!=y,"\n          private_channels: ").concat(null!=E,"\n          guilds: ").concat(null!=p,"\n        )"));f();s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}else{f();me.log("kv_cache was not ok (unsupported version)");s.Z.dispatch({type:"CACHE_LOADED_LAZY_NO_CACHE"})}}));return[2]}}))}))).apply(this,arguments)}function Ye(e){
var t=f.Z.getSocket(),n=!1;i.ZP.Emitter.batched((function(){try{e();if(!t.hasQueuedDispatches()){me.log("Processing Dispatch Queue");t.processDispatchQueue();return}n=!0;H.Z.loadLazyCache.recordEnd();me.log("Processing First Queued Dispatch");t.processFirstQueuedDispatch(new Set(["READY","INITIAL_GUILD"]));setTimeout((function(){me.log("Processing Dispatch Queue");t.processDispatchQueue()}),100)}catch(e){var r;me.warn("Lazy cache has encountered error",e);Ce();null===(r=f.Z.getSocket())||void 0===r||r.resetSocketOnError(e,{sentry:!0,immediate:!0})}}));n||H.Z.loadLazyCache.recordEnd()}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ue(e,t)}(n,e);var t=Ee(n);function n(){oe(this,n);var e;(e=t.apply(this,arguments)).persist=Pe;return e}var r=n.prototype;r.initialize=function(){if(!_e){
f.Z.getSocket().processDispatchQueue()}};r.hasCache=function(){return!_e||Se};r.getLazyCacheStatus=function(){return _e?ve:"no-cache"};r.loadCacheAsync=function(e,t){return re((function(){var n,r,o,i,a,s,l,c,u;return ye(this,(function(d){switch(d.label){case 0:n=function(e){var t=void 0,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(!n){n=!0;t=e.apply(void 0,Q(o))}return t}}(t);if("initializing"!==ve){n();setTimeout((function(){var e;return null===(e=f.Z.getSocket())||void 0===e?void 0:e.processDispatchQueue()}),0);return[2]}d.label=1;case 1:d.trys.push([1,7,,8]);r=p.default.getId();return[4,Ze(o=B.Z.carefullyOpenDatabase(r),r,e)];case 2:i=fe.apply(void 0,[d.sent(),3]),a=i[0],s=i[1],l=i[2];if(!a)return[3,4];n();return[4,Ve(o,r,s,e,l)];case 3:d.sent();return[3,6];case 4:n();return[4,Ge()];case 5:d.sent();d.label=6;case 6:return[3,8];case 7:c=d.sent();me.error("clearing cache. exception encountered while loading cache.",c,c.stack);Ce()
;n();null===(u=f.Z.getSocket())||void 0===u||u.resetSocketOnError(c,{sentry:!0,immediate:!0});return[3,8];case 8:return[2]}}))}))()};r.__getLocalVars=function(){return{logger:me,CACHE_VERSION:ge,cacheCleared:be,lazyCacheStatus:ve,MIN_CACHE_WRITE_DELAY:Oe,lastWriteTime:Ie,hasCache:Se,connected:Te,hasEverConnected:Ne,instance:We}};return n}(i.ZP.Store);ze.displayName="CacheStore";var We=new ze(s.Z,_e?{CONNECTION_OPEN:function(){Te=!0;Ne=!0;0;return!1},LOGOUT:function(){Ce()},CONNECTION_CLOSED:function(){Te=!1;Ne=!0;me.log("Writing cache on connection closed");Ae();return!1},APP_STATE_UPDATE:function(e){var t=e.state;((0,q.Dt)()?ee.$7l.BACKGROUND:ee.$7l.INACTIVE)===t&&Te&&Ae();return!1},CACHE_LOADED:function(){Se=!0},CACHE_LOADED_LAZY:function(){Se=!0;ve="cache-loaded"},CACHE_LOADED_LAZY_NO_CACHE:function(){ve="no-cache"},CLEAR_CACHES:function(){Ce();be=!0},WINDOW_FOCUS:function(e){if(!e.focused)if(Date.now()-Ie>Oe){me.log("Writing cache from window unfocus");Ae()
}else me.log("Not writing cache from window unfocus");return!1}}:{})},710965:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(667294),o=n(402391);function i(e){r.useEffect((function(){if(null!=e){o.Z.lockChangeLog(e);return function(){o.Z.unlockChangeLog(e)}}}),[e])}},449518:(e,t,n)=>{"use strict";n.d(t,{kf:()=>b,m$:()=>p,EQ:()=>g,aC:()=>d,IG:()=>v});var r=n(734691),o=n(785893),i=(n(667294),n(945460)),a=n(265367),s=n(473708),l=function(e,t){return(0,o.jsxs)(i.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal",children:[(0,o.jsx)(a.Z,{width:14,height:14}),e]},t)};const c={getForumChannelPermissionText:function(){return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT_DISABLED.format({warningHook:l})}};var u=function(e,t){return(0,o.jsxs)(i.Text,{color:"text-danger",style:{display:"flex",gap:"4px",margin:"8px 0 4px 0",alignItems:"center"},variant:"text-sm/normal",children:[(0,o.jsx)(a.Z,{
width:14,height:14}),e]},t)};const f={getTextInVoiceSendMessageChannelPermissionText:function(e){return e?s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:u}):s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT},getTextInVoiceReadMessageHistoryChannelPermissionText:function(e){return e?s.Z.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_WITH_TIV_DESCRIPTION_TEXT_DISABLED.format({warningHook:u}):s.Z.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}};var d,p,h=n(348592),E=n(2590);function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.EMPTY_STATE=0]="EMPTY_STATE";e[e.ADMINISTRATOR=1]="ADMINISTRATOR";e[e.ROLE=2]="ROLE";e[e.OWNER=3]="OWNER";e[e.MEMBER=4]="MEMBER";e[e.USER=5]="USER";e[e.GUILD=6]="GUILD"}(d||(d={}));!function(e){e[e.ROLES=0]="ROLES";e[e.MEMBERS=1]="MEMBERS";e[e.USERS=2]="USERS";e[e.GUILDS=3]="GUILDS"}(p||(p={}))
;var m,_,g=20,b="channelPermissionSettingsAdvancedModeOn";!function(e){e.SETTINGS_PAGE="settings-page";e.MEMBERS_LIST="members-list";e.EMPTY_STATE="empty-state";e.CREATE_CHANNEL="create-channel"}(m||(m={}));!function(e){e.BASIC="basic";e.ADVANCED="advanced"}(_||(_={}));function v(e,t,n,o){var i,a=e.type;return y(i={},E.Plq.VIEW_CHANNEL.toString(),{title:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL:s.Z.Messages.VIEW_CHANNEL,description:function(){if(t)switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY_EVERYONE;case E.d4z.GUILD_VOICE:case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_VOICE_EVERYONE;default:return s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_TEXT_EVERYONE}return a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_VIEW_CHANNEL_DESCRIPTION_CHANNEL}(),flag:E.Plq.VIEW_CHANNEL}),
y(i,E.Plq.MANAGE_CHANNELS.toString(),{title:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.MANAGE_CHANNELS:s.Z.Messages.MANAGE_CHANNEL,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_CATEGORY;case E.d4z.GUILD_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_VOICE;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_STAGE;default:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_CHANNEL_DESCRIPTION_TEXT}}(),flag:E.Plq.MANAGE_CHANNELS}),y(i,E.Plq.MANAGE_ROLES.toString(),{title:s.Z.Messages.MANAGE_PERMISSIONS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_STAGE;default:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_ROLES_DESCRIPTION_CHANNEL}}(),flag:E.Plq.MANAGE_ROLES}),
y(i,E.Plq.MANAGE_WEBHOOKS.toString(),{title:s.Z.Messages.MANAGE_WEBHOOKS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_MANAGE_WEBHOOKS_DESCRIPTION_CHANNEL,flag:E.Plq.MANAGE_WEBHOOKS}),y(i,E.Plq.CREATE_INSTANT_INVITE.toString(),{title:s.Z.Messages.CREATE_INSTANT_INVITE,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_CATEGORY;case E.d4z.GUILD_VOICE:case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_VOICE;default:return s.Z.Messages.ROLE_PERMISSIONS_CREATE_INSTANT_INVITE_DESCRIPTION_TEXT}}(),flag:E.Plq.CREATE_INSTANT_INVITE}),y(i,E.Plq.SEND_MESSAGES.toString(),{title:E.TPd.GUILD_THREADS_ONLY.has(a)?s.Z.Messages.CREATE_FORUM_POSTS:n&&a===E.d4z.GUILD_CATEGORY?s.Z.Messages.SEND_MESSAGES_AND_CREATE_FORUM_POSTS:s.Z.Messages.SEND_MESSAGES,description:function(){switch(a){
case E.d4z.GUILD_CATEGORY:return n?s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_CATEGORY;case E.d4z.GUILD_FORUM:return(null==o?void 0:o.createPostsDisabled)&&!e.isMediaChannel()?c.getForumChannelPermissionText():s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_WITH_FORUMS_DESCRIPTION_TEXT;case E.d4z.GUILD_ANNOUNCEMENT:return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:h.Z.getArticleURL(E.BhN.ANNOUNCEMENT_CHANNELS)});case E.d4z.GUILD_VOICE:return f.getTextInVoiceSendMessageChannelPermissionText(null==o?void 0:o.sendMessagesDisabled);default:return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_DESCRIPTION_TEXT}}(),flag:E.Plq.SEND_MESSAGES}),y(i,E.Plq.EMBED_LINKS.toString(),{title:s.Z.Messages.EMBED_LINKS,
description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_EMBED_LINKS_DESCRIPTION_TEXT,flag:E.Plq.EMBED_LINKS}),y(i,E.Plq.ATTACH_FILES.toString(),{title:s.Z.Messages.ATTACH_FILES,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_ATTACH_FILES_DESCRIPTION_TEXT,flag:E.Plq.ATTACH_FILES}),y(i,E.Plq.ADD_REACTIONS.toString(),{title:s.Z.Messages.ADD_REACTIONS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT_WITH_VOICE_CHANNEL_EFFECTS;default:return s.Z.Messages.ROLE_PERMISSIONS_ADD_REACTIONS_DESCRIPTION_TEXT}}(),flag:E.Plq.ADD_REACTIONS}),y(i,E.Plq.USE_EXTERNAL_EMOJIS.toString(),{title:s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS,
description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_EMOJIS_DESCRIPTION_TEXT,flag:E.Plq.USE_EXTERNAL_EMOJIS}),y(i,E.Plq.USE_EXTERNAL_STICKERS.toString(),{title:s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_STICKERS_DESCRIPTION_TEXT,flag:E.Plq.USE_EXTERNAL_STICKERS}),y(i,E.Plq.MENTION_EVERYONE.toString(),{title:a===E.d4z.GUILD_STAGE_VOICE?s.Z.Messages.MENTION_EVERYONE_STAGE:s.Z.Messages.MENTION_EVERYONE,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_CATEGORY:a===E.d4z.GUILD_STAGE_VOICE?s.Z.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_STAGE:s.Z.Messages.ROLE_PERMISSIONS_MENTION_EVERYONE_DESCRIPTION_TEXT,flag:E.Plq.MENTION_EVERYONE}),y(i,E.Plq.MANAGE_MESSAGES.toString(),{
title:s.Z.Messages.MANAGE_MESSAGES,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_CATEGORY;case E.d4z.GUILD_ANNOUNCEMENT:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_ANNOUNCEMENT.format({articleURL:h.Z.getArticleURL(E.BhN.ANNOUNCEMENT_CHANNELS)});default:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_MESSAGES_DESCRIPTION_TEXT}}(),flag:E.Plq.MANAGE_MESSAGES}),y(i,E.Plq.READ_MESSAGE_HISTORY.toString(),{title:E.TPd.GUILD_THREADS_ONLY.has(a)?s.Z.Messages.READ_POST_HISTORY:s.Z.Messages.READ_MESSAGE_HISTORY,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_CATEGORY;case E.d4z.GUILD_VOICE:return f.getTextInVoiceReadMessageHistoryChannelPermissionText(null==o?void 0:o.readMessageHistoryDisabled);case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_FORUM_CHANNEL
;default:return s.Z.Messages.ROLE_PERMISSIONS_READ_MESSAGE_HISTORY_DESCRIPTION_TEXT}}(),flag:E.Plq.READ_MESSAGE_HISTORY}),y(i,E.Plq.SEND_TTS_MESSAGES.toString(),{title:s.Z.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_SEND_TTS_MESSAGES_DESCRIPTION_TEXT,flag:E.Plq.SEND_TTS_MESSAGES}),y(i,E.Plq.USE_APPLICATION_COMMANDS.toString(),{title:s.Z.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_USE_APPLICATION_COMMANDS_DESCRIPTION_TEXT,flag:E.Plq.USE_APPLICATION_COMMANDS}),y(i,E.Plq.SEND_VOICE_MESSAGES.toString(),{title:s.Z.Messages.ROLE_PERMISSIONS_SEND_VOICE_MESSAGE,
description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_SEND_VOICE_MESSAGES_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_SEND_VOICE_MESSAGES_DESCRIPTION_TEXT,flag:E.Plq.SEND_VOICE_MESSAGES}),y(i,E.Plq.CONNECT.toString(),{title:s.Z.Messages.CONNECT,description:function(){if(t)switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY_EVERYONE;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE_EVERYONE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_THREADS_EVERYONE;default:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE_EVERYONE}switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_STAGE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:
return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_CONNECT_DESCRIPTION_VOICE}}(),flag:E.Plq.CONNECT}),y(i,E.Plq.SPEAK.toString(),{title:s.Z.Messages.SPEAK,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_STAGE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_SPEAK_DESCRIPTION_VOICE}}(),flag:E.Plq.SPEAK}),y(i,E.Plq.STREAM.toString(),{title:s.Z.Messages.VIDEO,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_CATEGORY;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_THREADS;case E.d4z.GUILD_STAGE_VOICE:
return s.Z.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_STAGE;default:return s.Z.Messages.ROLE_PERMISSIONS_STREAM_DESCRIPTION_VOICE}}(),flag:E.Plq.STREAM}),y(i,E.Plq.USE_EMBEDDED_ACTIVITIES.toString(),{title:s.Z.Messages.USE_EMBEDDED_ACTIVITIES,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_CATEGORY;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_USE_EMBEDDED_ACTIVITIES_DESCRIPTION_VOICE}}(),flag:E.Plq.USE_EMBEDDED_ACTIVITIES}),y(i,E.Plq.USE_SOUNDBOARD.toString(),{title:s.Z.Messages.USE_SOUNDBOARD,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_USE_SOUNDBOARD_DESCRIPTION_CATEGORY.format({helpCenterArticle:h.Z.getArticleURL(E.BhN.SOUNDBOARD)});case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:
return s.Z.Messages.ROLE_PERMISSIONS_USE_SOUNDBOARD_DESCRIPTION_THREADS.format({helpCenterArticle:h.Z.getArticleURL(E.BhN.SOUNDBOARD)});default:return s.Z.Messages.ROLE_PERMISSIONS_USE_SOUNDBOARD_DESCRIPTION_VOICE.format({helpCenterArticle:h.Z.getArticleURL(E.BhN.SOUNDBOARD)})}}(),flag:E.Plq.USE_SOUNDBOARD}),y(i,E.Plq.USE_EXTERNAL_SOUNDS.toString(),{title:s.Z.Messages.USE_EXTERNAL_SOUNDS,description:s.Z.Messages.ROLE_PERMISSIONS_USE_EXTERNAL_SOUNDS_DESCRIPTION,flag:E.Plq.USE_EXTERNAL_SOUNDS}),y(i,E.Plq.USE_VAD.toString(),{title:s.Z.Messages.USE_VAD,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_STAGE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_USE_VAD_DESCRIPTION_VOICE}}(),flag:E.Plq.USE_VAD
}),y(i,E.Plq.PRIORITY_SPEAKER.toString(),{title:s.Z.Messages.PRIORITY_SPEAKER,description:function(){0;var e={keybind:s.Z.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY,onClick:function(){r.Z.open(E.oAB.KEYBINDS)}};switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_CATEGORY.format(e);case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_THREADS.format(e);default:return s.Z.Messages.ROLE_PERMISSIONS_PRIORITY_SPEAKER_DESCRIPTION_VOICE.format(e)}}(),flag:E.Plq.PRIORITY_SPEAKER}),y(i,E.Plq.MUTE_MEMBERS.toString(),{title:s.Z.Messages.MUTE_MEMBERS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_STAGE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:
return s.Z.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_MUTE_MEMBERS_DESCRIPTION_VOICE}}(),flag:E.Plq.MUTE_MEMBERS}),y(i,E.Plq.DEAFEN_MEMBERS.toString(),{title:s.Z.Messages.DEAFEN_MEMBERS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_DEAFEN_MEMBERS_DESCRIPTION_VOICE}}(),flag:E.Plq.DEAFEN_MEMBERS}),y(i,E.Plq.MOVE_MEMBERS.toString(),{title:s.Z.Messages.MOVE_MEMBERS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return s.Z.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_STAGE_VOICE:return s.Z.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_STAGE;case E.d4z.GUILD_TEXT:case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:
return s.Z.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_THREADS;default:return s.Z.Messages.ROLE_PERMISSIONS_MOVE_MEMBERS_DESCRIPTION_VOICE}}(),flag:E.Plq.MOVE_MEMBERS}),y(i,E.Plq.REQUEST_TO_SPEAK.toString(),{title:s.Z.Messages.REQUEST_TO_SPEAK,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_REQUEST_TO_SPEAK_DESCRIPTION_STAGE,flag:E.Plq.REQUEST_TO_SPEAK}),y(i,E.Plq.MANAGE_THREADS.toString(),{title:E.TPd.GUILD_THREADS_ONLY.has(a)?s.Z.Messages.MANAGE_FORUM_POSTS:n&&a===E.d4z.GUILD_CATEGORY?s.Z.Messages.MANAGE_THREADS_AND_FORUM_POSTS:s.Z.Messages.MANAGE_THREADS,description:function(){switch(a){case E.d4z.GUILD_CATEGORY:return n?s.Z.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_AND_FORUMS_DESCRIPTION_TEXT
;default:return s.Z.Messages.ROLE_PERMISSIONS_MANAGE_THREADS_DESCRIPTION_TEXT}}(),flag:E.Plq.MANAGE_THREADS}),y(i,E.Plq.CREATE_PUBLIC_THREADS.toString(),{title:s.Z.Messages.CREATE_PUBLIC_THREADS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_CREATE_PUBLIC_THREADS_DESCRIPTION_TEXT,flag:E.Plq.CREATE_PUBLIC_THREADS}),y(i,E.Plq.CREATE_PRIVATE_THREADS.toString(),{title:s.Z.Messages.CREATE_PRIVATE_THREADS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_CREATE_PRIVATE_THREADS_DESCRIPTION_TEXT,flag:E.Plq.CREATE_PRIVATE_THREADS}),y(i,E.Plq.SEND_MESSAGES_IN_THREADS.toString(),{title:E.TPd.GUILD_THREADS_ONLY.has(a)?s.Z.Messages.SEND_MESSAGES_IN_FORUM_POSTS:n&&a===E.d4z.GUILD_CATEGORY?s.Z.Messages.SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS:s.Z.Messages.SEND_MESSAGES_IN_THREADS,description:function(){switch(a){
case E.d4z.GUILD_CATEGORY:return n?s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_CATEGORY;case E.d4z.GUILD_FORUM:case E.d4z.GUILD_MEDIA:return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_AND_FORUM_POSTS_DESCRIPTION_TEXT;default:return s.Z.Messages.ROLE_PERMISSIONS_SEND_MESSAGES_IN_THREADS_DESCRIPTION_TEXT}}(),flag:E.Plq.SEND_MESSAGES_IN_THREADS}),y(i,E.Plq.MANAGE_EVENTS.toString(),{title:s.Z.Messages.MANAGE_EVENTS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_MANAGE_EVENTS_DESCRIPTION_CHANNEL,flag:E.Plq.MANAGE_EVENTS}),y(i,E.Plq.CREATE_EVENTS.toString(),{title:s.Z.Messages.CREATE_EVENTS,description:a===E.d4z.GUILD_CATEGORY?s.Z.Messages.ROLE_PERMISSIONS_CREATE_EVENTS_DESCRIPTION_CATEGORY:s.Z.Messages.ROLE_PERMISSIONS_CREATE_EVENTS_DESCRIPTION_CHANNEL,flag:E.Plq.CREATE_EVENTS}),i}
},584656:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,I:()=>s});var r=n(667294),o=n(260561),i=n(968449),a=(0,o.B)({kind:"user",id:"2022-01_discovery_iar",label:"Ability to report servers in Server Discovery",defaultConfig:{canSeeInAppReportingButtons:!1},treatments:[{id:1,label:"Show IAR buttons in Server Discovery",config:{canSeeInAppReportingButtons:!0}}]});function s(){var e=a.useExperiment({},{autoTrackExposure:!1}).canSeeInAppReportingButtons,t=i.Sb.useSetting(),n=e||t;r.useEffect((function(){a.trackExposure({})}),[]);return n}},473444:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>E,GuildDiscoveryMenuPopout:()=>y});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(971402),s=n(112897),l=n(424871),c=n(567403),u=n(682776),f=n(528334),d=n(584656),p=n(2590),h=n(473708);function E(e){var t=e.guild,n=e.shiftId,E=e.onSelect,y=e.closePopout,m=e["aria-label"],_=(0,s.Z)({id:t.id,label:h.Z.Messages.COPY_ID_GUILD,shiftId:n,onSuccess:y}),g=(0,o.e7)([c.Z],(function(){return c.Z.getGuild(t.id)
}),[t.id]),b=(0,o.e7)([u.Z],(function(){return u.Z.can(p.Plq.ADMINISTRATOR,g)})),v=d.N.useExperiment({},{autoTrackExposure:!1}).canSeeInAppReportingButtons;return(0,r.jsxs)(i.Menu,{onSelect:E,navId:"guild-discovery-context-menu","aria-label":null!=m?m:h.Z.Messages.GENERIC_ACTIONS_MENU_LABEL,onClose:a.Zy,children:[(0,r.jsx)(i.MenuGroup,{children:!b&&v?(0,r.jsx)(i.MenuItem,{id:"report-guild-discovery-listing",label:h.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){(0,l.lt)(t);!function(){(0,a.Zy)();null==y||y()}()},icon:f.Z,color:"danger"}):null}),(0,r.jsx)(i.MenuGroup,{children:_})]})}var y=function(e){var t=e.guild,n=e.children,o=e.onRequestOpen,a=e.onRequestClose;return(0,r.jsx)(i.Popout,{onRequestOpen:o,onRequestClose:a,animation:i.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(E,{guild:t,closePopout:n})},children:n})}},647428:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v})
;var r=n(202351),o=n(744564),i=n(120415),a=n(310126),s=new Set(["nvidia"]);var l=n(236625),c=n.n(l);var u=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},i.AB.WINDOWS,{nvidia:">=397.93.0"});function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var _=!1,g=!0;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=this;i.FB&&!__OVERLAY__&&a.default.getGPUDriverVersions().then((function(t){_=function(e){var t=u[(0,i.Xf)()]
;if(null==t)return!1;var n,r,o,a=!0,s=!1,l=void 0;try{for(var f,d=Object.keys(e)[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var p=f.value,h=e[p],E=t[p];if(null!=h&&null!=E&&null==h.error){var y=(r=void 0,o=void 0,"".concat(null!==(r=(n=h).major)&&void 0!==r?r:0,".").concat(null!==(o=n.minor)&&void 0!==o?o:0,".0"));if(!c().satisfies(y,E))return!0}}}catch(e){s=!0;l=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw l}}return!1}(t);g=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,l=e[a];if(null!=l&&null==l.error&&s.has(a))return!0}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}(t);e.emitChange()}))};r.getState=function(){return{GPUDriversOutdated:_,canUseHardwareAcceleration:g}};r.__getLocalVars=function(){return{GPUDriversOutdated:_,canUseHardwareAcceleration:g}};!function(e,t,n){t&&d(e.prototype,t);n&&d(e,n)}(n,[{key:"GPUDriversOutdated",
get:function(){return _}},{key:"canUseHardwareAcceleration",get:function(){return g}}]);return n}(r.ZP.Store);b.displayName="StreamingCapabilitiesStore";const v=new b(o.Z,{OVERLAY_INITIALIZE:function(e){var t=e.streamingCapabilitiesStoreState;_=t.GPUDriversOutdated;g=t.canUseHardwareAcceleration}})},213013:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,y:()=>s});var r=n(38736),o=Object.freeze({isPopoutOpen:!1}),i=(0,r.Z)((function(e){return o})),a=function(e){i.setState((function(){return{isPopoutOpen:e}}))},s=i},955514:(e,t,n)=>{"use strict";n.d(t,{OY:()=>d,FT:()=>p,Qd:()=>h});var r=n(202351),o=n(418705),i=n(917019),a=n(473419),s=n(652591),l=n(256764),c=n(2590),u=n(458947),f=n(131559);function d(e,t){var n=a.Z.getDismissedGuildContent(t);return null!=n&&(0,l.jl)(n,e)}function p(e,t){return(0,r.e7)([a.Z],(function(){return d(e,t)}))}function h(e,t,n,r){(0,i.PS)(t,(function(n){if(d(e,t))return!1;n.dismissedGuildContent=(0,l.GV)(n.dismissedGuildContent,e)}),f.fy.INFREQUENT_USER_ACTION)
;n&&s.default.track(c.rMx.DISMISSIBLE_CONTENT_DISMISSED,{type:o.CW[e],guild_id:t,action:null!=r?r:u.L.AUTO})}},989280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(945460)),i=n(124251),a=n(473708),s=n(571094),l=n.n(s),c=n(946137),u=n.n(c);const f=function(e){var t=e.headerId,n=e.reapplyText,s=e.onReapply,c=e.confirmText,f=e.onConfirm,d=e.rejectionReason,p=void 0===d?null:d,h=e.guild,E=void 0===h?null:h;return(0,r.jsxs)("div",{className:l().confirmation,children:[(0,r.jsxs)("div",{className:l().confirmationContent,children:[null!==E?(0,r.jsx)(i.Z,{size:i.Z.Sizes.LARGER,guild:E,className:l().guildIcon}):(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_ICON,src:u(),className:l().verificationStateIcon}),(0,r.jsx)(o.Heading,{id:t,variant:"heading-xl/semibold",className:l().header,children:null!=(null==E?void 0:E.name)?a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE_WITH_GUILD_NAME.format({guildName:E.name
}):a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_TITLE}),null!=p&&""!==p?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Text,{variant:"text-sm/normal",children:[(0,r.jsx)("span",{className:l().rejectionReasonLabel,children:a.Z.Messages.MEMBER_VERIFICATION_APPLICATION_REJECTED_REASON}),(0,r.jsx)("span",{className:l().rejectionReason,children:p})]})}):null]}),(0,r.jsxs)("div",{className:l().confirmationButtonRow,children:[(0,r.jsx)(o.Button,{onClick:s,color:o.Button.Colors.PRIMARY,className:l().confirmationButton,children:n}),(0,r.jsx)(o.Button,{onClick:f,color:o.Button.Colors.PRIMARY,className:l().confirmationButton,children:c})]})]})}},504834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),s=n(223430),l=n(265367),c=n(477598),u=n.n(c);function f(e){var t=e.message,n=e.error,o=e.onClick,c=e.submitting,f=e.className,d=e.ctaMessage;return(0,r.jsxs)("div",{className:i()(u().container,f),children:[(0,r.jsxs)("div",{
className:u().textContainer,children:[(0,r.jsx)(l.Z,{className:u().warningIcon}),(0,r.jsx)(s.Z,{size:10,horizontal:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Z,{size:1}),(0,r.jsx)(a.Text,{className:u().info,variant:"text-sm/normal",children:t}),null!=n&&(0,r.jsx)(a.Text,{className:i()(u().info,u().error),variant:"text-sm/normal",children:n})]})]}),(0,r.jsx)(s.Z,{size:16,horizontal:!0}),(0,r.jsx)(a.Button,{className:u().undoButton,color:a.Button.Colors.LINK,look:a.Button.Looks.LINK,size:a.Button.Sizes.ICON,onClick:o,submitting:c,children:d})]})}},196142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(785893),o=n(667294),i=n(730381),a=n.n(i),s=n(673679),l=n(153686),c=n(19585),u=n(547721),f=n(504834),d=n(473708);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function E(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=function(e){
var t,n,r=E(o.useState(!1),2),i=r[0],a=r[1],l=E(o.useState(null),2),c=l[0],u=l[1],f=(n=(t=function(t){var n;return y(this,(function(r){switch(r.label){case 0:a(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,s.qu)(t,e)];case 2:r.sent();return[3,5];case 3:n=r.sent();u(n);return[3,5];case 4:a(!1);return[7];case 5:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return n.apply(this,arguments)});return{resetRenewalMutation:f,submitting:i,error:c}};function _(e){var t=e.groupListingId,n=e.subscription,i=e.className,s=(0,c.Z)(l.Z.PENDING_PLAN_CHANGE_NOTICE).analyticsLocations,p=m(s),h=p.resetRenewalMutation,E=p.submitting,y=p.error,_=(0,u._k)(t,{includeSoftDeleted:!0}),g=o.useMemo((function(){if(null==(null==n?void 0:n.renewalMutations))return{currentListing:void 0,nextListing:void 0}
;var e=n.items[0].planId,t=n.renewalMutations.items[0].planId;return{currentListing:_.find((function(t){return t.subscription_plans[0].id===e})),nextListing:_.find((function(e){return e.subscription_plans[0].id===t}))}}),[n,_]),b=g.currentListing,v=g.nextListing;if(null==n||null==b||null==v)return null;var O=a()(n.currentPeriodEnd).format("MMM DD, YYYY");return(0,r.jsx)(f.Z,{message:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_DESCRIPTION.format({currentListing:b.name,nextListing:v.name,changeDate:O}),error:null==y?void 0:y.message,onClick:function(){return h(n)},submitting:E,ctaMessage:d.Z.Messages.GUILD_ROLE_CANCEL_SUBSCRIPTION_DELETE_MUTATION_CTA,className:i})}},945514:(e,t,n)=>{"use strict";n.d(t,{kZ:()=>d,W4:()=>p,Sn:()=>h,gq:()=>E,I4:()=>m,Ui:()=>_,U3:()=>g});var r=n(281110),o=n(744564),i=n(49621),a=n(248046),s=n(2590);function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function d(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_CLEAR"})}function p(e,t,n){o.Z.dispatch({applicationId:e,commandId:t,permissions:n,type:"INTEGRATION_PERMISSION_SETTINGS_EDIT"})}function h(e,t){r.Z.get(s.ANM.GUILD_COMMANDS_FOR_APPLICATION(e,t)).then((function(n){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_SUCCESS",applicationId:t,commands:n.body.application_commands,guildId:e,permissions:n.body.permissions})}),(function(){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMANDS_FETCH_FAILURE",applicationId:t})}))}function E(e,t,n){return y.apply(this,arguments)}
function y(){return(y=c((function(e,t,n){var i,a;return f(this,(function(l){switch(l.label){case 0:i=[];l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.get(s.ANM.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n))];case 2:(a=l.sent()).ok&&(i=a.body.permissions);return[3,4];case 3:if(404!==l.sent().status){o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_APPLICATION_PERMISSIONS_FETCH_FAILURE",applicationId:e,commandId:n,guildId:t});return[2]}return[3,4];case 4:o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:e,commandId:n,guildId:t,permissions:i});return[2]}}))}))).apply(this,arguments)}function m(e){o.Z.dispatch({applicationId:e,type:"INTEGRATION_PERMISSION_SETTINGS_INIT"})}function _(e){o.Z.dispatch({commandId:e,type:"INTEGRATION_PERMISSION_SETTINGS_RESET"})}function g(e){return b.apply(this,arguments)}function b(){return(b=c((function(e){var t,n,r,a,s,l,c,u;return f(this,(function(f){switch(f.label){case 0:t=e.applicationId,n=e.commandId,
r=e.defaultEveryoneValue,a=e.defaultEverywhereValue,s=e.guildId,l=e.permissions;c=n===t?v(s,l,r,a):l;return[4,i.dh(t,s,n,c)];case 1:(u=f.sent()).ok&&o.Z.dispatch({type:"INTEGRATION_PERMISSION_SETTINGS_COMMAND_UPDATE",applicationId:t,commandId:n,guildId:s,permissions:u.body.permissions});return[2]}}))}))).apply(this,arguments)}function v(e,t,n,r){if(!n||!r)return t;var o,i=(u(o={},e,n),u(o,(0,a.bD)(e),r),o);return t.filter((function(e){var t=i[e.id];return null==t||e.permission!==t}))}},145739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(125333),o=n(58964),i=n(97245),a=n(269823),s=n(652591),l=n(877815),c=n(873297),u=n(2590);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var d="template";const p=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},c.Z),{openNativeAppModal:function(e){a.Z.openNativeAppModal(e,u.Etm.GUILD_TEMPLATE_BROWSER)},openMobileApp:function(e,t){if(!(null!=platform.ua&&platform.ua.toLowerCase().indexOf("googlebot")>-1)){var n=null!=e?(0,r.Oh)(e):(0,r.Gk)(),a=(0,o.WS)(),c=(0,o.ZP)(n,{utmSource:d,fingerprint:t,attemptId:a});s.default.track(u.rMx.DEEP_LINK_CLICKED,{fingerprint:(0,i.K)(t),attempt_id:a,source:d,guild_template_code:e
});l.Z.launch(c,(function(){}))}}})},727266:(e,t,n)=>{"use strict";n.d(t,{i:()=>h,Z:()=>I});var r=n(441143),o=n.n(r),i=n(202351),a=n(744564),s=n(336334),l=n(73904),c=n(869854);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h,E,y,m,_,g,b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}!function(e){e[e.IN_FLIGHT=0]="IN_FLIGHT";e[e.ERRORED=1]="ERRORED";e[e.SUCCEEDED=2]="SUCCEEDED"}(h||(h={}));var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=v(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getModalState=function(e){return e!==E?null:y};r.__getLocalVars=function(){return{currentNonce:E,currentState:y,queuedMessageId:m,queuedMessageChannelId:_,queuedMessageNonce:g}};return n}(i.ZP.Store);O.displayName="InteractionModalStore";const I=new O(a.Z,{LOGOUT:function(){E=null;y=null;m=null
;_=null;g=null;return!0},INTERACTION_MODAL_CREATE:function(e){if(e.nonce===g){s.Z.deleteMessage(_,m,!0);m=null;_=null;g=null}return!1},INTERACTION_IFRAME_MODAL_CREATE:function(e){if(e.nonce===g){s.Z.deleteMessage(_,m,!0);m=null;_=null;g=null}return!1},INTERACTION_QUEUE:function(e){var t=e.messageId,n=e.nonce,r=e.data;switch(r.interactionType){case l.B8.APPLICATION_COMMAND:m=t;_=r.channelId;g=n;return!1;case l.B8.MODAL_SUBMIT:o()(null==E||y===h.ERRORED||y===h.SUCCEEDED,"cannot submit multiple modals at once");E=n;y=h.IN_FLIGHT;setTimeout((function(){E===n&&y===h.IN_FLIGHT&&(0,c.yr)(n)}),1e4);return!0;default:return!1}},INTERACTION_SUCCESS:function(e){var t=e.nonce;if(null==t||t!==E)return!1;y=h.SUCCEEDED;return!0},INTERACTION_FAILURE:function(e){var t=e.nonce;if(null==t||t!==E)return!1;y=h.ERRORED;return!0}})},196644:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>h,yD:()=>E,Zd:()=>y});var r=n(541554),o=n(281110),i=n(744564),a=n(84441),s=n(296602),l=n(736818),c=n(873553),u=n(2590)
;function f(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},p=new s.Z("MultiAccountActionCreators");function h(){var e,t,n=l.default.getId();c.Z.getUsers().forEach((t=(e=function(e){var t,a,s,l,c;return d(this,(function(f){switch(f.label){case 0:t=e.id;if(null==(a=r.Z.getToken(t))||""===a){i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:t});return[2]}i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_REQUEST",userId:t});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,o.Z.get({url:u.ANM.ME,headers:{authorization:a},retries:3})];case 2:s=f.sent();return[3,4];case 3:l=f.sent();c=401===(null==l?void 0:l.status)||403===(null==l?void 0:l.status);i.Z.dispatch({type:c?"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE":"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2];case 4:i.Z.dispatch({type:n===t?"CURRENT_USER_UPDATE":"USER_UPDATE",user:s.body})
;i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_SUCCESS",userId:t});return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}),function(e){return t.apply(this,arguments)}))}function E(e,t){p.log("Switching account to ".concat(e),{switchSynchronously:t});var n=r.Z.getToken(e);if(null==n){p.log("Switching accounts failed because there was no token");i.Z.dispatch({type:"MULTI_ACCOUNT_VALIDATE_TOKEN_FAILURE",userId:e});return Promise.resolve()}return a.Z.switchAccountToken(n,t)}function y(e){i.Z.dispatch({type:"MULTI_ACCOUNT_REMOVE_ACCOUNT",userId:e})}},22724:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(667294),o=n(202351),i=n(744564),a=n(196644),s=n(873553);function l(){var e=(0,o.cj)([s.Z],(function(){return{isLoading:s.Z.getIsValidatingUsers(),multiAccountUsers:s.Z.getUsers()}}));r.useEffect((function(){i.Z.wait((function(){a.HJ()}))}),[]);return e}},
226613:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,H:()=>i});var r=n(744564);function o(e){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_NEW_USER",newUserType:e})}))}function i(){r.Z.wait((function(){return r.Z.dispatch({type:"NUF_COMPLETE"})}))}},239527:(e,t,n)=>{"use strict";n.d(t,{M5:()=>r});var r;!function(e){e[e.MARKETING_UNCLAIMED=0]="MARKETING_UNCLAIMED";e[e.INVITE_UNCLAIMED=1]="INVITE_UNCLAIMED";e[e.ORGANIC_REGISTERED=2]="ORGANIC_REGISTERED";e[e.ORGANIC_REGISTERED_GUILD_TEMPLATE=3]="ORGANIC_REGISTERED_GUILD_TEMPLATE"}(r||(r={}))},88415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t){l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return l(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var f=null;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&l(e,t)}(n,e);var t=u(n)
;function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;f=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null};r.getType=function(){return f};r.getState=function(){return{type:f}};r.__getLocalVars=function(){return{type:f}};return n}(r.ZP.PersistedStore);d.displayName="NewUserStore";d.persistKey="nuf";const p=new d(o.Z,{NUF_NEW_USER:function(e){var t=e.newUserType;f=t},NUF_COMPLETE:function(){f=null}})},936323:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r;!function(e){e.AGE_GATE="age-gate";e.CHOOSE_TEMPLATE="choose-template";e.CUSTOMIZE_GUILD="customize-server";e.CHANNEL_PROMPT="channel-prompt";e.JOIN_GUILD="join-server";e.CREATION_INTENT="creation-intent";e.COMPLETE="complete"}(r||(r={}))},716993:(e,t,n)=>{"use strict";n.d(t,{Yw:()=>p,fc:()=>E,qd:()=>m,ZP:()=>g});var r=n(281110),o=n(744564),i=n(652591),a=n(994867),s=n(2590);function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)
}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}var d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{
if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function p(e,t){return h.apply(this,arguments)}function h(){return(h=c((function(e,t){return d(this,(function(n){switch(n.label){case 0:return[4,r.Z.patch({url:s.ANM.FAMILY_CENTER_LINKED_USERS,body:{linked_user_id:e,link_status:t}}).then((function(e){var t=e.body;o.Z.dispatch({
type:"FAMILY_CENTER_REQUEST_LINK_UPDATE_SUCCESS",linkedUsers:t});return t}))];case 1:n.sent();return[2]}}))}))).apply(this,arguments)}function E(e){return y.apply(this,arguments)}function y(){return(y=c((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,r.Z.delete({url:s.ANM.FAMILY_CENTER_LINKED_USERS,body:{linked_user_id:e}}).then((function(t){var n=t.body;o.Z.dispatch({type:"FAMILY_CENTER_REQUEST_LINK_REMOVE_SUCCESS",linkedUsers:n,deletedUserId:e});return n}))];case 1:t.sent();return[2]}}))}))).apply(this,arguments)}function m(){return _.apply(this,arguments)}function _(){return(_=c((function(){return d(this,(function(e){switch(e.label){case 0:return[4,r.Z.get({url:s.ANM.FAMILY_CENTER_LINK_CODE}).then((function(e){var t=e.body.link_code;o.Z.dispatch({type:"FAMILY_CENTER_LINK_CODE_FETCH_SUCCESS",linkCode:t});return t}))];case 1:e.sent();return[2]}}))}))).apply(this,arguments)}const g={initialPageLoad:function(){return c((function(){var e,t,n,i,a,l,c,u,f
;return d(this,(function(d){switch(d.label){case 0:o.Z.dispatch({type:"FAMILY_CENTER_FETCH_START"});return[4,r.Z.get({url:s.ANM.FAMILY_CENTER_TEEN_ACTIVITY_ME})];case 1:e=d.sent().body;t=e.teen_audit_log,n=e.linked_users,i=e.users;f={teenId:null==t?void 0:t.teen_user_id,rangeStartId:null==t?void 0:t.range_start_id,totals:null!==(a=null==t?void 0:t.totals)&&void 0!==a?a:{},actions:null!==(l=null==t?void 0:t.actions)&&void 0!==l?l:[],users:null!==(c=null==t?void 0:t.users)&&void 0!==c?c:[],guilds:null!==(u=null==t?void 0:t.guilds)&&void 0!==u?u:[]};o.Z.dispatch({type:"FAMILY_CENTER_INITIAL_LOAD",familyCenterTeenActivity:f,linkedUsers:n,users:i});return[2,f]}}))}))()},fetchLinkedUsers:function(){return c((function(){var e,t;return d(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({url:s.ANM.FAMILY_CENTER_LINKED_USERS})];case 1:e=n.sent().body;t={linkedUsers:e.linked_users,users:e.users};o.Z.dispatch(f({type:"FAMILY_CENTER_LINKED_USERS_FETCH_SUCCESS"},t));return[2,t]}}))}))()},
requestLink:function(e,t){return c((function(){var n,i;return d(this,(function(a){switch(a.label){case 0:return[4,r.Z.post({url:s.ANM.FAMILY_CENTER_LINKED_USERS,body:{recipient_id:e,code:t}})];case 1:n=a.sent().body;i={linkedUsers:n.linked_users,users:n.users};o.Z.dispatch(f({type:"FAMILY_CENTER_REQUEST_LINK_SUCCESS"},i));return[2,i]}}))}))()},fetchTeenActivity:function(e){return c((function(){var t,n,i,a;return d(this,(function(l){switch(l.label){case 0:o.Z.dispatch({type:"FAMILY_CENTER_FETCH_START"});t=s.ANM.FAMILY_CENTER_TEEN_ACTIVITY(e);return[4,r.Z.get({url:t})];case 1:n=l.sent().body;i=n.teen_audit_log;a={teenId:i.teen_user_id,rangeStartId:i.range_start_id,totals:i.totals,actions:i.actions,users:i.users,guilds:i.guilds};o.Z.dispatch({type:"FAMILY_CENTER_TEEN_ACTIVITY_FETCH_SUCCESS",familyCenterTeenActivity:a});return[2,a]}}))}))()},fetchMoreTeenActivity:function(e,t,n,l){return c((function(){var c,u,f;return d(this,(function(d){switch(d.label){case 0:return[4,r.Z.get({
url:s.ANM.FAMILY_CENTER_TEEN_ACTIVITY_MORE(e,t,n,l)})];case 1:c=d.sent().body;u=c.teen_audit_log;f={teenId:u.teen_user_id,rangeStartId:u.range_start_id,actions:u.actions,users:u.users,guilds:u.guilds};i.default.track(s.rMx.FAMILY_CENTER_ACTION,{action:a.YC.LoadMore,selected_teen_id:e,action_display_type:t});o.Z.dispatch({type:"FAMILY_CENTER_TEEN_ACTIVITY_MORE_FETCH_SUCCESS",familyCenterTeenActivity:f});return[2,u]}}))}))()},selectTab:function(e){o.Z.dispatch({type:"FAMILY_CENTER_HANDLE_TAB_SELECT",tab:e})}}},994867:(e,t,n)=>{"use strict";n.d(t,{Of:()=>E,AG:()=>y,i0:()=>m,zE:()=>_,ip:()=>g,_w:()=>b,iB:()=>v,f2:()=>O,vH:()=>I,ix:()=>S,ne:()=>l,MY:()=>c,dG:()=>u,QH:()=>f,Mu:()=>d,_6:()=>p,YC:()=>h,tx:()=>C,TX:()=>P,Wz:()=>R});var r=n(80783),o=n(473708);function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var a,s,l,c,u,f,d,p,h,E=3e4,y=8,m=3,_=26,g=64,b=function(e,t){
return"https://discord.com/feature/family-center/my-family/".concat(e,"/").concat(t)},v=4,O=3e5,I="https://www.youtube.com/watch?v=dQw4w9WgXcQ",S=(0,r.F)(Object.freeze({FAMILY_CENTER_SETTINGS:"/family-center/settings",FAMILY_CENTER_MY_FAMILY:"/family-center/my-family"}),[":","?","@"]);!function(e){e[e.DM_MESSAGE_SEND=1]="DM_MESSAGE_SEND";e[e.GDM_MESSAGE_SEND=2]="GDM_MESSAGE_SEND";e[e.MESSAGE_REACT=3]="MESSAGE_REACT";e[e.ADD_FRIEND=4]="ADD_FRIEND";e[e.SEND_CALL=5]="SEND_CALL";e[e.CALL_JOIN=6]="CALL_JOIN";e[e.GUILD_JOIN=7]="GUILD_JOIN"}(a||(a={}));!function(e){e[e.PARENT=1]="PARENT";e[e.CHILD=2]="CHILD"}(s||(s={}));!function(e){e[e.PENDING=1]="PENDING";e[e.ACTIVE=2]="ACTIVE";e[e.INACTIVE=3]="INACTIVE";e[e.DECLINED=4]="DECLINED";e[e.EXPIRED=5]="EXPIRED"}(l||(l={}));!function(e){e[e.USER_ADD=1]="USER_ADD";e[e.GUILD_ADD=2]="GUILD_ADD";e[e.USER_INTERACTION=3]="USER_INTERACTION";e[e.GUILD_INTERACTION=4]="GUILD_INTERACTION";e[e.USER_CALLED=5]="USER_CALLED"}(c||(c={}));!function(e){
e.ACTIVITY="ACTIVITY";e.REQUESTS="REQUESTS";e.SETTINGS="SETTINGS"}(u||(u={}));!function(e){e[e.ACTIVITY=0]="ACTIVITY";e[e.REQUESTS=1]="REQUESTS";e[e.SETTINGS=2]="SETTINGS"}(f||(f={}));!function(e){e.SIDENAV="SIDENAV";e.SETTINGS="SETTINGS"}(d||(d={}));!function(e){e[e.SIDENAV=0]="SIDENAV";e[e.SETTINGS=1]="SETTINGS"}(p||(p={}));!function(e){e[e.TabChange=0]="TabChange";e[e.ShowQRCodeModal=1]="ShowQRCodeModal";e[e.RevealQRCode=2]="RevealQRCode";e[e.ScanQRCodeButton=3]="ScanQRCodeButton";e[e.ScanQRCode=4]="ScanQRCode";e[e.LoadMore=5]="LoadMore";e[e.SelectTeen=6]="SelectTeen";e[e.HideQRCode=7]="HideQRCode"}(h||(h={}));var T,N,C=new Map([[c.USER_INTERACTION,{tooltipHeader:function(){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_HEADER},tooltipDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_TOOLTIP_TEEN},sectionHeader:function(e){
return o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_SECTION_HEADER.format({count:e})},sectionDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_INTERACTION_TOOLTIP_TEEN},timestampFormatter:function(){return{today:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_MESSAGED_TIMESTAMP_TODAY,yesterday:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_MESSAGED_TIMESTAMP_YESTERDAY,days:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_MESSAGED_TIMESTAMP_DAYS}}}],[c.USER_CALLED,{tooltipHeader:function(){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_HEADER},tooltipDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TOOLTIP_TEEN},sectionHeader:function(e){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_SECTION_HEADER.format({count:e})},sectionDescription:function(e){
return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TOOLTIP_TEEN},timestampFormatter:function(){return{today:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TIMESTAMP_TODAY,yesterday:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TIMESTAMP_YESTERDAY,days:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_CALLED_TIMESTAMP_DAYS}}}],[c.USER_ADD,{tooltipHeader:function(){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_HEADER},tooltipDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_TOOLTIP_TEEN},sectionHeader:function(e){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_SECTION_HEADER.format({count:e})},sectionDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_ADD_FRIENDS_TOOLTIP_TEEN},timestampFormatter:function(){return{
today:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_ADDED_TIMESTAMP_TODAY,yesterday:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_ADDED_TIMESTAMP_YESTERDAY,days:o.Z.Messages.FAMILY_CENTER_ACTIVITY_USER_ADDED_TIMESTAMP_DAYS}}}],[c.GUILD_ADD,{tooltipHeader:function(){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_HEADER},tooltipDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_TOOLTIP_TEEN},sectionHeader:function(e){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_SECTION_HEADER.format({count:e})},sectionDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_JOIN_TOOLTIP_TEEN}}],[c.GUILD_INTERACTION,{tooltipHeader:function(){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_HEADER},tooltipDescription:function(e){
return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_TOOLTIP_TEEN},sectionHeader:function(e){return o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_SECTION_HEADER.format({count:e})},sectionDescription:function(e){return e?o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_TOOLTIP_PARENT:o.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_INTERACTION_TOOLTIP_TEEN}}]]);!function(e){e[e.CHECK=0]="CHECK";e[e.X=1]="X"}(T||(T={}));!function(e){e[e.GENERIC_ERROR=0]="GENERIC_ERROR";e[e.INELIGIBLE_FOR_FAMILY_CENTER=1]="INELIGIBLE_FOR_FAMILY_CENTER";e[e.PENDING_REQUEST_EXISTS=2]="PENDING_REQUEST_EXISTS";e[e.MAX_CONNECTIONS_REACHED=3]="MAX_CONNECTIONS_REACHED"}(N||(N={}));N.INELIGIBLE_FOR_FAMILY_CENTER,N.MAX_CONNECTIONS_REACHED,N.PENDING_REQUEST_EXISTS,i(A={},N.GENERIC_ERROR,{header:function(){return o.Z.Messages.FAMILY_CENTER_ERROR_GENERIC_HEADER},description:function(){
return o.Z.Messages.FAMILY_CENTER_ERROR_GENERIC_DESCRIPTION},icon:T.X}),i(A,N.PENDING_REQUEST_EXISTS,{header:function(){return o.Z.Messages.FAMILY_CENTER_ERROR_REQUEST_PENDING_HEADER},description:function(e){var t=e.email;return null!=t?o.Z.Messages.FAMILY_CENTER_ERROR_REQUEST_PENDING_DESCRIPTION.format({email:t}):o.Z.Messages.FAMILY_CENTER_ERROR_REQUEST_PENDING_DESCRIPTION_NO_EMAIL},icon:T.CHECK}),i(A,N.MAX_CONNECTIONS_REACHED,{header:function(e){return e.isAdult?o.Z.Messages.FAMILY_CENTER_ERROR_CONNECTION_LIMIT_PARENT_HEADER:o.Z.Messages.FAMILY_CENTER_ERROR_CONNECTION_LIMIT_TEEN_HEADER},description:function(e){return e.isAdult?o.Z.Messages.FAMILY_CENTER_ERROR_CONNECTION_LIMIT_PARENT_DESCRIPTION.format({link:"https://support.discord.com/hc/articles/14155043715735"}):o.Z.Messages.FAMILY_CENTER_ERROR_CONNECTION_LIMIT_TEEN_DESCRIPTION.format({link:"https://support.discord.com/hc/articles/14155060633623"})},icon:T.X}),i(A,N.INELIGIBLE_FOR_FAMILY_CENTER,{header:function(){
return o.Z.Messages.FAMILY_CENTER_ERROR_TEEN_TO_TEEN_LINK_HEADER},description:function(){return o.Z.Messages.FAMILY_CENTER_ERROR_TEEN_TO_TEEN_LINK_DESCRIPTION.format({link:"https://support.discord.com/hc/requests/new?ticket_form_id=360000029731"})},icon:T.X});var A,P=function(){return{seconds:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_SECONDS,minutes:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_MINUTES,hours:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_HOURS,yesterday:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_YESTERDAY,days:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_DAYS,date:o.Z.Messages.FAMILY_CENTER_PENDING_TIMESTAMP_DATE}},R=function(){return{seconds:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_SECONDS,minutes:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_MINUTES,hours:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_HOURS,yesterday:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_YESTERDAY,days:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_DAYS,
date:o.Z.Messages.FAMILY_CENTER_ACCEPTED_TIMESTAMP_DATE}}},58395:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ue});var r=n(842227),o=n(661985),i=n(335186),a=n(637493),s=n(473903),l=n(716993),c=n(848285);function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).approximateMemberCount=e.approximate_member_count;return r}return n}(c.Z),y=n(318161),m=n(994867);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function v(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){
S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function A(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}
var R=null,j=null,M={},w=H(),x=V(),L=null,D=function(){var e,t;if((null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.pathname)===m.ix.FAMILY_CENTER_MY_FAMILY)return m.dG.REQUESTS;if((null===window||void 0===window||null===(t=window.location)||void 0===t?void 0:t.pathname)===m.ix.FAMILY_CENTER_SETTINGS)return m.dG.SETTINGS;return m.dG.ACTIVITY}(),Z=!1,U=!1,G=null,k=null,B={};function H(){var e;return g(e={},m.MY.USER_ADD,{}),g(e,m.MY.GUILD_ADD,{}),g(e,m.MY.USER_INTERACTION,{}),g(e,m.MY.GUILD_INTERACTION,{}),g(e,m.MY.USER_CALLED,{}),e}function V(){var e;return g(e={},m.MY.USER_ADD,0),g(e,m.MY.GUILD_ADD,0),g(e,m.MY.USER_INTERACTION,0),g(e,m.MY.GUILD_INTERACTION,0),g(e,m.MY.USER_CALLED,0),e}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return M=e.length>0?e.reduce((function(e,t){return O(v({},e),g({},t.user_id,t))}),{}):{}}function Y(e){void 0!==e&&(x=e)}function z(e,t){var n=t?w:H();return w=e.reduce((function(e,t){
var r=t.display_type;void 0!==n[r]&&void 0===n[r][t.event_id]&&(e[r][t.event_id]=t);return e}),n)}function W(e){B=e.reduce((function(e,t){return O(v({},e),g({},t.id,new E(t)))}),B)}function K(){U=!0}function q(e){var t=e.linkedUsers,n=e.familyCenterTeenActivity,o=n.actions,i=n.guilds,a=n.totals,s=n.teenId,l=n.rangeStartId;R=s;j=l;z(o);Y(a);W(i);F(t);U=!1;G=r.default.fromTimestamp(Date.now());Z=!0}function X(e){F(e.linkedUsers)}function Q(e){F(e.linkedUsers)}function $(e){var t=e.familyCenterTeenActivity;if(void 0!==t){var n=t.actions,o=t.totals,i=t.guilds,a=t.teenId,s=t.rangeStartId;R=a;j=s;z(n);Y(o);W(i);U=!1;G=r.default.fromTimestamp(Date.now())}}function J(e){var t=e.familyCenterTeenActivity,n=t.actions,r=t.guilds;z(n,!0);W(r)}function ee(e){F(e.linkedUsers)}function te(e){F(e.linkedUsers,!0)}function ne(e){var t=e.linkCode;L=t}function re(e){var t=e.tab;D=t}function oe(){(0,o.l1)()&&l.ZP.initialPageLoad()}function ie(e){var t=e.user;if(void 0!==t.linked_users){
var n=s.default.getUsers(),r=t.linked_users.some((function(e){var t=e.user_id;return void 0===n[t]}));r&&t.linked_users.length>Object.keys(M).length?l.ZP.fetchLinkedUsers():F(t.linked_users)}}function ae(e){var t=e.countryCode;if(null!=t){var n;k=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:null}}function se(){var e=[];Object.entries(w).forEach((function(t){var n,r=T(t,2),o=(r[0],r[1]);(n=e).push.apply(n,N(Object.values(o)))}));return e}function le(){R=null;j=null;M={};w=H();x=V();B={};U=!1;G=null}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=P(n);function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e;(e=t.call(this)).loadCache=function(){var t,r=e.readSnapshot(n.LATEST_SNAPSHOT_VERSION);if(null!=r){F(r.linkedUsers)
;W(r.guilds);z(r.teenActivity);t=r.teenActivityTotals,x=t.reduce((function(e,t){var n=T(t.split(":"),2),r=n[0],o=n[1],i=(0,y.jV)(r);return void 0===i?e:O(v({},e),g({},i,parseInt(o,10)))}),V())}};e.registerActionHandlers({CONNECTION_OPEN:oe,CURRENT_USER_UPDATE:ie,CACHE_LOADED_LAZY:e.loadCache,FAMILY_CENTER_INITIAL_LOAD:q,FAMILY_CENTER_FETCH_START:K,FAMILY_CENTER_LINKED_USERS_FETCH_SUCCESS:X,FAMILY_CENTER_TEEN_ACTIVITY_FETCH_SUCCESS:$,FAMILY_CENTER_TEEN_ACTIVITY_MORE_FETCH_SUCCESS:J,FAMILY_CENTER_REQUEST_LINK_SUCCESS:Q,FAMILY_CENTER_REQUEST_LINK_UPDATE_SUCCESS:ee,FAMILY_CENTER_REQUEST_LINK_REMOVE_SUCCESS:te,FAMILY_CENTER_LINK_CODE_FETCH_SUCCESS:ne,FAMILY_CENTER_HANDLE_TAB_SELECT:re,SET_LOCATION_METADATA:ae,LOGOUT:le});e.waitFor(s.default);return e}var o=n.prototype;o.takeSnapshot=function(){return{version:n.LATEST_SNAPSHOT_VERSION,data:{linkedUsers:Object.values(M),teenActivityTotals:Object.entries(x).map((function(e){var t=T(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r)})),
teenActivity:se(),guilds:Object.values(B)}}};o.getSelectedTeenId=function(){return R};o.getLinkedUsers=function(){return M};o.getLinkTimestamp=function(e){var t,n=M[e];return null==n?null:null!==(t=n.updated_at)&&void 0!==t?t:n.created_at};o.getRangeStartTimestamp=function(){return null==j?null:r.default.extractTimestamp(j)};o.getActionsForDisplayType=function(e){return Object.values(w[e])};o.getTotalForDisplayType=function(e){return x[e]};o.getLinkCode=function(){return L};o.getGuild=function(e){return B[e]};o.getSelectedTab=function(){return D};o.getStartId=function(){return j};o.getIsInitialized=function(){return Z};o.getUserCountry=function(){return k};o.isLoading=function(){return U};o.canRefetch=function(){return null===G||r.default.age(G)>m.Of};o.__getLocalVars=function(){return{selectedTeenId:R,rangeStartId:j,linkedUsers:M,teenActivity:w,teenActivityTotals:x,linkCode:L,selectedTab:D,initialized:Z,loading:U,lastFetchedTimestamp:G,userCountryCode:k,familyCenterGuilds:B}};return n
}(a.Z);ce.displayName="FamilyCenterStore";ce.LATEST_SNAPSHOT_VERSION=3;const ue=new ce},318161:(e,t,n)=>{"use strict";n.d(t,{t3:()=>u,Qr:()=>f,LI:()=>d,lx:()=>p,iB:()=>h,f0:()=>E,jV:()=>y});var r=n(730381),o=n.n(r),i=n(994867),a=n(473708),s=3600,l=86400,c=172800,u=function(){return{today:a.Z.Messages.FAMILY_CENTER_EMPTY_ACTIVITY_TODAY,yesterday:a.Z.Messages.FAMILY_CENTER_EMPTY_ACTIVITY_YESTERDAY,days:a.Z.Messages.FAMILY_CENTER_EMPTY_ACTIVITY_DAYS}},f=function(e){return e?{today:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_PARENT_TODAY,yesterday:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_PARENT_YESTERDAY,days:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_PARENT_DAYS}:{today:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_TEEN_TODAY,yesterday:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_TEEN_YESTERDAY,days:a.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_DESCRIPTION_TEEN_DAYS}},d=function(e,t,n){var r=o()().diff(o()(e),"s"),i=t()
;o()(e).format("LL");return r<l?i.today:r<c?i.yesterday:i.days.format({days:Math.min(Math.floor(r/l),null!=n?n:999)})},p=function(e,t){var n=o()().diff(o()(e),"s"),r=t(),i=o()(e).format("LL");return i=n<60?r.seconds:n<s?r.minutes.format({count:Math.floor(n/60)}):n<l?r.hours.format({count:Math.floor(n/s)}):n<c?r.yesterday:n<604800?r.days.format({count:Math.floor(n/l)}):r.date.format({date:i})},h=function(e){return e.display_type===i.MY.USER_ADD||e.display_type===i.MY.USER_INTERACTION||e.display_type===i.MY.USER_CALLED},E=function(e){return e.display_type===i.MY.GUILD_ADD||e.display_type===i.MY.GUILD_INTERACTION},y=function(e){var t=Object.values(i.MY),n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.toString()===e)return l}}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}},841166:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(719174),o=function(e,t){return(0,r.Z)()?t:e}},954160:(e,t,n)=>{
"use strict";n.d(t,{G:()=>p});var r=n(667294),o=n(347365),i=n(716993),a=n(58395),s=n(994867);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function p(e){var t,n=null!=e?e:{},l=n.onError,c=n.onSuccess,p=f(r.useState(!1),2),h=p[0],E=p[1],y=f(r.useState(!1),2),m=y[0],_=y[1],g=f(r.useState(!1),2),b=g[0],v=g[1],O=f(r.useState(!1),2),I=O[0],S=O[1],T=f(r.useState(!1),2),N=T[0],C=T[1],A=f(r.useState(!1),2),P=A[0],R=A[1],j=f(r.useState(!1),2),M=j[0],w=j[1],x=f(r.useState(!1),2),L=x[0],D=x[1],Z=h||m||b||I||P||L,U=r.useCallback((t=u((function(e){var t,n;return d(this,(function(r){switch(r.label){case 0:if(Z)return[2];E(!0);r.label=1;case 1:
r.trys.push([1,3,4,5]);return[4,(0,i.Yw)(e.id,s.ne.ACTIVE)];case 2:r.sent();null==c||c();return[3,5];case 3:t=r.sent();n=new o.Hx(t);null==l||l(n);return[3,5];case 4:E(!1);return[7];case 5:return[2]}}))})),function(e){return t.apply(this,arguments)}),[Z,l,c]),G=r.useCallback(function(){var e=u((function(e){var t,n;return d(this,(function(r){switch(r.label){case 0:if(Z)return[2];_(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,i.Yw)(e.id,s.ne.DECLINED)];case 2:r.sent();null==c||c();return[3,5];case 3:t=r.sent();n=new o.Hx(t);null==l||l(n);return[3,5];case 4:_(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[Z,l,c]),k=r.useCallback(function(){var e=u((function(e){var t,n;return d(this,(function(r){switch(r.label){case 0:if(Z)return[2];v(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,i.Yw)(e.id,s.ne.INACTIVE)];case 2:r.sent();null==c||c();return[3,5];case 3:t=r.sent();n=new o.Hx(t);null==l||l(n);return[3,5];case 4:v(!1)
;return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[Z,l,c]),B=r.useCallback(function(){var e=u((function(e){var t,n;return d(this,(function(r){switch(r.label){case 0:if(Z)return[2];S(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,i.fc)(e.id)];case 2:r.sent();null==c||c();return[3,5];case 3:t=r.sent();n=new o.Hx(t);null==l||l(n);return[3,5];case 4:S(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[Z,l,c]),H=r.useCallback(u((function(){var e,t;return d(this,(function(n){switch(n.label){case 0:if(N)return[2];C(!0);n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,(0,i.qd)()];case 2:n.sent();null==c||c();return[3,5];case 3:e=n.sent();t=new o.Hx(e);null==l||l(t);return[3,5];case 4:C(!1);return[7];case 5:return[2]}}))})),[N,l,c]),V=r.useCallback(function(){var e=u((function(e){var t,n;return d(this,(function(r){switch(r.label){case 0:if(M)return[2];w(!0);r.label=1;case 1:r.trys.push([1,3,4,5])
;return[4,i.ZP.fetchTeenActivity(e)];case 2:r.sent();null==c||c();return[3,5];case 3:t=r.sent();n=new o.Hx(t);null==l||l(n);return[3,5];case 4:w(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[M,l,c]),F=r.useCallback(function(){var e=u((function(e,t){var n,r;return d(this,(function(a){switch(a.label){case 0:if(P)return[2];R(!0);a.label=1;case 1:a.trys.push([1,3,4,5]);return[4,i.ZP.requestLink(e,t)];case 2:a.sent();null==c||c();return[3,5];case 3:n=a.sent();r=new o.Hx(n);null==l||l(r);return[3,5];case 4:R(!1);return[7];case 5:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),[P,l,c]),Y=r.useCallback(function(){var e=u((function(e){var t,n,r,s,c,u;return d(this,(function(f){switch(f.label){case 0:t=a.Z.getActionsForDisplayType(e);n=t[t.length-1];r=a.Z.getStartId();s=a.Z.getSelectedTeenId();if(L||null==r||null==s)return[2];D(!0);f.label=1;case 1:f.trys.push([1,3,4,5]);return[4,i.ZP.fetchMoreTeenActivity(s,e,r,n.event_id)]
;case 2:f.sent();return[3,5];case 3:c=f.sent();u=new o.Hx(c);null==l||l(u);return[3,5];case 4:D(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[L,l]);return{acceptLinkRequest:U,declineLinkRequest:G,disconnectLinkRequest:k,cancelLinkRequest:B,selectTeenUser:V,getLinkCode:H,requestLink:F,loadMore:Y,isAcceptLoading:h,isDeclineLoading:m,isDisconnectLoading:b,isCancelLoading:I,isGetLinkCodeLoading:N,isSelectTeenUserLoading:M,isRequestingLink:P,isMoreLoading:L}}},191543:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(318715),o=(n(473903),n(58395)),i=function(){return(0,r.ZP)([o.Z],(function(){return o.Z.getSelectedTeenId()}))}},719174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(202351),o=n(473903);function i(){return(0,r.e7)([o.default],(function(){var e;return null===(e=o.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed}))}},343862:(e,t,n)=>{"use strict";n.d(t,{mq:()=>u,rW:()=>f,VM:()=>d,TQ:()=>p,M8:()=>h,Rd:()=>E,j_:()=>y})
;var r=n(318715),o=n(473903),i=n(58395),a=n(318161),s=n(191543),l=n(719174),c=n(994867);function u(e){var t,n=(0,r.ZP)([i.Z],(function(){return i.Z.getLinkedUsers()})),a=Object.values(n).filter((function(t){return null!=t&&t.link_status===e})).sort((function(e,t){return new Date(e.updated_at).getTime()-new Date(t.updated_at).getTime()})).map((function(e){return null!==(t=e.user_id)&&void 0!==t?t:void 0})).filter((function(e){return null!=e}));return(0,r.Wu)([o.default],(function(){return a.map((function(e){return o.default.getUser(e)}))})).filter((function(e){return null!=e}))}function f(){var e=(0,r.ZP)([i.Z],(function(){return i.Z.getLinkCode()})),t=(0,r.ZP)([o.default],(function(){return o.default.getCurrentUser()}));return null==e||null==t?null:(0,c._w)(t.id,e)}function d(){var e=(0,l.Z)(),t=u(c.ne.ACTIVE),n=e?c.AG:c.i0;return t.length>=n}function p(){var e=(0,r.ZP)([o.default],(function(){return o.default.getCurrentUser()})),t=(0,r.ZP)([i.Z],(function(){return i.Z.getLinkedUsers()
}));return null==e?0:Object.values(t).filter((function(t){return null!=t&&t.link_status===c.ne.PENDING&&e.id!==t.requestor_id})).length}function h(){var e=(0,r.ZP)([o.default],(function(){return o.default.getCurrentUser()})),t=(0,r.ZP)([i.Z],(function(){return i.Z.getLinkedUsers()}));return null==e?0:Object.values(t).filter((function(e){return null!=e&&e.link_status===c.ne.ACTIVE})).length}function E(e){var t=(0,s.M)(),n=(0,r.ZP)([i.Z],(function(){return null==t?null:i.Z.getRangeStartTimestamp()}));return null==n?null:(0,a.LI)(new Date(n).getTime(),(function(){return e}),7)}function y(e,t){var n=(0,r.ZP)([i.Z],(function(){return i.Z.getLinkTimestamp(e)}));return null!=n?(0,a.lx)(Date.parse(n),t===c.ne.PENDING?c.TX:c.Wz):null}},779224:(e,t,n)=>{"use strict";n.d(t,{r:()=>E,Z:()=>y});var r=n(785893),o=(n(667294),n(945460)),i=n(841379),a=n(995141),s=n(89836),l=n(310126),c=n(473708),u=n(763910),f=n.n(u);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=l.default.getEnableHardwareAcceleration()?o.AnimatedAvatar:o.Avatar,E=function(e){var t=e.user,n=e.avatarSize,l=void 0===n?o.AvatarSizes.SIZE_48:n,u=(0,s.w)({user:t,size:(0,o.getAvatarSize)(l)}),E=u.avatarSrc,y=u.isAvatarAnimating,m=u.eventHandlers,_=(0,i.Z)({user:t,size:(0,a.y)(l),canAnimate:y});return(0,r.jsx)("div",p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},m),{children:(0,r.jsx)(h,{className:f().avatar,src:E,avatarDecoration:_,size:l,"aria-label":c.Z.Messages.FAMILY_CENTER_AVATAR_ARIA.format({name:t.username})})}))};const y=function(e){var t=e.currentUser,n=e.otherUser,o=e.children;return(0,r.jsx)("div",{className:f().avatarPairContainer,children:(0,r.jsxs)("div",{className:f().avatarPair,children:[(0,r.jsx)(E,{user:t}),o,(0,r.jsx)(E,{user:n})]})})}},35854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),s=n(189865),l=n(872630),c=n(491275),u=n(841166),f=n(633878);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function E(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=h(e,["width","height","color"]);return(0,r.jsxs)("svg",p(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},(0,f.Z)(l)),{width:n,height:i,viewBox:"0 0 20 20",fill:"none",children:[(0,r.jsx)("path",{d:"M5.42999 16C5.73201 16 5.97454 15.7326 5.98651 15.4309C5.99216 15.2885 6 15.145 6 15C6 10.582 8.97355 7 13.6115 7C15.3176 7 16.9378 7.60732 18.2734 8.47894C18.6009 8.69267 19.0088 8.49717 19.0012 8.10616C19.0004 8.06876 19 8.03318 19 8C19 3.589 15.0439 0 10.1825 0C5.32115 0 1.36504 3.589 1.36504 8C1.36504 9.24168 1.67304 10.4357 2.26529 11.523C2.49433 11.9436 2.45549 12.472 2.12042 12.8141L0.664819 14.3003C0.0449194 14.9332 0.493315 16 1.37923 16H5.42999Z",fill:s}),(0,r.jsx)("path",{
d:"M20.0134 17.8398C19.8366 17.558 19.8172 17.2085 19.9242 16.8935C20.1307 16.2852 20.2371 15.6451 20.2371 15C20.2371 11.691 17.4914 9 14.1166 9C10.7419 9 7.99609 11.691 7.99609 15C7.99609 18.309 10.7419 21 14.1166 21H20.1882C20.9744 21 21.4531 20.1345 21.0353 19.4685L20.0134 17.8398Z",fill:s})]}))}var y=n(473708),m=n(194097),_=n.n(m),g=n(518280),b=n.n(g),v=function(e){var t=e.header,n=e.description,o=e.icon;return(0,r.jsxs)("div",{className:i()(_().row,b().marginBottom8),children:[(0,r.jsx)("div",{className:_().iconContainer,children:o}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Text,{className:_().header,variant:"text-sm/bold",color:"header-primary",children:t}),(0,r.jsx)(a.Text,{variant:"text-xs/medium",color:"header-secondary",children:n})]})]})};const O=function(){var e=(0,u.o)(y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_INCLUDED_HEADER_TEEN,y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_INCLUDED_HEADER_PARENT),t=(0,
u.o)(y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_HEADER_TEEN,y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_HEADER_PARENT),n=(0,u.o)(y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_CONTENT_HEADER_TEEN,y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_CONTENT_HEADER_PARENT),o=(0,u.o)(y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_CONTENT_DESCRIPTION_TEEN,y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_EXCLUDED_CONTENT_DESCRIPTION_PARENT);return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Text,{className:_().groupHeader,variant:"text-xxs/bold",color:"header-secondary",children:e}),(0,r.jsx)(v,{header:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_FRIEND_ADD_HEADER,description:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_FRIEND_ADD_DESCRIPTION,icon:(0,r.jsx)(c.Z,{width:20,height:20,className:_().positive})}),(0,r.jsx)(v,{header:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_GUILD_PARTICIPATION_HEADER,
description:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_GUILD_PARTICIPATION_DESCRIPTION,icon:(0,r.jsx)(l.Z,{width:20,height:20,className:_().positive})}),(0,r.jsx)(v,{header:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_USERS_MESSAGED_HEADER,description:y.Z.Messages.FAMILY_CENTER_DATA_CONFIRMATION_USERS_MESSAGED_DESCRIPTION,icon:(0,r.jsx)(E,{width:20,height:20,className:_().positive})}),(0,r.jsx)(a.Text,{className:_().groupHeader,variant:"text-xxs/bold",color:"header-secondary",children:t}),(0,r.jsx)(v,{header:n,description:o,icon:(0,r.jsx)(s.Z,{width:20,height:20,className:_().negative})})]})}},500351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),s=n(784686),l=n(749565),c=n(720810),u=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const d=function(e){var t=e.user,n=e.fill,o=(0,s.rW)()?"(@".concat(l.ZP.getUserTag(t,{decoration:"never"
}),")"):"#".concat(t.discriminator);return(0,r.jsxs)(a.Text,{className:i()([u().text,f({},u().fill,n)]),variant:"text-md/medium",children:[(0,r.jsx)("span",{className:u().username,children:l.ZP.getName(t)}),(0,r.jsx)("span",{className:u().discriminator,children:o})]})}},22158:(e,t,n)=>{"use strict";n.d(t,{M:()=>zn,Z:()=>Wn});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(289283),l=n(125776),c=n(318715),u=n(418705),f=n(945460),d=n(56148),p=n(189041),h=n(792800),E=n(351330),y=n(283099),m=n(582906),_=n(686874),g=n(64234),b=n(968449),v=n(473903),O=n(443812),I=n(363582),S=n(531441),T=n(652591),N=n(463473),C=n(716993),A=n(58395),P=n(994867),R=n(2590);const j=function(){return{selectedTab:(0,c.ZP)([A.Z],(function(){return A.Z.getSelectedTab()})),handleTabChange:function(e){C.ZP.selectTab(e);T.default.track(R.rMx.FAMILY_CENTER_ACTION,{action:P.YC.TabChange,tab:e})}}};var M=n(191543),w=n(719174),x=n(343862),L=n(58034),D=n(532378),Z=n(841166),U=n(633878);function G(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function H(e){
var t=e.width,n=void 0===t?18:t,o=e.height,i=void 0===o?18:o,a=e.color,s=void 0===a?"currentColor":a,l=B(e,["width","height","color"]);return(0,r.jsxs)("svg",k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){G(e,t,n[t])}))}return e}({},(0,U.Z)(l)),{width:n,height:i,viewBox:"0 0 18 18",children:[(0,r.jsx)("path",{fill:s,d:"M1.8 1.8V6H6V1.8H1.8Zm3 3H3V3h1.8v1.8ZM1.8 12v4.2H6V12H1.8Zm3 3H3v-1.8h1.8V15ZM12 1.8V6h4.2V1.8H12Zm3 3h-1.8V3H15v1.8ZM7.2 1.8V3h2.4v3h1.2V1.8H7.2ZM6 9.6H4.2v1.2H6V9.6Z"}),(0,r.jsx)("path",{fill:s,d:"M7.2 4.2v3H1.8v3.6H3V8.4h5.4V4.2H7.2ZM12.417 10.75c-.92 0-1.667.748-1.667 1.667 0 .92.748 1.666 1.667 1.666s1.666-.747 1.666-1.666c0-.92-.747-1.667-1.666-1.667Z"}),(0,r.jsx)("path",{fill:s,
d:"M15.75 9.5h-.804a.834.834 0 0 1-.694-.37l-.338-.509a.834.834 0 0 0-.693-.371h-1.608a.835.835 0 0 0-.694.37l-.338.51a.833.833 0 0 1-.694.37h-.804a.833.833 0 0 0-.833.833v4.584c0 .46.373.833.833.833h6.667c.46 0 .833-.373.833-.833v-4.584a.834.834 0 0 0-.833-.833Zm-3.333 5.417a2.503 2.503 0 0 1-2.5-2.5c0-1.379 1.12-2.5 2.5-2.5 1.378 0 2.5 1.121 2.5 2.5s-1.122 2.5-2.5 2.5Z"})]}))}var V=n(473708),F=n(381560),Y=n.n(F);function z(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){z(i,r,o,a,s,"next",e)}function s(e){z(i,r,o,a,s,"throw",e)}a(void 0)}))}}function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var q=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)
},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function X(){return(0,r.jsxs)(f.Button,{innerClassName:Y().qrCodeButtonContent,
size:f.Button.Sizes.LARGE,onClick:function(){(0,f.openModalLazy)(W((function(){var e,t;return q(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(1653),n.e(30695)]).then(n.bind(n,230695))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){K(e,t,n[t])}))}return e}({},e))}]}}))})));T.default.track(R.rMx.FAMILY_CENTER_ACTION,{action:P.YC.ShowQRCodeModal})},children:[(0,r.jsx)(H,{}),V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_TEEN_BUTTON]})}var Q=n(801311),$=n.n(Q),J=n(294169),ee=n.n(J),te=n(900571),ne=n.n(te),re=function(){var e=(0,x.mq)(P.ne.ACTIVE),t=(0,w.Z)(),n=j().handleTabChange;return(0,x.VM)()||t&&e.length>0?null:(0,r.jsx)("div",{
className:$().button,children:t?(0,r.jsx)(f.Button,{fullWidth:!1,size:f.ButtonSizes.LARGE,onClick:function(){return n(P.dG.REQUESTS)},children:V.Z.Messages.GET_STARTED}):(0,r.jsx)(X,{})})};const oe=function(){var e=(0,w.Z)(),t=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_ACTIVITY_BANNER_HEADER_TEEN,V.Z.Messages.FAMILY_CENTER_ACTIVITY_BANNER_HEADER_PARENT),n=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_ACTIVITY_BANNER_DESCRIPTION_TEEN.format({articleLink:"https://support.discord.com/hc/articles/14155060633623"}),V.Z.Messages.FAMILY_CENTER_ACTIVITY_BANNER_DESCRIPTION_PARENT.format({articleLink:"https://support.discord.com/hc/articles/14155043715735"}));return(0,r.jsxs)("div",{className:$().container,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:$().headerText,children:[(0,r.jsx)(f.Heading,{variant:"heading-xl/medium",children:(0,r.jsx)(f.HeadingLevel,{children:t})}),(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",children:n})]})}),(0,r.jsx)(re,{})]
}),(0,r.jsx)("div",{className:$().headerImage,children:(0,r.jsx)("img",{src:e?ee():ne(),alt:V.Z.Messages.FAMILY_CENTER_ACTIVITY_BANNER_IMAGE_ALT})})]})};var ie=n(441143),ae=n.n(ie),se=n(895724),le=n(102921),ce=n(318161),ue=n(954160);function fe(e){return(0,c.ZP)([A.Z],(function(){return A.Z.getTotalForDisplayType(e)}))}var de=n(138043),pe=n.n(de);const he=function(e){var t=e.header,n=fe(e.displayType),o=n>0?"text-brand":"text-muted";return(0,r.jsxs)("div",{className:pe().counter,children:[(0,r.jsx)(f.Heading,{variant:"heading-xxl/medium",color:o,children:(0,r.jsx)(f.HeadingLevel,{children:null!=n?n:0})}),(0,r.jsx)(f.Text,{variant:"text-sm/semibold",children:t})]})};var Ee=n(712861),ye=n(206986),me=n(121890),_e=n.n(me),ge=[18,18,16,16,14,12,10];const be=function(e){var t=e.guildId,n=(0,c.ZP)([A.Z],(function(){return A.Z.getGuild(t)}));if(void 0===n)return null;var o=n.hasFeature(R.oNc.VERIFIED)||n.hasFeature(R.oNc.PARTNERED),i=n.toString(),s=n.getIconURL(40,!0),l=null,u=ge[ge.length-1]
;null==n.icon&&null!=i&&(u=function(e){var t;return null!==(t=ge[e.length-1])&&void 0!==t?t:ge[ge.length-1]}(l=(0,Ee.Zg)(i)));return(0,r.jsxs)("div",{className:_e().container,children:[(0,r.jsxs)("div",{style:{fontSize:u},children:[null!=l?(0,r.jsx)("div",{className:a()(_e().childWrapper,_e().acronym),"aria-hidden":!0,children:l}):null,null!=s?(0,r.jsx)(f.Avatar,{src:n.getIconURL(40,!0),size:f.AvatarSizes.SIZE_40,"aria-hidden":!0}):null]}),(0,r.jsxs)("div",{className:_e().descriptors,children:[(0,r.jsxs)("div",{className:_e().header,children:[o?(0,r.jsx)(ye.Z,{guild:n,tooltipPosition:"bottom",tooltipColor:f.Tooltip.Colors.PRIMARY,className:_e().guildBadge}):null,(0,r.jsx)(f.Text,{variant:"text-md/semibold",children:n.toString()})]}),void 0!==n.approximateMemberCount?(0,r.jsx)(f.Text,{variant:"text-xs/medium",color:"text-muted",children:V.Z.Messages.FAMILY_CENTER_ACTIVITY_GUILD_ROW_MEMBER_COUNT.format({members:n.approximateMemberCount})}):null]})]})}
;var ve=n(749565),Oe=n(779224),Ie=n(176697),Se=n.n(Ie);const Te=function(e){var t=e.userId,n=e.timestamp,o=e.timestampFormatter,i=(0,c.ZP)([v.default],(function(){return v.default.getUser(t)}));return void 0===i?null:(0,r.jsxs)("div",{className:Se().container,children:[(0,r.jsx)(Oe.r,{user:i,avatarSize:f.AvatarSizes.SIZE_40}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:Se().descriptors,children:[(0,r.jsx)(f.Text,{variant:"text-md/semibold",children:ve.ZP.getName(i)}),(0,r.jsx)(f.Text,{variant:"text-xs/medium",color:"text-muted",children:(0,ce.LI)(new Date(n).getTime(),o)})]})})]})};var Ne=n(500351),Ce=n(554316),Ae=n.n(Ce),Pe=n(518280),Re=n.n(Pe),je=n(305272),Me=n.n(je);const we=function(e){var t=e.text,n=e.className;return(0,r.jsxs)("div",{className:a()(n,Ae().empty),children:[(0,r.jsx)("img",{className:Ae().image,src:Me(),alt:""}),(0,r.jsx)(f.Text,{className:Re().marginTop8,variant:"text-sm/medium",color:"text-muted",children:t})]})};var xe=n(467171),Le=n.n(xe)
;function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ze(i,r,o,a,s,"next",e)}function s(e){Ze(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Be=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1}
;case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function He(){var e=o.useCallback((function(){(0,f.openModalLazy)(Ue((function(){var e,t;return Be(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(21215)]).then(n.bind(n,21215))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ge(e,t,n[t])}))}return e}({},e))}]}}))})))}),[]);return(0,r.jsx)(f.Clickable,{className:Le().tooltip,onClick:e,children:(0,r.jsx)(se.Z,{className:Le().icon,width:15,height:15})})}function Ve(e){var t=e.displayType,n=o.useCallback((function(){(0,f.showToast)((0,f.createToast)(V.Z.Messages.FAMILY_CENTER_ERROR_GENERIC_TOAST,f.ToastType.FAILURE))}),[]),i=(0,w.Z)(),a=function(e){return(0,c.Wu)([A.Z],(function(){return A.Z.getActionsForDisplayType(e)}))}(t),s=fe(t),l=(0,ue.G)({onError:n}),u=l.loadMore,d=l.isMoreLoading,p=P.tx.get(t),h=ke(o.useState(P.iB),2),E=h[0],y=h[1],m=o.useCallback((function(){y((function(e){return e+P.iB}));u(t)}),[t,u]);ae()(p,"No text for action type");var _=p.sectionHeader(s),g=o.useCallback((function(e){var t=e.row,n=a[t];return(0,ce.iB)(n)?(0,r.jsx)(Te,{userId:n.entity_id,timestamp:le.Z.extractTimestamp(n.event_id),timestampFormatter:p.timestampFormatter},n.event_id):(0,
ce.f0)(n)?(0,r.jsx)(be,{guildId:n.entity_id},n.event_id):void 0}),[a,p.timestampFormatter]),b=o.useCallback((function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Text,{className:Le().sectionHeader,variant:"eyebrow",color:"header-secondary",children:_}),void 0!==p.sectionDescription?(0,r.jsx)(f.Text,{className:Le().sectionDescription,variant:"text-md/medium",color:"text-muted",children:p.sectionDescription(null!=i&&i)}):null]})}),[_,p,i]);if(0===a.length)return null;var v=a.slice(0,E);return(0,r.jsxs)("div",{className:Le().actionSection,children:[b(),(0,r.jsx)("div",{className:Le().actions,style:{maxHeight:65*v.length},children:v.map((function(e,t){return g({row:t})}))}),v.length!==s?(0,r.jsx)(f.Clickable,{className:Le().loadMoreBar,onClick:m,role:"button",children:d?(0,r.jsx)(f.Spinner,{type:f.Spinner.Type.PULSING_ELLIPSIS,className:Le().spinner}):(0,r.jsx)(f.Text,{className:Le().loadMore,variant:"text-sm/bold",children:V.Z.Messages.FAMILY_CENTER_ACTIVITY_MORE.format({
pageSize:Math.min(s-v.length,P.iB)})})}):null]})}var Fe=function(){var e=(0,w.Z)(),t=(0,x.mq)(P.ne.ACTIVE),n=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_PREFACE_TEEN.format({activeLinks:t.length}),V.Z.Messages.FAMILY_CENTER_ACTIVITY_OVERVIEW_PREFACE_PARENT),o=(0,ce.Qr)(!!e),i=(0,x.Rd)(o);return e&&t.length>1?(0,r.jsx)(f.Text,{variant:"eyebrow",children:i}):(0,r.jsxs)(r.Fragment,{children:[e?null:(0,r.jsx)(D.Z,{className:Le().icon}),(0,r.jsx)(f.Text,{variant:"eyebrow",children:n})]})},Ye=function(e){var t=e.userId,n=e.subText,o=e.avatarSize,i=void 0===o?f.AvatarSizes.SIZE_40:o,a=function(e){return(0,c.ZP)([v.default],(function(){var t=v.default.getUser(e);if(null!=t)return t}))}(t);return void 0===a?null:(0,r.jsxs)("div",{className:Le().accountRow,children:[(0,r.jsx)(Oe.r,{user:a,avatarSize:i}),(0,r.jsxs)("div",{className:Le().headerText,children:[(0,r.jsx)(Ne.Z,{user:a}),void 0!==n?(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",children:n}):null]})]})
},ze=function(){var e=(0,x.mq)(P.ne.ACTIVE),t=(0,c.ZP)([A.Z],(function(){return A.Z.getSelectedTeenId()})),n=(0,ue.G)({}).selectTeenUser,i=e.map((function(e){return{label:e.id,value:e.id}})),a=o.useCallback((function(e){return(0,r.jsx)(Ye,{userId:e.value,avatarSize:f.AvatarSizes.SIZE_24})}),[]);return(0,r.jsx)(f.Select,{className:Le().select,renderOptionLabel:a,renderOptionValue:function(e){var t=ke(e,1)[0];return a(t)},serialize:function(e){return e},select:function(e){n(e);T.default.track(R.rMx.FAMILY_CENTER_ACTION,{action:P.YC.SelectTeen})},isSelected:function(e){return e===t},options:i})},We=function(e){var t=e.userId,n=(0,w.Z)(),o=(0,x.mq)(P.ne.ACTIVE),i=(0,ce.Qr)(!!n),a=(0,x.Rd)(i);return n&&1!==o.length?(0,r.jsx)(ze,{}):(0,r.jsx)(Ye,{userId:t,subText:a})};const Ke=function(e){var t=e.user,n=Array.from(P.tx.entries()),o=(0,c.ZP)([A.Z],(function(){return Object.values(P.MY).some((function(e){return A.Z.getTotalForDisplayType(e)>0}))})),i=(0,ce.t3)(),a=(0,x.Rd)(i);return(0,
r.jsxs)("div",{className:Le().container,children:[(0,r.jsxs)("div",{className:Le().connectedCounter,children:[(0,r.jsx)(Fe,{}),(0,r.jsx)(He,{})]}),(0,r.jsxs)("div",{className:Le().card,children:[(0,r.jsx)("div",{className:Le().header,children:(0,r.jsx)(We,{userId:t.id})}),(0,r.jsxs)("div",{className:Le().content,children:[(0,r.jsx)("div",{className:Le().activityCounterRow,children:n.map((function(e){var t=ke(e,2),n=t[0],o=t[1];return(0,r.jsx)(he,{displayType:n,header:o.tooltipHeader()},"counter-".concat(n))}))}),(0,r.jsx)("div",{className:Le().activityOverview,children:o?n.map((function(e){var t=ke(e,1)[0];return(0,r.jsx)(Ve,{displayType:t},"".concat(t,"-list"))})):(0,r.jsx)(we,{className:Le().emptyActivity,text:null!=a?a:""})})]})]})]})};var qe=n(35854),Xe=n(758499),Qe=n.n(Xe),$e=n(630228),Je=n.n($e);const et=function(){var e=(0,
Z.o)(V.Z.Messages.FAMILY_CENTER_ACTIVITY_DATA_CONFIRMATION_BANNER_DESCRIPTION_TEEN,V.Z.Messages.FAMILY_CENTER_ACTIVITY_DATA_CONFIRMATION_BANNER_DESCRIPTION_PARENT);return(0,r.jsxs)("div",{className:Qe().container,children:[(0,r.jsxs)("div",{className:Qe().content,children:[(0,r.jsx)(f.Heading,{className:Qe().header,variant:"heading-md/bold",children:(0,r.jsx)(f.HeadingLevel,{children:V.Z.Messages.FAMILY_CENTER_ACTIVITY_DATA_CONFIRMATION_BANNER_HEADER})}),(0,r.jsx)(f.Text,{className:Qe().description,variant:"text-sm/medium",color:"text-muted",children:e}),(0,r.jsx)(qe.Z,{})]}),(0,r.jsx)("div",{className:Qe().artContainer,children:(0,r.jsx)("img",{src:Je(),alt:V.Z.Messages.FAMILY_CENTER_ACTIVITY_DATA_CONFIRMATION_BANNER_ALT})})]})};var tt=n(762633),nt=n.n(tt);const rt=function(e){var t=e.icon,n=e.iconClassName,o=e.header,i=e.description;return(0,r.jsxs)("div",{className:nt().container,children:[(0,r.jsx)("div",{className:nt().circle,children:(0,r.jsx)(t,{className:a()(nt().icon,n),
width:21,height:21})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Heading,{variant:"heading-md/bold",className:nt().header,children:(0,r.jsx)(f.HeadingLevel,{children:o})}),(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",children:i})]})]})};function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function it(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function at(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])
}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function st(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,s=void 0===a?"currentColor":a,l=e.foreground,c=at(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",it(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ot(e,t,n[t])}))}return e}({},(0,U.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M2.36002 2.35999V7.39991H7.39994V2.35999H2.36002ZM5.96009 5.96006H3.80009V3.80006H5.96009V5.96006Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{
d:"M2.36002 14.5999V19.6401H7.39994V14.5999H2.36002ZM5.96009 18.2002H3.80009V16.0402H5.96009V18.2002Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M14.6001 2.35999V7.39991H19.64V2.35999H14.6001ZM18.2 5.96006H16.04V3.80006H18.2V5.96006Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M18.2 8.84003V13.16H14.6001V14.5999H19.64V8.84003H18.2Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M14.6001 16.0402V19.64H16.04V17.48H18.2V19.64H19.64V16.0402H14.6001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M8.84006 2.35999V3.80006H11.72V7.39991H13.1601V2.35999H8.84006Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M11.72 8.84003V11.7202H8.84006V16.0402H11.72V19.64H13.1601V14.5999H10.2801V13.16H13.1601V10.2801H14.6001V11.7202H16.04V8.84003H11.72Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{
d:"M10.2801 17.48H8.84006V19.64H10.2801V17.48Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M7.39999 11.7202H5.23999V13.1601H7.39999V11.7202Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l}),(0,r.jsx)("path",{d:"M8.84001 5.23999V8.84006H2.36002V13.1601H3.80009V10.2801H10.2801V5.23999H8.84001Z",fill:s,fillRule:"evenodd",clipRule:"evenodd",className:l})]}))}var lt=n(757949),ct=n.n(lt);const ut=function(){var e,t=(0,x.mq)(P.ne.ACTIVE),n=(e=(0,w.Z)(),(0,c.ZP)([A.Z,v.default],(function(){if(!e)return v.default.getCurrentUser();var t=A.Z.getSelectedTeenId();return null!==t?v.default.getUser(t):void 0}))),o=(0,c.ZP)([v.default],(function(){return v.default.getCurrentUser()})),i=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_MESSAGES_DESCRIPTION_TEEN,V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_MESSAGES_DESCRIPTION_PARENT),a=(0,
Z.o)(V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_SHARING_DESCRIPTION_TEEN,V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_SHARING_DESCRIPTION_PARENT),s=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_PAIRING_DESCRIPTION_TEEN,V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_PAIRING_DESCRIPTION_PARENT);return void 0===o?null:(0,r.jsxs)("div",{className:ct().container,children:[(0,r.jsx)("div",{className:ct().banner,children:(0,r.jsx)(oe,{})}),(0,r.jsxs)("div",{className:ct().featureCards,children:[(0,r.jsx)(rt,{iconClassName:ct().chatCheckIcon,icon:L.Z,header:V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_MESSAGES_HEADER,description:i}),(0,r.jsx)(rt,{icon:D.Z,header:V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_SHARING_HEADER,description:a}),(0,r.jsx)(rt,{icon:st,header:V.Z.Messages.FAMILY_CENTER_FEATURE_CARD_PAIRING_HEADER,description:s})]}),0===t.length?(0,r.jsx)(et,{}):null,void 0!==n&&t.length>0?(0,r.jsx)(Ke,{user:n}):null]})}
;var ft=n(457217),dt=n(106200),pt=n(202237),ht=n(562205),Et=n(384411),yt=new Set(["US"]),mt=new Set(["en-US","es-ES"]),_t=n(189865),gt=n(897746),bt=n.n(gt);function vt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ot(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function It(e){var t=e.icon,n=e.tooltip,o=e.onClick,i=e.className,s=function(e){e.preventDefault();e.stopPropagation();o(e)};return(0,r.jsx)(f.Tooltip,{text:n,children:function(e){return(0,r.jsx)(f.Clickable,Ot(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vt(e,t,n[t])}))}return e}({},e),{"aria-label":n,onClick:s,className:a()(bt().actionButton,i),children:(0,r.jsx)(t,{className:bt().icon})}))}})}var St=n(841379),Tt=n(995141),Nt=n(89836),Ct=n(310126),At=n(984136),Pt=n.n(At);function Rt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rt(e,t,n[t])}))}return e}function Mt(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var wt=Ct.default.getEnableHardwareAcceleration()?f.AnimatedAvatar:f.Avatar;function xt(e){var t=e.otherUser,n=e.status,o=e.active,i=(0,x.j_)(t.id,n),a=(0,Nt.w)({user:t,size:(0,f.getAvatarSize)(f.AvatarSizes.SIZE_40)}),s=a.avatarSrc,l=a.isAvatarAnimating,c=a.eventHandlers,u=(0,St.Z)({user:t,size:(0,Tt.y)(f.AvatarSizes.SIZE_40),canAnimate:o||l});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Mt(jt({},c),{children:(0,r.jsx)(wt,{className:Pt().avatar,src:s,avatarDecoration:u,size:f.AvatarSizes.SIZE_40,"aria-label":t.username})})),(0,r.jsxs)("div",{
className:Pt().userPreview,children:[(0,r.jsx)("div",{className:Pt().userContainerWithTimestamp,children:(0,r.jsx)(Ne.Z,{user:t})}),(0,r.jsx)(f.Text,{className:Pt().timestamp,color:"text-muted",variant:"text-xs/normal",children:i})]})]})}var Lt=n(482699),Dt=n.n(Lt);function Zt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zt(i,r,o,a,s,"next",e)}function s(e){Zt(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Bt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break
}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ht(e){var t=e.active,i=e.user,a=(0,c.ZP)([v.default],(function(){return v.default.getCurrentUser()})),s=o.useCallback((function(){ae()(void 0!==a,"User must be logged in to accept a link request");(0,f.openModalLazy)(Ut((function(){var e,t;return Bt(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(50562)]).then(n.bind(n,250562))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,kt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Gt(e,t,n[t])}))}return e}({},e),{currentUser:a,otherUser:i}))}]}}))})))}),[a,i]);return(0,r.jsxs)("div",{className:Dt().container,children:[(0,r.jsx)("div",{className:Dt().details,children:(0,r.jsx)(xt,{otherUser:i,active:t,status:P.ne.ACTIVE})}),(0,r.jsx)("div",{className:Dt().actions,children:(0,r.jsx)(It,{icon:_t.Z,className:Dt().actionDeny,tooltip:V.Z.Messages.FAMILY_CENTER_LINK_ACTION_DISCONNECT,onClick:s})})]})}var Vt=n(621329);function Ft(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function Yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ft(i,r,o,a,s,"next",e)}function s(e){Ft(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wt(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zt(e,t,n[t])}))}return e}function Kt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var qt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Xt(e){var t=e.active,i=e.user,a=(0,w.Z)(),s=(0,x.VM)(),l=(0,c.ZP)([v.default],(function(){return v.default.getCurrentUser()})),u=o.useCallback((function(){
ae()(void 0!==l,"User must be logged in to accept a link request");(0,f.openModalLazy)(Yt((function(){var e,t;return qt(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(457)]).then(n.bind(n,600457))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Kt(Wt({},e),{currentUser:l,otherUser:i}))}]}}))})))}),[l,i]),d=o.useCallback((function(){ae()(void 0!==l,"User must be logged in to decline a link request");(0,f.openModalLazy)(Yt((function(){var e,t;return qt(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(20737)]).then(n.bind(n,420737))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Kt(Wt({},e),{currentUser:l,otherUser:i}))}]}}))})))}),[l,i]),p=o.useCallback((function(){ae()(void 0!==l,"User must be logged in to decline a link request");(0,f.openModalLazy)(Yt((function(){var e,t;return qt(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(39876)]).then(n.bind(n,139876))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Kt(Wt({},e),{currentUser:l,otherUser:i}))}]}}))})))}),[l,i]);return(0,r.jsxs)("div",{className:Dt().container,children:[(0,r.jsx)("div",{className:Dt().details,children:(0,r.jsx)(xt,{otherUser:i,active:t,status:P.ne.PENDING})}),(0,r.jsx)("div",{className:Dt().actions,children:a?(0,r.jsx)(It,{icon:_t.Z,className:Dt().actionDeny,tooltip:V.Z.Messages.FAMILY_CENTER_LINK_ACTION_CANCEL,onClick:p}):(0,r.jsxs)(r.Fragment,{children:[s?null:(0,r.jsx)(It,{icon:Vt.Z,className:Dt().actionAccept,tooltip:V.Z.Messages.FAMILY_CENTER_LINK_ACTION_ACCEPT,onClick:u}),(0,r.jsx)(It,{icon:_t.Z,className:Dt().actionDeny,tooltip:V.Z.Messages.FAMILY_CENTER_LINK_ACTION_DECLINE,onClick:d})]})})]})}var Qt=n(647446),$t=n(853158),Jt=n(924417),en=n(129290),tn=n.n(en);function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function rn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rn(e,t,n[t])}))}return e}function an(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ln=function(e){var t=e.userId,n=e.children,i=e.isLast,s=e.className,l=sn(o.useState(!1),2),c=l[0],u=l[1],f=o.useCallback((function(){(0,Jt.m)({userId:t,analyticsLocation:{section:R.jXE.FAMILY_CENTER}})
}),[t]),d=function(){u(!0)},p=function(){u(!1)};return(0,r.jsx)(ft.mh,{id:t,children:function(e){var t;return(0,r.jsx)(Qt.tE,{offset:{left:-8,right:-8},children:(0,r.jsx)($t.Z.div,an(on({style:{opacity:1},className:a()(tn().rowItem,s,(t={},rn(t,tn().last,i),rn(t,tn().active,c),t)),onMouseEnter:d,onMouseLeave:p,onClick:f},e),{children:n(c)}))})}})};var cn=n(74110),un=n.n(cn),fn=n(834029),dn=n.n(fn);function pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function hn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function En(e){var t=e.header,n=e.description,o=e.stepNumber;return(0,r.jsxs)("div",{
className:un().step,children:[(0,r.jsx)("div",{className:un().stepNumber,children:(0,r.jsx)(f.Heading,{variant:"heading-md/semibold",color:"text-brand",children:(0,r.jsx)(f.HeadingLevel,{children:o})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(f.Heading,{variant:"heading-sm/bold",children:(0,r.jsx)(f.HeadingLevel,{children:t})}),(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",children:n})]})]})}function yn(){return(0,r.jsxs)("div",{className:a()(un().box,un().linkingBanner,un().linkingBannerParent),children:[(0,r.jsxs)("div",{className:a()(un().linkingBannerUpper),children:[(0,r.jsxs)("div",{className:un().header,children:[(0,r.jsx)(f.Heading,{className:Re().marginBottom8,variant:"heading-xl/medium",children:(0,r.jsx)(f.HeadingLevel,{children:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_HEADER})}),(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",className:Re().marginBottom20,
children:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_DESCRIPTION_PARENT})]}),(0,r.jsx)("img",{className:un().bannerArt,src:dn(),alt:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_TEEN_ASSET_ALT})]}),(0,r.jsxs)("div",{className:un().steps,children:[(0,r.jsx)(En,{header:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_1_HEADER,description:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_1_DESCRIPTION,stepNumber:1}),(0,r.jsx)(En,{header:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_2_HEADER,description:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_2_DESCRIPTION,stepNumber:2}),(0,r.jsx)(En,{header:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_3_HEADER,description:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_PARENT_STEP_3_DESCRIPTION,stepNumber:3})]})]})}function mn(){var e=(0,x.VM)();return(0,r.jsxs)("div",{className:a()(un().box,un().linkingBanner),children:[(0,r.jsxs)("div",{children:[(0,
r.jsx)(f.Heading,{className:Re().marginBottom8,variant:"heading-xl/medium",children:(0,r.jsx)(f.HeadingLevel,{children:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_HEADER_TEEN})}),(0,r.jsx)(f.Text,{variant:"text-sm/medium",color:"text-muted",className:Re().marginBottom20,children:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_DESCRIPTION_TEEN.format({link:"https://support.discord.com/hc/articles/14155060633623"})}),e?null:(0,r.jsx)(X,{})]}),(0,r.jsx)("img",{className:un().bannerArt,src:dn(),alt:V.Z.Messages.FAMILY_CENTER_REQUESTS_LINKING_BANNER_TEEN_ASSET_ALT})]})}function _n(e){var t=e.sectionType,n=e.sectionTitle,i=e.requests,a=o.useRef(null),s="".concat(t,"-list"),l=(0,dt.Z)(s),c=o.useCallback((function(e){var n=e.row,o=e.listIndex,a=i[n],s=o===i.length;return null==a?null:(0,r.jsx)(ln,{userId:a.id,isLast:s,children:function(e){return t===P.ne.ACTIVE?(0,r.jsx)(Ht,{active:e,user:a}):(0,r.jsx)(Xt,{active:e,user:a})}},a.id)}),[i,t]),u=o.useCallback((function(){return(0,
r.jsx)(pt.Z,{className:un().sectionTitle,children:(0,r.jsx)(f.Text,{className:Re().marginBottom8,variant:"eyebrow",color:"header-secondary",children:n})},"title")}),[n]);return(0,r.jsx)("div",{className:un().section,children:(0,r.jsx)(ft.bG,{navigator:l,children:(0,r.jsx)(ft.SJ,{children:function(e){var t=e.ref,o=e.role,l=hn(e,["ref","role"]);return(0,r.jsx)(f.List,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pn(e,t,n[t])}))}return e}({className:un().list,innerRole:o,innerAriaLabel:n,ref:function(e){a.current=e;var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null},sectionHeight:P.zE,rowHeight:P.ip,renderSection:u,renderRow:c,sections:[i.length],chunkSize:30,fade:!0},l),s)}})})})}var gn=function(){var e=(0,
w.Z)(),t=(0,x.mq)(P.ne.ACTIVE),n=e?P.AG:P.i0,o={count:t.length,max:n},i=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_ACCEPTED_REQUESTS_TITLE_TEEN.format(o),V.Z.Messages.FAMILY_CENTER_ACCEPTED_REQUESTS_TITLE_PARENT.format(o));return(0,r.jsx)(r.Fragment,{children:t.length>0?(0,r.jsx)(_n,{sectionType:P.ne.ACTIVE,sectionTitle:i,requests:t}):(0,r.jsxs)("div",{className:un().section,children:[(0,r.jsx)(f.Text,{className:Re().marginBottom8,variant:"eyebrow",color:"header-secondary",children:i}),(0,r.jsx)("div",{className:un().box,children:(0,r.jsx)(we,{text:V.Z.Messages.FAMILY_CENTER_ACCEPTED_REQUESTS_EMPTY_DESCRIPTION})})]})})},bn=function(){var e=(0,x.VM)(),t=(0,w.Z)()?P.AG:P.i0,n=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_REQUESTS_LIMIT_INFO_TEEN.format({maxConnections:t}),V.Z.Messages.FAMILY_CENTER_REQUESTS_LIMIT_INFO_PARENT.format({maxConnections:t}));return e?(0,r.jsx)("div",{className:un().maxConnectionInfo,children:(0,r.jsx)(f.Text,{variant:"text-xxs/medium",color:"text-muted",children:n})}):null
},vn=function(){return function(){var e=(0,w.Z)(),t=(0,c.ZP)([A.Z],(function(){return A.Z.getUserCountry()})),n=(0,c.ZP)([Et.default],(function(){return Et.default.locale}));o.useEffect((function(){null==t&&(0,ht.hi)()}),[t]);return!e&&null!=t&&yt.has(t.alpha2)&&mt.has(n)}()?(0,r.jsxs)("div",{className:a()(un().helpLineInfo,Re().marginTop20),children:[(0,r.jsx)(f.Heading,{className:un().supportHeader,variant:"heading-sm/semibold",children:(0,r.jsx)(f.HeadingLevel,{children:V.Z.Messages.FAMILY_CENTER_HELP_LINE_HEADER})}),(0,r.jsx)(f.Text,{variant:"text-xs/medium",color:"text-muted",children:V.Z.Messages.FAMILY_CENTER_HELP_LINE_CONTENT.format({helpLink:"https://support.discord.com/hc/articles/7925648993943-Crisis-Text-Line"})})]}):null},On=function(){var e=(0,x.mq)(P.ne.PENDING),t=(0,Z.o)(V.Z.Messages.FAMILY_CENTER_PENDING_REQUESTS_TITLE_TEEN.format({count:e.length}),V.Z.Messages.FAMILY_CENTER_PENDING_REQUESTS_TITLE_PARENT.format({count:e.length}));return 0===e.length?null:(0,r.jsx)(_n,{
sectionType:P.ne.PENDING,sectionTitle:t,requests:e})};const In=function(){var e=(0,w.Z)();return(0,r.jsxs)("div",{className:un().container,children:[e?(0,r.jsx)(yn,{}):(0,r.jsx)(mn,{}),(0,r.jsx)(gn,{}),(0,r.jsx)(On,{}),(0,r.jsx)(bn,{}),(0,r.jsx)(vn,{})]})};var Sn=n(473727),Tn=n(540110),Nn=n(202351),Cn=n(735885),An=n(678851),Pn=n(96483),Rn=n(177001),jn=n(42261),Mn=n(16400),wn=n.n(Mn);const xn=function(){var e=b.Ex.useSetting(),t=(0,Nn.cj)([Pn.Z],(function(){return Pn.Z.getEmailSettings()})),n=t.categories,i=t.initialized;o.useEffect((function(){null==i&&(0,An.Y7)()}),[i]);return(0,r.jsxs)("div",{className:wn().container,children:[(0,r.jsx)(f.Text,{variant:"eyebrow",color:"text-muted",children:V.Z.Messages.FAMILY_CENTER_SETTINGS_FORM_TITLE}),(0,r.jsx)(f.FormSwitch,{className:a()(Re().marginTop8,Re().marginBottom20),value:e,note:V.Z.Messages.FAMILY_CENTER_SETTINGS_ENABLE_SWITCH_NOTE,hideBorder:!0,onChange:b.Ex.updateSetting,children:V.Z.Messages.FAMILY_CENTER_SETTINGS_ENABLE_SWITCH
}),e?(0,r.jsx)(f.Card,{className:wn().enableCard,type:f.Card.Types.CUSTOM,outline:!0,children:(0,r.jsxs)(Tn.Z,{justify:Tn.Z.Justify.END,children:[(0,r.jsx)(Tn.Z.Child,{children:(0,r.jsx)(f.Text,{variant:"text-sm/semibold",color:"text-normal",children:V.Z.Messages.FAMILY_CENTER_SETTINGS_ENABLE_PROMPT})}),(0,r.jsx)(f.Clickable,{children:(0,r.jsx)(Sn.rU,{onClick:Cn.xf,to:{pathname:R.Z5c.FAMILY_CENTER,state:{scrollRestoration:!1}},children:V.Z.Messages.FAMILY_CENTER_SETTINGS_ENABLE_CTA})}),(0,r.jsx)(S.G2,{icon:Rn.Z,className:wn().arrow,disableColor:!0})]})}):null,(0,r.jsx)(f.FormSwitch,{className:a()(Re().marginTop20,Re().marginBottom20),value:!!n[jn.$Z.FAMILY_CENTER_DIGEST],note:V.Z.Messages.FAMILY_CENTER_SETTINGS_EMAIL_DIGEST_ENABLE_SWITCH_NOTE,hideBorder:!0,onChange:function(e){(0,An.pR)(jn.$Z.FAMILY_CENTER_DIGEST,e)},children:V.Z.Messages.FAMILY_CENTER_SETTINGS_EMAIL_DIGEST_ENABLE_SWITCH})]})};var Ln,Dn=n(561210),Zn=n(458947),Un=n(967146),Gn=n.n(Un);function kn(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Bn,Hn=(kn(Ln={},P.dG.REQUESTS,(function(){return(0,r.jsx)(In,{})})),kn(Ln,P.dG.ACTIVITY,(function(){return(0,r.jsx)(ut,{})})),kn(Ln,P.dG.SETTINGS,(function(){return(0,r.jsx)(xn,{})})),Ln),Vn=(kn(Bn={},P.dG.REQUESTS,(function(){return(0,r.jsx)(In,{})})),kn(Bn,P.dG.ACTIVITY,(function(){return(0,r.jsx)(ut,{})})),Bn);function Fn(e){var t=e.section,n=e.handleItemSelect,o=(0,x.TQ)(),i=(0,w.Z)();return(0,r.jsxs)(f.TabBar,{className:Gn().settingsTabBar,"aria-label":V.Z.Messages.FAMILY_CENTER_TITLE,selectedItem:t,type:"top",look:"brand",onItemSelect:n,children:[(0,r.jsx)(f.TabBar.Item,{className:Gn().settingsTabBarItem,id:P.dG.ACTIVITY,children:V.Z.Messages.FAMILY_CENTER_ACTIVITY_TAB}),(0,r.jsxs)(f.TabBar.Item,{className:Gn().settingsTabBarItem,id:P.dG.REQUESTS,"aria-label":V.Z.Messages.FAMILY_CENTER_REQUESTS_TAB,children:[V.Z.Messages.FAMILY_CENTER_REQUESTS_TAB,o>0?(0,r.jsx)(S.mA,{
className:Gn().badge,count:o}):null]}),i?(0,r.jsx)(f.TabBar.Item,{className:Gn().settingsTabBarItem,id:P.dG.SETTINGS,children:V.Z.Messages.SETTINGS}):null]})}function Yn(e){var t=e.theme,n=e.section,o=e.handleItemSelect,i=(0,O.Dt)(),a=(0,x.TQ)();return(0,r.jsxs)(y.Z,{className:(0,N.Q)(t),scrollable:s.tq,role:"navigation","aria-labelledby":i,toolbar:!0,children:[(0,r.jsx)(y.Z.Icon,{icon:I.Z,"aria-hidden":!0}),(0,r.jsx)(y.Z.Title,{id:i,children:V.Z.Messages.FAMILY_CENTER_TITLE}),(0,r.jsx)(y.Z.Divider,{}),(0,r.jsxs)(f.TabBar,{"aria-label":V.Z.Messages.FAMILY_CENTER_TITLE,selectedItem:n,type:"top-pill",onItemSelect:o,className:Gn().tabBar,children:[(0,r.jsx)(f.TabBar.Item,{id:P.dG.ACTIVITY,className:Gn().item,children:V.Z.Messages.FAMILY_CENTER_ACTIVITY_TAB}),(0,r.jsxs)(f.TabBar.Item,{id:P.dG.REQUESTS,className:Gn().item,"aria-label":V.Z.Messages.FAMILY_CENTER_REQUESTS_TAB,children:[V.Z.Messages.FAMILY_CENTER_REQUESTS_TAB,a>0?(0,r.jsx)(S.mA,{className:Gn().badge,count:a}):null]})]})]})}
function zn(){var e=(0,w.Z)(),t=(0,x.M8)(),n=(0,E.wE)(u.z$.FAMILY_CENTER_NEW_BADGE),i=(0,c.ZP)([A.Z],(function(){return A.Z.getIsInitialized()})),s=(0,M.M)(),y=j(),g=y.selectedTab,b=y.handleTabChange,I=(0,O.Dt)(),S=v.default.getCurrentUser(),N=null!=e,L=i&&null!=S&&!N;o.useEffect((function(){d.Y(R.Z5c.FAMILY_CENTER);(0,_.e)("family-center");C.ZP.initialPageLoad();n||(0,E.EW)(u.z$.FAMILY_CENTER_NEW_BADGE,{dismissAction:Zn.L.AUTO,forceTrack:!0})}),[]);o.useEffect((function(){if(i&&N){T.default.track(R.rMx.FAMILY_CENTER_VIEWED,{is_considered_adult:e,num_of_accepted_links:t,selected_teen_id:s,initial_page:P.QH[g],source:P._6[P.Mu.SIDENAV]});m.Z.increment({name:l.V.FAMILY_CENTER_VIEW})}}),[i,N]);if(L){(0,p.mN)(Dn.L0.FAMILY_CENTER);return null}return(0,r.jsxs)("main",{className:a()(Gn().container),"aria-label":V.Z.Messages.FAMILY_CENTER_TITLE,children:[(0,r.jsx)(h.yY,{location:V.Z.Messages.FAMILY_CENTER_TITLE}),(0,r.jsx)(Fn,{section:g,handleItemSelect:function(e){b(e)}}),(0,
r.jsx)(f.TabBar.Panel,{id:g,"aria-labelledby":I,className:Gn().contentPanel,children:(0,r.jsx)("div",{children:Hn[g]()})})]})}function Wn(){var e=(0,w.Z)(),t=(0,x.M8)(),n=(0,E.wE)(u.z$.FAMILY_CENTER_NEW_BADGE),i=(0,c.ZP)([A.Z],(function(){return A.Z.getIsInitialized()})),s=(0,M.M)(),y=(0,c.ZP)([g.Z],(function(){return g.Z.theme})),I=j(),S=I.selectedTab,N=I.handleTabChange,L=(0,O.Dt)(),D=v.default.getCurrentUser(),Z=null!=e,U=i&&null!=D&&!Z;o.useEffect((function(){d.Y(R.Z5c.FAMILY_CENTER);(0,_.e)("family-center");!A.Z.isLoading()&&A.Z.canRefetch()&&C.ZP.initialPageLoad();n||(0,E.EW)(u.z$.FAMILY_CENTER_NEW_BADGE,{dismissAction:Zn.L.AUTO,forceTrack:!0})}),[]);o.useEffect((function(){if(i&&Z){T.default.track(R.rMx.FAMILY_CENTER_VIEWED,{is_considered_adult:e,num_of_accepted_links:t,selected_teen_id:s,initial_page:P.QH[S],source:P._6[P.Mu.SIDENAV]});m.Z.increment({name:l.V.FAMILY_CENTER_VIEW})}}),[i,Z]);o.useEffect((function(){var t=b.Ex.getSetting();i&&e&&void 0===t&&b.Ex.updateSetting(!0)
}),[i,e]);if(U){(0,p.mN)(Dn.L0.FAMILY_CENTER);return null}var G=S!==P.dG.SETTINGS?S:P.dG.ACTIVITY,k=Vn[G];return(0,r.jsxs)("main",{className:a()(Gn().container,Gn().containerSidenav),"aria-label":V.Z.Messages.FAMILY_CENTER_TITLE,children:[(0,r.jsx)(h.yY,{location:V.Z.Messages.FAMILY_CENTER_TITLE}),(0,r.jsx)(Yn,{theme:y,section:G,handleItemSelect:function(e){N(e)}}),(0,r.jsx)(f.TabBar.Panel,{id:G,"aria-labelledby":L,className:Gn().contentPanel,children:(0,r.jsx)("div",{className:Gn().sideNavContent,children:k()})})]})}},560837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(202351),o=n(744564),i=n(335186);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u,f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var p=(0,i.K4)();function h(e){var t=e.countryCode;if(null!=t){var n;p=null!==(n=(0,i.Zz)(t))&&void 0!==n?n:(0,i.K4)()}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(u=e.selectedCountryCode)};r.getUserAgnosticState=function(){return{selectedCountryCode:u}};r.getCountryCode=function(){return null!=u?u:p};r.__getLocalVars=function(){return{selectedCountryCode:u,defaultCountryCode:p}};return n}(r.ZP.DeviceSettingsStore);E.displayName="PhoneStore";E.persistKey="PhoneStore";const y=new E(o.Z,{PHONE_SET_COUNTRY_CODE:function(e){var t=e.countryCode;u=t},CONNECTION_OPEN:h,SET_LOCATION_METADATA:h})},998330:(e,t,n)=>{"use strict";n.d(t,{D:()=>_,T:()=>m});var r=n(785893),o=n(667294),i=n(945460),a=n(744564),s=n(494425),l=n(294184),c=n.n(l),u=n(530991),f=n(17229),d=n(510036),p=n.n(d),h=function(e){var t=e.color;return(0,r.jsxs)("svg",{width:"48",height:"28",viewBox:"0 0 55 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,
r.jsx)("rect",{x:"10.1968",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 10.1968 7)",className:p().toastBG}),(0,r.jsx)("rect",{x:"27.3936",y:"0.59021",width:"23.4851",height:"23.4851",transform:"rotate(45 27.3936 0.59021)",className:p().toastBG}),(0,r.jsx)("rect",{x:"44.5903",y:"7",width:"14.4203",height:"14.4203",transform:"rotate(45 44.5903 7)",className:p().toastBG}),(0,r.jsx)("rect",{x:"10.1968",y:"13",width:"6",height:"6",transform:"rotate(45 10.1968 13)",fill:t}),(0,r.jsx)("path",{d:"M27.3936 4.39355L34.1233 16.2873L27.3936 28.1811L20.6638 16.2873L27.3936 4.39355Z",fill:t}),(0,r.jsx)("rect",{x:"44.5903",y:"13",width:"6",height:"6",transform:"rotate(45 44.5903 13)",fill:t})]})};function E(e){var t=e.achievement,n=e.unlocked,a=t.name,l=t.description,d=t.rarity,E=t.hideDescriptionUntilUnlock,y=t.onAction,m=(0,s.F7)(d).color;o.useEffect((function(){var e=setTimeout((function(){u.Z.playAchievementUnlockSound()}),50);return function(){clearTimeout(e)}}),[])
;var _=null!=y&&n,g=_?i.Clickable:"div";return(0,r.jsxs)(g,{className:c()(p().container,_&&p().actionable),onClick:function(){_&&y()},children:[(0,r.jsx)("div",{className:p().iconContainer,children:(0,r.jsx)(f.Z,{achievementId:t.id,size:f.Z.Sizes.SIZE_40,unlocked:n})}),(0,r.jsxs)("div",{className:p().nameContainer,children:[(0,r.jsx)(i.Text,{variant:"text-md/semibold",color:"header-primary",children:a()}),(0,r.jsx)(i.Text,{variant:"text-xs/medium",color:"header-secondary",children:E&&!n?"?????":l()})]}),(0,r.jsx)("div",{className:p().flair,children:(0,r.jsx)(h,{color:m})})]})}var y=n(473708);function m(e){a.Z.dispatch({type:"POGGERMODE_ACHIEVEMENT_UNLOCK",achievementId:e})}function _(e,t){var n=(0,s.oX)(e);null!=n&&(0,i.showToast)((0,i.createToast)(y.Z.Messages.POGGERMODE_ACHIEVEMENTS,i.ToastType.CUSTOM,{position:i.ToastPosition.BOTTOM,component:(0,r.jsx)(E,{achievement:n,unlocked:t}),duration:6e3}))}},896971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v})
;var r=n(202351),o=n(744564),i=n(736818),a=n(998330),s=n(785085),l=n(44616);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return h(this,n)}}var _={unlockedAchievements:{}},g=d({},_);var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){this.waitFor(i.default,l.ZP);var t=null!=e?e:d({},_);for(var n in t)g[n]=t[n]};r.getState=function(){return g};r.getAllUnlockedAchievements=function(){return g.unlockedAchievements};r.getUnlocked=function(e){var t;return null!==(t=g.unlockedAchievements[e])&&void 0!==t?t:null};r.__getLocalVars=function(){return{ACHIEVEMENT_UNLOCK_TOAST_DELAY_MS:2e3,initialState:_,state:g}};return n}(r.ZP.PersistedStore);b.displayName="PoggermodeAchievementStore";b.persistKey="PoggermodeAchievementStore";const v=new b(o.Z,{
POGGERMODE_ACHIEVEMENT_UNLOCK:function(e){var t=e.achievementId;if(!s.Z.isEnabled())return!1;!function(e){if(null!=g.unlockedAchievements[e])return!1;g.unlockedAchievements=p(d({},g.unlockedAchievements),u({},e,{achievementId:e,dateUnlocked:Date.now()}));setTimeout((function(){(0,a.D)(e,!0)}),2e3)}(t)}})},494425:(e,t,n)=>{"use strict";n.d(t,{hn:()=>r,EP:()=>o,LG:()=>c,oX:()=>u,F7:()=>f});var r,o,i,a=n(673383),s=n(473708);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.ENABLE_POGGERMODE=0]="ENABLE_POGGERMODE";e[e.DISABLE_POGGERMODE=1]="DISABLE_POGGERMODE";e[e.PING_SOMEONE=2]="PING_SOMEONE";e[e.PING_ME=3]="PING_ME";e[e.COMBO_MULTI_LEVEL_1=4]="COMBO_MULTI_LEVEL_1";e[e.COMBO_MULTI_LEVEL_2=5]="COMBO_MULTI_LEVEL_2";e[e.COMBO_MULTI_LEVEL_3=6]="COMBO_MULTI_LEVEL_3";e[e.COMBO_MULTI_LEVEL_4=7]="COMBO_MULTI_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_1=8]="TOTAL_SCORE_LEVEL_1"
;e[e.TOTAL_SCORE_LEVEL_2=9]="TOTAL_SCORE_LEVEL_2";e[e.TOTAL_SCORE_LEVEL_3=10]="TOTAL_SCORE_LEVEL_3";e[e.TOTAL_SCORE_LEVEL_4=11]="TOTAL_SCORE_LEVEL_4";e[e.TOTAL_SCORE_LEVEL_5=12]="TOTAL_SCORE_LEVEL_5";e[e.VISITOR_100=13]="VISITOR_100";e[e.CUSTOMIZE_CONFETTI=14]="CUSTOMIZE_CONFETTI";e[e.MORE=15]="MORE";e[e.COMBO_VALUE_LEVEL_1=16]="COMBO_VALUE_LEVEL_1";e[e.COMBO_VALUE_LEVEL_2=17]="COMBO_VALUE_LEVEL_2";e[e.COMBO_VALUE_LEVEL_3=18]="COMBO_VALUE_LEVEL_3";e[e.COMBO_VALUE_LEVEL_4=19]="COMBO_VALUE_LEVEL_4"}(r||(r={}));!function(e){e[e.COMMON=0]="COMMON";e[e.UNCOMMON=1]="UNCOMMON";e[e.RARE=2]="RARE";e[e.EPIC=3]="EPIC";e[e.LEGENDARY=4]="LEGENDARY"}(o||(o={}));var c=(l(i={},r.ENABLE_POGGERMODE,{id:r.ENABLE_POGGERMODE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_ENABLE_POGGERMODE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.DISABLE_POGGERMODE,{id:r.DISABLE_POGGERMODE,
name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_DISABLE_POGGERMODE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.VISITOR_100,{id:r.VISITOR_100,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_VISITOR_100_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,onAction:function(){window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank")}}),l(i,r.CUSTOMIZE_CONFETTI,{id:r.CUSTOMIZE_CONFETTI,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_CUSTOMIZE_CONFETTI_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.MORE,{id:r.MORE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_NAME},description:function(){
return s.Z.Messages.POGGERMODE_ACHIEVEMENT_MORE_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.PING_SOMEONE,{id:r.PING_SOMEONE,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_SOMEONE_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1}),l(i,r.PING_ME,{id:r.PING_ME,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_PING_ME_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1}),l(i,r.COMBO_MULTI_LEVEL_1,{id:r.COMBO_MULTI_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_1_DESCRIPTION},rarity:o.COMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=2}}),l(i,r.COMBO_MULTI_LEVEL_2,{id:r.COMBO_MULTI_LEVEL_2,
name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_2_DESCRIPTION},rarity:o.UNCOMMON,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=4}}),l(i,r.COMBO_MULTI_LEVEL_3,{id:r.COMBO_MULTI_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_3_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=5}}),l(i,r.COMBO_MULTI_LEVEL_4,{id:r.COMBO_MULTI_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_MULTI_LEVEL_4_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!1,checkUnlock:function(e){return e.multiplier>=7}}),l(i,r.TOTAL_SCORE_LEVEL_1,{id:r.TOTAL_SCORE_LEVEL_1,
name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_1_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 430===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_2,{id:r.TOTAL_SCORE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 555===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_3,{id:r.TOTAL_SCORE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 898===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_4,{id:r.TOTAL_SCORE_LEVEL_4,
name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 1337===(0,a.Eo)(e)}}),l(i,r.TOTAL_SCORE_LEVEL_5,{id:r.TOTAL_SCORE_LEVEL_5,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_TOTAL_SCORE_LEVEL_5_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 2048===(0,a.Eo)(e)}}),l(i,r.COMBO_VALUE_LEVEL_1,{id:r.COMBO_VALUE_LEVEL_1,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_1_DESCRIPTION},rarity:o.RARE,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 64===e.value}}),l(i,r.COMBO_VALUE_LEVEL_2,{
id:r.COMBO_VALUE_LEVEL_2,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_2_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 88===e.value}}),l(i,r.COMBO_VALUE_LEVEL_3,{id:r.COMBO_VALUE_LEVEL_3,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_3_DESCRIPTION},rarity:o.EPIC,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 99===e.value}}),l(i,r.COMBO_VALUE_LEVEL_4,{id:r.COMBO_VALUE_LEVEL_4,name:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_NAME},description:function(){return s.Z.Messages.POGGERMODE_ACHIEVEMENT_COMBO_VALUE_LEVEL_4_DESCRIPTION},rarity:o.LEGENDARY,hideDescriptionUntilUnlock:!0,checkUnlock:function(e){return 113===e.value}}),i);function u(e){return c[e]}
var f=function(e){switch(e){case o.COMMON:return{color:"#1ABC9C"};case o.UNCOMMON:return{color:"#3498DB"};case o.RARE:return{color:"#9B59B6"};case o.EPIC:return{color:"#E91E63"};case o.LEGENDARY:return{color:"#E67E22"}}}},530991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(744564),o=n(301928),i=n(669754),a=n(736818),s=n(69085),l=n(715107),c=n(788169),u=n(716118),f=n(785085),d=n(44616),p=n(2590);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return _(e,t)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var O=(0,u.uk)("poggermode_applause",i.Z.getSoundpack()),I=.1,S=!1,T=!1,N=[],C=null,A=function(){if(!S){O.loop();S=!0}},P=function(){O.stop();S=!1},R=function(){var e=f.Z.isEnabled(),t=f.Z.comboSoundsEnabled;return!(!e||!t)&&null!=l.Z.getChannelId()},j=function(){if(0!==N.length&&R()&&!T){T=!0;var e=g(N[N.length-1],2),t=e[0],n=e[1];(0,u.GN)(t,n);C=setTimeout(M,1e3)}},M=function(){N.pop();T=!1;j()},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=s.Z.isConnected(),r=n?I:1;N.push([e,t*r]);j()};const x=new(function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=v(n);function n(){E(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){d.ZP.addChangeListener(this.startAudio);r.Z.subscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.subscribe("TYPING_STOP",this.stopAudio);r.Z.subscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.subscribe("CHANNEL_SELECT",this.stopAudio);r.Z.subscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio)};o._terminate=function(){d.ZP.removeChangeListener(this.startAudio);r.Z.unsubscribe("RTC_CONNECTION_STATE",this.setVolume);r.Z.unsubscribe("TYPING_STOP",this.stopAudio);r.Z.unsubscribe("TYPING_STOP_LOCAL",this.stopAudio);r.Z.unsubscribe("CHANNEL_SELECT",this.stopAudio);r.Z.unsubscribe("POGGERMODE_SETTINGS_UPDATE",this.stopAudio);clearTimeout(C)};o.setVolume=function(e){
e.state===p.hes.RTC_CONNECTED?O.volume=I:O.volume=1};o.handleTypingStop=function(e){var t=e.userId;a.default.getId()===t&&P()};o.stopAudio=function(){P()};o.startAudio=function(){if(R()){var e=l.Z.getChannelId();if(null!=e){var t,n=a.default.getId(),r=c.Z.isTyping(e,n),o=d.ZP.getUserCombo(n,e),i=null!==(t=null==o?void 0:o.multiplier)&&void 0!==t?t:1;r&&i>=7?A():P()}}};o.playAchievementUnlockSound=function(){R()&&w("poggermode_achievement_unlock")};o.__getLocalVars=function(){return{applause:O,COMBO_SOUND_EFFECT_MULTIPLIER_THRESHOLD:7,REGULAR_VOLUME:1,REDUCED_VOLUME:I,SOUND_DEQUEUE_TIMEOUT_MS:1e3,isLooping:S,isPlaying:T,soundQueue:N,soundTimeoutId:C,loopApplause:A,stopApplause:P,canPlaySound:R,playSoundFromQueue:j,queueNextSound:M,enqueueSound:w}};return n}(o.Z))},17229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=(n(667294),n(575945)),i=n(945460),a=n(74535),s=n(795470),l=n(436187),c=n(349491),u=n(382518),f=n(494425),d=n(520453),p=n(97291),h=n.n(p);function E(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}var m={trophy:d.Il.PRIMARY_400,locked:d.Il.PRIMARY_400,unlocked:d.Il.GREEN_330},_={trophy:d.Il.PRIMARY_400,locked:d.Il.PRIMARY_400,unlocked:d.Il.GREEN_330};g.Sizes=i.AvatarSizes;function g(e){var t=e.achievementId,n=e.unlocked,d=e.size,p=void 0===d?i.AvatarSizes.SIZE_40:d,E=(0,a.ZP)(),g=(0,f.oX)(t);if(null==g)return null;var b,v=(0,i.getAvatarSpecs)(p),O=g.name,I=g.rarity,S=(0,f.F7)(I).color,T=(0,o.wj)(E)?m:_,N=.8*(v.size-v.offset-2*v.stroke),C=v.size-v.stroke,A={width:.4*N,height:.4*N},P={width:A.width+1,height:A.height+1,right:v.stroke+1,bottom:v.stroke+1,
padding:0};return(0,r.jsxs)("div",{className:h().container,style:{width:C,height:C,padding:v.stroke},"aria-label":"".concat(null!==(b=O())&&void 0!==b?b:""),children:[(0,r.jsx)("div",{className:h().trophyIconContainer,children:(0,r.jsx)(u.Z,{color:n?S:(0,s.Lq)(T.trophy),width:N,height:N})}),!n&&(0,r.jsx)("div",{className:h().lockContainer,style:P,children:(0,r.jsx)(c.Z,y({color:(0,s.Lq)(T.locked)},A))}),n&&I===f.EP.LEGENDARY&&(0,r.jsx)("div",{className:h().lockContainer,style:P,children:(0,r.jsx)(l.Z,y({className:h().confettiIcon},A))})]})}},195363:(e,t,n)=>{"use strict";n.r(t);n.d(t,{prefetch:()=>F,PremiumSubscriptionWowMomentForHelper:()=>z,default:()=>W})
;var r=n(785893),o=n(667294),i=n(248088),a=n(202351),s=n(744564),l=n(316878),c=n(786170),u=n(652591),f=n(245305),d=n(930948),p=n(666870),h=n(436145),E=n(398344),y=n(156620),m=n(305082),_=n(266997),g=n(955426),b=n.n(g),v=n(621491),O=n.n(v),I=n(470752),S=n.n(I),T=n(734207),N=n.n(T),C=n(2590),A=n(732278),P=n.n(A),R=n(861197),j=n.n(R),M=n(109177),w=n.n(M),x=n(919098),L=n.n(x),D=n(900615),Z=n.n(D);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,s,"next",e)}function s(e){G(i,r,o,a,s,"throw",e)}a(void 0)}))}}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H,V=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function F(e){return Y.apply(this,arguments)}function Y(){Y=k((function(e){var t,n,r,o,i,a;return V(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);s.Z.dispatch({
type:"PREMIUM_TUTORIAL_IS_FETCHING_WOW_MOMENT_MEDIA",value:!0});"(min-width: 1012px) and (max-width: 1980px)";"(min-height: 720px) and (max-height: 1408px)";"(min-width: 1980px)";"(min-height: 1408px)";t=e?O():w();window.matchMedia("(min-width: 1012px) and (max-width: 1980px)").matches||window.matchMedia("(min-height: 720px) and (max-height: 1408px)").matches?t=e?S():L():(window.matchMedia("(min-width: 1980px)").matches||window.matchMedia("(min-height: 1408px)").matches)&&(t=e?N():Z());n=fetch(t).then((c=k((function(e){var t;return V(this,(function(n){switch(n.label){case 0:return[4,e.blob()];case 1:t=n.sent();return[2,window.URL.createObjectURL(t)]}}))})),function(e){return c.apply(this,arguments)}));r=fetch(e?b():j()).then(function(){var e=k((function(e){var t;return V(this,(function(n){switch(n.label){case 0:return[4,e.blob()];case 1:t=n.sent();return[2,window.URL.createObjectURL(t)]}}))}));return function(t){return e.apply(this,arguments)}}());return[4,Promise.all([n,r])];case 1:
o=B.apply(void 0,[l.sent(),2]),i=o[0],a=o[1];s.Z.dispatch({type:"PREMIUM_TUTORIAL_FETCH_WOW_MOMENT_MEDIA_SUCCESS",wumpusMedia:i,helperMedia:a});return[3,3];case 2:l.sent();s.Z.dispatch({type:"PREMIUM_TUTORIAL_IS_FETCHING_WOW_MOMENT_MEDIA",value:!1});(0,h.Dd)(!1);return[3,3];case 3:return[2]}var c}))}));return Y.apply(this,arguments)}function z(){var e=B(o.useState(!0),2),t=e[0],n=e[1],i=(0,a.e7)([E.Z],(function(){return E.Z.wowMomentHelperMedia})),s=(0,f.rO)()?"video/mp4":"video/webm";return(0,r.jsx)("div",{children:t&&null!==i&&(0,r.jsx)(c.Z,{className:P().videoWrapperForHelper,autoPlay:!0,onEnded:function(){n(!1);(0,h.HY)(!1)},children:(0,r.jsx)("source",{src:i,type:s})})})}const W=function(){var e=(0,a.e7)([l.Z],(function(){return l.Z.useReducedMotion})),t=(0,m.AR)(),n=(0,_.zW)(),s=t||n,g=(0,a.cj)([E.Z],(function(){return{wumpusMedia:E.Z.wowMomentWumpusMedia,helperMedia:E.Z.wowMomentHelperMedia,isFetchingMedia:E.Z.isFetchingWowMomentMedia,canPlayWowMoment:E.Z.canPlayWowMoment}
})),b=g.wumpusMedia,v=g.helperMedia,O=g.isFetchingMedia,I=g.canPlayWowMoment,S=B(o.useState(!1),2),T=S[0],N=S[1],A=(0,f.vu)(),R=A>52||-1===A,j=(0,f.rO)(),M=R||j,w=j?"video/mp4":"video/webm";M&&!e&&I&&s&&null===b&&null===v&&!1===O&&F(j);o.useEffect((function(){var t=function(){var t=(0,p._y)(),n=(0,_.fz)();if(y.Z.getCurrentConfig({},{disable:e||!t||!M,autoTrackExposure:!0}).enabled||n){N(!0);H=setTimeout((function(){N(!1);D(!0);u.default.track(C.rMx.PREMIUM_WOW_MOMENT_VIEWED,{wow_moment_type:y.X.GRADIENT_HIGHLIGHT})}),2e3)}if(e){(0,h.HY)(!1);(0,h.Dd)(!1)}M||(0,h.Dd)(!1)};d.S.subscribe(C.CkL.PREMIUM_SUBSCRIPTION_CREATED,t);return function(){d.S.unsubscribe(C.CkL.PREMIUM_SUBSCRIPTION_CREATED,t)}}),[e,M]);var x=B(o.useState(!1),2),L=x[0],D=x[1],Z=B(o.useState(!1),2),U=Z[0],G=Z[1],k=(0,i.useSpring)({opacity:L?.2:0,config:{duration:100},immediate:e}),V=(0,i.useSpring)({x:U?"100%":"-100%",config:{duration:500},immediate:e||!U});o.useEffect((function(){var e=-1
;L&&(e=window.setTimeout((function(){G(!0)}),1e3));return function(){window.clearTimeout(e)}}),[L]);o.useEffect((function(){var e=-1;U&&(e=window.setTimeout((function(){G(!1);D(!1);(0,h.Dd)(!1)}),1e3));return function(){window.clearTimeout(e)}}),[U]);return(0,r.jsxs)("div",{className:P().wrapper,children:[T&&null!==b&&(0,r.jsx)(c.Z,{autoPlay:!0,className:P().videoWrapper,onPlay:function(){clearTimeout(H);u.default.track(C.rMx.PREMIUM_WOW_MOMENT_VIEWED,{wow_moment_type:y.X.WUMPUS_FLIGHT})},onTimeUpdate:function(e){if(e.currentTarget.currentTime>4){(0,h.HY)(!0);(0,h.Dd)(!1)}},onEnded:function(){N(!1)},children:(0,r.jsx)("source",{src:b,type:w})}),(0,r.jsx)(i.animated.div,{className:P().gadientHighlight,style:k}),(0,r.jsx)(i.animated.div,{className:P().swipeWrapper,style:V,children:(0,r.jsxs)("svg",{className:P().swipe,viewBox:"0 0 848 1024",fill:"none",children:[(0,r.jsx)("path",{d:"M257.206 1024L0 0H341.333L598.539 1024H257.206Z",fill:"white"}),(0,r.jsx)("path",{
d:"M847.975 1024H690.436L433.231 0H590.769L847.975 1024Z",fill:"white"})]})})]})}},58387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(945460));function i(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const c={open:function(){(0,o.openModalLazy)(a((function(){var e,t;return l(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(15357),n.e(27499),n.e(3790),n.e(88110),n.e(96043),n.e(27370)]).then(n.bind(n,834883))];case 1:e=o.sent(),t=e.default
;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},e))}]}}))})))}}},239886:(e,t,n)=>{"use strict";n.d(t,{S5:()=>F,fy:()=>z,tr:()=>X,RE:()=>L,zy:()=>V,FJ:()=>Q,zM:()=>H,s9:()=>B,vv:()=>W,T5:()=>Z,Xb:()=>U,cD:()=>k,aE:()=>G,t9:()=>Y,_f:()=>J,YK:()=>q,bu:()=>$});n(496486);var r=n(608575),o=n(281110);var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this._capacity=t;this._tokenCount=t;this._queue=[];this._intervalPeriod=n/t;this._intervalID=null}var t=e.prototype;t._processQueue=function(){var e=this;setTimeout((function(){if(e._queue.length>0&&e._tokenCount>0){e._tokenCount--
;null==e._intervalID&&(e._intervalID=setInterval((function(){return e._iterate()}),e._intervalPeriod));var t=e._queue.shift();null==t||t();e._processQueue()}}),0)};t._iterate=function(){this._tokenCount=Math.min(this._capacity,this._tokenCount+1);if(this._tokenCount>=this._capacity&&null!=this._intervalID){clearInterval(this._intervalID);this._intervalID=null}this._processQueue()};t.process=function(){var e=this;return new Promise((function(t){e._queue.push(t);e._processQueue()}))};return e}(),a=n(630631),s=n(336334),l=n(84894),c=n(883064),u=n(550131),f=n(968449),d=n(382060),p=n(567403),h=n(604945),E=n(352980),y=n(491260),m=n(473903),_=n(407561),g=n(773148),b=n(968696),v=n(860872),O=n(425636),I=n(2590);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function N(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,s,"next",e)}function s(e){T(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A,P=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}
},R=null!==(A=r.parse(window.GLOBAL_ENV.API_ENDPOINT,!1,!0).host)&&void 0!==A?A:"localhost";var j=function(){var e=R.split(":")[0];if(!e.includes("."))return e;var t=e.split("."),n=t[t.length-1];return/^\d+$/.test(n)?e:t.slice(-2).join(".")}(),M=new RegExp("^".concat(b.Z.escape("https://"),"(?:[a-z]+\\.)?(").concat(b.Z.escape(j),"|discordapp.com|discord.com)$")),w={};function x(e){"customEmoji"===e.type&&(e.type="emoji");"emoji"===e.type&&e.src&&(e.src=L(e.src));Array.isArray(e.content)&&(e.content=e.content.map(x));return e}function L(e){return/^http/.test(e)?e:"".concat(location.protocol,"//").concat(location.host).concat("/"===e.charAt(0)?"":"/").concat(e)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.indexOf(e)>-1}function Z(e,t){var n=[],r=e.getGuildId();[I.d4z.GUILD_CATEGORY].concat(C(d.tx)).includes(e.type)||n.push(new Promise((function(t){E.Z.whenReady(e.id,(function(){return t()}));s.Z.fetchMessages({channelId:e.id,limit:I.AQB})})))
;return Promise.all(n).then((function(){var n,o=(!e.isNSFW()||!0===(null===(n=m.default.getCurrentUser())||void 0===n?void 0:n.nsfwAllowed))&&t?E.Z.getMessages(e.id).toArray().map(U):[],i=Object.values(_.Z.getVoiceStatesForChannel(e.id)).map((function(t){return G(r,e.id,t)}));return{id:e.id,name:e.name,type:e.type,topic:e.topic,bitrate:e.bitrate,user_limit:e.userLimit,guild_id:r,position:e.position,messages:o,voice_states:i}}))}function U(e){var t=c.Z.parseToAST(e.content,!0,{channelId:e.channel_id}).map(x),n=(0,u.ZH)(e),r=n.colorString,o=n.nick;return{id:e.id,blocked:e.blocked,bot:e.bot,content:e.content,content_parsed:t.length?t:void 0,nick:o,author_color:r,edited_timestamp:e.edited_timestamp||e.editedTimestamp,timestamp:e.timestamp,tts:e.tts,mentions:e.mentions,mention_everyone:e.mention_everyone||e.mentionEveryone,mention_roles:e.mention_roles||e.mentionRoles,embeds:e.embeds,attachments:e.attachments,author:e.author?(0,O.Z)(e.author):void 0,pinned:e.pinned,type:e.type}}
function G(e,t,n){var r=n.mute,o=n.deaf,i=n.selfMute,a=n.selfDeaf,s=n.suppress,l=n.userId,c=m.default.getUser(l);if(null==c)throw new Error("Invalid user id: ".concat(l));return{nick:g.Z.getName(e,t,c),mute:h.Z.isLocalMute(c.id),volume:h.Z.getLocalVolume(c.id),pan:h.Z.getLocalPan(c.id),voice_state:{mute:r,deaf:o,self_mute:i,self_deaf:a,suppress:s},user:(0,O.Z)(c)}}function k(e,t,n){var r=m.default.getUser(t);return{type:e,user:null!=r?(0,O.Z)(r):null,presence:{status:y.Z.getStatus(t),activity:null!=n?y.Z.getApplicationActivity(t,n):y.Z.getPrimaryActivity(t)}}}function B(e){if(null==e)return!1;var t,n=window.location.origin;if(e===n)return!0;try{t=r.parse(e).hostname}catch(e){return!1}return window.location.hostname===t&&"localhost"===t||null==e.match("staging")&&!(!M.test(e)||!M.test(n))}function H(e,t,n){var r=p.Z.getGuild(e.getGuildId());return(null!=r?r.getApplicationId():e.getApplicationId())===t||n.indexOf(I.xVR.MESSAGES_READ)>-1}function V(e){switch(e){case I.hes.RTC_CONNECTED:
case I.hes.RTC_CONNECTING:case I.hes.RTC_DISCONNECTED:return e.replace(/^RTC_/,"VOICE_");default:return e}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.instance,r=e.secrets,o=e.party,i=0;n&&(i|=I.xjy.INSTANCE);null!=(null==r?void 0:r.join)&&(i|=I.xjy.JOIN);if(t){i|=I.xjy.EMBEDDED;return i|=I.xjy.PARTY_PRIVACY_VOICE_CHANNEL}if((null==o?void 0:o.privacy)===I.RYY.PUBLIC||a.Z.get("ACTIVITIES_FORCE_PUBLIC")){f.cP.getSetting()&&(i|=I.xjy.PARTY_PRIVACY_FRIENDS);f.Ou.getSetting()&&(i|=I.xjy.PARTY_PRIVACY_VOICE_CHANNEL)}return i}function Y(e,t,n){return e===I.mFx.JOIN&&(null!=t&&null!=t.id&&null!=n.join)}function z(e,t,n){return o.Z.get({url:I.ANM.APPLICATION_RPC(t),oldFormErrors:!0,retries:3}).then((function(r){var o=r.body,i=o.rpc_origins,a=o.id,s=o.name,c=o.icon,u=o.cover_image,f=o.flags;if("string"==typeof n)if(e.transport===I.Hej.POST_MESSAGE){var d=(0,l.Z)(t);if(null==d||!D(n,[d]))throw new v.Z(I.$VG.INVALID_ORIGIN,"Invalid Origin")
}else if(!D(n,i))throw new v.Z(I.$VG.INVALID_ORIGIN,"Invalid Origin");e.application={id:a,name:s,icon:c,coverImage:u,flags:f}}),(function(){throw new v.Z(I.$VG.INVALID_CLIENTID,"Invalid Client ID")}))}function W(e,t){return K.apply(this,arguments)}function K(){return(K=N((function(e,t){var n;return P(this,(function(r){switch(r.label){case 0:if(null==(n=w[e])){n=new i(t?2:60,6e4);w[e]=n}return[4,n.process()];case 1:r.sent();return[2]}}))}))).apply(this,arguments)}function q(e,t){null==t&&(e.authorization.scopes=[I.lHf])}function X(e){var t=h.Z.getSettings(),n=function(e){return Object.values(e).sort((function(e,t){return e.index-t.index})).map((function(e){return{id:e.id,name:e.name}}))},r=e(t);return{input:{available_devices:n(h.Z.getInputDevices()),device_id:t.inputDeviceId,volume:t.inputVolume},output:{available_devices:n(h.Z.getOutputDevices()),device_id:t.outputDeviceId,volume:t.outputVolume},mode:{type:t.mode,auto_threshold:t.modeOptions.autoThreshold,
threshold:t.modeOptions.threshold,shortcut:r,delay:t.modeOptions.delay},automatic_gain_control:t.automaticGainControl,echo_cancellation:t.echoCancellation,noise_suppression:t.noiseSuppression,qos:t.qos,silence_warning:t.silenceWarning,deaf:t.deaf,mute:t.mute}}function Q(e,t){var n=h.Z.getSettings(e),r=t(n);return{input_mode:{type:n.mode,shortcut:r},local_mutes:Object.keys(n.localMutes),local_volumes:n.localVolumes,self_mute:n.mute,self_deaf:n.deaf}}function $(e){if(e!==I.Hej.POST_MESSAGE)throw new v.Z(I.lTL.INVALID_COMMAND,'command not available from "'.concat(e," transport"))}function J(e){if(null==e.id)throw new v.Z(I.lTL.INVALID_COMMAND,"Invalid application")}},196389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(2590);function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s="<removed>";function l(e){var t=i({},e);(function(e){var t=e;return"object"==typeof t.args&&"string"==typeof t.cmd})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{args:a(i({},e.args),{access_token:s})}):i({},e)}(t));(function(e){var t=e;return"object"==typeof t.data&&"string"==typeof t.cmd
})(t)&&(t=function(e){return e.cmd===r.Etm.AUTHENTICATE?a(i({},e),{data:a(i({},e.data),{access_token:s})}):i({},e)}(t));return t}},731458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(496486),o=n.n(r),i=n(860872),a=n(2590);var s=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.transport=t;this.version=n;this.encoding=r;this.id=o().uniqueId();this.authorization={authing:!1,scopes:[],accessToken:null,expires:new Date(0)};this.application={id:null,name:null,icon:null};if(null==n||n>a.X6Q||n<1)throw new i.Z(a.$VG.INVALID_VERSION,"Invalid Version: ".concat(n))}},232949:(e,t,n)=>{"use strict";n.d(t,{s0:()=>p,em:()=>y,_X:()=>m,GC:()=>_});var r=n(993754),o=n(304275),i=n(310126),a=n(79251),s=n(860872),l=n(239886),c=n(2590);function u(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}
},d=["207646673902501888"];function p(e){if(o.Z.isReady(e)){r.Z.setLocked(!1,e);return{lock:function(){r.Z.setLocked(!0,e)},context:c.IlC.OVERLAY}}i.default.focus(null,!0);return{lock:function(){i.default.setForegroundProcess(e)},context:c.IlC.APP}}var h,E,y=(E=(h=function(e,t,n){var r;return f(this,(function(o){switch(o.label){case 0:(0,l.YK)(e,t);if((null==n||""===n)&&(0,l.s9)(t)){e.authorization.scopes=[c.cEn,c.CND];return[2,Promise.resolve()]}if(null==n||""===n)return[2,Promise.reject(new s.Z(c.$VG.INVALID_CLIENTID,"No Client ID Specified"))];r=i.default.releaseChannel!==c.R5N.CANARY&&!d.includes(n)&&e.transport!==c.Hej.POST_MESSAGE;return[4,(0,l.vv)(n,r)];case 1:o.sent();return[2,(0,l.fy)(e,n,t)]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=h.apply(e,t);function i(e){u(o,n,r,i,a,"next",e)}function a(e){u(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return E.apply(this,arguments)});var m=function(){return(0,l.tr)((function(e){var t=[]
;null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=function(e){return e.map((function(e){var t;return{type:e[0],code:e[1],name:null!==(t=(0,a.H9)(e))&&void 0!==t?t:"unknown"}}))}(e.modeOptions.shortcut));return t}))},_=function(e){return(0,l.FJ)(e,(function(e){var t="";null!=e.modeOptions.shortcut&&Array.isArray(e.modeOptions.shortcut)&&(t=(0,a.BB)(e.modeOptions.shortcut));return t}))}},199830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(348764),o=n(717187),i=n.n(o),a=n(496486),s=n.n(a),l=n(296602),c=n(310126),u=n(196389),f=n(731458),d=n(232949),p=n(2590);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
writable:!0,configurable:!0}});t&&_(e,t)}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var v,O=c.default.requireModule("discord_rpc").RPCIPC,I=new l.Z("RPCServer:IPC"),S={HANDSHAKE:0,FRAME:1,CLOSE:2,PING:3,PONG:4};function T(e,t){
null!=e.setHandshakeComplete?e.setHandshakeComplete(t):e._didHandshake=t}function N(e){return null!=e.getHandshakeComplete?e.getHandshakeComplete():e._didHandshake}function C(e){return new Promise((function(t,n){"string"==typeof e&&(e=O.net.createConnection(e));e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(S.CLOSE,{code:1003,message:t.message}));e.destroy()}}));var r=function(){try{e.end();e.destroy()}catch(e){}},o=Promise.race([new Promise((function(t){return e.on("error",(function(){return t()}))})),new Promise((function(t,n){e.on("pong",(function(){return n(new Error("socket responded with pong"))}))})),new Promise((function(e,t){setTimeout((function(){return t(new Error("socket alive timeout"))}),1e3)}))]).then((function(){r()}),(function(e){r();throw e}));e.write(A(S.PING,s().uniqueId()));return o.then(t,n)}))}function A(e,t){t=JSON.stringify(t);var n=r.Buffer.byteLength(t),o=r.Buffer.alloc(8+n);o.writeInt32LE(e,0);o.writeInt32LE(n,4);o.write(t,8,n)
;return function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(o)}function P(e){var t=e.read(8);if(t){var n=(t=r.Buffer.from(t)).readInt32LE(0),o=t.readInt32LE(4);if(!Object.values(S).includes(n)||o<0)throw new Error("protocol error");if(!(t=e.read(o)))throw new Error("data size does not match what was received");t=r.Buffer.from(t);var i=JSON.parse(t.toString());switch(n){case S.PING:e.emit("ping",i);e.write(A(S.PONG,i));break;case S.PONG:e.emit("pong",i);break;case S.HANDSHAKE:if(N(e))throw new Error("already did handshake");T(e,!0);e.emit("handshake",i);break;case S.FRAME:if(!N(e))throw new Error("did not handshake");e.emit("request",i);break;case S.CLOSE:e.end();e.destroy()}P(e)}}var R=function(e){y(n,e);var t=b(n);function n(e,r,o){h(this,n);var i;(i=t.call(this,"ipc",r,o))._socket=e;return i}var r=n.prototype;r.send=function(e){I.info("Socket Emit: ".concat(this.id),(0,u.Z)(e));this._socket.write(A(S.FRAME,e))};r.close=function(e,t){this._socket.end(A(S.CLOSE,{
code:e,message:t}));this._socket.destroy()};return n}(f.Z);const j=new(function(e){y(n,e);var t=b(n);function n(){h(this,n);var e;e=t.call(this);(v=O.net.createServer((function(t){return e.handleConnection(t)}))).on("error",(function(e){return I.error("Error: ".concat(e.message))}));O.getAvailableSocket(C).then((function(e){v.listen(e,(function(){("function"==typeof v.listening?v.listening():v.listening)&&I.info("Starting on ".concat(v.address()))}))}));return e}n.prototype.handleConnection=function(e){var t=this;T(e,!1);e.pause();e.on("readable",(function(){try{P(e)}catch(t){e.end(A(S.CLOSE,{code:p.$VG.CLOSE_UNSUPPORTED,message:t.message}));e.destroy()}}));e.once("handshake",(function(n){var r,o=n.client_id,i=+n.v;try{r=new R(e,i,"json")}catch(t){e.end(A(S.CLOSE,{code:t.code,message:t.message}));e.destroy();return}I.info("Socket Opened: ".concat(r.id));e.on("error",(function(e){return I.error("Socket Error: ".concat(e.message))}));e.on("close",(function(){
I.info("Socket Close: ".concat(r.id));t.emit("disconnect",r)}));(0,d.em)(r,null,o).then((function(){e.on("request",(function(e){I.info("Socket Message: ".concat(r.id),(0,u.Z)(e));t.emit("request",r,e)}));t.emit("connect",r)})).catch((function(e){var t=e.code,n=e.message;return r.close(t,n)}))}))};return n}(i()))},907709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n(717187),o=n.n(r),i=n(496486),a=n.n(i),s=n(817673),l=n(608575),c=n(744564),u=n(296602),f=n(118044),d=n(310126),p=n(860872),h=n(196389),E=n(731458),y=n(232949),m=n(2590),_=n(348764).Buffer;function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?b(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){s=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P,R=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}try{P=d.default.requireModule("discord_erlpack")}catch(e){try{P=d.default.requireModule("erlpack")}catch(e){}}var M,w=d.default.requireModule("discord_rpc").RPCWebSocket,x=window.GLOBAL_ENV.MARKETING_ENDPOINT,L=new u.Z("RPCServer:WSS"),D=[];function Z(e){return"function"==typeof e?e():e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e>0?void 0:function(){if(Z(M.listening)){var e=M.address().port;L.info("Starting on ".concat(e));c.Z.dispatch({type:"RPC_SERVER_READY",port:e})}};M.listen(m.V6Z+e%m.frH,"127.0.0.1",t)}function G(e,t,n){
var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=Z(e.headers).origin?{"Access-Control-Allow-Origin":Z(e.headers).origin,"Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"POST, GET, PUT, PATCH, DELETE","Access-Control-Allow-Headers":["Content-Type","Authorization"].join(", ")}:{};n=n?JSON.stringify(n):"";r=200!==r||n.length?r:204;t.setHeader("Content-Length",_.byteLength(n));t.setHeader("Content-Type","application/json");t.writeHead(r,T({},o,i));t.end(n)}function k(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;G(e,t,{code:o,message:r},n)}var B=function(e){S(n,e);var t=j(n);function n(e,r,o){v(this,n);var i;i=t.call(this,"ws",r,o);if(-1===["etf","json"].indexOf(o))throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(o));if("etf"===o&&null==P)throw new p.Z(m.$VG.INVALID_ENCODING,"Erlpack cannot be used on this client");i._socket=e;return i}
var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY&&e.evt!==m.zMe.OVERLAY)&&L.info("Socket Emit: ".concat(this.id),(0,h.Z)(e));null!=P&&"etf"===this.encoding?this._socket.send(P.pack(e),{binary:!0}):this._socket.send(JSON.stringify(e))};r.close=function(e,t){this._socket.close(e,t)};return n}(E.Z),H=function(e){S(n,e);var t=j(n);function n(e,r,o,i){v(this,n);var a;a=t.call(this,"http",o,i);if("json"!==i)throw new p.Z(m.$VG.INVALID_ENCODING,"Invalid Encoding: ".concat(i));a._sendCallback=e;a._closeCallback=r;return a}var r=n.prototype;r.send=function(e){(f.default.isLoggingOverlayEvents||e.cmd!==m.Etm.OVERLAY)&&L.info("Socket Emit: ".concat(this.id),e);this._sendCallback(e)};r.close=function(e,t){this._closeCallback(t,e)};return n}(E.Z);const V=new(function(e){S(n,e);var t=j(n);function n(){v(this,n);var e;e=t.call(this);var r=0;(M=w.http.createServer()).on("error",(function(e){L.error("Error: ".concat(e.message))
;("EADDRINUSE"===e.code||e.message.includes("EADDRINUSE"))&&setTimeout((function(){return U(++r)}),1e3)}));M.on("request",e.handleRequest.bind(b(e)));U(r);var o={instanceId:M.instanceId||0,server:M};new w.ws.Server(o).on("connection",(function(t){return e.handleConnection(t)}));return e}var r=n.prototype;r.handleRequest=function(e,t){var n=this,r=A(Z(e.url).split("?"),2),o=r[0],i=r[1],a=Z(e.method);if("/rpc"!==o||"OPTIONS"!==a){var c="POST"===a;if("/rpc"!==o||"GET"!==a&&!c)k(e,t,404,"Not Found");else{var u=s.parse(i),f=c?Z(e.headers)["content-type"].split("/")[1]:"json",d=function(){var e=l.parse(u.callback),n=e.protocol,r=e.host;n===location.protocol&&r===location.host?t.setHeader("Location",u.callback):t.setHeader("Location",x);t.writeHead(301);t.end()},p=new H(c?G.bind(null,e,t):d,c?k.bind(null,e,t,400):d,+u.v,f);if(c)(0,y.em)(p,Z(e.headers).origin,u.client_id).then((function(){var r="";e.on("data",(function(e){return r+=e}));e.on("error",(function(){
return k(e,t,500,"Internal Server Error")}));e.on("end",(function(){return n.handleMessage(p,r)}))})).catch((function(e){var t=e.code,n=e.message;return p.close(t,n)}));else{p.authorization.scopes=[m.CND];this.handleMessage(p,decodeURIComponent(u.payload))}}}else G(e,t,{body:""})};r.handleConnection=function(e){var t,n=this,r=s.parse(Z(e.upgradeReq).url.split("?")[1]),o=Z(e.upgradeReq).headers.origin||"";try{t=new B(e,+r.v,r.encoding||"json")}catch(t){e.close(t.code,t.message);return}L.info("Socket Opened: ".concat(t.id));e.on("error",(function(e){return L.error("WS Error: ".concat(e.message))}));e.on("close",(function(e,r){L.info("Socket Closed: ".concat(t.id,", code ").concat(e,", message ").concat(r));a().remove(D,(function(e){return e===t}));n.emit("disconnect",t)}));(0,y.em)(t,o,r.client_id).then((function(){D.push(t);e.on("message",(function(e){return n.handleMessage(t,e)}));n.emit("connect",t)})).catch((function(e){var n=e.code,r=e.message;return t.close(n,r)}))}
;r.handleMessage=function(e,t){var n;try{if(null!=P&&"etf"===e.encoding)n=P.unpack(t);else{if("string"!=typeof t)throw new Error;n=JSON.parse(t)}}catch(t){e.close(m.$VG.CLOSE_UNSUPPORTED,"Payload not ".concat(e.encoding));return}(f.default.isLoggingOverlayEvents||n.cmd!==m.Etm.OVERLAY)&&L.info("Socket Message: ".concat(e.id),(0,h.Z)(n));this.emit("request",e,n)};return n}(o()))},771575:(e,t,n)=>{"use strict";n.d(t,{Q1:()=>I,_0:()=>S,RK:()=>T,yi:()=>N,DT:()=>C,hz:()=>A,Pq:()=>P,HO:()=>R,Ef:()=>M,NZ:()=>x});var r=n(441143),o=n.n(r),i=n(940060),a=n(281110),s=n(761953),l=(n(327499),n(73904)),c=n(396043),u=n(715107),f=n(407561),d=n(563135),p=n(915840),h=n(68537),E=n(341971),y=n(525261),m=n(2590);function _(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}
a(void 0)}))}}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}var O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function I(e,t){var n=e.getGuildId();o()(null!=n,"This channel cannot be guildless.");t&&(0,c.yw)(m.rMx.REQUEST_TO_SPEAK_INITIATED,v({},(0,h.s$)(e)));return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(n),body:{request_to_speak_timestamp:t?(new Date).toISOString():null,channel_id:e.id}})}function S(e,t){var n=e.getGuildId();o()(null!=n,"This channel cannot be guildless.");return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(n,t),body:{suppress:!1,
request_to_speak_timestamp:(new Date).toISOString(),channel_id:e.id}})}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null==e?void 0:e.getGuildId();o()(null!=r,"This channel cannot be guildless.");var i=f.Z.getVoiceStateForChannel(e.id),s=(0,y.gf)(i);s!==y.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK||t||(0,c.yw)(m.rMx.PROMOTED_TO_SPEAKER,v({},(0,h.s$)(e)));return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(r),body:v({suppress:t,request_to_speak_timestamp:null,channel_id:e.id},n?{silent:n}:{})})}function N(e){var t=null==e?void 0:e.getGuildId();o()(null!=t,"This channel cannot be guildless.");return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(t),body:{suppress:!0,channel_id:e.id,self_video:!1,self_stream:!1}})}function C(e,t,n){var r=e.getGuildId();o()(null!=r,"This channel cannot be guildless.");return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(r,t),body:{suppress:n,channel_id:e.id}})}function A(e,t){if(null!=t&&null!=e){var n=t.getGuildId()
;o()(null!=n,"This channel cannot be guildless.");C(t,e.id,!0);return a.Z.patch({url:m.ANM.UPDATE_VOICE_STATE(n,e.id),body:{suppress:!0,channel_id:t.id,self_video:!1,self_stream:!1}})}}function P(e,t,n){var r=e.getGuildId();o()(null!=r,"Channel cannot be guildless");var a=e.permissionOverwrites[r],c=v({id:r,type:l.BN.ROLE,allow:d.ZP.NONE,deny:d.ZP.NONE},a);if(n){c.allow=i.Z.add(c.allow,t);c.deny=i.Z.remove(c.deny,t)}else{c.allow=i.Z.remove(c.allow,t);c.deny=i.Z.add(c.deny,t)}s.Z.updatePermissionOverwrite(e.id,c)}function R(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=g((function(e,t,n,r){var o;return O(this,(function(i){switch(i.label){case 0:if(""===t)return[2];u.Z.getVoiceChannelId()===e.id||(0,p.TM)(e);return[4,(0,E.me)(e.id,t,n,r)];case 1:o=i.sent();T(e,!1,!0);return[2,o]}}))}))).apply(this,arguments)}function M(e,t,n){return w.apply(this,arguments)}function w(){return(w=g((function(e,t,n){return O(this,(function(r){switch(r.label){case 0:return""===t?[2]:[4,(0,
E.Dk)(e.id,t,n)];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function x(e){return L.apply(this,arguments)}function L(){return(L=g((function(e){return O(this,(function(t){switch(t.label){case 0:return[4,(0,E.Ix)(e.id)];case 1:t.sent();return[2]}}))}))).apply(this,arguments)}},68537:(e,t,n)=>{"use strict";n.d(t,{ER:()=>f,kk:()=>d,s$:()=>p});n(496486);var r=n(69085),o=n(773148),i=n(563135),a=n(766496),s=n(79462),l=n(2590),c=n(449518),u=n(473708);function f(e,t,n,r){var i=t[0],a=o.Z.getName(e,n,i),s=null!=r?r:t.length;return 1===s&&null!=i?a:null==i?u.Z.Messages.SPEAKING_COUNT.format({count:s}):u.Z.Messages.USER_SUMMARY_WITH_OTHERS.format({name:a,count:s-1})}function d(e,t){switch(e){case c.aC.OWNER:return u.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_OWNER;case c.aC.ADMINISTRATOR:return u.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TOOLTIP_ADMINISTRATOR;case c.aC.MEMBER:case c.aC.ROLE:
return t?u.Z.Messages.CHANNEL_PERMISSIONS_CANNOT_REMOVE_PERMISSIONS:u.Z.Messages.CHANNEL_PERMISSIONS_REMOVE_MODERATOR_TOOLTIP;case c.aC.EMPTY_STATE:return null}return null}function p(e){var t=a.Z.getStageInstanceByChannel(e.id);return{channel_id:e.id,guild_id:e.guild_id,topic:null==t?void 0:t.topic,media_session_id:r.Z.getMediaSessionId(),request_to_speak_state:i.ZP.canEveryoneRole(l.Plq.REQUEST_TO_SPEAK,e)?s.BM.EVERYONE:s.BM.NO_ONE,stage_instance_id:null==t?void 0:t.id}}},341971:(e,t,n)=>{"use strict";n.d(t,{me:()=>l,Dk:()=>u,Ix:()=>d});var r=n(281110),o=n(2590);function i(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function l(e,t,n,r,o){
return c.apply(this,arguments)}function c(){return(c=a((function(e,t,n,i,a){return s(this,(function(s){switch(s.label){case 0:return[4,r.Z.post({url:o.ANM.STAGE_INSTANCES,body:{channel_id:e,topic:t,privacy_level:n,guild_scheduled_event_id:a,send_start_notification:i}})];case 1:return[2,s.sent().body]}}))}))).apply(this,arguments)}function u(e,t,n){return f.apply(this,arguments)}function f(){return(f=a((function(e,t,n){return s(this,(function(i){switch(i.label){case 0:return[4,r.Z.patch({url:o.ANM.STAGE_INSTANCE(e),body:{topic:t,privacy_level:n}})];case 1:return[2,i.sent().body]}}))}))).apply(this,arguments)}function d(e){return r.Z.delete(o.ANM.STAGE_INSTANCE(e))}},938058:(e,t,n)=>{"use strict";n.d(t,{f:()=>r,q:()=>o});var r=200,o=[0,.25,.5,.75,1,1.25,1.5,1.75,2,2.25,2.5,2.75,3,3.25,3.5,3.75,4,4.25,4.5,4.75,5,5.25,5.5,5.75,6,6.25,6.5,6.75,7,7.25,7.5,7.75,8,8.25,8.5,8.75,9,9.25,9.5,9.75,10]},678851:(e,t,n)=>{"use strict";n.d(t,{Y7:()=>E,pR:()=>m,oc:()=>g})
;var r=n(999357),o=n(165695),i=n(744564),a=n(801809),s=n(42261),l=n(2590);function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function E(){return y.apply(this,arguments)}function y(){return(y=u((function(){var e;return h(this,(function(t){switch(t.label){case 0:t.trys.push([0,2,,3]);return[4,a.Z.get({url:l.ANM.EMAIL_SETTINGS,trackedActionData:{event:r.a9.EMAIL_SETTINGS_FETCH,properties:function(e){var t,n=null==e||null===(t=e.body)||void 0===t?void 0:t.initialized;return(0,o.iG)({initialized:n})}}})];case 1:e=t.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_SUCCESS",settings:e.body});return[3,3];case 2:t.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))}))).apply(this,arguments)}
function m(e,t){return _.apply(this,arguments)}function _(){return(_=u((function(e,t){var n;return h(this,(function(o){switch(o.label){case 0:i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:f({},e,t)});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,a.Z.patch({url:l.ANM.EMAIL_SETTINGS,body:{settings:{categories:f({},e,t)}},trackedActionData:{event:r.a9.EMAIL_SETTINGS_UPDATE,properties:{category:e,value:t}}})];case 2:n=o.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:n.body});return[3,4];case 3:o.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function g(){return b.apply(this,arguments)}function b(){return(b=u((function(){var e,t;return h(this,(function(n){switch(n.label){case 0:e=s.M0.reduce((function(e,t){return p(d({},e),f({},t,!1))}),{});i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE",updates:e});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,a.Z.patch({url:l.ANM.EMAIL_SETTINGS,body:{settings:{
categories:e}},trackedActionData:{event:r.a9.EMAIL_SETTINGS_UPDATE,properties:{category:"marketing",value:!1}}})];case 2:t=n.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_SUCCESS",settings:t.body});return[3,4];case 3:n.sent();i.Z.dispatch({type:"EMAIL_SETTINGS_UPDATE_FAILURE"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},42261:(e,t,n)=>{"use strict";n.d(t,{vG:()=>i,$Z:()=>r,M0:()=>a,Od:()=>s});var r,o=n(473708),i="emails";!function(e){e.COMMUNICATION="communication";e.SOCIAL="social";e.TIPS="tips";e.RECOMMENDATIONS_AND_EVENTS="recommendations_and_events";e.UPDATES_AND_ANNOUNCEMENTS="updates_and_announcements";e.FAMILY_CENTER_DIGEST="family_center_digest"}(r||(r={}));var a=[r.TIPS,r.RECOMMENDATIONS_AND_EVENTS,r.UPDATES_AND_ANNOUNCEMENTS],s=[{category:r.COMMUNICATION,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_COMMUNICATION_SUBLABEL}},{category:r.SOCIAL,
label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_SOCIAL_SUBLABEL}},{category:r.UPDATES_AND_ANNOUNCEMENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_UPDATES_AND_ANNOUNCEMENTS_SUBLABEL}},{category:r.TIPS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_TIPS_SUBLABEL}},{category:r.RECOMMENDATIONS_AND_EVENTS,label:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS},subLabel:function(){return o.Z.Messages.USER_SETTINGS_EMAIL_CATEGORY_RECOMMENDATIONS_AND_EVENTS_SUBLABEL}}]},96483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return l(this,n)}}var d={},p=null;function h(){d={};p=null}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEmailSettings=function(){return{categories:d,initialized:p}};r.__getLocalVars=function(){return{categories:d,initialized:p}};return n}(r.ZP.Store);E.displayName="EmailSettingsStore";const y=new E(o.Z,{CONNECTION_OPEN:h,LOGOUT:h,EMAIL_SETTINGS_FETCH_SUCCESS:function(e){var t=e.settings;d=t.categories;p=t.initialized},EMAIL_SETTINGS_UPDATE_SUCCESS:function(e){var t=e.settings;d=t.categories},EMAIL_SETTINGS_UPDATE:function(e){var t=e.updates;d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},d,t)}})},973646:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(945460),o=n(473708);function i(){(0,r.showToast)((0,r.createToast)(o.Z.Messages.USER_SETTINGS_UPDATE_FAILURE,r.ToastType.FAILURE))}},425187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),s=n(823530),l=n(367891),c=n(567403),u=n(682776),f=n(170585),d=n(2590);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){
var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S,T,N,C=[],A=null,P=!1,R=d.QZA.CLOSED,j={},M=!1,w=null;function x(){T=l.Z.getChannel();S=null!=T?c.Z.getGuild(T.guild_id):null;C=null!=T&&null!=S&&u.Z.can(d.Plq.MANAGE_WEBHOOKS,T)?f.Z.getWebhooksForChannel(S.id,T.id):[];if(null!=A){var e=D(A.id);null!=e&&(A=e)}R=d.QZA.OPEN;j={};M=!1}var L=o().debounce((function(){if(M){(null==A||o().isEqual(A,D(A.id)))&&(M=!1);M||U.emitChange()}}),500);function D(e){return C.find((function(t){return t.id===e}))}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=I(n);function n(){h(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,c.Z,f.Z,u.Z)};r.hasChanges=function(){return M}
;r.getWebhook=function(e){return D(e)};r.showNotice=function(){return this.hasChanges()};r.getProps=function(){return{submitting:R===d.QZA.SUBMITTING,webhooks:C,editedWebhook:A,section:N,sectionId:w,hasChanges:this.hasChanges(),isFetching:P,errors:j}};r.__getLocalVars=function(){return{webhooks:C,editedWebhook:A,isFetchingWebhooks:P,guild:S,channel:T,formState:R,errors:j,hasChanges:M,section:N,sectionId:w,validateUpdate:L,storeInstance:U}};!function(e,t,n){t&&E(e.prototype,t);n&&E(e,n)}(n,[{key:"webhooks",get:function(){return C}},{key:"editedWebhook",get:function(){return A}},{key:"formState",get:function(){return R}}]);return n}(i.ZP.Store);Z.displayName="ChannelSettingsIntegrationsStore";var U=new Z(a.Z,__OVERLAY__?{}:{INTEGRATION_SETTINGS_INIT:x,INTEGRATION_SETTINGS_SAVE_SUCCESS:x,CHANNEL_SETTINGS_SET_SECTION:function(e){if(e.section!==d.CoT.INTEGRATIONS)return!1;N=d.b4C.OVERVIEW;if(null==S){var t=l.Z.getChannel(),n=null==t?void 0:t.getGuildId();if(null!=t&&null!=n){
s.Z.fetchForChannel(n,t.id);P=!0}x()}},INTEGRATION_SETTINGS_SET_SECTION:function(e){var t=e.section,n=e.sectionId;N=t;w=n},INTEGRATION_SETTINGS_START_EDITING_WEBHOOK:function(e){var t=D(e.webhookId);if(null==t)return!1;A=t;j={};M=!1},INTEGRATION_SETTINGS_STOP_EDITING_WEBHOOK:function(){A=null;j={};M=!1},INTEGRATION_SETTINGS_UPDATE_WEBHOOK:function(e){var t=e.settings;if(null==A)return!1;A=_({},A);if(null!=t.name&&A.name!==t.name){A.name=t.name;M=!0}if(void 0!==t.avatar&&A.avatar!==t.avatar){A.avatar=t.avatar;M=!0}if(null!=t.channelId&&A.channel_id!==t.channelId){A.channel_id=t.channelId;M=!0}M&&L()},CHANNEL_SETTINGS_CLOSE:function(){T=null;S=null;C=[];A=null;R=d.QZA.CLOSED},WEBHOOKS_UPDATE:function(e){var t=function(e){var t=C[e];if(null!=r&&(null==t?void 0:t.channel_id)!==r)return"continue";var n=o.find((function(e){if(e.id===t.id)return!0}));if(null!=n){var i=_({},t,n);C[e]=i;M||(null==A?void 0:A.id)!==i.id||(A=i)}else{(null==A?void 0:A.id)===t.id&&(A=null);C.splice(e,1)}
},n=e.guildId,r=e.channelId,o=e.webhooks;if(null==S||n!==S.id||null==T||r!==T.id||null==o||R===d.QZA.SUBMITTING)return!1;P=!1;for(var i=C.length-1;i>=0;i--)t(i);var a=!0,s=!1,l=void 0;try{for(var c,u=function(){var e=c.value,t=C.find((function(t){if(t.id===e.id)return!0}));null==t&&C.push(e)},f=o[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)u()}catch(e){s=!0;l=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw l}}C=v(C);L()},INTEGRATION_SETTINGS_SUBMITTING:function(){R=d.QZA.SUBMITTING;j={}},INTEGRATION_SETTINGS_SAVE_FAILURE:function(e){if(R!==d.QZA.SUBMITTING)return!1;R=d.QZA.OPEN;var t;j=null!==(t=e.errors)&&void 0!==t?t:{}}});const G=U},502569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});var r=n(496486),o=n.n(r),i=n(202351),a=n(630631),s=n(744564),l=n(563135),c=n(367891),u=n(61209),f=n(2590),d=n(449518);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}
var I,S,T=new Set,N=f.QZA.CLOSED,C=!1,A=null,P=null,R=null,j=null,M=null,w=null,x=a.Z.get(d.kf)||!1;function L(e){var t=e.getGuildId(),n=m({},e.permissionOverwrites);null!=t&&null==n[t]&&(n[t]=l.ZP.makeEveryoneOverwrite(t));return n}function D(){R=c.Z.getChannel();j=c.Z.getCategory();if(null==R)return!1;var e=R.getGuildId();P=A=L(R);null==A[M]&&(M=e);S=null!=j;I=l.ZP.areChannelsLocked(R,j);w=null;C=!1;N=f.QZA.CLOSED;T.clear()}function Z(e){if(null==R||R.id!==e)return!1;if(null==(R=u.Z.getChannel(e)))return!1;j=c.Z.getCategory();var t=R.getGuildId();if(null==t)return!1;P=L(R);var n={};T.forEach((function(e){null!=A&&(n[e]=A[e])}));null==n[t]&&null==R.permissionOverwrites[t]&&(n[t]=l.ZP.makeEveryoneOverwrite(t));if(null==(A=m({},R.permissionOverwrites,n))[M])M=t;else if(null!=w&&null!=A[w]){M=w;w=null}I=l.ZP.areChannelsLocked(R,j);return!0}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=O(n);function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.Z,u.Z)};r.hasChanges=function(){return C};r.showNotice=function(){return this.hasChanges()};r.getPermissionOverwrite=function(e){return null==A?void 0:A[e]};r.__getLocalVars=function(){return{editedPermissions:T,formState:N,hasChanges:C,locked:I,isLockable:S,permissionOverwrites:A,originalPermissionOverwrites:P,channel:R,category:j,selectedOverwriteId:M,queuedSelectedOverwriteId:w,advancedMode:x}};!function(e,t,n){t&&h(e.prototype,t);n&&h(e,n)}(n,[{key:"editedPermissionIds",get:function(){return Array.from(T)}},{key:"permissionOverwrites",get:function(){return A}},{key:"selectedOverwriteId",get:function(){return M}},{key:"formState",get:function(){return N}},{key:"isLockable",get:function(){return S}},{key:"locked",get:function(){return I}},{key:"channel",
get:function(){return R}},{key:"category",get:function(){return j}},{key:"advancedMode",get:function(){return x}}]);return n}(i.ZP.Store);U.displayName="ChannelSettingsPermissionsStore";const G=new U(s.Z,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=R||t!==f.CoT.PERMISSIONS)return!1;D()},CHANNEL_SETTINGS_PERMISSIONS_INIT:D,CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t=e.id,n=e.allow,r=e.deny,i=null==A?void 0:A[t];if(null==i||null==R)return!1;i=_(m({},i),{allow:n,deny:r});A=_(m({},A),E({},t,i));T.add(t);N=f.QZA.OPEN;C=!o().isEqual(A,P);I=l.ZP.areChannelsLocked(R,j)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=A&&null!=A[t])M=t;else{if(null==R)return!1;w=t}},CHANNEL_SETTINGS_CLOSE:function(){N=f.QZA.CLOSED;A=null;P=null;R=null;j=null;C=!1;T.clear();M=null;w=null},CHANNEL_UPDATES:function(e){var t=e.channels;if(null==R)return!1;var n=!1,r=!0,o=!1,i=void 0;try{
for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){!1!==Z(a.value.id)&&(n=!0)}}catch(e){o=!0;i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(){N=f.QZA.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){if(e.silent)N=f.QZA.OPEN;else{N=f.QZA.CLOSED;D()}},CHANNEL_SETTINGS_PERMISSIONS_SET_ADVANCED_MODE:function(e){var t=e.advancedMode;x=t;a.Z.set(d.kf,t)}})},367891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(496486),o=n.n(r),i=n(730381),a=n.n(i),s=n(202351),l=n(281110),c=n(744564),u=n(382060),f=n(848285),d=n(424158),p=n(722406),h=n(61209),E=n(2590);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return _(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var T,N,C,A,P,R,j=E.QZA.CLOSED,M={},w={},x=!1,L=!1,D=null,Z=["name","type","topic_","bitrate_","userLimit_","nsfw_","flags_","rateLimitPerUser_","defaultThreadRateLimitPerUser","defaultAutoArchiveDuration","template","defaultReactionEmoji","rtcRegion","videoQualityMode","threadMetadata","banner","availableTags","defaultSortOrder","defaultForumLayout","iconEmoji","themeColor"]
;function U(e){if(null==C||C.id!==e)return!1;if(C===A){var t=h.Z.getChannel(e);if(null==t)return!1;A=C=t;P=h.Z.getChannel(A.parent_id)}else{var n=h.Z.getChannel(e);if(null==n)return!1;C=n;if(null!=A){A=A.set("permissionOverwrites",C.permissionOverwrites);P=h.Z.getChannel(A.parent_id)}}return!0}function G(e){var t=h.Z.getChannel(e.channelId);if(null==t)return B();j=E.QZA.OPEN;A=C=t;D="location"in e&&null!=e.location?e.location:null;N="subsection"in e?e.subsection:null;null!=A&&(A=A.set("nsfw",A.isNSFW()));P=h.Z.getChannel(A.parent_id);R=A.getGuildId();M={};k({type:"CHANNEL_SETTINGS_SET_SECTION",section:null!=T?T:E.CoT.OVERVIEW,subsection:N})}function k(e){T=e.section;N=e.subsection;if(null!=A&&T===E.CoT.INSTANT_INVITES){x=!0;l.Z.get({url:E.ANM.INSTANT_INVITES(A.id),oldFormErrors:!0}).then((function(e){x=!1;c.Z.dispatch({type:"CHANNEL_SETTINGS_LOADED_INVITES",invites:e.body})}),(function(){return x=!1}))}}function B(){L=!1;j=E.QZA.CLOSED;T=null;A=C=null;P=null;w={}}
var H=o().debounce((function(){if(null==A||null==C)return!1;var e=A.toJS(),t=C.toJS();if(Z.every((function(n){return e[n]===t[n]}))&&A!==C){A=C;Y.emitChange()}}),500);function V(e){return new d.Z({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new p.Z(e.inviter):null,channel:(0,u.jD)(e.channel),guild:null!=e.guild?new f.Z(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:a()(e.created_at),type:e.type})}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=S(n);function n(){y(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(h.Z)};r.hasChanges=function(){return A!==C};r.isOpen=function(){return L};r.getSection=function(){return T};r.getInvites=function(){return{invites:w,loading:x}}
;r.showNotice=function(){return this.hasChanges()};r.getChannel=function(){return A};r.getFormState=function(){return j};r.getCategory=function(){return P};r.getProps=function(){return{submitting:j===E.QZA.SUBMITTING,errors:M,channel:A,section:T,subsection:N,invites:w,selectedOverwriteId:R,hasChanges:this.hasChanges(),analyticsLocation:D}};r.__getLocalVars=function(){return{formState:j,section:T,subsection:N,originalChannel:C,channel:A,category:P,errors:M,invites:w,selectedOverwriteId:R,loadingInvites:x,open:L,analyticsLocation:D,CHANNEL_PROPERTIES:Z,validateUpdate:H,storeInstance:Y}};return n}(s.ZP.Store);F.displayName="ChannelSettingsStore";var Y=new F(c.Z,{CHANNEL_SETTINGS_INIT:G,CHANNEL_SETTINGS_OPEN:function(e){L=!0;G(e)},CHANNEL_SETTINGS_SUBMIT:function(){j=E.QZA.SUBMITTING;M={}},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(){C=A;j=E.QZA.OPEN},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){j=E.QZA.OPEN;var t;M=Object.keys(null!==(t=e.errors)&&void 0!==t?t:{}).reduce((function(t,n){
var o=e.errors[n];(0,r.isArray)(o)?t[n]=o.join("\n"):t[n]=o;return t}),{})},CHANNEL_SETTINGS_CLOSE:B,CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;R=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,o=e.bitrate,i=e.userLimit,a=e.nsfw,s=e.flags,l=e.rateLimitPerUser,c=e.defaultThreadRateLimitPerUser,u=e.autoArchiveDuration,f=e.locked,d=e.invitable,p=e.defaultAutoArchiveDuration,h=e.template,E=e.defaultReactionEmoji,y=e.rtcRegion,m=e.videoQualityMode,_=e.availableTags,v=e.defaultSortOrder,O=e.defaultForumLayout,I=e.iconEmoji,S=e.themeColor;if(null==A)return!1;null!=t&&(A=A.set("name",t));null!=r&&(A=A.set("topic",r));null!=o&&(A=A.set("bitrate",o));null!=i&&(A=A.set("userLimit",i));null!=a&&(A=A.set("nsfw",a));null!=s&&(A=A.set("flags",s));null!=l&&(A=A.set("rateLimitPerUser",l));null!=c&&(A=A.set("defaultThreadRateLimitPerUser",c));null!=u&&(A=A.set("threadMetadata",b(g({},A.threadMetadata),{autoArchiveDuration:u})))
;null!=f&&(A=A.set("threadMetadata",b(g({},A.threadMetadata),{locked:f})));null!=d&&(A=A.set("threadMetadata",b(g({},A.threadMetadata),{invitable:d})));null!=p&&(A=A.set("defaultAutoArchiveDuration",p));null!=h&&(A=A.set("template",h));null!=n&&(A=A.set("type",n));void 0!==y&&(A=A.set("rtcRegion",y));null!=m&&(A=A.set("videoQualityMode",m));void 0!==E&&(A=A.set("defaultReactionEmoji",E));null!=_&&(A=A.set("availableTags",_));null!=v&&(A=A.set("defaultSortOrder",v));null!=O&&(A=A.set("defaultForumLayout",O));void 0!==I&&(A=A.set("iconEmoji",I));null!=S&&(A=A.set("themeColor",S));H()},CHANNEL_SETTINGS_SET_SECTION:k,CHANNEL_SETTINGS_LOADED_INVITES:function(e){w={};e.invites.forEach((function(e){w[e.code]=V(e)}))},CHANNEL_UPDATES:function(e){var t=e.channels;if(null==A)return!1;var n=!1,r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(U(a.value.id)&&null!=A){null!=R&&null==A.permissionOverwrites[R]&&(R=A.getGuildId());n=!0}}}catch(e){o=!0;i=e}finally{
try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},CHANNEL_DELETE:function(e){var t=e.channel.id;if(null==A)return!1;if(A.id!==t)return!1;j=E.QZA.CLOSED},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(w=g({},w))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){w=b(g({},w),m({},e.invite.code,V(e.invite)))}});const z=Y},449420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(202351),o=n(744564),i=n(281110),a=n(2590),s=n(567403);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var E=864e5,y={},m=function(){y={guildAffinitiesByGuildId:{},guildAffinities:[],lastFetched:0}};m();var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(y=e);this.waitFor(s.Z)};r.getState=function(){return y};r.getGuildAffinity=function(e){return y.guildAffinitiesByGuildId[e]};r.__getLocalVars=function(){return{AFFINITY_DATA_TTL:E,state:y,setDefaultState:m}};!function(e,t,n){t&&c(e.prototype,t);n&&c(e,n)}(n,[{key:"affinities",get:function(){return y.guildAffinities}},{key:"hasRequestResolved",get:function(){return 0!==y.lastFetched}}]);return n}(r.ZP.PersistedStore);_.displayName="GuildAffinitiesStore";_.persistKey="GuildAffinitiesStore";const g=new _(o.Z,{CONNECTION_OPEN:function(){Date.now()-y.lastFetched>E&&i.Z.get({url:a.ANM.GUILD_AFFINITIES,oldFormErrors:!0}).then((function(e){var t=e.body.guild_affinities;o.Z.dispatch({type:"LOAD_GUILD_AFFINITIES_SUCCESS",guildAffinities:t})}),(function(){o.Z.dispatch({
type:"LOAD_GUILD_AFFINITIES_FAILURE"})}));return!1},LOAD_GUILD_AFFINITIES_SUCCESS:function(e){var t=e.guildAffinities;y.guildAffinities=[];y.guildAffinitiesByGuildId={};y.lastFetched=Date.now();t.forEach((function(e,t){var n=e.affinity,r=e.guild_id,o={score:n,guildId:r,index:t};y.guildAffinitiesByGuildId[r]=o;y.guildAffinities.push(o)}))},LOGOUT:function(){m()}})},470758:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(202351),o=n(744564),i=n(473903),a=n(2590);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var f=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p=null;var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=d(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getHouseMembership=function(){return p};r.__getLocalVars=function(){return{houseID:p}};return n}(r.ZP.Store);h.displayName="HypeSquadStore"
;const E=new h(o.Z,{CONNECTION_OPEN:function(){var e=i.default.getCurrentUser();null!=e&&(e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_1)?p=a.gkr.HOUSE_1:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_2)?p=a.gkr.HOUSE_2:e.hasFlag(a.xW$.HYPESQUAD_ONLINE_HOUSE_3)&&(p=a.gkr.HOUSE_3))},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(){p=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){p=e.houseID}})},517205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),s=n(428234),l=n(736818),c=n(870614),u=n(604945),f=n(2590);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function E(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var _,g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var v={};function O(e,t){if(null==_)throw new Error("Creating RTCConnection without session.");var n=c.Z.getLobby(e);if(null==n)throw new Error("Creating RTCConnection without lobby.");var r=n.application_id,o=new s.Z({userId:l.default.getId(),sessionId:_,guildId:e,channelId:t,context:r});o.on("state",(function(t,n,r){a.Z.dispatch(E(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({type:"RTC_CONNECTION_STATE",state:t},n,r),{lobbyId:e}))}))
;o.on("ping",(function(t,n){a.Z.dispatch({type:"RTC_CONNECTION_PING",pings:t,quality:n,lobbyId:e})}));o.on("outboundlossrate",(function(t){a.Z.dispatch({type:"RTC_CONNECTION_LOSS_RATE",lossRate:t,lobbyId:e})}));return o}function I(){o().forEach(v,(function(e,t){e.destroy();delete v[t]}))}function S(e,t,n){var r=v[e];return null!=r?t(r):n}function T(e){var t=e.lobbyId,n=v[t];if(null==n)return!1;n.destroy();delete v[t]}function N(){return!0}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=b(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.forEach=function(e){o().each(v,e)};r.getState=function(e){return S(e,(function(e){return e.state}),f.hes.DISCONNECTED)};r.isConnected=function(e){return this.getState(e)===f.hes.RTC_CONNECTED}
;r.isDisconnected=function(e){return this.getState(e)===f.hes.DISCONNECTED};r.getHostname=function(e){return S(e,(function(e){return e.hostname}),null)};r.getQuality=function(e){return S(e,(function(e){return e.quality}),f.IE4.UNKNOWN)};r.getPings=function(e){return S(e,(function(e){return e.getPings()}),[])};r.getAveragePing=function(e){return S(e,(function(e){return e.getAveragePing()}),0)};r.getLastPing=function(e){return S(e,(function(e){return e.getLastPing()}),0)};r.getOutboundLossRate=function(e){return S(e,(function(e){return e.getOutboundLossRate()}),0)};r.getMediaSessionId=function(e){return S(e,(function(e){return e.getMediaSessionId()}),null)};r.getRTCConnectionId=function(e){return S(e,(function(e){return e.getRTCConnectionId()}),null)};r.getDuration=function(e){return S(e,(function(e){return e.getDuration()}),0)};r.__getLocalVars=function(){return{sessionId:_,rtcConnections:v}};return n}(i.ZP.Store);C.displayName="RTCConnectionStore";const A=new C(a.Z,u.Z.isSupported()?{
CONNECTION_OPEN:function(e){_=e.sessionId;I()},CONNECTION_CLOSED:function(){_=null;I()},RTC_CONNECTION_STATE:N,RTC_CONNECTION_PING:N,RTC_CONNECTION_LOSS_RATE:N,RTC_CONNECTION_UPDATE_ID:function(e){return o().some(v,(function(t){return t===e.connection}))},LOBBY_VOICE_STATE_UPDATE:function(e){if(l.default.getId()!==e.userId)return!1;if(e.sessionId!==_)return!1;var t=v[e.lobbyId];if(null!=t&&null==e.channelId){t.destroy();delete v[e.lobbyId]}else if(null!=t)t.channelId=e.channelId;else if(null!=e.channelId){t=O(e.lobbyId,e.channelId);v[e.lobbyId]=t}},LOBBY_VOICE_SERVER_UPDATE:function(e){var t=v[e.lobbyId];if(null==t)return!1;t.connect(e.endpoint,e.token)},LOBBY_DELETE:T,LOBBY_DISCONNECT:T}:{})},108106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(693959),l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=m(n);function n(){c(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e,t=this.props,n=t.tag,o=t.children,i=t.hoverText,s=t.className,c=t.forceHover,f=p(t,["tag","children","hoverText","className","forceHover"]);return(0,r.jsxs)("div",d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},f),{className:a()(s,l().hoverRoll,(e={},u(e,l().disabled,null==i),u(e,l().forceHover,c),e)),children:[(0,r.jsx)(n,{className:l().hovered,children:i}),(0,r.jsx)(n,{className:l().default,children:o})]}))};return n}(o.PureComponent);_.defaultProps={tag:"div",forceHover:!1};const g=_},399370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p})
;var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),s=n(794921),l=n.n(s);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t,n=e.padded,o=void 0===n||n,s=e.inset,p=void 0!==s&&s,h=e.active,E=void 0!==h&&h,y=e.className,m=e.children,_=e.onClick,g=d(e,["padded","inset","active","className","children","onClick"]);if(null!=_){var b;return(0,r.jsx)(a.Clickable,f(u({onClick:_,tabIndex:null!=_?0:-1,className:i()(y,(b={},c(b,l().outer,!p),c(b,l().inset,p),c(b,l().padded,o),c(b,l().active,E),c(b,l().interactive,null!=_),b))},g),{children:m}))}return(0,r.jsx)("div",f(u({className:i()(y,(t={},c(t,l().outer,!p),c(t,l().inset,p),c(t,l().padded,o),c(t,l().active,E),t))},g),{children:m}))}},734318:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l
});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}
function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsxs)("g",{className:d,fill:f,clipPath:"url(#a)",children:[(0,r.jsx)("path",{
d:"M14.8377 9.86956a2.79875 2.79875 0 0 1 1.9166.70444 2.7981 2.7981 0 0 1 .9278 1.8188.59587.59587 0 0 1 .0459.2753v9.4968H4.51517v-8.2581l9.17563-3.8078a3.2101 3.2101 0 0 1 1.1469-.22944Zm0-1.83512a5.23024 5.23024 0 0 0-1.8351.36703L3.27647 12.4387a.96346.96346 0 0 0-.59641.9176v9.6344c0 .2676.10633.5244.29562.7137.18928.1892.446.2956.71369.2956H19.5631V12.6681c0-.1376-.0458-.2753-.0458-.4129-.1041-1.164-.644-2.2457-1.5118-3.02835a4.63378 4.63378 0 0 0-3.1678-1.19241Z"}),(0,r.jsx)("path",{d:"M19.563 24c.4889-.0735.9351-.32 1.2577-.6946a2.06455 2.06455 0 0 0 0-2.6939 2.06443 2.06443 0 0 0-1.2577-.6946M10.6797 3.3208c0-.6889.8077-2.32504 1.2308-3.1431.0266-.05384.0656-.09872.1129-.12997C12.0708.01648 12.1247 0 12.1797 0c.0549 0 .1089.01648.1563.04773.0473.03125.0863.07613.1129.12996.4616.81807 1.2308 2.45421 1.2308 3.14311 0 .44535-.158.87246-.4394 1.18737C12.959 4.82308 12.5775 5 12.1797 5c-.3978 0-.7794-.17692-1.0607-.49183s-.4393-.74202-.4393-1.18737Z"}),(0,r.jsx)("path",{
fillRule:"evenodd",d:"M12.1797 6.16742c.8284 0 1.5.67157 1.5 1.5V11.2c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5V7.66742c0-.82843.6716-1.5 1.5-1.5Z",clipRule:"evenodd"}),(0,r.jsx)("path",{d:"M4.51529 13.2187c-.4867 0-.95347.1933-1.29762.5375a1.83498 1.83498 0 0 0-.53749 1.2976v7.9369A1.0093 1.0093 0 0 0 3.68949 24H19.5633V13.2187H4.51529Zm9.17561 8.258H4.79056v-2.0645h8.90034c.2607.021.5054.134.6903.319.185.1849.298.4296.319.6903.0062.1364-.0153.2726-.0632.4004-.048.1278-.1213.2445-.2157.3432a1.0077 1.0077 0 0 1-.3333.2306 1.00732 1.00732 0 0 1-.3971.081Zm0-4.0372H4.79056V15.375h8.90034a.96291.96291 0 0 1 .377.0899.96339.96339 0 0 1 .3112.2312c.1083.0878.194.2002.2499.3279.0558.1278.0803.267.0712.4061 0 .2677-.1063.5245-.2956.7137-.1893.1893-.446.2957-.7137.2957Z"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}))}},439283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878))
;function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){
var t=e.width,n=void 0===t?124:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 124 24",children:(0,r.jsxs)("g",{fill:f,className:d,children:[(0,r.jsx)("path",{
d:"M26.2421 2.00996C24.2367 1.07098 22.0925 0.388543 19.8509 0C19.5755 0.498132 19.2539 1.16812 19.0322 1.70112C16.6492 1.34247 14.2881 1.34247 11.949 1.70112C11.7273 1.16812 11.3983 0.498132 11.1206 0C8.87648 0.388543 6.72984 1.07347 4.72453 2.01494C0.679785 8.132 -0.41668 14.0971 0.131553 19.9776C2.81424 21.9826 5.41408 23.2005 7.97006 23.9975C8.60114 23.1283 9.16399 22.2042 9.64888 21.2304C8.72541 20.8792 7.84093 20.4458 7.00517 19.9427C7.2269 19.7783 7.44376 19.6065 7.65331 19.4296C12.7507 21.8157 18.289 21.8157 23.3255 19.4296C23.5374 19.6065 23.7543 19.7783 23.9736 19.9427C23.1354 20.4483 22.2485 20.8817 21.325 21.2329C21.8099 22.2042 22.3703 23.1308 23.0038 24C25.5622 23.203 28.1645 21.9851 30.8472 19.9776C31.4905 13.1606 29.7483 7.25031 26.2421 2.00996ZM10.3433 16.3611C8.81313 16.3611 7.55828 14.9315 7.55828 13.1905C7.55828 11.4496 8.78632 10.0174 10.3433 10.0174C11.9003 10.0174 13.1551 11.4471 13.1283 13.1905C13.1308 14.9315 11.9003 16.3611 10.3433 16.3611ZM20.6355 16.3611C19.1053 16.3611 17.8504 14.9315 17.8504 13.1905C17.8504 11.4496 19.0785 10.0174 20.6355 10.0174C22.1924 10.0174 23.4473 11.4471 23.4205 13.1905C23.4205 14.9315 22.1924 16.3611 20.6355 16.3611Z"
}),(0,r.jsx)("path",{d:"M41.6289 6.12256H48.2808C49.8841 6.12256 51.2388 6.3791 52.3499 6.88968C53.4586 7.40027 54.2894 8.1126 54.8401 9.02418C55.3908 9.93576 55.6685 10.9793 55.6685 12.1549C55.6685 13.3056 55.381 14.3492 54.806 15.2832C54.2309 16.2197 53.3562 16.9594 52.1793 17.5049C51.0025 18.0503 49.5454 18.3243 47.8032 18.3243H41.6289V6.12256ZM47.735 15.2234C48.8144 15.2234 49.6453 14.947 50.2252 14.3965C50.8051 13.8436 51.0951 13.0914 51.0951 12.1375C51.0951 11.2533 50.8368 10.5485 50.3202 10.0204C49.8037 9.49242 49.0215 9.22592 47.9762 9.22592H45.8954V15.2234H47.735Z"}),(0,r.jsx)("path",{
d:"M65.6272 18.3094C64.7061 18.0654 63.8752 17.7117 63.137 17.2459V14.3518C63.6949 14.7926 64.443 15.1563 65.3811 15.4427C66.3191 15.7266 67.2256 15.8686 68.1027 15.8686C68.5121 15.8686 68.8215 15.8138 69.0311 15.7042C69.2406 15.5946 69.3454 15.4626 69.3454 15.3107C69.3454 15.1363 69.2894 14.9919 69.1748 14.8748C69.0603 14.7578 68.8386 14.6606 68.5096 14.5784L66.4629 14.1077C65.2909 13.8287 64.46 13.4427 63.9654 12.947C63.4708 12.4539 63.2247 11.8063 63.2247 11.0043C63.2247 10.3294 63.4391 9.74406 63.8728 9.24343C64.3041 8.74281 64.9181 8.35676 65.7149 8.08528C66.5116 7.8113 67.4424 7.67432 68.5121 7.67432C69.4672 7.67432 70.342 7.77892 71.1387 7.98814C71.9355 8.19736 72.5934 8.46386 73.1172 8.79013V11.5274C72.5812 11.2011 71.9672 10.9446 71.2654 10.7503C70.5661 10.5585 69.8473 10.4639 69.1066 10.4639C68.0369 10.4639 67.5033 10.6507 67.5033 11.0218C67.5033 11.1961 67.5862 11.3256 67.7519 11.4128C67.9176 11.5 68.2221 11.5896 68.6631 11.6843L70.3688 11.9981C71.4823 12.1949 72.3132 12.5411 72.859 13.0342C73.4047 13.5274 73.6777 14.2571 73.6777 15.2235C73.6777 16.282 73.2269 17.1214 72.3229 17.7441C71.4189 18.3667 70.1373 18.6781 68.4755 18.6781C67.4985 18.6756 66.5482 18.5535 65.6272 18.3094Z"
}),(0,r.jsx)("path",{d:"M77.703 17.9432C76.726 17.455 75.9877 16.7925 75.4955 15.9557C75.0033 15.1188 74.7548 14.1773 74.7548 13.1312C74.7548 12.0852 75.0106 11.1487 75.5223 10.3243C76.034 9.49986 76.7844 8.85229 77.7737 8.38155C78.763 7.91082 79.9447 7.6767 81.3214 7.6767C83.027 7.6767 84.4426 8.04282 85.5683 8.77508V11.9656C85.1712 11.6867 84.7082 11.46 84.1795 11.2857C83.6508 11.1113 83.0855 11.0241 82.4812 11.0241C81.4237 11.0241 80.5977 11.2209 80.0007 11.6169C79.4038 12.0129 79.1041 12.5285 79.1041 13.1686C79.1041 13.7962 79.394 14.3093 79.9739 14.7128C80.5538 15.1138 81.3945 15.3156 82.4982 15.3156C83.066 15.3156 83.6264 15.2309 84.1795 15.064C84.7302 14.8946 85.2053 14.6879 85.6025 14.4438V17.5297C84.3525 18.2969 82.9027 18.6804 81.2531 18.6804C79.8643 18.6755 78.6801 18.4314 77.703 17.9432Z"}),(0,r.jsx)("path",{
d:"M89.8227 17.9433C88.8383 17.4551 88.0878 16.7876 87.5713 15.9383C87.0547 15.089 86.794 14.1425 86.794 13.0965C86.794 12.0504 87.0523 11.1164 87.5713 10.297C88.0903 9.47754 88.8359 8.83495 89.8154 8.3692C90.7925 7.90345 91.9596 7.67181 93.3119 7.67181C94.6642 7.67181 95.8313 7.90345 96.8084 8.3692C97.7855 8.83495 98.5311 9.47256 99.0428 10.287C99.5544 11.1015 99.8103 12.0354 99.8103 13.094C99.8103 14.1401 99.5544 15.0865 99.0428 15.9358C98.5311 16.7851 97.783 17.4526 96.7987 17.9408C95.8143 18.429 94.652 18.6731 93.3095 18.6731C91.9669 18.6731 90.8046 18.4315 89.8227 17.9433ZM95.0053 14.8499C95.4195 14.4265 95.6291 13.8661 95.6291 13.1687C95.6291 12.4713 95.422 11.9159 95.0053 11.5049C94.5911 11.0915 94.0258 10.8848 93.3095 10.8848C92.5809 10.8848 92.0108 11.0915 91.5941 11.5049C91.1799 11.9184 90.9728 12.4713 90.9728 13.1687C90.9728 13.8661 91.1799 14.4265 91.5941 14.8499C92.0083 15.2733 92.5809 15.4875 93.3095 15.4875C94.0258 15.485 94.5911 15.2733 95.0053 14.8499Z"}),(0,
r.jsx)("path",{d:"M110.059 8.31931V12.0852C109.625 11.7938 109.065 11.6493 108.37 11.6493C107.461 11.6493 106.76 11.9308 106.272 12.4937C105.782 13.0565 105.539 13.9333 105.539 15.1188V18.3268H101.36V8.12753H105.454V11.3704C105.68 10.1848 106.048 9.31059 106.555 8.74521C107.059 8.18232 107.712 7.90088 108.507 7.90088C109.108 7.90088 109.625 8.04036 110.059 8.31931Z"}),(0,r.jsx)("path",{
d:"M123.942 5.77393V18.3268H119.763V16.0429C119.41 16.9022 118.874 17.5572 118.153 18.0056C117.432 18.4514 116.54 18.6755 115.482 18.6755C114.537 18.6755 113.713 18.4414 113.009 17.9707C112.305 17.5 111.762 16.8549 111.379 16.0354C110.999 15.216 110.806 14.2895 110.806 13.2534C110.794 12.1849 110.997 11.226 111.413 10.3767C111.827 9.52735 112.415 8.86483 113.17 8.38912C113.925 7.9134 114.788 7.6743 115.755 7.6743C117.746 7.6743 119.081 8.55848 119.763 10.3244V5.77393H123.942ZM119.14 14.7802C119.566 14.3567 119.778 13.8063 119.778 13.1338C119.778 12.4838 119.571 11.9533 119.157 11.5473C118.742 11.1413 118.175 10.9371 117.461 10.9371C116.757 10.9371 116.194 11.1438 115.772 11.5572C115.351 11.9707 115.141 12.5062 115.141 13.1687C115.141 13.8312 115.351 14.3717 115.772 14.7901C116.194 15.2085 116.749 15.4178 117.444 15.4178C118.148 15.4153 118.713 15.2036 119.14 14.7802Z"}),(0,r.jsx)("path",{
d:"M59.1896 9.21341C60.3401 9.21341 61.2728 8.35701 61.2728 7.30058C61.2728 6.24416 60.3401 5.38776 59.1896 5.38776C58.039 5.38776 57.1063 6.24416 57.1063 7.30058C57.1063 8.35701 58.039 9.21341 59.1896 9.21341Z"}),(0,r.jsx)("path",{d:"M57.1044 10.531C58.3811 11.0939 59.9649 11.1188 61.2709 10.531V18.3816H57.1044V10.531Z"})]})}))}},416044:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.foreground,p=s(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",
fillRule:"evenodd",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M8.67872 19H11V21H7V23H17V21H13V19H20C21.103 19 22 18.104 22 17V6C22 5.89841 21.9924 5.79857 21.9777 5.70101L20 7.67872V15H12.6787L8.67872 19ZM13.1496 6H4V15H4.14961L2.00515 17.1445C2.00174 17.0967 2 17.0486 2 17V6C2 4.897 2.897 4 4 4H15.1496L13.1496 6Z"}),(0,r.jsx)("rect",{x:"2",y:"20",width:"26",height:"2",transform:"rotate(-45 2 20)",fill:"#ed4245"})]})}))}},382518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e){var t=e.width,n=void 0===t?24:t,l=e.height,c=void 0===l?24:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M17.722 3.00098H21C21.553 3.00098 22 3.44898 22 4.00098V8.00098C22 8.30498 21.861 8.59298 21.625 8.78198L16.696 12.724C15.794 13.86 14.49 14.659 13 14.911V16.001H15C15.553 16.001 16 16.449 16 17.001V19.001H8V17.001C8 16.449 8.447 16.001 9 16.001H11V14.911C9.51 14.659 8.206 13.86 7.304 12.724L2.375 8.78198C2.139 8.59298 2 8.30498 2 8.00098V4.00098C2 3.44898 2.447 3.00098 3 3.00098H6.278C6.625 2.40598 7.263 2.00098 8 2.00098H16C16.738 2.00098 17.375 2.40598 17.722 3.00098ZM4 5.00098V7.52098L6.006 9.12598C6.006 9.10435 6.00448 9.08348 6.00297 9.06274C6.00148 9.04224 6 9.02185 6 9.00098V5.00098H4ZM17.994 9.12698L20 7.52098V5.00098H18V9.00098C18 9.02173 17.9985 9.042 17.9971 9.0625C17.9955 9.08349 17.994 9.10472 17.994 9.12698ZM7 20.001H17V22.001H7V20.001Z"})}))}},313197:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}function l(e){var t=e.width,n=void 0===t?20:t,l=e.height,c=void 0===l?16:l,u=e.color,f=void 0===u?"currentColor":u,d=e.className,p=e.foreground,h=s(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({className:d,width:n,height:c,viewBox:"0 0 20 16"},(0,o.Z)(h)),{children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{className:p,fill:f,
d:"M1,14.1538462 L1.95,14.1538462 C3.73125,14.1538462 5.5125,13.5384615 6.81875,12.4307692 C5.15625,12.4307692 3.73125,11.2 3.1375,9.6 C3.375,9.6 3.6125,9.72307692 3.85,9.72307692 C4.20625,9.72307692 4.5625,9.72307692 4.91875,9.6 C3.1375,9.23076923 1.7125,7.63076923 1.7125,5.66153846 C2.1875,5.90769231 2.78125,6.15384615 3.49375,6.15384615 C2.425,5.41538462 1.83125,4.18461538 1.83125,2.70769231 C1.83125,1.96923077 2.06875,1.23076923 2.30625,0.615384615 C4.20625,3.07692308 7.05625,4.67692308 10.38125,4.8 C10.2625,4.67692308 10.2625,4.30769231 10.2625,4.06153846 C10.2625,1.84615385 12.04375,0 14.18125,0 C15.25,0 16.31875,0.492307692 17.03125,1.23076923 C17.8625,1.10769231 18.8125,0.738461538 19.525,0.246153846 C19.2875,1.23076923 18.575,1.96923077 17.8625,2.46153846 C18.575,2.46153846 19.2875,2.21538462 20,1.84615385 C19.525,2.70769231 18.8125,3.32307692 18.1,3.93846154 L18.1,4.43076923 C18.1,9.84615385 14.18125,16 6.9375,16 C4.68125,16 2.6625,15.3846154 1,14.1538462 Z"}),(0,
r.jsx)("rect",{width:"20",height:"16"})]})}))}},786502:(e,t,n)=>{"use strict";n.d(t,{bm:()=>o,an:()=>v,rh:()=>O,Sz:()=>I,Vg:()=>R,ZP:()=>j});var r,o,i=n(258104),a=n(61209),s=n(21372),l=n(717091),c=n(840922),u=n(473903),f=n(796909),d=n(504275),p=n(2590),h=n(718634),E=n(473708);function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}r=n(218146);!function(e){e.GROUP_DM="GROUP_DM";e.DM="DM";e.FRIEND="FRIEND";e.CHANNEL="CHANNEL"}(o||(o={}));var g=function(e,t){return null!=e&&s.ZP.isMember(e,t)},b=function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.omitGuildId,i=e.shownUserIds,s=e.rows,c=e.counts,d=e.includeGroupDms,h=e.limit,E=0,y=!0,m=!1,_=void 0;try{for(var b,v=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(y=(b=v.next()).done);y=!0){var O=b.value;if(null!=n&&n>0&&s.length>=n)break;if(null!=h&&E>=h)break;var I=a.Z.getChannel(O);if(null!=I&&I.isPrivate())if(d&&I.type===p.d4z.GROUP_DM){s.push({type:o.GROUP_DM,item:I,isSuggested:!1});c.numGroupDms++;E++}else{if(null!=l.ZP.lastMessageId(I.id)){var S=I.getRecipientId();if(null!=S&&!t.has(S)&&!i.has(S)){var T=u.default.getUser(S);if(null==T||T.bot||g(r,T.id))continue
;i.add(T.id);s.push({type:o.DM,item:T,isSuggested:!1});c.numDms++;E++}}}}}catch(e){m=!0;_=e}finally{try{y||null==v.return||v.return()}finally{if(m)throw _}}};function v(e){var t=e.query,n=e.inviteTargetType,r=e.omitUserIds,i=e.suggestedUserIds,s=e.suggestedChannelIds,f=e.maxRowsWithoutQuery,p=e.omitGuildId,E=new Set,y=[],v={numFriends:0,numDms:0,numGroupDms:0,numGuildMembers:0,numChannels:0};if(""===t){var O={omitUserIds:r,maxRowsWithoutQuery:f,omitGuildId:p,shownUserIds:E,rows:y,counts:v};if(n===h.Iq.EMBEDDED_APPLICATION){b(_(m({},O),{includeGroupDms:!1,limit:1}));!function(e){var t=e.suggestedChannelIds,n=e.maxRowsWithoutQuery,r=e.rows,i=e.counts;if(null!=t){var s=!0,l=!1,c=void 0;try{for(var u,f=t[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var d=u.value;if(null!=n&&n>0&&r.length>=n)break;var p=a.Z.getChannel(d);if(null!=p){r.push({type:o.CHANNEL,item:p,isSuggested:!0});i.numChannels++}}}catch(e){l=!0;c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}}
}(_(m({},O),{suggestedChannelIds:s}))}!function(e){var t=e.omitUserIds,n=e.suggestedUserIds,r=e.maxRowsWithoutQuery,i=e.omitGuildId,a=e.shownUserIds,s=e.rows,l=e.counts;if(null!=n){var c=!0,f=!1,d=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var E=p.value;if(null!=r&&r>0&&s.length>=r)break;if(!t.has(E)&&!a.has(E)){var y=u.default.getUser(E);if(null!=y&&!g(i,y.id)){a.add(y.id);s.push({type:o.FRIEND,item:y,isSuggested:!0});l.numFriends++}}}}catch(e){f=!0;d=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw d}}}}(_(m({},O),{suggestedUserIds:i}));b(_(m({},O),{includeGroupDms:!0}));!function(e){var t=e.omitUserIds,n=e.maxRowsWithoutQuery,r=e.omitGuildId,i=e.shownUserIds,a=e.rows,s=e.counts,l=!0,f=!1,d=void 0;try{for(var p,h=c.Z.getFriendIDs()[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var E=p.value;if(null!=n&&n>0&&a.length>=n)break;if(!t.has(E)&&!i.has(E)){var y=u.default.getUser(E);if(null!=y&&!g(r,y.id)){a.push({type:o.FRIEND,item:y,
isSuggested:!1});s.numFriends++}}}}catch(e){f=!0;d=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}}(O)}else{var I={query:t,rows:y,counts:v};n===h.Iq.EMBEDDED_APPLICATION&&function(e){var t=e.query,n=e.rows,r=e.counts;e.inviteTargetType===h.Iq.EMBEDDED_APPLICATION&&d.ZP.queryChannels({query:t,limit:3,guildId:void 0}).forEach((function(e){var t=e.record;n.push({type:o.CHANNEL,item:t,isSuggested:!1});r.numChannels++}))}(_(m({},I),{inviteTargetType:n}));!function(e){var t=e.query,n=e.omitUserIds,r=e.shownUserIds,i=e.rows,s=e.counts;d.ZP.queryDMUsers({query:t,limit:50}).forEach((function(e){var t=e.record;if(!n.has(t.id)){var c=a.Z.getDMFromUserId(t.id);if(null!=c&&null!=l.ZP.lastMessageId(c)){r.add(t.id);i.push({type:o.DM,item:t,isSuggested:!1});s.numDms++}}}))}(_(m({},I),{omitUserIds:r,shownUserIds:E}));!function(e){var t=e.query,n=e.rows,r=e.counts;d.ZP.queryGroupDMs({query:t,limit:50,fuzzy:!1}).forEach((function(e){var t=e.record;n.push({type:o.GROUP_DM,item:t,
isSuggested:!1});r.numGroupDms++}))}(I);!function(e){var t=e.query,n=e.rows,r=e.counts,i=e.omitUserIds,a=e.shownUserIds;d.ZP.queryFriends({query:t,limit:500,_fuzzy:!1}).forEach((function(e){var t=e.record;if(!i.has(t.id)&&!a.has(t.id)){a.add(t.id);n.push({type:o.FRIEND,item:t,isSuggested:!1});r.numFriends++}}))}(_(m({},I),{omitUserIds:r,shownUserIds:E}))}return{rows:y,counts:v}}function O(e,t){var n=!0,r=!1,o=void 0;try{for(var i,s=f.Z.getPrivateChannelIds()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var c=i.value,d=a.Z.getChannel(c);if(null!=d&&d.isDM()&&null!=l.ZP.lastMessageId(d.id)){var p=d.getRecipientId();if(null!=p&&!e.has(p)){var h=u.default.getUser(p);if(null==h||h.bot||g(t,h.id))continue;return h}}}}catch(e){r=!0;o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null}function I(e){var t=e.channel,n=e.inviteTargetType,r=e.applicationId;if(n===h.Iq.EMBEDDED_APPLICATION)if(null!=t){var o=!0,a=!1,s=void 0;try{
for(var l,c=i.ZP.getEmbeddedActivitiesForChannel(t.id)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u.application_id===r)return new Set(u.connections.keys())}}catch(e){a=!0;s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}return new Set}var S,T="minutes",N="hours",C="days",A="never",P=(y(S={},r.INVITE_OPTIONS_30_MINUTES.value,{value:30,type:T}),y(S,r.INVITE_OPTIONS_1_HOUR.value,{value:1,type:N}),y(S,r.INVITE_OPTIONS_6_HOURS.value,{value:6,type:N}),y(S,r.INVITE_OPTIONS_12_HOURS.value,{value:12,type:N}),y(S,r.INVITE_OPTIONS_1_DAY.value,{value:1,type:C}),y(S,r.INVITE_OPTIONS_7_DAYS.value,{value:7,type:C}),y(S,r.INVITE_OPTIONS_30_DAYS.value,{value:30,type:C}),y(S,r.INVITE_OPTIONS_FOREVER.value,{value:0,type:A}),S);function R(e,t){var n=parseInt(t,10),r=0===n,o=P[e].value;switch(P[e].type){case T:return r?E.Z.Messages.INVITE_EXPIRES_MINUTES:E.Z.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:n});case N:
return r?E.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:o}):E.Z.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:o,numUses:n});case C:return r?E.Z.Messages.INVITE_EXPIRES_DAYS_PLURAL.format({numDays:o}):E.Z.Messages.INVITE_EXPIRES_DAYS_OR_USES_PLURAL.format({numDays:o,numUses:n});case A:return r?E.Z.Messages.INVITE_EXPIRES_NEVER:E.Z.Messages.INVITE_EXPIRES_USES.format({numUses:n});default:return""}}const j={getMaxAgeOptions:r.MAX_AGE_OPTIONS,getMaxUsesOptions:r.MAX_USES_OPTIONS,INVITE_OPTIONS_FOREVER:r.INVITE_OPTIONS_FOREVER,INVITE_OPTIONS_1_DAY:r.INVITE_OPTIONS_1_DAY,INVITE_OPTIONS_7_DAYS:r.INVITE_OPTIONS_7_DAYS,INVITE_OPTIONS_30_DAYS:r.INVITE_OPTIONS_30_DAYS,INVITE_OPTIONS_12_HOURS:r.INVITE_OPTIONS_12_HOURS,INVITE_OPTIONS_6_HOURS:r.INVITE_OPTIONS_6_HOURS,INVITE_OPTIONS_1_HOUR:r.INVITE_OPTIONS_1_HOUR,INVITE_OPTIONS_30_MINUTES:r.INVITE_OPTIONS_30_MINUTES,INVITE_OPTIONS_UNLIMITED:r.INVITE_OPTIONS_UNLIMITED,INVITE_OPTIONS_ONCE:r.INVITE_OPTIONS_ONCE,
INVITE_OPTIONS_5_TIMES:r.INVITE_OPTIONS_5_TIMES,INVITE_OPTIONS_10_TIMES:r.INVITE_OPTIONS_10_TIMES,INVITE_OPTIONS_25_TIMES:r.INVITE_OPTIONS_25_TIMES,INVITE_OPTIONS_50_TIMES:r.INVITE_OPTIONS_50_TIMES,INVITE_OPTIONS_100_TIMES:r.INVITE_OPTIONS_100_TIMES}},218146:(e,t,n)=>{"use strict";n.r(t);n.d(t,{INVITE_OPTIONS_UNLIMITED:()=>i,INVITE_OPTIONS_ONCE:()=>a,INVITE_OPTIONS_5_TIMES:()=>s,INVITE_OPTIONS_10_TIMES:()=>l,INVITE_OPTIONS_25_TIMES:()=>c,INVITE_OPTIONS_50_TIMES:()=>u,INVITE_OPTIONS_100_TIMES:()=>f,MAX_USES_OPTIONS:()=>d,INVITE_OPTIONS_30_MINUTES:()=>p,INVITE_OPTIONS_1_HOUR:()=>h,INVITE_OPTIONS_6_HOURS:()=>E,INVITE_OPTIONS_12_HOURS:()=>y,INVITE_OPTIONS_1_DAY:()=>m,INVITE_OPTIONS_7_DAYS:()=>_,INVITE_OPTIONS_30_DAYS:()=>g,INVITE_OPTIONS_FOREVER:()=>b,MAX_AGE_OPTIONS:()=>v});var r=n(473708);function o(e,t){return{value:e,get label(){return t()}}}var i=o(0,(function(){return r.Z.Messages.MAX_USES.format({maxUses:0})})),a=o(1,(function(){return r.Z.Messages.MAX_USES.format({maxUses:1})
})),s=o(5,(function(){return r.Z.Messages.MAX_USES.format({maxUses:5})})),l=o(10,(function(){return r.Z.Messages.MAX_USES.format({maxUses:10})})),c=o(25,(function(){return r.Z.Messages.MAX_USES.format({maxUses:25})})),u=o(50,(function(){return r.Z.Messages.MAX_USES.format({maxUses:50})})),f=o(100,(function(){return r.Z.Messages.MAX_USES.format({maxUses:100})})),d=[i,a,s,l,c,u,f],p=o(1800,(function(){return r.Z.Messages.DURATION_MINUTES.format({minutes:30})})),h=o(3600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:1})})),E=o(21600,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:6})})),y=o(43200,(function(){return r.Z.Messages.DURATION_HOURS.format({hours:12})})),m=o(86400,(function(){return r.Z.Messages.DURATION_DAYS.format({days:1})})),_=o(604800,(function(){return r.Z.Messages.DURATION_DAYS.format({days:7})})),g=o(2592e3,(function(){return r.Z.Messages.DURATION_DAYS.format({days:30})})),b=o(0,(function(){return r.Z.Messages.MAX_AGE_NEVER
})),v=[p,h,E,y,m,_,g,b]},540110:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),s=n(179215),l=n.n(s),c=n(114837),u=n.n(c);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _(e,t){
return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var O={VERTICAL:l().flexVertical,HORIZONTAL:l().flexHorizontal,HORIZONTAL_REVERSE:l().flexHorizontalReverse},I={START:l().flexJustifyStart,END:l().flexJustifyEnd,CENTER:l().flexJustifyCenter,
BETWEEN:l().flexJustifyBetween,AROUND:l().flexJustifyAround},S={NO_WRAP:l().flexNowrap,WRAP:l().flexWrap,WRAP_REVERSE:l().flexWrapReverse},T={START:l().flexAlignStart,END:l().flexAlignEnd,CENTER:l().flexAlignCenter,STRETCH:l().flexAlignStretch},N={SMALL:u().flexGutterSmall,LARGE:u().flexGutterLarge},C=function(e){h(n,e);var t=v(n);function n(){f(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.shrink,s=e.grow,l=e.basis,c=e.style,f=e.wrap,d=m(e,["children","className","shrink","grow","basis","style","wrap"]),p=E({style:E({flexGrow:s,flexShrink:i,flexBasis:l},c),className:n===u().flexChild?n:a()(u().flexChild,n)},d);if(!f&&"string"!=typeof t&&1===o.Children.count(t)){var h=o.Children.only(t);p.style=E({},p.style,h.props.style);p.className=a()(h.props.className,n);return o.cloneElement(h,p)}return(0,r.jsx)("div",y(E({},p),{children:t}))};return n}(o.PureComponent);C.defaultProps={className:u().flexChild,style:{},wrap:!1}
;var A=function(e){h(n,e);var t=v(n);function n(){f(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.direction,i=e.justify,s=e.align,l=e.wrap,c=e.shrink,f=e.grow,d=e.basis,p=e.style,h=e.gutter,_=m(e,["children","className","direction","justify","align","wrap","shrink","grow","basis","style","gutter"]),g=E({flexShrink:c,flexGrow:f,flexBasis:d},p);return(0,r.jsx)("div",y(E({style:g,className:a()(u().flex,o,i,s,l,h,n)},_),{children:t}))};return n}(o.PureComponent);A.Child=C;A.Direction=O;A.Align=T;A.Justify=I;A.Wrap=S;A.Gutter=N;A.defaultProps={direction:O.HORIZONTAL,justify:I.START,align:T.STRETCH,wrap:S.WRAP,shrink:1,grow:1,basis:"auto",style:{}};const P=A}}]);
//# sourceMappingURL=99416e604e9e996e5482.js.map