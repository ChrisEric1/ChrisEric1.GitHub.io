(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=S();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=_(n(5)),i=_(n(74)),l=_(n(75)),u=_(n(3)),d=_(n(166)),s=_(n(313)),f=_(n(749)),c=_(n(330)),p=_(n(428)),v=_(n(465)),h=n(33),y=n(203),g=n(1),m=_(n(9636)),O=_(n(1086));function _(e){return e&&e.__esModule?e:{default:e}}function S(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return S=function(){return e},e}function E(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var I,M={left:m.default.popoutLeft,right:m.default.popoutRight,bottom:m.default.popoutBottom,"bottom-right":m.default.popoutBottomRight,"bottom-left":m.default.popoutBottomLeft,"top-left":m.default.popoutTopLeft,"top-right":m.default.popoutTopRight,top:m.default.popoutTop};!function(e){e.TOP="top",e.MIDDLE="middle"}(I||(I={}));var T={top:m.default.arrowAlignmentTop,middle:m.default.arrowAlignmentMiddle};function A(e){switch(e){case"left":return{x:-1,y:0};case"right":return{x:0,y:0};case"bottom":return{x:-.5,y:0};case"bottom-right":return{x:-1,y:0};case"bottom-left":return{x:0,y:0};case"top-left":return{x:0,y:-1};case"top-right":return{x:-1,y:-1};case"top":default:return{x:-.5,y:-1}}}var w=function(){function e(){this.animated=new l.default.ValueXY({x:0,y:0})}var t=e.prototype;return t.run=function(e,t,n){var a=t.position;this.animated.setValue(A(a)),n()},t.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),P=function(){function e(){this.animated=new l.default.ValueXY({x:0,y:0})}var t=e.prototype;return t.computeStyles=function(e){var t,n;switch(e){case"left":t={x:-1.05,y:0},n={x:-1,y:0};break;case"right":t={x:.05,y:0},n={x:0,y:0};break;case"bottom":t={x:-.5,y:.05},n={x:-.5,y:0};break;case"bottom-left":t={x:0,y:.05},n={x:0,y:0};break;case"bottom-right":t={x:0,y:.05},n={x:-1,y:0};break;case"top-left":t={x:0,y:-1.05},n={x:0,y:-1};break;case"top-right":t={x:0,y:-1.05},n={x:-1,y:-1};break;case"top":default:t={x:-.5,y:-1.05},n={x:-.5,y:-1}}return{startStyle:t,endStyle:n}},t.run=function(e,t,n){var a=t.position,r=this.computeStyles(a),o=r.startStyle,i=r.endStyle,u=e.getBoundingClientRect(),d=u.left,s=u.right,f=u.width;d-=10,s+=10;var c=f*i.x;if(s+=c,(d+=c)<0){var p=d/f;i.x+=p,o.x+=p}else if(s>window.innerWidth){var v=(s-window.innerWidth)/f;i.x-=v,o.x-=v}this.animated.setValue(o),l.default.timing(this.animated,{toValue:i,duration:150,easing:l.default.Easing.inOut(l.default.Easing.cubic)}).start(n)},t.getStyle=function(){return l.default.accelerate({transform:[{translateX:this.animated.x.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})},{translateY:this.animated.y.interpolate({inputRange:[-1.05,1.05],outputRange:["-105%","105%"]})}]})},e}(),k=function(){function e(){this.animated=new l.default.Value(0)}var t=e.prototype;return t.run=function(e,t,n){this.animated.setValue(0),l.default.spring(this.animated,{toValue:1,tension:80,friction:8,overshootClamping:!0}).start(n)},t.interpolate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.animated.interpolate({inputRange:[0,1],outputRange:t})},t.getStyle=function(e){var t,n=e.position,a=e.height,r=e.width,o=e.x,i=e.offsetX,u=e.clickPos,d=A(n);return a>0&&(t={height:this.interpolate(0,a),width:this.interpolate(0,r),left:this.interpolate(o+u,o+i)}),l.default.accelerate(N({},t,{overflow:"hidden",transform:[{translateY:100*d.y+"%"},{translateX:100*d.x+"%"}]}))},e}(),L=function(e){function t(t){var n,a;switch((n=e.call(this,t)||this).preventNextClose=!1,n.componentWillEnterCallback=function(){},n.close=function(e){if(n.preventNextClose&&f.default.isOpen())n.preventNextClose=!1;else{var t=n.props,a=t.popoutKey,r=t.preventCloseFromModal,o=t.preventClickPropagation,l=t.onClose;if(!r||!c.default.hasModalOpen()){if(null!=e){for(var u=e.target,d=i.default.findDOMNode(C(n));u instanceof Element;){if(u===d)return;if(null!=u.classList&&(u.classList.contains("popout-open")||u.classList.contains(O.default.layer)))return;u=u.parentNode}o&&(e.preventDefault(),e.stopPropagation())}l&&l(),s.default.close(a)}}},n.closeContext=function(e){if(null!=e)for(var t=e.target,a=i.default.findDOMNode(C(n));null!=t;){if(t===a)return void(n.preventNextClose=!0);t=t.parentNode||null}n.preventNextClose&&f.default.isOpen()?n.preventNextClose=!1:s.default.close(n.props.popoutKey)},n.updateOffsets=function(){var e=n.props,t=e.position,a=e.preventInvert,r=e.arrowAlignment,o=i.default.findDOMNode(C(n));if(!(o instanceof HTMLElement))throw new Error("domNode is not instance of HTMLElement");var l=o.offsetWidth,u=o.offsetHeight,d=!1;a||(d="top"===t||"top-right"===t||"top-left"===t?n.props.y<.5*window.innerHeight&&n.props.y-o.offsetHeight<0:n.props.y+n.props.targetHeight+14+u>=window.innerHeight)&&("bottom"===t?t="top":"bottom-left"===t?t="top-left":"bottom-right"===t?t="top-right":"top-right"===t?t="bottom-right":"top-left"===t?t="bottom-left":"top"===t&&(t="bottom"));var s={invert:d,position:t,height:u,width:l,offsetX:0,offsetY:0},f=r===I.MIDDLE?2:.5;switch(t){case"left":s.offsetX=0,s.offsetY=n.props.targetHeight*f;break;case"right":s.offsetX=n.props.targetWidth,s.offsetY=n.props.targetHeight*f;break;case"bottom":s.offsetX=n.props.targetWidth/2,s.offsetY=n.props.targetHeight;break;case"bottom-left":s.offsetX=0,s.offsetY=n.props.targetHeight;break;case"bottom-right":s.offsetX=n.props.targetWidth,s.offsetY=n.props.targetHeight;break;case"top-left":s.offsetX=0,s.offsetY=0;break;case"top-right":s.offsetX=n.props.targetWidth,s.offsetY=0;break;case"top":default:s.offsetX=n.props.targetWidth/2,s.offsetY=0}!d||"right"!==t&&"left"!==t||(n.props.closeOnScroll?s.offsetY-=u-n.props.targetHeight:s.offsetY-=n.props.y+u-window.innerHeight+10),n.setState(s,n._componentWillEnter)},n.props.animationType){case"default":a=new P;break;case"spring":a=new k;break;case"none":default:a=new w}return n.state={width:0,height:0,offsetX:null,offsetY:null,animation:a,position:"",invert:!1},n}b(t,e);var n=t.prototype;return n.componentDidMount=function(){h.ComponentDispatch.subscribe(g.ComponentActions.POPOUT_CLOSE,this.close),document.addEventListener("click",this.close,!0),document.addEventListener("contextmenu",this.closeContext,!0),this.updateOffsets()},n.componentWillEnter=function(e){this.componentWillEnterCallback=e},n._componentWillEnter=function(){if(this.componentWillEnterCallback){var e=this.componentWillEnterCallback;delete this.componentWillEnterCallback;var t=i.default.findDOMNode(this);if(!(t instanceof HTMLElement))throw new Error("node is not an instance of HTMLElement");this.state.animation.run(t,{position:this.state.position,x:this.props.x,y:this.props.y,width:this.state.width,height:this.state.height,targetWidth:this.props.targetWidth,targetHeight:this.props.targetHeight,offsetX:this.state.offsetX,offsetY:this.state.offsetY},e)}},n.componentWillLeave=function(e){e()},n.componentDidUpdate=function(e){var t=e.text,n=e.position,a=e.x,r=e.y,o=e.targetWidth,i=e.targetHeight,l=e.closeOnScroll;this.props.text===t&&this.props.position===n&&this.props.x===a&&this.props.y===r&&this.props.targetWidth===o&&this.props.targetHeight===i&&this.props.closeOnScroll===l||this.updateOffsets(),this.props.needsRerender&&s.default.didRerender(this.props.popoutKey)},n.componentWillUnmount=function(){h.ComponentDispatch.unsubscribe(g.ComponentActions.POPOUT_CLOSE,this.close),document.removeEventListener("click",this.close,!0),document.removeEventListener("contextmenu",this.closeContext,!0)},n.render=function(){var e,t=this.state,n=t.offsetX,a=t.offsetY,r=t.invert,i=t.position,u=t.animation,d=this.props,s=d.zIndexBoost,f=d.closeOnScroll,c=d.x,p=d.y,v=d.popoutKey,h=d.animationType,g=d.clickPos,O=d.render,_=d.containerClass,S=d.arrowAlignment,C=d.showArrow,b=d.forceTheme,I=N({},{left:null===n?null:c+n,top:null==a?null:p+a,zIndex:null!=s?1001+s:null},{},u.getStyle({position:i,width:this.state.width,height:this.state.height,x:c,y:p,offsetX:n,offsetY:a,clickPos:g}));I.visibility||(I.visibility=null==I.transform?"hidden":"visible");var A=((e={})[m.default.popoutInvert]=r&&f,e[m.default.noArrow]=!C,e[m.default.noShadow]=!this.props.shadow||"none"===h,e);return _&&(A[_]=!0),E(l.default.div,{className:(0,o.default)(A,m.default.popout,M[i],T[S],(0,y.getThemeClass)(b)),style:I},void 0,O({popoutKey:v,onClose:this.close,inverted:r,position:i}))},t}(r.PureComponent);L.displayName="Popout",L.defaultProps={animationType:"default",closeOnScroll:!0,preventInvert:!1,preventCloseFromModal:!1,preventClickPropagation:!1,shadow:!0,text:"",offsetX:0,offsetY:0};var D=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.popouts,a=n.some((function(e){return e.backdrop})),i=(n.find((function(e){return null!=e.zIndexBoost&&e.zIndexBoost>0}))||{}).zIndexBoost,l=a?E(v.default,{backdropStyle:v.default.Styles.SUBTLE,zIndexBoost:null!=i?i:0}):null;return E(d.default,{className:(0,o.default)(m.default.popouts,t),component:"div"},void 0,l,n.map((function(e){var t=e.key,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["key"]);return r.createElement(L,N({popoutKey:String(t)},n,{key:t+"-popout"}))})))},t}(r.PureComponent);D.displayName="Popouts";var R=u.default.connectStores([p.default],(function(){return{popouts:p.default.getPopouts()}}))(D);t.default=R},6585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(0)),o=_(n(3)),i=_(n(1215)),l=_(n(6538)),u=_(n(5060)),d=_(n(478)),s=n(205),f=E(n(766)),c=n(224),p=_(n(1216)),v=_(n(1008)),h=_(n(1217)),y=_(n(1194)),g=_(n(9881)),m=_(n(9902)),O=n(1);function _(e){return e&&e.__esModule?e:{default:e}}function S(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return S=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=S();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function C(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}o.default.initialize();var b=C(i.default,{}),N=C(c.MaskLibrary,{}),I=C(d.default,{}),M=C(m.default,{}),T=C(y.default,{}),A=C(h.default,{}),w=C(f.default,{}),P=C(s.AppLayerContainer,{});function k(){return r.useEffect((function(){return u.default.initialize(),l.default.init(),function(){u.default.terminate()}}),[]),C(r.Fragment,{},void 0,b,C(p.default,{},void 0,C(g.default,{},void 0,N,I,C(s.AppLayerProvider,{},void 0,C(f.ModalProvider,{},void 0,M,T,A,w,C(v.default,{context:O.AppContext.OVERLAY}),P)))))}k.displayName="AppOverlay";var L=k;t.default=L},9696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Widget=t.DEFAULT_OPACITY=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=p(n(5)),i=p(n(9883)),l=p(n(10)),u=p(n(70)),d=p(n(29)),s=n(1),f=p(n(9647)),c=p(n(314));function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=s.OverlayWidgetTypes.DEFAULT;t.DEFAULT_OPACITY=1;var m=r.createContext({type:g,opacity:1}),O=r.createContext(void 0),_=function(e){var t=e.children,n=e.opacityOverride;if(null==t)return null;var a=[S,E,b];return y(m.Consumer,{},void 0,(function(e){var o=e.opacity,i={backgroundColor:"rgba(54, 57, 63, "+(n||o)+")"};if("string"==typeof t.type){var l={style:i};return r.cloneElement(t,l)}if(a.includes(t.type))return y(O.Provider,{value:i},void 0,t);var u=t.type.displayName;throw new Error("Widget.Background cannot be wrapped around "+u+". Pass a DOM node or one of "+a.map((function(e){return"Widget."+e.name})).join(","))}))};_.displayName="Background";var S=function(e){var t=e.children,n=e.className,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children","className"]);return y(m.Consumer,{},void 0,(function(e){var l=e.type;return y(O.Consumer,{},void 0,(function(e){return r.createElement("div",h({className:(0,o.default)(n,f.default.bar,f.default[(0,i.default)(l)]),style:e},a),t)}))}))};S.displayName="Bar";var E=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.disableScroll,n=e.children,a=e.className;return y(O.Consumer,{},void 0,(function(e){return y(m.Consumer,{},void 0,(function(r){var l=(0,o.default)(f.default.body,f.default[(0,i.default)(r.type)],a);return t?y("div",{className:l,style:e},void 0,n):y(u.default,{theme:u.default.Themes.GHOST_HAIRLINE,fade:!0,outerClassName:l,className:f.default.scroller},void 0,n)}))}))},a}(r.PureComponent);E.displayName="Body",E.defaultProps={disableScroll:!1};var C=function(e){var t=e.type,n=void 0===t?g:t,a=e.width,r=e.height,l=e.children,u=e.className,d=e.opacity,s=void 0===d?1:d,c=e.onClick;return y(m.Provider,{value:{type:n,opacity:s}},void 0,y("div",{className:(0,o.default)(f.default.widget,f.default[(0,i.default)(n)],u),style:{width:a,height:r},onClick:c},void 0,l))};t.Widget=C,C.displayName="Widget";var b=function(e){var t=e.children,n=e.className,a=e.dynamicSize,r=void 0!==a&&a;return y(O.Consumer,{},void 0,(function(e){var a;return y("div",{className:(0,o.default)(f.default.content,n,(a={},a[f.default.staticSize]=!r,a)),style:e},void 0,t)}))};b.displayName="Content";var N=function(e){var t=e.icon,n=e.label,a=e.onClick,r=e.isActive,i=e.tooltipPosition,u=void 0===i?d.default.Positions.TOP:i,s=e.size,p=void 0===s?20:s,v=e.isTutorial,h=void 0!==v&&v,g=y(t,{width:p,height:p,role:"img"});return y(d.default,{text:h?y("div",{className:f.default.tutorialTip},void 0,n):n,"aria-label":n,position:u,forceOpen:h,color:h?d.default.Colors.BRAND:d.default.Colors.BLACK},void 0,(function(e){var t,i=e.onMouseEnter,u=e.onMouseLeave;return y(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:a,onMouseEnter:i,onMouseLeave:u,className:(0,o.default)(f.default.icon,(t={},t[f.default.toggledIconOn]=r,t)),innerClassName:c.default.flexCenter,"aria-label":n},void 0,g)}))};N.displayName="WidgetIcon",C.Background=_,C.Body=E,C.Content=b,C.Icon=N,C.Bar=S;var I=C;t.default=I},9698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ColorSchemes=t.renderKeybindHint=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=h(n(5)),i=h(n(120)),l=h(n(10)),u=h(n(23)),d=h(n(9882)),s=h(n(123)),f=h(n(113)),c=h(n(2)),p=h(n(9646)),v=h(n(52));function h(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){return e.stopPropagation()},O=function(){return g("div",{className:p.default.clickBlocker,onClick:m,onMouseEnter:m,onMouseOver:m})};O.displayName="MouseEventBlocker";var _=function(){return g("div",{className:p.default.divider})};_.displayName="Divider";var S=function(e,t,n){return g("div",{className:p.default.keybindMessage},void 0,n.format({keybind:t,keybindHook:function(e,n){return g(d.default,{keybind:t,className:p.default.keybind},n)}}))};t.renderKeybindHint=S,S.displayName="renderKeybindHint";var E=(0,i.default)({PRIMARY:null,BRAND:null,DANGER:null});t.ColorSchemes=E;var C=g(_,{}),b=g(_,{}),N=g(_,{}),I=g(_,{}),M=g(O,{}),T=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this).handleDismiss=function(e){e.stopPropagation();var t=n.props.onDismissClick;t&&t(e)},n.handleConfirmClick=function(e){e.stopPropagation();var t=n.props.onConfirmClick;t&&t(e)},n.handleCancelClick=function(e){e.stopPropagation();var t=n.props.onCancelClick;t&&t(e)},n.handleMouseEnter=function(){n.props.disabled||n.setState({expanded:!0})};var a=t.expand;return n.state={expanded:a},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e,t){var n=e.expand;return!t.expanded&&n?{expanded:!0}:null};var i=a.prototype;return i.componentDidMount=function(){var e=this.props.onNotificationShow;e&&e()},i.componentDidUpdate=function(e){var t=this.props.onNotificationShow;t&&null==e.onNotificationShow&&t()},i.renderCloseButton=function(){return g(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,onClick:this.handleDismiss,className:p.default.dismissButton,"aria-label":c.default.Messages.NOTIFICATION_DISMISS},void 0,g(s.default,{width:16,height:16,className:p.default.dismissIcon}))},i.renderHint=function(){var e=this.props,t=e.hint,n=e.colorScheme,a=this.state.expanded;if(null==t)return null;if("function"==typeof t){var o=t(a,n);return null!=o?g(r.Fragment,{},"hint-custom",C,o):null}return g(r.Fragment,{},"hint-text",b,g("div",{className:"string"==typeof t?p.default.hintText:void 0},"hint-text",t))},i.renderFooter=function(){var e=this.props,t=e.renderFooter,n=e.cancelText,a=e.confirmText,o=e.onConfirmClick,i=e.onCancelClick,u=e.hint,d=e.colorScheme,s=this.state.expanded;if(!s)return null!=u?this.renderHint():null;if(t){var f=t(s,d);return null!=f?g(r.Fragment,{},"footer-custom-content",N,f):null}if(null!=o||null!=i){var v=l.default.Colors.GREEN,h=l.default.Colors.GREY,y=l.default.Looks.FILLED;switch(d){case E.DANGER:case E.BRAND:v=h=l.default.Colors.WHITE,y=l.default.Looks.OUTLINED}return g(r.Fragment,{},"footer-button-content",I,g("div",{className:p.default.buttonContainer},void 0,null!=o?g(l.default,{fullWidth:!0,size:l.default.Sizes.SMALL,color:v,onClick:this.handleConfirmClick,className:p.default.button,innerClassName:p.default.innerText},void 0,a||c.default.Messages.OKAY):null,null!=i?g(l.default,{fullWidth:!0,size:l.default.Sizes.SMALL,look:y,color:h,onClick:this.handleCancelClick,className:p.default.button},void 0,n||c.default.Messages.CANCEL):null))}return this.renderHint()},i.renderIcon=function(){var e=this.props.icon;return null==e?null:"string"==typeof e?g(f.default,{src:e,size:f.default.Sizes.SIZE_40,className:p.default.avatar,"aria-hidden":!0}):g("div",{className:p.default.avatar},void 0,e)},i.renderContent=function(){var e=this.props,t=e.body,n=e.title,a=e.maxBodyLines;return g("div",{className:p.default.content},void 0,this.renderIcon(),g("div",{className:p.default.details},void 0,g("div",{className:p.default.title},void 0,n),null!=t?g("div",{className:(0,o.default)(p.default.body,v.default.marginTop4),style:{WebkitLineClamp:a,lineClamp:a}},void 0,t):null))},i.render=function(){var e,t=this.props,n=t.onNotificationClick,a=t.colorScheme,r=t.disabled,i=this.state.expanded;return g(null!=n?u.default:"div",{onMouseOver:i?null:this.handleMouseEnter,onFocus:i?null:this.handleMouseEnter,onClick:n,className:(0,o.default)(p.default.container,(e={},e[p.default.themePrimary]=a===E.PRIMARY,e[p.default.themeBrand]=a===E.BRAND,e[p.default.themeDanger]=a===E.DANGER,e[p.default.clickable]=null!=n&&!r,e))},void 0,this.renderCloseButton(),this.renderContent(),this.renderFooter(),r?M:null)},a}(r.PureComponent);T.displayName="Notification",T.ColorSchemes=E,T.defaultProps={maxBodyLines:void 0,colorScheme:E.PRIMARY,expand:!1,disabled:!1};var A=T;t.default=A},9706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeAnalyticsTrackers=function(e){return{trackView:function(){a.default.track(l.AnalyticEvents.NOTIFICATION_VIEWED,e)},trackClick:function(t){var n=o.default.isInstanceUILocked()?l.AnalyticsLocations.LOCKED_OVERLAY:l.AnalyticsLocations.UNLOCKED_OVERLAY;a.default.track(l.AnalyticEvents.NOTIFICATION_CLICKED,d({},e,{location:n,action_type:t}))}}},t.getOverlayKeybind=function(){var e=r.default.getOverlayKeybind();return null!=e?(0,i.toString)(e.shortcut,!0).split(" + "):["???"]};var a=u(n(1171)),r=u(n(5617)),o=u(n(738)),i=n(425),l=n(1);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}},9745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Operations=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=f(n(5)),i=f(n(120)),l=f(n(171)),u=n(5616),d=n(1),s=f(n(9653));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=(0,i.default)({MOVE:null,RESIZE_NORTH:null,RESIZE_WEST:null,RESIZE_EAST:null,RESIZE_SOUTH:null,RESIZE_NORTH_WEST:null,RESIZE_NORTH_EAST:null,RESIZE_SOUTH_WEST:null,RESIZE_SOUTH_EAST:null});t.Operations=y;var g=new Set([y.RESIZE_NORTH,y.RESIZE_WEST,y.RESIZE_EAST,y.RESIZE_SOUTH,y.RESIZE_NORTH_WEST,y.RESIZE_NORTH_EAST,y.RESIZE_SOUTH_WEST,y.RESIZE_SOUTH_EAST]);function m(e,t,n){var a=e.width,r=e.height;return{width:"auto"===a?"auto":Math.max(t,a),height:"auto"===r?"auto":Math.max(n,r)}}function O(e){var t=e.top,n=e.left,a=e.bottom,r=e.right;return null==n&&null==r&&(n=0),null!=n&&null!=r&&(r=null),null==t&&null==a&&(t=0),null!=t&&null!=a&&(a=null),{top:t,left:n,bottom:a,right:r}}function _(e){return"auto"===e||null==e?"auto":e+"px"}function S(e,t){return{width:"auto"===t.width?null!=e?e.clientWidth:0:t.width,height:"auto"===t.height?null!=e?e.clientHeight:0:t.height}}function E(e,t){var n=t.top,a=t.left,r=t.bottom,o=t.right;switch(e){case y.RESIZE_EAST:case y.RESIZE_NORTH_EAST:case y.RESIZE_NORTH:return{bottom:r,left:a,right:null,top:null};case y.RESIZE_WEST:case y.RESIZE_NORTH_WEST:return{bottom:r,right:o,left:null,top:null};case y.RESIZE_SOUTH_EAST:return{top:n,left:a,bottom:null,right:null};case y.RESIZE_SOUTH:case y.RESIZE_SOUTH_WEST:return{top:n,right:o,bottom:null,left:null};default:throw new Error("getOrientedCoords: Invalid orientation: "+e)}}var C=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).ref=r.createRef(),n.dragState={startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0},n.state={operation:null,operationStarted:!1},n.handleMouseDown=function(e){e.stopPropagation();var t=n.props.dragAnywhere;null!=n.ref.current&&e.button===d.MouseButtons.PRIMARY&&t&&n.handleOperationStart(y.MOVE,e.clientX,e.clientY)},n.handleMouseMove=function(e){e.preventDefault(),e.stopPropagation();var t,a,r,o,i=e.clientX,l=e.clientY,u=h(n),d=u.dragState,s=d.startX,f=d.startY,c=u.state,p=c.operation,v=c.operationStarted;null==p||!v&&(t=s,a=f,r=i,o=l,Math.pow(t-r,2)+Math.pow(a-o,2)<3)||(p===y.MOVE?n.handleDragMove(i,l):g.has(p)&&n.handleResizeMove(i,l))},n.handleOperationStart=function(e,t,a){var r=h(n),o=r.ref.current,i=r.props,l=i.active,d=i.container,s=d.maxX,f=d.maxY;if(null!=o&&l){var c=S(o,n.size),p=c.width,g=c.height,m=(0,u.getFullCoordsFromAnchorCoords)(n.anchor,s,f,p,g);if(e===y.MOVE){var O=function(e){var t=e.top;return{x:e.left,y:t}}(m),_=O.x,C=O.y;n.dragState=v({},n.dragState,{startX:t,startY:a,offsetX:t-_,offsetY:a-C})}else{var b=E(e,m);n.setDOMPositions(b),n.dragState=v({},n.dragState,{startX:t,startY:a,offsetWidth:p,offsetHeight:g})}n.setState({operation:e,operationStarted:!1},(function(){window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleOperationEnd)}))}},n.handleOperationEnd=function(){var e=n.state,t=e.operation,a=e.operationStarted,r=n.props.onDragEnd;window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleOperationEnd);var o=a?function(){var e=n.props,a=e.onUpdate,r=e.id;a(t,r,n.anchor,n.size,S(n.ref.current,n.size))}:void 0;if(a){var i=n.props.container,l=i.maxX,d=i.maxY,s=S(n.ref.current,n.size),f=s.width,c=s.height,p=(0,u.getFullCoordsFromAnchorCoords)(n.anchor,l,d,f,c),v=(0,u.getAnchorCoordsFromFullCoords)(p);n.setDOMPositions(v),n.setDOMSize({width:f,height:c}),null!=r&&r()}n.setState({operation:null,operationStarted:!1},o)},n.anchor=O(t.anchor),n.size=m(t.size,t.minSize.width,t.minSize.height),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.shouldComponentUpdate=function(e,t){return!((0,l.default)(t,this.state)&&(0,l.default)(e,this.props,["anchor","size","minSize","container"])&&(0,l.default)(e.anchor,this.props.anchor)&&(0,l.default)(e.size,this.props.size)&&(0,l.default)(e.minSize,this.props.minSize)&&(0,l.default)(e.container,this.props.container))},i.componentDidUpdate=function(e,t){null==t.operation&&((0,l.default)(this.props.anchor,e.anchor)||this.setDOMPositions(O(this.props.anchor)),(0,l.default)(this.props.size,e.size)||this.setDOMSize(m(this.props.size,this.props.minSize.width,this.props.minSize.height)))},i.componentWillUnmount=function(){this.handleOperationEnd()},i.handleResizeMouseDown=function(e,t){var n=e.clientX,a=e.clientY;e.stopPropagation(),this.handleOperationStart(t,n,a)},i.handleDragMove=function(e,t){var n=this.ref.current,a=this.props,r=a.id,o=a.container,i=o.maxX,l=o.maxY,d=o.minX,s=o.minY,f=a.onDragStart,c=a.onDrag,p=a.snapOrientation,v=this.dragState,h=v.offsetX,g=v.offsetY,m=this.state.operationStarted;if(null==n)return null;e=Math.max(Math.min(i,e),d),t=Math.max(Math.min(l,t),s);var O=S(n,this.size),_=O.width,C=O.height,b=t-g,N=e-h,I=(0,u.fitFullCoordsToContainer)((0,u.getFullCoordsFromAnchorCoords)({top:b,left:N,bottom:null,right:null},i,l,_,C)),M=p?(0,u.getAnchorCoordsFromFullCoords)(I):E(y.RESIZE_SOUTH_EAST,I);this.setDOMPositions(M),m||(null!=f&&f(),this.setState({operationStarted:!0})),null!=c&&c(r,y.MOVE,this.anchor,this.size)},i.handleResizeMove=function(e,t){var n=this.props,a=n.id,r=n.minSize,o=n.container,i=o.maxX,l=o.maxY,u=o.minX,d=o.minY,s=n.onDragStart,f=n.onDrag,c=this.state,p=c.operation,v=c.operationStarted,h=this.dragState,g=h.startX,m=h.startY,O=h.offsetWidth,_=h.offsetHeight,S=0,E=0;if(null!=p){switch(e=Math.max(Math.min(i,e),u),t=Math.max(Math.min(l,t),d),p){case y.RESIZE_EAST:case y.RESIZE_SOUTH_EAST:case y.RESIZE_NORTH_EAST:S-=g-e;break;case y.RESIZE_WEST:case y.RESIZE_SOUTH_WEST:case y.RESIZE_NORTH_WEST:S+=g-e}switch(p){case y.RESIZE_SOUTH:case y.RESIZE_SOUTH_WEST:case y.RESIZE_SOUTH_EAST:E-=m-t;break;case y.RESIZE_NORTH:case y.RESIZE_NORTH_WEST:case y.RESIZE_NORTH_EAST:E+=m-t}O=Math.max(O+S,r.width),_=Math.max(_+E,r.height),this.setDOMSize({width:O,height:_}),v||(null!=s&&s(),this.setState({operationStarted:!0})),null!=f&&f(a,p,this.anchor,this.size)}},i.setDOMPositions=function(e){var t=e.top,n=e.left,a=e.bottom,r=e.right,o=this.ref.current;this.anchor={top:t,left:n,bottom:a,right:r},null!=o&&(o.style.top=_(t),o.style.bottom=_(a),o.style.left=_(n),o.style.right=_(r))},i.setDOMSize=function(e){var t=e.width,n=e.height,a=this.ref.current;t="auto"===this.size.width?"auto":t,n="auto"===this.size.height?"auto":n,this.size={width:t,height:n},null!=a&&(a.style.width=_(t),a.style.height=_(n))},i.renderResizeHandles=function(){var e,t,n,a,i,l,u,d,f=this,c=this.props,v=c.resizeY,h=c.resizeX,g=c.active;return p(r.Fragment,{},void 0,v?p(r.Fragment,{},void 0,p("div",{className:(0,o.default)(s.default.resizeNorth,(e={},e[s.default.resizeNSCursor]=g,e)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_NORTH)}}),p("div",{className:(0,o.default)(s.default.resizeSouth,(t={},t[s.default.resizeNSCursor]=g,t)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_SOUTH)}})):null,h?p(r.Fragment,{},void 0,p("div",{className:(0,o.default)(s.default.resizeEast,(n={},n[s.default.resizeEWCursor]=g,n)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_EAST)}}),p("div",{className:(0,o.default)(s.default.resizeWest,(a={},a[s.default.resizeEWCursor]=g,a)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_WEST)}})):null,h&&v?p(r.Fragment,{},void 0,p("div",{className:(0,o.default)(s.default.resizeNorthWest,(i={},i[s.default.resizeNWSECursor]=g,i)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_NORTH_WEST)}}),p("div",{className:(0,o.default)(s.default.resizeNorthEast,(l={},l[s.default.resizeNESWCursor]=g,l)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_NORTH_EAST)}}),p("div",{className:(0,o.default)(s.default.resizeSouthWest,(u={},u[s.default.resizeNESWCursor]=g,u)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_SOUTH_WEST)}}),p("div",{className:(0,o.default)(s.default.resizeSouthEast,(d={},d[s.default.resizeNWSECursor]=g,d)),onMouseDown:function(e){return f.handleResizeMouseDown(e,y.RESIZE_SOUTH_EAST)}})):null)},i.render=function(){var e,t=this.props,n=t.children,a=t.hidden,i=t.onClick,l=t.id,u=t.style,d=this.size,f=this.anchor,c=this.state,p=c.operation,h=c.operationStarted;return r.createElement("div",{ref:this.ref,style:v({},f,{},d,{},u,{},null!=p?{zIndex:1e3}:void 0,{},a?{visibility:"hidden"}:void 0),className:(0,o.default)((e={},e[s.default.wrapper]=!0,e[s.default.operation]=h,e)),onMouseDown:this.handleMouseDown,onClick:i?function(){return i(l)}:void 0},n(this.handleOperationStart),this.renderResizeHandles())},a}(r.Component);C.displayName="DragResizeContainer",C.Operations=y,C.defaultProps={snapOrientation:!0,minSize:{width:0,height:0},container:{minX:0,minY:0,maxX:1/0,maxY:1/0},resizeX:!0,resizeY:!0,hidden:!1,dragAnywhere:!0,active:!0};var b=C;t.default=b},9778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),r=f(n(8)),o=n(74),i=f(n(171)),l=n(54),u=n(9901),d=f(n(15)),s=f(n(41));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v={x:0,y:0};function h(e){var t=e.clientX,n=e.clientY;v.x=t,v.y=n}var y=new Map;function g(e,t){if(null==t)y.delete(e),0===y.size&&window.removeEventListener("mousemove",h);else{var n=y.get(e);if(null!=n&&(0,i.default)(n.zone,t.zone))return;0===y.size&&window.addEventListener("mousemove",h),y.set(e,t)}d.default.embedded&&(s.default.requireModule("discord_overlay2").broadcastCommand({message:"set_click_zones",zones:Array.from(y.values()).map((function(e){return e.zone}))}),function(){if(m)return;s.default.requireModule("discord_overlay2").setClickZoneCallback((function(e){var t=y.get(e);null!=t&&t.instance.click()})),m=!0}())}var m=!1;var O=function(e){var t,n;function i(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).zone=r.default.uniqueId("ClickArea"),t.interval=new l.Interval,t.updateZone=function(){var e=(0,o.findDOMNode)(p(t));if(e instanceof HTMLElement){var n=e.getBoundingClientRect(),a=n.left,r=n.top,i=n.right,l=n.bottom;g(t.zone,{instance:p(t),zone:{name:t.zone,left:parseInt(a),top:parseInt(r),right:parseInt(i),bottom:parseInt(l)}})}},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=i.prototype;return d.componentDidMount=function(){this.props.observe?this.observeZone():this.updateZone()},d.componentWillUnmount=function(){this.interval.stop(),g(this.zone,null)},d.componentDidUpdate=function(e){var t=this.props.observe;t!==e.observe&&(t?this.observeZone():this.interval.stop())},d.render=function(){return a.Children.only(this.props.children)},d.observeZone=function(){this.updateZone(),this.interval.start(this.props.observeInterval,this.updateZone)},d.click=function(){var e=(0,u.createMouseEvent)("click",v.x,v.y);(0,u.dispatchEventToPoint)(e,v.x,v.y)},i}(a.PureComponent);t.default=O,O.displayName="ClickArea",O.defaultProps={observe:!0,observeInterval:1e3}},9787:function(e,t,n){e.exports=n.p+"1fe68f65b459ac02929bb531fead064b.svg"},9788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=S();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=_(n(5)),i=_(n(3)),l=_(n(6557)),u=_(n(5671)),d=_(n(315)),s=_(n(112)),f=_(n(293)),c=n(9745),p=_(n(9696)),v=_(n(9983)),h=_(n(9789)),y=_(n(9984)),g=_(n(9790)),m=_(n(2)),O=_(n(9658));function _(e){return e&&e.__esModule?e:{default:e}}function S(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return S=function(){return e},e}function E(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=i.default.connectStores([f.default,u.default,d.default],(function(){return{guildFolders:f.default.guildFolders,expandedFolders:u.default.getExpandedFolders(),totalUnavailableGuilds:d.default.totalUnavailableGuilds}}))(l.default),b=E(h.default,{});function N(){return b}N.displayName="renderSettings";var I=E(y.default,{}),M=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).onDragStart=function(e){(0,t.props.dragStart)(c.Operations.MOVE,e.clientX,e.clientY)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e,t=this.props,n=t.selectedGuildId,a=t.locked,r=t.contained,i=null!=n?E(v.default,{guildId:n,onDragStart:this.onDragStart},n):E(g.default,{title:m.default.Messages.DIRECT_MESSAGES,renderSettings:N,onDragStart:this.onDragStart},void 0,I);return E(r?"div":p.default,{className:(0,o.default)(O.default.base,(e={},e[O.default.widget]=!r,e))},void 0,E(C,{isOverlay:!0,disableAppDownload:!0,isVisible:!a,isGuest:!1,isLurking:!1}),i)},a}(r.PureComponent);M.displayName="GuildWidget",M.defaultProps={contained:!1};var T=i.default.connectStores([s.default],(function(){return{selectedGuildId:s.default.getGuildId()}}))(M);t.default=T},9789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=N();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=b(n(120)),i=b(n(3)),l=b(n(1171)),u=b(n(313)),d=b(n(5617)),s=b(n(738)),f=b(n(12)),c=b(n(304)),p=b(n(197)),v=b(n(768)),h=b(n(60)),y=b(n(165)),g=b(n(49)),m=b(n(6558)),O=n(425),_=n(1),S=b(n(2)),E=b(n(9654)),C=b(n(52));function b(e){return e&&e.__esModule?e:{default:e}}function N(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return N=function(){return e},e}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,o.default)({GENERAL:null,VOICE:null});function T(){var e=s.default.getNotificationPositionMode(),t=e!==_.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),a=d.default.getOverlayChatKeybind();l.default.track(_.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:s.default.getTextChatNotificationMode(),text_opacity_slider:s.default.getTextWidgetOpacity(),hotkey:null!=n?(0,O.toString)(n.shortcut):null,text_activation_hotkey:null!=a?(0,O.toString)(a.shortcut):null})}var A=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={selectedSection:M.GENERAL},t.handleSelectSection=function(e){t.setState({selectedSection:e})},t.handleToggleTextChatNotifications=function(){var e=_.OverlayNotificationTextChatTypes.ENABLED,n=_.OverlayNotificationTextChatTypes.DISABLED,a=t.props.textChatNotificationMode===e?n:e;l.default.setTextChatNotificationMode(a),T()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){l.default.track(_.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})},o.handleCloseSettings=function(){u.default.close()},o.handleChangeNotificationPositionMode=function(e,t){l.default.setNotificationPositionMode(t),T()},o.handleChangeAvatarSizeMode=function(e){var t=e.value;l.default.setAvatarSizeMode(t)},o.handleChangeDisplayNameMode=function(e){var t=e.value;l.default.setDisplayNameMode(t)},o.handleChangeDisplayUserMode=function(e){var t=e.value;l.default.setDisplayUserMode(t)},o.renderHeader=function(){return I(f.default,{direction:f.default.Direction.VERTICAL,grow:0,shrink:0,className:E.default.header},void 0,I(f.default,{},void 0,I(g.default,{className:E.default.headerTitle,tag:g.default.Tags.H2},void 0,S.default.Messages.OVERLAY_SETTINGS_TITLE),I(h.default.CloseButton,{className:E.default.headerClose,onClick:this.handleCloseSettings})),this.renderTabBar())},o.renderTabBar=function(){var e=this.state.selectedSection;return I(v.default,{selectedItem:e,type:v.default.Types.TOP,className:E.default.tabBar,onItemSelect:this.handleSelectSection},void 0,I(v.default.Item,{id:M.GENERAL,className:E.default.tabBarItem},void 0,S.default.Messages.OVERLAY_SETTINGS_GENERAL_TAB),I(v.default.Item,{id:M.VOICE,className:E.default.tabBarItem},void 0,S.default.Messages.OVERLAY_SETTINGS_VOICE_TAB))},o.renderBody=function(){var e,t=this.state.selectedSection;switch(t){case M.VOICE:e=this.renderVoiceSettings();break;case M.GENERAL:default:e=this.renderGeneralSettings()}return I(h.default.Content,{className:E.default.content},t,e)},o.renderGeneralSettings=function(){var e=this.props,t=e.textChatNotificationMode,n=e.notificationPositionMode,a=n!==_.OverlayNotificationPositions.DISABLED;return I(r.Fragment,{},void 0,I(y.default,{title:S.default.Messages.FORM_LABEL_NOTIFICATION_POSITION,className:C.default.marginBottom20},void 0,I(m.default,{position:n,onChange:this.handleChangeNotificationPositionMode})),I(p.default,{value:a&&t===_.OverlayNotificationTextChatTypes.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!a,hideBorder:!0},void 0,S.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))},o.renderVoiceSettings=function(){var e=this.props,t=e.avatarSizeMode,n=e.displayNameMode,a=e.displayUserMode;return I(r.Fragment,{},void 0,I(y.default,{title:S.default.Messages.FORM_LABEL_AVATAR_SIZE,className:C.default.marginBottom20},void 0,I(c.default,{onChange:this.handleChangeAvatarSizeMode,options:[{value:_.OverlayAvatarSizes.LARGE,name:S.default.Messages.AVATAR_SIZE_OPTION_LARGE},{value:_.OverlayAvatarSizes.SMALL,name:S.default.Messages.AVATAR_SIZE_OPTION_SMALL}],value:t,size:c.default.Sizes.SMALL})),I(y.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_NAMES,className:C.default.marginBottom20},void 0,I(c.default,{onChange:this.handleChangeDisplayNameMode,options:[{value:_.OverlayDisplayNames.ALWAYS,name:S.default.Messages.DISPLAY_OPTION_ALWAYS},{value:_.OverlayDisplayNames.ONLY_WHILE_SPEAKING,name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING},{value:_.OverlayDisplayNames.NEVER,name:S.default.Messages.DISPLAY_OPTION_NEVER}],value:n,size:c.default.Sizes.SMALL})),I(y.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_USERS,className:C.default.marginBottom20},void 0,I(c.default,{onChange:this.handleChangeDisplayUserMode,options:[{value:_.OverlayDisplayUsers.ALWAYS,name:S.default.Messages.DISPLAY_OPTION_ALWAYS},{value:_.OverlayDisplayUsers.ONLY_WHILE_SPEAKING,name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING}],value:a,size:c.default.Sizes.SMALL})))},o.render=function(){return I("div",{},void 0,I(h.default,{className:E.default.wrapper},void 0,this.renderHeader(),this.renderBody()))},a}(r.PureComponent);A.displayName="OverlaySettings";var w=i.default.connectStores([s.default],(function(){return{avatarSizeMode:s.default.getAvatarSizeMode(),displayNameMode:s.default.getDisplayNameMode(),displayUserMode:s.default.getDisplayUserMode(),notificationPositionMode:s.default.getNotificationPositionMode(),textChatNotificationMode:s.default.getTextChatNotificationMode()}}))(A);t.default=w},9790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(n(0));var a,r=f(n(5)),o=f(n(317)),i=f(n(997)),l=f(n(9696)),u=n(1),d=f(n(2)),s=f(n(9655));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t,n=e.title,a=e.header,f=e.children,c=e.renderSettings,v=e.onDragStart;return t=null!=n?p(l.default.Bar,{className:(0,r.default)(s.default.header,s.default.draggableStartArea),onMouseDown:v},void 0,p(l.default.Content,{className:(0,r.default)(s.default.headerTitle,s.default.draggableStartArea),dynamicSize:!0},void 0,n),p(l.default.Content,{},void 0,p(o.default,{position:o.default.Positions.RIGHT,render:c,preventInvert:!0},void 0,p(l.default.Icon,{icon:i.default,onClick:u.NOOP,label:d.default.Messages.SETTINGS})))):a,p("div",{className:s.default.sidebar},void 0,t,p("div",{className:s.default.children},void 0,f))}v.displayName="Sidebar";var h=v;t.default=h},9791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=K(n(0)),o=H(n(5)),i=H(n(511)),l=H(n(3)),u=n(46),d=H(n(1576)),s=H(n(144)),f=H(n(1171)),c=H(n(1218)),p=H(n(6547)),v=H(n(6548)),h=H(n(6549)),y=H(n(6550)),g=H(n(6552)),m=H(n(64)),O=H(n(6546)),_=H(n(1220)),S=H(n(410)),E=n(6458),C=H(n(9986)),b=H(n(1574)),N=H(n(18)),I=H(n(1573)),M=H(n(5066)),T=H(n(20)),A=H(n(5617)),w=H(n(226)),P=H(n(738)),k=H(n(42)),L=H(n(112)),D=H(n(11)),R=n(9745),j=n(1571),x=K(n(9696)),W=n(33),V=n(1096),U=n(425),G=H(n(9987)),z=n(1),Y=H(n(2)),B=H(n(9661));function H(e){return e&&e.__esModule?e:{default:e}}function F(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return F=function(){return e},e}function K(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=F();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Z(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var q=E.OpacityBounds.TOP,J=function(e){function t(t){var n;return(n=e.call(this,t)||this).ref=r.createRef(),n.draftDidChange=function(e){void 0===e&&(e=n.props);var t=n.state.textValue,a=I.default.getDraft(e.channel.id);t!==a&&""===a&&n.setState({textValue:a,richValue:i.default.deserialize(a)})},n.handleTextareaKeyDown=function(e){if(!(e.which!==z.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===n.state.textValue.length){e.preventDefault();var t=n.props.channel,a=w.default.getLastEditableMessage(t.id);a&&s.default.startEditMessage(t.id,a.id,a.content)}},n.handleTextareaChange=function(e,t,a){var r=n.props.channel.id;d.default.changeDraft(r,n.state.textValue),""!==t?c.default.startTyping(r):c.default.stopTyping(r),n.setState({textValue:t,richValue:a})},n.handleSendMessage=function(e){var t=n.props,a=t.channel,r=t.isTemporarilyActive;return 0===e.length?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(0,V.applyChatRestrictions)(n.ref.current,z.TextareaTypes.NORMAL,e,a).then((function(t){var o=t.valid,l=t.failureReason;return o?(s.default.sendMessage(a.id,S.default.parse(a,e),!0),n.setState({textValue:"",richValue:i.default.deserialize("")}),r?(f.default.deactivateAllRegions(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!0,shouldRefocus:!0}):l===z.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(W.ComponentDispatch.dispatch(z.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}}))},n.focusInput=function(){n.setState({focused:!0})},n.blurInput=function(){n.setState({focused:!1})},n.renderAttachButton=function(){return Z(O.default,{channel:n.props.channel})},I.default.addChangeListener(n.draftDidChange),n.state={textValue:I.default.getDraft(t.channel.id),richValue:i.default.deserialize(I.default.getDraft(t.channel.id)),focused:!1},W.ComponentDispatch.subscribe(z.ComponentActions.TEXTAREA_FOCUS,n.focusInput),W.ComponentDispatch.subscribe(z.ComponentActions.TEXTAREA_BLUR,n.blurInput),n}$(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props),(this.props.channel!==e.channel||this.props.isTemporarilyActive&&!e.isTemporarilyActive)&&this.setState({focused:!0})},n.componentWillUnmount=function(){I.default.removeChangeListener(this.draftDidChange),W.ComponentDispatch.unsubscribe(z.ComponentActions.TEXTAREA_FOCUS,this.focusInput),W.ComponentDispatch.unsubscribe(z.ComponentActions.TEXTAREA_BLUR,this.blurInput)},n.handleResize=function(){W.ComponentDispatch.dispatch(z.ComponentActions.CHAT_RESIZE)},n.render=function(){var e=this,t=this.props,n=t.channel,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["channel"]),o=this.state,i=o.focused,l=o.textValue,u=o.richValue;return Z(n.isPrivate()?p.default:v.default,{channel:n},n.id,r.createElement(_.default,X({},a,{ref:this.ref,renderAttachButton:this.renderAttachButton,channel:n,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:Y.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:(0,m.default)(n,!0)}),textValue:l,richValue:u,onSubmit:this.handleSendMessage,onChange:this.handleTextareaChange,onKeyDown:this.handleTextareaKeyDown,onResize:this.handleResize,focused:i})))},t}(r.Component);J.displayName="ConnectedChannelTextArea";var Q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handlePin=function(){f.default.setPinChat(!t.props.pinned)},t.handleContextMenu=function(e){var n=t.props,a=n.channel,o=n.user;null!=a&&null!=o&&(0,u.openContextMenu)(e,(function(e){return r.createElement(b.default,X({},e,{user:o,channelSelected:!0,channel:a}))}))},t.moveDragStart=function(e){(0,t.props.dragStart)(R.Operations.MOVE,e.clientX,e.clientY)},t.resizeDragStart=function(e){(0,t.props.dragStart)(R.Operations.RESIZE_SOUTH_EAST,e.clientX,e.clientY)},t}$(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.channel,a=t.pinned,r=t.activated;null!=n&&(a!==e.pinned&&f.default.track(z.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:a,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type,widget_type:z.OverlayWidgets.TEXT}),r&&!e.activated&&f.default.track(z.AnalyticEvents.OVERLAY_UNLOCKED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id}))},n.getOpacity=function(){var e=this.props,t=e.locked,n=e.activated,a=e.opacity,r=e.isPreviewingInGame;return t&&!n||r?a/100:n||!t?Math.min(1,(a+25)/100):x.DEFAULT_OPACITY},n.renderContent=function(){var e,t=this.props,n=t.channel,a=t.nsfwAgree,i=t.guild,l=t.locked,u=t.activated,d=t.chatKeybind,s=t.pinned,f=t.isPreviewingInGame,c=t.dragging;if(null==n)return null;var p,v=l||f,m=!a&&null!=n&&n.isNSFW(),O=!v||u;return p=m&&null!=i?Z(g.default,{guild:i}):Z(h.default,{channel:n,className:B.default.messages,forceCompact:s,showNewMessagesBar:!v,scrollerClassName:s?B.default.scroller:void 0,scrollerOuterClassName:s?B.default.scrollerWrap:void 0},n.id),Z(j.MessagesInteractionContext.Provider,{value:{disableInteractions:s&&l&&!u,disableAnimations:s&&v&&!u}},void 0,Z(r.Fragment,{},void 0,Z(x.default.Background,{opacityOverride:l||f?null:q},void 0,Z("div",{className:(0,o.default)(B.default.messagesContainer,(e={},e[B.default.isDragging]=c,e[B.default.disableHoverStates]=s&&l&&!u,e))},void 0,p)),m?null:Z("div",{},void 0,O?Z(x.default.Background,{opacityOverride:l||f?null:q},void 0,Z("div",{className:B.default.footerContent},void 0,Z(J,{channel:n,isTemporarilyActive:u}),Z("div",{className:B.default.typingWrapper},void 0,Z(y.default,{channel:n,className:B.default.typing})))):Z("div",{className:B.default.activateContainer},void 0,Z(x.default.Background,{opacityOverride:E.OpacityBounds.LOWER},void 0,Z("div",{className:(0,o.default)(B.default.activateKeybind,B.default.mediumBackgroundOpacity)},void 0,null!=n.name&&n.name.length>0?Y.default.Messages.OVERLAY_CHANNEL_CHAT_HOTKEY.format({keybind:d,channelName:n.isMultiUserDM()?n.name:"#"+n.name}):Y.default.Messages.OVERLAY_USER_CHAT_HOTKEY.format({keybind:d})))))))},n.renderWidgetWrapper=function(e){var t,n=this.props,a=n.locked,r=n.pinned,i=n.activated,l=n.isPreviewingInGame,u=n.opacity,d=z.OverlayWidgetTypes.UNPINNED;i?d=z.OverlayWidgetTypes.IN_GAME_ACTIVE:r&&a||l?d=z.OverlayWidgetTypes.IN_GAME_TEXT:r&&(d=z.OverlayWidgetTypes.PINNED);var s=a&&!i||l,f=r&&(s||i),c=r&&i,p=r&&s&&!i,v=(0,C.default)(u);return Z(x.default,{className:(0,o.default)(v,(t={},t[B.default.widgetWrapper]=!r,t[B.default.widgetWrapperPinned]=r,t[B.default.locked]=p,t[B.default.inGame]=f,t[B.default.inGameActive]=c,t[B.default.pinned]=r,t["overlay-unlocked"]=!a,t)),type:d,opacity:u},void 0,e)},n.renderContainedWrapper=function(e){return Z("div",{className:B.default.contained},void 0,e)},n.render=function(){var e=this.props,t=e.locked,n=e.channel,a=e.pinned,o=e.isPreviewingInGame,i=e.contained;if(null==n)return null;var l=Z(r.Fragment,{},void 0,Z(G.default,{draggableClassName:B.default.draggableStartArea,className:B.default.headerDefault,channel:n,locked:t,pinned:a,disableDragIndicator:i,isPreviewingInGame:o,handlePin:this.handlePin,onContextMenu:this.handleContextMenu,onMouseDown:this.moveDragStart}),this.renderContent(),t||o?null:Z("div",{className:B.default.resizeIcon,onMouseDown:this.resizeDragStart}));return i?this.renderContainedWrapper(l):this.renderWidgetWrapper(l)},t}(r.PureComponent);Q.displayName="TextWidget",Q.defaultProps={contained:!1};var ee=l.default.connectStores([L.default,k.default,N.default,A.default,P.default,T.default,M.default,D.default],(function(e){var t=e.contained,n=L.default.getGuildId(),a=k.default.getChannelId(n),r=N.default.getChannel(a),o=A.default.getOverlayChatKeybind(),i=null!=o?(0,U.toString)(o.shortcut,!0):"]",l=P.default.getTextWidgetOpacity(),u=T.default.getGuild(n),d=null!=n&&M.default.didAgree(n),s=P.default.getActiveRegions(),f=null!=r?r.getRecipientId():null;return{guild:u,channel:r,user:null!=f?D.default.getUser(f):null,opacity:l,nsfwAgree:d,chatKeybind:i,activated:s.has(z.OverlayActiveRegions.TEXT_WIDGET),isPreviewingInGame:!t&&P.default.isPreviewingInGame()}}))(Q);t.default=ee},9792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!=e?{id:e.id,name:e.name||""}:null}},9793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VoiceWidget=void 0;var a,r=te(n(0)),o=Q(n(5)),i=Q(n(3)),l=n(59),u=n(46),d=n(5636),s=Q(n(1171)),f=te(n(237)),c=n(5065),p=Q(n(64)),v=n(163),h=Q(n(5670)),y=Q(n(1524)),g=Q(n(9792)),m=Q(n(1009)),O=Q(n(6545)),_=Q(n(5674)),S=Q(n(116)),E=Q(n(17)),C=Q(n(18)),b=Q(n(58)),N=Q(n(48)),I=Q(n(738)),M=Q(n(111)),T=Q(n(42)),A=Q(n(466)),w=Q(n(11)),P=Q(n(119)),k=Q(n(1077)),L=Q(n(1762)),D=Q(n(10)),R=Q(n(12)),j=Q(n(295)),x=te(n(29)),W=Q(n(5640)),V=Q(n(997)),U=Q(n(5048)),G=Q(n(340)),z=Q(n(1099)),Y=Q(n(479)),B=Q(n(5049)),H=Q(n(9696)),F=Q(n(5052)),K=Q(n(13)),X=Q(n(6555)),Z=Q(n(9991)),$=n(1),q=Q(n(2)),J=Q(n(9664));function Q(e){return e&&e.__esModule?e:{default:e}}function ee(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ee=function(){return e},e}function te(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=ee();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function re(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var oe=function(e,t){var n=t.deaf||t.selfDeaf;return n||E.default.getId()!==t.userId||(n=N.default.isSelfDeaf(e)),n},ie=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleClick=function(e){var n=t.props,a=n.onClick,r=n.user;null!=a&&a(e,r)},t.handleContextMenu=function(e){var n=t.props,a=n.onContextMenu,r=n.user;null!=a&&a(e,r)},t}return re(t,e),t.prototype.render=function(){var e,t,n,a=this.props,r=a.flipped,i=a.locked,l=a.deafened,u=a.muted,d=a.streaming,s=a.watching,f=a.user,c=a.size,p=a.speaking,v=a.isPrioritySpeaker,h=a.nick,y=a.displayNameMode;return a.displayUserMode===$.OverlayDisplayUsers.ONLY_WHILE_SPEAKING&&i&&!p?null:ae(X.default,{onClick:i?void 0:this.handleClick,onContextMenu:i?void 0:this.handleContextMenu,className:(0,o.default)(J.default.voiceUserWrapper,(e={},e[J.default.faded]=!p,e[J.default.interactive]=!i,e)),user:f,nick:h,speaking:!1,flipped:r,isStreaming:d,iconClassName:(0,o.default)((t={},t[J.default.locked]=i,t)),isWatching:s,size:c,priority:v,deaf:l,mute:u,userNameClassName:(0,o.default)(J.default.username,(n={},n[J.default.locked]=i,n[J.default.hidden]=i&&(y===$.OverlayDisplayNames.NEVER||!p&&y===$.OverlayDisplayNames.ONLY_WHILE_SPEAKING),n))})},t}(r.PureComponent);ie.displayName="VoiceUser",ie.defaultProps={size:$.OverlayAvatarSizes.LARGE,flipped:!1,locked:!1,speaking:!1,isPrioritySpeaker:!1,deafened:!1,muted:!1};var le=i.default.connectStores([A.default,N.default,S.default,E.default],(function(e){var t=e.context,n=e.user,a=e.voiceState,r=function(e,t,n){var a=t.mute||t.selfMute||t.suppress;return a||E.default.getId()!==t.userId?a||(a=n.isLocalMute(t.userId,e)):a=!n.isEnabled()||n.isSelfMute(e)||n.isSelfMutedTemporarily(e),a}(t,a,N.default),o=S.default.getActiveStreamForUser(E.default.getId()),i=null!=o?S.default.getViewerIds(o):[];return{speaking:(E.default.getId()===n.id||!r)&&A.default.isSpeaking(n.id,t),isPrioritySpeaker:A.default.isPrioritySpeaker(n.id,t),muted:r,deafened:oe(t,a),streaming:null!=S.default.getStreamForUser(n.id),watching:null!=o&&o.ownerId!==n.id&&i.includes(n.id)}}))((function(e){var t=e.user,n=(e.voiceState,function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["user","voiceState"]));return r.createElement(ie,ne({user:t},n))})),ue=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).handleUserContextMenu=function(e,n){var a=t.props,o=a.channel,i=a.context;(0,u.openContextMenu)(e,(function(e){return r.createElement(m.default,ne({},e,{user:n,channelId:null!=o?o.id:void 0,showMediaItems:!0,mediaEngineContext:i}))}))},t.handleOpenVoiceSettings=function(){var e=t.props,n=e.context,a=e.channel,r=e.title;null!=a?(0,c.openModal)(n,$.AppContext.OVERLAY):(0,c.openModal)(n,$.AppContext.OVERLAY,r)},t.handlePin=function(){var e=t.props.id;(0,d.togglePinned)(e)},t.handleStopStream=function(){var e=t.props.stream;null!=e&&f.stopStream((0,v.encodeStreamKey)(e))},t}re(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.pinned,a=t.channel;null!=a&&n!==e.pinned&&s.default.track($.AnalyticEvents.OVERLAY_PIN_TOGGLED,{pinned:n,guild_id:a.guild_id,channel_id:a.id,channel_type:a.type,widget_type:$.OverlayWidgets.VOICE})},n.renderVoiceUsers=function(){var e,t=this,n=this.props,a=n.context,r=n.sortedVoiceStates,i=n.displayNameMode,l=n.displayUserMode,u=n.locked,d=n.isPreviewingInGame,s=n.channel,f=n.anchor,c=n.avatarSizeMode,p=null!=f.right,v=r.map((function(e){var n=e.user,r=e.voiceState,o=e.nick;return null==n||null==s||null==a?null:ae(le,{user:n,nick:o,channel:s,flipped:p,voiceState:r,displayNameMode:i,displayUserMode:l,size:c,locked:u||d,onContextMenu:t.handleUserContextMenu,onClick:t.handleUserContextMenu,context:a},n.id)}));return ae(H.default.Body,{className:(0,o.default)((e={},e[J.default.topMargin]=u,e[J.default.bottomMargin]=u,e))},void 0,ae(X.default.List,{className:J.default.voiceList},void 0,v))},n.renderHeader=function(){var e,t,n=this.props,a=n.pinned,r=n.title,i=n.isPreviewingInGame,l=n.hasStream?Y.default:G.default;return ae(H.default.Bar,{className:(0,o.default)(J.default.draggableStartArea,(e={},e[J.default.preview]=i,e))},void 0,ae(H.default.Content,{dynamicSize:!0,className:(0,o.default)(J.default.content,(t={},t[J.default.hidden]=i,t))},void 0,ae(W.default,{color:$.Colors.WHITE,width:20,height:20,className:(0,o.default)(J.default.icon,J.default.faded,J.default.dragIcon)}),ae(l,{color:$.Colors.WHITE,width:20,height:20,className:(0,o.default)(J.default.icon,J.default.faded,J.default.speakerIcon)}),ae(K.default,{color:$.Colors.PRIMARY_DARK_200,className:J.default.title},void 0,r)),i?null:ae(H.default.Icon,{icon:V.default,label:q.default.Messages.VOICE_SETTINGS,onClick:this.handleOpenVoiceSettings,tooltipPosition:x.default.Positions.LEFT,size:18}),i?null:ae(H.default.Icon,{icon:a?B.default:U.default,label:a?q.default.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:q.default.Messages.OVERLAY_WIDGET_SHOW_IN_GAME,onClick:this.handlePin,tooltipPosition:x.default.Positions.LEFT,size:18,isActive:a}))},n.renderStreamerSettings=function(){var e,t=this.props,n=t.locked,a=t.pinned,r=t.isPreviewingInGame,i=t.application,l=t.streamApplication,u=t.stream;return n||null==u?null:ae(H.default.Bar,{className:(0,o.default)(J.default.streamerControls,(e={},e[J.default.hidden]=r,e[J.default.unpinned]=!a,e))},void 0,ae(H.default.Content,{className:J.default.streamerContent,dynamicSize:!0},void 0,ae("div",{className:J.default.streamerInner},void 0,ae(j.default,{className:J.default.gameIcon,game:i}),ae(R.default,{direction:R.default.Direction.VERTICAL,justify:R.default.Justify.BETWEEN,className:J.default.streamerInfo},void 0,ae(K.default,{className:J.default.streaming},void 0,q.default.Messages.STATUS_STREAMING),null!=l&&null!=l.name?ae(F.default,{},void 0,l.name):null)),ae(R.default,{grow:0},void 0,ae("div",{className:J.default.streamerIconWrapper},void 0,ae(O.default,{stream:u,className:J.default.streamerIcon,appContext:$.AppContext.OVERLAY})),ae("div",{className:J.default.streamerIconWrapper},void 0,ae(_.default,{stream:u,className:J.default.streamerIcon,hideBadges:!0,appContext:$.AppContext.OVERLAY})),ae("div",{className:J.default.streamerIconWrapper},void 0,ae(x.TooltipContainer,{text:q.default.Messages.STOP_STREAMING},void 0,ae(D.default,{onClick:this.handleStopStream,look:D.default.Looks.BLANK,size:D.default.Sizes.NONE},void 0,ae(z.default,{className:J.default.streamerIcon})))))))},n.render=function(){var e,t,n=this.props,a=n.context,r=n.lobbyId,i=n.locked,l=n.pinned,u=n.isPreviewingInGame,d=n.sortedVoiceStates,s=n.channel;if(0===d.length||null==a||null==s)return null;if(i&&!l)return null;var f=$.OverlayWidgetTypes.UNPINNED;return l&&(f=$.OverlayWidgetTypes.PINNED),u&&(f=$.OverlayWidgetTypes.IN_GAME_PREVIEW),i&&(f=$.OverlayWidgetTypes.IN_GAME),ae(H.default,{type:f,width:280},void 0,i?null:this.renderHeader(),this.renderVoiceUsers(),this.renderStreamerSettings(),i?null:ae(Z.default,{className:(0,o.default)((e={},e[J.default.preview]=u,e)),contentClassName:(0,o.default)((t={},t[J.default.hidden]=u,t)),channel:s,lobbyId:r,context:a,pinned:l}))},t}(r.PureComponent);t.VoiceWidget=ue,ue.displayName="VoiceWidget",ue.defaultProps={context:l.MediaEngineContextTypes.DEFAULT};var de=i.default.connectStores([M.default,k.default,T.default,S.default,w.default,C.default,L.default,I.default,b.default,P.default],(function(){var e=T.default.getVoiceChannelId(),t=null!=e?C.default.getChannel(e):null,n=null!=t?L.default.getVoiceStatesForChannel(t):[],a=(0,y.default)(M.default,k.default),r=w.default.getCurrentUser(),o=S.default.getActiveStreamForUser(r.id);return{channel:t,title:null!=t?(0,p.default)(t):"",sortedVoiceStates:n,displayUserMode:I.default.getDisplayUserMode(),displayNameMode:I.default.getDisplayNameMode(),avatarSizeMode:I.default.getAvatarSizeMode(),application:null!=a?b.default.getGameBySettingGame(a):null,streamApplication:(0,g.default)(a),stream:o,hasStream:null!=t&&(0,h.default)(t,S.default,P.default).length>0}}))(ue);t.default=de},9881:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=E(n(0)),o=_(n(5)),i=_(n(1171)),l=n(1752),u=_(n(23)),d=E(n(9698)),s=_(n(5678)),f=_(n(9696)),c=_(n(244)),p=n(1076),v=_(n(40)),h=n(203),y=_(n(9778)),g=n(1),m=_(n(2)),O=_(n(9648));function _(e){return e&&e.__esModule?e:{default:e}}function S(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return S=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=S();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function C(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function I(){var e=(0,p.getPID)();(0,l.send)({type:g.OverlayEventTypes.DISPATCH,pid:e,payloads:[{type:g.ActionTypes.OVERLAY_SET_INPUT_LOCKED,locked:!0,pid:e}]})}var M=C(f.default.Bar,{},void 0,"Error Details"),T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={showTrace:!1,busy:!1},t.hideNotification=function(){I();var e=b(t).notificationTimer;e&&clearTimeout(e),t.notificationTimer=null},t.handleReload=function(e){t.setState({busy:!0}),I(),i.default.track(g.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:"Overlay Crashed",action_type:"reload"},!0),e.stopPropagation(),setTimeout((function(){return location.reload(!0)}),200)},t.handleNotificationClick=function(e){e.stopPropagation();var n=b(t).notificationTimer;n&&clearTimeout(n),e.shiftKey&&t.setState({showTrace:!0})},t}N(t,e);var n=t.prototype;return n.componentDidMount=function(){this.notificationTimer=setTimeout(this.hideNotification,1e4),i.default.track(g.AnalyticEvents.NOTIFICATION_VIEWED,{notif_type:"Overlay Crashed"})},n.componentWillUnmount=function(){var e=this.notificationTimer;e&&clearTimeout(e)},n.render=function(){var e=this.props,t=e.info,n=e.error,a=this.state.showTrace;return null==this.notificationTimer?null:C(y.default,{observe:!1},void 0,C(u.default,{className:(0,o.default)((0,h.getThemeClass)(g.ThemeTypes.DARK),O.default.container),onClick:function(e){return e.stopPropagation()}},void 0,C(d.default,{expand:!0,colorScheme:d.ColorSchemes.DANGER,icon:C(s.default,{width:40,height:40,className:O.default.notificationIcon}),title:m.default.Messages.OVERLAY_CRASHED_TITLE,confirmText:m.default.Messages.OVERLAY_RELOAD,onNotificationClick:this.handleNotificationClick,onConfirmClick:this.handleReload,onDismissClick:this.hideNotification}),a&&t?C(f.default,{className:O.default.stackTrace},void 0,M,C(f.default.Content,{className:O.default.stackTraceCode},void 0,C("code",{className:O.default.code},void 0,C("pre",{},void 0,n.stack)))):null))},t}(r.PureComponent);T.displayName="ErrorNotification";var A=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).state={error:null,info:null},e}N(n,t);var a=n.prototype;return a.componentDidCatch=function(t,n){var a=v.default.getHistory().location;this.setState({error:t,info:n});var r=(0,p.getPID)();(0,l.send)({type:g.OverlayEventTypes.DISPATCH,pid:(0,p.getPID)(),payloads:[{type:g.ActionTypes.OVERLAY_CRASHED,pid:r},{type:g.ActionTypes.OVERLAY_SET_INPUT_LOCKED,locked:!0,pid:r}]}),e((function(){return window.addEventListener("click",I)})),c.default.captureCrash(t,{extra:n}),i.default.track(g.AnalyticEvents.APP_CRASHED,{path:a.pathname})},a.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,r=a.error,o=a.info;return null!=r?C(T,{error:r,info:o}):C("div",{className:n},void 0,t)},n}(r.PureComponent);A.displayName="ErrorBoundary";var w=A;t.default=w}).call(this,n(94).setImmediate)},9882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=l(n(5)),i=l(n(9645));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.keybind,n=e.separator,a=e.className;return t.map((function(e,l){return d(r.Fragment,{},l,d("span",{className:(0,o.default)(i.default.key,a)},void 0,e),l===t.length-1?void 0:n)}))};s.defaultProps={separator:"+"};var f=s;t.default=f},9901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMouseEvent=function(e,t,n){return new MouseEvent(e,{screenX:t,screenY:n,clientX:t,clientY:n,bubbles:!0,view:window})},t.dispatchEventToPoint=function(e,t,n){var a=document.elementFromPoint(t,n);if(null==a)throw new Error;a.dispatchEvent(e)}},9902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=de;var a,r=q(n(0)),o=Z(n(5)),i=Z(n(1530)),l=Z(n(433)),u=Z(n(9903)),d=q(n(3)),s=Z(n(167)),f=n(46),c=Z(n(1171)),p=Z(n(5664)),v=n(6563),h=Z(n(481)),y=n(170),g=Z(n(1100)),m=Z(n(1524)),O=Z(n(9969)),_=Z(n(116)),S=Z(n(17)),E=Z(n(18)),C=Z(n(749)),b=Z(n(20)),N=Z(n(5617)),I=Z(n(48)),M=Z(n(330)),T=Z(n(738)),A=Z(n(428)),w=Z(n(111)),P=Z(n(42)),k=Z(n(108)),L=Z(n(1097)),D=Z(n(1077)),R=Z(n(23)),j=Z(n(12)),x=(Z(n(753)),n(1076)),W=Z(n(15)),V=Z(n(41)),U=n(425),G=Z(n(9970)),z=Z(n(9971)),Y=Z(n(9981)),B=Z(n(9993)),H=Z(n(9994)),F=n(1),K=Z(n(2)),X=Z(n(9665));function Z(e){return e&&e.__esModule?e:{default:e}}function $(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return $=function(){return e},e}function q(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=$();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function J(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}d.default.PersistedStore.disableWrites=__OVERLAY__,d.default.initialize();var Q,ee=(0,y.registerUserExperiment)({id:y.Experiments.GO_LIVE_OVERLAY_NUDGE,title:"Go Live Overlay Nudge (not in voice)",description:["Control: Show normal welcome nudge.","Treatment 1: Show new nudge + new modal w/ guild selector."],buckets:[y.ExperimentBuckets.CONTROL,y.ExperimentBuckets.TREATMENT_1]}),te=null;function ne(e){e.preventDefault()}function ae(e){(0,f.openContextMenu)(e,(function(e){return r.createElement(O.default,e)}))}M.default.registerModalsDeprecated(B.default),W.default.embedded;var re=function(e){var t,n=e.keybind,a=e.onClick,r=e.isPreviewingInGame,i=e.locked;return J(i?R.default:"div",{className:(0,o.default)(X.default.overlayBackground,(t={},t[X.default.overlayActive]=!i,t[X.default.overlayLocked]=i,t[X.default.previewMode]=!i&&r,t)),onMouseDown:function(e){var t=e.currentTarget,n=e.target;e.button===F.MouseButtons.PRIMARY&&t===n&&a()},onContextMenu:ae},void 0,i?null:J("div",{className:X.default.closeContainer},void 0,J(p.default,{theme:F.ThemeTypes.DARK,variant:p.default.Variants.BOLD,keybind:n,closeAction:a})))};re.displayName="OverlayBackground";var oe=function(e){return{keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey}},ie=J(H.default,{}),le=J(G.default,{}),ue=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this).handleWindowResize=(0,l.default)((function(){n.forceUpdate()}),500),n.activeKeyEventShapes=[],n.lockEventShape=(0,U.toBrowserEvents)(n.props.keybindKeyCodes),n.getActiveKeyEventIndex=function(e){return n.activeKeyEventShapes.findIndex((function(t){return(0,u.default)(t,e)}))},n.onKeyDownGlobal=function(e){var t=oe(e),a=n.getActiveKeyEventIndex(t)>-1,r=[16,17,18,91].includes(e.keyCode);a||r||n.activeKeyEventShapes.push(t),n.activeKeyEventShapes.length===n.lockEventShape.length&&n.lockEventShape.every((function(e){return n.activeKeyEventShapes.some((function(t){return(0,u.default)(e,t)}))}))&&(e.preventDefault(),e.stopPropagation());var o=n.props,l=o.locked,d=o.activeRegions;t.keyCode===i.default.codes.esc&&l&&d.has(F.OverlayActiveRegions.TEXT_WIDGET)&&c.default.deactivateAllRegions()},n.onKeyUpGlobal=function(e){var t=oe(e),a=n.getActiveKeyEventIndex(t);a>-1&&n.activeKeyEventShapes.splice(a,1)};var a=t.locked&&T.default.isPinned(F.OverlayWidgets.TEXT);return h.default.setLayout(a?v.OVERLAY_LOCKED_LAYOUT:v.OVERLAY_LAYOUT),a&&h.default.enable(),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.handleLock=function(){M.default.hasModalOpen()||C.default.isOpen()||0!==A.default.getPopouts().length||c.default.setLocked(!0,(0,x.getPID)())},r.handleDeactivate=function(){c.default.deactivateAllRegions()},r.componentDidMount=function(){c.default.startSession()},r.componentDidUpdate=function(e){var t=this.props.initialized;if(t)if(!t||e.initialized){if(!e.locked&&this.props.locked){if(window.addEventListener("contextmenu",ne,!1),null!=te){var n=Date.now()-te;c.default.track(F.AnalyticEvents.OVERLAY_LOCKED,{unlocked_duration:n}),te=null}h.default.disable(),this.activeKeyEventShapes=[],T.default.isPinned(F.OverlayWidgets.TEXT)&&(h.default.setLayout(v.OVERLAY_LOCKED_LAYOUT),h.default.enable())}else e.locked&&!this.props.locked&&(window.removeEventListener("contextmenu",ne,!1),null==te&&(te=Date.now(),c.default.track(F.AnalyticEvents.OVERLAY_UNLOCKED)),h.default.disable(),this.activeKeyEventShapes=[],h.default.setLayout(v.OVERLAY_LAYOUT),h.default.enable());e.keybindKeyCodes!==this.props.keybindKeyCodes&&(this.lockEventShape=(0,U.toBrowserEvents)(this.props.keybindKeyCodes))}else this.initialSetup()},r.initialSetup=function(){var e,t=this.props,n=t.connectedToVoice,a=t.locked,r=t.canGoLive,o=t.isStreaming,i=t.voiceGuild,l=t.voiceChannelId,u=t.game;if(c.default.track(F.AnalyticEvents.OVERLAY_INITIALIZED,{voice_widget_connected:n,text_widget_connected:T.default.isPinned(F.OverlayWidgets.TEXT)}),r&&!o&&null!=u)if(n&&null!=i&&null!=l)e={type:"go-live",voiceChannelId:l,voiceGuild:i,game:u};else{var d=y.ExperimentStore.getUserExperimentDescriptor(ee.id);null!=d&&((0,y.triggerExperiment)(ee.id,d),d.bucket===y.ExperimentBuckets.TREATMENT_1&&(e={type:"go-live-2",game:u}))}if(c.default.overlayMounted(null,e),window.addEventListener("resize",this.handleWindowResize),a&&window.addEventListener("contextmenu",ne,!1),V.default.blur(),W.default.embedded){var f=V.default.requireModule("discord_overlay2");void 0!==f.setPerfInfoCallback&&(f.setPerfInfoCallback((function(e){c.default.track(F.AnalyticEvents.OVERLAY_PERF_INFO,e)})),f.broadcastCommand({message:"set_perf_report_interval",interval:9e5})),V.default.on("REQUEST_OPEN_EXTERNAL_URL",(function(e,t){T.default.getDisableExternalLinkAlert()||t===L.default.getLastURL()?V.default.send("OPEN_EXTERNAL_URL",t):s.default.show({title:K.default.Messages.OVERLAY_LINK_ALERT_TITLE,body:K.default.Messages.OVERLAY_LINK_ALERT_BODY,minorText:K.default.Messages.OVERLAY_LINK_ALERT_SECONDARY,confirmText:K.default.Messages.CONTINUE,cancelText:K.default.Messages.CANCEL,onConfirmSecondary:function(){c.default.disableExternalLinkAlert(),V.default.send("OPEN_EXTERNAL_URL",t)},onConfirm:function(){return V.default.send("OPEN_EXTERNAL_URL",t)}})}))}window.addEventListener("keydown",this.onKeyDownGlobal,!0),window.addEventListener("keyup",this.onKeyUpGlobal,!0)},r.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("keydown",this.onKeyDownGlobal,!0),window.removeEventListener("keyup",this.onKeyUpGlobal,!0),this.props.locked&&window.removeEventListener("contextmenu",ne,!1)},r.renderInvalidSizeMessage=function(){return J(j.default,{justify:j.default.Justify.CENTER,align:j.default.Align.CENTER,className:X.default.invalidContainer},void 0,J("div",{className:X.default.inactiveContainer},void 0,K.default.Messages.OVERLAY_TOO_SMALL.format(x.OVERLAY_MIN_RESOLUTION)))},r.render=function(){var e,t=this.props,n=t.locked,a=t.keybind,r=t.incompatibleApp,i=t.initialized,l=t.isPreviewingInGame,u=t.activeRegions,d=t.windowSize,s=d.width,f=d.height;if(0===s||0===f||r||!i)return null;var c=n||l;return J("div",{className:X.default.overlay},void 0,ie,l&&J("header",{className:X.default.previewingInGameHeader},void 0,K.default.Messages.OVERLAY_IN_GAME_PREVIEW_HEADER),Q,(!n||u.has(F.OverlayActiveRegions.TEXT_WIDGET))&&J(re,{locked:n,keybind:a,onClick:n?this.handleDeactivate:this.handleLock,isPreviewingInGame:l}),(0,x.validResolution)(d)?J(Y.default,{className:(0,o.default)((e={},e[X.default.layoutLocked]=n,e[X.default.layoutUnlocked]=!n,e))}):n?null:this.renderInvalidSizeMessage(),J(z.default,{locked:c,keybind:a}),le)},a}(r.Component);function de(){var e=(0,d.useStateFromStoresObject)([T.default],(function(){return{locked:T.default.isUILocked((0,x.getPID)()),initialized:T.default.initialized,incompatibleApp:T.default.incompatibleApp,activeRegions:T.default.getActiveRegions(),isPreviewingInGame:T.default.isPreviewingInGame()}})),t=e.locked,n=e.initialized,a=e.incompatibleApp,r=e.activeRegions,o=e.isPreviewingInGame,i=(0,d.useStateFromStores)([k.default],(function(){return k.default.windowSize()})),l=(0,d.useStateFromStores)([N.default],(function(){return N.default.getOverlayKeybind()})),u=(0,d.useStateFromStores)([P.default],(function(){return P.default.getVoiceChannelId()})),s=(0,d.useStateFromStores)([E.default],(function(){return E.default.getChannel(u)})),f=(0,d.useStateFromStores)([b.default],(function(){return null!=s?b.default.getGuild(s.guild_id):null})),c=(0,d.useStateFromStores)([w.default,D.default],(function(){return(0,m.default)(w.default,D.default)})),p=(0,d.useStateFromStores)([I.default],(function(){return(0,g.default)(I.default)})),v=(0,d.useStateFromStores)([_.default,S.default],(function(){return null!=_.default.getStreamForUser(S.default.getId())}));return J(ue,{locked:t,initialized:n,incompatibleApp:a,activeRegions:r,isPreviewingInGame:o,windowSize:i,keybind:null!=l?(0,U.toString)(l.shortcut,!0):"???",keybindKeyCodes:null!=l?l.shortcut:[],connectedToVoice:null!=u,voiceChannelId:null!=s?s.id:null,voiceGuild:f,game:c,canGoLive:p,isStreaming:v})}ue.displayName="Overlay",de.displayName="ConnectedOverlay"},9969:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;f(n(0));var a,r=n(46),o=d(n(1171)),i=f(n(34)),l=n(1076),u=d(n(2));function d(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){return c(i.default,{navId:"overlay",onClose:r.closeContextMenu,"aria-label":u.default.Messages.OVERLAY_ACTIONS_MENU_LABEL},void 0,c(i.MenuItem,{id:"reset",label:u.default.Messages.OVERLAY_RESET_DEFAULT_LAYOUT,action:function(e){e.stopPropagation(),o.default.resetDefaultLayout(l.OVERLAY_LAYOUT_ID)}}))}p.displayName="OverlayBackgroundContextMenu"},9970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),r=c(n(3)),o=n(1760),i=c(n(18)),l=c(n(738)),u=c(n(42)),d=c(n(112)),s=n(1076),f=n(1);function c(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}var v=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidUpdate=function(e){if(this.props.locked)return null;var t=this.props,n=t.selectedGuild,a=t.selectedChannel,r=t.isNSFWChannel;n!==e.selectedGuild&&(0,o.trackWithOverlayMetadata)(f.AnalyticEvents.GUILD_VIEWED),null!=a&&a!==e.selectedChannel&&(0,o.trackWithOverlayMetadata)(f.AnalyticEvents.CHANNEL_OPENED,{channel_is_nsfw:r})},r.render=function(){return null},a}(a.Component);v.displayName="AutoAnalytics";var h=r.default.connectStores([d.default,u.default,i.default,l.default],(function(){var e=d.default.getGuildId(),t=u.default.getChannelId(e),n=i.default.getChannel(t);return{selectedGuild:e,selectedChannel:t,isNSFWChannel:null==n?void 0:n.nsfw,locked:l.default.isUILocked((0,s.getPID)())}}))(v);t.default=h},9971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=p(n(5)),i=p(n(3)),l=p(n(166)),u=p(n(738)),d=p(n(9972)),s=p(n(9980)),f=n(1),c=p(n(9652));function p(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.keybind,n=e.notifications,a=e.position,r=e.locked;if(a===f.OverlayNotificationPositions.DISABLED)return null;var i=-1;return h(l.default,{component:"div",className:(0,o.default)(c.default.container,c.default[a])},void 0,n.map((function(e){return r&&e.status===f.OverlayNotificationStatus.TIMED_OUT?null:(i+=1,h(s.default,{index:i,zIndex:100-i,position:a,notification:e,keybind:t,locked:r},e.id))})))},a}(r.Component);y.displayName="Notifications";var g=i.default.connectStores([d.default,u.default],(function(){return{notifications:d.default.getNotifications(),position:u.default.getNotificationPositionMode()}}))(y);t.default=g},9972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=b(n(22)),r=b(n(114)),o=b(n(3)),i=b(n(4)),l=b(n(1171)),u=b(n(9973)),d=b(n(9974)),s=b(n(9976)),f=b(n(9977)),c=b(n(9978)),p=b(n(9979)),v=b(n(17)),h=b(n(18)),y=b(n(738)),g=b(n(121)),m=b(n(42)),O=b(n(300)),_=b(n(11)),S=n(6462),E=b(n(1077)),C=n(1);function b(e){return e&&e.__esModule?e:{default:e}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var I=Object.freeze({priority:C.OverlayNotificationPriorities.NORMAL,duration:5e3,expirationExternallyManaged:!1,type:C.OverlayNotificationTypes.GENERIC}),M=[],T=function(e,t,n){var a=t?C.OverlayNotificationStatus.TIMED_OUT:C.OverlayNotificationStatus.DISMISSED;return setTimeout((function(){return l.default.updateNotificationStatus(e,a)}),null!=n?n:5e3)};function A(e,t){if(void 0===t&&(t=C.OverlayNotificationStatus.DISMISSED),null==e)return!1;var n=M.findIndex((function(t){return t.id===e}));if(-1===n)return!1;var a=M[n];clearTimeout(a.timerId),M=[].concat(M),t===C.OverlayNotificationStatus.DISMISSED?M.splice(n,1):M[n]=N({},a,{status:t})}function w(e){var t=M.length;return(M=M.filter((function(t){return t.type!==C.OverlayNotificationTypes.TEXT||t.channelId!==e}))).length!==t}function P(e){var t=M.find((function(t){return t.type===C.OverlayNotificationTypes.INCOMING_CALL&&t.channelId===e}));return null!=t?t.id:null}function k(e,t){var n=N({},I,{},t);if(n.priority!==C.OverlayNotificationPriorities.URGENT&&!y.default.isInstanceFocused())return null;var a=r.default.v4(),o=N({id:a,status:C.OverlayNotificationStatus.ACTIVE,timerId:T(a,n.expirationExternallyManaged,n.duration),props:e},n),i=(M=[].concat(M)).findIndex((function(e){return e.priority<=n.priority}));if(-1===i?M.push(o):M.splice(i,0,o),M.length>10){var l=M.pop();clearTimeout(l.timerId)}return a}function L(e){var t=e.channelId,n=e.ringing,a=P(t);if(!n.includes(v.default.getId()))return A(a);if(null!=a)return!1;var r=h.default.getChannel(t);if(null==r)return!1;if(O.default.getStatus()===C.StatusTypes.DND)return!1;var o=M.find((function(e){return e.type===C.OverlayNotificationTypes.TEXT&&e.channelId===t&&e.messageType===C.MessageTypes.CALL}));null!=o&&A(o.id),k((0,s.default)(r),{priority:C.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0,type:C.OverlayNotificationTypes.INCOMING_CALL,channelId:r.id})}var D=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.initialize=function(){this.waitFor(h.default,_.default)},r.getNotifications=function(){return M},a}(o.default.Store))(i.default,__OVERLAY__?{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(e){A(e.notificationId,e.status)},OVERLAY_MOUNTED:function(e){var t=e.newsNudge,n=e.goLiveNudge;k(null!=n?(0,d.default)(n):(0,p.default)(t),{priority:C.OverlayNotificationPriorities.URGENT,duration:8e3})},OVERLAY_SET_INPUT_LOCKED:function(e){if(e.locked)return!1;M=M.map((function(e){return e.status===C.OverlayNotificationStatus.ACTIVE?(clearTimeout(e.timerId),N({},e,{timerId:T(e.id,e.expirationExternallyManaged)})):e}))},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=h.default.getChannel(t),o=_.default.getUser(n.author.id);if(null==r||null==o)return!1;if(!(0,S.shouldNotify)(n,t))return!1;if((!y.default.isInstanceUILocked()||y.default.isPinned(C.OverlayWidgets.TEXT))&&t===m.default.getChannelId())return!1;var i=y.default.getTextChatNotificationMode()!==C.OverlayNotificationTextChatTypes.DISABLED;if(null!=n.activity&&n.activity.type===C.ActivityActionTypes.JOIN){var l=function(e,t,n){(0,a.default)(null!=t.activity,"received null message activity");var r=E.default.getGame();if(null==r)return!1;var o=g.default.getApplicationActivity(n.id,r.id);if(null==o||null==o.party||o.party.id!==t.activity.party_id)return!1;var i=(0,u.default)(e,t,n,r,o);if(null==i)return!1;var l=k(i,{priority:C.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0,channelId:e.id});return null!=l&&T(l,!1,3e4),!0}(r,n,o);if(!1!==l)return l}if(!i)return!1;k((0,c.default)(r,n,o),{type:C.OverlayNotificationTypes.TEXT,channelId:r.id,messageType:n.type})},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&w(t)},MESSAGE_ACK:function(e){return w(e.channelId)},CALL_CREATE:L,CALL_UPDATE:L,CALL_DELETE:function(e){A(P(e.channelId))},ACTIVITY_JOIN_REQUEST:function(e){var t=e.applicationId,n=e.user.id,a=E.default.getGame();if(null==a||a.id!==t)return!1;var r=_.default.getUser(n);if(null==r)return!1;var o=k((0,f.default)(r,t,a.name),{priority:C.OverlayNotificationPriorities.HIGH,expirationExternallyManaged:!0});return null!=o&&T(o,!1,3e4),!0}}:{});t.default=D},9973:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,d,s){if(null==t.activity)return null;var f=t.activity.type,c=s.session_id;if(null==c)return null;var p=(0,i.makeTextChatNotification)(e,t,n),v=p.icon,h=p.title,y=p.body,g=(0,l.makeAnalyticsTrackers)({notif_type:"Activity Invite",notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:f,activity_name:s.name}),m=g.trackView,O=g.trackClick;return{colorScheme:o.default.ColorSchemes.PRIMARY,icon:v,title:h,body:y,hint:function(e){return(0,o.renderKeybindHint)(e,(0,l.getOverlayKeybind)(),u.default.Messages.OVERLAY_UNLOCK_TO_JOIN)},onNotificationShow:function(){m()},confirmText:u.default.Messages.JOIN,onConfirmClick:function(o,i){a.default.join(n.id,c,d.id,e.id,t.id),r.default.updateNotificationStatus(i),O("join")},onDismissClick:function(){O("dismiss")}}};var a=s(n(236)),r=s(n(1171)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(9698)),i=n(6462),l=n(9706),u=s(n(2));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}},9974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e.type){case"go-live":var t=e.game,a=e.voiceGuild,s=(0,v.makeAnalyticsTrackers)({notif_type:"Go Live Nudge"}),g=s.trackView,m=s.trackClick;return{colorScheme:f.ColorSchemes.PRIMARY,icon:n(9787),title:null,body:y.default.Messages.OVERLAY_NEWS_GO_LIVE_BODY.format({game:t.name,server:a.toString()}),hint:function(){return b},renderFooter:function(){return N},onNotificationShow:function(){g()},onNotificationClick:function(e,t){m("unlock"),i.default.updateNotificationStatus(t),d.default.isInstanceUILocked()&&i.default.setInstanceLocked(!1),o.default.push((function(){return S(l.default,{guildId:a.id,onClose:C,analyticsLocation:h.AnalyticsLocations.OVERLAY_NUDGE})}))},onDismissClick:function(){m("dismiss")}};case"go-live-2":var O=e.game,E=(0,v.makeAnalyticsTrackers)({notif_type:"Go Live Non Voice Nudge"}),T=E.trackView,A=E.trackClick;return{colorScheme:f.ColorSchemes.PRIMARY,icon:n(9787),title:null,body:y.default.Messages.OVERLAY_NEWS_GO_LIVE_BODY_NO_VOICE_CHANNEL.format({game:O.name}),hint:function(){return I},renderFooter:function(){return M},onNotificationShow:function(){T()},onNotificationClick:function(e,t){A("unlock"),i.default.updateNotificationStatus(t),d.default.isInstanceUILocked()&&i.default.setInstanceLocked(!1);var n=(0,c.openModal)((function(e){return r.createElement(u.default,_({},e,{analyticsLocation:h.AnalyticsLocations.OVERLAY_NUDGE,onClose:function(){return(0,c.closeModal)(n)}}))}))},onDismissClick:function(){A("dismiss")}};default:return(0,p.assertNever)(e)}};var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=O();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=m(n(32)),i=m(n(1171)),l=m(n(5672)),u=m(n(9975)),d=m(n(738)),s=m(n(10)),f=n(9698),c=n(61),p=n(69),v=n(9706),h=n(1),y=m(n(2)),g=m(n(9650));function m(e){return e&&e.__esModule?e:{default:e}}function O(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function S(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return S("div",{className:g.default.footer},void 0,S(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,className:g.default.ctaButton},void 0,y.default.Messages.OVERLAY_NEWS_GO_LIVE_CTA))}function C(){o.default.pop()}E.displayName="GoLiveCTA";var b=S(E,{}),N=S(E,{}),I=S(E,{}),M=S(E,{})},9975:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Oe;var a,r=te(n(0)),o=Q(n(5)),i=Q(n(22)),l=Q(n(8)),u=n(3),d=Q(n(181)),s=n(237),f=Q(n(5068)),c=n(1759),p=n(767),v=Q(n(5673)),h=Q(n(5069)),y=Q(n(1524)),g=Q(n(332)),m=Q(n(1535)),O=Q(n(17)),_=Q(n(58)),S=Q(n(93)),E=Q(n(20)),C=Q(n(111)),b=Q(n(293)),N=Q(n(11)),I=Q(n(1077)),M=Q(n(1762)),T=te(n(10)),A=Q(n(159)),w=Q(n(12)),P=Q(n(295)),k=Q(n(228)),L=Q(n(304)),D=Q(n(70)),R=n(29),j=n(86),x=n(47),W=Q(n(256)),V=Q(n(439)),U=n(56),G=n(61),z=Q(n(13)),Y=Q(n(5064)),B=Q(n(14)),H=n(69),F=Q(n(331)),K=Q(n(41)),X=Q(n(5067)),Z=n(1),$=Q(n(2)),q=Q(n(6544)),J=Q(n(9649));function Q(e){return e&&e.__esModule?e:{default:e}}function ee(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return ee=function(){return e},e}function te(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=ee();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function oe(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ie;!function(e){e[e.SELECT_GUILD=0]="SELECT_GUILD",e[e.SELECT_CHANNEL=1]="SELECT_CHANNEL"}(ie||(ie={}));var le=[ie.SELECT_GUILD,ie.SELECT_CHANNEL];function ue(e){var t,n,a=e.title,i=e.scrollerClassName,l=e.children,u=r.useRef(null),d=r.useState(!1),s=d[0],f=d[1],c=r.useState(!1),p=c[0],v=c[1],h=r.useCallback((function(e){f(e.getScrollbarOffset()>0),v(!e.isScrolledToBottom())}),[]);return r.useLayoutEffect((function(){var e=u.current;null!=e&&h(e)}),[]),r.createElement(r.Fragment,null,oe("div",{className:(0,o.default)(q.default.channelSelectFormTitle,(t={},t[q.default.separator]=s,t))},void 0,oe(x.FormTitle,{className:q.default.formItemTitle},void 0,a)),r.createElement(D.default,{ref:u,fade:!0,theme:D.default.Themes.GHOST_HAIRLINE,outerClassName:(0,o.default)(i,(n={},n[q.default.bottomSeparator]=p,n)),className:q.default.searchScrollerInner,onScroll:h},l))}function de(e){var t=e.children;return oe(A.default,{editable:!0,className:q.default.card},void 0,t)}function se(e){var t=e.guildId,n=e.currentUserId,a=e.onClick,r=(0,u.useStateFromStores)([E.default],(function(){return E.default.getGuild(t)})),o=(0,u.useStateFromStores)([S.default,E.default],(function(){return S.default.getChannels(t)[Z.ChannelTypes.GUILD_VOICE].some((function(e){var t=e.channel;return(0,p.canStreamInChannel)(n,t,E.default)}))}));return null!=r&&o?oe("div",{onClick:function(){return a(t)},className:J.default.guildRow},void 0,oe(k.default,{guild:r,size:k.default.Sizes.SMALL,className:J.default.guildIcon}),oe(z.default,{size:z.default.Sizes.SIZE_16,className:J.default.guildName},void 0,r.toString()),oe(W.default,{direction:W.default.Directions.RIGHT,className:J.default.guildArrow})):null}function fe(e){var t=e.currentUserId,n=e.onSelectGuild,a=(0,u.useStateFromStores)([b.default],(function(){return b.default.guildFolders}));return oe(ue,{title:$.default.Messages.GO_LIVE_MODAL_SELECT_GUILD_FORM_TITLE,scrollerClassName:(0,o.default)(J.default.guildScroller,q.default.marginBottom)},void 0,l.default.flatMap(a,(function(e){return e.guildIds.map((function(e){return oe(se,{guildId:e,currentUserId:t,onClick:n},e)}))})))}function ce(e,t){return null==e.name?null:oe(x.FormItem,{title:$.default.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:q.default.modalContent,titleClassName:q.default.formItemTitle},void 0,oe(de,{},void 0,oe(P.default,{game:t,size:P.default.Sizes.XSMALL,className:q.default.gameIcon}),oe("span",{className:q.default.ellipsisText},void 0,e.name)))}function pe(e,t){return oe(x.FormItem,{title:$.default.Messages.GO_LIVE_MODAL_GUILD_FORM_TITLE,className:q.default.modalContent,titleClassName:q.default.formItemTitle},void 0,oe(de,{},void 0,oe(k.default,{guild:e,size:k.default.Sizes.SMALLER,className:J.default.guildIcon}),oe("span",{className:q.default.ellipsisText},void 0,e.toString()),oe(T.default,{className:q.default.changeButton,color:T.default.Colors.GREY,size:T.default.Sizes.SMALL,onClick:t},void 0,$.default.Messages.CHANGE)))}function ve(e){var t,n=e.channel,a=e.currentUserId,r=e.selected,i=void 0!==r&&r,l=null,d=function(e,t){for(var n,a=[],r=ae(e);!(n=r()).done;){var o=n.value.user;o.id===t?a.unshift(o.id):a.push(o.id)}return a}((0,u.useStateFromStores)([M.default],(function(){return M.default.getVoiceStatesForChannel(n)})),a);if(null!=d&&d.length>0){var s=d.map((function(e){return N.default.getUser(e)})).filter(H.isNotNullish);l=oe(Y.default,{className:q.default.voiceUserList,users:s,renderUser:function(e){if(null==e)return null;var t=F.default.getName(n.guild_id,n.id,e),a=e.getAvatarURL();return oe(R.TooltipContainer,{text:t},void 0,oe("img",{alt:"",src:null!=a?a:void 0,"aria-label":e.username,className:q.default.avatar}))},renderMoreUsers:function(e){var t=function(e,t){var n=t.id,a=t.guild_id;return e.length<=1?null:2===e.length?$.default.Messages.GO_LIVE_MODAL_OVERFLOW_TWO_USERS.format({nickname0:F.default.getName(a,n,e[0]),nickname1:F.default.getName(a,n,e[1])}):3===e.length?$.default.Messages.GO_LIVE_MODAL_OVERFLOW_THREE_USERS.format({nickname0:F.default.getName(a,n,e[0]),nickname1:F.default.getName(a,n,e[1]),nickname2:F.default.getName(a,n,e[2])}):$.default.Messages.GO_LIVE_MODAL_OVERFLOW_FOUR_OR_MORE_USERS.format({nickname0:F.default.getName(a,n,e[0]),nickname1:F.default.getName(a,n,e[1]),remainingCount:e.length-2})}(s.slice(4),n);return oe("div",{},void 0,oe(R.TooltipContainer,{text:t},void 0,oe("div",{className:q.default.userListOverflow},void 0,e)))},max:5})}var c=(0,f.default)(n);return oe("div",{className:(0,o.default)(q.default.channelInfo,(t={},t[q.default.selected]=i,t))},void 0,oe(c,{className:q.default.channelIcon}),oe("div",{className:q.default.channelName},void 0,n.name),l)}function he(e,t,n,a){var r=e.map((function(e){return{name:oe(ve,{channel:e,selected:e.id===t,currentUserId:n}),value:e.id}}));return oe(ue,{title:$.default.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE,scrollerClassName:(0,o.default)(q.default.searchScroller,q.default.marginBottom)},void 0,oe(L.default,{options:r,value:t,itemInfoClassName:q.default.channelInfoWrapper,onChange:a}))}function ye(e){return oe(w.default,{align:w.default.Align.CENTER,className:q.default.warning},void 0,oe(V.default,{className:q.default.warningIcon}),oe(z.default,{color:z.default.Colors.CUSTOM,size:z.default.Sizes.SIZE_12},void 0,e))}function ge(e){var t=e.currentUserId,n=e.runningGame,a=e.application,o=e.guildId,i=e.selectedChannelId,l=e.onSelectChannel,d=e.onChangeGuild,s=(0,u.useStateFromStores)([E.default],(function(){return E.default.getGuild(o)})),f=(0,u.useStateFromStores)([S.default],(function(){return S.default.getChannels(o)})),c=r.useMemo((function(){return(0,p.getStreamEligibleChannels)(t,f,E.default)}),[t,f]),v=(0,u.useStateFromStores)([h.default],(function(){return h.default.GPUDriversOutdated}));if(null==s)return d(),null;return null==i&&c.length>0&&l(c[0].id),r.createElement(r.Fragment,null,ce(n,a),pe(s,d),he(c,i,t,(function(e){l(e.value)})),v?ye($.default.Messages.GO_LIVE_VIDEO_DRIVERS_OUTDATED):null)}function me(e){var t=e.currentUserId,n=e.runningGame,a=e.selectedGuildId,o=e.selectedChannelId,i=e.onClose;function l(){d.default.selectVoiceChannel(o);var e=m.default.getState(),r=e.resolution,l=e.fps;(function(e,t,n,a){var r=N.default.getUser(n),o=E.default.getGuild(a),i=null!=r?r.premiumType:null,l=null!=o?o.premiumTier:null;return(0,v.default)(c.ApplicationStreamResolutionRequirements[e],i,l)&&(0,v.default)(c.ApplicationStreamFPSRequirements[t],i,l)})(r,l,t,a)||(r=c.ApplicationStreamResolutions.RESOLUTION_720,l=c.ApplicationStreamFPS.FPS_30),(0,s.startGuildStream)(a,o,{pid:n.pid}),i()}K.default.supportsFeature(Z.NativeFeatures.ELEVATED_HOOK)&&n.elevated?(0,G.openModal)((function(e){return r.createElement(X.default,ne({},e,{handleStream:l,pid:n.pid}))})):l()}function Oe(e){var t=e.analyticsLocation,n=e.transitionState,a=e.onClose,o=(0,u.useStateFromStores)([O.default],(function(){return O.default.getId()})),l=(0,u.useStateFromStores)([C.default,I.default],(function(){return(0,y.default)(C.default,I.default)})),d=(0,u.useStateFromStores)([_.default],(function(){return null!=l&&null!=l.id?_.default.getGame(l.id):null}),[l]),s=r.useState(ie.SELECT_GUILD),f=s[0],c=s[1],p=r.useState(),v=p[0],h=p[1],m=r.useState(),S=m[0],E=m[1],b=(0,j.useUID)();if(r.useEffect((function(){B.default.track(Z.AnalyticEvents.OPEN_MODAL,{type:"Go Live Modal",application_id:null!=d?d.id:null,application_name:null!=l?l.name:null,game_id:null!=d?d.id:null,location_section:t})}),[]),null==l)return a(),null;function N(){h(void 0),E(void 0),c(ie.SELECT_GUILD)}var M=oe(U.ModalHeader,{className:q.default.modalHeader,separator:!1,id:b},void 0,oe(w.default,{direction:w.default.Direction.VERTICAL,align:w.default.Align.CENTER,className:q.default.header},void 0,oe("h4",{className:q.default.headerText},void 0,$.default.Messages.GO_LIVE_MODAL_TITLE),oe(z.default,{className:q.default.headerDescription,size:z.default.Sizes.SIZE_16,color:z.default.Colors.CUSTOM},void 0,$.default.Messages.GO_LIVE_MODAL_DESCRIPTION_GENERIC)),oe(U.ModalCloseButton,{onClick:close,className:q.default.modalCloseButton})),A=oe(fe,{currentUserId:o,onSelectGuild:function(e){h(e),c(ie.SELECT_CHANNEL)}}),P=oe(U.ModalFooter,{justify:w.default.Justify.BETWEEN},void 0,oe(T.default,{type:"submit",disabled:null==v||null==S},void 0,$.default.Messages.GO_LIVE_MODAL_CTA),f===ie.SELECT_GUILD?oe(T.default,{color:T.ButtonColors.PRIMARY,onClick:a},void 0,$.default.Messages.CANCEL):oe(T.default,{color:T.ButtonColors.PRIMARY,onClick:N},void 0,$.default.Messages.BACK));return oe("div",{className:q.default.modalOverhang},void 0,oe(U.ModalRoot,{transitionState:n,"aria-labelledby":b},void 0,oe("form",{onSubmit:function(e){e.preventDefault(),(0,i.default)(null!=v,"missing guild id"),(0,i.default)(null!=S,"missing channel id"),me({currentUserId:o,runningGame:l,selectedGuildId:v,selectedChannelId:S,onClose:a})}},void 0,M,function(){var e;switch(f){case ie.SELECT_GUILD:e=A;break;case ie.SELECT_CHANNEL:e=oe(ge,{currentUserId:o,runningGame:l,application:d,guildId:v,selectedChannelId:S,onSelectChannel:E,onChangeGuild:N});break;default:return(0,H.assertNever)(f)}return oe("div",{className:q.default.modalBody},void 0,oe(g.default,{step:f,steps:le},void 0,e))}(),P),oe("div",{className:q.default.art})))}de.displayName="RowCard",se.displayName="GuildRow",fe.displayName="SelectGuildStep",ce.displayName="renderSource",pe.displayName="renderSelectedGuild",ve.displayName="ChannelRadioItem",he.displayName="renderChannelSelect",ye.displayName="renderWarning",Oe.displayName="GoLiveModal"},9976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e),n=s.default.Messages.OVERLAY_NOTIFICATION_INCOMING_CALL,f=(0,o.getChannelIconURL)(e),c=(0,u.makeAnalyticsTrackers)({notif_type:"Incoming Call",notif_user_id:1===e.recipients.length?e.recipients[0]:null,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),p=c.trackView,v=c.trackClick;return{colorScheme:l.default.ColorSchemes.PRIMARY,icon:f,title:t,body:n,hint:function(e){return(0,l.renderKeybindHint)(e,(0,u.getOverlayKeybind)(),s.default.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:s.default.Messages.JOIN_CALL,cancelText:s.default.Messages.DECLINE,onNotificationShow:function(){p()},onConfirmClick:function(){r.default.callPrivateChannel(e.id),v("join"),r.default.track(d.AnalyticEvents.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:null,channel_id:e.id,video_enabled:!1})},onCancelClick:function(){a.default.stopRinging(e.id),v("decline")},onDismissClick:function(){v("dismiss")}}};var a=c(n(1095)),r=c(n(1171)),o=n(341),i=c(n(64)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(9698)),u=n(9706),d=n(1),s=c(n(2));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function c(e){return e&&e.__esModule?e:{default:e}}},9977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var d=e.username,s=u.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({username:"",game:n}),f=e.getAvatarURL(),c=(0,i.makeAnalyticsTrackers)({notif_type:"Activity Invite",notif_user_id:e.id,activity_type:l.ActivityActionTypes.JOIN_REQUEST,activity_name:n}),p=c.trackView,v=c.trackClick;return{colorScheme:o.default.ColorSchemes.PRIMARY,icon:f,title:d,body:s,hint:function(e){return(0,o.renderKeybindHint)(e,(0,i.getOverlayKeybind)(),u.default.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:u.default.Messages.USER_ACTIVITY_RESPOND_YEAH,cancelText:u.default.Messages.USER_ACTIVITY_RESPOND_NOPE,onNotificationShow:function(){p()},onConfirmClick:function(n,o){(0,a.invite)(e.id,t),v("join"),r.default.updateNotificationStatus(o)},onCancelClick:function(t,n){(0,a.close)(e.id),r.default.updateNotificationStatus(n),v("decline")},onDismissClick:function(){v("dismiss")}}};var a=n(1572),r=s(n(1171)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(9698)),i=n(9706),l=n(1),u=s(n(2));function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}},9978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a=(0,l.makeTextChatNotification)(e,t,n),c=a.icon,p=a.title,h=a.body,y=(0,d.makeAnalyticsTrackers)({notif_type:"Text Chat",notif_user_id:t.author.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),g=y.trackView,m=y.trackClick;return{colorScheme:i.ColorSchemes.PRIMARY,icon:c,title:p,body:h,renderFooter:function(e){return e?v("div",{style:{textAlign:"center"}},void 0,f.default.Messages.OVERLAY_CLICK_TO_JUMP_TO_CHANNEL):null},maxBodyLines:2,onNotificationShow:function(){g()},onNotificationClick:function(){u.default.transitionTo(s.Routes.CHANNEL(e.guild_id||s.ME,e.id)),m("jump"),o.default.isInstanceUILocked()&&r.default.setInstanceLocked(!1)},onDismissClick:function(){m("dismiss")}}};!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(n(0));var a,r=c(n(1171)),o=c(n(738)),i=n(9698),l=n(6462),u=c(n(40)),d=n(9706),s=n(1),f=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},9979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=null!=e&&null!=e.icon?e.icon:n(1213),a=null!=e?e.title:u.default.Messages.OVERLAY_LAUNCH_TITLE,d=(0,l.makeAnalyticsTrackers)({notif_type:null!=e?"News Nudge":"Welcome Nudge"}),s=d.trackView,p=d.trackClick;return{colorScheme:null!=e?i.ColorSchemes.BRAND:i.ColorSchemes.PRIMARY,icon:t,title:a,body:null!=e?e.body:null,hint:null!=e?e.hint:c,renderFooter:function(){return f("div",{style:{textAlign:"center",padding:2}},void 0,u.default.Messages.OVERLAY_CLICK_TO_UNLOCK)},onNotificationShow:function(){s()},onNotificationClick:function(t,n){p("unlock"),null==e&&r.default.updateNotificationStatus(n),o.default.isInstanceUILocked()&&r.default.setInstanceLocked(!1)},onDismissClick:function(){p("dismiss")}}};!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(n(0));var a,r=d(n(1171)),o=d(n(738)),i=n(9698),l=n(9706),u=d(n(2));function d(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){return(0,i.renderKeybindHint)(e,(0,l.getOverlayKeybind)(),u.default.Messages.OVERLAY_LAUNCH_OPEN_TIP)}},9980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=f(n(75)),i=f(n(1171)),l=f(n(9698)),u=f(n(9778)),d=n(1),s=f(n(9651));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var h=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).translateX=new o.default.Value(0),t.translateY=new o.default.Value(0),t.scale=new o.default.Value(1),t.opacity=new o.default.Value(1),t.state={animatedIn:!1},t.handleNotificationShow=function(){var e=t.props.notification,n=e.id;(0,e.props.onNotificationShow)(n)},t.handleDismissClick=function(e){var n=t.props.notification,a=n.id,r=n.props.onDismissClick;i.default.updateNotificationStatus(a),null!=r&&r(e,a)},t.handleNotificationClick=function(e){var n=t.props.notification,a=n.id,r=n.props.onNotificationClick;null!=r&&r(e,a)},t.handleConfirmClick=function(e){var n=t.props.notification,a=n.id,r=n.props.onConfirmClick;null!=r&&r(e,a)},t.handleCancelClick=function(e){var n=t.props.notification,a=n.id,r=n.props.onCancelClick;null!=r&&r(e,a)},t.handleAnimationEnd=function(){t.state.animatedIn||t.setState({animatedIn:!0})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=a.prototype;return f.componentWillAppear=function(e){var t=this.props.index;e(),this.animateTo(t)},f.componentWillEnter=function(e){var t=this.props.index;e(),this.animateTo(t)},f.componentWillLeave=function(e){var t=this.props.index;this.animateTo(t,e)},f.componentDidUpdate=function(e){var t=this.props.index;e.index!==t&&this.animateTo(t)},f.animateTo=function(e,t){var n,a,r,o,i=this.opacity,l=this.scale,u=this.translateX,d=this.translateY;switch(e){case 0:a=0,r=1,o=1;break;case 1:a=.3,r=.6,o=.98;break;case 2:a=.6,r=.3,o=.95;break;default:a=.6,r=0,o=.93}null!=t?(0===e?o=1.1:a=1.3,r=0,n=t):n=this.handleAnimationEnd,u.setValue(1),d.setValue(a),l.setValue(o),i.setValue(r),n()},f.getStyle=function(){var e,t,n,a,r,o=this.opacity,i=this.scale,l=this.translateX,u=this.translateY,s=this.props,f=s.position,c=s.zIndex;switch(f){case d.OverlayNotificationPositions.TOP_LEFT:case d.OverlayNotificationPositions.BOTTOM_LEFT:e="-100%",t=0;break;default:n=0,e="100%"}switch(f){case d.OverlayNotificationPositions.BOTTOM_LEFT:case d.OverlayNotificationPositions.BOTTOM_RIGHT:a=0;break;default:r=0}return{left:t,right:n,bottom:a,top:r,zIndex:c,opacity:o,transform:[{translateX:l.interpolate({inputRange:[0,1],outputRange:[e,"0%"]})},{translateY:u.interpolate({inputRange:[0,1],outputRange:["0px","20px"]})},{scale:i}]}},f.render=function(){var e=this.props,t=e.locked,n=e.index,a=e.notification.props,i=(a.onNotificationShow,a.onDismissClick,a.onNotificationClick),d=a.onConfirmClick,f=a.onCancelClick,c=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(a,["onNotificationShow","onDismissClick","onNotificationClick","onConfirmClick","onCancelClick"]),h=this.state.animatedIn,y=p(o.default.div,{className:s.default.animationContainer,style:this.getStyle()},void 0,r.createElement(l.default,v({},c,{onNotificationShow:h&&0===n?this.handleNotificationShow:null,onDismissClick:this.handleDismissClick,onNotificationClick:null!=i?this.handleNotificationClick:null,onConfirmClick:null!=d?this.handleConfirmClick:null,onCancelClick:null!=f?this.handleCancelClick:null,expand:!t&&0===n,disabled:0!==n})));return 0===n?p(u.default,{observeInterval:200},void 0,y):y},a}(r.Component);h.displayName="Notification";var y=h;t.default=y},9981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r,o=N(n(0)),i=C(n(3)),l=n(5636),u=C(n(1171)),d=C(n(9982)),s=C(n(1758)),f=C(n(738)),c=C(n(108)),p=N(n(9745)),v=n(33),h=n(5616),y=n(1076),g=C(n(9788)),m=C(n(9985)),O=C(n(9990)),_=C(n(9791)),S=C(n(9793)),E=n(1);function C(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function N(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=((a={})[E.OverlayWidgets.TEXT]=function(e){var t=e.dragging,n=e.locked,a=e.pinned,r=e.dragStart;return M(_.default,{dragStart:r,locked:n,pinned:a,dragging:t})},a[E.OverlayWidgets.GUILDS]=function(e){var t=e.locked,n=e.dragStart;return M(g.default,{dragStart:n,locked:t})},a[E.OverlayWidgets.VOICE]=function(e){var t=e.id,n=e.anchor,a=e.isPreviewingInGame,r=e.locked,o=e.pinned;return M(S.default,{anchor:n,id:t,locked:r,pinned:o,isPreviewingInGame:a,lobbyId:void 0})},a[E.OverlayWidgets.GUILDS_TEXT]=function(e){var t=e.dragging,n=e.locked,a=e.dragStart;return M(m.default,{dragStart:a,dragging:t,locked:n,pinned:!1})},a[E.OverlayWidgets.LOBBY_VOICE]=function(e){var t=e.id,n=e.anchor,a=e.isPreviewingInGame,r=e.locked,o=e.pinned;return M(O.default,{anchor:n,id:t,locked:r,pinned:o,isPreviewingInGame:a})},a),A=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={lastLayoutUpdate:null,dragging:!1},t.handleUpdate=function(e,n,a,r,o){var i=I(t),u=i.props.layoutSize,d=i.state.lastLayoutUpdate;if((0,y.validResolution)(u)){var f=(0,h.getAnchorPercentageFromLayoutSize)(a,u),c=(0,h.getSizePercentageFromSize)(r,u);(0,l.setTopWidget)(n),(0,l.setWidgetLayout)(n,f,c);var v=e===p.Operations.MOVE,g=!v,m=(0,h.getFullCoordsFromAnchorCoords)(a,u.width,u.height,o.width,o.height);t.setState({lastLayoutUpdate:{was_resized:null!=d&&d.was_resized||g,was_dragged:null!=d&&d.was_dragged||v,widget_type:s.default.getWidgetType(n),window_width:u.width,window_height:u.height,widget_width:o.width,widget_height:o.height,widget_left:m.left,widget_top:m.top}})}},t.handleFocus=function(e){var n=t.props.layoutSize;(0,y.validResolution)(n)&&(0,l.setTopWidget)(e)},t.handleDragStart=function(){var e=t.props.widget;null!=e&&(e.pinned&&u.default.setPreviewInGameMode(!0),t.setState({dragging:!0}))},t.handleDrag=function(e,n){if(n!==p.Operations.MOVE){var a=t.props.widget;null!=a&&(a.type!==E.OverlayWidgets.GUILDS&&a.type!==E.OverlayWidgets.GUILDS_TEXT||v.ComponentDispatch.dispatch(E.ComponentActions.CHANNEL_LIST_RECALCULATE),a.type!==E.OverlayWidgets.TEXT&&a.type!==E.OverlayWidgets.GUILDS_TEXT||v.ComponentDispatch.dispatch(E.ComponentActions.CHAT_RESIZE))}},t.handleDragEnd=function(){var e=t.props.widget;null!=e&&(e.pinned&&u.default.setPreviewInGameMode(!1),t.setState({dragging:!1}))},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidUpdate=function(e){this.props.locked&&!e.locked&&null!=this.state.lastLayoutUpdate&&(u.default.track(E.AnalyticEvents.OVERLAY_LAYOUT_UPDATED,this.state.lastLayoutUpdate),this.setState({lastLayoutUpdate:null}))},r.renderWidget=function(e,t,n){var a=this.props,r=a.locked,o=a.isPreviewingInGame,i=this.state.dragging,l=T[e.type];if(null==l)throw new Error("OverlayLayout: Widget does not exist in WidgetMap");return function(a){return l({id:e.id,locked:r,pinned:e.pinned,dragging:i,isPreviewingInGame:o,anchor:t,size:n,dragStart:a})}},r.render=function(){var e=this.props,t=e.widget,n=e.widgetConfig,a=e.layoutSize,r=e.locked,o=e.isPreviewingInGame,i=e.isActiveRegion;if(null==t||null==n)return null;var l=t.id,u=t.pinned,d=t.zIndex,s=t.size,f=t.anchor,c=(0,h.getSizeFromLayoutSize)(s,a),v=(0,h.getAnchorCoordsFromLayoutSize)(f,a),y=n.minSize,g=n.resizeX,m=n.resizeY,O=n.dragAnywhere,_=!r||i,S=!o&&!r||u,E={minX:0,minY:0,maxX:a.width,maxY:a.height};return M(p.default,{id:l,size:c,anchor:v,container:E,minSize:y,hidden:!S,resizeX:g,resizeY:m,style:{zIndex:d},dragAnywhere:O,active:_,onUpdate:this.handleUpdate,onClick:this.handleFocus,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},void 0,this.renderWidget(t,v,c))},a}(o.PureComponent);A.displayName="Widget";var w=i.default.connectStores([s.default,f.default],(function(e){var t=e.widgetId,n=s.default.getWidget(t),a=f.default.getActiveRegions();return{widget:n,widgetConfig:null!=n?s.default.getWidgetConfig(n.type):null,locked:f.default.isInstanceUILocked(),isPreviewingInGame:f.default.isPreviewingInGame(),isActiveRegion:null!=n&&a.has(n.type)}}))(A);function P(e,t){return M(w,{widgetId:e,layoutSize:t},e)}P.displayName="renderWidget";var k=i.default.connectStores([s.default,c.default],(function(){return{layout:s.default.getLayout(y.OVERLAY_LAYOUT_ID),layoutSize:c.default.windowSize(),renderWidget:P}}))(d.default);t.default=k},9982:function(e,t,n){"use strict";var a;function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.layout,n=e.layoutSize,a=e.className,r=e.renderWidget;return null!=t?o("div",{className:a,style:{width:n.width,height:n.height}},void 0,t.widgets.map((function(e){return r(e,n)}))):null},a}(function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)).PureComponent);i.displayName="Layout";var l=i;t.default=l},9983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(137),i=w(n(3)),l=w(n(6554)),u=w(n(6556)),d=w(n(6528)),s=w(n(406)),f=w(n(5679)),c=w(n(440)),p=w(n(991)),v=w(n(516)),h=w(n(93)),y=w(n(480)),g=w(n(20)),m=w(n(53)),O=w(n(42)),_=w(n(182)),S=w(n(1762)),E=w(n(153)),C=w(n(997)),b=w(n(9696)),N=w(n(9789)),I=w(n(9790)),M=n(1),T=w(n(2)),A=w(n(9656));function w(e){return e&&e.__esModule?e:{default:e}}function P(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return P=function(){return e},e}function k(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var D=k(N.default,{}),R=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={controller:new o.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1},t.handleScroll=function(e){null!=e&&t.setAnimatedValue(e.scrollTop)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getDerivedStateFromProps=function(e){var t=e.guild;return null==t||null==t.banner?{renderBanner:!1,bannerVisible:!1}:null};var i=a.prototype;return i.componentDidMount=function(){var e=this.props.guildId,t=p.default.getGuildDimensions(e).scrollTop;this.setAnimatedValue(t)},i.componentDidUpdate=function(e){var t=this.props,n=t.guild,a=t.guildId;if(e.guild!==n){var r=p.default.getGuildDimensions(a).scrollTop;this.setAnimatedValue(r)}},i.renderSettings=function(){return D},i.setAnimatedValue=function(e){var t=this.props.guild,n=this.state,a=n.controller,r=n.renderBanner,o=n.bannerVisible;null!=t&&null!=t.banner&&((e>=54&&o||e<54&&!o)&&(o=!o),(e>=78&&!r||e<78&&r)&&(r=!r),r===this.state.renderBanner&&o===this.state.bannerVisible||this.setState({renderBanner:r,bannerVisible:o}),a.update({value:Math.min(1,Math.max(0,1-e/78)),immediate:!0}).start())},i.render=function(){var e=this.props,t=e.onDragStart,n=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["onDragStart"]),a=n.guild,o=this.state,i=o.controller,s=o.renderBanner,f=o.bannerVisible;return k(I.default,{header:k(u.default,{className:A.default.guildHeader,guild:a,controller:i,renderBanner:s,bannerVisible:f,onMouseDown:t},void 0,k(E.default,{position:E.default.Positions.RIGHT,renderPopout:this.renderSettings},void 0,(function(e){return r.createElement(b.default.Icon,L({icon:C.default,label:T.default.Messages.SETTINGS},e))})))},void 0,r.createElement(l.default,L({},n,{guild:a,theme:M.ThemeTypes.DARK,disableManageChannels:!0,onScroll:null!=a&&null!=a.banner?this.handleScroll:null})),k(d.default,{guildId:a.id}))},a}(r.PureComponent);R.displayName="GuildSidebar";var j=i.default.connectStores([s.default,h.default,v.default,_.default,S.default,f.default,p.default,c.default,O.default,y.default,g.default,m.default],(function(e){var t=e.guildId,n=g.default.getGuild(t),a=h.default.getChannels(t),r=v.default.getCategories(t),o=_.default.getMutedChannels(t),i=S.default.getVoiceStates(t),l=f.default.getCollapsed(),u=_.default.isGuildCollapsed(t),d=p.default.getGuildDimensions(t).scrollTo,E=c.default.getChannelId(t),C=O.default.getVoiceChannelId(),b=m.default.getGuildVersion(t),N=s.default.version;return{guild:n,channels:a,categories:r,mutedChannels:o,scrollToChannel:d,selectedChannelId:E,selectedVoiceChannelId:C,voiceStates:i,collapsedChannels:l,collapseMuted:u,guildReadStateSentinel:y.default.getGuildChangeSentinel(t),permissionVersion:b,categoryCollapseVersion:N}}))(R);t.default=j},9984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=v(n(3)),i=n(1219),l=v(n(6553)),u=v(n(1098)),d=v(n(6528)),s=v(n(738)),f=n(1076),c=n(1),p=v(n(9657));function v(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(){return(0,i.show)("DM_SEARCH")},m=y(d.default,{guildId:null}),O=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return y("div",{className:p.default.privateChannels},void 0,y("div",{className:p.default.searchBar},void 0,y(u.default,{onFocus:g,className:p.default.searchBarComponent})),y(l.default,{padding:8,theme:c.ThemeTypes.DARK,version:this.props.version}),m)},a}(r.PureComponent);O.displayName="PrivateChannels";var _=o.default.connectStores([s.default],(function(){return{version:s.default.isUILocked((0,f.getPID)())?"true":"false"}}))(O);t.default=_},9985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n)}(n(0));var a,r=u(n(9696)),o=u(n(9788)),i=u(n(9791)),l=u(n(9662));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.dragStart,n=e.dragging,a=e.pinned,u=e.locked;return s(r.default,{className:l.default.wrapper},void 0,s(o.default,{contained:!0,dragStart:t,locked:u}),s(i.default,{dragStart:t,locked:u,pinned:a,dragging:n,contained:!0}))}},9986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case a.OpacityBounds.BOTTOM:return a.BackgroundOpacityClasses.LOW;case a.OpacityBounds.LOWER:return a.BackgroundOpacityClasses.MEDIUM;case a.OpacityBounds.UPPER:return a.BackgroundOpacityClasses.HIGH;case a.OpacityBounds.TOP:return a.BackgroundOpacityClasses.FULL;default:return}};var a=n(6458)},9987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=T();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=M(n(5)),i=M(n(3)),l=M(n(1171)),u=M(n(181)),d=M(n(526)),s=n(6551),f=n(80),c=M(n(752)),p=M(n(18)),v=M(n(20)),h=M(n(42)),y=M(n(123)),g=M(n(5640)),m=M(n(1578)),O=M(n(1569)),_=M(n(5677)),S=M(n(5048)),E=M(n(5049)),C=M(n(9696)),b=M(n(9988)),N=M(n(2)),I=M(n(9660));function M(e){return e&&e.__esModule?e:{default:e}}function T(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return T=function(){return e},e}function A(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=A(b.default,{}),P=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={showOpacitySlider:!1},t.handleClickCall=function(e){var n=t.props,a=n.channel,r=n.userIsInChannelCall,o=n.channelHasActiveCall;if(o)r?u.default.selectVoiceChannel(null):l.default.callPrivateChannel(a.id,!1);else{var i=!o&&!e.shiftKey;l.default.callPrivateChannel(a.id,i)}},t.handleOpenOpacitySettings=function(){var e=t.props.pinned;t.setState({showOpacitySlider:!0}),e&&l.default.setPreviewInGameMode(!0)},t.handleCloseOpacitySettings=function(){var e=t.props.pinned;t.setState({showOpacitySlider:!1}),e&&l.default.setPreviewInGameMode(!1)},t.handleMouseDown=function(e){var n=t.props.onMouseDown;null!=n&&n(e)},t.renderWidgetButtons=function(){var e=t.props,n=e.locked,a=e.handlePin,o=e.pinned,i=o?N.default.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:N.default.Messages.OVERLAY_WIDGET_SHOW_IN_GAME;return n?null:A(r.Fragment,{},void 0,t.renderCallButton(),o?A(d.default.Icon,{icon:_.default,tooltip:N.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY,onClick:t.handleOpenOpacitySettings}):null,A(d.default.Icon,{icon:o?E.default:S.default,tooltip:i,selected:o,onClick:a}))},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentDidUpdate=function(){this.props.locked&&this.state.showOpacitySlider&&this.setState({showOpacitySlider:!1})},i.renderCallButton=function(){var e,t=this.props,n=t.channel,a=t.channelHasActiveCall,r=t.userIsInChannelCall;if(!(0,f.isPrivate)(n.type))return null;var o=m.default;return a?r?(e=N.default.Messages.LEAVE_CALL,o=O.default):e=N.default.Messages.JOIN_CALL:e=N.default.Messages.START_VOICE_CALL,A(d.default.Icon,{icon:o,tooltip:e,onClick:this.handleClickCall})},i.render=function(){var e=this.props,t=e.className,n=e.draggableClassName,a=e.locked,r=e.channel,i=e.guild,l=e.onMouseDown,u=e.onContextMenu,f=e.isPreviewingInGame,c=e.disableDragIndicator,p=a||f?null:1;return this.state.showOpacitySlider&&!a?A(C.default.Bar,{className:I.default.opacityHeader},void 0,w,A(d.default.Icon,{icon:y.default,onClick:this.handleCloseOpacitySettings,tooltip:N.default.Messages.CLOSE})):A(C.default.Background,{opacityOverride:p},void 0,A("div",{className:(0,o.default)(t,n,I.default.headerContainer),onMouseDown:l,onContextMenu:u},void 0,A(d.default,{guildId:r.guild_id,channelId:r.id,toolbar:this.renderWidgetButtons(),transparent:!0},void 0,f||a||c?null:A(g.default,{className:(0,o.default)(I.default.dragIcon,n),width:20,height:20}),(0,s.renderTitle)({channel:r}),a?null:(0,s.renderTopic)(r,i))))},a}(r.Component);P.displayName="TextWidgetHeader";var k=i.default.connectStores([h.default,p.default,v.default,c.default],(function(e){var t=e.channel,n=h.default.getVoiceChannelId(),a=p.default.getChannel(n);return{guild:v.default.getGuild(t.guild_id),channelHasActiveCall:c.default.isCallActive(t.id),userIsInChannelCall:null!=a&&a.id===t.id}}))(P);t.default=k},9988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=g(n(0)),o=h(n(3)),i=h(n(1171)),l=n(6458),u=h(n(9989)),d=h(n(738)),s=h(n(1084)),f=g(n(49)),c=n(1),p=h(n(2)),v=h(n(9659));function h(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=Object.values(l.OpacityBounds).map((function(e){return 100*e})),_=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).initialValue=100*t.props.opacity,t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.handleUpdateBackgroundOpacity=function(e){i.default.setTextWidgetOpacity((0,u.default)(e/100)),i.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})},r.handlePreviewBackgroundOpacity=function(e){i.default.setTextWidgetOpacity((0,u.default)(e/100))},r.render=function(){return m("div",{className:v.default.container},void 0,m(f.default,{tag:f.Tags.H5,className:v.default.title},void 0,p.default.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY),m("div",{className:v.default.sliderContainer},void 0,m(s.default,{mini:!0,initialValue:this.initialValue,defaultValue:this.initialValue,minValue:O[0],maxValue:O[O.length-1],handleSize:10,onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:O,onMarkerRender:c.NOOP,equidistant:!0,stickToMarkers:!0})))},a}(r.PureComponent);_.displayName="TextWidgetOpacity";var S=o.default.connectStores([d.default],(function(){return{opacity:d.default.getTextWidgetOpacity()}}))(_);t.default=S},9989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case a.OpacityBounds.BOTTOM:return a.OpacityBounds.BOTTOM;case a.OpacityBounds.LOWER:return a.OpacityBounds.LOWER;case a.OpacityBounds.UPPER:return a.OpacityBounds.UPPER;default:return a.OpacityBounds.TOP}};var a=n(6458)},9990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=g(n(8)),r=g(n(3)),o=g(n(1524)),i=g(n(9792)),l=g(n(116)),u=g(n(329)),d=g(n(58)),s=g(n(1082)),f=g(n(5665)),c=g(n(738)),p=g(n(111)),v=g(n(11)),h=g(n(1077)),y=n(9793);function g(e){return e&&e.__esModule?e:{default:e}}var m=r.default.connectStores([p.default,h.default,l.default,v.default,c.default,s.default,u.default,f.default,d.default],(function(){var e,t=s.default.getLobbiesWithVoice().find((function(e){return null!=u.default.getApplication(e.application_id)})),n=[],r="";if(null!=t){var y=u.default.getApplication(t.application_id);null!=y&&(r=y.name),e=t.application_id,a.default.each(f.default.getVoiceStates(t.id),(function(e){var t=v.default.getUser(e.userId);null!=t&&n.push({voiceState:e,user:t,nick:t.username,comparator:t.toString()})}))}var g=(0,o.default)(p.default,h.default),m=v.default.getCurrentUser(),O=l.default.getActiveStreamForUser(m.id);return{title:r,context:e,sortedVoiceStates:a.default.sortBy(n,(function(e){return e.comparator})),lobbyId:null!=t?t.id:void 0,displayUserMode:c.default.getDisplayUserMode(),displayNameMode:c.default.getDisplayNameMode(),avatarSizeMode:c.default.getAvatarSizeMode(),application:null!=g?d.default.getGameBySettingGame(g):null,streamApplication:(0,i.default)(g),stream:O,hasStream:!1}}))(y.VoiceWidget);t.default=m},9991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=j();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=R(n(5)),i=n(142),l=R(n(3)),u=R(n(184)),d=R(n(525)),s=R(n(181)),f=R(n(6559)),c=R(n(6560)),p=R(n(64)),v=R(n(20)),h=R(n(48)),y=R(n(119)),g=R(n(9992)),m=R(n(23)),O=R(n(12)),_=R(n(153)),S=R(n(1569)),E=R(n(5676)),C=R(n(5070)),b=R(n(1579)),N=R(n(1101)),I=R(n(5071)),M=R(n(5072)),T=R(n(9696)),A=R(n(1580)),w=R(n(5052)),P=n(1),k=R(n(2)),L=R(n(9663)),D=R(n(6561));function R(e){return e&&e.__esModule?e:{default:e}}function j(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return j=function(){return e},e}function x(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W=l.default.connectStores([g.default],(function(e){var t=e.lobbyId;return{connectionState:g.default.getConnectionState(t),hostname:g.default.getHostname(t),averagePing:g.default.getAveragePing(t),lastPing:g.default.getLastPing(t),outboundLossRate:g.default.getOutboundLossRate(t)}}))((function(e){return r.createElement(c.default,e)})),V=function(e){var t,n;function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).handleToggleNoiseCancellation=function(){var e=t.props.noiseCancellationActive;u.default.setNoiseCancellation(!e,{section:P.AnalyticsSections.OVERLAY})},t.handleToggleSelfMute=function(){var e=t.props.context;u.default.toggleSelfMute(e)},t.handleToggleSelfDeaf=function(){var e=t.props.context;u.default.toggleSelfDeaf(e)},t.renderPopout=function(){var e=t.props.lobbyId;return x(W,{lobbyId:e,theme:P.ThemeTypes.DARK})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.handleDisconnect=function(){s.default.selectVoiceChannel(null)},l.renderLobby=function(){return x(w.default,{className:D.default.channel},void 0,k.default.Messages.LOBBY)},l.renderChannelLink=function(e){var t=this.props.guild,n=null!=t?(0,p.default)(e)+" / "+t.name:(0,p.default)(e),a=null!=t?t.id:P.ME;return x(i.Link,{to:P.Routes.CHANNEL(a),onClick:function(t){t.stopPropagation(),d.default.channelListScrollTo(a,e.id)}},void 0,x(w.default,{className:D.default.channel},void 0,n))},l.render=function(){var e,t=this,n=this.props,a=n.className,i=n.contentClassName,l=n.pinned,u=n.lobbyId,d=n.channel,s=n.quality,c=n.lastPing,p=n.hasVideo,v=n.connectionState,h=n.deaf,y=n.mute,g=n.noiseCancellationActive,w=n.noiseCancellationSupported;if(null==d&&null==u)return null;var P=w?x(A.default,{tooltipText:g?k.default.Messages.DISABLE_NOISE_CANCELLATION:k.default.Messages.ENABLE_NOISE_CANCELLATION,icon:g?I.default:M.default,onClick:this.handleToggleNoiseCancellation}):null;return x(T.default.Bar,{className:(0,o.default)(a,L.default.controls,(e={},e[L.default.unpinned]=!l,e))},void 0,x(T.default.Content,{className:(0,o.default)(i,L.default.content),dynamicSize:!0},void 0,x("div",{className:D.default.inner},void 0,x(_.default,{renderPopout:this.renderPopout,position:_.default.Positions.TOP},void 0,(function(e){return r.createElement(m.default,e,x(f.default,{statusTextClassName:D.default.statusWithPopout,quality:s,lastPing:c,hasVideo:p,state:v},void 0,null!=d?t.renderChannelLink(d):t.renderLobby()))}))),x(O.default,{grow:0},void 0,P,x(A.default,{tooltipText:y?k.default.Messages.UNMUTE:k.default.Messages.MUTE,icon:y?N.default:b.default,iconForeground:y?L.default.red:null,onClick:this.handleToggleSelfMute}),x(A.default,{tooltipText:h?k.default.Messages.UNDEAFEN:k.default.Messages.DEAFEN,icon:h?E.default:C.default,onClick:this.handleToggleSelfDeaf,iconForeground:h?L.default.red:null}),null==u&&x(A.default,{tooltipText:k.default.Messages.DISCONNECT,onClick:this.handleDisconnect,icon:S.default}))))},a}(r.PureComponent);V.displayName="Controls";var U=l.default.connectStores([g.default,v.default,h.default,y.default],(function(e){var t=e.context,n=e.lobbyId,a=e.channel,r=null,o=!1;return null!=a&&(o=null!=(r=v.default.getGuild(a.getGuildId()))&&y.default.hasVideo(a)),{guild:r,hasVideo:o,mute:h.default.isSelfMute(t)||h.default.isSelfMutedTemporarily(t),deaf:h.default.isSelfDeaf(t),noiseCancellationSupported:h.default.isNoiseCancellationSupported(),noiseCancellationActive:h.default.getNoiseCancellation(),connectionState:g.default.getConnectionState(n),lastPing:g.default.getLastPing(n),quality:g.default.getQuality(n)}}))(V);t.default=U},9992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(3)),r=i(n(4)),o=n(1);function i(e){return e&&e.__esModule?e:{default:e}}var l={};function u(e){var t=l[e=e||null];return null==t&&(t=l[e]={state:o.RTCConnectionStates.DISCONNECTED,quality:o.RTCConnectionQuality.UNKNOWN,pings:[],hostname:null,lossRate:null}),t}function d(e,t,n){var a=l[e=e||null];return null!=a?t(a):n}function s(e){var t=e.lobbyId;delete l[t]}var f=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.getConnectionState=function(e){return d(e,(function(e){return e.state}),o.RTCConnectionStates.DISCONNECTED)},r.getQuality=function(e){return d(e,(function(e){return e.quality}),o.RTCConnectionQuality.UNKNOWN)},r.getHostname=function(e){return d(e,(function(e){return e.hostname}),null)},r.getPings=function(e){return d(e,(function(e){return e.pings}),[])},r.getAveragePing=function(e){var t=this.getPings(e);return 0===t.length?0:t.reduce((function(e,t){return e+t}),0)/t.length},r.getLastPing=function(e){var t=this.getPings(e);return 0===t.length?0:t[t.length-1]},r.getOutboundLossRate=function(e){return d(e,(function(e){return e.lossRate}),null)},a}(a.default.Store))(r.default,{OVERLAY_INITIALIZE:function(e){l=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;var t=u(e.lobbyId);t.state=e.state,t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){var t=u(e.lobbyId);t.pings=e.pings,t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){u(e.lobbyId).lossRate=e.lossRate},LOBBY_DELETE:s,LOBBY_DISCONNECT:s});t.default=f},9993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=h(n(3)),r=h(n(6562)),o=h(n(6564)),i=h(n(6565)),l=h(n(6566)),u=h(n(6567)),d=h(n(6568)),s=h(n(6569)),f=h(n(6570)),c=h(n(6571)),p=h(n(6574)),v=h(n(6575));function h(e){return e&&e.__esModule?e:{default:e}}a.default.initialize();var y=[c.default,r.default,d.default,u.default,l.default,p.default,s.default,f.default,v.default,o.default,i.default];t.default=y},9994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=a?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(142),i=s(n(183)),l=s(n(181)),u=s(n(40)),d=n(1);function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=r;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=a.prototype;return r.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},r.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=function(e){var t=e.params,n=t.guildId,a=t.channelId,r=t.messageId;return{guildId:n||d.ME,channelId:a,messageId:r}}(e),n=t.guildId,a=t.channelId,r=t.messageId;(function(e){return null!=e&&(e===d.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(a)?(i.default.selectGuild(n),l.default.selectChannel(n,a,r)):u.default.replaceWith(d.Routes.ME)}},r.render=function(){return null},a}(r.Component);p.displayName="RouteListener";var v=c(o.Route,{component:p}),h=function(){return c(o.Switch,{},void 0,c(o.Route,{path:d.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),component:p}),v)};h.displayName="RouteManager";var y=h;t.default=y}}]);
//# sourceMappingURL=ddb8fa7de31b35a2965c.js.map