(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[99271],{483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},242735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(281110),u=n(744564),i=n(116404),a=n(784426),l=n(736818),c=n(534681),d=n(269300),s=n(3155),o=n(2590);function E(e,t,n,r,u,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,u)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var i=e.apply(t,n);function a(e){E(i,r,u,a,l,"next",e)}function l(e){E(i,r,u,a,l,"throw",e)}a(void 0)}))}}var h=function(e,t){var n,r,u,i,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(u=2&i[0]?r.return:i[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,i[1])).done)return u;(r=0,u)&&(i=[2&i[0],u.value]);switch(i[0]){case 0:case 1:u=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(u=a.trys,u=u.length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){a.label=i[1];break}if(6===i[0]&&a.label<u[1]){a.label=u[1];u=i;break}if(u&&a.label<u[2]){a.label=u[2];a.ops.push(i);break}u[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const _={startEvent:function(e,t){return r.Z.patch({url:o.ANM.GUILD_EVENT(t,e),body:{status:s.p1.ACTIVE}})},endEvent:function(e,t){return r.Z.patch({url:o.ANM.GUILD_EVENT(t,e),body:{status:s.p1.COMPLETED}})},
joinVoiceEvent:function(e,t){i.default.selectVoiceChannel(t);(0,a.uL)(o.Z5c.CHANNEL(e,t))},saveEvent:function(e,t,n,u){var i=s.pg.has(t.entityType)?t.channelId:null,a=s._U.has(t.entityType)?t.entityMetadata:null,l=null!=t.image&&!1===/^data:/.test(t.image)?void 0:t.image;return r.Z.patch({url:o.ANM.GUILD_EVENT(n,e),body:{name:t.name,description:t.description,image:l,privacy_level:t.privacyLevel,scheduled_start_time:t.scheduledStartTime,scheduled_end_time:t.scheduledEndTime,entity_type:t.entityType,channel_id:i,entity_metadata:a,broadcast_to_directory_channels:u.broadcastToDirectoryChannels}})},createGuildEvent:function(e,t,n){return r.Z.post({url:o.ANM.GUILD_EVENTS_FOR_GUILD(t),body:{name:e.name,description:e.description,image:e.image,privacy_level:e.privacyLevel,scheduled_start_time:e.scheduledStartTime,scheduled_end_time:e.scheduledEndTime,entity_type:e.entityType,channel_id:e.channelId,entity_metadata:e.entityMetadata,broadcast_to_directory_channels:n.broadcastToDirectoryChannels}})
},fetchGuildEventsForGuild:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f((function(){var n,r;return h(this,(function(i){switch(i.label){case 0:n={url:o.ANM.GUILD_EVENTS_FOR_GUILD(e),query:{with_user_count:t}};return[4,(0,c.Kb)(n)];case 1:r=i.sent().body;u.Z.dispatch({type:"FETCH_GUILD_EVENTS_FOR_GUILD",guildId:e,guildScheduledEvents:r});return[2,r]}}))}))()},cancelGuildEvent:function(e,t){return r.Z.patch({url:o.ANM.GUILD_EVENT(t,e),body:{status:s.p1.CANCELED}})},deleteGuildEvent:function(e,t){return r.Z.delete({url:o.ANM.GUILD_EVENT(t,e)})},getGuildEventsForCurrentUser:function(e){return f((function(){var t;return h(this,(function(n){switch(n.label){case 0:return[4,r.Z.get({url:o.ANM.USER_GUILD_EVENTS,query:{guild_ids:[e]}})];case 1:t=n.sent().body;u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_RSVPS_FETCH_SUCESS",guildScheduledEventUsers:t,guildId:e});return[2]}}))}))()},createRsvpForGuildEvent:function(e,t){return f((function(){var n,i,a
;return h(this,(function(c){switch(c.label){case 0:n=d.ZP.hasRsvp(e,t);i=l.default.getId();if(n)return[2];c.label=1;case 1:c.trys.push([1,3,,4]);u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_USER_ADD",userId:i,guildId:t,guildEventId:e});return[4,r.Z.put({url:o.ANM.USER_GUILD_EVENT(t,e)})];case 2:return[2,c.sent()];case 3:a=c.sent();u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_USER_REMOVE",userId:i,guildId:t,guildEventId:e});throw a;case 4:return[2]}}))}))()},deleteRsvpForGuildEvent:function(e,t){return f((function(){var n,i,a;return h(this,(function(c){switch(c.label){case 0:n=d.ZP.hasRsvp(e,t);i=l.default.getId();if(!n)return[2];c.label=1;case 1:c.trys.push([1,3,,4]);u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_USER_REMOVE",userId:i,guildId:t,guildEventId:e});return[4,r.Z.delete({url:o.ANM.USER_GUILD_EVENT(t,e)})];case 2:return[2,c.sent()];case 3:a=c.sent();u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_USER_ADD",userId:i,guildId:t,guildEventId:e});throw a;case 4:return[2]}}))}))()},
fetchUsersForGuildEvent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.rC;return f((function(){var i;return h(this,(function(a){switch(a.label){case 0:return null==e||null==t?[2,[]]:[4,r.Z.get({url:o.ANM.GUILD_EVENT_USERS(t,e),query:{limit:n,with_member:!0}})];case 1:i=a.sent();u.Z.dispatch({type:"GUILD_SCHEDULED_EVENT_USERS_FETCH_SUCCESS",guildEventId:e,rsvpUsers:i.body.users,guildId:t});return[2,i.body.users]}}))}))()}}},201441:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y,qY:()=>I,gM:()=>N,k5:()=>g,u1:()=>m,eF:()=>Z,sz:()=>b});var r=n(667294),u=n(202351),i=n(826945),a=n(61209),l=n(5544),c=n(567403),d=n(682776),s=n(72580),o=n(269300),E=n(371188),f=n(3155),h=n(2590);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,u,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;u=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw u}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=[];function y(e,t){return(0,u.Wu)([c.Z,i.Z,o.ZP,d.Z,a.Z,l.ZP],(function(){var n=c.Z.getGuild(e);if(null==n)return p;if(n.hasFeature(h.oNc.HUB)){var r,u,E=null===(r=l.ZP.getDefaultChannel(n.id))||void 0===r?void 0:r.id
;return(null!==(u=i.Z.getEventDirectoryEntries(E))&&void 0!==u?u:[]).map((function(e){var t=e.scheduledEventId,n=o.ZP.getGuildScheduledEvent(t);return null!=n?n:i.Z.getCachedGuildScheduledEventById(t)})).filter(s.lm)}return o.ZP.getGuildScheduledEventsByIndex(null!=t?t:o.bN.GUILD_EVENT_UPCOMING(n.id)).filter((function(e){var t=e.channel_id;if(null==t)return!0;var n=a.Z.getChannel(t);return d.Z.can(h.Plq.VIEW_CHANNEL,n)}))}),[e])}function I(e){return(0,u.e7)([o.ZP,a.Z,d.Z],(function(){var t=a.Z.getChannel(e);if(!d.Z.can(h.Plq.VIEW_CHANNEL,t))return null;if(null==(null==t?void 0:t.guild_id))return null;var n=o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_ACTIVE(e));return n.length>0?n[0]:null}),[e])}function N(e){var t=(0,u.Wu)([o.ZP],(function(){return o.ZP.getGuildScheduledEventsForGuild(e)}),[e]);return r.useMemo((function(){var e=new Map;t.forEach((function(t){var n=t.channel_id;null!=n&&e.set(n,t)}));return e}),[t])}function g(e){return(0,u.e7)([o.ZP,a.Z,d.Z],(function(){
return o.ZP.getGuildScheduledEventsByIndex(o.bN.GUILD_EVENT_ACTIVE(e)).find((function(e){if(e.entity_type===f.WX.NONE||!(0,o.xt)(e))return!1;if(null==e.channel_id)return!0;var t=a.Z.getChannel(e.channel_id);return d.Z.can(h.Plq.VIEW_CHANNEL,t)}))}),[e])}function m(e){return(0,u.e7)([o.ZP],(function(){return o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_UPCOMING(e))}),[e])}function Z(e){return(0,u.e7)([a.Z,o.ZP],(function(){var t=o.ZP.getGuildScheduledEventsByIndex(o.bN.GUILD_EVENT_ACTIVE(e)).find((function(e){return null!=a.Z.getChannel(e.channel_id)}));return a.Z.getChannel(null==t?void 0:t.channel_id)}),[e])}function b(e){var t=v(r.useState((function(){return Date.now()})),2),n=t[0],i=t[1];r.useEffect((function(){var e=setInterval((function(){i(Date.now())}),9e5);return function(){return clearInterval(e)}}),[]);var a=(0,u.e7)([o.ZP],(function(){return o.ZP.getGuildScheduledEventsByIndex(o.bN.CHANNEL_EVENT_UPCOMING(e))}),[e,n]);return r.useMemo((function(){
return a.filter((function(e){return e.status!==f.p1.ACTIVE&&(0,E.ub)(e.scheduled_start_time,e.scheduled_end_time).withinStartWindow}))}),[a])}},371188:(e,t,n)=>{"use strict";n.d(t,{G3:()=>i,Ib:()=>a,ib:()=>l,ub:()=>s,v1:()=>E,me:()=>f});var r=n(730381),u=n.n(r),i=(n(3155),365),a=i+1,l=function(){var e=u()().add(1,"hour"),t=e.hour();e.minutes()>=30&&(t+=1);return e.hour(t).minutes(0).seconds(0)};var c=function(e,t){return e.format(e.get("years")===t.get("years")?"ddd MMM Do · LT":"ddd MMM Do, YYYY · LT")},d=function(e,t){return e.diff(t,"days")>1?c(e,t):e.calendar(t)};function s(e,t,n){null==n&&(n=u()());var r=u()(e),i=null!=t&&""!==t?u()(t):void 0,a=null!=t&&r.isSame(i,"day");return{startDateTimeString:d(r,n),endDateTimeString:null!=i?a?i.format("LT"):c(i,n):void 0,currentOrPastEvent:r<=n,upcomingEvent:r<=u()().add(1,"hour"),withinStartWindow:r<=u()().add(15,"minute"),diffMinutes:r.diff(n,"minutes")}}function o(e,t){var n;if(null!=e){n={startDate:u()(e),endDate:void 0}
;null!=t&&(n.endDate=u()(t))}return n}function E(e){return o(e.scheduledStartTime,e.scheduledEndTime)}function f(e){return o(e.scheduled_start_time,e.scheduled_end_time)}},99271:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>h});var r=n(785893),u=(n(667294),n(945460)),i=n(116404),a=n(832642),l=n(443812),c=n(570202),d=n(242735),s=n(201441),o=n(473708),E=n(457184),f=n.n(E);function h(e){var t=e.channel,n=e.transitionState,E=e.onClose,h=(0,l.Dt)(),_=(0,s.qY)(t.id);if(null==_)return null;var v=function(){i.default.selectVoiceChannel(null);E()};return(0,r.jsxs)(u.ModalRoot,{transitionState:n,"aria-labelledby":h,size:u.ModalSize.SMALL,children:[(0,r.jsxs)(u.ModalContent,{className:f().content,children:[(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:f().iconBackground,children:(0,r.jsx)(c.Z,{height:40,width:40,className:f().icon})})}),(0,r.jsx)(u.Heading,{id:h,variant:"heading-xl/semibold",color:"header-primary",className:f().title,children:o.Z.Messages.GUILD_EVENT_END_PROMPT_TITLE
}),(0,r.jsx)(u.Text,{variant:"text-md/normal",color:"header-secondary",className:f().subtitle,children:o.Z.Messages.GUILD_EVENT_END_PROMPT_BODY})]}),(0,r.jsxs)(u.ModalFooter,{children:[(0,r.jsx)(u.Button,{color:u.Button.Colors.RED,onClick:function(){d.Z.endEvent(_.id,_.guild_id);v()},children:o.Z.Messages.GUILD_EVENT_END_PROMPT_CONFIRM}),(0,r.jsx)(u.Button,{color:u.Button.Colors.PRIMARY,className:f().cancelButton,onClick:v,children:o.Z.Messages.GUILD_EVENT_END_PROMPT_CANCEL})]})]})}},832642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),u=(n(667294),n(294184)),i=n.n(u),a=n(473708),l=n(347234),c=n.n(l),d=n(483683),s=n.n(d),o=n(63685),E=n.n(o);function f(e){var t=e.className,n=e.children;return(0,r.jsxs)("div",{className:i()(c().container,t),children:[(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:E(),className:i()(c().sparkleIcon,c().sparkleBottom)}),n,(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:s(),
className:i()(c().sparkleIcon,c().sparkleTop)})]})}},443812:(e,t,n)=>{"use strict";n.d(t,{hQ:()=>a,Dt:()=>l,FG:()=>c});var r=n(873955),u=n.n(r),i=n(989824),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uid_";return u()(e)},l=function(){return(0,i.Z)((function(){return a()}))},c=function(e){return(0,e.children)(l())}},989824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(667294),u={};function i(e){var t=(0,r.useRef)(u);t.current===u&&(t.current=e());return t.current}}}]);
//# sourceMappingURL=5db24f7a0eb6b05b68d6.js.map