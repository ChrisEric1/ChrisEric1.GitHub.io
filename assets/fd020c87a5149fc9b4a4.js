(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[95357],{674748:(t,e,n)=>{"use strict";n.d(e,{Z:()=>R});var r=n(667294),i=n(110251),u=n.n(i),o=n(873955),s=n.n(o),l=n(999357),a=n(744564),c=n(61209),f=n(715107),h=n(464187),d=n(652591),p=n(396043);const y=(0,n(260561).B)({kind:"user",id:"2021-04_impression_logging",label:"Standard Analytics: Log Impressions",defaultConfig:{useStandardAnalytics:!1},treatments:[{id:1,label:"Log impressions",config:{useStandardAnalytics:!0}}]});var _=n(930114);function v(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){v(t,e,n[e])}))}return t}function E(t,e){e=null!=e?e:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var b=(0,l.Gb)({analyticEventConfigs:d.AnalyticEventConfigs,dispatcher:a.Z,TRACK_ACTION_NAME:"TRACK"});function m(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.name,r=t.type,i=t.properties;if(t.type!==l.nv.MODAL||null!=t.name||!(0,_.Ez)().some((function(t){var e;return null===(e=t._stackContext)||void 0===e?void 0:e.isSlide}))){(0,_.Ps)(t);var u=(null==i?void 0:i.guild_id)||h.Z.getGuildId(),o=(null==i?void 0:i.channel_id)||f.Z.getChannelId(u),s=(0,d.expandEventProperties)(g({impression_type:r,location:(0,_.k$)()},(0,p.hH)(u),(0,
p.v_)(c.Z.getChannel(o)),i));if(e)(0,_.dT)(null,null);else{if(null!=n&&null!=r){(0,d.debugLogEvent)(n,s);b(n,s)}(0,_.dT)(n,s)}}}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{disableTrack:!1,trackOnInitialLoad:!1},n=arguments.length>2?arguments[2]:void 0,i=y.useExperiment({},{autoTrackExposure:!1}).useStandardAnalytics;r.useEffect((function(){y.trackExposure({})}),[]);var o=r.useRef(),l=r.useRef();r.useEffect((function(){if(i){var r=!u()(o.current,t);r&&(o.current=t);var a=!u()(l.current,n);a&&(l.current=n);if(r||a){var c=E(g({},t),{sequenceId:s()("impression_")});m(c,e.disableTrack);return function(){null!=c&&(0,_.dw)(c)}}}}),e.trackOnInitialLoad?[]:void 0)}},456837:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r=n(496486),i=n.n(r),u=n(468811),o=n.n(u),s=n(914716),l=n(382060),a=n(61209),c=n(21372),f=n(840922),h=n(473903),d=n(72580),p=n(749565);function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e,n){
e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function v(t){v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return v(t)}function g(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t,e){E=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return E(t,e)}var b=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)
}else n=r.apply(this,arguments);return g(this,n)}}var R;!function(t){t.UPDATE_USERS="UPDATE_USERS";t.USER_RESULTS="USER_RESULTS";t.QUERY_SET="QUERY_SET";t.QUERY_CLEAR="QUERY_CLEAR"}(R||(R={}));function O(t){if(null==t||f.Z.isBlocked(t.id))return null;var e={id:t.id,username:"0"!==t.discriminator?"".concat(t.username,"#").concat(t.discriminator):t.username};null!=p.ZP.getGlobalName(t)&&(e.globalName=t.globalName);t.bot&&(e.isBot=!0);if(f.Z.isFriend(t.id)){e.isFriend=!0;e.friendNickname=f.Z.getNickname(t.id)}return e}function S(t,e,n){null!=t&&(t[e]=null!=n&&""!==n?n:null)}function C(t){var e=[];if(null==t||!(0,l.hv)(t.type))return e;var n=t.recipients;(void 0===n?[]:n).forEach((function(n){var r=O(h.default.getUser(n));null!=t&&S(r,t.id);e.push(r)}));return e}function I(t,e){var n=[];t.forEach((function(t){var r=O(t.user);if(null!=r){S(r,e,t.nick);n.push(r)}}));return n}var U=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=this;y(this,t)
;this.handleMessages=function(t){var e=t.data;if(null!=e&&e.type===R.USER_RESULTS&&e.uuid===i._uuid){!1!==i._currentQuery&&i._callback(e.payload);null!=i._currentQuery&&(i._currentQuery=null);i._setNextQuery()}};this._worker=e;this._uuid=o().v4();this._callback=n;this._limit=r;this._currentQuery=null;this._nextQuery=null;this._subscribed=!1;this._subscribe()}var e=t.prototype;e.setLimit=function(t){this._limit=t;null!=this._nextQuery&&(this._nextQuery.limit=t)};e._subscribe=function(){if(null!=this._worker&&!this._subscribed){this._worker.addEventListener("message",this.handleMessages,!1);this._subscribed=!0;this._setNextQuery()}};e._unsubscribe=function(){if(null!=this._worker&&this._subscribed){this._worker.removeEventListener("message",this.handleMessages,!1);this._subscribed=!1}};e.destroy=function(){this.clearQuery();this._unsubscribe()};e.clearQuery=function(){this._currentQuery=!1;this._nextQuery=null;null!=this._worker&&this._subscribed&&this._worker.postMessage({
uuid:this._uuid,type:R.QUERY_CLEAR})};e.setQuery=function(t,e,n,r){if(null!=t){this._nextQuery={query:t,filters:e,blacklist:n,boosters:null!=r?r:{},limit:this._limit};this._setNextQuery()}};e._setNextQuery=function(){if((null==this._currentQuery||!1===this._currentQuery)&&null!=this._nextQuery)if(null!=this._worker&&this._subscribed){this._currentQuery=this._nextQuery;this._nextQuery=null;this._worker.postMessage({uuid:this._uuid,type:R.QUERY_SET,payload:this._currentQuery})}else this._subscribed||this._subscribe()};return t}();const w=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&E(t,e)}(r,t);var e=m(r);function r(){y(this,r);var t;(t=e.apply(this,arguments)).actions={LOGOUT:function(){return t._handleLogout()},POST_CONNECTION_OPEN:function(){return t._handleConnectionOpen()},
CONNECTION_OPEN_SUPPLEMENTAL:function(e){return t._handleConnectionOpenSupplemental(e)},OVERLAY_INITIALIZE:function(e){return t._handleOverlayInitialize(e)},CURRENT_USER_UPDATE:function(e){return t._handleCurrentUserUpdate(e)},GUILD_CREATE:function(e){return t._handleGuildCreate(e)},GUILD_MEMBERS_CHUNK:function(e){return t._handleGuildMembersChunk(e)},GUILD_MEMBER_ADD:function(e){return t._handleGuildMemberUpdate(e)},GUILD_MEMBER_UPDATE:function(e){return t._handleGuildMemberUpdate(e)},RELATIONSHIP_ADD:function(e){return t._handleRelationshipAdd(e)},RELATIONSHIP_UPDATE:function(e){return t._handleRelationshipUpdate(e)},RELATIONSHIP_REMOVE:function(e){return t._handleRelationshipRemove(e)},CHANNEL_CREATE:function(e){return t._handleDMCreate(e)},CHANNEL_UPDATES:function(e){return t._handleDMUpdates(e)},CHANNEL_RECIPIENT_ADD:function(e){return t._handleRecipientChanges(e)},PASSIVE_UPDATE_V1:function(e){return t._handlePassiveUpdateV1(e)}};t._handleLogout=function(){t.rebootWebworker()}
;t._handleConnectionOpen=function(){setTimeout((function(){var e=h.default.getCurrentUser();if(null!=e){var n=O(e),r=_({},n.id,n);Object.values(h.default.getUsers()).forEach((function(t){r[t.id]=O(t)}));var i=c.ZP.getMutableAllGuildsAndMembers();for(var u in i)for(var o in i[u]){var s,l,a=r[o],f=null!==(l=null===(s=i[u][o])||void 0===s?void 0:s.nick)&&void 0!==l?l:p.ZP.getGlobalName(a);null!=a&&(a[u]=null!=f&&""!==f?f:null)}t.updateUsers(Object.values(r))}}),3e3)};t._handleConnectionOpenSupplemental=function(e){var n=e.guilds;setTimeout((function(){var e=i().flatMap(n,(function(t){return I(t.members,t.id)}));t.updateUsers(e)}),3e3)};t._handleOverlayInitialize=function(e){var n=e.users,r=e.guildMembers,i=new Map,u=!0,o=!1,s=void 0;try{for(var l,a=n[Symbol.iterator]();!(u=(l=a.next()).done);u=!0){var c=l.value;i.set(c.id,O(c))}}catch(t){o=!0;s=t}finally{try{u||null==a.return||a.return()}finally{if(o)throw s}}var f=Object.keys(r),h=!0,d=!1,p=void 0;try{
for(var y,_=f[Symbol.iterator]();!(h=(y=_.next()).done);h=!0){var v=y.value,g=r[v];if(null!=g){var E=Object.keys(g),b=!0,m=!1,R=void 0;try{for(var C,I=E[Symbol.iterator]();!(b=(C=I.next()).done);b=!0){var U=C.value,w=i.get(U),T=g[U];if(null!=w&&null!=T&&null!=T.nick){S(w,v,T.nick);i.set(U,w)}}}catch(t){m=!0;R=t}finally{try{b||null==I.return||I.return()}finally{if(m)throw R}}}}}catch(t){d=!0;p=t}finally{try{h||null==_.return||_.return()}finally{if(d)throw p}}t.updateUsers(Array.from(i.values()));i.clear()};t._handleCurrentUserUpdate=function(e){var n=O(e.user);null!=n&&t.updateUsers([n])};t._handleGuildCreate=function(e){var n=e.guild,r=n.members;t.updateUsers(I(r,n.id))};t._handleGuildMembersChunk=function(e){var n=e.members,r=e.guildId;t.updateUsers(I(n,r))};t._handleGuildMemberUpdate=function(e){var n=e.guildId,r=e.user,i=e.nick,u=O(r);if(null!=u){S(u,n,i);t.updateUsers([u])}};t._handlePassiveUpdateV1=function(e){null!=e.members&&t.updateUsers(I(e.members,e.guildId))}
;t._handleRelationshipAdd=function(e){var n=O(e.relationship.user);t.updateUsers([n])};t._handleRelationshipUpdate=function(e){var n=O(h.default.getUser(e.relationship.id));t.updateUsers([n])};t._handleRelationshipRemove=function(e){var n=O(h.default.getUser(e.relationship.id));t.updateUsers([n])};t._handleDMCreate=function(e){var n=e.channel.id,r=C(a.Z.getChannel(n));if(0!==r.length){var i=O(h.default.getCurrentUser());S(i,n);r.push(i);t.updateUsers(r)}};t._handleDMUpdates=function(e){var n=e.channels,r=!0,i=!1,u=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,c=C(a.Z.getChannel(l.id));if(0!==c.length){var f=O(h.default.getCurrentUser());S(f,l.id);c.push(f);t.updateUsers(c)}}}catch(t){i=!0;u=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw u}}};t._handleRecipientChanges=function(e){var n=e.channelId,r=O(e.user);S(r,n);t.updateUsers([r])};return t}var u=r.prototype;u._initialize=function(){this.rebootWebworker()}
;u._terminate=function(){if(null!=this._worker){this._worker.terminate();this._worker=null}};u.rebootWebworker=function(){if(null!=this._worker){this._worker.terminate();this._worker=null}this._worker=new(n(968761))};u.updateUsers=function(t){var e=this._worker;if(null!=e){t=t.filter(d.lm);e.postMessage({type:R.UPDATE_USERS,payload:t})}};u.getSearchContext=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.initialize();var n=this._worker;if(null==n)throw new Error("SearchContextManager: No webworker initialized");return new U(n,t,e)};u.__getLocalVars=function(){return{DEFAULT_LIMIT:10,MessageTypes:R}};return r}(s.Z))},728197:(t,e,n)=>{"use strict";n.d(e,{xQ:()=>I.xQ,h8:()=>I.h8,a8:()=>I.a8,o6:()=>k,ZP:()=>j,gJ:()=>D});var r=n(496486),i=n.n(r),u=n(120053),o=n.n(u),s=n(382060),l=n(848285),a=n(169376);function c(t){c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return c(t)}function f(t,e){
return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e){h=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return h(t,e)}var d=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}const y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,
writable:!0,configurable:!0}});e&&h(t,e)}(n,t);var e=p(n);function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=e.call(this)).id=t.id;r.path=t.path;return r}n.fromPath=function(t){return new n({id:t,path:t})};return n}(a.Z);var _=n(61209),v=n(213818),g=n(5544),E=n(840922),b=n(473903),m=n(504275),R=n(607556),O=n(585622),S=n(456837),C=n(429750),I=n(499477),U=n(2590);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){
return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){N(t,e,n[e])}))}return t}function P(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=Object.freeze({});function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return 1e3*t*(null!=e?e:1)}function Z(t,e){if(!e.frecencyBoosters)return{}
;var n=v.Z.getFrequently(),r=n.reduce((function(t,e){var n=e.id,r=v.Z.getScore(n);return r>t?r:t}),0),i=[];switch(t){case I.h8.GUILD:i=n.filter((function(t){return t instanceof l.Z}));break;case I.h8.USER:i=n.filter((function(t){return t instanceof s.Sf&&t.type===U.d4z.DM}));break;case I.h8.GROUP_DM:i=n.filter((function(t){return t instanceof s.Sf&&t.isMultiUserDM()}));break;case I.h8.TEXT_CHANNEL:i=n.filter((function(t){return t instanceof s.Sf&&(0,s.r8)(t.type)}));break;case I.h8.VOICE_CHANNEL:i=n.filter((function(t){return t instanceof s.Sf&&t.isGuildVocal()}))}var u={},o=!0,a=!1,c=void 0;try{for(var f,h=i[Symbol.iterator]();!(o=(f=h.next()).done);o=!0){var d=f.value,p=d.id,y=v.Z.getScore(p);if(t===I.h8.USER&&d instanceof s.mn){if(d.type===U.d4z.DM)u[p=d.getRecipientId()]=1+y/r;else if(d.type===U.d4z.GROUP_DM){var g=d.recipients.length,b=!0,m=!1,R=void 0;try{for(var O,S=d.recipients[Symbol.iterator]();!(b=(O=S.next()).done);b=!0){u[O.value]=1+y/r*(1/g)}}catch(t){m=!0;R=t}finally{
try{b||null==S.return||S.return()}finally{if(m)throw R}}}}else u[p]=1+y/r}}catch(t){a=!0;c=t}finally{try{o||null==h.return||h.return()}finally{if(a)throw c}}var C=E.Z.getFriendIDs(),w=!0,T=!1,N=void 0;try{for(var A,P=C[Symbol.iterator]();!(w=(A=P.next()).done);w=!0){var L,M=A.value;u[M]=(null!==(L=u[M])&&void 0!==L?L:1)+.2}}catch(t){T=!0;N=t}finally{try{w||null==P.return||P.return()}finally{if(T)throw N}}var Z=_.Z.getDMUserIds(),k=!0,D=!1,j=void 0;try{for(var G,x=Z[Symbol.iterator]();!(k=(G=x.next()).done);k=!0){var H,Q=G.value;u[Q]=(null!==(H=u[Q])&&void 0!==H?H:1)+.1}}catch(t){D=!0;j=t}finally{try{k||null==x.return||x.return()}finally{if(D)throw j}}return u}function k(t){return{type:I.h8.HEADER,record:new I.X5(t),score:0}}function D(t,e,n,r){var i=n.length,u=r,o=e;if(0===i)return 0;if(null==u)u=o;else if(u===o)return o;return(o+=t===I.a8.UP?-1:1)<0||o>=i?D(t,o<0?i:-1,n,u):n[o].type===I.h8.HEADER?D(t,o,n,u):o}const j=function(){function t(e,n){
var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L,o=this;T(this,t);this.query="";this.options=L;this.results=[];this._userResults=[];this._groupDMResults=[];this._textChannelResults=[];this._voiceChannelResults=[];this._guildResults=[];this._applicationResults=[];this._linkResults=[];this._userBlacklist=null;this.parseUserResults=function(t){var e=t.results;if(o._include(I.h8.USER)){o._userResults=[];var n=!0,r=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var l=u.value,a=l.id,c=l.score,f=l.comparator,h=b.default.getUser(a);null!=h&&o._userResults.push({type:I.h8.USER,record:h,score:M(c),comparator:null!=f?f:void 0})}}catch(t){r=!0;i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}o._userResults.length>o._limit&&(o._userResults.length=o._limit);o.updateAllResults()}};this.updateAllResults=function(){clearTimeout(o._asyncTimeout)
;o.results=i()(P(o._userResults).concat(P(o._groupDMResults),P(o._textChannelResults),P(o._voiceChannelResults),P(o._guildResults),P(o._linkResults))).uniqBy((function(t){return"".concat(t.type,"-").concat(t.record.id)})).sort(C.Z).value();o.onResultsChange(o.results,o.query)};this.onResultsChange=e;this.setOptions(u,!0);this._limit=r;this.createSearchContext();this.setResultTypes(n)}var e=t.prototype;e.createSearchContext=function(){null==this.userSearchContext&&(this.userSearchContext=S.Z.getSearchContext(this.parseUserResults,this._limit))};e.setLimit=function(t){var e=this.userSearchContext;this._limit=t;null!=e&&e.setLimit(t);this._userResults.length>this._limit&&(this._userResults.length=this._limit);this._groupDMResults.length>this._limit&&(this._groupDMResults.length=this._limit);this._textChannelResults.length>this._limit&&(this._textChannelResults.length=this._limit);this._voiceChannelResults.length>this._limit&&(this._voiceChannelResults.length=this._limit)
;this._guildResults.length>this._limit&&(this._guildResults.length=this._limit);this._applicationResults.length>this._limit&&(this._applicationResults.length=this._limit);this._linkResults.length>this._limit&&(this._linkResults.length=this._limit)};e.setResultTypes=function(t){this.resultTypes=null!=t?new Set(t):null;this._userResults=this._include(I.h8.USER)?this._userResults:[];this._groupDMResults=this._include(I.h8.GROUP_DM)?this._groupDMResults:[];this._textChannelResults=this._include(I.h8.TEXT_CHANNEL)?this._textChannelResults:[];this._voiceChannelResults=this._include(I.h8.VOICE_CHANNEL)?this._voiceChannelResults:[];this._guildResults=this._include(I.h8.GUILD)?this._guildResults:[];this._applicationResults=this._include(I.h8.APPLICATION)?this._applicationResults:[];this._linkResults=this._include(I.h8.LINK)?this._linkResults:[]};e._include=function(t){return null==this.resultTypes||this.resultTypes.has(t)};e._isAsyncSearch=function(){return this._include(I.h8.USER)}
;e.setOptions=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.options=e?A({},this.options,t):t;null!=this.options.blacklist?this._userBlacklist=Array.from(this.options.blacklist).map((function(t){return t.startsWith("user:")?t.replace("user:",""):""})).filter((function(t){return""!==t})):this._userBlacklist=null};e.search=function(t,e){this.query=t;if(""!==t.trim()){this.queryUsers(t,e,this._limit);this._groupDMResults=this.queryGroupDMs(t,this._limit);this._textChannelResults=this.queryTextChannels(t,this._limit);this._voiceChannelResults=this.queryVoiceChannels(t,this._limit);this._guildResults=this.queryGuilds(t,this._limit);this._applicationResults=this.queryApplications(t,this._limit);this._linkResults=this.queryLink(t,this._limit);if(this._isAsyncSearch()){clearTimeout(this._asyncTimeout);this._asyncTimeout=setTimeout(this.updateAllResults,300)}else this.updateAllResults()}else{this.clear();this.updateAllResults()}};e.clear=function(){
var t=this.userSearchContext;null!=t&&t.clearQuery();this.results=[];this._userResults=[];this._groupDMResults=[];this._textChannelResults=[];this._voiceChannelResults=[];this._guildResults=[];this._applicationResults=[];this._linkResults=[]};e.clean=function(){this.clear();this.destroy();this.query="";this.updateAllResults()};e.destroy=function(){var t=this.userSearchContext;if(null!=t){t.destroy();this.userSearchContext=null}};e.queryTextChannels=function(t,e){if(!this._include(I.h8.TEXT_CHANNEL))return[];var n=Z(I.h8.TEXT_CHANNEL,this.options),r=this.options.blacklist,i=null!=r?function(t){return!r.has("channel:".concat(t.id))}:void 0;return m.ZP.queryChannels({query:t,guildId:null,limit:e,fuzzy:!0,filter:i,boosters:n})};e.queryVoiceChannels=function(t,e){if(!this._include(I.h8.VOICE_CHANNEL))return[];var n=this.options.voiceChannelGuildFilter;if(void 0===n)return[];var r=Z(I.h8.VOICE_CHANNEL,this.options);return m.ZP.queryChannels({query:t,guildId:n,limit:e,fuzzy:!0,type:g.Zb,
boosters:r})};e.queryGuilds=function(t,e){if(!this._include(I.h8.GUILD))return[];var n=Z(I.h8.GUILD,this.options),r=this.options.blacklist,i=null!=r?function(t){return!r.has("guild:".concat(t.id))}:void 0;return m.ZP.queryGuilds({query:t,limit:e,fuzzy:!0,filter:i,boosters:n})};e.queryUsers=function(t,e,n){var r=this.userSearchContext;if(null!=r&&this._include(I.h8.USER)){var i=this.options.userFilters;void 0!==e&&R.Z.requestMembers(e,t,100);r.setLimit(n);r.setQuery(t,i,this._userBlacklist,Z(I.h8.USER,this.options))}};e.queryGroupDMs=function(t,e){if(!this._include(I.h8.GROUP_DM))return[];var n=this.options.blacklist,r=Z(I.h8.GROUP_DM,this.options),i=null!=n?function(t){return!n.has("channel:".concat(t.id))}:void 0;return m.ZP.queryGroupDMs({query:t,limit:e,fuzzy:!0,filter:i,boosters:r})};e.queryApplications=function(t,e){return this._include(I.h8.APPLICATION)?m.ZP.queryApplications({query:t,limit:e,fuzzy:!0}):[]};e.queryLink=function(t,e){if(!this._include(I.h8.LINK))return[]
;var n,r=o().sanitizeUrl(t);try{n=new URL(r)}catch(t){return[]}var i=n.pathname,u=n.hostname,s=void 0===u?"":u,l=n.host,a=O.Z.isDiscordHostname(s)||window.location.host===l;return null!==i&&a&&O.Z.isAppRoute(i)?[{type:I.h8.LINK,record:y.fromPath(i),score:1}]:[]};return t}()},980604:(t,e,n)=>{"use strict";n.d(e,{Z:()=>it});var r=n(496486),i=n.n(r),u=n(202351),o=n(630631),s=n(744564),l=n(728197),a=n(773011),c=n(61209),f=n(840922),h=n(473903),d=n(499477),p=n(2590);var y=n(18882),_=n(64234),v=n(736818),g=n(284610),E=n(5544),b=n(21372),m=n(567403),R=n(682776),O=n(717091),S=n(715107),C=n(464187),I=n(9430),U=n(504275),w=n(72580),T=n(473708);function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t){P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return P(t)}function L(t,e){
return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t,e){M=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return M(t,e)}function Z(t){return function(t){if(Array.isArray(t))return N(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(t){
return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}var j,G="seenQSTutorial",x=0,H=!1,Q=!1,q=null,W=[],z=null,B=0,F=[],V=[];function K(){Q=m.Z.getGuildCount()>=3||i().size(c.Z.getMutablePrivateChannels())>=20;F=[]}function Y(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Z,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.Z,i=e.getChannel(t);if(null==i)return null;var u=(0,a.F6)(i,n,r);switch(i.type){case p.d4z.DM:
var o=n.getUser(i.getRecipientId());return null==o?null:{type:d.h8.USER,record:o,score:0,comparator:u};case p.d4z.GROUP_DM:return{type:d.h8.GROUP_DM,record:i,score:0,comparator:u};default:return{type:d.h8.TEXT_CHANNEL,record:i,score:0,comparator:u}}}(t);return null==e||null!=q&&q!==e.type?null:e}function X(){var t,e,n=null!==(t=C.Z.getGuildId())&&void 0!==t?t:void 0,r=null!==(e=S.Z.getChannelId())&&void 0!==e?e:void 0;switch(q){case l.h8.USER:var u=v.default.getId();return U.ZP.getRecentlyTalked(r,100).filter((function(t){return t.record.id!==u}));case l.h8.APPLICATION:return U.ZP.queryApplications({query:"",limit:100,fuzzy:!0});case l.h8.GUILD:return U.ZP.queryGuilds({query:"",limit:100,fuzzy:!0});case l.h8.TEXT_CHANNEL:return U.ZP.queryChannels({query:"",guildId:C.Z.getGuildId(),limit:100,fuzzy:!0});case l.h8.VOICE_CHANNEL:return U.ZP.queryChannels({query:"",guildId:C.Z.getGuildId(),limit:100,fuzzy:!0,filter:function(){return!0},type:E.Zb})}for(var o=[],s=[],a=1;a<V.length;a+=1){
var f=Y(V[a]);null!=f&&((f.type!==l.h8.TEXT_CHANNEL&&f.type!==l.h8.VOICE_CHANNEL||R.Z.can(p.Plq.VIEW_CHANNEL,f.record))&&s.push(f))}if(s.length>0){var h;(h=o).push.apply(h,[(0,l.o6)(T.Z.Messages.QUICKSWITCHER_LAST_CHANNEL)].concat(Z(s)))}var d=function(t){var e=[];g.Z.getRecentlyEditedDrafts(g.d.ChannelMessage).forEach((function(n){var r=n.channelId;if(!t(r)){var i=Y(r);null!=i&&e.push(i)}}));return e}((function(t){return t===r||V.includes(t)}));if(d.length>0){var _;(_=o).push.apply(_,[(0,l.o6)(T.Z.Messages.QUICKSWITCHER_DRAFTS)].concat(Z(d)))}var b=O.ZP.getMentionChannelIds().filter((function(t){return t!==r&&!V.includes(t)})).map((function(t){return Y(t)})).filter(w.lm).reverse();if(b.length>0){o.push((0,l.o6)(T.Z.Messages.QUICKSWITCHER_MENTIONS));o=o.concat(b)}if(null!=n){var m=E.ZP.getSelectableChannelIds(n).filter((function(t){var e=c.Z.getChannel(t)
;return!(null==e||t===r||V.includes(t)||I.Z.isChannelMuted(e.guild_id,t)||null!=e.parent_id&&I.Z.isChannelMuted(e.guild_id,e.parent_id))&&O.ZP.hasRelevantUnread(e)})).map((function(t){return Y(t)})).filter((function(t){return t}));Object.values(y.Z.getActiveJoinedUnreadThreadsForGuild(n)).forEach((function(t){for(var e in t){var n=Y(e);null!=n&&m.push(n)}}));if(m.length>0){o.push((0,l.o6)(T.Z.Messages.QUICKSWITCHER_UNREAD_CHANNELS));o=o.concat(m)}}return i()(o).uniqBy((function(t){return t.record.id})).value()}function J(t,e){switch(q){case l.h8.USER:var n=m.Z.getGuild(C.Z.getGuildId());t.unshift((0,l.o6)(null!=n?T.Z.Messages.QUICKSWITCHER_QUERYMODE_USERS_IN_GUILD.format({name:n.name}):T.Z.Messages.QUICKSWITCHER_QUERYMODE_USERS));W=t;break;case l.h8.TEXT_CHANNEL:t.unshift((0,l.o6)(T.Z.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS));W=t;break;case l.h8.VOICE_CHANNEL:t.unshift((0,l.o6)(T.Z.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS));W=t;break;case l.h8.GUILD:t.unshift((0,
l.o6)(T.Z.Messages.QUICKSWITCHER_QUERYMODE_GUILDS));W=t;break;case l.h8.APPLICATION:t.unshift((0,l.o6)(T.Z.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS));W=t;break;default:W=t}if(e!==z){z=e;B=Math.max(e.length,B);x=(0,l.gJ)(l.a8.DOWN,-1,W)}else{var r=W[x];null!=r&&r.type===l.h8.HEADER&&(x=(0,l.gJ)(l.a8.DOWN,x,W))}rt.emitChange()}function $(t){var e,n=t.query,r=t.queryMode,i=null!==(e=C.Z.getGuildId())&&void 0!==e?e:void 0,u=new Set(["user:".concat(v.default.getId())]);null!=i&&u.add("guild:".concat(i));j=null!=j?j:new l.ZP(tt,null,null!=r?100:5,{frecencyBoosters:!0,blacklist:u});z=null;B=n.length;q=r;j.search(n)}function tt(t,e){if(!function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.record.id!==i.record.id)return!1}return!0}(t=""===(e=e.trim()).trim()?X():t,F)){F=t;J(t,e)}}function et(){z=null;B=0;F=[];if(null!=j){j.destroy();j=null}}var nt=function(t){!function(t,e){
if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&M(t,e)}(n,t);var e=D(n);function n(){A(this,n);return e.apply(this,arguments)}var r=n.prototype;r.initialize=function(t){this.waitFor(b.ZP,m.Z,c.Z);this.syncWith([_.Z],(function(){return!0}));H=o.Z.get(G)||!1;var e;V=null!==(e=null==t?void 0:t.channelHistory)&&void 0!==e?e:[]};r.getState=function(){return{channelHistory:V}};r.isOpen=function(){return null!=j};r.getResultTotals=function(t){return null==j?0:null==t?j.results.reduce((function(t,e){return e.type!==l.h8.HEADER?t+1:t}),0):j.results.reduce((function(e,n){return n.type===t?e+1:e}),0)};r.channelNoticePredicate=function(t,e){var n=Date.now()-e>=p.Hqc;return Q&&n};r.getFrequentGuilds=function(){return null!=j?j.queryGuilds("",100):null};r.getFrequentGuildsLength=function(){return null!=j?j.queryGuilds("",100).length:0}
;r.getChannelHistory=function(){return V};r.getProps=function(){return{theme:_.Z.theme,query:null!=j?j.query:"",queryMode:q,results:W,selectedIndex:x,seenTutorial:H,maxQueryLength:B}};r.__getLocalVars=function(){return{SEEN_TUTORIAL_KEY:G,MAX_GENERAL_RESULTS:5,MAX_QUERY_MODE_RESULTS:100,autocompleter:j,selectedIndex:x,seenTutorial:H,isUseful:Q,queryMode:q,results:W,lastQuery:z,maxQueryLength:B,cachedUserSearchResults:F,channelHistory:V,instance:rt}};return n}(u.ZP.PersistedStore);nt.displayName="QuickSwitcherStore";nt.persistKey="QuickSwitcherStore";var rt=new nt(s.Z,{CONNECTION_OPEN:K,CONNECTION_OPEN_SUPPLEMENTAL:K,QUICKSWITCHER_SHOW:$,SHOW_ACTION_SHEET_QUICK_SWITCHER:$,QUICKSWITCHER_HIDE:et,OVERLAY_SET_INPUT_LOCKED:et,HIDE_ACTION_SHEET_QUICK_SWITCHER:et,QUICKSWITCHER_SEARCH:function(t){var e,n=t.query,r=t.queryMode;if(null==j)return!1;var i=null!==(e=C.Z.getGuildId())&&void 0!==e?e:null;if(q!==r){j.setResultTypes(null!=r?[r]:null);j.setLimit(null!=r?100:5)
;var u,o=null!==(u=C.Z.getGuildId())&&void 0!==u?u:void 0;r===l.h8.USER&&null!=o?j.setOptions({userFilters:{guild:o,friends:!0}},!0):r===l.h8.VOICE_CHANNEL?j.setOptions({voiceChannelGuildFilter:null},!0):j.setOptions({userFilters:null,voiceChannelGuildFilter:void 0},!0)}q=r;j.search(n,q===l.h8.USER?i:void 0)},QUICKSWITCHER_SELECT:function(t){x=t.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(){if(H)return!1;H=!0;o.Z.set(G,!0)},CHANNEL_SELECT:function(t){var e=t.channelId;if(null==e)return!1;(V=V.filter((function(t){return t!==e}))).unshift(e);V.length>4&&(V.length=4)}});const it=rt},381186:(t,e,n)=>{"use strict";n.d(e,{CR:()=>L,so:()=>P,ZP:()=>W});var r=n(496486),i=n.n(r),u=n(258053),o=n.n(u),s=n(940060),l=n(202351),a=n(744564),c=n(563135),f=n(177570),h=n(736818),d=n(61209),p=n(27851),y=n(21372),_=n(567403),v=n(491260),g=n(436154),E=n(473903),b=n(2590),m=n(473708);function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function C(t){C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return C(t)}function I(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function U(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t,e){
w=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return w(t,e)}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,u=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done);o=!0){u.push(r.value);if(e&&u.length===e)break}}catch(t){s=!0;i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(t){
return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}var P,L="everyone";!function(t){t.GROUP="GROUP";t.MEMBER="MEMBER"}(P||(P={}));function M(t,e,n,r){switch(e){case b.Skl.ONLINE:case b.Skl.OFFLINE:case b.Skl.UNKNOWN:return{type:P.GROUP,key:e,id:e,get title(){switch(e){case b.Skl.ONLINE:return m.Z.Messages.STATUS_ONLINE;case b.Skl.OFFLINE:return m.Z.Messages.STATUS_OFFLINE;default:return m.Z.Messages.STATUS_UNKNOWN}},count:n,index:r};default:var i=_.Z.getGuild(t),u=null!=i?i.getRole(e):null;return{type:P.GROUP,key:e,id:e,title:null!=u?u.name:"",
count:n,index:r}}}function Z(t,e,n){var r=n===h.default.getId(),i=v.Z.isMobileOnline(n),u=r?g.Z.getStatus():v.Z.getStatus(n,t),o=r?g.Z.getActivities():v.Z.getActivities(n,t),s=f.Z.getStreamForUser(n,t),l=E.default.getUser(n);return null==l?null:I(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){S(t,e,n[e])}))}return t}({type:P.MEMBER},y.ZP.getMember(t,n)),{user:l,status:u,activities:o,applicationStream:s,isOwner:e===n,isMobileOnline:i})}function k(t){var e=d.Z.getChannel(t);return null==e?L:null==e.memberListId?function(t){if(c.ZP.canEveryone(b.Plq.VIEW_CHANNEL,t))return L;return o().v3(i()(t.permissionOverwrites).reduce((function(t,e){var n=e.id,r=e.allow,i=e.deny
;s.Z.has(r,b.Plq.VIEW_CHANNEL)?t.push("allow:".concat(n)):s.Z.has(i,b.Plq.VIEW_CHANNEL)&&t.push("deny:".concat(n));return t}),[]).sort().join(",")).toString()}(e):e.memberListId}var D=function(){function t(e,n){O(this,t);this.rows=[];this.groups=[];this.members={};this.version=0;this.guildId=e;this.listId=n;this.updateOwnerId()}var e=t.prototype;e.updateOwnerId=function(){var t=_.Z.getGuild(this.guildId);if(null==t)return!1;var e=c.ZP.getGuildVisualOwnerId(t);if(this.ownerId===e)return!1;this.ownerId=e;return!0};e.setGroups=function(t){var e=this,n=0;this.groups=t.map((function(t){var r,i=n,u=Math.max(0,null!==(r=t.count)&&void 0!==r?r:0);n+=u+1;return M(e.guildId,t.id,u,i)}));this.rows.length=n};e.sync=function(t,e){var n=T(t,1)[0],r=this;e.forEach((function(t,e){return r.update(n+e,t)}))};e.invalidate=function(t){for(var e=T(t,2),n=e[0],r=e[1],i=n;i<=r;i++){var u=this.rows[i];if(null==u)break;delete this.rows[i];u.type===P.MEMBER&&delete this.members[u.user.id]}this.version++}
;e.insert=function(t,e){var n=e.group,r=e.member;if(null!=n)this.rows.splice(t,0,M(this.guildId,n.id,n.count));else if(null!=r){var i=Z(this.guildId,this.ownerId,r.user.id);if(null==i)return;this.rows.splice(t,0,i);this.members[r.user.id]=i}this.version++};e.update=function(t,e){var n=e.group,r=e.member,i=this.rows[t];null!=i&&i.type===P.MEMBER&&delete this.members[i.user.id];if(null!=n)this.rows[t]=M(this.guildId,n.id,n.count);else if(null!=r){var u=Z(this.guildId,this.ownerId,r.user.id);if(null==u)return;this.rows[t]=u;this.members[r.user.id]=u}this.version++};e.delete=function(t){var e=this.rows[t];if(null!=e){e.type===P.MEMBER&&delete this.members[e.user.id];this.rows.splice(t,1);this.version++}};e.rebuildMember=function(t){var e=this.members[t];if(null!=e){Object.assign(e,Z(this.guildId,this.ownerId,t));this.version++}};e.rebuildMembers=function(){var t=this;i().forEach(this.members,(function(e,n){t.rebuildMember(n)}))};return t}(),j=new(function(){function t(){O(this,t)
;this._guildLists={}}var e=t.prototype;e.get=function(t,e){var n=this._guildLists[t];null==n&&(n=this._guildLists[t]={});var r=n[e];if(null==r){var i;(r=new D(t,e)).setGroups([{id:b.Skl.UNKNOWN,count:null!==(i=p.Z.getMemberCount(t))&&void 0!==i?i:0}]);n[e]=r}return r};e.forEach=function(t,e){if(null==t)i().forEach(this._guildLists,(function(t){i().forEach(t,e)}));else{var n=this._guildLists[t];null!=n&&i().forEach(n,e)}};e.delete=function(t){delete this._guildLists[t]};e.reset=function(){this._guildLists={}};return t}());function G(){j.reset()}var x=[];function H(){var t=f.Z.getAllApplicationStreams(),e=x.concat(t);x=t;e.forEach((function(t){j.forEach(null,(function(e){return e.rebuildMember(t.ownerId)}))}))}function Q(){var t=h.default.getId();j.forEach(null,(function(e){return e.rebuildMember(t)}))}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{
constructor:{value:t,writable:!0,configurable:!0}});e&&w(t,e)}(n,t);var e=A(n);function n(){O(this,n);return e.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(E.default,_.Z,d.Z,y.ZP,v.Z,g.Z,h.default,p.Z,f.Z);this.syncWith([g.Z],Q);this.syncWith([f.Z],H)};r.getProps=function(t,e){var n=j.get(t,k(e));return{listId:"".concat(n.guildId,":").concat(n.listId),groups:n.groups,rows:n.rows,version:n.version}};r.__getLocalVars=function(){return{memberLists:j,previousStreams:x}};return n}(l.ZP.Store);q.displayName="ChannelMemberStore";const W=new q(a.Z,{CONNECTION_OPEN:G,OVERLAY_INITIALIZE:G,GUILD_MEMBER_LIST_UPDATE:function(t){var e=j.get(t.guildId,t.id);t.ops.forEach((function(t){switch(t.op){case"SYNC":e.sync(t.range,t.items);break;case"INVALIDATE":e.invalidate(t.range);break;case"INSERT":e.insert(t.index,t.item);break;case"UPDATE":e.update(t.index,t.item);break;case"DELETE":e.delete(t.index)}}));e.setGroups(t.groups)},GUILD_UPDATE:function(t){var e=t.guild
;j.forEach(e.id,(function(t){t.updateOwnerId()&&t.rebuildMembers()}))},GUILD_DELETE:function(t){var e=t.guild;j.delete(e.id)},GUILD_ROLE_UPDATE:function(t){var e=t.guildId;j.forEach(e,(function(t){return t.rebuildMembers()}))},GUILD_MEMBER_UPDATE:function(t){var e=t.guildId,n=t.user;j.forEach(e,(function(t){return t.rebuildMember(n.id)}))},CHANNEL_UPDATES:function(){return!0}})},213818:(t,e,n)=>{"use strict";n.d(e,{Z:()=>U});var r=n(202351),i=n(630631),u=n(744564),o=n(747864),s=n(61209),l=n(567403),a=n(715107),c=n(464187);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function d(t){d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return d(t)}function p(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){
if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t,e){y=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return y(t,e)}var _=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}var g,E,b="selectedChannelGuildFrecency",m=new o.Z({computeBonus:function(){return 100},computeWeight:function(t){var e=0;0===t?e=100:t>=1&&t<2?e=70:t>=2&&t<4?e=50:t>=4&&t<7?e=30:t>=7&&(e=10);return e},lookupKey:function(t){
return null!==(E=null!==(g=l.Z.getGuild(t))&&void 0!==g?g:s.Z.getChannel(t))&&void 0!==E?E:s.Z.getChannel(s.Z.getDMFromUserId(t))},afterCompute:function(t){__OVERLAY__||i.Z.set(b,t)},numFrequentlyItems:100,maxSamples:10}),R=null,O=null;function S(t){var e=t.guildId,n=t.channelId;if(n!==R){R=null!=n?n:null;null!=n&&m.track(n)}if(null!=e&&e!==O){O=e;m.track(e)}return!1}function C(){m.markDirty();return!1}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&y(t,e)}(n,t);var e=v(n);function n(){f(this,n);return e.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(c.Z,a.Z);var t=i.Z.get(b,null);null!=t&&m.overwriteHistory(t)};r.getFrequently=function(){return m.frequently};r.getScore=function(t){var e;return null!==(e=m.getFrecency(t))&&void 0!==e?e:0};r.getScoreForDM=function(t){
var e=s.Z.getDMFromUserId(t);return null!=e?this.getScore(e):0};r.getMaxScore=function(){return 1e3};r.getBonusScore=function(){return 100};r.__getLocalVars=function(){return{SELECTED_USAGE_HISTORY:b,MAX_NUM_SELECTED_ITEMS:100,MAX_SAMPLES:10,SELECTION_BONUS:100,frecency:m,lastSelected:R,lastSelectedGuild:O}};!function(t,e,n){e&&h(t.prototype,e);n&&h(t,n)}(n,[{key:"frecency",get:function(){return m}}]);return n}(r.ZP.Store);I.displayName="FrecencyStore";const U=new I(u.Z,{CONNECTION_OPEN:C,OVERLAY_INITIALIZE:C,VOICE_CHANNEL_SELECT:S,CHANNEL_SELECT:S})},968761:(t,e,n)=>{t.exports=function(){return new Worker(n.p+"eb003e20b076d1ac1e6c.worker.js")}}}]);
//# sourceMappingURL=fd020c87a5149fc9b4a4.js.map