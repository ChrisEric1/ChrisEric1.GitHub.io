"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[78294],{434651:(e,n,r)=>{r.d(n,{Z:()=>y});var t=r(785893),u=r(667294),i=r(202351),l=r(945460),o=r(357088),a=r(401080),c=r(736626),s=r(736818),d=r(21372),f=r(567403),b=r(682776),p=r(473903),Z=r(2590),E=r(473708),g=r(882090),M=r.n(g);function O(e,n,r,t,u,i,l){try{var o=e[i](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,u)}function v(e){return function(){var n=this,r=arguments;return new Promise((function(t,u){var i=e.apply(n,r);function l(e){O(i,t,u,l,o,"next",e)}function o(e){O(i,t,u,l,o,"throw",e)}l(void 0)}))}}function h(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function m(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e)
;n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}var _=function(e,n){var r,t,u,i,l={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,t&&(u=2&i[0]?t.return:i[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,i[1])).done)return u;(t=0,u)&&(i=[2&i[0],u.value]);switch(i[0]){case 0:case 1:u=i;break;case 4:l.label++;return{value:i[1],done:!1};case 5:l.label++;t=i[1];i=[0];continue;case 7:i=l.ops.pop();l.trys.pop();continue;default:if(!(u=l.trys,u=u.length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){l=0;continue}
if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){l.label=i[1];break}if(6===i[0]&&l.label<u[1]){l.label=u[1];u=i;break}if(u&&l.label<u[2]){l.label=u[2];l.ops.push(i);break}u[2]&&l.ops.pop();l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e];t=0}finally{r=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};function y(e,n,g,O,y){var P=f.Z.getGuild(e),j=s.default.getId(),S=(0,i.e7)([p.default],(function(){return p.default.getUser(n)})),R=(0,i.e7)([d.ZP],(function(){return d.ZP.isGuestOrLurker(e,n)}),[e,n]);(0,i.e7)([b.Z],(function(){return b.Z.getGuildVersion(e)}),[e]);var N=u.useMemo((function(){return h({},e,[n])}),[e,n]);(0,o.$)(N);var I=O===Z.IlC.POPOUT,x=(0,a.Z)({guild:P,analyticsLocation:g});if(null==P||I)return null;var C=j===n&&(b.Z.can(Z.Plq.CHANGE_NICKNAME,P)||b.Z.can(Z.Plq.MANAGE_NICKNAMES,P)),w=j===n,A=b.Z.canManageUser(Z.Plq.MANAGE_NICKNAMES,n,P);if(!(C||A||w))return null;if(null==S||R)return null
;var U=P.hasFeature(Z.oNc.HUB)?E.Z.Messages.HUB_EDIT_PROFILE:E.Z.Messages.CHANGE_IDENTITY,T=w?U:E.Z.Messages.CHANGE_NICKNAME;return(0,t.jsx)(l.MenuItem,{id:"change-nickname",label:(0,t.jsx)("div",{className:M().labelWrapper,children:(0,t.jsx)("span",{className:M().label,children:T})}),icon:y,action:function(){if(w){(0,c.Z)(S.id,S.getAvatarURL(e,80),{guildId:e});x()}else(0,l.openModalLazy)(v((function(){var n,u;return _(this,(function(i){switch(i.label){case 0:return[4,Promise.all([r.e(40532),r.e(33166)]).then(r.bind(r,633166))];case 1:n=i.sent(),u=n.default;return[2,function(n){return(0,t.jsx)(u,m(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){h(e,n,r[n])}))}return e}({},n),{guildId:e,user:S,analyticsSource:g}))}]}}))})))}})}},
575351:(e,n,r)=>{r.d(n,{Z:()=>g});var t=r(785893),u=(r(667294),r(202351)),i=r(945460),l=r(567403),o=r(473903),a=r(407561),c=r(771575),s=r(162723),d=r(933022),f=r(736818),b=r(715107),p=r(525261);var Z=r(499219),E=r(473708);function g(e){var n,r=(0,Z.Z)(),g=null==r?void 0:r.id,M=null==r?void 0:r.guild_id,O=(0,u.e7)([l.Z],(function(){return l.Z.getGuild(M)}),[M]),v=(0,u.e7)([a.Z],(function(){return null!=g?a.Z.getVoiceStateForChannel(g,e.id):null}),[g,e.id]),h=(null===(n=o.default.getCurrentUser())||void 0===n?void 0:n.id)===e.id,m=function(){var e=(0,u.e7)([b.Z],(function(){return b.Z.getVoiceChannelId()})),n=(0,u.e7)([f.default],(function(){return f.default.getId()}));return(0,p.ZP)(n,e)===p.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK}(),_=(0,u.e7)([d.ZP],(function(){return d.ZP.getPermissionsForUser(e.id,g)}),[g,e.id]),y=(0,s.B)(g);if(null==r||null==O||null==v)return null;if(_.speaker)return null;var P=function(){h?(0,c.RK)(r,!1):(0,c._0)(r,e.id)};return y?(0,t.jsx)(i.MenuItem,{
id:"invite-speaker",label:h?E.Z.Messages.STAGE_CHANNEL_USER_SET_MYSELF_TO_SPEAKER:E.Z.Messages.STAGE_CHANNEL_USER_INVITE_TO_SPEAK,action:P}):m&&h?(0,t.jsx)(i.MenuItem,{id:"invite-speaker",label:E.Z.Messages.STAGE_CHANNEL_USER_SET_MYSELF_TO_SPEAKER,action:P}):null}},478294:(e,n,r)=>{r.r(n);r.d(n,{default:()=>q});var t=r(785893),u=r(667294),i=r(945460),l=r(971402),o=r(343639),a=r(567678),c=r(73904),s=r(82055),d=r(153686),f=r(112897),b=r(434651),p=r(575351),Z=r(662851),E=r(343315),g=r(171384),M=r(699050),O=r(836448),v=r(441738),h=r(578142),m=r(827991),_=r(93439),y=r(100856),P=r(202351),j=r(357088),S=r(874710),R=r(671293),N=r(225386),I=r(61209),x=r(567403),C=r(682776),w=r(473903),A=r(2590),U=r(473708);function T(e,n,r,t,u,i,l){try{var o=e[i](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,u)}function G(e){return function(){var n=this,r=arguments;return new Promise((function(t,u){var i=e.apply(n,r);function l(e){T(i,t,u,l,o,"next",e)}function o(e){
T(i,t,u,l,o,"throw",e)}l(void 0)}))}}function k(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function D(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){k(e,n,r[n])}))}return e}function L(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}var H=function(e,n){var r,t,u,i,l={label:0,sent:function(){
if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,t&&(u=2&i[0]?t.return:i[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,i[1])).done)return u;(t=0,u)&&(i=[2&i[0],u.value]);switch(i[0]){case 0:case 1:u=i;break;case 4:l.label++;return{value:i[1],done:!1};case 5:l.label++;t=i[1];i=[0];continue;case 7:i=l.ops.pop();l.trys.pop();continue;default:if(!(u=l.trys,u=u.length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){l.label=i[1];break}if(6===i[0]&&l.label<u[1]){l.label=u[1];u=i;break}if(u&&l.label<u[2]){l.label=u[2];l.ops.push(i);break}u[2]&&l.ops.pop();l.trys.pop();continue}i=n.call(e,l)}catch(e){i=[6,e];t=0}finally{r=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,o])}}};var K=r(536130),V=r(973424),F=r(394212);const q=(0,a.Z)((0,o.Z)((function(e){var n=e.user,o=e.guildId,a=e.channel,d=e.context,T=e.onSelect,q=e.onHeightUpdate,B=(0,K.Z)(n.id,o),Y=(0,m.Z)(n,o,d),X=(0,_.Z)(n.id,d),z=(0,F.Z)(n.id),W=(0,v.Z)(n,d),$=(0,g.Z)({user:n,guildId:o,context:d}),Q=(0,E.Z)(n),J=(0,b.Z)(o,n.id,{page:A.ZY5.GUILD_CHANNEL,section:A.jXE.CHAT_USERNAME,object:A.qAy.CONTEXT_MENU_ITEM},d),ee=(0,h.Z)(n,o),ne=(0,s.Z)(null,n),re=(0,Z.Z)(n),te=(0,O.Z)(n),ue=function(e,n,l){var o=u.useMemo((function(){return k({},n,[e.id])}),[n,e.id]);(0,j.$)(o);(0,P.e7)([C.Z],(function(){return C.Z.getGuildVersion(n)}),[n]);var a=(0,P.e7)([I.Z],(function(){return I.Z.getChannel(l)})),c=(0,P.e7)([x.Z],(function(){return x.Z.getGuild(n)}),[n]),s=(0,P.e7)([w.default],(function(){return w.default.getCurrentUser()})),d=(0,S.Z)(a,"Context Menu"),f=(0,N.Xb)(a);if((null==s?void 0:s.id)===e.id)return[d];if(null==c||null==a||null==s)return[]
;var b=f||a.ownerId===s.id&&a.type===A.d4z.PRIVATE_THREAD;return[b?(0,t.jsx)(i.MenuItem,{id:"remove",label:a.isForumPost()?U.Z.Messages.REMOVE_USER_FROM_FORUM_POST.format({user:e.username}):U.Z.Messages.REMOVE_USER_FROM_THREAD.format({user:e.username}),color:"danger",action:function(){return R.Z.removeMember(a,e.id,"Context Menu")}}):null,C.Z.canManageUser(A.Plq.KICK_MEMBERS,e,c)?(0,t.jsx)(i.MenuItem,{id:"kick",label:b?U.Z.Messages.KICK_USER_FROM_SERVER.format({user:e.username}):U.Z.Messages.KICK_USER.format({user:e.username}),color:"danger",action:function(){return(0,i.openModalLazy)(G((function(){var n,u;return H(this,(function(i){switch(i.label){case 0:return[4,Promise.all([r.e(40532),r.e(11266)]).then(r.bind(r,811266))];case 1:n=i.sent(),u=n.default;return[2,function(n){return(0,t.jsx)(u,L(D({},n),{guildId:c.id,user:e}))}]}}))})))}}):null,C.Z.canManageUser(A.Plq.BAN_MEMBERS,e,c)?(0,t.jsx)(i.MenuItem,{id:"ban",label:b?U.Z.Messages.BAN_USER_FROM_SERVER.format({user:e.username
}):U.Z.Messages.BAN_USER.format({user:e.username}),color:"danger",action:function(){return(0,i.openModalLazy)(G((function(){var n,u;return H(this,(function(i){switch(i.label){case 0:return[4,Promise.all([r.e(40532),r.e(80372)]).then(r.bind(r,333970))];case 1:n=i.sent(),u=n.default;return[2,function(n){return(0,t.jsx)(u,L(D({},n),{guildId:c.id,user:e}))}]}}))})))}}):null]}(n,o,a.id),ie=(0,V.Z)(n.id,o),le=(0,y.Z)(n,o),oe=(0,f.Z)({id:n.id,label:U.Z.Messages.COPY_ID_USER}),ae=(0,p.Z)(n),ce=(0,M.Z)(c.yU.USER,n.id,a,o,q),se=n.isNonUserBot();return(0,t.jsxs)(i.Menu,{navId:"user-context",onClose:l.Zy,"aria-label":U.Z.Messages.USER_ACTIONS_MENU_LABEL,onSelect:T,children:[!se&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.MenuGroup,{children:ae}),(0,t.jsxs)(i.MenuGroup,{children:[B,Y,X,W,$,Q,z]}),(0,t.jsx)(i.MenuGroup,{children:ne}),(0,t.jsxs)(i.MenuGroup,{children:[J,ce,ee,re,te]}),(0,t.jsx)(i.MenuGroup,{children:ue}),(0,t.jsxs)(i.MenuGroup,{children:[ie,le]})]}),(0,t.jsx)(i.MenuGroup,{
children:oe})]})}),{object:A.qAy.CONTEXT_MENU}),[d.Z.CONTEXT_MENU,d.Z.THREAD_USER_MENU])},93439:(e,n,r)=>{r.d(n,{Z:()=>s});var t=r(785893),u=(r(667294),r(945460)),i=r(761953),l=r(735885),o=r(736818),a=r(2590),c=r(473708);function s(e,n){var r=o.default.getId(),s=n===a.IlC.POPOUT;return r===e||s?null:(0,t.jsx)(u.MenuItem,{id:"message-user",label:c.Z.Messages.USER_POPOUT_MESSAGE,action:function(){i.Z.openPrivateChannel(e);(0,l.xf)()}})}},100856:(e,n,r)=>{r.d(n,{Z:()=>m});var t=r(785893),u=(r(667294),r(202351)),i=r(945460),l=r(327499),o=r(116404),a=r(773011),c=r(736818),s=r(61209),d=r(5544),f=r(21372),b=r(567403),p=r(682776),Z=r(840922),E=r(473903),g=r(407561),M=r(176758),O=r(563135),v=r(2590),h=r(473708);function m(e,n){var r=(0,u.e7)([d.ZP],(function(){return d.ZP.getChannels(n)[d.Zb]}),[n]),m=(0,u.e7)([g.Z,s.Z],(function(){var r=g.Z.getUserVoiceChannelId(n,e.id);return s.Z.getChannel(r)}),[n,e.id]);if((0,u.e7)([f.ZP],(function(){return f.ZP.isGuestOrLurker(n,e.id)
}),[n,e.id]))return null;if(null==m)return null;var _=e.id===c.default.getId();if(!_&&!p.Z.can(v.Plq.MOVE_MEMBERS,m))return null;var y=r.filter((function(n){var r=n.channel;return r.id!==m.id&&(_?p.Z.can(v.Plq.CONNECT,r)&&!(0,M.rY)(r,g.Z,b.Z):p.Z.can(v.Plq.MOVE_MEMBERS,r)&&(p.Z.can(v.Plq.CONNECT,r)||O.ZP.can({permission:v.Plq.CONNECT,user:e,context:r}))&&!(0,M.rY)(r,g.Z,b.Z))}));return 0===y.length?null:(0,t.jsx)(i.MenuItem,{id:"voice-move",label:h.Z.Messages.MOVE_TO,children:y.map((function(r){var u=r.channel;return(0,t.jsx)(i.MenuItem,{id:u.id,action:function(){return function(r){e.id===c.default.getId()?o.default.selectVoiceChannel(r.id):l.Z.setChannel(n,e.id,r.id)}(u)},label:(0,a.F6)(u,E.default,Z.Z)},u.id)}))})}},973424:(e,n,r)=>{r.d(n,{Z:()=>g});var t=r(785893),u=(r(667294),r(547308)),i=r(202351),l=r(945460),o=r(316878),a=r(703790),c=r(21372),s=r(567403),d=r(682776),f=r(2590),b=r(473708),p=r(642124),Z=r.n(p);function E(e,n){var r,i;return(0,t.jsxs)("div",{className:Z().roleRow,
children:["dot"===n?(0,t.jsx)(l.RoleDot,{className:Z().roleDot,color:null!==(r=e.colorString)&&void 0!==r?r:(0,u.Rf)(f.p6O),background:!1,tooltip:!1}):(0,t.jsx)(l.RoleCircle,{className:Z().roleDot,color:null!==(i=e.colorString)&&void 0!==i?i:(0,u.Rf)(f.p6O)}),(0,t.jsx)("div",{children:e.name})]})}function g(e,n){var r=(0,i.e7)([s.Z],(function(){return s.Z.getGuild(n)}),[n]),u=(0,i.e7)([o.Z],(function(){return o.Z.roleStyle})),p=(0,i.cj)([c.ZP,d.Z],(function(){var t=c.ZP.getMember(n,e);return{userRoles:null!=t?t.roles:[],isGuildMember:null!=t,canManageRoles:null!=r&&d.Z.can(f.Plq.MANAGE_ROLES,r)}}),[e,n,r]),Z=p.userRoles,g=p.isGuildMember,M=p.canManageRoles;if(__OVERLAY__)return null;if(null==Z||null==r)return null;if(!g)return null;var O=d.Z.getHighestRole(r),v=Object.values(r.roles).filter((function(e){return e.id!==r.id})),h=M?v.map((function(i){var o=i.managed||!d.Z.isRoleHigher(r,O,i),c=-1!==Z.indexOf(i.id);return o&&!c?null:(0,t.jsx)(l.MenuCheckboxItem,{id:i.id,label:function(){
return E(i,u)},disabled:o,action:function(){return function(r){Z.includes(r.id)?a.Z.updateMemberRoles(n,e,Z.filter((function(e){return e!==r.id})),[],[r.id]):a.Z.updateMemberRoles(n,e,Z.concat([r.id]),[r.id],[])}(i)},checked:c},i.id)})):v.filter((function(e){return-1!==Z.indexOf(e.id)})).map((function(e){return e.id===r.id?null:(0,t.jsx)(l.MenuItem,{id:e.id,label:function(){return E(e,u)}},e.id)}));return 0===h.length?null:(0,t.jsx)(l.MenuItem,{id:"roles",label:b.Z.Messages.ROLES_LIST.format({numRoles:3}),children:h})}}}]);
//# sourceMappingURL=10ee6aa4d1909cb81f92.js.map