"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[27913],{665082:(t,e,n)=>{n.d(e,{Ld:()=>p,O5:()=>d,fG:()=>_,tq:()=>S,fw:()=>A});var r=n(441143),i=n.n(r),o=n(744564),u=n(850841),c=n(673679),a=n(2590);function l(t,e,n,r,i,o,u){try{var c=t[o](u),a=c.value}catch(t){n(t);return}c.done?e(a):Promise.resolve(a).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(t){l(o,r,i,u,c,"next",t)}function c(t){l(o,r,i,u,c,"throw",t)}u(void 0)}))}}var f=function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),
0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function p(t){return y.apply(this,arguments)}function y(){return(y=s((function(t){var e,n,r,i,u,a,l,s;return f(this,(function(f){switch(f.label){case 0:e=t.planId,n=t.currency,r=t.paymentSource,i=t.trialId,u=t.code,a=t.metadata;o.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_START"});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,c.XW({items:[{
planId:e,quantity:1}],paymentSource:r,trialId:i,code:u,currency:n,metadata:a})];case 2:null!=(l=f.sent()).subscription&&o.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS",subscription:l.subscription});return[2,l];case 3:s=f.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_SUBSCRIBE_FAIL",error:s});throw s;case 4:return[2]}}))}))).apply(this,arguments)}function d(t,e,n,r,i){return E.apply(this,arguments)}function E(){return(E=s((function(t,e,n,r,l){var s,p,y;return f(this,(function(f){switch(f.label){case 0:f.trys.push([0,2,,3]);s=(0,u.Af)(t);i()(s,"Expected existing premium plan");p=(0,u.XK)(t,s.planId);return[4,c.Mg(t,{status:a.O0b.ACTIVE,paymentSource:r,items:p,currency:n},e,l)];case 1:f.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:y=f.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:y});throw y;case 3:return[2]}}))}))).apply(this,arguments)}function _(t,e,n,r){return h.apply(this,arguments)}function h(){return(h=s((function(t,e,n,r){
var i;return f(this,(function(u){switch(u.label){case 0:u.trys.push([0,2,,3]);return[4,c.fG(t,e,n,r)];case 1:u.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:i=u.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:i});throw i;case 3:return[2]}}))}))).apply(this,arguments)}function S(t,e,n,r,i){return b.apply(this,arguments)}function b(){return(b=s((function(t,e,n,r,i){var u;return f(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,c.tq(t,e,n,r,i)];case 1:a.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_SUCCESS"});return[3,3];case 2:u=a.sent();o.Z.dispatch({type:"PREMIUM_PAYMENT_UPDATE_FAIL",error:u});throw u;case 3:return[2]}}))}))).apply(this,arguments)}function A(){o.Z.dispatch({type:"PREMIUM_PAYMENT_ERROR_CLEAR"})}},315804:(t,e,n)=>{n.d(e,{jU:()=>P,Kr:()=>O,x2:()=>C,Qe:()=>w,ZZ:()=>g,xA:()=>F,pB:()=>Z,WD:()=>D,x9:()=>j})
;var r=n(281110),i=n(744564),o=n(347365),u=n(414094),c=n(973889),a=n(560213),l=n(571690),s=n(746974),f=n(325213),p=n(264628),y=n(72580),d=n(446139),E=n(534681),_=n(673679),h=n(2590);function S(t,e,n,r,i,o,u){try{var c=t[o](u),a=c.value}catch(t){n(t);return}c.done?e(a):Promise.resolve(a).then(r,i)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(t){S(o,r,i,u,c,"next",t)}function c(t){S(o,r,i,u,c,"throw",t)}u(void 0)}))}}function A(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){A(t,e,n[e])}))}return t}function v(t,e){e=null!=e?e:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}var I=function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1
};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function P(t,e){return R.apply(this,arguments)}function R(){return(R=b((function(t,e){var n,r;return I(this,(function(o){switch(o.label){case 0:if(null!=s.Z.get(e))return[2];i.Z.dispatch({type:"SKU_FETCH_START",skuId:e});o.label=1;case 1:o.trys.push([1,3,,4]);n=f.Z.inTestModeForApplication(t)||a.Z.inDevModeForApplication(t);return[4,(0,E.Kb)(n?h.ANM.STORE_SKU(e):h.ANM.STORE_PUBLISHED_LISTINGS_SKU(e))];case 2:r=o.sent();i.Z.dispatch({type:"SKU_FETCH_SUCCESS",sku:n?r.body:r.body.sku});return[3,4]
;case 3:o.sent();i.Z.dispatch({type:"SKU_FETCH_FAIL",skuId:e});throw new c.Z("Failed to fetch SKU ".concat(e));case 4:return[2]}}))}))).apply(this,arguments)}function O(t){return m.apply(this,arguments)}function m(){m=b((function(t){var e,n,r,o=arguments;return I(this,(function(u){switch(u.label){case 0:e=!(o.length>1&&void 0!==o[1])||o[1];if(!(f.Z.inTestModeForApplication(t)||a.Z.inDevModeForApplication(t))&&e)throw new Error("this should only be used in test mode");return[4,(0,E.Kb)(h.ANM.APPLICATION_SKUS(t))];case 1:n=u.sent();r=n.body;i.Z.dispatch({type:"SKUS_FETCH_SUCCESS",skus:r,applicationId:t});return[2,r]}}))}));return m.apply(this,arguments)}function C(t,e,n){return U.apply(this,arguments)}function U(){return(U=b((function(t,e,n){var r,o;return I(this,(function(u){switch(u.label){case 0:r={payment_source_id:n};(f.Z.inTestModeForApplication(t)||a.Z.inDevModeForApplication(t))&&(r.test_mode=!0);return[4,(0,E.Kb)({url:h.ANM.STORE_SKU_PURCHASE(e),query:r,oldFormErrors:!0})]
;case 1:o=u.sent();i.Z.dispatch({type:"SKU_PURCHASE_PREVIEW_FETCH_SUCCESS",skuId:e,paymentSourceId:n,price:o.body});return[2,o]}}))}))).apply(this,arguments)}function w(t,e,n){return N.apply(this,arguments)}function N(){return(N=b((function(t,e,n){var u,c,a;return I(this,(function(l){switch(l.label){case 0:i.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:t,skuId:n});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,r.Z.post({url:h.ANM.CHANNEL_ENTITLEMENT_GRANT(e),oldFormErrors:!0})];case 2:u=l.sent();i.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:n,entitlements:u.body,libraryApplications:[]});return[2,u.body];case 3:c=l.sent();a=new o.HF(c);i.Z.dispatch({type:"SKU_PURCHASE_FAIL",applicationId:t,skuId:n,error:a});throw a;case 4:return[2]}}))}))).apply(this,arguments)}var M={isGift:!1};function g(t,e,n){return L.apply(this,arguments)}function L(){return(L=b((function(t,e,n){var c,s,E,S,b,A,P,R,O,m,C,U,w,N,g;return I(this,(function(I){switch(I.label){case 0:c=T({},M,n),
s=c.paymentSource,E=c.expectedAmount,S=c.expectedCurrency,b=c.analyticsLoadId,A=c.isGift,P=c.giftStyle,R=c.subscriptionPlanId;i.Z.wait((function(){i.Z.dispatch({type:"SKU_PURCHASE_START",applicationId:t,skuId:e})}));O=f.Z.inTestModeForApplication(t)||a.Z.inDevModeForApplication(t);I.label=1;case 1:I.trys.push([1,9,,10]);C={gift:A,sku_subscription_plan_id:R};return[4,(0,p.cn)(s)];case 2:m=(C.gateway_checkout_context=I.sent(),C);if(!O)return[3,3];m.test_mode=!0;return[3,7];case 3:if(null==s)return[3,6];m.payment_source_id=s.id;return[4,(0,_.Zv)(s)];case 4:m.payment_source_token=I.sent();return h.QL.has(s.type)?[4,(0,_.EH)(s.type)]:[3,6];case 5:U=I.sent();m.return_url=r.Z.getAPIBaseURL()+h.ANM.BILLING_POPUP_BRIDGE_CALLBACK_REDIRECT_PREFIX(s.type,null!=U?U:"","success");I.label=6;case 6:null!=E&&(m.expected_amount=E);null!=S&&(m.expected_currency=S);null!=P&&(m.gift_style=P);m.purchase_token=(0,d.d)();I.label=7;case 7:return[4,(0,l.withCaptchaInterceptor)((function(t){return r.Z.post({
url:h.ANM.STORE_SKU_PURCHASE(e),body:T({},m,t),context:{load_id:b},oldFormErrors:!0})}))];case 8:w=I.sent();i.Z.dispatch({type:"SKU_PURCHASE_SUCCESS",skuId:e,libraryApplications:null!=w.body.library_applications?w.body.library_applications.filter(y.lm):[],entitlements:w.body.entitlements,giftCode:w.body.gift_code});return[2,v(T({},w.body),{redirectConfirmation:!1})];case 9:N=I.sent();(g=N instanceof o.HF?N:new o.HF(N)).code!==u.SM.CONFIRMATION_REQUIRED&&g.code!==u.SM.AUTHENTICATION_REQUIRED||i.Z.dispatch({type:"SKU_PURCHASE_AWAIT_CONFIRMATION",skuId:e,isGift:A});if(g.code!==u.SM.CONFIRMATION_REQUIRED){i.Z.dispatch({type:"SKU_PURCHASE_FAIL",applicationId:t,skuId:e,error:g});throw g}if(!N.body.payment_id)throw(0,_.SQ)("payment id cannot be null on redirected confirmations.");return[2,(0,_.sk)(N.body,s)];case 10:return[2]}}))}))).apply(this,arguments)}function F(){return k.apply(this,arguments)}function k(){return(k=b((function(){var t,e;return I(this,(function(n){switch(n.label){case 0:
n.trys.push([0,2,,3]);t={purchase_token:(0,d.d)()};return[4,r.Z.post({url:h.ANM.STORE_EMAIL_RESEND_PAYMENT_VERIFICATION,body:t,oldFormErrors:!0})];case 1:return[2,T({},n.sent().body)];case 2:throw(e=n.sent())instanceof o.HF?e:new o.HF(e);case 3:return[2]}}))}))).apply(this,arguments)}function Z(){i.Z.dispatch({type:"SKU_PURCHASE_CLEAR_ERROR"})}function D(){i.Z.wait((function(){return i.Z.dispatch({type:"SKU_PURCHASE_SHOW_CONFIRMATION_STEP"})}))}function j(t){i.Z.dispatch({type:"SKU_PURCHASE_UPDATE_IS_GIFT",isGift:t})}},856281:(t,e,n)=>{n.d(e,{Z:()=>k});var r=n(202351),i=n(744564),o=n(799105);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function a(t){a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return a(t)}
function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e){s=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return s(t,e)}var f=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var y="",d=null,E="",_=null,h=!1,S="",b="",A="",T="",v="",I="",P="",R="",O=!1,m=null,C=null,U=null,w=null;function N(){_=null;y="";d=null;E="";h=!1;S="US";b="";A="";T="";v="";I="";P="";R="";O=!1
;m=null;C=null;U=null;w=null}function M(t){b=t.name;S=t.country;T=t.line1;v=t.line2;I=t.city;P=t.postalCode;R=t.state;A=t.email}function g(){m=null}function L(t){var e=t.error;m=e}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&s(t,e)}(n,t);var e=p(n);function n(){u(this,n);return e.apply(this,arguments)}var r=n.prototype;r.getCreditCardInfo=function(){return{name:b}};r.getBillingAddressInfo=function(){return{name:b,email:A,country:S,line1:T,line2:v,city:I,postalCode:P,state:R}};r.__getLocalVars=function(){return{braintreeEmail:y,braintreeNonce:d,venmoUsername:E,stripePaymentMethod:_,isCardInfoValid:h,country:S,name:b,email:A,line1:T,line2:v,city:I,postalCode:P,state:R,isBillingAddressInfoValid:O,billingError:m,paymentId:C,popupCallbackCalled:U,paymentSourceId:w}};!function(t,e,n){
e&&c(t.prototype,e);n&&c(t,n)}(n,[{key:"stripePaymentMethod",get:function(){return _}},{key:"popupCallbackCalled",get:function(){return U}},{key:"braintreeEmail",get:function(){return y}},{key:"braintreeNonce",get:function(){return d}},{key:"venmoUsername",get:function(){return E}},{key:"redirectedPaymentId",get:function(){return C}},{key:"redirectedPaymentSourceId",get:function(){return w}},{key:"isCardInfoValid",get:function(){return h}},{key:"isBillingAddressInfoValid",get:function(){return O}},{key:"error",get:function(){return m}}]);return n}(r.ZP.Store);F.displayName="NewPaymentSourceStore";const k=new F(i.Z,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(t){var e=t.stripePaymentMethod;if(null!=e){_=e;M(o.az(_).billingAddressInfo)}else N()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(t){var e=t.info,n=t.isValid;b=e.name;h=n},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(t){var e=t.info,n=t.isValid;null!=e.name&&""!==e.name&&(b=e.name);S=e.country;b=e.name;T=e.line1
;v=e.line2;I=e.city;P=e.postalCode;R=e.state;A=e.email;O=n},BRAINTREE_TOKENIZE_PAYPAL_START:function(){y="";d=null},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(t){var e=t.email,n=t.nonce,r=t.billingAddress;y=e;d=n;M(r);O=S.length>0},BRAINTREE_TOKENIZE_VENMO_START:function(){E="";d=null},BRAINTREE_TOKENIZE_VENMO_SUCCESS:function(t){var e=t.username,n=t.nonce;E=e;d=n},BILLING_PAYMENT_SOURCE_CREATE_START:g,MODAL_POP:g,NEW_PAYMENT_SOURCE_CLEAR_ERROR:g,BILLING_PAYMENT_SOURCE_CREATE_FAIL:L,STRIPE_TOKEN_FAILURE:L,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:N,LOGOUT:N,BILLING_POPUP_BRIDGE_CALLBACK:function(t){var e=t.query;if(null!=(null==e?void 0:e.payment_id)){U=!0;C=e.payment_id}else if(null!=(null==e?void 0:e.payment_source_id)){U=!0;w=e.payment_source_id}},RESET_PAYMENT_ID:function(){U=!1;C=null}})},458823:(t,e,n)=>{n.d(e,{Z:()=>w});var r=n(202351),i=n(744564),o=n(665082),u=n(315804),c=n(414094),a=n(264628),l=n(799105),s=n(2590),f=n(473708);function p(t,e,n,r,i,o,u){try{var c=t[o](u),a=c.value
}catch(t){n(t);return}c.done?e(a):Promise.resolve(a).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(t){p(o,r,i,u,c,"next",t)}function c(t){p(o,r,i,u,c,"throw",t)}u(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function _(t){_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return _(t)}function h(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t,e){S=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return S(t,e)}var b=function(t){
return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}var T=function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value])
;switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=e.call(t,u)}catch(t){o=[6,t];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},v=!1,I=null,P=null;function R(){v=!1;P=null}function O(t){var e=t.error,n=e.code,r=e.paymentId;if(n!==c.ZP.ErrorCodes.AUTHENTICATION_REQUIRED){v=!1;return!1}if(!v){v=!0;I=r;!function(t){m.apply(this,arguments)}(r)}}function m(){return(m=y((function(t){var e,n,r;return T(this,(function(o){switch(o.label){case 0:return null==t?[2]:[4,(0,l.oe)(t)];case 1:e=o.sent();if(null!=(n=e.error)){i.Z.dispatch({
type:"PAYMENT_AUTHENTICATION_ERROR",error:new c.ZP(f.Z.Messages.PAYMENT_METHOD_CONFIRMATION_ERROR)});r=new Error(n);(0,a.q2)(r,{extra:{authenticationError:n}})}return[2]}}))}))).apply(this,arguments)}function C(t){var e=t.payment;if(!v||e.id!==I||![s.PyE.COMPLETED,s.PyE.CANCELED].includes(e.status))return!1;v=!1;P=null;I=null;i.Z.wait(o.fw);i.Z.wait(u.pB)}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&S(t,e)}(n,t);var e=A(n);function n(){d(this,n);return e.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{isAwaitingAuthentication:v,awaitingPaymentId:I,error:P}};!function(t,e,n){e&&E(t.prototype,e);n&&E(t,n)}(n,[{key:"isAwaitingAuthentication",get:function(){return v}},{key:"error",get:function(){return P}},{key:"awaitingPaymentId",get:function(){return I}}]);return n}(r.ZP.Store)
;U.displayName="PaymentAuthenticationStore";const w=new U(i.Z,{BILLING_SUBSCRIPTION_UPDATE_START:R,PAYMENT_AUTHENTICATION_CLEAR_ERROR:R,PREMIUM_PAYMENT_ERROR_CLEAR:R,PREMIUM_PAYMENT_MODAL_CLOSE:R,PREMIUM_PAYMENT_MODAL_OPEN:R,PREMIUM_PAYMENT_SUBSCRIBE_START:R,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:R,PREMIUM_PAYMENT_UPDATE_SUCCESS:R,SKU_PURCHASE_MODAL_CLOSE:R,SKU_PURCHASE_MODAL_OPEN:R,SKU_PURCHASE_START:R,SKU_PURCHASE_SUCCESS:R,BILLING_SUBSCRIPTION_UPDATE_FAIL:O,PREMIUM_PAYMENT_SUBSCRIBE_FAIL:O,PREMIUM_PAYMENT_UPDATE_FAIL:O,SKU_PURCHASE_FAIL:O,GIFT_CODE_REDEEM_FAILURE:O,PAYMENT_AUTHENTICATION_ERROR:function(t){var e=t.error;P=e;v=!1},PAYMENT_UPDATE:C,BILLING_PAYMENT_FETCH_SUCCESS:C})},151367:(t,e,n)=>{n.d(e,{Z:()=>N});var r=n(496486),i=n.n(r),o=n(202351),u=n(744564),c=n(403626),a=n(761814),l=n(954419),s=n(746974);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1
;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function y(t){y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return y(t)}function d(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t,e){E=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return E(t,e)}var _=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
;return d(this,n)}}var S={},b={},A={},T={},v=!1,I=!1,P=new Set,R=new Set,O={};function m(t){S[t.id]=c.Z.createFromServer(t);null==A[t.sku_id]&&(A[t.sku_id]=new Set);null==T[t.application_id]&&(T[t.application_id]=new Set);if(null!=t.subscription_id){null==O[t.subscription_id]&&(O[t.subscription_id]=new Set);O[t.subscription_id].add(t.id)}T[t.application_id].add(t.id);A[t.sku_id].add(t.id)}function C(t){b[t.id]=c.Z.createFromServer(t)}function U(t){return m(t.entitlement)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&E(t,e)}(n,t);var e=h(n);function n(){f(this,n);return e.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.syncWith([a.Z],(function(){return!0}))};r.get=function(t){return S[t]};r.getGiftable=function(){return i().values(b)};r.getForApplication=function(t){var e=T[t]
;if(null==e)return null;var n=new Set,r=!0,i=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var a=u.value;n.add(S[a])}}catch(t){i=!0;o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n};r.getForSku=function(t){var e=A[t];if(null==e)return null;var n=new Set,r=!0,i=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var a=u.value;n.add(S[a])}}catch(t){i=!0;o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n};r.isFetchingForApplication=function(t){return this.fetchingAllEntitlements||null!=t&&this.applicationIdsFetching.has(t)};r.isFetchedForApplication=function(t){return this.fetchedAllEntitlements||null!=t&&this.applicationIdsFetched.has(t)};r.getForSubscription=function(t){var e=O[t];if(null==e)return null;var n=new Set,r=!0,i=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var a=u.value;n.add(S[a])}}catch(t){i=!0;o=t}finally{try{
r||null==c.return||c.return()}finally{if(i)throw o}}return n};r.isEntitledToSku=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=A[e];if(null!=i){var o=!0,u=!1,c=void 0;try{for(var f,p=i[Symbol.iterator]();!(o=(f=p.next()).done);o=!0){var y=f.value,d=S[y];if(null!=d&&d.isValid(t,s.Z,r))return!0}}catch(t){u=!0;c=t}finally{try{o||null==p.return||p.return()}finally{if(u)throw c}}}if(R.has(n))return!1;var E=null!=r?a.Z.getLibraryApplication(n,r):a.Z.getActiveLibraryApplication(n);return!(null==E||E.sku.id!==e||!(0,l.Je)(E))||null};r.hasFetchedForApplicationIds=function(t){return t.every((function(t){return R.has(t)}))};r.__getLocalVars=function(){return{entitlements:S,giftEntitlements:b,skuIdToEntitlementIds:A,applicationIdToEntitlementIds:T,fetchingAllUserEntitlements:v,fetchedAllUserEntitlements:I,applicationIdsFetching:P,applicationIdsFetched:R,subscriptionIdToEntitlementIds:O}};!function(t,e,n){e&&p(t.prototype,e);n&&p(t,n)}(n,[{
key:"fetchingAllEntitlements",get:function(){return v}},{key:"fetchedAllEntitlements",get:function(){return I}},{key:"applicationIdsFetching",get:function(){return P}},{key:"applicationIdsFetched",get:function(){return R}}]);return n}(o.ZP.Store);w.displayName="EntitlementStore";const N=new w(u.Z,{ENTITLEMENT_FETCH_APPLICATION_START:function(t){var e=t.applicationId;P.add(e)},ENTITLEMENT_FETCH_APPLICATION_SUCCESS:function(t){var e=t.applicationId,n=t.entitlements;P.delete(e);R.add(e);var r=!0,i=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var a=u.value;!0!==a.consumed&&m(a)}}catch(t){i=!0;o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}},ENTITLEMENT_FETCH_APPLICATION_FAIL:function(){},ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS:function(t){var e=t.entitlements;b={};e.forEach(C)},SKU_PURCHASE_SUCCESS:function(t){var e=t.entitlements,n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){m(o.value)}}catch(t){r=!0
;i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}},LIBRARY_FETCH_SUCCESS:function(t){var e=t.libraryApplications,n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;if(null!=c.entitlements){var a=!0,l=!1,s=void 0;try{for(var f,p=c.entitlements[Symbol.iterator]();!(a=(f=p.next()).done);a=!0){m(f.value)}}catch(t){l=!0;s=t}finally{try{a||null==p.return||p.return()}finally{if(l)throw s}}}}}catch(t){r=!0;i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}},ENTITLEMENT_CREATE:U,ENTITLEMENT_UPDATE:U,ENTITLEMENT_DELETE:function(t){return function(t){delete S[t.id];var e=T[t.application_id];null!=e&&e.delete(t.id);var n=A[t.sku_id];null!=n&&n.delete(t.id);if(null!=t.subscription_id){var r=O[t.subscription_id];null!=r&&r.delete(t.id)}}(t.entitlement)},LOGOUT:function(){S={};A={};T={};v=!1;I=!1;P=new Set;R=new Set},ENTITLEMENTS_FETCH_FOR_USER_START:function(){v=!0},ENTITLEMENTS_FETCH_FOR_USER_SUCCESS:function(t){
var e=t.entitlements;I=!0;v=!1;var n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){m(o.value)}}catch(t){r=!0;i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}},ENTITLEMENTS_FETCH_FOR_USER_FAIL:function(){I=!1;v=!1}})},718831:(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(785893),i=(n(667294),n(294184)),o=n.n(i),u=n(633878),c=n(871979),a=n.n(c);function l(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function s(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}function f(t,e){
if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++){n=o[r];e.indexOf(n)>=0||(i[n]=t[n])}return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++){n=o[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}}return i}var p={UP:a().directionUp,RIGHT:a().directionRight,DOWN:a().directionDown,LEFT:a().directionLeft},y=function(t){var e=t.direction,n=void 0===e?p.DOWN:e,i=t.width,c=void 0===i?24:i,y=t.height,d=void 0===y?24:y,E=t.color,_=void 0===E?"currentColor":E,h=t.transition,S=void 0===h?a().transition:h,b=t.className,A=t.foreground,T=t.expanded,v=f(t,["direction","width","height","color","transition","className","foreground","expanded"]),I=n;!0===T?I=p.DOWN:!1===T&&(I=p.RIGHT);return(0,r.jsx)("svg",s(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){l(t,e,n[e])}))}return t}({className:o()(b,S,I),width:c,height:d,viewBox:"0 0 24 24"},(0,u.Z)(v)),{children:(0,r.jsx)("path",{className:A,fill:"none",stroke:_,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M7 10L12 15 17 10","aria-hidden":!0})}))};y.Directions=p;const d=y}}]);
//# sourceMappingURL=126454f442a28198a1eb.js.map