"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[2139],{802139:(e,r,t)=>{t.d(r,{BC:()=>Z,ZP:()=>Y});var n=t(785893),i=t(667294),l=t(294184),o=t.n(l),a=t(608575),s=t(945460),u=t(930948),c=t(70145),d=t(473291),h=t(347117),p=t(716997),m=t(786170),f=t(2590),b=t(473708);function y(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function v(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function g(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e)
;for(n=0;n<l.length;n++){t=l[n];r.indexOf(t)>=0||(i[t]=e[t])}return i}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++){t=l[n];r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}}return i}function x(e){var r=e.poster,t=e.src,l=e.width,o=e.height,a=e.naturalWidth,s=e.naturalHeight,u=e.play,c=void 0===u||u,d=e.className,h=e.alt,p=e.responsive,b=i.useRef(null);i.useEffect((function(){var e=b.current;null!=e&&(c?e.play():e.pause())}),[c]);return a<=f.N_j&&s<=f.XKF||a<=f.XKF&&s<=f.N_j?(0,n.jsx)(m.Z,{ref:b,className:d,poster:r,src:t,width:l,height:o,responsive:p,muted:!0,loop:!0,autoPlay:c,preload:"none","aria-label":h}):(0,n.jsx)("img",{alt:"",src:r,width:l,height:o})}function w(e){
var r=e.src,t=e.poster,i=e.naturalWidth,l=e.naturalHeight,o=e.responsive,a=e.autoPlay,s=e.className,u=e.playable,c=void 0===u||u,d=e.renderImageComponent,h=e.alt,m=void 0===h?b.Z.Messages.GIF:h,f=g(e,["src","poster","naturalWidth","naturalHeight","responsive","autoPlay","className","playable","renderImageComponent","alt"]);return(0,n.jsx)(p.h.Consumer,y({},"children",(function(e){return d(v(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){y(e,r,t[r])}))}return e}({},f),y({alt:m,src:t,containerClassName:s,autoPlay:a,animated:c,responsive:o,renderAccessory:e,tabIndex:c?0:-1},"children",(function(e){var t=e.src,a=e.size,u=e.animating,d=e.alt;return(0,n.jsx)(x,{alt:d,className:s,poster:t,src:r,width:a.width,height:a.height,naturalWidth:i,
naturalHeight:l,responsive:o,play:c&&u})}))))})))}var j=t(159689),O=t(507488),P=t(220496),S=t(330484),C=t(189865),I=t(248691),N=t(581373),E=t(966334),M=t(710978),A=t.n(M),k=t(913198),_=t.n(k);function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function H(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function T(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return L(e)}function V(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){T(e,r,t[r])}))}return e}function W(e,r){r=null!=r?r:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function R(e,r){return!r||"object"!==G(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function B(e,r){B=Object.setPrototypeOf||function(e,r){e.__proto__=r;return e};return B(e,r)}function F(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,l=[],o=!0,a=!1;try{for(t=t.call(e);!(o=(n=t.next()).done);o=!0){l.push(n.value);if(r&&l.length===r)break
}}catch(e){a=!0;i=e}finally{try{o||null==t.return||t.return()}finally{if(a)throw i}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return D(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,n=L(e);if(r){
var i=L(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return R(this,t)}}function Z(e){var r=e.className,t=e.iframeWrapperClassName,l=e.maxWidth,s=e.maxHeight,c=e.thumbnail,d=e.video,p=e.allowFullScreen,m=void 0===p||p,b=e.responsive,y=void 0!==b&&b,v=e.renderImageComponent,g=e.renderVideoComponent,x=e.renderLinkComponent,w=e.playable,j=void 0===w||w,O=e.autoPlay,S=void 0!==O&&O,C=e.autoMute,N=e.volume,E=e.onPlay,M=e.onEnded,k=e.onVolumeChange,_=e.onMute,D=e.href,H=F(i.useState(S),2),T=H[0],L=H[1],R=null!=d&&null==d.proxyURL,B=i.useCallback((function(){return L(!1)}),[L]),G=function(e){e.preventDefault();e.stopPropagation();null==E||E(!1);L(!0);if(R){u.S.dispatch(f.CkL.VIDEO_EMBED_PLAYBACK_STARTED);u.S.subscribeOnce(f.CkL.VIDEO_EMBED_PLAYBACK_STARTED,B)}};i.useEffect((function(){return function(){R&&u.S.unsubscribe(f.CkL.VIDEO_EMBED_PLAYBACK_STARTED,B)}}),[R,B]);var U=c.width,Z=c.height;if(null!=d){U=d.width;Z=d.height}var q=(0,h.Tj)({width:U,
height:Z,maxWidth:l,maxHeight:s});U=Math.max(q.width,150);Z=Math.max(q.height,144);var K=(0,I.q)(c);if(null!=d&&null!=d.proxyURL)return(0,n.jsx)("div",{className:o()(A().embedVideo,r),children:g({poster:K,src:d.proxyURL,width:U,height:Z,responsive:y,autoPlay:S,onEnded:M,naturalWidth:d.width,naturalHeight:d.height,onVolumeChange:k,playable:j,autoMute:C,volume:N,onPlay:E,onMute:_})});if(T&&null!=d){var Y=a.parse(d.url,!0);Y.query=W(V({},Y.query),{autoplay:"1",auto_play:"1"});(!0===C||"function"==typeof C&&C())&&(Y.query.mute="1");Y.search=null;var z,J=a.format(Y),X={width:U,height:Z},$={width:U,height:Z};if(y){X={maxWidth:l,maxHeight:s,width:void 0,height:void 0};$={paddingBottom:"".concat(100*(0!==U?Z/U:1),"%"),maxWidth:U};z={position:"absolute",top:0,left:0,maxWidth:U,maxHeight:Z}}return(0,n.jsx)("div",{className:r,style:X,children:(0,n.jsx)("div",{className:o()(A().embedVideo,t),style:$,children:(0,n.jsx)("iframe",{className:A().embedIframe,src:J,style:z,width:U,height:Z,
frameBorder:0,scrolling:"no",allowFullScreen:m,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})})})}return(0,n.jsxs)("div",{className:o()(A().embedVideo,r),style:y?{maxWidth:U}:{width:U,height:Z},children:[v({src:K,width:U,height:Z,maxWidth:U,maxHeight:Z,responsive:y,containerClassName:A().embedVideoImageComponent,imageClassName:A().embedVideoImageComponentInner,onClick:j&&null!=d?G:null}),(0,n.jsx)("div",{className:A().embedVideoActions,children:(0,n.jsx)("div",{className:A().centerContent,children:j?(0,n.jsx)(P.Z,{onPlay:null!=d?G:null,externalURL:D,renderLinkComponent:x}):null})})]})}function q(e){var r=e.className,t=e.href,i=e.autoPlay,l=e.maxWidth,a=e.maxHeight,s=e.thumbnail,u=e.video,c=e.renderImageComponent,d=e.responsive,h=e.alt,p=e.playable,m=void 0===p||p,f=e.hiddenSpoilers;return(0,n.jsx)(w,{className:o()(A().embedVideo,r),original:t,poster:(0,I.q)(s),src:(0,I.q)(u),alt:h,width:s.width,height:s.height,
naturalHeight:u.height,naturalWidth:u.width,maxWidth:l,maxHeight:a,responsive:d,autoPlay:i,playable:m,renderImageComponent:c,hiddenSpoilers:f})}function K(e){var r=e.className,t=e.embed.url;if(null==t)return null;var i=null,l=null;try{var s=a.parse(t,!0);i=s.host;l=s.pathname}catch(e){return null}if("open.spotify.com"!==i||null==l)return null;var u=l.split("/"),c=null!=u[1]?u[1].toLowerCase():null,d=null!=u[3]?u[3].toLowerCase():null,h=u[4];if(!["track","playlist","album","artist","user","show","episode"].includes(null!=c?c:"")||"user"===c&&"playlist"!==d)return null;"user"===c&&"playlist"===d&&null!=h&&(l="/playlist/".concat(h));var p=352;"track"===c?p=80:"episode"!==c&&"show"!==c||(p=232);return(0,n.jsx)("iframe",{className:o()(A().embedSpotify,r),src:E.C7.EMBED(l),style:{width:400,height:p},frameBorder:0,sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"})}var Y=function(e){!function(e,r){
if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}});r&&B(e,r)}(t,e);var r=U(t);function t(){H(this,t);var e;(e=r.apply(this,arguments)).state={isVisible:!e.props.spoiler};e.onReveal=function(){e.setState({isVisible:!0})};e.renderInlineMediaEmbed=function(){var r,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=e.props,l=i.spoiler,a=i.className;return(0,n.jsx)("div",{"aria-hidden":t,className:o()(A().inlineMediaEmbed,a,(r={},T(r,A().spoilerAttachment,l),T(r,A().hiddenSpoiler,t),T(r,A().justifyAuto,e.usesJustifiedAutoStyle()),r)),children:e.renderMedia(t)})};e.renderEmbedContent=function(){var r,t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=e.props,a=l.className,s=l.onSuppressEmbed,u=l.spoiler,c=e.renderAll(),d=c.provider,h=c.author,p=c.title,m=c.description,f=c.fields,b=c.thumbnail,y=c.media,v=c.footer;return(0,
n.jsx)("article",{className:o()(a,A().embedFull,_().markup,(r={},T(r,A().hiddenSpoiler,i),T(r,A().spoilerEmbed,u),T(r,A().justifyAuto,e.usesJustifiedAutoStyle()),r)),"aria-hidden":i,style:{borderColor:e.getEmbedColor(i),maxWidth:e.getMaxWidth()},children:(0,n.jsx)("div",{className:A().gridContainer,children:(0,n.jsxs)("div",{className:o()((t={},T(t,A().grid,!0),T(t,A().hasThumbnail,null!=b),t)),children:[null!=s?e.renderSuppressButton(s):null,d,h,p,m,f,y,b,v]})})})};return e}var i=t.prototype;i.renderProvider=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.provider,i=r.renderLinkComponent;return null==t?null:(0,n.jsx)("div",{className:o()(A().embedProvider,A().embedMargin),children:null!=t.url?i({className:A().embedLink,href:t.url,tabIndex:e?0:-1,children:t.name,target:"_blank",rel:"noreferrer noopener"}):(0,n.jsx)("span",{children:t.name})})};i.renderAuthor=function(){
var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.author,i=r.renderLinkComponent;return null==t?null:(0,n.jsxs)("div",{className:o()(A().embedAuthor,A().embedMargin),children:[null!=t.iconProxyURL?(0,n.jsx)("img",{alt:"",className:A().embedAuthorIcon,src:t.iconProxyURL}):null,null!=t.url?i({className:A().embedAuthorNameLink,href:t.url,tabIndex:e?0:-1,children:t.name,target:"_blank",rel:"noreferrer noopener"}):(0,n.jsx)("span",{className:A().embedAuthorName,children:t.name})]})};i.renderTitle=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed,i=r.renderLinkComponent,l=r.renderTitle,a=t.rawTitle,s=t.url;return null==a?null:(0,n.jsx)("div",{className:o()(A().embedTitle,A().embedMargin),children:null!=s?i({className:A().embedTitleLink,href:s,tabIndex:e?0:-1,children:l(t,a),target:"_blank",rel:"noreferrer noopener"}):l(t,a)})};i.renderDescription=function(){
var e=this.props,r=e.embed,t=e.renderDescription,i=r.rawDescription;return null==i?null:(0,n.jsx)("div",{className:o()(A().embedDescription,A().embedMargin),children:t(r,i,!1)})};i.renderThumbnail=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.props,t=r.embed.thumbnail,i=r.maxThumbnailWidth,l=r.maxThumbnailHeight,o=r.renderImageComponent,a=r.autoPlayGif;return null==t?null:(0,n.jsx)(S.G.Consumer,{children:function(r){var n=r.disableAnimations;return o({containerClassName:A().embedThumbnail,src:(0,I.q)(t),original:t.url,width:t.width,height:t.height,maxWidth:i,maxHeight:l,shouldLink:e,autoPlay:a&&!n})}})};i.renderFields=function(){var e=this,r=this.props.embed,t=r.fields;if(null==t||0===t.length)return null;var i=[],l=null;t.forEach((function(t){var n=t.rawName,o=t.rawValue,a=t.inline;if(!a&&null!=l){i.push(l);l=null}null==l&&(l=[]);l.push([e.props.renderTitle(r,n),e.props.renderDescription(r,o,!0)]);if(3===l.length||!a){i.push(l);l=null}}))
;null!=l&&i.push(l);return(0,n.jsx)("div",{className:A().embedFields,children:i.map((function(e,r){var t=e.length;return e.map((function(e,i){var l,o,a,s,u=F(e,2),c=u[0],d=u[1];return(0,n.jsxs)("div",{className:A().embedField,style:{gridColumn:(l=i,o=t,a=12/o,s=l*a,"".concat(s+1," / ").concat(s+a+1))},children:[(0,n.jsx)("div",{className:A().embedFieldName,children:c}),(0,n.jsx)("div",{className:A().embedFieldValue,children:d})]},"".concat(r,"-").concat(i))}))}))})};i.renderImages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.hiddenSpoiler,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,o=this,a=this.props,s=a.embed,u=a.maxMediaHeight;if(null==s.images)return null;var c=F(s.images.map((function(e){return o.renderImage({hiddenSpoiler:t,isVisible:l,image:e,isGalleryImage:!0,allImages:s.images})})),4),d=c[0],h=c[1],p=c[2],m=c[3];return null==d&&null==h&&null==p&&null==m?null:(0,n.jsxs)("div",{className:A().embedGalleryImagesWrapper,style:{height:u},
children:[(0,n.jsxs)("div",{className:A().embedGallerySide,children:[d,null!=m&&p]}),(0,n.jsxs)("div",{className:A().embedGallerySide,children:[h,null==m&&null!=p&&p,null!=m&&m]})]})};i.renderImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.hiddenSpoiler,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,a=e.image,s=e.isGalleryImage,u=void 0!==s&&s,c=e.alt,d=void 0===c?b.Z.Messages.IMAGE:c,h=e.allImages,m=void 0===h?null:h,f=this.props,y=f.maxMediaWidth,v=f.maxMediaHeight,g=f.renderImageComponent,x=f.className,w=f.autoPlayGif;if(null==a)return null;var O,P=(0,I.q)(a),C=null==m?{}:(0,N.Cx)(m.map(N.nP)),E=j.Z.isAnimated({src:(0,I.q)(a),original:a.url,animated:!1}),M={containerClassName:o()(x,(O={},T(O,A().embedMedia,!u),T(O,A().embedImage,!u),T(O,A().galleryImage,u),O)),imageContainerClassName:u?A().galleryImageContainer:void 0,imageClassName:u?A().embedGalleryImageElement:void 0,src:(0,I.q)(a),alt:d,responsive:!0,limitResponsiveWidth:!u,width:a.width,
height:a.height,maxWidth:y,maxHeight:v,original:a.url,shouldLink:l,disableAltTextDisplay:!0,hiddenSpoilers:t};P in C&&(M.onClick=C[P]);return(0,n.jsx)(p.h.Consumer,{children:function(e){return(0,n.jsx)(S.G.Consumer,{children:function(r){var n=r.disableAnimations;return g(W(V({},M),{autoPlay:w&&!n&&!t,renderAccessory:E?e:null}))}},a.url)}})};i.renderVideo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.gifv,t=void 0!==r&&r,i=e.isVisible,l=void 0===i||i,o=e.hiddenSpoiler,a=void 0!==o&&o,s=this.props,u=s.embed,c=u.url,d=u.thumbnail,h=u.video,p=s.maxMediaWidth,m=s.maxMediaHeight,f=s.renderVideoComponent,b=s.renderImageComponent,y=s.renderLinkComponent,v=s.allowFullScreen,g=s.autoPlayGif;return null==c||null==d?null:t?null==h?null:(0,n.jsx)(S.G.Consumer,{children:function(e){var r=e.disableAnimations;return(0,n.jsx)(q,{className:A().embedMedia,href:c,thumbnail:d,video:h,maxWidth:p,maxHeight:m,responsive:!0,autoPlay:!a&&g&&!r&&l,renderImageComponent:b,
playable:l,hiddenSpoilers:a})}}):(0,n.jsx)(Z,{className:A().embedMedia,href:c,allowFullScreen:v,thumbnail:d,video:h,maxWidth:p,maxHeight:m,responsive:!0,renderImageComponent:b,renderVideoComponent:f,renderLinkComponent:y,playable:l&&!a})};i.renderFooter=function(){var e=this.props.embed,r=e.footer,t=e.timestamp;if(null!=r){var i=null!=r.iconProxyURL&&""!==r.iconProxyURL?r.iconProxyURL:r.iconURL;return(0,n.jsxs)("div",{className:o()(A().embedFooter,A().embedMargin),children:[null!=i?(0,n.jsx)("img",{alt:"",className:A().embedFooterIcon,src:i}):null,(0,n.jsxs)("span",{className:A().embedFooterText,children:[r.text,null!=r.text&&null!=t?(0,n.jsx)("span",{className:A().embedFooterSeparator,children:"•"}):null,null!=t?(0,c.Y4)(t):null]})]})}if(null!=t)return(0,n.jsx)("div",{className:o()(A().embedFooter,A().embedMargin),children:(0,n.jsx)("span",{className:A().embedFooterText,children:(0,c.Y4)(t)})})};i.renderMedia=function(){
var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.props.embed,t=this.state.isVisible;switch(r.type){case f.hBH.GIFV:return this.renderVideo({gifv:!0,hiddenSpoiler:e,isVisible:t});case f.hBH.VIDEO:default:return null!=r.video?this.renderVideo({gifv:!1,hiddenSpoiler:e,isVisible:t}):null!=r.images?this.renderImages({hiddenSpoiler:e,isVisible:t}):this.renderImage({hiddenSpoiler:e,isVisible:t,image:r.image,alt:r.rawTitle})}};i.renderAll=function(){var e,r=this.props,t=r.embed,n=r.hideMedia,i=this.state.isVisible,l=this.renderProvider(i),o=this.renderAuthor(i),a=this.renderTitle(i);switch(t.type){case f.hBH.IMAGE:case f.hBH.VIDEO:case f.hBH.GIFV:break;default:e=this.renderDescription()}var s,u=this.renderFields();n||(s=this.renderMedia(!i));var c=this.renderFooter(),d=null==s;t.type===f.hBH.RICH&&(d=null==t.video);return{provider:l,author:o,title:a,description:e,thumbnail:!n&&d?this.renderThumbnail(i):null,fields:u,media:s,footer:c}};i.getMaxWidth=function(){
var e=this.props,r=e.maxMediaWidth,t=e.maxMediaHeight,n=e.embed,i=n.image,l=n.images,o=n.video,a=n.type,s=null!=i?i:o;if(null!=s){var u=(0,h.Tj)({width:s.width,height:s.height,maxWidth:r,maxHeight:t}).width;return a===f.hBH.VIDEO||u>=300?u+32:a===f.hBH.RICH&&void 0!==l?520:void 0}};i.isInline=function(){var e=this.props,r=e.hideMedia,t=e.embed;return!r&&(0,d.dY)(t)};i.renderSuppressButton=function(e){return(0,n.jsx)(s.Clickable,{focusProps:{offset:{bottom:4}},className:A().embedSuppressButton,onClick:e,"aria-label":b.Z.Messages.SUPPRESS_ALL_EMBEDS,children:(0,n.jsx)(C.Z,{width:16,height:16})})};i.usesJustifiedAutoStyle=function(){var e=this.props.embed;return e.type===f.hBH.IMAGE||e.type===f.hBH.VIDEO||e.type===f.hBH.GIFV||(e.type===f.hBH.RICH||e.type===f.hBH.ARTICLE)&&(null!=e.video||null!=e.image)};i.getEmbedColor=function(e){var r=this.props.embed.color;return null!=r&&"#ffffff"===r.toLowerCase()||e?void 0:r};i.getSpoilerStyles=function(e){
var r=this.props,t=r.maxMediaWidth,n=r.maxMediaHeight,i=r.embed,l=i.image,o=i.images,a=i.video,s=i.type;if(this.usesJustifiedAutoStyle()){var u=e?void 0:this.getMaxWidth();if(void 0===u&&void 0===o&&s!==f.hBH.RICH){var c=null!=l?l:a;if(void 0!==c){u=(0,h.Tj)({width:c.width,height:c.height,maxWidth:t,maxHeight:n}).width}}return{maxWidth:void 0===u?"max-content":u,justifySelf:"auto"}}};i.render=function(){var e=this.props,r=e.embed,t=e.spoiler,i=e.className;return null!=r.provider&&"Spotify"===r.provider.name?(0,n.jsx)(K,{embed:r,className:i}):this.isInline()?t?(0,n.jsx)(O.Z,{type:O.Z.Types.ATTACHMENT,onReveal:this.onReveal,containerStyles:this.getSpoilerStyles(!0),children:this.renderInlineMediaEmbed}):this.renderInlineMediaEmbed():t?(0,n.jsx)(O.Z,{type:O.Z.Types.EMBED,onReveal:this.onReveal,containerStyles:this.getSpoilerStyles(!1),children:this.renderEmbedContent}):this.renderEmbedContent()};return t}(i.PureComponent);Y.defaultProps={hideMedia:!1,allowFullScreen:!0,
maxThumbnailWidth:80,maxThumbnailHeight:80,maxMediaWidth:400,maxMediaHeight:300,spoiler:!1}},716997:(e,r,t)=>{t.d(r,{h:()=>n});var n=t(667294).createContext((function(){return null}))},248691:(e,r,t)=>{t.d(r,{q:()=>n});function n(e){var r=e.proxyURL,t=e.url;return null!=r&&""!==r?r:t}},581373:(e,r,t)=>{t.d(r,{j9:()=>D,Nh:()=>_,nP:()=>k,Cx:()=>H});var n=t(785893),i=(t(667294),t(809784)),l=t(945460),o=t(4629),a=t(38736),s=t(652591),u=t(2590);function c(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){c(e,r,t[r])}))}return e}function h(e,r){r=null!=r?r:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}var p={guildId:void 0,channelId:void 0,channelType:void 0,viewerSwipes:0,thumbnailSwipes:0,selectedItemChanges:0,numMediaItems:0},m=(0,a.Z)((function(){return p}));function f(){var e=m.getState();s.default.track(u.rMx.MEDIA_VIEWER_SESSION_COMPLETED,{guild_id:e.guildId,channel_id:e.channelId,channel_type:e.channelType,number_viewer_swipes:e.viewerSwipes,number_thumbnail_swipes:e.thumbnailSwipes,number_selected_item_changes:e.selectedItemChanges,number_media_items:e.numMediaItems});m.setState(d({},p))}function b(){m.setState((function(e){return{
selectedItemChanges:e.selectedItemChanges+1}}))}var y=t(570738),v=t(248691),g=t(493254),x=t(126466),w=t.n(x);function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function O(e,r,t,n,i,l,o){try{var a=e[l](o),s=a.value}catch(e){t(e);return}a.done?r(s):Promise.resolve(s).then(n,i)}function P(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var l=e.apply(r,t);function o(e){O(l,n,i,o,a,"next",e)}function a(e){O(l,n,i,o,a,"throw",e)}o(void 0)}))}}function S(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}function C(){C=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};return C.apply(this,arguments)}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));n.forEach((function(r){S(e,r,t[r])}))}return e}function N(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}));return e}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,i,l=[],o=!0,a=!1;try{for(t=t.call(e);!(o=(n=t.next()).done);o=!0){l.push(n.value);if(r&&l.length===r)break}}catch(e){a=!0;i=e}finally{try{
o||null==t.return||t.return()}finally{if(a)throw i}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e,r){var t,n,i,l,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return l={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function a(l){return function(a){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),
0):n.next)&&!(i=i.call(n,l[1])).done)return i;(n=0,i)&&(l=[2&l[0],i.value]);switch(l[0]){case 0:case 1:i=l;break;case 4:o.label++;return{value:l[1],done:!1};case 5:o.label++;n=l[1];l=[0];continue;case 7:l=o.ops.pop();o.trys.pop();continue;default:if(!(i=o.trys,i=i.length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1];i=l;break}if(i&&o.label<i[2]){o.label=i[2];o.ops.push(l);break}i[2]&&o.ops.pop();o.trys.pop();continue}l=r.call(e,o)}catch(e){l=[6,e];n=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,a])}}};function A(e,r,o,a){e.preventDefault();(0,i.k)(e.currentTarget)&&e.currentTarget.blur();if(null!=a){s.default.track(u.rMx.OPEN_MODAL,I({type:u.jXE.MEDIA_VIEWER},a),{throttlePercent:.01});c=a.guild_id,y=a.channel_id,v=a.channel_type,g=r.length,m.setState(h(d({},p),{guildId:c,channelId:y,channelType:v,numMediaItems:g}))}var c,y,v,g;(0,
l.openModalLazy)(P((function(){var e,i;return M(this,(function(l){switch(l.label){case 0:return[4,Promise.all([t.e(40532),t.e(36006),t.e(15357),t.e(84991)]).then(t.bind(t,484991))];case 1:e=l.sent(),i=e.default;return[2,function(e){var t=C({},e);return(0,n.jsx)(i,N(I({},t),{onIndexChange:null!=a?b:void 0,className:w().zoomedCarouselModalRoot,items:r,modalCarouselClassName:w().modalCarouselWrapper,startingIndex:o}))}]}}))})),{onCloseCallback:null!=a?f:void 0})}function k(e){var r=e.width,t=e.height,i=(0,v.q)(e);return{component:(0,n.jsx)(y.y,{width:r,height:t,original:e.url,renderLinkComponent:function(e){return(0,n.jsx)(o.Z,I({},e))},src:i}),width:r,height:t,src:i}}function _(e){if(g.IQ.test(e.filename)){var r,t,i=null!==(r=e.width)&&void 0!==r?r:0,l=null!==(t=e.height)&&void 0!==t?t:0,a=(0,v.q)({proxyURL:e.proxy_url,url:e.url});return{component:(0,n.jsx)(y.y,{width:i,height:l,original:e.url,renderLinkComponent:function(e){return(0,n.jsx)(o.Z,I({},e))},src:a}),width:i,height:l,src:a}}
return null}function D(e){var r=_(e);if(null!=r)return r;var t=function(e){if(g.XH.test(e.filename)){var r,t,i=null!==(r=e.width)&&void 0!==r?r:0,l=null!==(t=e.height)&&void 0!==t?t:0,a=(0,v.q)({proxyURL:e.proxy_url,url:e.url});return{component:(0,n.jsx)(y.K,{width:i,height:l,poster:e.proxy_url+"?format=jpeg",naturalWidth:i,naturalHeight:l,renderLinkComponent:function(e){return(0,n.jsx)(o.Z,I({},e))},src:a,fileSize:e.size,fileName:e.filename}),width:i,height:l,src:a}}return null}(e);return null!=t?t:null}function H(e,r){var t={},n=!0,i=!1,l=void 0;try{for(var o,a=function(){var n=E(o.value,2),i=n[0],l=n[1];t[l.src]=function(t){return A(t,e,i,r)}},s=e.entries()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a()}catch(e){i=!0;l=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw l}}return t}}}]);
//# sourceMappingURL=44e107795356f0c8bf48.js.map