(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[47007],{74971:t=>{"use strict";const e=2147483647,i=36,n=/^xn--/,r=/[^\0-\x7E]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a=Math.floor,s=String.fromCharCode;function h(t){throw new RangeError(c[t])}function l(t,e){const i=t.split("@");let n="";if(i.length>1){n=i[0]+"@";t=i[1]}const r=function(t,e){const i=[];let n=t.length;for(;n--;)i[n]=e(t[n]);return i}((t=t.replace(o,".")).split("."),e).join(".");return n+r}function f(t){const e=[];let i=0;const n=t.length;for(;i<n;){const r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){const n=t.charCodeAt(i++);if(56320==(64512&n))e.push(((1023&r)<<10)+(1023&n)+65536);else{e.push(r);i--}}else e.push(r)}return e}const u=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},d=function(t,e,n){let r=0;t=n?a(t/700):t>>1;t+=a(t/e)
;for(;t>455;r+=i)t=a(t/35);return a(r+36*t/(t+38))},p=function(t){const n=[],r=t.length;let o=0,c=128,s=72,l=t.lastIndexOf("-");l<0&&(l=0);for(let e=0;e<l;++e){t.charCodeAt(e)>=128&&h("not-basic");n.push(t.charCodeAt(e))}for(let u=l>0?l+1:0;u<r;){let l=o;for(let n=1,c=i;;c+=i){u>=r&&h("invalid-input");const l=(f=t.charCodeAt(u++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:i;(l>=i||l>a((e-o)/n))&&h("overflow");o+=l*n;const d=c<=s?1:c>=s+26?26:c-s;if(l<d)break;const p=i-d;n>a(e/p)&&h("overflow");n*=p}const p=n.length+1;s=d(o-l,p,0==l);a(o/p)>e-c&&h("overflow");c+=a(o/p);o%=p;n.splice(o++,0,c)}var f;return String.fromCodePoint(...n)},m=function(t){const n=[];let r=(t=f(t)).length,o=128,c=0,l=72;for(const e of t)e<128&&n.push(s(e));let p=n.length,m=p;p&&n.push("-");for(;m<r;){let r=e;for(const e of t)e>=o&&e<r&&(r=e);const f=m+1;r-o>a((e-c)/f)&&h("overflow");c+=(r-o)*f;o=r;for(const r of t){r<o&&++c>e&&h("overflow");if(r==o){let t=c;for(let e=i;;e+=i){const r=e<=l?1:e>=l+26?26:e-l;if(t<r)break
;const o=t-r,c=i-r;n.push(s(u(r+o%c,0)));t=a(o/c)}n.push(s(u(t,0)));l=d(c,f,m==p);c=0;++m}}++c;++o}return n.join("")},g={version:"2.1.0",ucs2:{decode:f,encode:t=>String.fromCodePoint(...t)},decode:p,encode:m,toASCII:function(t){return l(t,(function(t){return r.test(t)?"xn--"+m(t):t}))},toUnicode:function(t){return l(t,(function(t){return n.test(t)?p(t.slice(4).toLowerCase()):t}))}};t.exports=g},181757:function(t,e){"use strict";var i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message};this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message};this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message};this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message};this.message=t}}};i.cipher.aes=function(t){this.s[0][0][0]||this.O();var e,n,r,o,c=this.s[0][4],a=this.s[1],s=1
;if(4!==(e=t.length)&&6!==e&&8!==e)throw new i.exception.invalid("invalid aes key size");this.b=[r=t.slice(0),o=[]];for(t=e;t<4*e+28;t++){n=r[t-1];(0==t%e||8===e&&4==t%e)&&(n=c[n>>>24]<<24^c[n>>16&255]<<16^c[n>>8&255]<<8^c[255&n],0==t%e&&(n=n<<8^n>>>24^s<<24,s=s<<1^283*(s>>7)));r[t]=r[t-e]^n}for(e=0;t;e++,t--)n=r[3&e?t:t-4],o[e]=4>=t||4>e?n:a[0][c[n>>>24]]^a[1][c[n>>16&255]]^a[2][c[n>>8&255]]^a[3][c[255&n]]};i.cipher.aes.prototype={encrypt:function(t){return n(this,t,0)},decrypt:function(t){return n(this,t,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var t,e,i,n,r,o,c,a=this.s[0],s=this.s[1],h=a[4],l=s[4],f=[],u=[];for(t=0;256>t;t++)u[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=i=0;!h[e];e^=n||1,i=u[i]||1)for(o=(o=i^i<<1^i<<2^i<<3^i<<4)>>8^255&o^99,h[e]=o,l[o]=e,c=16843009*(r=f[t=f[n=f[e]]])^65537*t^257*n^16843008*e,r=257*f[o]^16843008*o,t=0;4>t;t++)a[t][e]=r=r<<24^r>>>8,s[t][o]=c=c<<24^c>>>8;for(t=0;5>t;t++)a[t]=a[t].slice(0),s[t]=s[t].slice(0)}};function n(t,e,n){
if(4!==e.length)throw new i.exception.invalid("invalid aes block size");var r=t.b[n],o=e[0]^r[0],c=e[n?3:1]^r[1],a=e[2]^r[2];e=e[n?1:3]^r[3];var s,h,l,f,u=r.length/4-2,d=4,p=[0,0,0,0];t=(s=t.s[n])[0];var m=s[1],g=s[2],y=s[3],b=s[4];for(f=0;f<u;f++)s=t[o>>>24]^m[c>>16&255]^g[a>>8&255]^y[255&e]^r[d],h=t[c>>>24]^m[a>>16&255]^g[e>>8&255]^y[255&o]^r[d+1],l=t[a>>>24]^m[e>>16&255]^g[o>>8&255]^y[255&c]^r[d+2],e=t[e>>>24]^m[o>>16&255]^g[c>>8&255]^y[255&a]^r[d+3],d+=4,o=s,c=h,a=l;for(f=0;4>f;f++)p[n?3&-f:f]=b[o>>>24]<<24^b[c>>16&255]<<16^b[a>>8&255]<<8^b[255&e]^r[d++],s=o,o=c,c=a,a=e,e=s;return p}i.bitArray={bitSlice:function(t,e,n){t=i.bitArray.$(t.slice(e/32),32-(31&e)).slice(1);return void 0===n?t:i.bitArray.clamp(t,n-e)},extract:function(t,e,i){var n=Math.floor(-e-i&31);return(-32&(e+i-1^e)?t[e/32|0]<<32-n^t[e/32+1|0]>>>n:t[e/32|0]>>>n)&(1<<i)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],r=i.bitArray.getPartial(n)
;return 32===r?t.concat(e):i.bitArray.$(e,r,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+i.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var n=(t=t.slice(0,Math.ceil(e/32))).length;e&=31;0<n&&e&&(t[n-1]=i.bitArray.partial(e,t[n-1]&2147483648>>e-1,1));return t},partial:function(t,e,i){return 32===t?e:(i?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(i.bitArray.bitLength(t)!==i.bitArray.bitLength(e))return!1;var n,r=0;for(n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},$:function(t,e,n,r){var o;o=0;for(void 0===r&&(r=[]);32<=e;e-=32)r.push(n),n=0;if(0===e)return r.concat(t);for(o=0;o<t.length;o++)r.push(n|t[o]>>>e),n=t[o]<<32-e;o=t.length?t[t.length-1]:0;t=i.bitArray.getPartial(o);r.push(i.bitArray.partial(e+t&31,32<e+t?n:r.pop(),1));return r},i:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,i
;for(e=0;e<t.length;++e)i=t[e],t[e]=i>>>24|i>>>8&65280|(65280&i)<<8|i<<24;return t}};i.codec.utf8String={fromBits:function(t){var e,n,r="",o=i.bitArray.bitLength(t);for(e=0;e<o/8;e++)0==(3&e)&&(n=t[e/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],r=0;for(e=0;e<t.length;e++)r=r<<8|t.charCodeAt(e),3==(3&e)&&(n.push(r),r=0);3&e&&n.push(i.bitArray.partial(8*(3&e),r));return n}};i.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,r=[];n=(t=t.replace(/\s|0x/g,"")).length;t+="00000000";for(e=0;e<t.length;e+=8)r.push(0^parseInt(t.substr(e,8),16));return i.bitArray.clamp(r,4*n)}};i.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(t,e,n){
var r=i.codec.base32.BASE,o=i.codec.base32.REMAINING,c="",a=0,s=i.codec.base32.B,h=0,l=i.bitArray.bitLength(t);n&&(s=i.codec.base32.X);for(n=0;c.length*r<l;)c+=s.charAt((h^t[n]>>>a)>>>o),a<r?(h=t[n]<<r-a,a+=o,n++):(h<<=r,a-=r);for(;7&c.length&&!e;)c+="=";return c},toBits:function(t,e){t=t.replace(/\s|=/g,"").toUpperCase();var n,r,o=i.codec.base32.BITS,c=i.codec.base32.BASE,a=i.codec.base32.REMAINING,s=[],h=0,l=i.codec.base32.B,f=0,u="base32";e&&(l=i.codec.base32.X,u="base32hex");for(n=0;n<t.length;n++){if(0>(r=l.indexOf(t.charAt(n)))){if(!e)try{return i.codec.base32hex.toBits(t)}catch(t){}throw new i.exception.invalid("this isn't "+u+"!")}h>a?(h-=a,s.push(f^r>>>h),f=r<<o-h):f^=r<<o-(h+=c)}56&h&&s.push(i.bitArray.partial(56&h,f,1));return s}};i.codec.base32hex={fromBits:function(t,e){return i.codec.base32.fromBits(t,e,1)},toBits:function(t){return i.codec.base32.toBits(t,1)}};i.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){
var r="",o=0,c=i.codec.base64.B,a=0,s=i.bitArray.bitLength(t);n&&(c=c.substr(0,62)+"-_");for(n=0;6*r.length<s;)r+=c.charAt((a^t[n]>>>o)>>>26),6>o?(a=t[n]<<6-o,o+=26,n++):(a<<=6,o-=6);for(;3&r.length&&!e;)r+="=";return r},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,r,o=[],c=0,a=i.codec.base64.B,s=0;e&&(a=a.substr(0,62)+"-_");for(n=0;n<t.length;n++){if(0>(r=a.indexOf(t.charAt(n))))throw new i.exception.invalid("this isn't base64!");26<c?(c-=26,o.push(s^r>>>c),s=r<<32-c):s^=r<<32-(c+=6)}56&c&&o.push(i.bitArray.partial(56&c,s,1));return o}};i.codec.base64url={fromBits:function(t){return i.codec.base64.fromBits(t,1,1)},toBits:function(t){return i.codec.base64.toBits(t,1)}};i.hash.sha256=function(t){this.b[0]||this.O();t?(this.F=t.F.slice(0),this.A=t.A.slice(0),this.l=t.l):this.reset()};i.hash.sha256.hash=function(t){return(new i.hash.sha256).update(t).finalize()};i.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},
update:function(t){"string"==typeof t&&(t=i.codec.utf8String.toBits(t));var e,n=this.A=i.bitArray.concat(this.A,t);e=this.l;if(9007199254740991<(t=this.l=e+i.bitArray.bitLength(t)))throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var o=new Uint32Array(n),c=0;for(e=512+e-(512+e&511);e<=t;e+=512)r(this,o.subarray(16*c,16*(c+1))),c+=1;n.splice(0,16*c)}else for(e=512+e-(512+e&511);e<=t;e+=512)r(this,n.splice(0,16));return this},finalize:function(){var t,e=this.A,n=this.F;for(t=(e=i.bitArray.concat(e,[i.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);e.push(Math.floor(this.l/4294967296));for(e.push(0|this.l);e.length;)r(this,e.splice(0,16));this.reset();return n},Y:[],b:[],O:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}for(var e,i,n=0,r=2;64>n;r++){i=!0;for(e=2;e*e<=r;e++)if(0==r%e){i=!1;break}i&&(8>n&&(this.Y[n]=t(Math.pow(r,.5))),this.b[n]=t(Math.pow(r,1/3)),n++)}}};function r(t,e){
var i,n,r,o=t.F,c=t.b,a=o[0],s=o[1],h=o[2],l=o[3],f=o[4],u=o[5],d=o[6],p=o[7];for(i=0;64>i;i++)16>i?n=e[i]:(n=e[i+1&15],r=e[i+14&15],n=e[15&i]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+e[15&i]+e[i+9&15]|0),n=n+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(d^f&(u^d))+c[i],p=d,d=u,u=f,f=l+n|0,l=h,h=s,a=n+((s=a)&h^l&(s^h))+(s>>>2^s>>>13^s>>>22^s<<30^s<<19^s<<10)|0;o[0]=o[0]+a|0;o[1]=o[1]+s|0;o[2]=o[2]+h|0;o[3]=o[3]+l|0;o[4]=o[4]+f|0;o[5]=o[5]+u|0;o[6]=o[6]+d|0;o[7]=o[7]+p|0}i.mode.ccm={name:"ccm",G:[],listenProgress:function(t){i.mode.ccm.G.push(t)},unListenProgress:function(t){-1<(t=i.mode.ccm.G.indexOf(t))&&i.mode.ccm.G.splice(t,1)},fa:function(t){var e,n=i.mode.ccm.G.slice();for(e=0;e<n.length;e+=1)n[e](t)},encrypt:function(t,e,n,r,o){var c,a=e.slice(0),s=i.bitArray,h=s.bitLength(n)/8,l=s.bitLength(a)/8;o=o||64;r=r||[];if(7>h)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(c=2;4>c&&l>>>8*c;c++);c<15-h&&(c=15-h);n=s.clamp(n,8*(15-c))
;e=i.mode.ccm.V(t,e,n,r,o,c);a=i.mode.ccm.C(t,a,n,e,o,c);return s.concat(a.data,a.tag)},decrypt:function(t,e,n,r,o){o=o||64;r=r||[];var c=i.bitArray,a=c.bitLength(n)/8,s=c.bitLength(e),h=c.clamp(e,s-o),l=c.bitSlice(e,s-o);s=(s-o)/8;if(7>a)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;4>e&&s>>>8*e;e++);e<15-a&&(e=15-a);n=c.clamp(n,8*(15-e));h=i.mode.ccm.C(t,h,n,l,o,e);t=i.mode.ccm.V(t,h.data,n,r,o,e);if(!c.equal(h.tag,t))throw new i.exception.corrupt("ccm: tag doesn't match");return h.data},na:function(t,e,n,r,o,c){var a=[],s=i.bitArray,h=s.i;r=[s.partial(8,(e.length?64:0)|r-2<<2|c-1)];(r=s.concat(r,n))[3]|=o;r=t.encrypt(r);if(e.length)for(65279>=(n=s.bitLength(e)/8)?a=[s.partial(16,n)]:4294967295>=n&&(a=s.concat([s.partial(16,65534)],[n])),a=s.concat(a,e),e=0;e<a.length;e+=4)r=t.encrypt(h(r,a.slice(e,e+4).concat([0,0,0])));return r},V:function(t,e,n,r,o,c){var a=i.bitArray,s=a.i;if((o/=8)%2||4>o||16<o)throw new i.exception.invalid("ccm: invalid tag length")
;if(4294967295<r.length||4294967295<e.length)throw new i.exception.bug("ccm: can't deal with 4GiB or more data");n=i.mode.ccm.na(t,r,n,o,a.bitLength(e)/8,c);for(r=0;r<e.length;r+=4)n=t.encrypt(s(n,e.slice(r,r+4).concat([0,0,0])));return a.clamp(n,8*o)},C:function(t,e,n,r,o,c){var a,s=i.bitArray;a=s.i;var h=e.length,l=s.bitLength(e),f=h/50,u=f;n=s.concat([s.partial(8,c-1)],n).concat([0,0,0]).slice(0,4);r=s.bitSlice(a(r,t.encrypt(n)),0,o);if(!h)return{tag:r,data:[]};for(a=0;a<h;a+=4)a>f&&(i.mode.ccm.fa(a/h),f+=u),n[3]++,o=t.encrypt(n),e[a]^=o[0],e[a+1]^=o[1],e[a+2]^=o[2],e[a+3]^=o[3];return{tag:r,data:s.clamp(e,l)}}};i.mode.ocb2={name:"ocb2",encrypt:function(t,e,n,r,o,c){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");var a,s=i.mode.ocb2.S,h=i.bitArray,l=h.i,f=[0,0,0,0];n=s(t.encrypt(n));var u,d=[];r=r||[];o=o||64;for(a=0;a+4<e.length;a+=4)f=l(f,u=e.slice(a,a+4)),d=d.concat(l(n,t.encrypt(l(n,u)))),n=s(n);u=e.slice(a);e=h.bitLength(u)
;a=t.encrypt(l(n,[0,0,0,e]));u=h.clamp(l(u.concat([0,0,0]),a),e);f=l(f,l(u.concat([0,0,0]),a));f=t.encrypt(l(f,l(n,s(n))));r.length&&(f=l(f,c?r:i.mode.ocb2.pmac(t,r)));return d.concat(h.concat(u,h.clamp(f,o)))},decrypt:function(t,e,n,r,o,c){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");o=o||64;var a,s,h=i.mode.ocb2.S,l=i.bitArray,f=l.i,u=[0,0,0,0],d=h(t.encrypt(n)),p=i.bitArray.bitLength(e)-o,m=[];r=r||[];for(n=0;n+4<p/32;n+=4)a=f(d,t.decrypt(f(d,e.slice(n,n+4)))),u=f(u,a),m=m.concat(a),d=h(d);s=p-32*n;a=t.encrypt(f(d,[0,0,0,s]));a=f(a,l.clamp(e.slice(n),s).concat([0,0,0]));u=f(u,a);u=t.encrypt(f(u,f(d,h(d))));r.length&&(u=f(u,c?r:i.mode.ocb2.pmac(t,r)));if(!l.equal(l.clamp(u,o),l.bitSlice(e,p)))throw new i.exception.corrupt("ocb: tag doesn't match");return m.concat(l.clamp(a,s))},pmac:function(t,e){var n,r=i.mode.ocb2.S,o=i.bitArray,c=o.i,a=[0,0,0,0],s=c(s=t.encrypt([0,0,0,0]),r(r(s)));for(n=0;n+4<e.length;n+=4)s=r(s),
a=c(a,t.encrypt(c(s,e.slice(n,n+4))));n=e.slice(n);128>o.bitLength(n)&&(s=c(s,r(s)),n=o.concat(n,[-2147483648,0,0,0]));a=c(a,n);return t.encrypt(c(r(c(s,r(s))),a))},S:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}};i.mode.gcm={name:"gcm",encrypt:function(t,e,n,r,o){var c=e.slice(0);e=i.bitArray;r=r||[];t=i.mode.gcm.C(!0,t,c,r,n,o||128);return e.concat(t.data,t.tag)},decrypt:function(t,e,n,r,o){var c=e.slice(0),a=i.bitArray,s=a.bitLength(c);r=r||[];(o=o||128)<=s?(e=a.bitSlice(c,s-o),c=a.bitSlice(c,0,s-o)):(e=c,c=[]);t=i.mode.gcm.C(!1,t,c,r,n,o);if(!a.equal(t.tag,e))throw new i.exception.corrupt("gcm: tag doesn't match");return t.data},ka:function(t,e){var n,r,o,c,a,s=i.bitArray.i;o=[0,0,0,0];c=e.slice(0);for(n=0;128>n;n++){(r=0!=(t[Math.floor(n/32)]&1<<31-n%32))&&(o=s(o,c));a=0!=(1&c[3]);for(r=3;0<r;r--)c[r]=c[r]>>>1|(1&c[r-1])<<31;c[0]>>>=1;a&&(c[0]^=-520093696)}return o},j:function(t,e,n){var r,o=n.length;e=e.slice(0)
;for(r=0;r<o;r+=4)e[0]^=4294967295&n[r],e[1]^=4294967295&n[r+1],e[2]^=4294967295&n[r+2],e[3]^=4294967295&n[r+3],e=i.mode.gcm.ka(e,t);return e},C:function(t,e,n,r,o,c){var a,s,h,l,f,u,d,p,m=i.bitArray;u=n.length;d=m.bitLength(n);p=m.bitLength(r);s=m.bitLength(o);a=e.encrypt([0,0,0,0]);96===s?(o=o.slice(0),o=m.concat(o,[1])):(o=i.mode.gcm.j(a,[0,0,0,0],o),o=i.mode.gcm.j(a,o,[0,0,Math.floor(s/4294967296),4294967295&s]));s=i.mode.gcm.j(a,[0,0,0,0],r);f=o.slice(0);r=s.slice(0);t||(r=i.mode.gcm.j(a,s,n));for(l=0;l<u;l+=4)f[3]++,h=e.encrypt(f),n[l]^=h[0],n[l+1]^=h[1],n[l+2]^=h[2],n[l+3]^=h[3];n=m.clamp(n,d);t&&(r=i.mode.gcm.j(a,s,n));t=[Math.floor(p/4294967296),4294967295&p,Math.floor(d/4294967296),4294967295&d];r=i.mode.gcm.j(a,r,t);h=e.encrypt(o);r[0]^=h[0];r[1]^=h[1];r[2]^=h[2];r[3]^=h[3];return{tag:m.bitSlice(r,0,c),data:n}}};i.misc.hmac=function(t,e){this.W=e=e||i.hash.sha256;var n,r=[[],[]],o=e.prototype.blockSize/32;this.w=[new e,new e];t.length>o&&(t=e.hash(t))
;for(n=0;n<o;n++)r[0][n]=909522486^t[n],r[1][n]=1549556828^t[n];this.w[0].update(r[0]);this.w[1].update(r[1]);this.R=new e(this.w[0])};i.misc.hmac.prototype.encrypt=i.misc.hmac.prototype.mac=function(t){if(this.aa)throw new i.exception.invalid("encrypt on already updated hmac called!");this.update(t);return this.digest(t)};i.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=!1};i.misc.hmac.prototype.update=function(t){this.aa=!0;this.R.update(t)};i.misc.hmac.prototype.digest=function(){var t=this.R.finalize();t=new this.W(this.w[1]).update(t).finalize();this.reset();return t};i.misc.pbkdf2=function(t,e,n,r,o){n=n||1e4;if(0>r||0>n)throw new i.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=i.codec.utf8String.toBits(t));"string"==typeof e&&(e=i.codec.utf8String.toBits(e));t=new(o=o||i.misc.hmac)(t);var c,a,s,h,l=[],f=i.bitArray;for(h=1;32*l.length<(r||1);h++){o=c=t.encrypt(f.concat(e,[h]));for(a=1;a<n;a++)for(c=t.encrypt(c),
s=0;s<c.length;s++)o[s]^=c[s];l=l.concat(o)}r&&(l=f.clamp(l,r));return l};i.prng=function(t){this.c=[new i.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=t;this.D=!1;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=65536;this.T=[0,48,64,96,128,192,256,384,512,768,1024];this.da=3e4;this.ba=80};i.prng.prototype={randomWords:function(t,e){var n,r,o=[];if((n=this.isReady(e))===this.u)throw new i.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I);r=[];var c,h=0;this.Z=r[0]=(new Date).valueOf()+this.da;for(c=0;16>c;c++)r.push(4294967296*Math.random()|0);for(c=0;c<this.c.length&&(r=r.concat(this.c[c].finalize()),h+=this.m[c],this.m[c]=0,n||!(this.P&1<<c));c++);this.P>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.m.push(0));this.f-=h;h>this.o&&(this.o=h);this.P++;this.b=i.hash.sha256.hash(this.b.concat(r))
;this.L=new i.cipher.aes(this.b);for(n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<t;n+=4)0==(n+1)%this.ca&&a(this),r=s(this),o.push(r[0],r[1],r[2],r[3]);a(this);return o.slice(0,t)},setDefaultParanoia:function(t,e){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=t},addEntropy:function(t,e,n){n=n||"user";var r,c,a=(new Date).valueOf(),s=this.H[n],h=this.isReady(),l=0;void 0===(r=this.U[n])&&(r=this.U[n]=this.ha++);void 0===s&&(s=this.H[n]=0);this.H[n]=(this.H[n]+1)%this.c.length;switch(typeof t){case"number":void 0===e&&(e=1);this.c[s].update([r,this.N++,1,e,a,1,0|t]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(t))){c=[];for(n=0;n<t.length;n++)c.push(t[n]);t=c}else for("[object Array]"!==n&&(l=1),n=0;n<t.length&&!l;n++)"number"!=typeof t[n]&&(l=1);if(!l){
if(void 0===e)for(n=e=0;n<t.length;n++)for(c=t[n];0<c;)e++,c>>>=1;this.c[s].update([r,this.N++,2,e,a,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length);this.c[s].update([r,this.N++,3,e,a,t.length]);this.c[s].update(t);break;default:l=1}if(l)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[s]+=e;this.f+=e;h===this.u&&(this.isReady()!==this.u&&o("seeded",Math.max(this.o,this.f)),o("progress",this.getProgress()))},isReady:function(t){t=this.T[void 0!==t?t:this.M];return this.o&&this.o>=t?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=t?this.J|this.u:this.u},getProgress:function(t){t=this.T[t||this.M];return this.o>=t||this.f>t?1:this.f/t},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:h(this,this.ma),mouseCollector:h(this,this.oa),keyboardCollector:h(this,this.la),accelerometerCollector:h(this,this.ea),touchCollector:h(this,this.qa)}
;if(window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),
window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(t,e){this.K[t][this.ga++]=e},removeEventListener:function(t,e){var i,n,r=this.K[t],o=[];for(n in r)r.hasOwnProperty(n)&&r[n]===e&&o.push(n);for(i=0;i<o.length;i++)delete r[n=o[i]]},la:function(){c(this,1)},oa:function(t){var e,i;try{e=t.x||t.clientX||t.offsetX||0,i=t.y||t.clientY||t.offsetY||0}catch(t){i=e=0}0!=e&&0!=i&&this.addEntropy([e,i],2,"mouse");c(this,0)},qa:function(t){t=t.touches[0]||t.changedTouches[0];this.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch");c(this,0)},ma:function(){c(this,2)},ea:function(t){t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z;if(window.orientation){var e=window.orientation
;"number"==typeof e&&this.addEntropy(e,1,"accelerometer")}t&&this.addEntropy(t,2,"accelerometer");c(this,0)}};function o(t,e){var n,r=i.random.K[t],o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);for(n=0;n<o.length;n++)o[n](e)}function c(t,e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?t.addEntropy(window.performance.now(),e,"loadtime"):t.addEntropy((new Date).valueOf(),e,"loadtime")}function a(t){t.b=s(t).concat(s(t));t.L=new i.cipher.aes(t.b)}function s(t){for(var e=0;4>e&&(t.h[e]=t.h[e]+1|0,!t.h[e]);e++);return t.L.encrypt(t.h)}function h(t,e){return function(){e.apply(t,arguments)}}i.random=new i.prng(6);t:try{var l,f,u,d;if(d=void 0!==t&&t.exports){var p;try{p=require("crypto")}catch(t){p=null}d=f=p}if(d&&f.randomBytes)l=f.randomBytes(128),l=new Uint32Array(new Uint8Array(l).buffer),i.random.addEntropy(l,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){u=new Uint32Array(32)
;if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(u);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(u)}i.random.addEntropy(u,1024,"crypto['getRandomValues']")}}catch(t){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(t))}i.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(t,e,n,r){n=n||{};r=r||{};var o,c=i.json,a=c.g({iv:i.random.randomWords(4,0)},c.defaults);c.g(a,n);n=a.adata;"string"==typeof a.salt&&(a.salt=i.codec.base64.toBits(a.salt));"string"==typeof a.iv&&(a.iv=i.codec.base64.toBits(a.iv));if(!i.mode[a.mode]||!i.cipher[a.cipher]||"string"==typeof t&&100>=a.iter||64!==a.ts&&96!==a.ts&&128!==a.ts||128!==a.ks&&192!==a.ks&&256!==a.ks||2>a.iv.length||4<a.iv.length)throw new i.exception.invalid("json encrypt: invalid parameters")
;"string"==typeof t?(t=(o=i.misc.cachedPbkdf2(t,a)).key.slice(0,a.ks/32),a.salt=o.salt):i.ecc&&t instanceof i.ecc.elGamal.publicKey&&(o=t.kem(),a.kemtag=o.tag,t=o.key.slice(0,a.ks/32));"string"==typeof e&&(e=i.codec.utf8String.toBits(e));"string"==typeof n&&(a.adata=n=i.codec.utf8String.toBits(n));o=new i.cipher[a.cipher](t);c.g(r,a);r.key=t;a.ct="ccm"===a.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e instanceof ArrayBuffer?i.arrayBuffer.ccm.encrypt(o,e,a.iv,n,a.ts):i.mode[a.mode].encrypt(o,e,a.iv,n,a.ts);return a},encrypt:function(t,e,n,r){var o=i.json,c=o.ja.apply(o,arguments);return o.encode(c)},ia:function(t,e,n,r){n=n||{};r=r||{};var o,c,a=i.json;o=(e=a.g(a.g(a.g({},a.defaults),e),n,!0)).adata;"string"==typeof e.salt&&(e.salt=i.codec.base64.toBits(e.salt));"string"==typeof e.iv&&(e.iv=i.codec.base64.toBits(e.iv))
;if(!i.mode[e.mode]||!i.cipher[e.cipher]||"string"==typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)throw new i.exception.invalid("json decrypt: invalid parameters");"string"==typeof t?(t=(c=i.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=c.salt):i.ecc&&t instanceof i.ecc.elGamal.secretKey&&(t=t.unkem(i.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32));"string"==typeof o&&(o=i.codec.utf8String.toBits(o));c=new i.cipher[e.cipher](t);o="ccm"===e.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e.ct instanceof ArrayBuffer?i.arrayBuffer.ccm.decrypt(c,e.ct,e.iv,e.tag,o,e.ts):i.mode[e.mode].decrypt(c,e.ct,e.iv,o,e.ts);a.g(r,e);r.key=t;return 1===n.raw?o:i.codec.utf8String.fromBits(o)},decrypt:function(t,e,n,r){var o=i.json;return o.ia(t,o.decode(e),n,r)},encode:function(t){var e,n="{",r="";for(e in t)if(t.hasOwnProperty(e)){
if(!e.match(/^[a-z0-9]+$/i))throw new i.exception.invalid("json encode: invalid property name");n+=r+'"'+e+'":';r=",";switch(typeof t[e]){case"number":case"boolean":n+=t[e];break;case"string":n+='"'+escape(t[e])+'"';break;case"object":n+='"'+i.codec.base64.fromBits(t[e],0)+'"';break;default:throw new i.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(t){if(!(t=t.replace(/\s/g,"")).match(/^\{.*\}$/))throw new i.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,n,r={};for(e=0;e<t.length;e++){if(!(n=t[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new i.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?i.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(t,e,n){void 0===t&&(t={});if(void 0===e)return t
;for(var r in e)if(e.hasOwnProperty(r)){if(n&&void 0!==t[r]&&t[r]!==e[r])throw new i.exception.invalid("required parameter overridden");t[r]=e[r]}return t},sa:function(t,e){var i,n={};for(i in t)t.hasOwnProperty(i)&&t[i]!==e[i]&&(n[i]=t[i]);return n},ra:function(t,e){var i,n={};for(i=0;i<e.length;i++)void 0!==t[e[i]]&&(n[e[i]]=t[e[i]]);return n}};i.encrypt=i.json.encrypt;i.decrypt=i.json.decrypt;i.misc.pa={};i.misc.cachedPbkdf2=function(t,e){var n,r=i.misc.pa;n=(e=e||{}).iter||1e3;(n=(r=r[t]=r[t]||{})[n]=r[n]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):i.random.randomWords(2,0)})[r=void 0===e.salt?n.firstSalt:e.salt]=n[r]||i.misc.pbkdf2(t,r,e.iter);return{key:n[r].slice(0),salt:r.slice(0)}};void 0!==t&&t.exports&&(t.exports=i);"function"==typeof define&&define([],(function(){return i}))}}]);
//# sourceMappingURL=dec1646e8687db936589.js.map