"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[48657,38568,1478],{156465:(e,n,t)=>{t.d(n,{wg:()=>b,so:()=>E,ZP:()=>y});var r=t(363010),i=t(64914),o=t(756328),l=t(356004),a=t(1812),c=t(653772),u=t(940712),s=t(890889),d=t(613258),f=t(998689),p=t(461061);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done);l=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;i=e}finally{try{l||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t)
;if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return"entity_type"in e?{entityType:e.entity_type,channelId:e.channel_id}:e}function b(e){var n=h(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[l.Z],1),t=n[0],r=g(e),i=r.entityType,o=r.channelId,a=i===f.WX.EXTERNAL;if(a)return!0;var c=t.getChannel(o);return null!=c&&s.ZP.canEveryoneRole(p.Plq.VIEW_CHANNEL,c)}function E(e){var n=h(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[a.ZP,l.Z,c.Z,o.Z],4),t=n[0],r=n[1],s=n[2],p=n[3];if((0,d.Z2)(e))return!1;var v=e.guild_id,g=e.channel_id,E=e.entity_type===f.WX.EXTERNAL,y=E?t.getDefaultChannel(e.guild_id):r.getChannel(g),m=s.getGuild(v),j=p.getStageInstanceByChannel(g);return!!(0,i.b)(u.Z,m,y,j)&&(null!=y&&b(e,[r]))}function y(e){return(0,
r.e7)([a.ZP,l.Z,c.Z,o.Z],(function(){return E(e,[a.ZP,l.Z,c.Z,o.Z])}),[e])}},964587:(e,n,t)=>{t.d(n,{Z:()=>l});var r=t(363010),i=t(992054),o=t(653772);function l(e,n){return(0,r.cj)([o.Z,i.Z],(function(){var t=o.Z.getGuild(e),r=null!=t;null==t&&null!=n&&(t=i.Z.getCachedGuildByEventId(n));return{isMember:r,guild:t}}),[e,n])}},204292:(e,n,t)=>{t.d(n,{Q:()=>w,Z:()=>S});var r=t(785893),i=t(667294),o=t(294184),l=t.n(o),a=t(363010),c=t(331535),u=t(485923),s=t(808525),d=t(940712),f=t(969225),p=t(757987),v=t(655686),h=t(194266),g=t(989982),b=t(532390),E=t(99912),y=t(666872),m=t(431707),j=t(792193),O=t(998689),Z=t(461061),C=t(959797),N=t(919569),x=t.n(N);function P(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){P(e,n,t[n])}))}return e}function k(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var w;!function(e){e[e.BANNER=0]="BANNER";e[e.THUMBNAIL=1]="THUMBNAIL"}(w||(w={}));function I(e){var n=e.channel,t=e.onClick,o=(0,a.e7)([d.Z],(function(){return d.Z.can(Z.Plq.MANAGE_EVENTS,n)}),[n]),f=(0,a.e7)([d.Z],(function(){return!n.isGuildVocal()||d.Z.can(Z.Plq.CONNECT,n)}),[n]),v=i.useMemo((function(){return(0,u.Z)(n)}),[n]),h=(0,s.KS)(n);return(0,r.jsx)(p.ZP,{text:C.Z.Messages.GUILD_EVENT_CANNOT_CONNECT,shouldShow:!f&&null!=t,
children:function(e){var i;return(0,r.jsxs)(c.P3,k(_({},e),{className:l()(x().inline,x().channelContainer,(i={},P(i,x().channelContainerEnabled,f&&null!=t),P(i,x().channelContainerDisabled,!f&&null!=t),i)),onClick:t,children:[(0,r.jsx)(p.ZP,{text:C.Z.Messages.GUILD_EVENT_PRIVATE_CHANNEL_TOOLTIP,shouldShow:o&&v&&f&&null!=t,children:function(e){return null!=h?(0,r.jsx)(h,k(_({},e),{width:20,height:20,className:x().icon})):null}}),(0,r.jsx)(c.xv,{variant:"text-sm/normal",color:"none",className:x().channelLocation,children:n.name})]}))}})}function T(e){var n=e.guild,t=e.channel,i=e.onJoinClick,o=e.handleLocationClick,a=e.location,u=e.isExternal;return e.isHub?null==n?(0,r.jsx)("div",{}):(0,r.jsxs)("div",{className:x().inline,children:[(0,r.jsx)(f.Z,{className:x().guildIcon,size:f.Z.Sizes.MINI,active:!0,guild:n}),(0,r.jsx)(c.xv,{variant:"text-sm/normal",color:"header-secondary",children:null==n?void 0:n.name})]}):null!=t?(0,r.jsx)(I,{channel:t,onClick:i}):(0,r.jsxs)(c.P3,{
className:x().inline,onClick:o,children:[(0,r.jsx)(v.Z,{height:20,width:20,className:l()(x().channelContainer,x().icon)}),(0,r.jsx)(c.xv,{className:u?x().externalLocation:x().channelLocation,variant:"text-sm/normal",children:(0,h.m)(a,!0)})]})}function S(e){var n,t=e.className,i=e.guild,o=e.channel,a=e.creator,u=e.userCount,s=e.name,d=e.entityType,f=e.description,p=e.startTime,v=e.imageLocation,h=void 0===v?w.BANNER:v,Z=e.imageSource,C=e.isActive,N=e.isUserLurking,_=e.isEnded,k=e.isJoined,I=void 0!==k&&k,S=e.isMember,L=void 0!==S&&S,D=e.isHub,M=void 0!==D&&D,G=e.speakers,A=e.speakerCount,U=e.rsvped,R=e.canInvite,V=e.location,H=e.truncate,B=e.onContextMenu,J=e.onJoinClick,X=e.onJoinGuildClick,z=e.onGoToGuildClick,F=e.onRsvpClick,W=e.onStartClick,q=e.onInviteClick,Y=e.onEndClick,K=e.onClick,Q=e.isNew,$=(0,g.Q)(o,d),ee=d===O.WX.EXTERNAL,ne=ee?function(e){return e.stopPropagation()}:void 0;return(0,r.jsxs)(c.P3,{onClick:K,onContextMenu:B,className:l()(x().card,(n={},P(n,x().joined,I),
P(n,x().lurking,N),n),t),children:[h===w.BANNER&&(0,r.jsx)(E.Z,{source:Z}),(0,r.jsx)(y.ZP,{userCount:u,creator:a,name:s,description:f,startTime:p,imageSource:h===w.THUMBNAIL?Z:null,isActive:C,isEnded:_,truncate:H,guildId:null==i?void 0:i.id,eventType:d,isHub:M,isNew:Q}),C&&null!=i&&null!=G&&A>0&&(0,r.jsx)(j.Z,{guild:i,speakers:G,speakerCount:A,className:x().spacing}),(0,r.jsx)("hr",{className:x().divider}),(0,r.jsxs)("div",{className:l()(x().inline,x().footer),children:[(0,r.jsx)(T,{guild:i,channel:o,onJoinClick:J,handleLocationClick:ne,location:V,isExternal:ee,isHub:M}),M?(0,r.jsx)(m.Z,{isActive:C,isUserLurking:N,isMember:L,rsvped:U,onRsvpClick:F,onJoinGuildClick:X,onGoToGuildClick:z,guildName:null==i?void 0:i.name,canInvite:R,isChannelPublic:$,onInviteClick:q}):(0,r.jsx)(b.ZP,{entityType:d,isJoined:I,isActive:C,isUserLurking:N,rsvped:U,canInvite:R,isChannelPublic:$,onContextMenu:B,onJoinClick:J,onRsvpClick:F,onStartClick:W,onInviteClick:q,onEndClick:Y})]})]})}},248657:(e,n,t)=>{
t.r(n);t.d(n,{default:()=>se});var r=t(785893),i=t(667294),o=t(496486),l=t.n(o),a=t(277563),c=t(331535),u=t(320646),s=t(9523),d=t(825816),f=t(1812),p=t(210854),v=t(653772),h=t(283369),g=t(272729),b=t(695756),E=t(719455),y=t(67416),m=t(897576),j=t(932847),O=t(90816),Z=t(368750),C=t(498814),N=t(217891),x=t(363010),P=t(218024),_=t(630695),k=t(312855),w=t(756328),I=t(356004),T=t(940712),S=t(733285),L=t(859023),D=t(455040),M=t(613258),G=t(156465),A=t(594743);var U=t(964587),R=t(87328),V=t(275352),H=t(204292),B=t(952580),J=t(461061);function X(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function z(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t
}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function F(e){var n,t=e.guildEvent,i=e.guildId,o=e.truncate,l=e.onActionTaken,a=e.className,c=e.isNew,u=t.id,s=t.guild_id,d=t.channel_id,f=t.creator_id,p=t.name,h=t.description,g=t.scheduled_start_time,b=t.user_count,E=t.entity_type,y=t.image,m=(0,x.e7)([M.ZP],(function(){return M.ZP.hasRsvp(u,s)}),[u,s]),j=(0,x.e7)([_.Z],(function(){return _.Z.isLurking(s)}),[s]),O=(0,x.e7)([w.Z],(function(){return w.Z.getStageInstanceByChannel(d)}),[d]),Z=(0,x.e7)([I.Z],(function(){return I.Z.getChannel(d)}),[d]),C=(0,x.e7)([L.default],(function(){return L.default.getUser(f)}),[f]),N=function(e){var n=e.id,t=e.data,r=t.guild,i=t.instance,o=t.speakers,l=t.participantCount,a=e.context,c=(0,x.e7)([v.Z,I.Z],(function(){var e;return v.Z.getGuild(null===(e=I.Z.getChannel(n))||void 0===e?void 0:e.getGuildId())}),[n]),u=(0,x.e7)([w.Z],(function(){return w.Z.getStageInstanceByChannel(n)}),[n]),s=(0,
A.w8)(n,k.pV.SPEAKER),d=(0,A.Rk)(n),f=null!=c?c:r,p=null!=u?u:i,h=null!=u?s:o,g=(null!=u?d:l)-h.length;return{channelId:n,guild:f,stage:p,speakers:h,audienceCount:g,context:a}}({id:d,data:{guild:null,instance:O,speakers:[],participantCount:0},context:{guildId:s,instance:O}}).speakers,F=(0,x.e7)([S.Z],(function(){return S.Z.getChannelId()})),W=(0,M.xt)(t),q=(0,M.Z2)(t),Y=F===d&&null!=F&&W,K=N.filter((function(e){return e.type===k.Ui.VOICE})),Q=K.length,$=(0,x.e7)([T.Z],(function(){return T.Z.can(J.Plq.CONNECT,Z)}),[Z]),ee=(0,G.ZP)(t),ne=(0,U.Z)(s,u),te=ne.isMember,re=ne.guild,ie=(0,B.Z)({guild:re,channel:Z,guildScheduledEvent:t,isActive:W,rsvped:m,onActionTaken:l}),oe=(0,P.Z)(i),le=j?void 0:function(){return(0,D.bO)({eventId:u,parentGuildId:i})};return(0,r.jsx)(H.Z,z(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){X(e,n,t[n])}))}return e}({guild:re,channel:Z,creator:C,userCount:b,name:p,entityType:E,description:null!=h?h:void 0,location:null!==(n=(0,R.cS)(t))&&void 0!==n?n:void 0,startTime:g,imageSource:null!=y?(0,V.Z)(t):void 0,imageLocation:H.Q.THUMBNAIL,isActive:W,isUserLurking:j,isEnded:q,isJoined:Y,isMember:te,isHub:oe,speakers:K,canConnect:$,speakerCount:Q,rsvped:m,canInvite:ee},ie),{className:a,onClick:le,truncate:o,isNew:c}))}var W=t(7046),q=t(422877),Y=t(959797),K=t(596113),Q=t.n(K);function $(e){var n=e.guildId,t=e.onClose,i=d.Z.useExperiment({guildId:n}).showHubEventsList,o=(0,x.e7)([v.Z,T.Z],(function(){var e=v.Z.getGuild(n);return T.Z.can(J.Plq.MANAGE_ROLES,e)}),[n]),l=(0,x.e7)([v.Z],(function(){var e=v.Z.getGuild(n);return i&&(null==e?void 0:e.hasFeature(J.oNc.HUB))}),[n,i]);return(0,r.jsxs)("div",{className:Q().container,children:[(0,r.jsx)(q.Z,{children:(0,r.jsx)("div",{className:Q().circle,
children:(0,r.jsx)(b.Z,{height:40,width:40,className:Q().icon})})}),(0,r.jsx)(c.X6,{color:"header-primary",variant:"heading-xl/semibold",className:Q().title,children:l?Y.Z.Messages.HUB_EVENTS_HEADER_TITLE:Y.Z.Messages.GUILD_EVENT_MODAL_EMPTY_TITLE}),(0,r.jsx)(c.xv,{color:"header-secondary",variant:"text-sm/normal",className:Q().subtitle,children:l?Y.Z.Messages.HUB_EVENTS_HEADER_DESCRIPTION:Y.Z.Messages.GUILD_EVENT_MODAL_EMPTY_SUBTITLE}),o&&(0,r.jsx)(c.xv,{color:"header-secondary",variant:"text-sm/normal",className:Q().roleTip,children:Y.Z.Messages.GUILD_EVENT_ROLE_TIP.format({onClick:function(){W.Z.open(n,J.pNK.ROLES);t()}})})]})}var ee=t(143074),ne=t(998689),te=t(977898),re=t(555175),ie=t.n(re);function oe(e,n,t,r,i,o,l){try{var a=e[o](l),c=a.value}catch(e){t(e);return}a.done?n(c):Promise.resolve(c).then(r,i)}function le(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function l(e){oe(o,r,i,l,a,"next",e)}function a(e){
oe(o,r,i,l,a,"throw",e)}l(void 0)}))}}function ae(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ce(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var ue=function(e,n){var t,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,
r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function se(e){var n=e.transitionState,o=e.onClose,x=e.guildId,P=(0,g.Dt)(),_=(0,C.Z)(x),k=(0,N.ZP)(x),w=i.useRef(h.ZP.ackMessageId(x,te.W.GUILD_EVENT)),I=(0,ee.Z)();i.useEffect((function(){Z.Z.getGuildEventUserCounts(x);Z.Z.getGuildEventsForCurrentUser(x)}),[x]);i.useEffect((function(){
var e=v.Z.getGuild(x);if(null==e?void 0:e.hasFeature(J.oNc.HUB)){if(d.Z.getCurrentConfig({guildId:x}).showHubEventsList){var n=f.ZP.getDefaultChannel(x);null!=n&&s.c(n.id)}}}),[x]);i.useEffect((function(){j.default.track(J.rMx.OPEN_MODAL,{type:ne.zw,guild_id:x,guild_events_count:k.length})}),[]);i.useEffect((function(){l()(k).map((function(e){return e.creator_id})).filter(O.lm).uniq().forEach((function(e){p.Z.requestMember(x,e)}))}),[x,k]);i.useEffect((function(){null!=x&&(0,u.Ju)(x,te.W.GUILD_EVENT)}),[x]);return(0,r.jsxs)(y.Y0,{size:y.Cg.MEDIUM,transitionState:n,"aria-labelledby":P,children:[(0,r.jsxs)(y.xB,{className:ie().header,children:[(0,r.jsx)(b.Z,{className:ie().icon}),(0,r.jsx)(c.X6,{id:P,variant:"heading-md/semibold",children:k.length>0?Y.Z.Messages.GUILD_EVENTS_PLURAL.format({number:k.length}):Y.Z.Messages.GUILD_EVENTS}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:ie().divider,children:"|"}),(0,r.jsx)(c.zx,{size:c.zx.Sizes.MIN,onClick:function(){(0,
m.ZD)(le((function(){var e,n;return ue(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(66150),t.e(29655),t.e(42348),t.e(19758),t.e(91147),t.e(95321),t.e(22414)]).then(t.bind(t,988732))];case 1:e=i.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,ce(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){ae(e,n,t[n])}))}return e}({},e),{guildId:x}))}]}}))})),I)},innerClassName:ie().button,children:Y.Z.Messages.SCHEDULE_EVENT})]}),(0,r.jsx)(c.P3,{onClick:o,className:ie().iconButton,"aria-label":Y.Z.Messages.CLOSE,children:(0,r.jsx)(E.Z,{className:ie().icon})})]}),(0,r.jsx)(y.hz,{className:ie().content,children:k.length>0?k.map((function(e){return(0,r.jsx)(F,{guildEvent:e,guildId:x,onActionTaken:o,
className:ie().eventCard,isNew:null!=w.current&&a.default.compare(e.id,w.current)>0},e.id)})):(0,r.jsx)($,{guildId:x,onClose:o})})]})}},792193:(e,n,t)=>{t.d(n,{Z:()=>f});var r=t(785893),i=(t(667294),t(294184)),o=t.n(i),l=t(331535),a=t(993167),c=t(766936),u=t(959797),s=t(811948),d=t.n(s);function f(e){var n=e.guild,t=e.speakers,i=e.speakerCount,s=e.className,f=t.slice(0,5),p=f.map((function(e){var t,i;return(0,r.jsxs)("div",{className:d().speakerContainer,children:[(0,r.jsx)(c.ZP,{src:null==e||null===(t=e.user)||void 0===t?void 0:t.getAvatarURL(n.id,20),size:c.ZP.Sizes.SIZE_20,className:d().avatar,"aria-label":"".concat(null==e?void 0:e.userNick,"-avatar")}),(0,r.jsx)("div",{className:d().textInGridContainer,children:(0,r.jsx)(l.xv,{color:"header-secondary",variant:"text-sm/normal",className:d().textInGrid,children:null==e?void 0:e.userNick})})]},null==e||null===(i=e.user)||void 0===i?void 0:i.id)})),v=i-f.length;return(0,r.jsxs)("div",{className:o()(d().grid,s),children:[p,v>0&&(0,
r.jsxs)("div",{className:d().speakerContainer,children:[(0,r.jsx)("div",{className:d().iconMicrophone,children:(0,r.jsx)(a.Z,{height:12})}),(0,r.jsx)(l.xv,{color:"header-secondary",variant:"text-sm/normal",className:d().textInGrid,children:u.Z.Messages.STAGE_DISCOVERY_LIVE_STAGE_TILE_SPEAKER_SUMMARY_OVERFLOW.format({count:v})})]})]})}},952580:(e,n,t)=>{t.d(n,{Z:()=>S});var r=t(785893),i=(t(667294),t(363010)),o=t(331535),l=t(281081),a=t(354290),c=t(426859),u=t(345209),s=t(655695),d=t(338588),f=t(1812),p=t(653772),v=t(940712),h=t(30741),g=t(897576),b=t(932847),E=t(726283),y=t(427809),m=t(875684),j=t(156465),O=t(989982),Z=t(694470),C=t(998689),N=t(461061),x=t(959797);function P(e,n,t,r,i,o,l){try{var a=e[o](l),c=a.value}catch(e){t(e);return}a.done?n(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function l(e){P(o,r,i,l,a,"next",e)}function a(e){P(o,r,i,l,a,"throw",e)}l(void 0)}))}}
function k(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){k(e,n,t[n])}))}return e}function I(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var T=function(e,n){var t,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},
trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(i=l.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1];i=o;break}if(i&&l.label<i[2]){l.label=i[2];l.ops.push(o);break}i[2]&&l.ops.pop();l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function S(e){
var n=e.guild,P=e.channel,k=e.guildScheduledEvent,S=e.isActive,L=e.rsvped,D=e.onActionTaken,M=function(e){e.stopPropagation();L?y.Z.deleteRsvpForGuildEvent(U,V):y.Z.createRsvpForGuildEvent(U,V)},G=function(e){e.stopPropagation();var n=f.ZP.getDefaultChannel(V);(0,g.pT)();(0,s.XU)(V,null==n?void 0:n.id)},A=k.scheduled_start_time,U=k.id,R=k.entity_type,V=k.guild_id,H=(0,m.o)(null==n?void 0:n.id,P),B=(0,j.ZP)(k),J=(0,O.T)(null==P?void 0:P.id,k.id),X=(0,Z.ub)(A).withinStartWindow,z=(0,i.e7)([v.Z],(function(){return!(null==P?void 0:P.isGuildVocal())||v.Z.can(N.Plq.CONNECT,P)}),[P]),F=(0,u.J)(V);function W(){return(W=_((function(e){return T(this,(function(n){switch(n.label){case 0:e.stopPropagation();return[4,a.Z.joinGuild(V)];case 1:n.sent();p.Z.addConditionalChangeListener((function(){if(null==p.Z.getGuild(V))return!0;S||M(e);G(e);return!1}));return[2]}}))}))).apply(this,arguments)}return{onDeleteClick:H?function(e){e.stopPropagation();H&&!S&&(0,g.h7)((function(e){return(0,
r.jsx)(h.default,I(w({},e),{header:x.Z.Messages.GUILD_EVENT_DELETE_CONFIRM_HEADER,confirmText:x.Z.Messages.DELETE,cancelText:x.Z.Messages.CANCEL,onConfirm:function(){return y.Z.deleteGuildEvent(U,V)},children:(0,r.jsx)(o.xv,{variant:"text-md/normal",children:x.Z.Messages.GUILD_EVENT_DELETE_CONFIRM_BODY})}))}))}:void 0,onContextMenu:function(e){e.stopPropagation();null!=n&&(0,l.jW)(e,_((function(){var e,i;return T(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(29178),t.e(19887),t.e(20914),t.e(26882),t.e(62045),t.e(66722),t.e(49832),t.e(58083),t.e(64573),t.e(62013)]).then(t.bind(t,157365))];case 1:e=o.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,w({guildEventId:U,channel:P,guildId:n.id},e))}]}}))})))},onJoinClick:z||F?function(e){e.stopPropagation();if(F){null==D||D();(0,c.hk)(V)}else if(null==P?void 0:P.isGuildStageVoice()){(0,d.Cq)(P);null==D||D()}else if(null==P?void 0:P.isGuildVoice()){y.Z.joinVoiceEvent(P.guild_id,P.id);null==D||D()}
}:void 0,onRsvpClick:M,onStartClick:H&&X?function(e){e.stopPropagation();(0,g.ZD)(_((function(){var e,n;return T(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(62045),t.e(27903),t.e(88417),t.e(31706)]).then(t.bind(t,527903))];case 1:e=i.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,I(w({},e),{event:k,onSuccess:D}))}]}}))})))}:void 0,onInviteClick:function(e){e.stopPropagation();if(null!=n)if(B&&J)(0,g.ZD)(_((function(){var e,i;return T(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(66150),t.e(29655),t.e(42348),t.e(46581)]).then(t.bind(t,966150))];case 1:e=o.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,I(w({},e),{guild:n,channel:P,guildScheduledEvent:k,source:N.t4x.GUILD_EVENTS}))}]}}))})));else{var i=function(e){var n=e.guildId,t=e.guildEventId;return"https://discord.com/events/".concat(n,"/").concat(t)}({guildId:V,guildEventId:U});(0,E.JG)(i);b.default.track(N.rMx.GUILD_SCHEDULED_EVENT_LINK_COPIED,{
guild_id:V,guild_scheduled_event_id:U})}},onEndClick:H&&R===C.WX.EXTERNAL&&S?function(e){e.stopPropagation();if(H){var n=function(){y.Z.endEvent(U,V);(0,g.pT)()};(0,g.h7)((function(e){return(0,r.jsx)(h.default,I(w({},e),{header:x.Z.Messages.END_EVENT,confirmText:x.Z.Messages.GUILD_EVENT_END_PROMPT_CONFIRM,cancelText:x.Z.Messages.CANCEL,onConfirm:n,children:(0,r.jsx)(o.xv,{variant:"text-md/normal",children:x.Z.Messages.GUILD_EVENT_EXTERNAL_END_PROMPT_TITLE})}))}))}}:void 0,onJoinGuildClick:function(e){return W.apply(this,arguments)},onGoToGuildClick:G}}}}]);
//# sourceMappingURL=5139f6272b4427817c55.js.map