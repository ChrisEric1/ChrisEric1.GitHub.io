(window.webpackJsonp=window.webpackJsonp||[]).push([[207],{1417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(1)),a=i(r(5)),o=u(r(127)),l=i(r(1282));function i(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){var t,r;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["className"]);return n.createElement(o.default,d({},r,{className:(0,a.default)(l.default.formStatusAlert,t)}))},i}(n.Component);t.default=f,f.displayName="FormStatusAlert",f.Types=o.AlertTypes},1425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=i(r(5)),o=i(r(29)),l=i(r(1283));function i(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r=e.children,n=e.className,i=e.isFlush,s=void 0!==i&&i,d=e.tag,f=void 0===d?"p":d;return u(o.default,{className:(0,a.default)(l.default.heading,(t={},t[l.default.flush]=s,t),n),color:o.default.Colors.PRIMARY_300,size:o.default.Sizes.MEDIUM,tag:f,weight:o.default.Weights.NORMAL},void 0,r)};d.displayName="PageSectionSubheading";var f=d;t.default=f},1429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=i(r(5)),o=i(r(57)),l=i(r(1284));function i(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=(0,o.default)({SMALL:null,MEDIUM:null}),f=(0,o.default)({NONE:null,PRIMARY:null,RED:null}),c=(0,o.default)({DARK:null,LIGHT:null}),p=function(e){var t,r=e.borderColor,n=void 0===r?f.PRIMARY:r,o=e.children,i=e.className,s=e.color,p=void 0===s?c.LIGHT:s,m=e.size,v=void 0===m?d.MEDIUM:m;return u("div",{className:(0,a.default)(l.default.wrapper,i,(t={},t[l.default.small]=v===d.SMALL,t[l.default.medium]=v===d.MEDIUM,t[l.default.borderNone]=n===f.NONE,t[l.default.borderPrimary]=n===f.PRIMARY,t[l.default.borderRed]=n===f.RED,t[l.default.colorDark]=p===c.DARK,t[l.default.colorLight]=p===c.LIGHT,t))},void 0,o)};p.displayName="Panel",p.BorderColor=f,p.Color=c,p.Size=d;var m=p;t.default=m},1443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=u(r(5)),o=u(r(185)),l=u(r(182)),i=r(18),s=u(r(1289));function u(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r,n=e.currentPageIndex,u=e.hasNextPage,d=e.onChangePage,c=e.children,p=e.className,m=e.numPages;return f("div",{className:(0,a.default)(s.default.paginator,p)},void 0,c,f("div",{className:s.default.pageActions},void 0,f(o.default,{className:(0,a.default)(s.default.pageButtonPrev,(t={},t[s.default.disabled]=0===n,t)),onMouseDown:function(e){return e.preventDefault()},onClick:function(){n>0&&d(n-1)}},void 0,f(l.default,{className:s.default.pageButtonIcon,name:l.default.Names.CARET_LEFT})),null==m?null:f("div",{className:s.default.pageCount},void 0,i.Messages.Common.PAGINATOR_OF_PAGES.format({currentPage:n+1,numPages:m})),f(o.default,{className:(0,a.default)(s.default.pageButtonNext,(r={},r[s.default.disabled]=!u,r)),onClick:function(){u&&d(n+1)},onMouseDown:function(e){return e.preventDefault()}},void 0,f(l.default,{className:s.default.pageButtonIcon,name:l.default.Names.CARET_RIGHT}))))};c.displayName="Paginator";var p=c;t.default=p},1446:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ViewportWrapWidth=t.defaultSort=t.defaultCellValue=void 0;var n,a=M(r(1)),o=v(r(5)),l=v(r(57)),i=v(r(409)),s=v(r(131)),u=M(r(408)),d=M(r(182)),f=v(r(1443)),c=v(r(192)),p=v(r(1430)),m=v(r(1290));function v(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function M(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function E(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b=(0,l.default)({ASCENDING:null,DESCENDING:null}),_=(0,l.default)({RIGHT:null}),C=function(e,t){return e[t]},T=E("span",{className:m.default.defaultValue},void 0,"â€”");t.defaultCellValue=T;var O=function(e,t,r){void 0===r&&(r={});var n=e[r.columnKey],a=t[r.columnKey],o=r.sortDirection===b.ASCENDING;return"number"==typeof n&&"number"==typeof a?n>a?o?1:-1:n<a?o?-1:1:0:"string"==typeof n&&"string"==typeof a?r.sortDirection===b.ASCENDING?n.toString().localeCompare(a.toString()):a.toString().localeCompare(n.toString()):0};t.defaultSort=O;var A={SMALL:m.default.viewportSmall,MEDIUM:m.default.viewportMedium};t.ViewportWrapWidth=A;var N=function(e){var t=e.children;return E(u.GridSection,{wrap:u.GridSection.Wrap.NO_WRAP,className:m.default.header},void 0,t)};N.displayName="TableHeader";var R=function(e){var t,r=e.children,n=e.link,a=e.className,l=null!=n,i=E(u.GridSection,{className:(0,o.default)(a,(t={},t[m.default.rowWrapper]=!l,t)),wrap:u.GridSection.Wrap.NO_WRAP},void 0,r);return l?E(s.default,{className:(0,o.default)(m.default.rowLink,m.default.rowWrapper),to:n},void 0,i):i},P=function(e){var t,r=e.align,n=e.children,l=e.className,i=S(e,["align","children","className"]);return a.createElement(u.GridChild,y({className:(0,o.default)(m.default.cell,l,(t={},t[m.default.cellAlignRight]=r===_.RIGHT,t))},i),n)};P.displayName="TableCell";var w=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.columnKey,n=e.onClick;null!=n&&n(r)},t}g(t,e);var r=t.prototype;return r.renderSortDirectionIndicator=function(e){var t,r=e.isCellRightAligned,n=this.props,a=n.activeColumnKey,l=n.columnKey,i=n.isSortable,s=n.sortDirection;return i?E(d.default,{name:d.IconNames.ARROW_DROP_DOWN,className:(0,o.default)(m.default.sortDirectionIndicator,(t={},t[m.default.sortDirectionIndicatorIsVisible]=null!=a&&a===l,t[m.default.sortDirectionIndicatorAscending]=s===b.ASCENDING,t[m.default.sortDirectionIndicatorDescending]=s===b.DESCENDING,t[m.default.sortDirectionIndicatorAlignRight]=r,t))}):null},r.render=function(){var e,t,r=this.props,n=r.children,l=r.align,s=r.isSortable,d=(r.onClick,S(r,["children","align","isSortable","onClick"])),f=l===_.RIGHT,c=this.renderSortDirectionIndicator({isCellRightAligned:f});return a.createElement(u.GridChild,y({},d,{onClick:this.handleClick}),E(i.default,{className:(0,o.default)((e={},e[m.default.headingSortable]=s,e))},void 0,E("div",{className:(0,o.default)(m.default.headingWrapper,(t={},t[m.default.headingWrapperAlignRight]=f,t))},void 0,f?c:null,E("div",{className:m.default.headingContent},void 0,n),f?null:c)))},t}(a.Component);w.displayName="TableHeaderCell";var D=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={activeColumnKey:null!=t.props.defaultSortKey?t.props.defaultSortKey:null,currentPageIndex:0,sortDirection:null!=t.props.defaultSortDirection?t.props.defaultSortDirection:b.ASCENDING},t.handleTableHeaderCellClick=function(e){t.setState(function(t){var r=e===t.activeColumnKey&&t.sortDirection===b.ASCENDING?b.DESCENDING:b.ASCENDING;return{activeColumnKey:e,sortDirection:r}})},t.handlePaginationChange=function(e){var r=t.props.onPageIndexChange;null!=r&&r(e),t.setState({currentPageIndex:e})},t.renderPagination=function(){var e=t.state.currentPageIndex,r=t.props,n=r.rows,a=r.rowsPerPage,o=r.shouldPaginate,l=r.shouldPaginateRequests;return l||o&&!(n.length<=a)?E(f.default,{currentPageIndex:e,hasNextPage:n.length>(e+1)*a,numPages:l?null:Math.ceil(n.length/a),onChangePage:t.handlePaginationChange}):null},t}g(t,e);var r=t.prototype;return r.renderTableHeader=function(){var e=this,t=this.props.columns,r=this.state,n=r.activeColumnKey,o=r.sortDirection;return E(N,{},void 0,t.map(function(t){return a.createElement(w,y({key:t.key,activeColumnKey:n,columnKey:t.key,isSortable:t.isSortable,onClick:t.isSortable?e.handleTableHeaderCellClick:null,sortDirection:o},t.cellProps),E("span",{className:m.default.headerCellCopy},void 0,t.heading),null==t.headingTooltip?null:E(p.default,{className:m.default.tooltipIcon,text:t.headingTooltip},void 0,E(d.default,{name:d.default.Names.QUESTION_MARK_CIRCLE})))}))},r.renderTableBody=function(){var e=this.props,t=e.defaultValue,r=e.rows,n=e.columns,o=e.rowsPerPage,l=e.shouldPaginate,s=e.sort,u=this.state,d=u.activeColumnKey,f=u.currentPageIndex,c=u.sortDirection,p=null==d?r:r.sort(function(e,t){return s(e,t,{columnKey:d,sortDirection:c})}),v=l?f*o:0,h=l?(f+1)*o:r.length;return p.slice(v,h).map(function(e){var r=n.map(function(r){var n=null!=r.render?r.render:C,o=E(i.default,{className:m.default.rowColumnName},void 0,r.heading||"");return a.createElement(P,y({key:r.key,align:r.align},r.cellProps),o,n(e,r.key)||t)});return a.createElement(R,y({key:e.id},e.rowProps),r)})},r.renderTotalRow=function(){var e=this.props,t=e.totalRow,r=e.columns,n=e.defaultValue;if(null==t)return null;var o=r.map(function(e){var r=null!=e.render?e.render:C;return a.createElement(P,y({key:e.key,align:e.align},e.cellProps),r(t,e.key)||n)});return a.createElement(R,y({className:m.default.totalRow,key:t.id},t.rowProps),o)},r.render=function(){var e=this.props,t=e.className,r=e.scrollerClassName,n=e.shouldScroll,a=e.tableWrapPoint,l=E(u.default,{className:(0,o.default)(t,a)},void 0,this.renderTableHeader(),this.renderTableBody(),this.renderTotalRow());return E("div",{},void 0,n?E(c.default,{className:r},void 0,l):l,this.renderPagination())},t}(a.Component);t.default=D,D.displayName="Table",D.CellAlignment=_,D.SortDirections=b,D.defaultProps={defaultValue:null,rowsPerPage:10,shouldScroll:!1,shouldPaginate:!1,sort:O}},1487:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=m(r(5)),l=m(r(1479)),i=r(135),s=m(r(1548)),u=m(r(423)),d=m(r(182)),f=r(74),c=r(18),p=m(r(1301));function m(e){return e&&e.__esModule?e:{default:e}}function v(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M={CIRCLE:p.default.circle,SQUARE:p.default.square},g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={error:null},t.handleFileChange=function(e){e.stopPropagation(),e.preventDefault();var r=e.target.files[0],n=t.props,a=n.size,o=n.minSize,l=n.onChange,i=n.fieldName;if(null!=r){var u=new FileReader;u.onload=function(e){var r=new Image;r.src=e.target.result,r.onload=function(){if(null!=o&&(r.width<o||r.height<o))t.setState({error:c.Messages.AvatarUploader.MINIMUM_SIZE.format({size:o})});else{null!=t.state.error&&t.setState({error:null});var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,e.width,e.height);var n=r.width<r.height?r.width/a:r.height/a,u=document.createElement("canvas");u.width=r.width/n,u.height=r.height/n,s.default.resizeCanvas(e,u,{alpha:!0},function(){var e=document.createElement("canvas");e.width=a,e.height=a;var t=(u.width-e.width)/-2,r=(u.height-e.height)/-2;e.getContext("2d").drawImage(u,t,r,u.width,u.height),l(e.toDataURL("image/png"),i)})}}},u.readAsDataURL(r)}},t.handleRemove=function(){var e=t.props,r=e.fieldName;(0,e.onChange)(null,r)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderRemoveButton=function(){var e=this.props,t=e.disableRemoveAction,r=e.disabled,n=e.size,a=e.avatar,o=this.state.error;return t?null:r?h("small",{className:p.default.removeButtonSmall},void 0,c.Messages.AvatarUploader.SIZE.format({size:n})):null!=o?h("small",{className:p.default.removeButtonSmallError},void 0,o):null!=a?h(u.default,{className:p.default.removeButton,onClick:this.handleRemove},void 0,c.Messages.AvatarUploader.REMOVE):h("small",{className:(0,f.getClass)(p.default,"removeButtonSmall",null!=o?"Error":null)},void 0,c.Messages.AvatarUploader.SIZE.format({size:n}))},a.render=function(){var e,t,r,n,a=this.props,s=a.avatar,u=a.hint,f=a.name,m=a.makeURL,v=a.hasBorder,M=a.shape;return(t=null!=s&&/^data:/.test(s)?s:m(s))?r='url("'+t+'")':n=h("div",{className:p.default.acronym},void 0,(0,i.getAcronym)(f)),h("div",{className:(0,o.default)(p.default.avatarUploader,(e={},e[p.default.border]=v,e))},void 0,h("div",{className:(0,o.default)(p.default.avatarUploaderInner,M),style:{backgroundImage:r}},void 0,h("div",{className:p.default.addPhotoWrapper},void 0,h(d.default,{className:p.default.addPhotoIcon,name:d.default.Names.ADD_PHOTO})),n,h("div",{className:p.default.hint},void 0,u),h(l.default,{onChange:this.handleFileChange,filters:[{name:c.Messages.AvatarUploader.IMAGES,extensions:["jpg","jpeg","png"]}]})),this.renderRemoveButton())},n}(a.PureComponent);t.default=g,g.displayName="AvatarUploader",g.Shape=M,g.defaultProps={disableRemoveAction:!1,name:"",size:64,makeURL:function(e){return e},hint:c.Messages.AvatarUploader.SELECT_IMAGE,disabled:!1,hasBorder:!1,shape:M.CIRCLE}},1579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=M(r(1)),o=M(r(408)),l=v(r(183)),i=v(r(411)),s=r(97),u=v(r(431)),d=v(r(414)),f=v(r(409)),c=M(r(188)),p=r(3),m=r(18);function v(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function M(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S={errorMessage:null,mfaCode:"",selectedValue:null,isTransferring:!1},E=g(c.ModalDivider,{}),b=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state=y({},S),t.handleSubmit=function(){var e=t.props.onSubmit,r=t.state,n=r.selectedValue,a=r.mfaCode;a&&null!=n&&t.setState({isTransferring:!0},function(){e({selectedValue:n,mfaCode:a}).then(function(){t.setState(y({},S))}).catch(function(e){t.setState({isTransferring:!1,errorMessage:(0,s.getMessageFromAPIError)(e,m.Messages.Errors.ERROR_TRANSFERRING.format())})})})},t.handleSelectChange=function(e){t.setState({selectedValue:e.value})},t.handleMFACodeChange=function(e){t.setState({mfaCode:e})},t.handleClose=function(){var e=t.props.onClose;t.state.isTransferring||t.setState(y({},S),e)},t.renderSelectOption=function(e){var r=t.state.selectedValue;return g(u.default,{option:e,isValue:r===e.value})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderFormStatus=function(){var e=this.state.errorMessage;return null!=e?g(c.ModalAlert,{},void 0,e):null},a.render=function(){var e=this.props,t=e.modalTitle,r=e.selectLabel,n=e.options,a=e.isOpen,s=this.state,u=s.selectedValue,v=s.mfaCode,h=s.isTransferring;return g(c.default,{open:a,onRequestClose:this.handleClose},void 0,g(d.default,{onSubmit:this.handleSubmit},void 0,g(c.ModalContent,{},void 0,g(c.ModalHeader,{},void 0,t),g(c.ModalAlert,{},void 0,m.Messages.Alerts.CANNOT_BE_UNDONE),this.renderFormStatus(),g(o.default,{},void 0,g(o.GridSection,{},void 0,g(o.GridChild,{columnSpread:12},void 0,g(f.default,{isRequired:!0},void 0,r),g(l.default,{clearable:!1,searchable:!1,value:u,onChange:this.handleSelectChange,options:n,optionRenderer:this.renderSelectOption,valueRenderer:this.renderSelectOption})))),E,g(o.default,{},void 0,g(o.GridSection,{},void 0,g(o.GridChild,{columnSpread:12},void 0,g(f.default,{isRequired:!0},void 0,m.Messages.MultiFactorAuth.ENTER_MFA_CODE),g(i.default,{onChange:this.handleMFACodeChange,value:v}))))),g(c.ModalFooter,{},void 0,g(c.ModalCancel,{onClick:this.handleClose},void 0,m.Messages.Actions.CANCEL),g(c.ModalConfirm,{disabled:null==u||v.length!==p.MFA_CODE_LENGTH,submitting:h,type:"submit"},void 0,m.Messages.Actions.TRANSFER))))},n}(a.Component);t.default=b,b.displayName="TransferModal"},1659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTeamMembersForTeam=function(e){return n.default.get({url:i.Endpoints.TEAM_MEMBERS(e)}).then(function(t){a.default.dispatch({type:l.default.TEAM_MEMBERS_FETCH_SUCCESS,teamId:e,teamMembers:t.body})}).catch(o.APIErrorHandler)},t.inviteTeamMember=function(e,t){return n.default.post({url:i.Endpoints.TEAM_MEMBERS(e),body:t}).then(function(e){a.default.dispatch({type:l.default.TEAM_MEMBER_CREATE_SUCCESS,teamMember:e.body})}).catch(o.APIErrorHandler)},t.updateTeamMember=function(e,t,r){return n.default.put({url:i.Endpoints.TEAM_MEMBER(e,t),body:r}).then(function(e){a.default.dispatch({type:l.default.TEAM_MEMBER_UPDATE_SUCCESS,teamMember:e.body})}).catch(o.APIErrorHandler)},t.deleteTeamMember=function(e,t,r){return n.default.delete({url:i.Endpoints.TEAM_MEMBER(e,t)}).then(function(){a.default.dispatch({type:l.default.TEAM_MEMBER_DELETE_SUCCESS,teamId:e,userId:t,hasRemovedSelf:r})}).catch(o.APIErrorHandler)};var n=s(r(59)),a=s(r(19)),o=r(97),l=s(r(20)),i=r(3);function s(e){return e&&e.__esModule?e:{default:e}}},1835:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=g(r(1)),o=r(73),l=g(r(1659)),i=r(97),s=h(r(1417)),u=h(r(412)),d=h(r(191)),f=h(r(410)),c=h(r(413)),p=h(r(2665)),m=h(r(2667)),v=r(18);function h(e){return e&&e.__esModule?e:{default:e}}function M(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return M=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=M();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=y(d.default,{}),E=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={error:null,success:null,isFetchingTeamMembers:!0,teamMembersFetchErrorMessage:null},t.handleSuccess=function(e){t.setState({success:e})},t.handleError=function(e){t.setState({error:e})},t.handleReset=function(){t.setState({error:null,success:null})},t.renderFormStatus=function(){var e=t.state,r=e.error,n=e.success;return null!=r?y(s.default,{type:s.default.Types.ERROR},void 0,r):null!=n?y(s.default,{type:s.default.Types.SUCCESS},void 0,n):null},t.renderTeamMemberList=function(){var e=t.state,r=e.isFetchingTeamMembers,n=e.teamMembersFetchErrorMessage;return r?S:null!=n?y(s.default,{type:s.default.Types.ERROR},void 0,n):y(m.default,{onSuccess:t.handleSuccess,onError:t.handleError})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){var e=this,t=this.props.match.params.teamId;l.fetchTeamMembersForTeam(t).then(function(){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:null})}).catch(function(t){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:(0,i.getMessageFromAPIError)(t,t.message)})})},o.render=function(){return y(a.Fragment,{},void 0,y(f.default,{},void 0,y(u.default,{},void 0,v.Messages.Teams.INFORMATION_PAGE_HEADING),y(c.default,{isFlush:!0},void 0,v.Messages.Teams.INFORMATION_PAGE_SUBHEADING),this.renderFormStatus()),y(p.default,{onSuccess:this.handleSuccess,onError:this.handleError,onReset:this.handleReset}),this.renderTeamMemberList())},n}(a.Component);E.displayName="TeamInformation";var b=(0,o.withRouter)(E);t.default=b},1836:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(12)),a=o(r(19));o(r(20));function o(e){return e&&e.__esModule?e:{default:e}}var l=new Map;var i=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getTeamMembersByTeam=function(e){return l.get(e)},n}(n.default.Store))(a.default,{TEAM_MEMBERS_FETCH_SUCCESS:function(e){var t,r,n;t=e.teamId,r=e.teamMembers,n=new Map,r.forEach(function(e){n.set(e.user.id,e)}),l.set(t,n)},TEAM_MEMBER_CREATE_SUCCESS:function(e){var t,r,n;t=e.teamMember,r=t.team_id,null==(n=l.get(r))&&(n=new Map),n.set(t.user.id,t),l.set(r,n)},TEAM_MEMBER_UPDATE_SUCCESS:function(e){var t,r,n;t=e.teamMember,r=t.team_id,null==(n=l.get(r))&&(n=new Map),n.set(t.user.id,t),l.set(r,n)},TEAM_MEMBER_DELETE_SUCCESS:function(e){var t,r,n;t=e.teamId,r=e.userId,null!=(n=l.get(t))&&(n.delete(r),l.set(t,n))}});t.default=i},2665:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=w(r(1)),o=r(73),l=R(r(12)),i=w(r(418)),s=R(r(1836)),u=R(r(190)),d=R(r(49)),f=R(r(56)),c=w(r(408)),p=R(r(1429)),m=R(r(411)),v=r(130),h=r(132),M=r(97),g=R(r(1487)),y=R(r(414)),S=R(r(409)),E=R(r(410)),b=R(r(415)),_=R(r(1579)),C=R(r(416)),T=R(r(2666)),O=r(3),A=r(18),N=R(r(1400));function R(e){return e&&e.__esModule?e:{default:e}}function P(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return P=function(){return e},e}function w(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function D(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){return{teamName:null!=e.team?e.team.name:"",hasUnsavedChanges:!1,isSubmitting:!1,isIconDefined:null!=e.team&&null!=e.team.icon,hasChangedIcon:!1,icon:null!=e.team&&(0,v.getTeamIcon)(e.team.id,e.team.icon)||"",showTransferModal:!1,showDeleteModal:!1}},j=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef(),t.state=I(t.props),t.handleIconChange=function(e){t.setState({icon:e||"",hasUnsavedChanges:!0,isIconDefined:null!=e,hasChangedIcon:!0})},t.handleNameChange=function(e){t.setState({hasUnsavedChanges:!0,teamName:e})},t.handleFormReset=function(){var e=t.props.onReset;t.setState(I(t.props)),e()},t.handleFormSubmit=function(){var e=t.props,r=e.team,n=e.onSuccess,a=e.onError,o=t.state,l=o.icon,s=o.teamName,u=o.hasChangedIcon;if(null!=r)if(s){var d={name:s};u&&(d.icon=l),t.setState({isSubmitting:!0},function(){i.updateTeam(r.id,d).then(function(){t.setState({hasUnsavedChanges:!1,isSubmitting:!1}),n(A.Messages.Teams.TEAM_SUCCESSFULLY_UPDATED)}).catch(function(e){t.setState({isSubmitting:!1}),a((0,M.getMessageFromAPIError)(e,A.Messages.Errors.ERROR_SUBMITTING_FORM.format()))})})}else a(A.Messages.Teams.TEAM_NAME_REQUIRED)},t.handleOpenTransferModal=function(){t.setState({showTransferModal:!0})},t.handleCloseTransferModal=function(){t.setState({showTransferModal:!1})},t.handleOpenDeleteModal=function(){t.setState({showDeleteModal:!0})},t.handleCloseDeleteModal=function(){t.setState({showDeleteModal:!1})},t.handleTransferOwner=function(e){var r=e.selectedValue,n=e.mfaCode,a=t.props,o=a.onSuccess,l=a.team;return null==l?Promise.reject(new M.APIError(A.Messages.Teams.TEAM_NOT_LOADED_ERROR)):i.updateTeam(l.id,{owner_user_id:r,code:n}).then(function(){t.setState({showTransferModal:!1},function(){o(A.Messages.Teams.TEAM_OWNERSHIP_TRANSFERRED)})})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderModalButtons=function(){var e=this.props,t=e.team,r=e.user;return null==t||t.owner_user_id!==r.id?null:D(c.GridSection,{className:N.default.buttonWrap,grow:1},void 0,D(c.GridChild,{},void 0,D(f.default,{onClick:this.handleOpenTransferModal,look:f.default.Look.OUTLINED,color:f.default.Color.WHITE},void 0,A.Messages.Teams.TRANSFER_OWNERSHIP)),D(c.GridChild,{},void 0,D(f.default,{onClick:this.handleOpenDeleteModal,look:f.default.Look.OUTLINED,color:f.default.Color.RED},void 0,A.Messages.Teams.DELETE_TEAM)))},o.getTeamMemberOptions=function(){var e=this.props,t=e.teamMembers,r=e.team;if(null==t||null==r)return[];var n=[];return t.forEach(function(e){var t=e.user;e.membership_state===O.TeamMembershipStates.ACCEPTED&&t.id!==r.owner_user_id&&n.push({avatar:(0,h.getUserAvatarURL)(t),label:t.username+"#"+t.discriminator,value:t.id})}),n},o.render=function(){var e=this.props.team,t=this.state,r=t.hasUnsavedChanges,n=t.isSubmitting,a=t.icon,o=t.isIconDefined,l=t.teamName,i=t.showTransferModal,s=t.showDeleteModal;return null==e?null:D(E.default,{},void 0,D(b.default,{},void 0,A.Messages.Teams.TEAM_DETAILS_HEADING),D(y.default,{onSubmit:this.handleFormSubmit},void 0,D(c.default,{},void 0,D(c.GridSection,{className:N.default.detailsSection},void 0,D(c.GridChild,{columnSpread:3,className:N.default.iconUploader},void 0,D(S.default,{},void 0,A.Messages.Forms.ICON),D(p.default,{},void 0,D("input",{type:"hidden",name:"icon",value:a}),D(g.default,{disableRemoveAction:!o,name:e.name,fieldName:"icon",size:O.AVATAR_UPLOAD_SIZE,onChange:this.handleIconChange,hint:A.Messages.Information.APP_ICON_DESCRIPTION,avatar:a}))),D(c.GridChild,{className:N.default.sectionRight,columnSpread:9,columnSpreadExtraSmall:12,columnSpreadSmall:12,columnSpreadSmallMedium:12,shrink:1},void 0,D(c.default,{className:N.default.sectionRightGrid},void 0,D(c.GridSection,{grow:0},void 0,D(c.GridChild,{columnSpread:12},void 0,D(S.default,{},void 0,A.Messages.Forms.NAME),D(m.default,{name:"name",value:l,onChange:this.handleNameChange}))),this.renderModalButtons())))),D(C.default,{isVisible:r,onReset:this.handleFormReset,submitting:n})),D(_.default,{modalTitle:A.Messages.Teams.TRANSFER_OWNERSHIP,selectLabel:A.Messages.Teams.SELECT_USER_FOR_TRANSFER,options:this.getTeamMemberOptions(),isOpen:i,onSubmit:this.handleTransferOwner,onClose:this.handleCloseTransferModal}),D(T.default,{isOpen:s,onClose:this.handleCloseDeleteModal}))},n}(a.Component);j.displayName="TeamDetails";var k=(0,o.withRouter)(l.default.connectStores([u.default,d.default,s.default],function(e){var t=e.match.params.teamId;return{team:u.default.getTeam(t),teamMembers:s.default.getTeamMembersByTeam(t),user:d.default.user}})(j));t.default=k},2666:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=S(r(1)),o=r(73),l=g(r(12)),i=S(r(418)),s=g(r(128)),u=S(r(408)),d=g(r(411)),f=r(97),c=g(r(58)),p=g(r(414)),m=g(r(409)),v=S(r(188)),h=r(3),M=r(18);function g(e){return e&&e.__esModule?e:{default:e}}function y(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return y=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function E(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b={errorMessage:null,isDeleting:!1,mfaCode:""},_=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state=b,t.handleMFAChange=function(e){t.setState({mfaCode:e})},t.handleClose=function(){var e=t.props.onClose;t.state.isDeleting||t.setState(b,e)},t.handleDeleteTeam=function(){var e=t.props.match,r=t.state.mfaCode;t.setState({isDeleting:!0},function(){i.deleteTeam(e.params.teamId,{code:r}).then(function(){c.default.transitionTo(h.Routes.TEAMS)}).catch(function(e){t.setState({isDeleting:!1,errorMessage:(0,f.getMessageFromAPIError)(e,M.Messages.Errors.ERROR_DELETING_TEAM.format())})})})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this.props.match.params.teamId;i.fetchApplicationsForTeam(e).catch(h.NOOP)},a.renderError=function(){var e=this.state.errorMessage;return null!=e?E(v.ModalAlert,{},void 0,e):null},a.renderAlert=function(){var e=this.props.isTeamDeletable?M.Messages.Alerts.CANNOT_BE_UNDONE:M.Messages.Teams.CANNOT_DELETE_TEAM_WITH_APPLICATIONS;return E(v.ModalAlert,{},void 0,e)},a.renderModalContent=function(){return this.props.isTeamDeletable?E(u.default,{},void 0,E(u.GridSection,{},void 0,E(u.GridChild,{columnSpread:12},void 0,E(m.default,{isRequired:!0},void 0,M.Messages.MultiFactorAuth.ENTER_MFA_CODE),E(d.default,{value:this.state.mfaCode,onChange:this.handleMFAChange})))):null},a.render=function(){var e=this.props.isOpen,t=this.state,r=t.mfaCode,n=t.isDeleting;return E(v.default,{onRequestClose:this.handleClose,open:e},void 0,E(p.default,{onSubmit:this.handleDeleteTeam},void 0,E(v.ModalContent,{},void 0,E(v.ModalHeader,{},void 0,M.Messages.Teams.DELETE_TEAM),this.renderAlert(),this.renderError(),this.renderModalContent()),E(v.ModalFooter,{},void 0,E(v.ModalCancel,{onClick:this.handleClose},void 0,M.Messages.Actions.CANCEL),E(v.ModalConfirm,{type:"submit",disabled:r.length!==h.MFA_CODE_LENGTH,submitting:n},void 0,M.Messages.Actions.DELETE))))},n}(a.Component);_.displayName="DeleteTeamModal";var C=(0,o.withRouter)(l.default.connectStores([s.default],function(e){var t=e.match.params.teamId;return{isTeamDeletable:0===s.default.getApplicationsByOwner(t).length}})(_));t.default=C},2667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=I(r(1)),o=r(73),l=w(r(12)),i=I(r(1659)),s=w(r(1836)),u=w(r(190)),d=w(r(49)),f=I(r(127)),c=w(r(133)),p=w(r(56)),m=w(r(40)),v=I(r(408)),h=w(r(183)),M=w(r(1446)),g=w(r(29)),y=w(r(411)),S=r(132),E=r(97),b=w(r(414)),_=w(r(409)),C=w(r(410)),T=w(r(415)),O=w(r(1425)),A=w(r(2668)),N=r(3),R=r(18),P=w(r(1401));function w(e){return e&&e.__esModule?e:{default:e}}function D(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return D=function(){return e},e}function I(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=D();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function j(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function k(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var U=function(){return k(h.default,{className:P.default.disabledSelect,disabled:!0,value:"*",options:[{label:"Admin",value:"*"}]})};U.displayName="DisabledSelect";var F=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.teamMember)},t}return j(t,e),t.prototype.render=function(){return k(p.default,{onClick:this.handleClick,className:P.default.removeButton,color:p.default.Color.TRANSPARENT},void 0,R.Messages.Actions.REMOVE)},t}(a.Component);F.displayName="RemoveButton";var G=k(U,{}),L=k(y.default,{placeholder:"DynamoMan#0000",name:"user",defaultValue:""}),W=k(U,{}),B=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef(),t.state={isInvitingUser:!1,isRemovingUser:!1,showModal:!1,selectedTeamMember:null,successMessage:null,errorMessage:null},t.inviteTeamMember=function(e){var r=t.props.team;if(e.user&&null!=r){var n=e.user.split("#"),a=n[0],o=n[1];if(null!=a&&null!=o){var l={username:a,discriminator:o};t.setState({isInvitingUser:!0},function(){i.inviteTeamMember(r.id,l).then(function(){t.setState({isInvitingUser:!1,successMessage:R.Messages.Teams.TEAM_MEMBER_INVITED,errorMessage:null}),null!=t.formRef.current&&t.formRef.current.resetForm()}).catch(function(e){t.setState({isInvitingUser:!1,errorMessage:(0,E.getMessageFromAPIError)(e,R.Messages.Teams.GENERIC_INVITE_USER_ERROR.format(),E.ErrorTypes.TEAMS)})})})}else t.setState({errorMessage:R.Messages.Teams.INVALID_USERNAME})}},t.renderUserLabel=function(e){var t=e.teamMember,r=t.membership_state,n=t.user,a=r===N.TeamMembershipStates.INVITED?k(g.default,{size:g.default.Sizes.SMALL},void 0,R.Messages.Teams.PENDING):null;return k(m.default,{align:m.default.Align.CENTER,wrap:m.default.Wrap.NO_WRAP},void 0,k(c.default,{className:P.default.tableAvatar,src:(0,S.getUserAvatarURL)(n)}),k("span",{className:P.default.usernameWrap},void 0,k(g.default,{tag:"span",color:g.default.Colors.WHITE,size:g.default.Sizes.MEDIUM},void 0,n.username),k("span",{},void 0,"#",n.discriminator),a))},t.showDeleteModal=function(e){t.setState({showModal:!0,selectedTeamMember:e})},t.handleDeleteMemberSuccess=function(){var e=t.props.team;null!=t.state.selectedTeamMember&&null!=e&&t.setState({showModal:!1,selectedTeamMember:null,successMessage:R.Messages.Teams.TEAM_MEMBER_REMOVED,errorMessage:null})},t.handleCloseModal=function(){t.setState({showModal:!1,selectedTeamMember:null})},t.renderRemoveButton=function(e){var r=e.teamMember,n=t.props,a=n.team,o=n.user;if(null==a||a.owner_user_id===r.user.id)return null;var l=a.owner_user_id===o.id;return r.user.id===o.id||l?k(F,{onClick:t.showDeleteModal,teamMember:r}):null},t.renderFormStatus=function(){var e=t.state,r=e.successMessage,n=e.errorMessage;return null!=n?k(f.default,{type:f.AlertTypes.ERROR},void 0,n):null!=r?k(f.default,{type:f.AlertTypes.SUCCESS},void 0,r):null},t}j(t,e);var r=t.prototype;return r.renderUserPermissions=function(){return G},r.getTableColumns=function(){return[{cellProps:{columnSpread:4,columnSpreadSmall:8,columnSpreadExtraSmall:8},heading:R.Messages.Teams.CURRENT_MEMBERS,isSortable:!0,key:"username",render:this.renderUserLabel},{cellProps:{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:12,columnSpreadExtraSmall:12},key:"permissions",render:this.renderUserPermissions},{cellProps:{className:P.default.removeCell,columnSpread:4,columnSpreadSmallMedium:3},key:"remove",render:this.renderRemoveButton}]},r.getTableRows=function(){var e=this.props.teamMembers;if(null==e)return[];var t=[];return e.forEach(function(e){t.push({id:e.user.id,teamMember:e,username:e.user.username})}),t},r.renderTeamMemberTable=function(){var e=this.props,t=e.teamMembers,r=e.team,n=e.user;return null==r||null==n||null==t?null:k(M.default,{columns:this.getTableColumns(),rows:this.getTableRows()})},r.render=function(){var e=this.props,t=e.teamMembers,r=e.team,n=this.state,o=n.showModal,l=n.selectedTeamMember,i=n.isInvitingUser;return null==r||null==t||0===t.size?null:k(C.default,{isFlush:!0},void 0,k(T.default,{},void 0,R.Messages.Teams.TEAM_MEMBERS_HEADING),k(O.default,{},void 0,R.Messages.Teams.TEAM_MEMBERS_SUBHEADING),this.renderFormStatus(),k(f.default,{type:f.AlertTypes.INFO},void 0,R.Messages.Teams.ADMIN_ONLY_ALERT),k(v.default,{},void 0,a.createElement(b.default,{onSubmit:this.inviteTeamMember,ref:this.formRef},k(v.GridSection,{className:P.default.inviteRow},void 0,k(v.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,k(_.default,{},void 0,R.Messages.Teams.INVITE_TEAM_MEMBERS),L),k(v.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,k(_.default,{},void 0,R.Messages.Teams.TEAM_ROLE),W),k(v.GridChild,{className:P.default.inviteButtonWrap,columnSpread:3,columnSpreadSmallMedium:2,columnSpreadSmall:4,columnSpreadExtraSmall:4},void 0,k(p.default,{type:"submit",submitting:i},void 0,R.Messages.Actions.INVITE)))),k(v.GridSection,{},void 0,k(v.GridChild,{columnSpread:12},void 0,this.renderTeamMemberTable()))),k(A.default,{isOpen:o&&null!=l,teamMember:l,onCancel:this.handleCloseModal,onSuccess:this.handleDeleteMemberSuccess}))},t}(a.Component);B.displayName="TeamMemberList";var H=(0,o.withRouter)(l.default.connectStores([s.default,u.default,d.default],function(e){var t=e.match.params.teamId;return{user:d.default.user,team:u.default.getTeam(t),teamMembers:s.default.getTeamMembersByTeam(t)}})(B));t.default=H},2668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=g(r(1)),o=h(r(12)),l=g(r(1659)),i=h(r(49)),s=h(r(56)),u=r(97),d=h(r(58)),f=h(r(414)),c=g(r(188)),p=r(3),m=r(18),v=h(r(432));function h(e){return e&&e.__esModule?e:{default:e}}function M(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return M=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=M();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={errorMessage:null,isDeleting:!1},t.handleDeleteTeamMember=function(){var e=t.props,r=e.teamMember,n=e.onSuccess,a=e.user;if(!t.state.isDeleting&&null!=r){var o=a.id===r.user.id;t.setState({isDeleting:!0},function(){l.deleteTeamMember(r.team_id,r.user.id,o).then(function(){o?d.default.transitionTo(p.Routes.TEAMS):t.setState({isDeleting:!1,errorMessage:null},n)}).catch(function(e){t.setState({isDeleting:!1,errorMessage:(0,u.getMessageFromAPIError)(e,m.Messages.Errors.ERROR_DELETING_TEAM_MEMBER.format())})})})}},t.handleCancel=function(){var e=t.props.onCancel;t.state.isDeleting||(t.setState({errorMessage:null}),e())},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderErrorMessage=function(){var e=this.state.errorMessage;return null==e?null:y(c.ModalAlert,{type:c.ModalAlertTypes.ERROR},void 0,e)},a.renderModalCopy=function(){var e=this.props,t=e.teamMember,r=e.user;return null==t?null:r.id===t.user.id?m.Messages.Teams.SELF_REMOVE_WARNING:m.Messages.Teams.TEAM_MEMBER_REMOVE_WARNING.format({memberName:t.user.username})},a.render=function(){var e=this.props.isOpen,t=this.state.isDeleting;return y(c.default,{onRequestClose:this.handleCancel,open:e},void 0,y(f.default,{onSubmit:this.handleDeleteTeamMember},void 0,y(c.ModalContent,{},void 0,y(c.ModalHeader,{},void 0,m.Messages.Teams.REMOVE_TEAM_MEMBER),this.renderErrorMessage(),this.renderModalCopy()),y(c.ModalFooter,{},void 0,y(c.ModalCancel,{onClick:this.handleCancel},void 0,m.Messages.Actions.CANCEL),y(s.default,{className:v.default.dangerButton,submitting:t,type:"submit"},void 0,m.Messages.Actions.REMOVE))))},n}(a.Component);S.displayName="DeleteTeamMemberModal";var E=o.default.connectStores([i.default],function(){return{user:i.default.user}})(S);t.default=E}}]);
//# sourceMappingURL=3bfaf96f0e46e3e68044.js.map