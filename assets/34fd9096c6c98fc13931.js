"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[73496,73284],{84441:(t,e,n)=>{n.d(e,{c:()=>b,Z:()=>R});var r=n(999357),o=n(541554),i=n(281110),a=n(630631),c=n(744564),u=n(347365),l=n(527005),s=n(296602),d=n(784426),f=n(736818),p=n(31914),_=n(120415),h=n(801809),y=n(2590),S=n(473708);function E(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){E(i,r,o,a,c,"next",t)}function c(t){E(i,r,o,a,c,"throw",t)}a(void 0)}))}}function O(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){
return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){O(t,e,n[e])}))}return t}var A,b,g=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},T=new s.Z("AuthenticationActionCreators"),N=null;!function(t){t.MFA="MFA";t.SUCCESS="SUCCESS"}(b||(b={}));function I(t){return null==t?S.Z.Messages.NETWORK_ERROR_REST_REQUEST:null!=t.message?t.message:null!=t.code&&Array.isArray(t.code)?t.code[0]:S.Z.Messages.NETWORK_ERROR_REST_REQUEST}function C(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.Z5c.DEFAULT_LOGGED_OUT;c.Z.dispatch({type:"LOGOUT"});null!=t&&(0,d.uL)(t)}const R={startSession:function(t){c.Z.wait((function(){c.Z.dispatch({type:"START_SESSION",token:t})}))},setLoginCredentials:function(t,e){c.Z.dispatch({type:"SET_LOGIN_CREDENTIALS",login:t,password:e})},login:function(t){var e,n=t.login,o=t.password,i=t.loginCode,a=t.undelete,l=t.captchaKey,s=t.source,d=t.giftCodeSKUId,f=t.invite,p=t.isMultiAccount,_=this;c.Z.dispatch({
type:"LOGIN",login:n,loginMethod:null!=i&&""!==i?y.nnr.LOGIN_CODE:y.nnr.PASSWORD});this.setLoginCredentials(n,null!==(e=null!=o?o:i)&&void 0!==e?e:void 0);h.Z.post(m({url:y.ANM.LOGIN,body:{login:n,password:o,undelete:a,login_code:i,captcha_key:l,login_source:s,gift_code_sku_id:d},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN,properties:{invite_code:null==f?void 0:f.code,is_multi_account:p}}},p?{headers:{authorization:""}}:{})).then((function(t){var e=t.body,n=e.mfa,r=e.sms,o=e.webauthn,i=e.ticket,a=e.token,u=e.user_id,l=e.required_actions;c.Z.dispatch({type:"LOGIN_ATTEMPTED",user_id:u,required_actions:l});n?c.Z.dispatch({type:"LOGIN_MFA_STEP",ticket:i,sms:r,webauthn:o}):p?_.switchAccountToken(a):c.Z.dispatch({type:"LOGIN_SUCCESS",token:a})}),(function(t){var e,r=null===(e=t.body)||void 0===e?void 0:e.code;r===y.evJ.ACCOUNT_SCHEDULED_FOR_DELETION&&null!=o&&""!==o?c.Z.dispatch({type:"LOGIN_ACCOUNT_SCHEDULED_FOR_DELETION",credentials:{login:n,password:o}
}):r===y.evJ.ACCOUNT_DISABLED&&null!=o&&""!==o?c.Z.dispatch({type:"LOGIN_ACCOUNT_DISABLED",credentials:{login:n,password:o}}):r===y.evJ.PHONE_VERIFICATION_REQUIRED?c.Z.dispatch({type:"LOGIN_PHONE_IP_AUTHORIZATION_REQUIRED"}):c.Z.dispatch({type:"LOGIN_FAILURE",error:new u.yZ(t)})}))},loginMFA:function(t){var e=t.code,n=t.ticket,o=t.source,i=t.giftCodeSKUId,a=t.isMultiAccount,u=t.isWebAuthn,l=this;c.Z.dispatch({type:"LOGIN_MFA"});h.Z.post({url:u?y.ANM.LOGIN_WEBAUTHN:y.ANM.LOGIN_MFA,body:{code:e,ticket:n,login_source:o,gift_code_sku_id:i},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN_MFA}}).then((function(t){a?l.switchAccountToken(t.body.token):c.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token})}),(function(t){return c.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:I(t.body)})}))},requestSMSToken:function(t){c.Z.dispatch({type:"LOGIN_MFA_SMS"});h.Z.post({url:y.ANM.LOGIN_SMS_SEND,body:{ticket:t},oldFormErrors:!0,trackedActionData:{event:r.a9.LOGIN_REQUEST_SMS_TOKEN}
}).then((function(t){var e=t.body.phone;c.Z.dispatch({type:"LOGIN_MFA_SMS_REQUEST_SUCCESS",phone:e})}),(function(t){c.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:I(t.body)})}))},loginSMS:function(t){var e=t.code,n=t.ticket,o=t.source,i=t.giftCodeSKUId,a=t.isMultiAccount,u=this;c.Z.dispatch({type:"LOGIN_MFA_SMS"});h.Z.post({url:y.ANM.LOGIN_SMS,body:{code:e,ticket:n,login_source:o,gift_code_sku_id:i},retries:2,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGIN_MFA_SMS}}).then((function(t){a?u.switchAccountToken(t.body.token):c.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token})}),(function(t){return c.Z.dispatch({type:"LOGIN_MFA_SMS_FAILURE",message:I(t.body)})}))},loginToken:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;c.Z.dispatch({type:"LOGIN"});return new Promise((function(r){setImmediate((function(){c.Z.dispatch({type:"LOGIN_SUCCESS",token:t});e&&n.startSession(t);r()}))}))},loginReset:function(t){c.Z.dispatch({type:"LOGIN_RESET",
isMultiAccount:t})},loginStatusReset:function(){c.Z.dispatch({type:"LOGIN_STATUS_RESET"})},logout:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.Z5c.DEFAULT_LOGGED_OUT,n=arguments.length>1?arguments[1]:void 0;return h.Z.post(m({url:y.ANM.LOGOUT,body:{provider:(0,_.xJ)(),token:a.Z.get(y.JkL),voip_provider:y.mvA,voip_token:a.Z.get(y.scU)},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_LOGOUT}},null!=n&&{headers:{authorization:null!==(t=o.Z.getToken(n))&&void 0!==t?t:""}})).finally((function(){null!=n&&n!==f.default.getId()||C(e)}))},switchAccountToken:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=f.default.getToken();T.log("Switching accounts",{wasLoggedIn:null!=n,tokenHasChanged:t!==n});c.Z.dispatch({type:"LOGOUT",isSwitchingAccount:!0});var r=this.loginToken(t,!0).then((function(){var e=f.default.getToken();T.log("Switched accounts finished",{isCorrectToken:t===e})}));e&&(0,d.uL)(y.Z5c.ME);return r},
verifySSOToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.Z5c.DEFAULT_LOGGED_OUT;return i.Z.get({url:y.ANM.ME,oldFormErrors:!0}).catch((function(){return C(t)}))},verify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=t?h.Z.post({url:y.ANM.VERIFY,body:{token:t,captcha_key:e},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY}}).then((function(t){c.Z.dispatch({type:"LOGIN_SUCCESS",token:t.body.token});c.Z.dispatch({type:"VERIFY_SUCCESS",verifyingUserId:t.body.user_id})}),(function(t){return c.Z.dispatch({type:"VERIFY_FAILURE",errors:t.body})})):c.Z.dispatch({type:"VERIFY_FAILURE",errors:{}})},authorizePayment:function(t){return v((function(){return g(this,(function(e){switch(e.label){case 0:e.trys.push([0,2,,3]);return[4,h.Z.post({url:y.ANM.AUTHORIZE_PAYMENT,body:{token:t},oldFormErrors:!0,trackedActionData:{event:r.a9.AUTHORIZE_PAYMENT}})];case 1:e.sent();c.Z.dispatch({type:"VERIFY_SUCCESS"});return[3,3];case 2:
e.sent();c.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[3,3];case 3:return[2]}}))}))()},authorizeIPAddress:function(t){return v((function(){return g(this,(function(e){switch(e.label){case 0:if(null==t){c.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[2]}e.label=1;case 1:e.trys.push([1,3,,4]);return[4,h.Z.post({url:y.ANM.AUTHORIZE_IP,body:{token:t},oldFormErrors:!0,trackedActionData:{event:r.a9.AUTHORIZE_IP}})];case 2:e.sent();c.Z.dispatch({type:"VERIFY_SUCCESS"});return[3,4];case 3:e.sent();c.Z.dispatch({type:"VERIFY_FAILURE",errors:{}});return[3,4];case 4:return[2]}}))}))()},verifyResend:function(){return h.Z.post({url:y.ANM.VERIFY_RESEND,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_VERIFY_RESEND}})},resetPassword:function(t,e){return v((function(){var n,o,i,l,s,d,f,p,S,E,v,O;return g(this,(function(m){switch(m.label){case 0:c.Z.dispatch({type:"LOGIN"});n={token:t,password:e};o=a.Z.get(y.JkL);if(null!=(i=(0,_.xJ)())&&null!=o){n.push_provider=i;n.push_token=o}
l=a.Z.get(y.scU);if(null!=y.mvA&&null!=l){n.push_voip_provider=y.mvA;n.push_voip_token=l}m.label=1;case 1:m.trys.push([1,3,,4]);return[4,h.Z.post({url:y.ANM.RESET_PASSWORD,body:n,oldFormErrors:!0,trackedActionData:{event:r.a9.USER_RESET_PASSWORD}})];case 2:s=m.sent(),d=s.body,f=d.mfa,p=d.sms,S=d.webauthn,E=d.ticket,v=d.token;return[2,{result:f?b.MFA:b.SUCCESS,sms:p,webauthn:S,ticket:E,token:v}];case 3:O=m.sent();c.Z.dispatch({type:"LOGIN_FAILURE",error:new u.yZ(O)});throw O;case 4:return[2]}}))}))()},resetPasswordMFA:function(t,e,n,o){return v((function(){var i;return g(this,(function(a){switch(a.label){case 0:c.Z.dispatch({type:"LOGIN_MFA"});a.label=1;case 1:a.trys.push([1,3,,4]);return[4,h.Z.post({url:y.ANM.RESET_PASSWORD,body:{code:t,ticket:e,password:n,token:o},oldFormErrors:!0,trackedActionData:{event:r.a9.USER_RESET_PASSWORD,properties:{mfa:!0}}})];case 2:return[2,a.sent().body.token];case 3:i=a.sent();c.Z.dispatch({type:"LOGIN_MFA_FAILURE",message:I(i.body)});throw i;case 4:
return[2]}}))}))()},forgotPassword:function(t,e){return v((function(){var n,o;return g(this,(function(i){switch(i.label){case 0:this.setLoginCredentials(t);c.Z.dispatch({type:"FORGOT_PASSWORD_REQUEST"});i.label=1;case 1:i.trys.push([1,3,,4]);return[4,h.Z.post({url:y.ANM.FORGOT_PASSWORD,body:{login:t,captcha_key:e},oldFormErrors:!0,trackedActionData:{event:r.a9.FORGOT_PASSWORD}})];case 2:i.sent();c.Z.dispatch({type:"FORGOT_PASSWORD_SENT"});return[3,4];case 3:n=i.sent();o=new u.yZ(n);o.code===y.evJ.PHONE_VERIFICATION_REQUIRED?c.Z.dispatch({type:"LOGIN_PASSWORD_RECOVERY_PHONE_VERIFICATION"}):c.Z.dispatch({type:"LOGIN_FAILURE",error:o});throw n;case 4:return[2]}}))})).apply(this)},setFingerprint:function(t){c.Z.dispatch({type:"FINGERPRINT",fingerprint:t})},getExperiments:function(t){c.Z.dispatch({type:"EXPERIMENTS_FETCH",withGuildExperiments:t})},getLocationMetadata:function(){if(null!=N)return N;clearTimeout(A);A=setTimeout((function(){c.Z.dispatch({type:"SET_CONSENT_REQUIRED",
consentRequired:!0})}),5e3);return N=i.Z.get({url:y.ANM.AUTH_LOCATION_METADATA,retries:2,oldFormErrors:!0}).then((function(t){var e,n,r;clearTimeout(A);if(null==p.Z.getAuthenticationConsentRequired()){var o,i,a=null===(i=null==t||null===(o=t.body)||void 0===o?void 0:o.consent_required)||void 0===i||i;c.Z.dispatch({type:"SET_CONSENT_REQUIRED",consentRequired:a})}c.Z.dispatch({type:"SET_LOCATION_METADATA",countryCode:null!==(r=null==t||null===(e=t.body)||void 0===e?void 0:e.country_code)&&void 0!==r?r:void 0});N=null;if(null!=(null==t||null===(n=t.body)||void 0===n?void 0:n.promotional_email_opt_in)){var u=t.body.promotional_email_opt_in;(0,l.K4)({required:u.required,checked:u.pre_checked,preChecked:u.pre_checked})}}),(function(){clearTimeout(A);c.Z.dispatch({type:"SET_CONSENT_REQUIRED",consentRequired:!0});N=null}))}}},579194:(t,e,n)=>{n.d(e,{FD:()=>m,Zy:()=>A,ss:()=>b,S2:()=>g,Mn:()=>N,ol:()=>I,V3:()=>C,I5:()=>R,UZ:()=>w,cV:()=>U,b9:()=>Z,si:()=>k,W3:()=>L,P6:()=>M,_V:()=>P})
;var r=n(611345),o=n(281110),i=n(630631),a=n(575945),c=n(744564),u=n(571690),l=n(784426),s=n(652591),d=n(775173),f=n(488110),p=n(120415),_=n(2590),h=n(473708);function y(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){y(i,r,o,a,c,"next",t)}function c(t){y(i,r,o,a,c,"throw",t)}a(void 0)}))}}function E(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){E(t,e,n[e])}))}return t}var O=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1]
;return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}
;function m(){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_INIT"})}function A(){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_CLOSE"})}function b(t,e){var n=e?h.Z.Messages.DELETE_ACCOUNT:h.Z.Messages.DISABLE_ACCOUNT,r=e?_.ANM.DELETE_ACCOUNT:_.ANM.DISABLE_ACCOUNT;return(0,f.Z)((function(e){return o.Z.post({url:r,body:v({password:t},e),oldFormErrors:!0})}),{modalProps:{title:n},checkEnabled:!1}).then((function(){c.Z.dispatch({type:"LOGOUT"});(0,l.uL)(_.Z5c.DEFAULT_LOGGED_OUT)}))}function g(t){return T.apply(this,arguments)}function T(){return(T=S((function(t){var e,n,r;return O(this,(function(i){switch(i.label){case 0:return[4,(0,u.withCaptchaInterceptor)((function(e){return o.Z.patch({url:_.ANM.ME,oldFormErrors:!0,body:v({},t,e)})}))];case 1:e=i.sent();if((n=e.body).token){r=n.token;delete n.token;c.Z.dispatch({type:"UPDATE_TOKEN",token:r,userId:n.id});null!=(null==t?void 0:t.password)&&null!=(null==t?void 0:t.new_password)&&c.Z.dispatch({type:"PASSWORD_UPDATED",userId:n.id})}c.Z.dispatch({
type:"CURRENT_USER_UPDATE",user:n});return[2,e]}}))}))).apply(this,arguments)}function N(t){var e=t.username,n=t.discriminator,o=t.email,a=t.emailToken,u=t.password,l=t.avatar,y=t.avatarDecoration,S=t.newPassword,E=t.globalName;c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT"});return(0,f.Z)((function(t){var c=v({username:e,email:o,email_token:a,password:u,avatar:l,discriminator:n,global_name:E,new_password:S},t);(0,r.EQ)(y).with(null,(function(){c.avatar_decoration_preset=null})).with({data:r.P.string},(function(t){var e=t.data;c.avatar_decoration=e})).with({hash:r.P.string,sku:{id:r.P.string}},(function(t){var e=t.hash,n=t.sku;c.avatar_decoration_id="c:".concat(null==n?void 0:n.id,":").concat(e)})).with({id:r.P.string},(function(t){c.avatar_decoration_preset=null==t?void 0:t.id})).otherwise(_.dG4);var s=i.Z.get(_.JkL),d=(0,p.xJ)();if(null!=d&&null!=s){c.push_provider=d;c.push_token=s}var f=i.Z.get(_.scU);if(null!=_.mvA&&null!=f){c.push_voip_provider=_.mvA;c.push_voip_token=f}
return g(c)}),{checkEnabled:!1,modalProps:{title:h.Z.Messages.TWO_FA_CHANGE_ACCOUNT},hooks:{onEarlyClose:function(){return c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:{}})}}}).then((function(t){var e=t.body;s.default.track(_.rMx.USER_AVATAR_UPDATED,{animated:(0,d.xR)(e.avatar)});c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS"});return t}),(function(t){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE",errors:t.body});return t}))}function I(){return o.Z.get({url:_.ANM.USER_HARVEST,oldFormErrors:!0})}function C(){return o.Z.post({url:_.ANM.USER_HARVEST,oldFormErrors:!0})}function R(t){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR",avatar:t});null==t?a.uv.announce(h.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_NONE):a.uv.announce(h.Z.Messages.A11Y_ANNOUNCEMENT_AVATAR_CHANGED)}function w(t){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_GLOBAL_NAME",globalName:t})}function U(t){c.Z.dispatch({
type:"USER_SETTINGS_ACCOUNT_SET_PENDING_AVATAR_DECORATION",avatarDecoration:t})}function Z(){c.Z.dispatch({type:"USER_SETTINGS_CLEAR_ERRORS"})}function k(){c.Z.dispatch({type:"USER_SETTINGS_RESET_PENDING_ACCOUNT_CHANGES"})}function L(){c.Z.dispatch({type:"USER_SETTINGS_RESET_ALL_PENDING"})}function M(){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_RESET_AND_CLOSE_FORM"})}function P(t){c.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_DISABLE_SUBMIT",disable:t})}},527005:(t,e,n)=>{n.d(e,{K4:()=>o,ZJ:()=>i,MD:()=>a});var r=(0,n(38736).Z)((function(){return{required:!1,checked:!1,preChecked:!1}})),o=function(t){r.setState(t)},i=function(t){r.setState({checked:t})},a=r},571690:(t,e,n)=>{n.r(e);n.d(e,{CaptchaError:()=>r,extractCaptchaPropsFromResponseBody:()=>o,withCaptchaInterceptor:()=>i});var r;!function(t){t.CANCEL="cancel";t.ERROR="error";t.EXPIRED="expired"}(r||(r={}));function o(t){return{captchaService:t.captcha_service,sitekey:t.captcha_sitekey,options:{rqdata:t.captcha_rqdata,
rqtoken:t.captcha_rqtoken}}}function i(t){return new Promise((function(e,r){t().then(e,(function(i){if(400===(a=i).status&&null!=(null===(c=a.body)||void 0===c?void 0:c.captcha_key)){var a,c;n.e(72519).then(n.bind(n,972519)).then((function(n){var a=o(i.body);return n.default.showCaptchaAsync(a).then((function(n){return t(n).then(e,r)}),r)}),r)}else r(i)}))}))}},854104:(t,e,n)=>{n.r(e);n.d(e,{default:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),c=n(945460),u=n(84441),l=n(579194),s=n(415879),d=n(107364),f=n(652591),p=n(646161),_=n(463473),h=n(2590),y=n(571680),S=n(473708),E=n(323379),v=n.n(E);function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){n(t);return}c.done?e(u):Promise.resolve(u).then(r,o)}function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function g(t){
var e=t.email,n=t.setEmail,i=t.claimRequired,f=t.onSuccess,p=t.onClose,E=A(o.useState(),2),O=E[0],g=E[1],T=A(o.useState(""),2),N=T[0],I=T[1],C=A(o.useState(""),2),R=C[0],w=C[1],U=A(o.useState(!1),2),Z=U[0],k=U[1];o.useEffect((function(){return s.Z.flowStep(y.MK.ANY,y.mx.CLAIM_ACCOUNT)}),[]);var L,M,P=(M=(L=function(t){var n,r,o;return b(this,(function(i){switch(i.label){case 0:t.preventDefault();k(!0);g("");w("");i.label=1;case 1:i.trys.push([1,3,,4]);return[4,(0,l.S2)({email:e,password:N})];case 2:i.sent();k(!1);f();return[3,4];case 3:(null==(n=i.sent())||null===(r=n.body)||void 0===r?void 0:r.email)&&g(n.body.email);(null==n||null===(o=n.body)||void 0===o?void 0:o.password)&&w(n.body.password);k(!1);return[3,4];case 4:return[2]}}))},function(){var t=this,e=arguments;return new Promise((function(n,r){var o=L.apply(t,e);function i(t){m(o,n,r,i,a,"next",t)}function a(t){m(o,n,r,i,a,"throw",t)}i(void 0)}))}),function(t){return M.apply(this,arguments)});return(0,r.jsxs)("div",{
className:a()(v().modalLight,(0,_.Q)(h.BRd.LIGHT)),children:[(0,r.jsxs)(c.ModalHeader,{className:v().formHeader,direction:d.Z.Direction.VERTICAL,separator:!1,children:[(0,r.jsx)("div",{className:v().formImage}),(0,r.jsx)(c.Heading,{className:v().formTitle,variant:"heading-xl/semibold",children:S.Z.Messages.FINISH_SIGNING_UP}),(0,r.jsx)(c.Text,{className:v().formBody,variant:"text-md/normal",color:"header-secondary",children:i?S.Z.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:S.Z.Messages.CLAIM_ACCOUNT_BODY_2}),(0,r.jsx)(c.ModalCloseButton,{className:v().closeButton,onClick:p})]}),(0,r.jsx)(c.ModalContent,{children:(0,r.jsxs)("form",{className:v().formContent,onSubmit:P,children:[(0,r.jsx)(c.FormItem,{title:S.Z.Messages.FORM_LABEL_EMAIL,className:v().formItem,children:(0,r.jsx)(c.TextInput,{value:e,error:O,onChange:function(t){return n(t)},autoFocus:!0})}),(0,r.jsx)(c.FormItem,{title:S.Z.Messages.FORM_LABEL_PASSWORD,className:v().formItem,children:(0,r.jsx)(c.TextInput,{type:"password",value:N,
error:R,onChange:function(t){return I(t)}})}),(0,r.jsx)(c.Button,{type:"submit",size:c.Button.Sizes.LARGE,fullWidth:!0,submitting:Z,disabled:0===e.length||0===N.length,children:S.Z.Messages.CLAIM_ACCOUNT}),i&&(0,r.jsx)(c.Button,{className:v().logoutButton,color:c.Button.Colors.PRIMARY,look:c.Button.Looks.LINK,size:c.Button.Sizes.NONE,onClick:function(){u.Z.logout();p()},children:S.Z.Messages.LOGOUT})]})})]})}function T(t){var e=t.email,n=t.claimRequired,i=t.onClose,u=function(){window.open((0,p.t3)(),"_blank");f.default.track(h.rMx.DOWNLOAD_APP,{platform:(0,p.DW)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})},l=n?S.Z.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:S.Z.Messages.CLAIM_ACCOUNT_EMAIL_TO;o.useEffect((function(){return s.Z.flowStep(y.MK.ANY,y.mx.CLAIM_ACCOUNT_SUCCESS)}),[]);return(0,r.jsxs)("div",{className:a()(v().modalLight,(0,_.Q)(h.BRd.LIGHT)),children:[(0,r.jsxs)(c.ModalContent,{className:v().successContent,children:[!n&&(0,
r.jsx)(c.ModalCloseButton,{className:v().closeButton,onClick:i}),(0,r.jsx)("div",{className:v().successImage}),(0,r.jsx)(c.Text,{className:v().successTitle,variant:"text-lg/semibold",children:l.format({email:e})}),(0,r.jsx)(c.Text,{className:v().successPromotion,variant:"text-md/normal",children:S.Z.Messages.CLAIM_ACCOUNT_PROMOTE_APP_2021_04})]}),n?(0,r.jsx)(c.ModalFooter,{direction:d.Z.Direction.VERTICAL,children:(0,r.jsx)(c.Button,{size:c.Button.Sizes.LARGE,onClick:i,children:S.Z.Messages.OKAY})}):(0,r.jsx)(c.ModalFooter,{direction:d.Z.Direction.VERTICAL,children:(0,r.jsx)(c.Button,{color:c.Button.Colors.BRAND,size:c.Button.Sizes.LARGE,onClick:u,children:S.Z.Messages.CLAIM_ACCOUNT_GET_APP})})]})}function N(t){var e=t.onClose,n=t.transitionState,i=t.claimRequired,a=void 0!==i&&i,u=A(o.useState(""),2),l=u[0],s=u[1],d=A(o.useState(!1),2),f=d[0],p=d[1];return f?(0,r.jsx)(c.ModalRoot,{transitionState:n,children:(0,r.jsx)(T,{email:l,claimRequired:a,onClose:e})}):(0,r.jsx)(c.ModalRoot,{
transitionState:n,children:(0,r.jsx)(g,{email:l,setEmail:s,claimRequired:a,onSuccess:function(){return p(!0)},onClose:e})})}},571680:(t,e,n)=>{n.d(e,{MK:()=>r,FF:()=>o,mx:()=>i,X2:()=>a,EW:()=>c});var r,o,i,a,c;!function(t){t.UNKNOWN="unknown";t.ANY="any";t.INVITE="invite";t.ORGANIC="organic_registration";t.ORGANIC_MARKETING="organic_marketing";t.ORGANIC_GUILD_TEMPLATES="organic_guild_template";t.CREATE_GUILD="create_guild"}(r||(r={}));!function(t){t.AGE_GATE="age_gate";t.AGE_GATE_UNDERAGE="age_gate_underage"}(o||(o={}));!function(t){t.CLAIM_ACCOUNT="claim_account";t.CLAIM_ACCOUNT_SUCCESS="claim_account_success"}(i||(i={}));!function(t){t.GUILD_TEMPLATES="guild_templates";t.GUILD_CREATE="guild_create";t.CREATION_INTENT="creation_intent";t.CHANNEL_PROMPT="channel_prompt";t.JOIN_GUILD="join_guild";t.SUCCESS="create_success"}(a||(a={}));!function(t){t.NUF_STARTED="nuf_started";t.AGE_GATE="age_gate";t.NUF_COMPLETE="nuf_complete";t.HUB_CONNECTION="hub_connection"}(c||(c={}))},
415879:(t,e,n)=>{n.d(e,{Z:()=>A});var r=n(38736),o=n(630631),i=n(296602),a=n(652591),c=n(571680),u=n(2590);function l(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){l(t,e,n[e])}))}return t}function d(t,e){e=null!=e?e:{};Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})));n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))
}));return t}function f(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}}return o}function p(t){var e=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_(e)?e:String(e)}var _=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},h="UserFlowAnalyticsStore_current",y="UserFlowAnalyticsStore";new i.Z("UserFlowAnalytics");function S(t){if(t===c.MK.UNKNOWN)return null;var e=o.Z.get("".concat(y,"-").concat(t))
;if(null==e)return null;var n=e.version,r=f(e,["version"]);return 1!==n?null:r}var E=(0,r.Z)((function(t,e){return l({flows:{},currentFlow:null},"activeFlow",(function(){var t,n=null!==(t=e().currentFlow)&&void 0!==t?t:o.Z.get(h);if(null==n)return null;var r=e().flows[n],i=null!=r?r:S(n);return null!=(null==i?void 0:i.currentStep)?n:null}))}));E.subscribe((function(t){var e;if(null!=t){!function(t){if(t.type!==c.MK.UNKNOWN){var e="".concat(y,"-").concat(t.type);if(t.ended){o.Z.remove(e);o.Z.remove(h)}else{o.Z.set("".concat(y,"-").concat(t.type),d(s({},t),{version:1}));o.Z.set(h,t.type)}}}(t);a.default.track(u.rMx.NUO_TRANSITION,{flow_type:t.type,from_step:t.lastStep,to_step:t.currentStep,seconds_on_from_step:"function"!=typeof(null===(e=t.lastTimestamp)||void 0===e?void 0:e.getTime)?0:(t.currentTimestamp.getTime()-t.lastTimestamp.getTime())/1e3},{flush:!0});if(t.ended){var n=s({},E.getState().flows);delete n[t.type];E.setState({flows:n,currentFlow:null})}}}),(function(t){
return null!=t.currentFlow?t.flows[t.currentFlow]:void 0}));function v(t,e){var n=E.getState().flows,r=n[t],o=f(n,[t].map(p)),i=null!=r?r:S(t);if(null!=(null==i?void 0:i.currentStep)){if(i.currentStep===e)return;0}E.setState({flows:d(s({},o),l({},t,{type:t,lastStep:null,lastTimestamp:null,currentStep:e,currentTimestamp:new Date,skipped:!1})),currentFlow:t})}function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;if(t===c.MK.ANY){var o;r=null!==(o=E.getState().activeFlow())&&void 0!==o?o:c.MK.UNKNOWN}var i=E.getState().flows,a=i[r],u=f(i,[r].map(p)),_=null!=a?a:S(r);null!=_&&null!=_.currentStep&&_.currentStep!==e&&E.setState({flows:d(s({},u),l({},r,d(s({},_),{lastStep:_.currentStep,lastTimestamp:_.currentTimestamp,currentStep:e,currentTimestamp:new Date,ended:n}))),currentFlow:r})}function m(){return null!=E.getState().activeFlow()}const A={flowStart:v,flowStepOrStart:function(t,e){m()?O(t,e):v(t,e)},flowStep:O,hasActiveFlow:m}},31914:(t,e,n)=>{n.d(e,{Z:()=>v})
;var r=n(202351),o=n(744564);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(t,r.key,r)}}function c(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function u(t){u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return u(t)}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))));r.forEach((function(e){c(t,e,n[e])}))}return t}function s(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){
if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e){d=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return d(t,e)}var f=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var _=!1,h=!1,y={},S=null;var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&d(t,e)
}(n,t);var e=p(n);function n(){i(this,n);return e.apply(this,arguments)}var r=n.prototype;r.hasConsented=function(t){return null!=y[t]&&y[t].consented};r.getAuthenticationConsentRequired=function(){return S};r.__getLocalVars=function(){return{fetchedConsents:_,receivedConsentsInConnectionOpen:h,consents:y,authenticationConsentRequired:S}};!function(t,e,n){e&&a(t.prototype,e);n&&a(t,n)}(n,[{key:"fetchedConsents",get:function(){return _}},{key:"receivedConsentsInConnectionOpen",get:function(){return h}}]);return n}(r.ZP.Store);E.displayName="ConsentStore";const v=new E(o.Z,{CONNECTION_OPEN:function(t){var e=t.consents;if(null!=e){y=l({},y,e);h=!0}},UPDATE_CONSENTS:function(t){var e=t.consents;y=l({},e);_=!0},SET_CONSENT_REQUIRED:function(t){S=t.consentRequired},LOGOUT:function(){S=null}})},646161:(t,e,n)=>{n.d(e,{w4:()=>O,DW:()=>A,t3:()=>b,Gn:()=>g});var r,o=n(131795),i=n.n(o),a=n(58964),c=n(736818),u=n(2590);function l(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,
configurable:!0,writable:!0}):t[e]=n;return t}var s="Ubuntu",d="Debian",f="Fedora",p="Red Hat",_="SuSE",h="Linux",y="OS X",S="win",E="osx",v="linux";function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e?"/ptb":"",o=null!=n?"&format=".concat(n):"";return"".concat(u.fzT.DESKTOP).concat(r,"?platform=").concat(t).concat(o)}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(r=i().os)||void 0===r?void 0:r.family;return null==t?S:-1!==t.indexOf(s)||-1!==t.indexOf(d)||-1!==t.indexOf(f)||-1!==t.indexOf(p)||-1!==t.indexOf(_)||-1!==t.indexOf(h)?v:-1!==t.indexOf(y)?E:S}function A(t){var e;return(l(e={},S,"Windows"),l(e,E,"Mac"),l(e,v,"Linux"),e)[m(t)]}function b(){var t=m();return O(t,!1,t===v?"tar.gz":null)}function g(t,e,n){var r=null!=n?n.toString():null;switch(e){case"iOS":return(0,a.ZP)(null!=r?r:"https://itunes.apple.com/us/app/discord-chat-for-games/id985746746",{utmSource:t,
fingerprint:c.default.getFingerprint(),attemptId:(0,a.WS)()});case"Android":return(0,a.ZP)(null!=r?r:"https://play.google.com/store/apps/details",{utmSource:t,id:"com.discord",fingerprint:c.default.getFingerprint(),attemptId:(0,a.WS)()});default:return null!=r?r:"https://www.discord.com"}}},801809:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(281110);const o=(0,n(260561).B)({kind:"user",id:"2021-04_network_action_logging",label:"Standard Analytics: Log Network Actions",defaultConfig:{useStandardAnalytics:!1},treatments:[{id:1,label:"Log network actions",config:{useStandardAnalytics:!0}}]});var i=n(652591);function a(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable
}))));r.forEach((function(e){a(t,e,n[e])}))}return t}function u(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}}return o}function l(t,e,n){var r=o.getCurrentConfig({},{autoTrackExposure:!1}).useStandardAnalytics,a=e.trackedActionData,l=u(e,["trackedActionData"]),s={url:l.url,request_method:n};return new Promise((function(e,n){t(l).then((function(t){if(r){var n=a.properties;"function"==typeof a.properties&&(n=a.properties(t));(0,i.trackNetworkAction)(a.event,c({status_code:t.status},s,n))}e(t)})).catch((function(t){if(r){var e,o,u=a.properties;"function"==typeof a.properties&&(u=a.properties(t));(0,i.trackNetworkAction)(a.event,c({status_code:t.status,
error_code:null===(e=t.body)||void 0===e?void 0:e.code,error_message:null===(o=t.body)||void 0===o?void 0:o.message},s,u))}n(t)}))}))}const s={get:function(t){return l(r.Z.get,t,"get")},post:function(t){return l(r.Z.post,t,"post")},put:function(t){return l(r.Z.put,t,"put")},patch:function(t){return l(r.Z.patch,t,"patch")},delete:function(t){return l(r.Z.delete,t,"del")}}},58964:(t,e,n)=>{n.d(e,{ZP:()=>_,WS:()=>f,zS:()=>p});var r=n(131795),o=n.n(r),i=n(468811),a=n.n(i);const c=n(426080).Z;function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||(o[n]=t[n])}return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++){n=i[r];e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}}return o}function s(t,e){
return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(e&&i.length===e)break}}catch(t){c=!0;o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d="https://discordapp.page.link";function f(){return a().v4()}function p(t){if(!t.startsWith(d))return null;try{
var e=new URL(t).searchParams,n=e.get("link");if(null==n)return null;var r,o=decodeURIComponent(n),i=new URL(o).searchParams,a={utmSource:null!==(r=e.get("utm_source"))&&void 0!==r?r:void 0},c=!0,u=!1,l=void 0;try{for(var f,p=i.entries()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var _=s(f.value,2),h=_[0],y=_[1];a[h]=y}}catch(t){u=!0;l=t}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}return a}catch(t){return null}}function _(t,e){var n=e.utmSource,r=e.androidFallbackLink,i=e.iosFallbackLink,a=l(e,["utmSource","androidFallbackLink","iosFallbackLink"]),u=new URL(t);for(var s in a){var f=a[s];null!=f&&u.searchParams.set(s,f)}var p,_,h,y,S,E=encodeURIComponent(u.toString()),v=encodeURIComponent(c()),O=(h=new RegExp("(".concat(["WebView","(iPhone|iPod|iPad)(?!.*Safari/)"].join("|"),")"),"ig"),y=null!=(null===o()||void 0===o()||null===(p=o().ua)||void 0===p?void 0:p.match(h)),S="Safari"===(null===o()||void 0===o()?void 0:o().name)&&!y,
"iOS"!==(null===o()||void 0===o()||null===(_=o().os)||void 0===_?void 0:_.family)||S?1:0),m=null!=r?encodeURIComponent(r):null,A=null!=i?encodeURIComponent(i):null,b="".concat(d,"/?link=").concat(E,"&utm_source=").concat(n,"&apn=").concat("com.discord","&isi=").concat(985746746,"&ibi=").concat("com.hammerandchisel.discord","&sd=").concat(v,"&efr=").concat(O);null!=m&&(b+="&afl=".concat(m));null!=A&&(b+="&ifl=".concat(A));return b}},426080:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(805829);function o(){return r.Z.Messages.DynamicLinks.IOS_APP_PREVIEW_DESCRIPTION}}}]);
//# sourceMappingURL=34fd9096c6c98fc13931.js.map