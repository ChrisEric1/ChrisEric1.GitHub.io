"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[13035],{343639:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(785893),i=(t(667294),t(213276));function o(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){o(e,n,t[n])}))}return e}function u(e,n){return function(t){return(0,r.jsx)(i.Z,{page:n.page,section:n.section,object:n.object,objectType:n.objectType,children:(0,r.jsx)(e,a({},t))})}}},567678:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(785893),i=(t(667294),t(19585));function o(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function a(e){
for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){o(e,n,t[n])}))}return e}function u(e,n){return function(t){var o=(0,i.Z)(n).AnalyticsLocationProvider;return(0,r.jsx)(o,{children:(0,r.jsx)(e,a({},t))})}}},82055:(e,n,t)=>{t.d(n,{Z:()=>q});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),a=t(57141),u=t(875700),c=t(579581),l=t(19585),s=t(28661),f=t(73727),d=t(598007),p=t(557162),b=t(47038),y=t(304493),I=t(979965),h=t(736818),v=t(61209),O=t(27851),m=t(567403),_=t(682776),Z=t(491260),g=t(840922),E=t(715107),j=t(436154),S=t(473903),P=t(407561),N=t(453007),M=t(773148),T=t(582762),A=t(258104),w=t(61040),C=t(774189),x=t(545580),G=t(71854),U=t(375342),L=t(483535),D=t(595258),V=t(88067),k=t(2590),R=t(966334),Y=t(473708);function F(e,n){
(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function J(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){t(e);return}u.done?n(c):Promise.resolve(c).then(r,i)}function z(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){J(o,r,i,a,u,"next",e)}function u(e){J(o,r,i,a,u,"throw",e)}a(void 0)}))}}function H(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function W(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function X(e){
return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{
if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;r=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function q(e,n){var F=(0,l.Z)().analyticsLocations,J=(0,i.e7)([S.default],(function(){return S.default.getCurrentUser()})),q=(0,i.e7)([A.ZP],(function(){return A.ZP.getSelfEmbeddedActivities()})),K=(0,i.Wu)([j.Z],(function(){return j.Z.getActivities().filter((function(e){
return null!=e.application_id&&!(null==q?void 0:q.has(e.application_id))}))})),Q=(0,i.Wu)([Z.Z],(function(){return null!=n?Z.Z.getActivities(n.id,null==e?void 0:e.getGuildId()):[]}),[n,e]),$=(0,i.Wu)([A.ZP],(function(){var t=null!=(null==e?void 0:e.id)?A.ZP.getEmbeddedActivitiesForChannel(e.id):A.i6;return null!=n?t.filter((function(e){return e.connections.has(n.id)})):t}),[n,e]),ee=(0,L.Z)(),ne=(0,i.e7)([_.Z],(function(){return null==e||e.isPrivate()||_.Z.can(k.Plq.SEND_MESSAGES,e)}),[e]),te=(0,i.Wu)([N.Z],(function(){return X(Q.map((function(e){return null!=e.application_id&&N.Z.getState(e.application_id,k.mFx.JOIN)===k.OcF.LOADING}))).concat(X($.map((function(e){return N.Z.getState(e.application_id,k.mFx.JOIN)===k.OcF.LOADING}))))}),[Q,$]),re=(0,s.Z)(X(Q.filter((function(e){return null!=(null==e?void 0:e.application_id)})).map((function(e){return e.application_id}))).concat(X($.map((function(e){return e.application_id}))))),ie=(0,i.Wu)([v.Z,m.Z,O.Z,g.Z,E.Z,P.Z,_.Z],(function(){
return X(Q.map((function(t){return(0,C.Z)({user:null!=n?n:J,activity:t,application:re.find((function(e){return(null==e?void 0:e.id)===t.application_id})),channelId:null==e?void 0:e.id,currentUser:J,isEmbedded:(0,G.Z)(t),ChannelStore:v.Z,GuildStore:m.Z,GuildMemberCountStore:O.Z,RelationshipStore:g.Z,SelectedChannelStore:E.Z,VoiceStateStore:P.Z,PermissionStore:_.Z})}))).concat(X($.map((function(t){return(0,C.Z)({user:null!=n?n:J,activity:t,application:re.find((function(e){return(null==e?void 0:e.id)===t.application_id})),channelId:null==e?void 0:e.id,currentUser:J,isEmbedded:!0,ChannelStore:v.Z,GuildStore:m.Z,GuildMemberCountStore:O.Z,RelationshipStore:g.Z,SelectedChannelStore:E.Z,VoiceStateStore:P.Z,PermissionStore:_.Z})}))))}),[Q,J,$,n]),oe=(0,i.Wu)([f.Z,h.default],(function(){return Q.map((function(e){return e.type===k.IIU.LISTENING&&null!=n?(0,b.Z)(f.Z,h.default,n,e):void 0}))}),[n,Q]),ae=(0,c.O)();if(!ne)return null;var ue,ce=function(t,r){null!=e?a.Z.sendActivityInvite({type:t,
channelId:e.id,activity:r,location:k.Sbl.CONTEXT_MENU}):null!=n&&a.Z.sendActivityInviteUser({type:t,userId:n.id,activity:r,location:k.Sbl.CONTEXT_MENU})},le=function(i,a){var u=v.Z.getChannel(i),c=null==u?void 0:m.Z.getGuild(u.guild_id);if(null!=u&&null!=c)return null!=n?T.pu({channelId:u.id,applicationId:a,userId:n.id,location:k.t4x.CONTEXT_MENU}):null!=e&&e.type===k.d4z.GUILD_VOICE?(0,o.openModalLazy)(z((function(){var n,i;return B(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(3790),t.e(54765),t.e(56356),t.e(47956),t.e(39813),t.e(95357),t.e(51965)]).then(t.bind(t,654765))];case 1:n=o.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,W(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){H(e,n,t[n])
}))}return e}({},n),{guild:c,channel:u,applicationId:a,analyticsLocation:e.type===k.d4z.GUILD_VOICE?k.ZY5.GUILD_CHANNEL:k.ZY5.DM_CHANNEL,source:k.t4x.ACTIVITY_INVITE}))}]}}))})),{modalKey:"use-activity-items-embedded-invite-modal"}):null!=(null==e?void 0:e.id)?T.sN({activityChannelId:u.id,invitedChannelId:e.id,applicationId:a,location:k.t4x.CONTEXT_MENU}):void 0},se=(ue=z((function(e){var t;return B(this,(function(r){switch(r.label){case 0:return[4,u.Z.join({userId:n.id,sessionId:e.session_id,applicationId:e.application_id,channelId:E.Z.getVoiceChannelId(),messageId:null,intent:V.Ws.PLAY,embedded:(0,x.Z)(e,k.xjy.EMBEDDED)})];case 1:r.sent();(0,U.Z)({type:k.q5t.JOIN,userId:n.id,applicationId:e.application_id,partyId:null===(t=e.party)||void 0===t?void 0:t.id,locationObject:ae.location,analyticsLocations:F});return[2]}}))})),function(e){return ue.apply(this,arguments)}),fe=function(){var n=z((function(n){return B(this,(function(t){switch(t.label){case 0:return[4,(0,w.Z)({activity:n,
currentEmbeddedApplication:ee,activityChannelId:null==e?void 0:e.id,locationObject:ae.location,embeddedActivitiesManager:D.Z,analyticsLocations:F})];case 1:t.sent();return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),de=[];null==q||q.forEach((function(t){var i=null!=(null==n?void 0:n.id)&&t.connections.has(null==n?void 0:n.id),a=_.Z.can(k.Plq.CREATE_INSTANT_INVITE,e);null!=t.activity_id&&!i&&a&&de.push((0,r.jsx)(o.MenuItem,{id:"invite-to-join-embedded",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_JOIN,subtext:t.name,action:function(){le(t.channelId,t.application_id)}},"self-embedded-".concat(t.application_id)))}));K.forEach((function(e,n){e.type===k.IIU.PLAYING&&(0,x.Z)(e,k.xjy.JOIN)?de.push((0,r.jsx)(o.MenuItem,{id:"invite-to-join",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_JOIN,subtext:e.name,action:function(){return ce(k.mFx.JOIN,e)}},"self".concat(n))):e.type===k.IIU.LISTENING&&(0,x.Z)(e,k.xjy.SYNC)&&de.push((0,r.jsx)(o.MenuItem,{
id:"invite-to-listen",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_LISTEN_ALONG,subtext:e.name,action:function(){return ce(k.mFx.LISTEN,e)}},"self".concat(n)))}));de.length>0&&de.push((0,r.jsx)(o.MenuSeparator,{}));Q.forEach((function(t,i){if(t.type===k.IIU.PLAYING&&(0,x.Z)(t,k.xjy.JOIN)&&null!=t.session_id&&null!=t.application_id)if(ie[i]){var a=te[i];de.push((0,r.jsx)(o.MenuItem,{id:"join",label:a?Y.Z.Messages.USER_ACTIVITY_JOINING:Y.Z.Messages.JOIN,disabled:a,hint:a?(0,r.jsx)(o.Spinner,{type:o.Spinner.Type.PULSING_ELLIPSIS}):null,subtext:t.name,action:function(){return se(t)}},i))}else de.push((0,r.jsx)(o.MenuItem,{id:"ask-to-join",label:Y.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,subtext:t.name,action:function(){return ce(k.mFx.JOIN_REQUEST,t)}},i));else if(t.type===k.IIU.LISTENING&&(0,x.Z)(t,k.xjy.SYNC)&&null!=oe[i]){var u=oe[i],c=u.notPlayable,l=u.playingSameTrack,s=u.isCurrentUser,f=u.syncingWithUser,b=u.syncingWithParty,h=s||c||l,v=s||f||b;de.push((0,r.jsx)(o.MenuItem,{
id:"spotify-play-".concat(t.session_id),action:function(){return(0,I.Z)(u,R.kG.USER_ACTIVITY_PLAY)},label:(0,d.Z)(u,R.kG.USER_ACTIVITY_PLAY),subtext:h?(0,p.Z)(u,R.kG.USER_ACTIVITY_PLAY,null!=e?M.Z.getNickname(e.guild_id,e.id,n):void 0):void 0,disabled:h},"spotify-play-".concat(t.session_id)),(0,r.jsx)(o.MenuItem,{id:"spotify-sync-".concat(t.session_id),action:function(){return(0,y.Z)(u,R.kG.USER_ACTIVITY_SYNC)},label:Y.Z.Messages.USER_ACTIVITY_LISTEN_ALONG,subtext:v?(0,p.Z)(u,R.kG.USER_ACTIVITY_SYNC,null!=e?M.Z.getNickname(e.guild_id,e.id,n):void 0):void 0,disabled:v},"spotify-sync-".concat(t.session_id)))}}));$.forEach((function(e,n){var t,i=e.connections.has(null!==(t=null==J?void 0:J.id)&&void 0!==t?t:""),a=n+Q.length,u=te[a]||i,c=Y.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY;i?c=Y.Z.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:te[a]&&(c=Y.Z.Messages.USER_ACTIVITY_JOINING);ie[a]&&de.push((0,r.jsx)(o.MenuItem,{id:"embedded-activity-join-".concat(e.application_id),label:c,disabled:u,
hint:te[a]?(0,r.jsx)(o.Spinner,{type:o.Spinner.Type.PULSING_ELLIPSIS}):null,subtext:e.name,action:function(){return fe(e)}},"embedded-activity-".concat(e.application_id)))}));return de}},413035:(e,n,t)=>{t.r(n);t.d(n,{default:()=>T});var r=t(785893),i=t(667294),o=t(945460),a=t(761953),u=t(971402),c=t(343639),l=t(567678),s=t(82055),f=t(153686),d=t(112897),p=t(13280),b=t(589822),y=t(736818),I=t(272362),h=t(773011),v=t(473708);function O(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function m(e,n){var t=(0,h.ZP)(e),u=i.useCallback((function(){var i=v.Z.Messages.LEAVE_GROUP_DM_TITLE.format({name:t}),u=v.Z.Messages.LEAVE_GROUP_DM_BODY.format({name:t});if(e.isManaged()){i=v.Z.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:t});u=v.Z.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:t})}var c=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.Z.closePrivateChannel(e.id,n,r)};(0,
o.openModal)((function(e){return(0,r.jsx)(I.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){O(e,n,t[n])}))}return e}({header:i,body:u,onSubmit:c},e))}))}),[e,t,n]);return(0,r.jsx)(o.MenuItem,{id:"leave-channel",label:v.Z.Messages.LEAVE_GROUP_DM,action:u,color:"danger"})}var _=t(929653),Z=t(380477),g=t(2590);function E(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){t(e);return}u.done?n(c):Promise.resolve(c).then(r,i)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){E(o,r,i,a,u,"next",e)}function u(e){E(o,r,i,a,u,"throw",e)}a(void 0)}))}}function S(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}
function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){S(e,n,t[n])}))}return e}function N(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var M=function(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){
return this}),o;function u(o){return function(u){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;r=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};const T=(0,l.Z)((0,c.Z)((function(e){var n=e.channel,i=e.selected,c=e.onSelect,l=n.isOwner(y.default.getId()),f=(0,_.Z)(n),I=(0,
Z.ZP)(n),h=m(n,i),O=(0,d.Z)({id:n.id,label:v.Z.Messages.COPY_ID_CHANNEL}),g=(0,s.Z)(n),E=(0,p.Z)(n),S=(0,b.Z)(n);return null==n||n.isManaged()?null:(0,r.jsxs)(o.Menu,{navId:"gdm-context","aria-label":v.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,onClose:u.Zy,onSelect:c,children:[(0,r.jsx)(o.MenuGroup,{children:f}),(0,r.jsxs)(o.MenuGroup,{children:[E,S]}),(0,r.jsxs)(o.MenuGroup,{children:[l?(0,r.jsx)(o.MenuItem,{id:"instant-invites",label:v.Z.Messages.INSTANT_INVITES,action:function(){return(0,o.openModalLazy)(j((function(){var e,i;return M(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(76257)]).then(t.bind(t,476257))];case 1:e=o.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,P({channelId:n.id},e))}]}}))})))}}):null,(0,r.jsx)(o.MenuControlItem,{id:"change-icon",showDefaultFocus:!0,control:function(e,t){return(0,r.jsx)(o.MenuImageUploadControl,N(P({onChange:function(t){var r;a.Z.setIcon(n.id,t);null===(r=e.onClose)||void 0===r||r.call(e)},multiple:!1,
"aria-label":v.Z.Messages.CHANGE_ICON},e),{ref:t}))},label:v.Z.Messages.CHANGE_ICON}),null!=n.icon?(0,r.jsx)(o.MenuItem,{id:"remove-icon",label:v.Z.Messages.REMOVE_ICON,action:function(){return a.Z.setIcon(n.id,null)}}):null]}),(0,r.jsx)(o.MenuGroup,{children:g}),(0,r.jsx)(o.MenuGroup,{children:I}),(0,r.jsx)(o.MenuGroup,{children:h}),(0,r.jsx)(o.MenuGroup,{children:O})]})}),{object:g.qAy.CONTEXT_MENU}),[f.Z.CONTEXT_MENU,f.Z.GROUP_DM_MENU])},929653:(e,n,t)=>{t.d(n,{Z:()=>y});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),a=t(496916),u=t(358969),c=t(536945),l=t(487685),s=t(382060),f=t(877475),d=t(717091),p=t(2590),b=t(473708);function y(e){var n=function(e){var n=(0,u.n2)(e.guild_id,e.id),t=(0,i.e7)([d.ZP,f.Z,c.Z,l.Z],(function(){if(e.isForumPost())return d.ZP.isForumPostUnread(e.id);if(e.type===p.d4z.GUILD_CATEGORY){var n=f.Z.getCategories(e.getGuildId());if(null==n[e.id])return!1;if(n[e.id].some((function(e){var n=e.channel;return(0,s.Em)(n.type)&&d.ZP.hasUnread(n.id)})))return!0
;var t=new Set(n[e.id].map((function(e){return e.channel.id}))),r=c.Z.getThreadsForGuild(e.guild_id);for(var i in r)if(t.has(i))for(var o in r[i])if(l.Z.hasJoined(o)&&!l.Z.isMuted(o)&&d.ZP.hasUnread(o))return!0;return!1}return d.ZP.hasUnread(e.id)}),[e]);return e.isForumLikeChannel()?n>0:t}(e);return(0,r.jsx)(o.MenuItem,{id:"mark-channel-read",label:b.Z.Messages.MARK_AS_READ,action:function(){(0,a.U6)(e)},disabled:!n})}},13280:(e,n,t)=>{t.d(n,{Z:()=>p});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),a=t(5544),u=t(419051),c=t(963985),l=t(790337),s=t(2590),f=t(473708);function d(e,n){return e.type===s.d4z.GROUP_DM?n?f.Z.Messages.UNFAVORITE_GDM:f.Z.Messages.FAVORITE_GDM:e.type===s.d4z.DM?n?f.Z.Messages.UNFAVORITE_DM:f.Z.Messages.FAVORITE_DM:n?f.Z.Messages.UNFAVORITE_CHANNEL:f.Z.Messages.FAVORITE_CHANNEL}function p(e){var n=(0,i.e7)([u.Z],(function(){return u.Z.isFavorite(e.id)})),t=function(e){var n=function(n){(0,c.kj)(e.id,n)},t=(0,i.e7)([a.ZP],(function(){
return a.ZP.getChannels(s.I_8)}))[s.d4z.GUILD_CATEGORY].filter((function(e){return"null"!==e.channel.id}));return l.Z.useExperiment({},{autoTrackExposure:!1}).favoritesEnabled?0===t.length?(0,r.jsx)(o.MenuItem,{id:"favorite-channel",label:d(e,!1),action:function(){return n(null)}}):(0,r.jsx)(o.MenuItem,{id:"favorite-channel",label:d(e,!1),action:function(){return n(null)},children:t.map((function(e){return(0,r.jsx)(o.MenuItem,{id:"favorite-".concat(e.channel.id),label:e.channel.name,action:function(){return n(e.channel.id)}},e.channel.id)}))}):null}(e),f=function(e){return(0,r.jsx)(o.MenuItem,{id:"favorite-channel",label:d(e,!0),action:function(){(0,c.oC)(e.id)}})}(e);return __OVERLAY__?null:n?f:t}},589822:(e,n,t)=>{t.d(n,{Z:()=>b});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),a=t(464187),u=t(2590),c=t(473708);function l(e,n,t,r,i,o,a){try{var u=e[o](a),c=u.value}catch(e){t(e);return}u.done?n(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var n=this,t=arguments
;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)}))}}function f(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function d(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}var p=function(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){
if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;r=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=n.call(e,a)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function b(e){var n=(0,i.e7)([a.Z],(function(){return a.Z.getGuildId()}));return __OVERLAY__||n!==u.I_8?null:(0,r.jsx)(o.MenuItem,{id:"set-channel-nickname",label:c.Z.Messages.CHANGE_NICKNAME,action:function(){
(0,o.openModalLazy)(s((function(){var n,i;return p(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(77876)]).then(t.bind(t,577876))];case 1:n=o.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,d(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){f(e,n,t[n])}))}return e}({},n),{channelId:e.id}))}]}}))})))}})}}}]);
//# sourceMappingURL=514a457728f3924614da.js.map