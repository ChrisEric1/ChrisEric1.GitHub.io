"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[40724],{987554:(e,t,r)=>{r.r(t);r.d(t,{default:()=>I});var n=r(785893),s=r(667294),a=r(294184),o=r.n(a),i=r(331535),l=r(822567),c=r(395951),u=r(162917),d=r(487502),f=r(67416),m=r(932847),h=r(503280),x=r(170729),C=r(461061),p=r(111775),A=r(959797),v=r(446646),b=r.n(v);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t,r,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,s)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done);o=!0){a.push(n.value);if(t&&a.length===t)break}}catch(e){i=!0;s=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw s}}return a}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e,t){var r,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;(n=0,s)&&(a=[2&a[0],s.value]);switch(a[0]){case 0:case 1:s=a;break;case 4:
o.label++;return{value:a[1],done:!1};case 5:o.label++;n=a[1];a=[0];continue;case 7:a=o.ops.pop();o.trys.pop();continue;default:if(!(s=o.trys,s=s.length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1];s=a;break}if(s&&o.label<s[2]){o.label=s[2];o.ops.push(a);break}s[2]&&o.ops.pop();o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e];n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};function M(e){var t=e.email,r=e.setEmail,a=e.claimRequired,m=e.onSuccess,h=e.onClose,v=g(s.useState(),2),y=v[0],M=v[1],S=g(s.useState(""),2),I=S[0],j=S[1],L=g(s.useState(""),2),O=L[0],E=L[1],w=g(s.useState(!1),2),R=w[0],z=w[1];s.useEffect((function(){return u.Z.flowStep(p.MK.ANY,p.mx.CLAIM_ACCOUNT)}),[]);var T,k,Z=(k=(T=function(e){var r,n,s;return N(this,(function(a){switch(a.label){case 0:e.preventDefault();z(!0);M("");E("");a.label=1;case 1:a.trys.push([1,3,,4])
;return[4,(0,c.S2)({email:t,password:I})];case 2:a.sent();z(!1);m();return[3,4];case 3:(null==(r=a.sent())||null===(n=r.body)||void 0===n?void 0:n.email)&&M(r.body.email);(null==r||null===(s=r.body)||void 0===s?void 0:s.password)&&E(r.body.password);z(!1);return[3,4];case 4:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(r,n){var s=T.apply(e,t);function a(e){_(s,r,n,a,o,"next",e)}function o(e){_(s,r,n,a,o,"throw",e)}a(void 0)}))}),function(e){return k.apply(this,arguments)});return(0,n.jsxs)("div",{className:o()(b().modalLight,(0,x.Q)(C.BRd.LIGHT)),children:[(0,n.jsxs)(f.xB,{className:b().formHeader,direction:d.Z.Direction.VERTICAL,separator:!1,children:[(0,n.jsx)("div",{className:b().formImage}),(0,n.jsx)(i.X6,{className:b().formTitle,variant:"heading-xl/semibold",children:A.Z.Messages.FINISH_SIGNING_UP}),(0,n.jsx)(i.xv,{className:b().formBody,variant:"text-md/normal",color:"header-secondary",
children:a?A.Z.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:A.Z.Messages.CLAIM_ACCOUNT_BODY_2}),(0,n.jsx)(f.ol,{className:b().closeButton,onClick:h})]}),(0,n.jsx)(f.hz,{children:(0,n.jsxs)("form",{className:b().formContent,onSubmit:Z,children:[(0,n.jsx)(i.xJ,{title:A.Z.Messages.FORM_LABEL_EMAIL,className:b().formItem,children:(0,n.jsx)(i.oi,{value:t,error:y,onChange:function(e){return r(e)},autoFocus:!0})}),(0,n.jsx)(i.xJ,{title:A.Z.Messages.FORM_LABEL_PASSWORD,className:b().formItem,children:(0,n.jsx)(i.oi,{type:"password",value:I,error:O,onChange:function(e){return j(e)}})}),(0,n.jsx)(i.zx,{type:"submit",size:i.zx.Sizes.LARGE,fullWidth:!0,submitting:R,disabled:0===t.length||0===I.length,children:A.Z.Messages.CLAIM_ACCOUNT}),a&&(0,n.jsx)(i.zx,{className:b().logoutButton,color:i.zx.Colors.PRIMARY,look:i.zx.Looks.LINK,size:i.zx.Sizes.NONE,onClick:function(){l.Z.logout();h()},children:A.Z.Messages.LOGOUT})]})})]})}function S(e){var t=e.email,r=e.claimRequired,a=e.onClose,l=function(){
window.open((0,h.t3)(),"_blank");m.default.track(C.rMx.DOWNLOAD_APP,{platform:(0,h.DW)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})},c=r?A.Z.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:A.Z.Messages.CLAIM_ACCOUNT_EMAIL_TO;s.useEffect((function(){return u.Z.flowStep(p.MK.ANY,p.mx.CLAIM_ACCOUNT_SUCCESS)}),[]);return(0,n.jsxs)("div",{className:o()(b().modalLight,(0,x.Q)(C.BRd.LIGHT)),children:[(0,n.jsxs)(f.hz,{className:b().successContent,children:[!r&&(0,n.jsx)(f.ol,{className:b().closeButton,onClick:a}),(0,n.jsx)("div",{className:b().successImage}),(0,n.jsx)(i.xv,{className:b().successTitle,variant:"text-lg/semibold",children:c.format({email:t})}),(0,n.jsx)(i.xv,{className:b().successPromotion,variant:"text-md/normal",children:A.Z.Messages.CLAIM_ACCOUNT_PROMOTE_APP_2021_04})]}),r?(0,n.jsx)(f.mz,{direction:d.Z.Direction.VERTICAL,children:(0,n.jsx)(i.zx,{size:i.zx.Sizes.LARGE,onClick:a,children:A.Z.Messages.OKAY})}):(0,n.jsx)(f.mz,{
direction:d.Z.Direction.VERTICAL,children:(0,n.jsx)(i.zx,{color:i.zx.Colors.BRAND,size:i.zx.Sizes.LARGE,onClick:l,children:A.Z.Messages.CLAIM_ACCOUNT_GET_APP})})]})}function I(e){var t=e.onClose,r=e.transitionState,a=e.claimRequired,o=void 0!==a&&a,i=g(s.useState(""),2),l=i[0],c=i[1],u=g(s.useState(!1),2),d=u[0],m=u[1];return d?(0,n.jsx)(f.Y0,{transitionState:r,children:(0,n.jsx)(S,{email:l,claimRequired:o,onClose:t})}):(0,n.jsx)(f.Y0,{transitionState:r,children:(0,n.jsx)(M,{email:l,setEmail:c,claimRequired:o,onSuccess:function(){return m(!0)},onClose:t})})}}}]);
//# sourceMappingURL=9eacb559b726f112097e.js.map