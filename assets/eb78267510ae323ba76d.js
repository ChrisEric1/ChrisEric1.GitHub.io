(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[38826],{191696:(e,t,n)=>{e.exports=n.p+"d8a03b9985d824edc78c6eb4785dc949.svg"},78205:(e,t,n)=>{e.exports=n.p+"7e09d40fdac796955aae9fbe0eaba1f9.svg"},938826:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>F});var r=n(785893),a=n(667294),o=n(468811),i=n.n(o),l=n(202351),s=n(575945),u=n(945460),c=n(557617),m=n(474717),f=n(631183),d=n(115549),p=n(64234),h=n(813749),x=n(98265),v=n(668159),b=n(775173),g=n(120415),j=n(577635);function y(e){var t;return e.map((function(e,n){var r;return{file:e.file,name:null!==(t=e.id)&&void 0!==t?t:"attachment_".concat(n),filename:null===(r=e.file)||void 0===r?void 0:r.name}}))}var I=n(473708),O=n(281567),S=n.n(O),T=n(191696),R=n.n(T),E=n(78205),N=n.n(E);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,a)}function C(e){
return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){w(o,r,a,i,l,"next",e)}function l(e){w(o,r,a,i,l,"throw",e)}i(void 0)}))}}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function Z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done);i=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){l=!0;a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}var k=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:i.label++
;return{value:o[1],done:!1};case 5:i.label++;r=o[1];o=[0];continue;case 7:o=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1];a=o;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(o);break}a[2]&&i.ops.pop();i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e];r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},L=["Android","iOS","Windows Mobile","Windows","Linux","Mac OS X"].map((function(e){return{label:e,value:e}}));function D(e){var t,n,r,a,o;return null!==(o=null===(r=null===(n=null==e||null===(t=e.features)||void 0===t?void 0:t.filter((function(e){return""!==(0,j.pD)(e)})))||void 0===n?void 0:n.map((function(e){return{label:null!==(a=e.name)&&void 0!==a?a:"",value:(0,j.pD)(e)}})))||void 0===r?void 0:r.sort((function(e,t){return e.label.localeCompare(t.label)
})))&&void 0!==o?o:[]}function F(e){var t=e.transitionState,o=e.onClose,O=a.useRef(null),T=a.useRef(null),E=B(a.useState(""),2),_=E[0],w=E[1],P=B(a.useState(""),2),U=P[0],F=P[1],G=B(a.useState(),2),V=G[0],W=G[1],H=B(a.useState(""),2),z=H[0],X=H[1],Y=B(a.useState([]),2),Q=Y[0],K=Y[1],$=B(a.useState(),2),q=$[0],J=$[1],ee=B(a.useState(),2),te=ee[0],ne=ee[1],re=B(a.useState(!1),2),ae=re[0],oe=re[1],ie=B(a.useState(""),2),le=ie[0],se=ie[1],ue=B(a.useState(function(e){switch(e){case"windows":return"Windows";case"macos":return"Mac OS X";case"linux":return"Linux"}return""}((0,g.Ij)())),2),ce=ue[0],me=ue[1],fe=B(a.useState(""),2),de=fe[0],pe=fe[1],he=B(a.useState(""),2),xe=he[0],ve=he[1],be=B(a.useState(""),2),ge=be[0],je=be[1],ye=B(a.useState(""),2),Ie=ye[0],Oe=ye[1],Se=B(a.useState(!1),2),Te=Se[0],Re=Se[1],Ee=B(a.useState(!1),2),Ne=Ee[0],_e=Ee[1],we=B(a.useState(!1),2),Ce=we[0],Pe=we[1],Me=function(){null==o||o()};function Ze(){return Be.apply(this,arguments)}function Be(){Be=C((function(){
var e,t,a,o,i;return k(this,(function(l){switch(l.label){case 0:Pe(!1);if(""===_||null==V){Re(!0);return[2]}t=null==q||null===(e=q.features)||void 0===e?void 0:e.find((function(e){return(0,j.pD)(e)===te}));_e(!0);Re(!1);a=y(Q.map((function(e){return e.item})));o=!0===ae?{overridePlatformInformation:ae,device:le,operatingSystem:ce,operatingSystemVersion:de,clientVersion:xe,clientBuildNumber:ge,locale:Ie}:{overridePlatformInformation:ae};return[4,(0,j.ZD)({name:_,description:U,priority:V,feature:t,url:z},o,a).catch((function(){return Pe(!0)}))];case 1:i=l.sent();_e(!1);if(null!=i&&i.ok){window.open(i.body.permalink_url,"_blank");Me();(0,u.openModalLazy)(C((function(){var e,t;return k(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(36759)]).then(n.bind(n,436759))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Z(M({},e),{asanaTask:i.body}))}]}}))})))}else Pe(!0);return[2]}}))}));return Be.apply(this,arguments)}a.useEffect((function(){
function e(){e=C((function(){var e;return k(this,(function(t){switch(t.label){case 0:return[4,(0,j.WG)()];case 1:e=t.sent();J(e);return[2]}}))}));return e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);a.useEffect((function(){if(Q.length>0){var e;null===(e=T.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}}),[Q]);var Ae=(0,l.e7)([p.Z],(function(){return p.Z.theme})),Ue=(0,s.wj)(Ae)?R():N();return(0,r.jsx)(u.ModalRoot,{className:S().modalRoot,transitionState:t,"aria-label":I.Z.Messages.SUBMIT_BUG,children:(0,r.jsx)(u.ModalContent,{className:S().modalContent,paddingFix:!1,children:(0,r.jsx)("div",{className:S().container,children:(0,r.jsx)(u.HeadingLevel,{forceLevel:1,component:(0,r.jsx)("div",{className:S().sidebarContainer,children:(0,r.jsx)(x.Z,{strong:!0,color:x.Z.Colors.HEADER_PRIMARY,size:x.Z.Sizes.SIZE_24,children:(0,r.jsx)(u.H,{children:I.Z.Messages.BUG_REPORT_TITLE})})}),children:(0,r.jsxs)("div",{className:S().contentContainer,
children:[(0,r.jsx)("img",{className:S().contentIcon,alt:"",src:Ue}),(0,r.jsxs)("form",{className:S().form,onSubmit:Ze,children:[(0,r.jsx)(u.FormItem,{error:Te&&""===_?I.Z.Messages.REQUIRED:null,title:I.Z.Messages.BUG_REPORT_NAME,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Something is broken on this screen.",type:"text",value:_,maxLength:100,onChange:w})}),(0,r.jsxs)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_DESCRIPTION,className:S().formInput,children:[(0,r.jsx)(u.TextArea,{placeholder:"What did you expect to see?",value:U,onChange:F}),(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"info-help-text",children:"You can add additional information/media on the ticket after submitting"})]}),(0,r.jsx)(u.FormItem,{error:Te&&void 0===V?I.Z.Messages.REQUIRED:null,title:I.Z.Messages.BUG_REPORT_PRIORITY,className:S().formInput,children:(0,r.jsx)(u.SingleSelect,{renderOptionLabel:function(e){return function(e){var t=e.priority;return(0,r.jsxs)("div",{
className:S().formPriorityImageContainer,children:[(0,r.jsxs)("div",{className:S().formPriorityTitleContainer,children:[(0,r.jsx)("img",{alt:"",className:S().formPriorityImage,src:(0,b.gT)({id:t.emoji,animated:!0,size:48})}),(0,r.jsx)(u.Text,{color:"header-primary",variant:"text-sm/semibold",className:S().formPriorityTitle,children:t.title})]}),(0,r.jsx)(u.Text,{color:"header-secondary",variant:"text-xs/normal",className:S().formPriorityDescription,children:t.description})]})}(e)},onChange:W,options:(0,j.Tj)().map((function(e){return{priority:e,value:e.value,label:e.title}})),value:V,maxVisibleItems:3,closeOnSelect:!0})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_FEATURE_AREA,className:S().formInput,children:(0,r.jsx)(u.SearchableSelect,{value:te,options:D(q),isDisabled:null==q,onChange:function(e){return ne(e)}})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_URL,className:S().formInput,children:(0,r.jsx)(u.TextInput,{
placeholder:I.Z.Messages.BUG_REPORT_EXTERNAL_SOURCE,type:"text",value:z,maxLength:5e3,onChange:X})}),(0,r.jsx)(u.FormItem,{className:S().formInput,children:(0,r.jsx)(u.Checkbox,{value:ae,onChange:function(e,t){return oe(t)},children:(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"info-help-text",children:I.Z.Messages.BUG_REPORT_OVERRIDE_PLATFORM_INFORMATION})})}),ae?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_DEVICE,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Device",value:le,onChange:function(e){return se(e)}})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_OS,className:S().formInput,children:(0,r.jsx)(u.SingleSelect,{value:ce,options:L,onChange:function(e){return me(e)}})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_OS_VERSION,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Operating System Version",value:de,onChange:function(e){return pe(e)}})}),(0,r.jsx)(u.FormItem,{
title:I.Z.Messages.BUG_REPORT_CLIENT_VERSION,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Client Version",value:xe,onChange:function(e){return ve(e)}})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_CLIENT_BUILD_NUMBER,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Client Build Number",value:ge,onChange:function(e){return je(e)}})}),(0,r.jsx)(u.FormItem,{title:I.Z.Messages.BUG_REPORT_LOCALE,className:S().formInput,children:(0,r.jsx)(u.TextInput,{placeholder:"Locale",value:Ie,onChange:function(e){return Oe(e)}})})]}):null,(0,r.jsxs)(u.Button,{className:S().uploadButton,children:[I.Z.Messages.BUG_REPORT_ADD_ATTACHMENTS,(0,r.jsx)(c.Z,{ref:O,onChange:function(e){var t,n;if(null!=(null===(t=e.currentTarget)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0])){var r=Array.from(e.currentTarget.files).map((function(e){return new m.ZP({id:i().v4(),file:e,platform:m.ow.WEB})}));K(A(Q).concat(A(r)))}},multiple:!0})]}),Q.length>0?(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:S().imageOptionsContainer,children:(0,r.jsx)(u.FormTitle,{children:"Preview"})}),(0,r.jsx)("div",{ref:T,className:S().attachmentsGrid,children:Q.length>0&&Q.map((function(e){return(0,r.jsxs)("div",{className:S().attachmentsGridItem,children:[(0,r.jsx)(u.Text,{variant:"text-sm/normal",children:e.filename}),(0,r.jsxs)("div",{className:S().attachmentContainer,children:[(0,r.jsx)(d.r,{upload:e}),(0,r.jsx)("div",{className:S().toolBar,children:(0,r.jsx)(v.ZP,{children:(0,r.jsx)(f.Z,{tooltip:I.Z.Messages.ATTACHMENT_UTILITIES_REMOVE,onClick:function(){return t=e.id,void K(Q.filter((function(e){return e.id!==t})));var t},dangerous:!0,children:(0,r.jsx)(h.Z,{})})})})]})]},e.id)}))})]}):null,Ce?(0,r.jsx)(u.Text,{color:"text-danger",variant:"text-sm/normal",children:"Something went wrong, try again!"}):null]}),(0,r.jsxs)(u.ModalFooter,{className:S().submitContainer,children:[(0,r.jsx)(u.Button,{className:S().formButton,
look:u.ButtonLooks.BLANK,onClick:Me,children:(0,r.jsx)(u.Text,{variant:"text-sm/normal",children:I.Z.Messages.CANCEL})}),(0,r.jsx)(u.Button,{submitting:Ne,className:S().formButton,onClick:Ze,children:"Submit and Open Report"})]})]})})})})})}}}]);
//# sourceMappingURL=eb78267510ae323ba76d.js.map