(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[76257,41394],{541363:(e,t,n)=>{e.exports=n.p+"9937df80bc9c58a3e67709f58402f4db.svg"},824006:(e,t,n)=>{e.exports=n.p+"88d6e5a673e816bf927dc8fe11d42d29.svg"},441394:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),i=(n(667294),n(294184)),s=n.n(i),o=n(945460),a=n(473708),c=n(165580),l=n.n(c),u=Object.freeze({DEFAULT:l().default,FILLED:l().filled});function d(e){var t=e.className,n=e.onClick,i=e["aria-label"],c=e.look,d=void 0===c?u.DEFAULT:c;return(0,r.jsx)(o.Clickable,{"aria-label":null!=i?i:a.Z.Messages.REMOVE,className:s()(l().button,d,t),onClick:n})}d.Looks=u},476257:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>J})
;var r=n(785893),i=n(667294),s=n(294184),o=n.n(s),a=n(496486),c=n.n(a),l=n(202351),u=n(281110),d=n(945460),p=n(419156),f=n(441394),h=n(334835),m=n(657539),v=n(396043),y=n(64234),b=n(424158),I=n(722406),g=n(61209),j=n(793461),x=n(489881),T=n(327860),N=n(107364),E=n(652591),O=n(2590),Z=n(473708),C=n(144114),w=n.n(C),S=n(768864),_=n.n(S),P=n(518280),k=n.n(P);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function M(e){M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return M(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&z(e,t)}function F(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}function V(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function L(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return z(e,t)}var B=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var i=M(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}var U=function(e){A(n,e);var t=H(n);function n(){R(this,n);var e;(e=t.apply(this,arguments)).handleRevokeInvite=function(){var t=e.props,n=t.onRevoke,r=t.invite;null!=n&&n(r)};return e}n.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,i=e.hideInviteCode,s=new I.Z(t.inviter);return(0,r.jsxs)(N.Z,{className:o()(w().row,_().card),children:[(0,r.jsxs)(N.Z,{align:N.Z.Align.CENTER,className:w().userColumn,children:[(0,
r.jsx)(m.Z,{user:s,size:d.AvatarSizes.SIZE_24,className:w().avatar}),(0,r.jsx)(h.Z,{user:s,hideDiscriminator:n,usernameClass:w().username,discriminatorClass:w().discrimClass})]}),(0,r.jsx)(N.Z,{align:N.Z.Align.CENTER,grow:0,shrink:0,basis:100,className:w().boostZIndex,children:(0,r.jsx)(d.Text,{className:w().code,variant:"text-sm/normal",children:i?"...":t.code})}),(0,r.jsxs)(N.Z,{basis:100,grow:0,shrink:0,align:N.Z.Align.CENTER,justify:N.Z.Justify.END,className:w().boostZIndex,children:[(0,r.jsx)(d.Text,{className:w().countdown,variant:"text-sm/normal",children:(0,r.jsx)(x.Z,{deadline:t.getExpiresAt(),showDays:!1})}),(0,r.jsx)(f.Z,{className:w().revokeInvite,onClick:this.handleRevokeInvite})]})]})};return n}(i.PureComponent),G=function(e){A(i,e);var t=H(i);function i(){R(this,i);var e;(e=t.apply(this,arguments)).state={loading:!0,invites:null};e.handleRevoke=function(t){p.Z.revokeInvite(t);e.setState({invites:e.state.invites.filter((function(e){return e!==t}))})}
;e.handleClose=function(){var t=e.props.onClose;null==t||t()};return e}var s=i.prototype;s.componentDidMount=function(){var e=this,t=this.props.channelId;u.Z.get({url:O.ANM.INSTANT_INVITES(t),retries:3,oldFormErrors:!0}).then((function(t){var n=t.body.map((function(e){return new b.Z(V(F({},e),{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))}));e.setState({loading:!1,invites:n})}));E.default.track(O.rMx.OPEN_MODAL,V(F({},(0,v.v_)(g.Z.getChannel(t))),{type:"Group DM Invites",source:"Group DM Menu"}))};s.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?(0,r.jsx)(d.Spinner,{className:k().marginTop20,type:d.Spinner.Type.SPINNING_CIRCLE}):c().isEmpty(n)?this.renderEmpty():(0,r.jsxs)("div",{className:w().container,children:[this.renderHeader(),this.renderInvites()]})};s.renderEmpty=function(){return(0,r.jsxs)(T.ZP,{theme:this.props.theme,children:[(0,r.jsx)(T.ox,{darkSrc:n(541363),lightSrc:n(824006),width:256,height:130,style:{marginBottom:0}
}),(0,r.jsx)(T.OZ,{className:k().marginTop20,children:Z.Z.Messages.NO_INVITES_CAPTION})]})};s.renderHeader=function(){return(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(N.Z.Child,{wrap:!0,children:(0,r.jsx)(d.FormTitle,{children:Z.Z.Messages.INSTANT_INVITE_INVITER})}),(0,r.jsx)(N.Z.Child,{wrap:!0,grow:0,shrink:0,basis:100,children:(0,r.jsx)(d.FormTitle,{children:Z.Z.Messages.INSTANT_INVITE_INVITE_CODE})}),(0,r.jsx)(N.Z.Child,{wrap:!0,grow:0,shrink:0,basis:100,children:(0,r.jsx)(d.FormTitle,{className:w().alignRight,children:Z.Z.Messages.INSTANT_INVITE_EXPIRES})})]})};s.renderInvites=function(){var e,t=this,n=this.props,i=n.hideDiscriminators,s=n.hideInviteCodes;return c()(this.state.invites).sortBy((function(t){return(null!==(e=t.inviter.username)&&void 0!==e?e:"").toLocaleLowerCase()})).map((function(e){return(0,r.jsx)(U,{invite:e,hideDiscriminator:i,hideInviteCode:s,onRevoke:t.handleRevoke},e.code)})).value()};s.render=function(){return(0,r.jsxs)(d.ModalRoot,{
transitionState:this.props.transitionState,"aria-label":Z.Z.Messages.INVITES,size:d.ModalSize.MEDIUM,children:[(0,r.jsxs)(d.ModalHeader,{direction:N.Z.Direction.VERTICAL,align:N.Z.Align.START,separator:!1,children:[(0,r.jsx)(d.FormTitle,{tag:d.FormTitleTags.H1,children:Z.Z.Messages.INVITES}),(0,r.jsx)(d.FormText,{type:d.FormTextTypes.DESCRIPTION,children:Z.Z.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE})]}),(0,r.jsx)(d.ModalContent,{children:this.renderContent()}),(0,r.jsx)(d.ModalFooter,{children:(0,r.jsx)(d.Button,{onClick:this.handleClose,children:Z.Z.Messages.DONE})})]})};return i}(i.PureComponent);const J=l.ZP.connectStores([j.Z,y.Z],(function(){return{hideDiscriminators:j.Z.hidePersonalInformation,hideInviteCodes:j.Z.hideInstantInvites,theme:y.Z.theme}}))(G)}}]);
//# sourceMappingURL=5dd6d7eaafa05d280a66.js.map