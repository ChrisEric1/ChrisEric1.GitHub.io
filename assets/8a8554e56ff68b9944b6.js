"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[1528],{58690:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.deleteTeamMember=function(e,t,r){return n.default.delete({url:s.Endpoints.TEAM_MEMBER(e,t),oldFormErrors:!0}).then((function(){a.default.dispatch({type:l.default.TEAM_MEMBER_DELETE_SUCCESS,teamId:e,userId:t,hasRemovedSelf:r})})).catch(o.APIErrorHandler)};t.fetchTeamMembersForTeam=function(e){return n.default.get({url:s.Endpoints.TEAM_MEMBERS(e),oldFormErrors:!0}).then((function(t){a.default.dispatch({type:l.default.TEAM_MEMBERS_FETCH_SUCCESS,teamId:e,teamMembers:t.body})})).catch(o.APIErrorHandler)};t.inviteTeamMember=function(e,t,r){void 0===r&&(r=null);return n.default.post({url:s.Endpoints.TEAM_MEMBERS(e),body:u({},t,{code:r}),oldFormErrors:!0}).then((function(e){a.default.dispatch({type:l.default.TEAM_MEMBER_CREATE_SUCCESS,teamMember:e.body})})).catch(o.APIErrorHandler)};t.updateTeamMember=function(e,t,r){
return n.default.put({url:s.Endpoints.TEAM_MEMBER(e,t),body:r,oldFormErrors:!0}).then((function(e){a.default.dispatch({type:l.default.TEAM_MEMBER_UPDATE_SUCCESS,teamMember:e.body})})).catch(o.APIErrorHandler)};var n=i(r(18915)),a=i(r(36602)),o=r(19290),l=i(r(16881)),s=r(70348);function i(e){return e&&e.__esModule?e:{default:e}}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return u.apply(this,arguments)}},18882:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=E;var n,a=m(r(67294)),o=f(r(56117)),l=m(r(84455)),s=f(r(79950)),i=m(r(16997)),u=r(34596),d=f(r(19041));function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function M(){M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}
return e};return M.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,s=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){s=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=e.open,r=e.onCancel,n=e.onSubmit,f=h(a.useState({errorMessage:null,isDisabled:!0,isSubmitting:!1,mfaCode:""}),2),c=f[0],m=f[1],v=c.errorMessage,E=c.isDisabled,S=c.isSubmitting,y=c.mfaCode;function g(){m(M({},c,{errorMessage:null,isSubmitting:!1,mfaCode:"",isDisabled:!0}));null!=r&&r()}function b(e){e.preventDefault();if(!E&&null!=n){m(M({},c,{isSubmitting:!0}));n(y).then((function(){m(M({},c,{errorMessage:null,isSubmitting:!1,mfaCode:"",isDisabled:!0}))})).catch((function(e){m(M({},c,{errorMessage:e.message,isSubmitting:!1}))}))}}return p(i.default,{onRequestClose:g,open:t},void 0,p("form",{onSubmit:b},void 0,p(i.ModalContent,{},void 0,p(i.ModalHeader,{},void 0,u.Messages.Information.MFA_CODE),null!=v?p(i.ModalAlert,{type:i.ModalAlertTypes.ERROR},void 0,v):null,p(l.default,{},void 0,p(l.GridSection,{},void 0,p(l.GridChild,{columnSpread:12},void 0,p(s.default,{name:"mfaCode",
placeholder:u.Messages.Information.MFA_CODE_PLACEHOLDER,onChange:function(e){m(M({},c,{isDisabled:0===e.length,mfaCode:e}))},value:y}))))),p(i.ModalFooter,{},void 0,p(i.ModalCancel,{onClick:g},void 0,u.Messages.Actions.CANCEL),p(o.default,{className:E?d.default.dangerButtonDisabled:d.default.dangerButton,disabled:E,submitting:S,onClick:b,type:"submit"},void 0,u.Messages.Common.SUBMIT))))}E.displayName="MFACodeModal"},56511:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=E(r(67294)),o=h(r(36211)),l=E(r(58690)),s=h(r(41908)),i=E(r(16997)),u=h(r(28429)),d=h(r(56117)),f=r(19290),c=h(r(96853)),m=r(70348),p=r(34596),M=h(r(19041));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t)
;if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var g=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){
for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={errorMessage:null,isDeleting:!1};t.handleDeleteTeamMember=function(){var e=t.props,r=e.teamMember,n=e.onSuccess,a=e.user;if(!t.state.isDeleting&&null!=r){var o=a.id===r.user.id;t.setState({isDeleting:!0},(function(){l.deleteTeamMember(r.team_id,r.user.id,o).then((function(){o?c.default.transitionTo(m.Routes.TEAMS):t.setState({isDeleting:!1,errorMessage:null},n)})).catch((function(e){t.setState({isDeleting:!1,errorMessage:(0,f.getMessageFromAPIError)(e,p.Messages.Errors.ERROR_DELETING_TEAM_MEMBER.format())})}))}))}};t.handleCancel=function(){var e=t.props.onCancel;if(!t.state.isDeleting){t.setState({errorMessage:null});e()}};return t}var r=t.prototype;r.renderErrorMessage=function(){var e=this.state.errorMessage;return null==e?null:S(i.ModalAlert,{type:i.ModalAlertTypes.ERROR},void 0,e)};r.renderModalCopy=function(){var e=this.props,t=e.teamMember,r=e.user
;return null==t?null:r.id===t.user.id?p.Messages.Teams.SELF_REMOVE_WARNING:p.Messages.Teams.TEAM_MEMBER_REMOVE_WARNING.format({memberName:t.user.username})};r.render=function(){var e=this.props.isOpen,t=this.state.isDeleting;return S(i.default,{onRequestClose:this.handleCancel,open:e},void 0,S(s.default,{onSubmit:this.handleDeleteTeamMember},void 0,S(i.ModalContent,{},void 0,S(i.ModalHeader,{},void 0,p.Messages.Teams.REMOVE_TEAM_MEMBER),this.renderErrorMessage(),this.renderModalCopy()),S(i.ModalFooter,{},void 0,S(i.ModalCancel,{onClick:this.handleCancel},void 0,p.Messages.Actions.CANCEL),S(d.default,{className:M.default.dangerButton,submitting:t,type:"submit"},void 0,p.Messages.Actions.REMOVE))))};return t}(a.Component);g.displayName="DeleteTeamMemberModal";var b=o.default.connectStores([u.default],(function(){return{user:u.default.user}}))(g);t.default=b},55896:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0
;var n,a=v(r(67294)),o=v(r(48656)),l=M(r(41908)),s=M(r(92974)),i=v(r(16997)),u=v(r(84455)),d=M(r(79950)),f=r(19290),c=M(r(96853)),m=r(70348),p=r(34596);function M(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function E(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){
for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function S(e,t,r,n,a,o,l){try{var s=e[o](l),i=s.value}catch(e){r(e);return}s.done?t(i):Promise.resolve(i).then(n,a)}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}var g={errorMessage:null,isDeleting:!1,mfaCode:""},b=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;y(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state=g;t.handleMFAChange=function(e){t.setState({mfaCode:e})};t.handleClose=function(){var e=t.props.onClose;t.state.isDeleting||t.setState(g,e)};t.handleDeleteTeam=function(){var e=t.state.mfaCode;t.setState({isDeleting:!0},(function(){o.deleteTeam(t.props.teamId,{code:e
}).then((function(){c.default.transitionTo(m.Routes.TEAMS)})).catch((function(e){t.setState({isDeleting:!1,errorMessage:(0,f.getMessageFromAPIError)(e,p.Messages.Errors.ERROR_DELETING_TEAM.format())})}))}))};return t}var r=t.prototype;r.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;return o.fetchApplicationsForTeam(this.props.teamId);case 2:t=e.sent;r=0===t.length;n=t.some((function(e){return e.type===m.ApplicationTypes.GUILD_ROLE_SUBSCRIPTIONS}));this.setState({isTeamDeletable:r,hasRoleSubscriptionApplication:n});case 6:case"end":return e.stop()}}),e,this)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){S(o,n,a,l,s,"next",e)}function s(e){S(o,n,a,l,s,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();r.renderError=function(){var e=this.state.errorMessage
;return null!=e?E(i.ModalAlert,{},void 0,e):null};r.renderAlert=function(){var e;e=this.state.isTeamDeletable?p.Messages.Alerts.CANNOT_BE_UNDONE:this.state.hasRoleSubscriptionApplication?p.Messages.Teams.CANNOT_DELETE_PREMIUM_MEMBERSHIP_TEAM.format({disableServerSubsArticle:m.Links.DISABLE_SERVER_SUBSCRIPTIONS_SUPPORT}):p.Messages.Teams.CANNOT_DELETE_TEAM_WITH_APPLICATIONS;return E(i.ModalAlert,{},void 0,e)};r.renderModalContent=function(){return this.state.isTeamDeletable?E(u.default,{},void 0,E(u.GridSection,{},void 0,E(u.GridChild,{columnSpread:12},void 0,E(s.default,{isRequired:!0},void 0,p.Messages.MultiFactorAuth.ENTER_MFA_CODE),E(d.default,{value:this.state.mfaCode,onChange:this.handleMFAChange})))):null};r.render=function(){var e=this.props.isOpen,t=this.state,r=t.mfaCode,n=t.isDeleting;return E(i.default,{onRequestClose:this.handleClose,open:e},void 0,E(l.default,{onSubmit:this.handleDeleteTeam
},void 0,E(i.ModalContent,{},void 0,E(i.ModalHeader,{},void 0,p.Messages.Teams.DELETE_TEAM),this.renderAlert(),this.renderError(),this.renderModalContent()),E(i.ModalFooter,{},void 0,E(i.ModalCancel,{onClick:this.handleClose},void 0,p.Messages.Actions.CANCEL),E(i.ModalConfirm,{type:"submit",disabled:r.length!==m.MFA_CODE_LENGTH,submitting:n},void 0,p.Messages.Actions.DELETE))))};return t}(a.Component);t.default=b;b.displayName="DeleteTeamModal"},52334:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=D(r(67294)),o=r(55558),l=I(r(36211)),s=D(r(48656)),i=I(r(82046)),u=I(r(41908)),d=I(r(92974)),f=I(r(86750)),c=I(r(86460)),m=I(r(53360)),p=I(r(69245)),M=I(r(42262)),h=I(r(8550)),v=I(r(28429)),E=I(r(56117)),S=D(r(84455)),y=I(r(96835)),g=I(r(79950)),b=r(49927),T=r(92711),_=r(19290),A=I(r(55896)),O=r(70348),C=r(34596),R=I(r(61161));function I(e){return e&&e.__esModule?e:{default:e}}function w(e){if("function"!=typeof WeakMap)return null
;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function N(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function P(e,t){
P=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return P(e,t)}var F=function(e){var t;return{teamName:null!=e.team?e.team.name:"",hasUnsavedChanges:!1,isSubmitting:!1,isIconDefined:null!=e.team&&null!=e.team.icon,hasChangedIcon:!1,icon:null!=e.team&&null!==(t=(0,b.getTeamIcon)(e.team.id,e.team.icon))&&void 0!==t?t:"",showTransferModal:!1,showDeleteModal:!1}},j=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;P(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef();t.state=F(t.props);t.handleIconChange=function(e){t.setState({icon:null!=e?e:"",hasUnsavedChanges:!0,isIconDefined:null!=e,hasChangedIcon:!0})};t.handleNameChange=function(e){t.setState({hasUnsavedChanges:!0,teamName:e})};t.handleFormReset=function(){var e=t.props.onReset;t.setState(F(t.props));e()};t.handleFormSubmit=function(){
var e=t.props,r=e.team,n=e.onSuccess,a=e.onError,o=t.state,l=o.icon,i=o.teamName,u=o.hasChangedIcon;if(null!=r)if(null!=i&&""!==i){var d={name:i};u&&(d.icon=l);t.setState({isSubmitting:!0},(function(){s.updateTeam(r.id,d).then((function(){t.setState({hasUnsavedChanges:!1,isSubmitting:!1});n(C.Messages.Teams.TEAM_SUCCESSFULLY_UPDATED)})).catch((function(e){t.setState({isSubmitting:!1});a((0,_.getMessageFromAPIError)(e,C.Messages.Errors.ERROR_SUBMITTING_FORM.format()))}))}))}else a(C.Messages.Teams.TEAM_NAME_REQUIRED)};t.handleOpenTransferModal=function(){t.setState({showTransferModal:!0})};t.handleCloseTransferModal=function(){t.setState({showTransferModal:!1})};t.handleOpenDeleteModal=function(){t.setState({showDeleteModal:!0})};t.handleCloseDeleteModal=function(){t.setState({showDeleteModal:!1})};t.handleTransferOwner=function(e){var r=e.selectedValue,n=e.mfaCode,a=t.props,o=a.onSuccess,l=a.team
;return null==l?Promise.reject(new _.APIError(C.Messages.Teams.TEAM_NOT_LOADED_ERROR)):s.updateTeam(l.id,{owner_user_id:r,code:n}).then((function(){t.setState({showTransferModal:!1},(function(){o(C.Messages.Teams.TEAM_OWNERSHIP_TRANSFERRED)}))}))};return t}var r=t.prototype;r.renderModalButtons=function(){var e=this.props,t=e.team,r=e.user;return null==t||t.owner_user_id!==r.id?null:N(S.GridSection,{className:R.default.buttonWrap,grow:1},void 0,N(S.GridChild,{},void 0,N(E.default,{onClick:this.handleOpenTransferModal,look:E.default.Look.OUTLINED,color:E.default.Color.WHITE},void 0,C.Messages.Teams.TRANSFER_OWNERSHIP)),N(S.GridChild,{},void 0,N(E.default,{onClick:this.handleOpenDeleteModal,look:E.default.Look.OUTLINED,color:E.default.Color.RED},void 0,C.Messages.Teams.DELETE_TEAM)))};r.getTeamMemberOptions=function(){var e=this.props,t=e.teamMembers,r=e.team;if(null==t||null==r)return[];var n=[];t.forEach((function(e){var t=e.user
;e.membership_state===O.TeamMembershipStates.ACCEPTED&&t.id!==r.owner_user_id&&n.push({avatar:(0,T.getUserAvatarURL)(t),label:t.username+"#"+t.discriminator,value:t.id})}));return n};r.render=function(){var e=this.props.team,t=this.state,r=t.hasUnsavedChanges,n=t.isSubmitting,a=t.icon,o=t.isIconDefined,l=t.teamName,s=t.showTransferModal,M=t.showDeleteModal;return null==e?null:N(f.default,{},void 0,N(c.default,{},void 0,C.Messages.Teams.TEAM_DETAILS_HEADING),N(u.default,{onSubmit:this.handleFormSubmit},void 0,N(S.default,{},void 0,N(S.GridSection,{className:R.default.detailsSection},void 0,N(S.GridChild,{columnSpread:3,className:R.default.iconUploader},void 0,N(d.default,{},void 0,C.Messages.Forms.ICON),N(y.default,{},void 0,N("input",{type:"hidden",name:"icon",value:a}),N(i.default,{disableRemoveAction:!o,name:e.name,fieldName:"icon",size:O.AVATAR_UPLOAD_SIZE,onChange:this.handleIconChange,hint:C.Messages.Information.APP_ICON_DESCRIPTION,avatar:a}))),N(S.GridChild,{
className:R.default.sectionRight,columnSpread:9,columnSpreadExtraSmall:12,columnSpreadSmall:12,columnSpreadSmallMedium:12,shrink:1},void 0,N(S.default,{className:R.default.sectionRightGrid},void 0,N(S.GridSection,{grow:0},void 0,N(S.GridChild,{columnSpread:12},void 0,N(d.default,{},void 0,C.Messages.Forms.NAME),N(g.default,{name:"name",value:l,onChange:this.handleNameChange}))),this.renderModalButtons())))),N(p.default,{isVisible:r,onReset:this.handleFormReset,submitting:n})),N(m.default,{modalTitle:C.Messages.Teams.TRANSFER_OWNERSHIP,selectLabel:C.Messages.Teams.SELECT_USER_FOR_TRANSFER,options:this.getTeamMemberOptions(),isOpen:s,onSubmit:this.handleTransferOwner,onClose:this.handleCloseTransferModal}),N(A.default,{isOpen:M,onClose:this.handleCloseDeleteModal,teamId:this.props.teamId}))};return t}(a.Component);j.displayName="TeamDetails";var U=(0,o.withRouter)(l.default.connectStores([h.default,v.default,M.default],(function(e){var t=e.match.params.teamId;return{teamId:t,
team:h.default.getTeam(t),teamMembers:M.default.getTeamMembersByTeam(t),user:v.default.user}}))(j));t.default=U},80959:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=F(r(67294)),o=r(55558),l=N(r(36211)),s=F(r(58690)),i=N(r(41908)),u=N(r(92974)),d=N(r(18882)),f=N(r(86750)),c=N(r(86460)),m=N(r(43973)),p=N(r(42262)),M=N(r(8550)),h=N(r(28429)),v=F(r(34704)),E=N(r(15899)),S=N(r(56117)),y=N(r(30250)),g=F(r(84455)),b=N(r(74257)),T=N(r(25991)),_=N(r(45758)),A=N(r(79950)),O=r(92711),C=r(19290),R=N(r(56511)),I=r(70348),w=r(34596),D=N(r(2861));function N(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function F(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],l=!0,s=!1;try{for(r=r.call(e);!(l=(n=r.next()).done);l=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){s=!0;a=e}finally{try{l||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;L(e,t)}function L(e,t){L=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return L(e,t)}function B(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var G=function(){return B(b.default,{className:D.default.disabledSelect,disabled:!0,value:"*",onChange:function(){},
options:[{label:"Admin",value:"*"}]})};G.displayName="DisabledSelect";var W=function(e){k(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.teamMember)};return t}t.prototype.render=function(){return B(S.default,{onClick:this.handleClick,className:D.default.removeButton,color:S.default.Color.TRANSPARENT},void 0,w.Messages.Actions.REMOVE)};return t}(a.Component);W.displayName="RemoveButton";var H=B(G,{}),V=B(A.default,{placeholder:"DynamoMan#0000",name:"user",defaultValue:""}),$=B(G,{}),x=function(e){k(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).formRef=a.createRef();t.state={isInvitingUser:!1,isRemovingUser:!1,showModal:!1,showMFAModal:!1,selectedTeamMember:null,successMessage:null,errorMessage:null};t.inviteTeamMember=function(e,r){void 0===r&&(r=null)
;var n=t.props.team;if(null==e.user||""===e.user||null==n)return Promise.resolve();var a=j(e.user.split("#"),2),o=a[0],l=a[1];if(null==o||null==l){t.setState({errorMessage:w.Messages.Teams.INVALID_USERNAME});return Promise.resolve()}var i={username:o,discriminator:l};t.setState({isInvitingUser:!0});return s.inviteTeamMember(n.id,i,r).then((function(){t.setState({isInvitingUser:!1,successMessage:w.Messages.Teams.TEAM_MEMBER_INVITED,errorMessage:null,showMFAModal:!1});null!=t.formRef.current&&t.formRef.current.resetForm()})).catch((function(n){n.code===I.APIErrorCodes.INVALID_MFA_CODE?t.setState({isInvitingUser:!1,mfaModalOnSubmit:function(r){return t.inviteTeamMember(e,r)},showMFAModal:!0}):t.setState({isInvitingUser:!1,showMFAModal:!1,errorMessage:(0,C.getMessageFromAPIError)(n,w.Messages.Teams.GENERIC_INVITE_USER_ERROR.format(),C.ErrorTypes.TEAMS)});if(null!=r)throw n}))};t.renderUserLabel=function(e){
var t=e.teamMember,r=t.membership_state,n=t.user,a=r===I.TeamMembershipStates.INVITED?B(_.default,{size:_.default.Sizes.SMALL},void 0,w.Messages.Teams.PENDING):null;return B(y.default,{align:y.default.Align.CENTER,wrap:y.default.Wrap.NO_WRAP},void 0,B(E.default,{className:D.default.tableAvatar,src:(0,O.getUserAvatarURL)(n)}),B("span",{className:D.default.usernameWrap},void 0,B(_.default,{tag:"span",color:_.default.Colors.WHITE,size:_.default.Sizes.MEDIUM},void 0,n.username),B("span",{},void 0,"#",n.discriminator),a))};t.showDeleteModal=function(e){t.setState({showModal:!0,selectedTeamMember:e})};t.handleDeleteMemberSuccess=function(){var e=t.props.team;null!=t.state.selectedTeamMember&&null!=e&&t.setState({showModal:!1,selectedTeamMember:null,successMessage:w.Messages.Teams.TEAM_MEMBER_REMOVED,errorMessage:null})};t.handleCloseModal=function(){t.setState({showModal:!1,selectedTeamMember:null})};t.handleCloseMFAModal=function(){t.setState({showMFAModal:!1})}
;t.renderRemoveButton=function(e){var r=e.teamMember,n=t.props,a=n.team,o=n.user;if(null==a||a.owner_user_id===r.user.id)return null;var l=a.owner_user_id===o.id;return r.user.id===o.id||l?B(W,{onClick:t.showDeleteModal,teamMember:r}):null};t.renderFormStatus=function(){var e=t.state,r=e.successMessage,n=e.errorMessage;return null!=n?B(v.default,{type:v.AlertTypes.ERROR},void 0,n):null!=r?B(v.default,{type:v.AlertTypes.SUCCESS},void 0,r):null};return t}var r=t.prototype;r.renderUserPermissions=function(){return H};r.getTableColumns=function(){return[{cellProps:{columnSpread:4,columnSpreadSmall:8,columnSpreadExtraSmall:8},heading:w.Messages.Teams.CURRENT_MEMBERS,isSortable:!0,key:"username",render:this.renderUserLabel},{cellProps:{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:12,columnSpreadExtraSmall:12},key:"permissions",render:this.renderUserPermissions},{cellProps:{className:D.default.removeCell,columnSpread:4,columnSpreadSmallMedium:3},key:"remove",
render:this.renderRemoveButton}]};r.getTableRows=function(){var e=this.props.teamMembers;if(null==e)return[];var t=[];e.forEach((function(e){t.push({id:e.user.id,teamMember:e,username:e.user.username})}));return t};r.renderTeamMemberTable=function(){var e=this.props,t=e.teamMembers,r=e.team,n=e.user;return null==r||null==n||null==t?null:B(T.default,{columns:this.getTableColumns(),rows:this.getTableRows()})};r.render=function(){var e=this,t=this.props,r=t.teamMembers,n=t.team,o=this.state,l=o.showModal,s=o.showMFAModal,p=o.mfaModalOnSubmit,M=o.selectedTeamMember,h=o.isInvitingUser;return null==n||null==r||0===r.size?null:B(f.default,{isFlush:!0},void 0,B(c.default,{},void 0,w.Messages.Teams.TEAM_MEMBERS_HEADING),B(m.default,{},void 0,w.Messages.Teams.TEAM_MEMBERS_SUBHEADING),this.renderFormStatus(),B(v.default,{type:v.AlertTypes.INFO},void 0,w.Messages.Teams.ADMIN_ONLY_ALERT),B(g.default,{},void 0,a.createElement(i.default,{onSubmit:function(t){return e.inviteTeamMember(t)},
ref:this.formRef},B(g.GridSection,{className:D.default.inviteRow},void 0,B(g.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,B(u.default,{},void 0,w.Messages.Teams.INVITE_TEAM_MEMBERS),V),B(g.GridChild,{columnSpread:4,columnSpreadSmallMedium:5,columnSpreadSmall:6,columnSpreadExtraSmall:12},void 0,B(u.default,{},void 0,w.Messages.Teams.TEAM_ROLE),$),B(g.GridChild,{className:D.default.inviteButtonWrap,columnSpread:3,columnSpreadSmallMedium:2,columnSpreadSmall:4,columnSpreadExtraSmall:4},void 0,B(S.default,{type:"submit",submitting:h},void 0,w.Messages.Actions.INVITE)))),B(g.GridSection,{className:D.default.teamMemberTable},void 0,B(g.GridChild,{columnSpread:12},void 0,this.renderTeamMemberTable()))),B(R.default,{isOpen:l&&null!=M,teamMember:M,onCancel:this.handleCloseModal,onSuccess:this.handleDeleteMemberSuccess}),B(d.default,{open:s,onCancel:this.handleCloseMFAModal,onSubmit:p}))};return t}(a.Component)
;x.displayName="TeamMemberList";var z=(0,o.withRouter)(l.default.connectStores([p.default,M.default,h.default],(function(e){var t=e.match.params.teamId;return{user:h.default.user,team:M.default.getTeam(t),teamMembers:p.default.getTeamMembersByTeam(t)}}))(x));t.default=z},13089:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=O(r(67294)),o=r(55558),l=r(36211),s=O(r(58690)),i=_(r(31055)),u=_(r(81061)),d=_(r(91464)),f=_(r(86750)),c=_(r(58350)),m=_(r(8550)),p=_(r(28429)),M=O(r(34704)),h=_(r(56117)),v=_(r(45758)),E=r(19290),S=_(r(52334)),y=_(r(80959)),g=r(70348),b=O(r(34596)),T=_(r(73256));function _(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(A=function(e){return e?r:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=A(t);if(r&&r.has(e))return r.get(e)
;var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e;r&&r.set(e,n);return n}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function R(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var s=new Array(l),i=0;i<l;i++)s[i]=arguments[i+3];t.children=s}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function I(e){var t=e.teamId,r=(0,l.useStateFromStores)([m.default],(function(){return m.default.getTeam(t)})),n=(0,l.useStateFromStores)([p.default],(function(){return p.default.user}))
;return null==r||r.payout_account_status!==g.PayoutAccountStatuses.UNSUBMITTED||(null==n?void 0:n.id)!==r.owner_user_id?null:a.createElement(a.Fragment,null,R(M.default,{type:M.AlertTypes.INFO},void 0,R(v.default,{},void 0,b.default.Messages.Teams.INFORMATION_PAGE_REQUIRED_PAYOUT_ALERT),R(o.Link,{to:g.Routes.TEAM_PAYOUT_SETTINGS(t)},void 0,R(h.default,{className:T.default.goToPayoutSettingsButton,height:h.default.Height.SHORT},void 0,b.default.Messages.Teams.GO_TO_PAYOUT_SETTINGS))))}var w=R(d.default,{}),D=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;C(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={error:null,success:null,isFetchingTeamMembers:!0,teamMembersFetchErrorMessage:null};t.handleSuccess=function(e){t.setState({success:e})};t.handleError=function(e){t.setState({error:e})};t.handleReset=function(){t.setState({error:null,
success:null})};t.renderFormStatus=function(){var e=t.state,r=e.error,n=e.success;return null!=r?R(i.default,{type:i.default.Types.ERROR},void 0,r):null!=n?R(i.default,{type:i.default.Types.SUCCESS},void 0,n):null};t.renderTeamMemberList=function(){var e=t.state,r=e.isFetchingTeamMembers,n=e.teamMembersFetchErrorMessage;return r?w:null!=n?R(i.default,{type:i.default.Types.ERROR},void 0,n):R(y.default,{onSuccess:t.handleSuccess,onError:t.handleError})};return t}var r=t.prototype;r.componentDidMount=function(){var e=this,t=this.props.match.params.teamId;s.fetchTeamMembersForTeam(t).then((function(){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:null})})).catch((function(t){e.setState({isFetchingTeamMembers:!1,teamMembersFetchErrorMessage:(0,E.getMessageFromAPIError)(t,t.message)})}))};r.render=function(){var e=this.props.match.params.teamId;return R(a.Fragment,{},void 0,R(f.default,{},void 0,R(u.default,{},void 0,b.Messages.Teams.INFORMATION_PAGE_HEADING),R(c.default,{
isFlush:!0},void 0,b.Messages.Teams.INFORMATION_PAGE_SUBHEADING),this.renderFormStatus(),R(I,{teamId:e})),R(S.default,{onSuccess:this.handleSuccess,onError:this.handleError,onReset:this.handleReset}),this.renderTeamMemberList())};return t}(a.Component);D.displayName="TeamInformation";var N=(0,o.withRouter)(D);t.default=N},42262:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,a=s(r(36211)),o=s(r(36602)),l=s(r(16881));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var u=new Map;var d=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.getTeamMembersByTeam=function(e){return u.get(e)};r.__getLocalVars=function(){return{teamMembersByTeam:u}};return t}(a.default.Store);d.displayName="TeamMemberStore"
;var f=new d(o.default,((n={})[l.default.TEAM_MEMBERS_FETCH_SUCCESS]=function(e){var t=e.teamId,r=e.teamMembers,n=new Map;r.forEach((function(e){n.set(e.user.id,e)}));u.set(t,n)},n[l.default.TEAM_MEMBER_CREATE_SUCCESS]=function(e){var t=e.teamMember,r=t.team_id,n=u.get(r);null==n&&(n=new Map);n.set(t.user.id,t);u.set(r,n)},n[l.default.TEAM_MEMBER_UPDATE_SUCCESS]=function(e){var t=e.teamMember,r=t.team_id,n=u.get(r);null==n&&(n=new Map);n.set(t.user.id,t);u.set(r,n)},n[l.default.TEAM_MEMBER_DELETE_SUCCESS]=function(e){var t=e.teamId,r=e.userId,n=u.get(t);if(null!=n){n.delete(r);u.set(t,n)}},n[l.default.USER_LOGOUT]=function(){u=new Map},n));t.default=f}}]);
//# sourceMappingURL=8a8554e56ff68b9944b6.js.map