(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[8484,27051,11860,70273,10523,26945],{312915:(e,t,n)=>{e.exports=n.p+"4e93f2a1547c408ca7d45d92ea092bdb.svg"},960362:(e,t,n)=>{e.exports=n.p+"8d7de3921c1f76da6c999507e7a306c4.svg"},123451:(e,t,n)=>{e.exports=n.p+"9f65387c814dd4cb5aff4e4e1e7e0446.svg"},16697:(e,t,n)=>{e.exports=n.p+"ed2007aab2da31a5436e70a28b4d59f9.svg"},105045:(e,t,n)=>{e.exports=n.p+"7ad95b56788fc31c3e5eec667129ba68.svg"},128112:(e,t,n)=>{e.exports=n.p+"9ae90b4dd4d7e4ddd9c8935dae4e87c4.svg"},876406:(e,t,n)=>{e.exports=n.p+"a92681efceabc4ee91964a7cef2571cf.svg"},576884:(e,t,n)=>{e.exports=n.p+"bee123bfad40a3fb4bb42f8d318dd867.svg"},937849:(e,t,n)=>{e.exports=n.p+"96ad9c7f6f636a7fb2028e2a07847776.svg"},772144:(e,t,n)=>{e.exports=n.p+"ef3a1ed683cfcf029971b12a26462072.svg"},976693:(e,t,n)=>{e.exports=n.p+"0e33fc3f60b69ba9b0247df60d589439.svg"},40028:(e,t,n)=>{e.exports=n.p+"60ea1d16163c13845ccf31e70fd6528b.svg"},470914:(e,t,n)=>{
e.exports=n.p+"45372ebbfad1c491747d6f5b7117fd88.svg"},399298:(e,t,n)=>{e.exports=n.p+"8fb4edd1e9b3578340fcc70e2b5e42ca.svg"},20616:(e,t,n)=>{e.exports=n.p+"c332227601f0bacc9e5b60cdb1566b0a.svg"},556306:(e,t,n)=>{e.exports=n.p+"e1f780a67d11d805caf661d4a0f38efb.svg"},81822:(e,t,n)=>{e.exports=n.p+"cf8bddbb008f27d223c80891dc32de2e.svg"},933623:(e,t,n)=>{e.exports=n.p+"2ea0da374811d388ca5d95b4060179a8.svg"},72801:(e,t,n)=>{e.exports=n.p+"b7f3703c0dfe7dbf2bee1d8dd98b6861.svg"},956634:(e,t,n)=>{e.exports=n.p+"054d478080ee1ae6fd48b34cf3425509.svg"},772766:(e,t,n)=>{e.exports=n.p+"2a6caeb4c8b092945c4e5295ef4ee01a.svg"},482773:(e,t,n)=>{e.exports=n.p+"56211d7a52c875d24eb87248b915991b.png"},32028:(e,t,n)=>{e.exports=n.p+"5a6c298c68b5963581a107d420352d07.svg"},761818:(e,t,n)=>{e.exports=n.p+"e1ba83b57160ff7c293a9baa83512f3a.svg"},244750:(e,t,n)=>{e.exports=n.p+"d3f2bc52ac7e6567547689b1dff96264.svg"},65295:(e,t,n)=>{e.exports=n.p+"cd3fb9aec25bb70ee615c59eab0ff285.png"},558607:(e,t,n)=>{
e.exports=n.p+"13c1f0a9d8c8a7fda8bff0a53eeb040c.svg"},712218:(e,t,n)=>{e.exports=n.p+"140061ea7dd78e612606683c15a4bcaf.svg"},755645:(e,t,n)=>{e.exports=n.p+"6f35b2fc488e26dc1d56b253d01c7b75.svg"},928793:(e,t,n)=>{e.exports=n.p+"99c599a00313a16fa4babba64d461f34.svg"},324752:(e,t,n)=>{e.exports=n.p+"c173765c2ab447a8ec7ba0e3e8aa3c09.svg"},655916:(e,t,n)=>{e.exports=n.p+"c998fecc59ff94fe8e8e7f3557586c07.svg"},315879:(e,t,n)=>{e.exports=n.p+"255b326a18a4f8a078c90e6c35f6013b.svg"},467314:(e,t,n)=>{e.exports=n.p+"aabf08a5612d80aee6444c21176ea11a.svg"},932568:(e,t,n)=>{e.exports=n.p+"112667acf24cbb3d067ccbc54e3638de.svg"},930519:(e,t,n)=>{e.exports=n.p+"be71475205180432aaa6a89bd8ee306c.svg"},157862:(e,t,n)=>{e.exports=n.p+"40aa3feae87e9745dd56756762029544.svg"},747048:(e,t,n)=>{e.exports=n.p+"364cec2cc5dfb64873e3a33626a56ba1.svg"},558504:(e,t,n)=>{e.exports=n.p+"fa167a933d3bee952bc4a587a08c94ee.png"},417454:(e,t,n)=>{e.exports=n.p+"19d207c2cb99790d16ec686a16e77222.svg"},32358:(e,t,n)=>{
e.exports=n.p+"8109cbeeed8e4358aac09a05deddb625.svg"},232353:(e,t,n)=>{e.exports=n.p+"acb954ff414b98380056308d56efcbfd.svg"},483683:(e,t,n)=>{e.exports=n.p+"72db7a1fbe5d3c861fe63c26f634b5d2.svg"},63685:(e,t,n)=>{e.exports=n.p+"a4e25b25c89b862150e6eeb520e67dd5.svg"},777570:(e,t,n)=>{e.exports=n.p+"fbc932098a22a40c18da4b7445c6e223.svg"},529753:(e,t,n)=>{e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},166682:(e,t,n)=>{e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},532958:(e,t,n)=>{e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},94672:(e,t,n)=>{e.exports=n.p+"8f1371330b0fbaa2cd14397ea198a15a.png"},800193:(e,t,n)=>{e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},537687:(e,t,n)=>{e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},138e3:(e,t,n)=>{e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},806956:(e,t,n)=>{e.exports=n.p+"5eab8ab3c3d86af84e525961596fc710.png"},492137:(e,t,n)=>{e.exports=n.p+"a088a8a4d03c76f5b198a8c38e820823.svg"},419552:(e,t,n)=>{
e.exports=n.p+"5e8ddaef72797b0ddec742ea3ffe6b4c.svg"},877193:(e,t,n)=>{e.exports=n.p+"4df9e7be7ccbff5708abdddceacba730.svg"},343762:(e,t,n)=>{e.exports=n.p+"b43686061756c5f2787701048ea2e41f.svg"},185204:(e,t,n)=>{e.exports=n.p+"3093c4e6a3ee8ef9d6ee62ffea283603.svg"},73316:(e,t,n)=>{e.exports=n.p+"02e604928e685344a86abbd473841a3d.svg"},385488:(e,t,n)=>{e.exports=n.p+"dbdc2f57ed1a7f2f01a342ab2e6fb032.svg"},5064:(e,t,n)=>{e.exports=n.p+"a375de187c8d70afb21e426ffa95453d.svg"},949191:(e,t,n)=>{e.exports=n.p+"850d4b3febb2dd085c8821beb85cd46c.jpg"},305257:(e,t,n)=>{e.exports=n.p+"db81e4b4d2c579be53e7faafa720fa5b.jpg"},222917:(e,t,n)=>{e.exports=n.p+"ec499e7dcc451566caeda997fa9265db.svg"},153996:(e,t,n)=>{e.exports=n.p+"e3da44ce48e0ff29426d0cfb99c2580c.svg"},77015:(e,t,n)=>{e.exports=n.p+"7c437e103eb9348c4688a03705d30d4b.mp4"},846334:(e,t,n)=>{"use strict";n.d(t,{h7:()=>o,rh:()=>i,GG:()=>a,R2:()=>l});var r=n(744564);function o(e,t){return new Promise((function(n){setTimeout((function(){
r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_OPEN",activity:e,isPrivate:t,resolve:n})}),0)}))}function i(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_QUERY",query:e})}function a(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",channelId:e})}function l(e){r.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_SEND",userId:e})}},106750:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>P,bR:()=>x,G7:()=>A,K5:()=>T,$z:()=>M,gk:()=>L,AQ:()=>D,uY:()=>k});var r=n(478465),o=n(224955),i=n.n(o),a=n(817673),l=n(281110),u=n(744564),c=n(784426),s=n(340974),f=n(575136),d=n(2590),p=n(594697);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))}}function m(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},j=window.GLOBAL_ENV.ALGOLIA_KEY,_="production"===window.GLOBAL_ENV.PROJECT_ENV?"prod_discoverable_guilds":"staging"===window.GLOBAL_ENV.PROJECT_ENV?"stg_discoverable_guilds":"dev_discoverable_guilds",I={"auto_removed:":!1,approximate_presence_count:"> 0",approximate_member_count:"> 0"};function w(e){var t=e.query,n=e.preferredLocale,r=e.offset,o=e.limit,i=e.categoryId,l=e.tag,u=(0,c.s1)(),s=a.stringify({query:t,offset:r,limit:o,preferredLocale:n,categoryId:i,tag:l}),f=u.location.search;if(!(null!=f&&f.length>0&&f.startsWith("?"))||f.startsWith("?")&&f.split("?")[1]!==s){var p={search:s};(0,c.uL)(d.Z5c.GUILD_DISCOVERY,p)}}function P(){if(null!=j){var e=i()("NKTZZ4AIZU",j,{responsesCache:(0,r.A)()}).initIndex(_)
;u.Z.wait((function(){return u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_INIT",index:e})}))}}function x(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.categoryId,o=void 0===r?p.Hk:r,i=t.preferredLocale,a=t.offset,c=t.length,f=t.tag,h=s.ZP.getSearchIndex();if(null!=h){n&&w({query:e,preferredLocale:i,offset:a,limit:c,categoryId:o,tag:f});u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_START",section:d.Lcj.SEARCH,query:e,categoryId:o});var y=Object.assign({},I,t.filters),b=Object.keys(y),m=b.map((function(e){return"".concat(e).concat(y[e])}));o!==p.Hk&&m.push("(primary_category_id=".concat(o," OR categories.id=").concat(o,")"));var C=m.join(" AND "),S=["preferred_locale: ".concat(i)],j=["name","description","keywords","categories.name","categories.name_localizations.".concat(i),"primary_category.name","primary_category.name_localizations.".concat(i),"vanity_url_code"];try{var _=h.search(e,{filters:C,optionalFilters:S,length:c,offset:a,
restrictSearchableAttributes:j}),P=l.Z.get({url:d.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:e},oldFormErrors:!0});Promise.all([_,P]).then((function(t){var n=O(t,2),r=n[0],i=r.hits,l=r.nbHits,s=n[1].body.valid;u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_SUCCESS",section:d.Lcj.SEARCH,query:e,categoryId:o,guilds:s?E(i.map((function(e){return g(v({},e),{id:e.objectID})}))):[],offset:a,limit:c,total:s?Math.min(l,p.lA):0})})).catch((function(r){r.body.retry_after>0&&h===s.ZP.getSearchIndex()?setTimeout((function(){x(e,t,n)}),1e3*r.body.retry_after):u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:d.Lcj.SEARCH,categoryId:o,query:e})}))}catch(t){u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",section:d.Lcj.SEARCH,categoryId:o,query:e})}}}function A(e,t){var n=s.ZP.getSearchIndex();if(null!=n){var r=Object.assign({},I,t),o=Object.keys(r).map((function(e){return"".concat(e).concat(r[e])}));try{var i=n.search(e,{filters:o.join(" AND "),facets:["categories.id"]
}),a=l.Z.get({url:d.ANM.GUILD_DISCOVERY_VALID_TERM,query:{term:e},oldFormErrors:!0});Promise.all([i,a]).then((function(t){var n=O(t,2),r=n[0],o=r.nbHits,i=r.facets,a=n[1].body.valid;u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_UPDATE_COUNTS",query:e,nbHits:a?o:0,facets:a?i:void 0})}))}catch(t){u.Z.dispatch({type:"GUILD_DISCOVERY_SEARCH_COUNTS_FAIL",query:e})}}}function T(e){return N.apply(this,arguments)}function N(){return(N=b((function(e){var t,n;return S(this,(function(r){switch(r.label){case 0:u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_START",categoryId:e});r.label=1;case 1:r.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({categories:[e]}),oldFormErrors:!0})];case 2:t=r.sent();n=t.body.guilds;u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_SUCCESS",categoryId:e,guilds:n});return[3,4];case 3:r.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_POPULAR_FETCH_FAILURE",categoryId:e});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}
function M(e,t){return Z.apply(this,arguments)}function Z(){return(Z=b((function(e,t){return S(this,(function(n){switch(n.label){case 0:u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:d.Lcj.FEATURED});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({offset:e,limit:t}),oldFormErrors:!0})];case 2:U(n.sent().body,d.Lcj.FEATURED);return[3,4];case 3:n.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:d.Lcj.FEATURED});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function L(){return R.apply(this,arguments)}function R(){return(R=b((function(){var e,t;return S(this,(function(n){switch(n.label){case 0:e=f.Z.applicationStatistics;t=Object.keys(e);u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_START",section:d.Lcj.GAMES_YOU_PLAY});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,l.Z.get({url:d.ANM.GUILD_DISCOVERY,query:a.stringify({application_ids:t}),oldFormErrors:!0})];case 2:
U(n.sent().body,d.Lcj.GAMES_YOU_PLAY);return[3,4];case 3:n.sent();u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_FAILURE",section:d.Lcj.GAMES_YOU_PLAY});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function D(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(0,c.uL)(d.Z5c.GUILD_DISCOVERY);u.Z.dispatch({type:"GUILD_DISCOVERY_CLEAR_SEARCH"})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];u.Z.dispatch({type:"GUILD_DISCOVERY_SELECT_CATEGORY",categoryId:e,isHomepage:t})}function U(e,t){var n=e.offset,r=e.limit,o=e.guilds,i=e.total;u.Z.dispatch({type:"GUILD_DISCOVERY_FETCH_SUCCESS",section:t,guilds:o,offset:n,limit:r,total:i})}},832763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(281110),o=n(744564),i=n(2590);const a={fetchRegions:function(e){r.Z.get({url:i.ANM.REGIONS(e),retries:1,oldFormErrors:!0}).then((function(t){return o.Z.dispatch({type:"LOAD_REGIONS",regions:t.body,guildId:e})}),(function(){return o.Z.dispatch({
type:"LOAD_REGIONS",regions:[],guildId:e})}))},changeCallRegion:function(e,t){r.Z.patch({url:i.ANM.CALL(e),body:{region:t},oldFormErrors:!0})}}},217458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(281110),o=n(744564),i=n(2590);const a={show:function(e,t){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_SHOW",tutorialId:e,renderData:t})}))},hide:function(e){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_HIDE",tutorialId:e})}))},dismiss:function(e){o.Z.wait((function(){return o.Z.dispatch({type:"TUTORIAL_INDICATOR_DISMISS",tutorialId:e})}));r.Z.put({url:i.ANM.TUTORIAL_INDICATOR(e),oldFormErrors:!0})},suppressAll:function(){o.Z.dispatch({type:"TUTORIAL_INDICATOR_SUPPRESS_ALL"});r.Z.post({url:i.ANM.TUTORIAL_INDICATORS_SUPPRESS,oldFormErrors:!0})}}},625091:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z})
;var r=n(945460),o=n(744564),i=n(943469),a=n(336334),l=n(567867),u=n(444663),c=n(769915),s=n(598143),f=n(474717),d=n(460471),p=n(571690),h=n(201891),y=n(649536),b=n(358624),m=n(723029),v=n(28862),g=n(798808),O=n(331055),E=n(284610),C=n(255592),S=n(661123),j=n(2590),_=n(473708);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function A(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function M(e){var t,r,s=e.channelId,f=e.uploads,I=e.draftType,P=e.parsedMessage,Z=e.options,L=void 0===Z?{}:Z,R=function(){""!==k.content&&""===E.Z.getDraft(s,I)&&i.Z.saveDraft(s,k.content,I);0===C.Z.getUploadCount(s,I)&&l.Z.setUploads({channelId:s,uploads:f,draftType:I})},D=new d.Z(j.ANM.MESSAGES(s)),k={content:"",nonce:"",channel_id:s,type:j.uaV.DEFAULT,sticker_ids:null==L?void 0:L.stickerIds,captcha_key:null==L||null===(t=L.captchaPayload)||void 0===t?void 0:t.captcha_key,captcha_rqtoken:null==L||null===(r=L.captchaPayload)||void 0===r?void 0:r.captcha_rqtoken}
;null!=P&&(k.content=null==P?void 0:P.content);if(null!=g.Z.getPendingReply(s)){k.type=j.uaV.REPLY;k.message_reference=L.messageReference;k.allowed_mentions=L.allowedMentions;(0,v.A6)(s)}var U,B=T((0,O.ZP)(k.content),2),F=B[0],G=B[1];if(F){k.content=G;var H;k.flags=(0,S.pj)(null!==(H=k.flags)&&void 0!==H?H:0,j.iLy.SUPPRESS_NOTIFICATIONS)}var V,W,z,Y,K=null!==(U=L.nonce)&&void 0!==U?U:(0,b.rv)(),q=(0,b.ZP)({channelId:s,content:k.content,tts:null!==(V=null==P?void 0:P.tts)&&void 0!==V&&V,type:k.type,messageReference:k.message_reference,flags:k.flags,nonce:K});k.nonce=K;D.on("start",(function(e){W=(0,y.e5)(A(x({},q),{id:e.id}));o.Z.dispatch({type:"UPLOAD_START",channelId:s,file:e,message:W,uploader:D})}));D.on("progress",(function(e){o.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:s,file:e})}));D.on("error",(Y=(z=function(e,t,r,i){var l,d;return N(this,(function(y){switch(y.label){case 0:o.Z.dispatch({type:"UPLOAD_FAIL",channelId:s,file:e,messageRecord:W});(0,m.x)({fileItems:e.items,
failureCode:t,errorMessage:null==i?void 0:i.msg});if(t===j.evJ.EXPLICIT_CONTENT){a.Z.sendClydeError(s,t);return[2]}if(t===j.evJ.AUTOMOD_MESSAGE_BLOCKED){l={code:t,message:null==r?void 0:r.message};d=null==W?null:{type:c.$V.SEND,message:A(x({},W),{channelId:s})};(0,u.openUploadError)({title:_.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:(0,h.uF)(d,l)});return[2]}return null==r||null==r.captcha_key||null!=L.captchaPayload?[3,2]:[4,n.e(72519).then(n.bind(n,972519))];case 1:y.sent().default.showCaptchaAsync((0,p.extractCaptchaPropsFromResponseBody)(r)).then((function(e){M({channelId:s,uploads:f,draftType:I,parsedMessage:P,options:A(x({},L),{captchaPayload:e})})}),(function(){R()}));return[3,3];case 2:(0,u.openUploadError)({title:_.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:_.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_RETRY_HELP});R();y.label=3;case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=z.apply(e,t);function i(e){w(o,n,r,i,a,"next",e)}
function a(e){w(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n,r){return Y.apply(this,arguments)}));D.on("complete",(function(e){o.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:s,file:e,aborted:D._aborted})}));D.uploadFiles(f,k)}const Z={instantBatchUpload:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Array.from(t).map((function(t){return new s.n({file:t,platform:f.ow.WEB,isThumbnail:r},e)}));M({channelId:e,uploads:o,draftType:n})},upload:function e(t){var n=t.channelId,l=t.file,c=t.draftType,s=t.message,f={content:"",tts:!1,hasSpoiler:t.hasSpoiler,filename:t.filename};if(null!=s){f.content=s.content;f.tts=s.tts;f.channel_id=s.channel_id;var p=g.Z.getPendingReply(n);if(null!=p){var h=a.Z.getSendMessageOptionsForReply(p);f.type=j.uaV.REPLY;f.message_reference=h.messageReference;f.allowed_mentions=h.allowedMentions;(0,v.A6)(n)}}var y=new d.Z(j.ANM.MESSAGES(n));y.on("start",(function(e){o.Z.dispatch({type:"UPLOAD_START",channelId:n,file:e,uploader:y})
}));y.on("progress",(function(e){o.Z.dispatch({type:"UPLOAD_PROGRESS",channelId:n,file:e})}));y.on("error",(function(t,d){o.Z.dispatch({type:"UPLOAD_FAIL",channelId:n,file:t});(0,m.x)({fileItems:t.items,failureCode:d});if(d!==j.evJ.EXPLICIT_CONTENT){(0,u.openUploadError)({title:_.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:_.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){(0,r.closeModal)(u.UPLOAD_ERROR_MODAL_KEY);e({channelId:n,file:l,draftType:c,message:s})}})});""!==f.content&&""===E.Z.getDraft(n,c)&&i.Z.saveDraft(n,f.content,c)}else a.Z.sendClydeError(n,d)}));y.on("complete",(function(e){o.Z.dispatch({type:"UPLOAD_COMPLETE",channelId:n,file:e})}));y.upload(l,f)},uploadFiles:M,cancel:function(e){o.Z.dispatch({type:"UPLOAD_CANCEL_REQUEST",file:e});if(null!=e.draftContent&&null!=e.channelId){""===E.Z.getDraft(e.channelId,E.d.ChannelMessage)&&o.Z.dispatch({type:"DRAFT_SAVE",channelId:e.channelId,draft:e.draftContent,draftType:E.d.ChannelMessage})}}}},
695358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>zu});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(496486),s=n.n(c),f=n(751615),d=n(202351),p=n(418705),h=n(945460),y=n(971402),b=n(672380),m=n(218190),v=n(151650),g=n(634698),O=n(609145),E=n(566706),C=n(661658),S=n(773011),j=n(281808),_=n(91174),I=n(792800),w=n(744564),P=n(496916),x=n(172028),A=n(717091),T=n(652591),N=n(937119),M=n(921603),Z=n(878033),L=n(876186),R=n(34183),D=n(672886),k=n(2590),U=n(473708),B=n(8429),F=n.n(B);function G(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,l,"next",e)}function l(e){G(i,r,o,a,l,"throw",e)}a(void 0)}))}}function V(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function W(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1
};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const Y=function(e){var t=e.guild,i=e.onAddGuild,a=o.useCallback((function(){(0,h.openModalLazy)(H((function(){var e,o;return z(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,W(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){V(e,t,n[t])}))}return e}({},e),{guild:t,source:k.t4x.HUB_DIRECTORY,analyticsLocation:{section:k.jXE.HUB_WELCOME_CTA}}))}]}}))})))}),[t]);return(0,r.jsxs)("div",{className:F().emptyWrapper,children:[(0,r.jsx)("img",{className:F().emptyImage,alt:"",src:n(655916)}),(0,r.jsx)(h.Heading,{className:F().emptyTitle,variant:"heading-xl/semibold",children:U.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_TITLE.format({guildName:t.name})}),(0,r.jsx)(h.Text,{variant:"text-md/normal",className:F().emptySubtitle,children:U.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_SUBTITLE}),null!=i?(0,r.jsx)(D.i,{className:F().emptyCTA,iconUrl:n(755645),header:U.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_ADD_SERVER,completed:!1,onClick:i}):null,(0,r.jsx)(D.i,{className:F().emptyCTA,iconUrl:n(930519),
header:U.Z.Messages.HUB_DIRECTORY_CHANNEL_EMPTY_INVITE,completed:!1,onClick:a})]})};var K=n(318715),q=n(567403),X=n(682776),Q=n(282898),J=n(775173),$=n(327499),ee=n(874049),te=n(934870),ne=n(848285),re=n(206986),oe=n(124251),ie=n(186440),ae=n(472034),le=n(211482),ue=n(668159),ce=n(977085),se=n(58939),fe=n.n(se),de=n(928793),pe=n.n(de);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ye(i,r,o,a,l,"next",e)}function l(e){ye(i,r,o,a,l,"throw",e)}a(void 0)}))}}function me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){me(e,t,n[t])}))}return e}function ge(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=function(e,t){var n,r,o,i,a={
label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Se=function(e){var t=e.onClick;return(0,r.jsxs)(h.Clickable,{onClick:t,className:fe().addEntryCard,children:[(0,r.jsx)("img",{alt:"",src:pe()}),(0,r.jsx)(h.Text,{variant:"text-sm/semibold",color:"header-primary",className:fe().addServerText,children:U.Z.Messages.HUB_ADD_SERVER_CTA})]})};function je(e){var t=e.entry,i=Ee(o.useState(!1),2),l=i[0],u=i[1],c=(0,R.Z)(t).canEdit;return(0,r.jsx)("div",{className:a()(fe().actionButtonsContainer,me({},fe().forceButtonsShow,l)),children:(0,r.jsxs)(ue.ZP,{children:[c?(0,r.jsx)(h.Tooltip,{text:U.Z.Messages.HUB_ENTRY_UPDATE,hideOnClick:!0,children:function(e){var o=e.onClick,i=Oe(e,["onClick"]);return(0,r.jsx)(ue.zx,ge(ve({},i),{onClick:function(){null==o||o();(0,h.openModalLazy)(be((function(){var e,o;return Ce(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(62439)]).then(n.bind(n,162439))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ge(ve({},e),{
entry:t}))}]}}))})))},"aria-label":U.Z.Messages.HUB_ENTRY_UPDATE,children:(0,r.jsx)(ae.Z,{className:fe().overflowIcon})}))}}):null,(0,r.jsx)(ce.Z,{onRequestOpen:function(){return u(!0)},onRequestClose:function(){return u(!1)},entry:t,hideEditButton:!0,children:function(e){var t=e.onClick,n=Oe(e,["onClick"]);return(0,r.jsx)(h.Tooltip,{text:U.Z.Messages.MORE,hideOnClick:!0,children:function(e){var o=e.onClick,i=Oe(e,["onClick"]);return(0,r.jsx)(ue.zx,ge(ve({},n,i),{onClick:function(e){null==o||o();t(e)},"aria-label":U.Z.Messages.MORE,children:(0,r.jsx)(ie.Z,{className:fe().overflowIcon})}))}})}})]})})}const _e=function(e){var t,i,a=e.entry,l=Ee(o.useState(!1),2),u=l[0],c=l[1],s=null!=(0,d.e7)([q.Z],(function(){return q.Z.getGuild(a.guildId)})),f=(t=be((function(){return Ce(this,(function(e){switch(e.label){case 0:c(!0);e.label=1;case 1:e.trys.push([1,,5,6]);return s?[3,3]:[4,$.Z.joinGuild(a.guildId,{source:k.vtS.DIRECTORY_ENTRY})];case 2:e.sent();return[3,4];case 3:(0,te.X)(a.guildId)
;e.label=4;case 4:return[3,6];case 5:c(!1);return[7];case 6:return[2]}}))})),function(){return t.apply(this,arguments)}),p=J.ZP.getGuildSplashURL({id:a.guildId,splash:a.splash,size:300*(0,ee.x_)()}),b=null!==(i=J.ZP.getGuildIconURL({id:a.guildId,icon:a.icon,size:40}))&&void 0!==i?i:void 0,m=U.Z.Messages.JOIN;s&&(m=U.Z.Messages.HUB_DIRECTORY_CARD_JOINED_GUILD_BUTTON);return(0,r.jsxs)("div",{className:fe().card,onContextMenu:function(e){(0,y.jW)(e,be((function(){var e,t;return Ce(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,156342))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ge(ve({},e),{entry:a}))}]}}))})))},children:[(0,r.jsxs)("div",{className:fe().cardHeader,children:[(0,r.jsx)("div",{className:fe().splash,children:null!=p&&(0,r.jsx)("img",{src:p,alt:"",className:fe().splashImage})}),(0,r.jsx)("div",{className:fe().guildIcon,children:(0,r.jsx)(le.ZP,{mask:le.ZP.Masks.SQUIRCLE,width:48,height:48,children:(0,r.jsx)("div",{
className:fe().iconMask,children:(0,r.jsx)(oe.Z,{className:fe().icon,iconSrc:b,guild:new ne.Z(a),size:oe.Z.Sizes.MEDIUM,active:!0})})})})]}),(0,r.jsxs)("div",{className:fe().guildInfo,children:[(0,r.jsxs)("div",{className:fe().title,children:[(0,r.jsx)(re.Z,{className:fe().guildBadge,guild:a,tooltipColor:h.Tooltip.Colors.PRIMARY}),(0,r.jsx)(h.Text,{className:fe().guildName,variant:"heading-md/semibold",color:"header-primary",children:a.name})]}),(0,r.jsx)(h.Text,{className:fe().description,variant:"text-sm/normal",color:"header-secondary",children:a.description}),(0,r.jsxs)("div",{className:fe().memberInfo,children:[null!=a.approximatePresenceCount&&(0,r.jsxs)("div",{className:fe().memberCount,children:[(0,r.jsx)("div",{className:fe().dotOnline}),(0,r.jsx)(h.Text,{variant:"text-xs/normal",color:"header-secondary",children:U.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:a.approximatePresenceCount})})]}),null!=a.approximateMemberCount&&(0,r.jsxs)("div",{
className:fe().memberCount,children:[(0,r.jsx)("div",{className:fe().dotOffline}),(0,r.jsx)(h.Text,{variant:"text-xs/normal",color:"header-secondary",children:U.Z.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:a.approximateMemberCount})})]})]}),(0,r.jsx)(h.Button,{submitting:u,className:fe().joinButton,color:s?h.Button.Colors.PRIMARY:h.Button.Colors.GREEN,onClick:f,children:m})]}),(0,r.jsx)(je,{entry:a})]})};var Ie=n(612831),we=n(42555),Pe=n.n(we),xe=n(84839),Ae=n.n(xe),Te=n(324752),Ne=n.n(Te),Me=n(315879),Ze=n.n(Me);function Le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Re=(0,b.Z)((function(e){var t=e.searchQuery,n=e.setSearchQuery,o=e.handleClearSearch,i=e.handleSearchKeyPress,l=e.width,u=null!=l&&l<=800;return(0,r.jsxs)("div",{className:Ae().header,children:[(0,r.jsx)("img",{alt:"",className:Ae().headerImage,src:u?Ze():Ne()}),(0,r.jsx)("div",{className:Ae().headerContentWrapper,children:(0,
r.jsxs)("div",{className:a()(Ae().headerContent,Le({},Ae().headerContentSmall,u)),children:[(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",className:Ae().searchTitle,children:U.Z.Messages.HUB_DIRECTORY_SEARCH_TITLE}),(0,r.jsx)(h.Text,{variant:"text-md/normal",className:Ae().searchSubtitle,children:U.Z.Messages.HUB_DIRECTORY_SEARCH_SUBTITLE}),(0,r.jsx)(Q.Z,{searchTerm:t,className:Ae().searchBox,inputClassName:Ae().searchBoxInput,closeIconClassName:Ae().closeIcon,searchIconClassName:Ae().searchIcon,label:U.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:U.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:n,onClear:o,onKeyPress:i,cta:null!=t&&t.length>0?U.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]})})]})}));function De(e){var t,n,o=e.guild,i=e.directoryEntries,l=e.handleCreateOrAddGuild,u=e.isLoading,c=(0,K.ZP)([X.Z],(function(){return X.Z.can(k.Plq.ADMINISTRATOR,o)})),s=[];null!=i&&i.forEach((function(e){s=s.concat(e.entries)}));s.sort((function(e,r){
return(null!==(t=r.approximateMemberCount)&&void 0!==t?t:0)-(null!==(n=e.approximateMemberCount)&&void 0!==n?n:0)}));var f=J.ZP.getGuildSplashURL({id:o.id,splash:o.splash});return(0,r.jsx)("div",{className:Pe().pageContainer,children:(0,r.jsxs)(h.AdvancedScrollerAuto,{className:Pe().scroller,children:[(0,r.jsxs)("div",{className:Ae().header,children:[null!=f?(0,r.jsx)("img",{alt:"",className:a()(Ae().headerImage,Ae().headerImageSimple),src:f}):null,(0,r.jsx)("div",{className:Ae().headerImageBG}),(0,r.jsx)("div",{className:Ae().headerContentWrapper,children:(0,r.jsx)("div",{className:a()(Ae().headerContent,Ae().headerContentSmall),children:(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",color:"always-white",children:U.Z.Messages.GUILD_DISCOVERY_CATEGORY_SEARCH_PLACEHOLDER.format({categoryName:"Midjourney"})})})})]}),u&&null==i?(0,r.jsx)(h.Spinner,{className:Pe().spinner}):(0,r.jsxs)("div",{className:Pe().cardsContainer,children:[s.map((function(e){return(0,r.jsx)(_e,{entry:e
},e.guildId)})),c&&null!=l?(0,r.jsx)(Se,{onClick:l}):null]})]})})}const ke=function(e){var t=e.channel,n=e.directoryEntries,i=e.handleCreateOrAddGuild,a=e.searchQuery,l=e.setSearchQuery,u=e.handleClearSearch,c=e.handleSearchKeyPress,s=e.currentCategoryId,f=e.handleSelectCategory,d=e.categoryCounts,p=e.allEntriesCount,y=e.isLoading,b=(0,K.ZP)([q.Z],(function(){return q.Z.getGuild(t.getGuildId())}));if(null!=b&&b.hasFeature(k.oNc.SHARD))return(0,r.jsx)(De,{guild:b,directoryEntries:n,handleCreateOrAddGuild:i,isLoading:y});var m=!y&&t.id===Ie.C1&&(null==n||0===n.length);return(0,r.jsx)("div",{className:Pe().pageContainer,children:(0,r.jsxs)(h.AdvancedScrollerAuto,{className:Pe().scroller,children:[(0,r.jsx)(Re,{searchQuery:a,setSearchQuery:l,handleClearSearch:u,handleSearchKeyPress:c}),(0,r.jsx)(h.AdvancedScrollerThin,{orientation:"horizontal",children:(0,r.jsxs)(h.TabBar,{className:Ae().tabBar,type:"top",look:"brand",selectedItem:s,onItemSelect:function(e){f(e)},children:[(0,
r.jsx)(h.TabBar.Item,{className:Ae().tabBarItem,id:Ie.AR.ALL,children:"".concat(U.Z.Messages.DIRECTORY_CATEGORY_ALL," (").concat(p,")")},Ie.AR.ALL),(0,Ie.b7)(t.id).map((function(e){var t=e.value,n=e.label;return(0,r.jsx)(h.TabBar.Item,{className:Ae().tabBarItem,id:t,children:"".concat(n," ").concat(null!=d[t]?"(".concat(d[t],")"):"")},t)}))]})}),m&&null!=i?(0,r.jsx)(Se,{onClick:i}):null,y&&null==n?(0,r.jsx)(h.Spinner,{className:Pe().spinner}):null==n?void 0:n.map((function(e,t){return(0,r.jsxs)(o.Fragment,{children:[void 0!==e.header?(0,r.jsx)(h.Text,{variant:"text-md/semibold",className:Ae().sectionHeader,children:e.header}):null,(0,r.jsxs)("div",{className:Pe().cardsContainer,children:[e.entries.map((function(e){return(0,r.jsx)(_e,{entry:e},e.guildId)})),e.appendEndCard&&null!=i?(0,r.jsx)(Se,{onClick:i}):null]})]},t)}))]})})};var Ue=n(549331);var Be=n(873308),Fe=n(495910),Ge=n.n(Fe),He=n(123451),Ve=n.n(He);const We=function(e){
var t,n=e.searchQuery,o=e.setSearchQuery,i=e.mostRecentQuery,a=e.handleClearSearch,l=e.handleSearchKeyPress,u=e.handleCreateOrAddGuild,c=e.searchResults;if(e.searchFetching)t=(0,r.jsx)("div",{className:Pe().pageContainer,children:(0,r.jsx)(h.Spinner,{className:Pe().spinner})});else if(0===c.length){var s=null!=u?U.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_SUBTITLE.format({addServerHook:function(e,t){return(0,r.jsx)(h.Anchor,{onClick:u,children:e},t)}}):U.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_NO_ADD;t=(0,r.jsxs)("div",{className:Ge().emptySearchWrapper,children:[(0,r.jsx)("img",{className:Ge().emptySearchImage,alt:"",src:Ve()}),(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",color:"header-primary",className:Ge().emptySearchTitle,children:U.Z.Messages.DIRECTORY_SEARCH_NO_RESULTS_TITLE}),(0,r.jsx)(h.Text,{variant:"text-md/normal",color:"header-secondary",className:Ge().emptySearchSubtitle,children:s})]})}else t=(0,r.jsx)("div",{className:Pe().cardsContainer,children:c.map((function(e){
return(0,r.jsx)(_e,{entry:e},e.guildId)}))});return(0,r.jsx)("div",{className:Pe().pageContainer,children:(0,r.jsxs)(h.ScrollerAuto,{className:Pe().scroller,children:[(0,r.jsxs)("div",{className:Ge().searchHeader,children:[(0,r.jsxs)("div",{className:Ge().headerTitleWrapper,children:[(0,r.jsx)(h.Clickable,{onClick:a,className:Ge().arrow,children:(0,r.jsx)(Be.Z,{direction:Be.Z.Directions.LEFT})}),(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",className:Ge().searchPageTitle,children:U.Z.Messages.DIRECTORY_SEARCH_RESULTS_HEADER.format({numResults:c.length,query:i})})]}),(0,r.jsx)(Q.Z,{searchTerm:n,className:Ge().searchPageBox,inputClassName:Ge().searchPageInput,label:U.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,placeholder:U.Z.Messages.DIRECTORY_SEARCH_PLACEHOLDER,onChange:o,onClear:a,onKeyPress:l,cta:null!=n&&n.length>0?U.Z.Messages.GUILD_DISCOVERY_SEARCH_ENTER_CTA:null})]}),t]})})};function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function Ye(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ye(i,r,o,a,l,"next",e)}function l(e){Ye(i,r,o,a,l,"throw",e)}a(void 0)}))}}function qe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Je=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const $e=function(e){var t=e.channel,i=e.guild,a=(0,d.cj)([L.Z],(function(){
var e=L.Z.getCurrentCategoryId(t.id);return{currentCategoryId:e,directoryEntries:L.Z.getDirectoryEntries(t.id,e===Ie.AR.ALL?null:e),categoryCounts:L.Z.getDirectoryCategoryCounts(t.id),allEntriesCount:L.Z.getDirectoryAllEntriesCount(t.id),isLoading:L.Z.isFetching()}})),l=a.currentCategoryId,u=a.directoryEntries,c=a.categoryCounts,s=a.allEntriesCount,f=a.isLoading;o.useEffect((function(){return function(){var e=A.ZP.lastMessageId(t.id);null!=e&&w.Z.wait((function(){(0,P.In)(t.id,!0,!0,e)}))}}),[t.id]);var p,y=o.useMemo((function(){return null!=u?function(e,t){if(t!==Ie.AR.ALL)return[{entries:(0,Ue.TR)(e),appendEndCard:!0}];var n=[],r=(0,Ue.Lz)(e),o=new Set(r.map((function(e){return e.guildId})));r.length>0&&n.push({header:U.Z.Messages.SEARCH_NEWEST,entries:r,appendEndCard:!1});var i=e.filter((function(e){return!o.has(e.guildId)}));(i=(0,Ue.Th)(i)).length>0&&n.push({header:U.Z.Messages.ALL_SERVERS,entries:i,appendEndCard:!0});return n}(Object.values(u),l):null}),[u,l]),b=(0,
d.cj)([Z.Z],(function(){var e=Z.Z.getSearchState(t.id),n=e.mostRecentQuery;return{mostRecentQuery:n,searchFetching:e.fetching,searchResults:Z.Z.getSearchResults(t.id,n)}})),m=b.mostRecentQuery,v=b.searchFetching,g=b.searchResults,O=Qe(o.useState(m),2),E=O[0],C=O[1],S=""!==m,j=x.Z.useExperiment({guildId:null!==(p=i.id)&&void 0!==p?p:""},{autoTrackExposure:!1}).showHubEventsList;o.useEffect((function(){M.c$(t.id);M.YZ(t.id);j&&N.c(t.id);C(m)}),[t.id]);o.useEffect((function(){T.default.track(k.rMx.GUILD_DIRECTORY_CHANNEL_VIEWED,{directory_channel_id:t.id,directory_guild_id:i.id,primary_category_id:l})}),[t.id,i.id,l]);var _=(0,R.G)(t)?function(){(0,h.openModalLazy)(Ke((function(){var e,o;return Je(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(95599),n.e(47035)]).then(n.bind(n,647035))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Xe(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qe(e,t,n[t])}))}return e}({},e),{directoryGuildName:i.name,directoryGuildId:i.id,directoryChannelId:t.id,currentCategoryId:l===Ie.AR.ALL?null:l}))}]}}))})))}:void 0,I=function(e){if(0!==E.trim().length&&e.charCode===k.yXg.ENTER){M.Rq(t.id,E);T.default.track(k.rMx.GUILD_DIRECTORY_SEARCH,{directory_channel_id:t.id,directory_guild_id:i.id})}},D=function(){C("");M.So(t.id)};return S?(0,r.jsx)(We,{searchQuery:E,setSearchQuery:C,mostRecentQuery:m,handleSearchKeyPress:I,handleClearSearch:D,handleCreateOrAddGuild:_,searchResults:g,searchFetching:v}):null==y&&null==l?(0,r.jsx)("div",{className:Pe().pageContainer,children:(0,r.jsx)(h.Spinner,{className:Pe().spinner})}):0===(null==y?void 0:y.length)&&null==l?(0,r.jsx)("div",{
className:Pe().pageContainer,children:(0,r.jsx)(Y,{guild:i,onAddGuild:_})}):(0,r.jsx)(ke,{channel:t,searchQuery:E,setSearchQuery:C,handleSearchKeyPress:I,handleClearSearch:D,handleCreateOrAddGuild:_,currentCategoryId:l,handleSelectCategory:function(e){M.Su(t.id,e)},directoryEntries:y,categoryCounts:c,allEntriesCount:s,isLoading:f})};var et=n(351330),tt=n(764079),nt=n(341305),rt=n(684412),ot=n(784426),it=n(54282),at=n(61209),lt=n(284610),ut=n(373438),ct=n(854602),st=n(651455),ft=n.n(st);function dt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dt(i,r,o,a,l,"next",e)}function l(e){dt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ht(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yt(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var bt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function mt(e){var t=e.channelId,i=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(t)})),a=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(null==i?void 0:i.parent_id)})),l=(0,d.e7)([q.Z],(function(){return q.Z.getGuild(null==i?void 0:i.getGuildId())})),u=(0,S.ZP)(i),c=o.useRef(!1);o.useEffect((function(){if(null!=i&&!c.current){c.current=!0;(0,ct.lN)(i)}}),[i]);if(null==i||null==l)return null;var s=(0,r.jsx)(it.Z,{channel:i});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nt.Z,{
channel:i,draftType:lt.d.ChannelMessage}),(0,r.jsx)(ut.ZP,{toolbar:s,"aria-label":U.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,rt.ud)({channel:i,parentChannel:a,channelName:u,guild:l,inSidebar:!0,handleContextMenu:function(e){(0,y.jW)(e,pt((function(){var e,t;return bt(this,(function(o){switch(o.label){case 0:return[4,n.e(81580).then(n.bind(n,881580))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,yt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ht(e,t,n[t])}))}return e}({},e),{channel:i}))}]}}))})))},handleClick:function(){null!=i&&(0,ot.XU)(i.guild_id,i.id)}})}),(0,r.jsx)("div",{className:ft().chat,children:(0,r.jsx)(tt.Z,{channel:i,guild:l,chatInputType:j.I.SIDEBAR},t)})]})}var vt=n(544475)
;const gt={viewPrompt:function(e,t){w.Z.wait((function(){w.Z.dispatch({type:"GUILD_PROMPT_VIEWED",prompt:e,guildId:t})}))}};var Ot=n(414306),Et=n(703790),Ct=n(189651),St=n(844793),jt=n(344095),_t=n.n(jt),It=n(777570),wt=n.n(It);function Pt(e){var t=e.guildId;return(0,r.jsx)("div",{className:_t().upsellPage,children:(0,r.jsxs)("div",{className:_t().upsellContainer,children:[(0,r.jsx)("img",{src:wt(),alt:""}),(0,r.jsxs)("div",{className:_t().upsellContent,children:[(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",children:U.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_HEADER}),(0,r.jsx)(h.Text,{variant:"text-sm/normal",className:_t().bodyText,children:U.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BODY}),(0,r.jsx)(h.Button,{size:h.Button.Sizes.MEDIUM,onClick:function(){(0,Ct.mL)(t);Et.Z.open(t,k.pNK.ROLE_SUBSCRIPTIONS,void 0,k.KsC.ROLE_SUBSCRIPTION_TIERS);(0,St.GN)(t)},className:_t().button,
children:U.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL_UPSELL_BUTTON})]})]})})}var xt=n(547721),At=n(940060),Tt=n(861426),Nt=n(523347);function Mt(e){var t=e.guildId,n=e.channelId,r=(0,xt.qi)(t);return(0,d.Wu)([at.Z,q.Z,Tt.Z],(function(){var e=at.Z.getChannel(n),o=q.Z.getGuild(t),i=Tt.Z.isViewingSubscriptionRoles(t);return null!=o&&null!=e?r.filter((function(t){return function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isPreviewingRoles;if(!(void 0!==r&&r||e.published))return!1;var o=n.permissionOverwrites[e.role_id];if((0,Nt.TG)(n,o))return!0;var i=t.getRole(t.id),a=null!=i&&!At.Z.has(i.permissions,k.Plq.VIEW_CHANNEL),l=(0,Nt.wB)(n,n.permissionOverwrites[t.id]),u=t.getRole(e.role_id);return a&&!l&&null!=u&&(0,Nt.MT)(u)&&!(0,Nt.wB)(n,o)}(t,o,e,{isPreviewingRoles:i})})):[]}),[t,n,r])}var Zt=n(805537),Lt=n(383163),Rt=n(340562),Dt=n(795974),kt=n.n(Dt);function Ut(e){var t=e.guildId,n=e.channelId,i=Mt({guildId:t,channelId:n}),a=(0,
xt.GG)(t),l=(0,xt.YB)(t),u=(0,d.e7)([q.Z],(function(){return q.Z.getGuild(t)}),[t]),c=null==u?void 0:u.name,s=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(n)})),f=o.useMemo((function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value,u=!0,c=!1,s=void 0;try{for(var f,d=l.subscription_listings_ids[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){e[f.value]=l.id}}catch(e){c=!0;s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[a]);(0,Zt.Z)({guildId:t,location:k.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL,relevantSubscriptionListingIds:i.map((function(e){return e.id}))});return null==u?(0,r.jsx)("div",{className:kt().spinnerContainer,children:(0,r.jsx)(h.Spinner,{className:kt().spinner})}):(0,r.jsxs)(h.ScrollerAuto,{className:kt().pageContainer,children:[(0,r.jsx)(h.Heading,{variant:"heading-xl/semibold",
className:kt().joinCtaTitle,children:U.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_UPSELL_PAGE_CTA.format({serverName:c,channelName:null==s?void 0:s.name})}),(0,r.jsx)(h.Text,{className:kt().joinCtaSubtitle,variant:"text-md/normal",color:"header-secondary",children:null==l?void 0:l.description}),(0,r.jsx)(Lt.Z,{guildId:t,children:i.filter((function(e){return null!=f[e.id]})).map((function(e){return(0,r.jsx)(Rt.Z,{guildId:t,listingId:e.id,groupListingId:f[e.id],analyticsLocation:k.Sbl.ROLE_SUBSCRIPTION_GATED_CHANNEL},e.id)}))})]})}var Bt=n(572475),Ft=n(361610),Gt=n(396043),Ht=n(804185),Vt=n(464187),Wt=n(363582);function zt(e){var t=e.channelId,n=(0,d.e7)([Ht.ZP],(function(){return Ht.ZP.getSection(t)})),o=(0,d.e7)([Vt.Z],(function(){return Vt.Z.getGuildId()})),i=n===k.ULH.MEMBERS;return(0,r.jsx)(ut.JO,{tooltip:i?U.Z.Messages.MEMBER_LIST_SHOWN:U.Z.Messages.MEMBER_LIST_HIDDEN,icon:Wt.Z,onClick:function(){Gt.ZP.trackWithMetadata(k.rMx.MEMBER_LIST_TOGGLED,{channel_id:t,guild_id:o,
member_list_open:!i});Ft.Z.toggleMembersSection()},selected:i})}var Yt=n(25410),Kt=n(575945),qt=n(933818),Xt=n(592981),Qt=n(473903),Jt=n(813357),$t=n(913928),en=[];function tn(e){var t=e.channel,i=e.onJump,a=(0,d.cj)([Xt.Z],(function(){var e=Xt.Z.getPinnedMessages(t.id),n=null!=e?e.messages:en;return{messages:n,loading:null==n||null!=e&&e.loading}})),l=a.messages,u=a.loading,c=(0,d.e7)([A.ZP],(function(){return A.ZP.hasUnreadPins(t.id)})),s=(0,d.e7)([Qt.default],(function(){if(!t.isPrivate())return null;var e=Qt.default.getUser(t.getRecipientId());return null!=e?e.username:null}));o.useEffect((function(){c&&qt.Z.ackPins(t.id)}),[c,t.id]);return(0,r.jsx)(h.Dialog,{"aria-label":U.Z.Messages.PINNED_MESSAGES,children:(0,r.jsx)(Jt.ZP,{onFetch:function(){qt.Z.ackPins(t.id);qt.Z.fetchPins(t.id)},channel:t,messages:l,loading:u,analyticsName:"Channel Pins",onCloseMessage:function(e,n){null!=e&&(n.shiftKey?qt.Z.unpinMessage(t,e.id):$t.Z.confirmUnpin(t,e))},onJump:i,getProTip:function(){
return t.isPrivate()?t.type===k.d4z.DM?U.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:s}):U.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM:U.Z.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL},renderHeader:function(){return(0,r.jsx)(Jt.h4,{title:U.Z.Messages.PINNED_MESSAGES})},renderEmptyState:function(e){var o=U.Z.Messages.NO_PINS_IN_CHANNEL;t.isPrivate()&&(o=U.Z.Messages.NO_PINS_IN_DM);var i=(0,Kt.ap)(e)?n(937849):n(772144);return(0,r.jsx)(Jt.nH,{msg:o,image:i},"emptystate")},listName:"pins"})})}var nn=n(26468),rn=n(29891),on=n(747126),an=n(715173),ln=n(930948);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cn(e,t,n[t])}))}return e}function fn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const pn=function(e){var t=e.channel,n=function(e){(null==e?void 0:e.shiftKey)||s.dispatch(k.CkL.POPOUT_CLOSE)},i=(0,d.e7)([on.Z,Qt.default],(function(){var e=Qt.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!on.Z.didAgree(t.getGuildId()))}),[t]),a=dn(o.useState(!1),2),l=a[0],u=a[1],c=(0,d.e7)([A.ZP],(function(){return A.ZP.hasUnreadPins(t.id)}),[t]),s=(0,nn.Aq)(),f=(0,rn.Dd)(t.id),p=o.useCallback((function(){
i||u((function(e){return!e}))}),[i]);o.useEffect((function(){ln.S.subscribe(k.CkL.TOGGLE_CHANNEL_PINS,p);return function(){ln.S.unsubscribe(k.CkL.TOGGLE_CHANNEL_PINS,p)}}),[p]);return f?null:(0,r.jsx)(h.Popout,{shouldShow:l,animation:h.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,ignoreModalClicks:!0,onRequestClose:function(){return u(!1)},renderPopout:function(e){return(0,r.jsx)(tn,fn(sn({},e),{onJump:n,channel:t}))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(ut.JO,fn(sn({},e),{onClick:p,tooltip:n?null:U.Z.Messages.PINNED_MESSAGES,icon:an.Z,"aria-label":U.Z.Messages.PINNED_MESSAGES,disabled:i,showBadge:c,selected:n}))}})};var hn=n(60744),yn=n(79308),bn=n(86271),mn=n(630854);function vn(e){var t=e.channel,n=(0,d.e7)([yn.Z],(function(){return yn.Z.shouldShowTopicsBar()}));return(0,r.jsx)(ut.ZP.Icon,{icon:bn.Z,onClick:function(){T.default.track(k.rMx.SUMMARIES_SIDEBAR_TOGGLED,{summaries_sidebar_open:!n,source:mn.Dc.TOOLBAR_BUTTON,guild_id:t.guild_id,
channel_id:t.id,channel_type:t.type});(0,hn.e7)()},tooltip:n?U.Z.Messages.SUMMARIES_SHOWN:U.Z.Messages.SUMMARIES_HIDDEN,selected:n,"aria-expanded":n})}var gn=n(234503),On=n(372518),En=n(358969),Cn=n(793998),Sn=n(386991);function jn(e){var t=e.channel,n=(0,En.r_)(t),o=(0,d.e7)([gn.Z],(function(){return gn.Z.hasHidden(t.id)})),i=(0,Cn.c)(t.id);if(!n||i)return null;var a=t.isMediaChannel(),l=function(e,t){return e?t?U.Z.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_SHOW:U.Z.Messages.FORUM_CHANNEL_ONBOARDING_SHOW:t?U.Z.Messages.MEDIA_CHANNEL_ADMIN_EDUCATION_HIDE:U.Z.Messages.FORUM_CHANNEL_ONBOARDING_HIDE}(o,a);return(0,r.jsx)(ut.JO,{tooltip:l,icon:Sn.Z,onClick:function(){return On.Z.hideAdminOnboarding(t.id,!o)},selected:!o})}
var _n=n(283099),In=n(997244),wn=n(116404),Pn=n(316878),xn=n(436771),An=n(627342),Tn=n(774930),Nn=n(620597),Mn=n(289261),Zn=n(904333),Ln=n(610773),Rn=n(50433),Dn=n(604945),kn=n(840922),Un=n(407561),Bn=n(164760),Fn=n(542231),Gn=n(786170),Hn=n(348592),Vn=n(458947),Wn=n(36256),zn=n(23381),Yn=n.n(zn);function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e){Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xn(e)}function Qn(e,t){return!t||"object"!==er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e,t){Jn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Jn(e,t)}function $n(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var er=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xn(e);if(t){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qn(this,n)}}var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Jn(e,t)}(n,e);var t=tr(n);function n(){qn(this,n);var e;(e=t.apply(this,arguments)).handleStartCall=function(t,n){var r=e.props,o=r.channel,i=r.notFriend,a=r.appContext,l=i?o.getRecipientId():null,u=function(){return In.Z.call(o.id,n,!i&&!o.isManaged()&&!(null==t?void 0:t.shiftKey),l)};n?(0,Zn.Z)(u,a):u()};e.handleJoinCall=function(t){wn.default.selectVoiceChannel(e.props.channel.id,t)};e.handleVoiceClick=function(t){
var n=e.props,r=n.callUnavailable,o=n.callActive;n.canShowActivityGdmTooltip&&(0,et.EW)(p.z$.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:Vn.L.AUTO});if(!r)return o?e.handleJoinCall(!1):e.handleStartCall(t,!1)};e.handleStartVideoCall=function(t){e.handleStartCall(t,!0)};e.handleJoinVideoCall=function(){var t=e.props.appContext;(0,Zn.Z)((function(){return e.handleJoinCall(!0)}),t)};e.handleBrowserNotSupported=function(){(0,Mn.Z)()};return e}var i=n.prototype;i.componentDidMount=function(){ln.S.subscribe(k.CkL.CALL_START,this.handleVoiceClick)};i.componentWillUnmount=function(){ln.S.unsubscribe(k.CkL.CALL_START,this.handleVoiceClick)};i.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,i=e.isBlocked,a=e.channel,l=e.mode;if(t||n&&l===k.WtW.VOICE)return null;var u,c,s=a.isManaged(),f=null,d=!1;if(Dn.Z.supports(Wn.AN.VIDEO))if(i){f=U.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;u=h.Tooltip.Colors.RED;d=!0}else if(n&&l===k.WtW.VIDEO){
c=this.handleJoinVideoCall;f=s?U.Z.Messages.CONNECT:U.Z.Messages.JOIN_VIDEO_CALL}else{c=this.handleStartVideoCall;f=s?U.Z.Messages.CONNECT:U.Z.Messages.START_VIDEO_CALL}else{d=!0;c=this.handleBrowserNotSupported;f=U.Z.Messages.BROWSER_NOT_SUPPORTED}return(0,r.jsx)(ut.ZP.Icon,{icon:Fn.Z,onClick:c,disabled:d||o,tooltip:f,tooltipColor:u})};i.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.canShowTooltip,o=e.callActive,i=e.callUnavailable,a=e.isBlocked,l=e.channel,u=e.canShowActivityGdmTooltip,c=e.dismissibleContentTypes,s=e.useReducedMotion;if(t)return null;var f,d=l.isManaged(),y="",b=!1;if(i){y=d?U.Z.Messages.VOICE_UNAVAILABLE:U.Z.Messages.CALL_UNAVAILABLE;f=h.Tooltip.Colors.RED;b=!0}else if(a){y=U.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;f=h.Tooltip.Colors.RED;b=!0}else y=o?d?U.Z.Messages.CONNECT:U.Z.Messages.JOIN_VOICE_CALL:d?U.Z.Messages.CONNECT:U.Z.Messages.START_VOICE_CALL;var m=(0,r.jsx)(ut.ZP.Icon,{icon:Bn.Z,onClick:this.handleVoiceClick,disabled:b,tooltip:y,
tooltipColor:f});return(0,r.jsx)(An.Z,{contentTypes:c,children:function(e){var o=e.visibleContent,i=e.markAsDismissed;return o===p.z$.ACTIVITY_GDM_CALL_TOOLTIP?(0,r.jsx)(h.Popout,{position:"bottom",align:"center",animation:h.Popout.Animation.TRANSLATE,shouldShow:n&&u&&!t,renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Nn.ZP,{header:(0,r.jsxs)("div",{children:[(0,r.jsx)(Gn.Z,{className:Yn().tooltipImage,autoPlay:!s,src:"https://cdn.discordapp.com/attachments/860252504826445825/1078051428028924006/mobile_coachmark.mp4",width:248,height:139.5,loop:!0,muted:!0}),(0,r.jsx)(h.Heading,{variant:"heading-md/bold",color:"always-white",children:U.Z.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_HEADER})]}),content:(0,r.jsxs)("div",{children:[(0,r.jsx)(h.Text,{variant:"text-sm/normal",color:"always-white",children:U.Z.Messages.EMBEDDED_ACTIVITIES_DM_TOOLTIP_BODY}),(0,r.jsx)(h.Anchor,{href:Hn.Z.getArticleURL(k.BhN.ACTIVITIES),children:U.Z.Messages.LEARN_MORE})]}),
buttonCTA:U.Z.Messages.GOT_IT,onClick:function(){t();i()},className:Yn().tooltip})},children:function(){return m}}):m}})};i.render=function(){return(0,r.jsxs)(o.Fragment,{children:[this.renderVoiceCallButton(),this.renderVideoCallButton()]})};return n}(o.PureComponent);function rr(e){var t=e.channel,n=(0,Tn.Z)(),i=(0,d.e7)([E.Z],(function(){return E.Z.getMode(t.id)})),a=(0,d.e7)([Un.Z],(function(){return Un.Z.isInChannel(t.id)})),l=(0,d.e7)([Pn.Z],(function(){return Pn.Z.useReducedMotion})),u=(0,d.cj)([Ln.Z],(function(){return{callActive:Ln.Z.isCallActive(t.id),callUnavailable:Ln.Z.isCallUnavailable(t.id)}})),c=u.callActive,s=u.callUnavailable,f=t.getRecipientId(),h=(0,d.cj)([kn.Z],(function(){return{notFriend:t.type===k.d4z.DM&&null!=f&&!kn.Z.isFriend(f),isBlocked:t.type===k.d4z.DM&&null!=f&&kn.Z.isBlocked(f)}})),y=h.notFriend,b=h.isBlocked,m=(0,nn.bp)(),v=[],g=(0,xn.Z)(t.id),O=(0,d.e7)([Rn.Z],(function(){return Rn.Z.hasLayers()}));g&&!O&&v.push(p.z$.ACTIVITY_GDM_CALL_TOOLTIP)
;var C=$n(o.useState(!1),2),S=C[0],j=C[1];o.useEffect((function(){var e=setTimeout((function(){j(!0)}),250);return function(){return clearTimeout(e)}}),[]);return n?null:(0,r.jsx)(nr,{channel:t,mode:i,inCall:a,callActive:c,callUnavailable:s,notFriend:y,isBlocked:b,appContext:m,canShowTooltip:S,canShowActivityGdmTooltip:g,dismissibleContentTypes:v,useReducedMotion:l})}var or=n(76107),ir=n(679741);const ar=(0,n(260561).B)({kind:"user",id:"2022-10_profile_panel",label:"Profiles In DMs",defaultConfig:{canViewProfilePanel:!1,canSeeThemeColors:!1},treatments:[{id:1,label:"View Profiles In DMs With Theme Colors",config:{canViewProfilePanel:!0,canSeeThemeColors:!0}},{id:2,label:"View Profiles In DMs Without Theme Colors",config:{canViewProfilePanel:!0,canSeeThemeColors:!1}}]});var lr=n(188558);function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(){var e,t=cr(o.useState(null!==(e=window.innerWidth<1132)&&void 0!==e&&e),2),n=t[0],r=t[1];o.useEffect((function(){var e=function(){r(window.innerWidth<1132)};e();window.addEventListener("resize",e)
;return function(){return window.removeEventListener("resize",e)}}),[r]);return n}var fr=n(853039);function dr(e){var t=e.channel,n=e.showCall,o=(0,d.e7)([Ht.ZP],(function(){return Ht.ZP.getSection(t.id)})),i=(0,ir.Z)(t.getRecipientId()),a=sr(),l=ar.useExperiment({},{autoTrackExposure:!0}).canViewProfilePanel,u=o===k.ULH.PROFILE&&!a;return l?(0,r.jsx)(ut.JO,{disabled:a||n,tooltip:a||n?U.Z.Messages.SHOW_USER_PROFILE_UNAVAILABLE:u?U.Z.Messages.HIDE_USER_PROFILE:U.Z.Messages.SHOW_USER_PROFILE,icon:fr.Z,onClick:function(){(0,lr.a)(i,!u);Ft.Z.toggleProfilePanelSection()},selected:u&&!a&&!n}):null}var pr=n(14096),hr=n(225386);const yr=o.memo((function(e){var t=e.channel,n=(0,Tn.Z)(),i=(0,d.e7)([Un.Z],(function(){return Un.Z.isInChannel(t.id)})),a=(0,d.e7)([Un.Z],(function(){return!s().isEmpty(Un.Z.getVoiceStatesForChannel(t.id))})),l=(0,d.e7)([X.Z],(function(){return X.Z.can(k.Plq.CONNECT,t)})),u=(0,Ot.Z)(t.id).needSubscriptionToAccess,c=(0,hr.$R)(t),f=o.useCallback((function(){
pr.Z.handleVoiceConnect({channel:t,connected:i,needSubscriptionToAccess:u,locked:!1})}),[t,i,u]);o.useEffect((function(){ln.S.subscribe(k.CkL.CALL_START,f);return function(){ln.S.unsubscribe(k.CkL.CALL_START,f)}}),[f]);return hr.tM.useExperiment({guildId:t.guild_id},{autoTrackExposure:!1}).enabled&&!n&&!i&&l&&c&&t.isVocalThread()?(0,r.jsx)(ut.ZP.Icon,{icon:Bn.Z,onClick:f,tooltip:a?U.Z.Messages.JOIN_VOICE_CALL:U.Z.Messages.START_VOICE_CALL}):null}));function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e){mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return mr(e)}function vr(e,t){return!t||"object"!==Or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gr(e,t){gr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gr(e,t)}var Or=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=mr(e);if(t){var o=mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vr(this,n)}}var Cr={};var Sr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gr(e,t)}(n,e);var t=Er(n);function n(){br(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){for(var t in e){var n=e[t];Cr[t]=new Set(n)}};r.hasViewedPrompt=function(e,t){var n=Cr[t];return null!=n&&!!n.has(e)}
;r.getState=function(){return Cr};r.__getLocalVars=function(){return{viewedPrompts:Cr}};return n}(d.ZP.PersistedStore);Sr.displayName="GuildPromptsStore";Sr.persistKey="GuildPromptsStore";const jr=new Sr(w.Z,{GUILD_PROMPT_VIEWED:function(e){var t=e.prompt,n=e.guildId,r=Cr[n];if(null==r){Cr[n]=new Set;Cr[n].add(t);return!0}if(r.has(t))return!1;r.add(t);return!0},GUILD_DELETE:function(e){var t=e.guild;if(null==Cr[t.id]||t.unavailable)return!1;delete Cr[t.id];return!0}});var _r,Ir=n(21372);!function(e){e.REAL_NAME_PROMPT="REAL_NAME_PROMPT"}(_r||(_r={}));const wr=function(e){var t=(0,d.e7)([jr],(function(){return(null==e?void 0:e.hasFeature(k.oNc.HUB))?jr.hasViewedPrompt(_r.REAL_NAME_PROMPT,e.id):null})),n=(0,d.e7)([Qt.default],(function(){return Qt.default.getCurrentUser()})),r=(0,d.e7)([Ir.ZP],(function(){return null!=(null==e?void 0:e.id)&&null!=n?Ir.ZP.getMember(null==e?void 0:e.id,n.id):null})),i=null!=(null==r?void 0:r.nick);o.useEffect((function(){
i&&null!=e&&!1===t&&gt.viewPrompt(_r.REAL_NAME_PROMPT,e.id)}),[i,e,t]);return!1===t&&!i};var Pr,xr=n(327930),Ar=n(944522),Tr=n(451458),Nr=n(878709),Mr=n(841800),Zr=n(915840),Lr=n(688941),Rr=n(943469),Dr=n(224134),kr=n(531304),Ur=n(153686),Br=n(19585),Fr=n(855483),Gr=n(656823),Hr=n(573485),Vr=n(955521),Wr=n(487868),zr=n(852077),Yr=n(840598),Kr=n(968449),qr=n(352980),Xr=n(255592),Qr=n(443812),Jr=n(189865),$r=n(183790),eo=n(890592),to=n(194212),no=n(476770),ro=n(15084),oo=n(201891);!function(e){e[e.EmptyContent=0]="EmptyContent";e[e.AutomodViolation=1]="AutomodViolation"}(Pr||(Pr={}));function io(e,t){return{type:e,message:null!=t?t:null}}function ao(e){return io(Pr.EmptyContent,e)}function lo(e,t){return null==e||e.type===Pr.EmptyContent&&null!=t.content&&t.content.trim().length>0?null:null!==(n=e.message)&&void 0!==n?n:null;var n}var uo=n(161283),co=n(323483),so=n(367406),fo=n(593005),po=n(59439),ho=n.n(po),yo=n(500360),bo=n.n(yo);function mo(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function go(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){go(e,t,n[t])}))}return e}function Eo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var So=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},jo=j.I.THREAD_CREATION;function _o(e){var t=e.parentChannelId,n=e.parentMessageId,o=e.location,i=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(t)})),a=(0,Br.Z)(Ur.Z.CREATE_THREAD).AnalyticsLocationProvider;return null==i?null:(0,r.jsx)(a,{children:(0,r.jsx)(to.I3,{children:(0,r.jsxs)("section",{"aria-label":U.Z.Messages.CREATE_THREAD,className:ho().container,children:[(0,r.jsx)(nt.Z,{channel:i,draftType:lt.d.FirstThreadMessage}),(0,r.jsxs)(ut.ZP,{toolbar:(0,r.jsx)(ut.ZP.Icon,{icon:Jr.Z,tooltip:U.Z.Messages.CLOSE,onClick:function(){return(0,so.NK)(t)}}),children:[(0,r.jsx)(ut.ZP.Icon,{icon:eo.Z,disabled:!0,"aria-label":U.Z.Messages.THREAD}),(0,r.jsx)(ut.ZP.Title,{children:U.Z.Messages.NEW_THREAD})]}),(0,r.jsx)(Io,{parentChannel:i,parentMessageId:n,location:o})]})})})}function Io(e){var t,n=e.parentChannel,i=e.parentMessageId,l=e.location,u=(0,d.e7)([Pn.Z],(function(){return Pn.Z.messageGroupSpacing
})),c=(t=o.useContext(to.oo),o.useCallback((function(){t.bumpDispatchPriority()}),[t])),s=function(e,t){var n=Co(o.useState({}),2),r=n[0],i=n[1],a=o.useCallback((function(n){i((function(e){return Oo({},e,n)}));Rr.Z.changeThreadSettings(e.id,Eo(Oo({},n),{parentMessageId:t}))}),[e.id,t]);return{threadSettings:r,setThreadSettings:i,updateThreadSettings:a}}(n,i),f=s.threadSettings,p=s.setThreadSettings,y=s.updateThreadSettings,b=function(e,t){var n=Co(o.useState((0,Fr.H2)()),2),r=n[0],i=n[1];o.useEffect((function(){var n=function(n){var r,o=lt.Z.getDraft(e.id,lt.d.FirstThreadMessage);0!==o.length&&!0!==n||i((0,Fr.eK)(o));t(null!==(r=lt.Z.getThreadSettings(e.id))&&void 0!==r?r:{})};n(!0);lt.Z.addChangeListener(n);return function(){lt.Z.removeChangeListener(n)}}),[e.id,t]);return{textAreaState:r,setTextAreaState:i}}(n,p),m=b.textAreaState,v=b.setTextAreaState,g=(0,uo.vH)(n),O=function(e){
var t=e.parentChannel,n=e.parentMessageId,r=e.threadSettings,i=e.privateThreadMode,a=e.textAreaState,l=e.location,u=Co(o.useState(null),2),c=u[0],s=u[1],f=Co(o.useState(null),2),d=f[0],p=f[1],h=(0,fo.Z)({parentChannel:t,parentMessageId:n,threadSettings:r,privateThreadMode:i,location:l,onThreadCreated:so.ok,useDefaultThreadName:!0}),y=o.useCallback((m=(b=function(e,o,i){var l,u,c,f,d,y,b;return So(this,(function(m){switch(m.label){case 0:null==e&&(e=a.textValue);e=e.trim();null!=o&&0!==o.length||(o=null===(l=zr.Z.getStickerPreview(t.id,jo.drafts.type))||void 0===l?void 0:l.map((function(e){return e.id})));null!=i&&0!==i.length||(i=Xr.Z.getUploads(t.id,lt.d.FirstThreadMessage));c=null!==(u=r.name)&&void 0!==u?u:"";f=null==n&&0===c.length;d=""===e&&(null==o||0===o.length)&&0===i.length;s(f?ao(U.Z.Messages.FORM_THREAD_NAME_REQUIRED_ERROR):null);p(d?ao(U.Z.Messages.FORM_THREAD_STARTER_MESSAGE_REQUIRED_ERROR):null);return f||d?[2,{shouldClear:!1,shouldRefocus:!0}]:null!=n?[3,2]:[4,(0,no.v)({
content:e,stickers:o,uploads:i,type:jo,channel:t})];case 1:if(!m.sent().valid)return[2,{shouldClear:!1,shouldRefocus:!0}];m.label=2;case 2:m.trys.push([2,4,,5]);return[4,h(e,o,i)];case 3:m.sent();return[3,5];case 4:y=m.sent();(null===(b=y.body)||void 0===b?void 0:b.code)===k.evJ.AUTOMOD_TITLE_BLOCKED&&s(function(e,t){return io(Pr.AutomodViolation,(0,oo.$q)(e,null==t?void 0:t.id))}(y.body,t));return[2,{shouldClear:!1,shouldRefocus:!0}];case 5:(0,Yr.qB)(t.id,jo.drafts.type);return[2,{shouldClear:!0,shouldRefocus:!1}]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=b.apply(e,t);function i(e){vo(o,n,r,i,a,"next",e)}function a(e){vo(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return m.apply(this,arguments)}),[h,a.textValue,r.name,n,t]);var b,m;return{nameError:c,messageError:d,submit:y}}({parentChannel:n,parentMessageId:i,threadSettings:f,privateThreadMode:g,textAreaState:m,location:l}),E=O.nameError,C=O.messageError,S=O.submit,j=(0,
uo.oD)(f,g)?$r.Z:eo.Z;return(0,r.jsx)("div",{className:ho().chat,onMouseDown:c,onFocus:c,children:(0,r.jsx)("div",{className:a()(ho().messagesWrapper,"group-spacing-".concat(u)),children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();S()},className:ho().form,children:[(0,r.jsx)(h.Scroller,{className:ho().scroller,fade:!0,children:(0,r.jsxs)("div",{className:ho().scrollerInner,children:[(0,r.jsxs)(Vr.ZP,{channelId:"create-thread-null",children:[(0,r.jsx)("div",{className:bo().iconWrapper,children:(0,r.jsx)(j,{className:bo().icon})}),(0,r.jsx)(Po,{parentChannel:n,parentMessageId:i,threadSettings:f,updateThreadSettings:y,error:E}),n.type===k.d4z.GUILD_TEXT?(0,r.jsx)(wo,{startedFromMessage:null!=i,threadSettings:f,updateThreadSettings:y,privateThreadMode:g}):null]}),(0,r.jsx)(Ao,{parentChannel:n,parentMessageId:i})]})}),(0,r.jsxs)("div",{className:ho().submitContainer,children:[(0,r.jsx)(xo,{parentChannel:n,textAreaState:m,setTextAreaState:v,submit:S,error:C}),(0,r.jsx)(kr.Z,{
channel:n,isThreadCreation:!0})]})]})})})}function wo(e){var t=e.startedFromMessage,n=e.threadSettings,o=e.updateThreadSettings,i=e.privateThreadMode,l=(0,uo.oD)(n,i),u=(0,r.jsx)("div",{className:ho().privateThreadFormTitle,children:(0,r.jsx)("span",{className:ho().privateThreadFormTitleText,children:U.Z.Messages.PRIVATE_THREAD})}),c=(0,r.jsx)(h.Checkbox,{className:a()(ho().checkbox),type:h.Checkbox.Types.INVERTED,disabled:i===uo.Jw.PrivateOnly,value:l,onChange:function(e,t){return o({isPrivate:t})},children:(0,r.jsx)(h.Text,{variant:"text-md/normal",color:"none",children:U.Z.Messages.FORM_THREAD_PRIVATE_THREAD_SECTION_LABEL})});return t||i===uo.Jw.Disabled?null:(0,r.jsxs)(h.FormSection,{title:u,className:ho().formSection,children:[c,l?(0,r.jsx)(h.Text,{className:ho().privateThreadDescription,variant:"text-xs/normal",color:"header-secondary",children:U.Z.Messages.FORM_THREAD_PRIVATE_THREAD_DESCRIPTION}):null]})}function Po(e){
var t,n=e.parentChannel,o=e.parentMessageId,i=e.threadSettings,a=e.updateThreadSettings,l=e.error,u=null!==(t=i.name)&&void 0!==t?t:"",c=lo(l,{content:u}),s=(0,uo.Od)(n,o),f=null!=o,d=(0,Qr.Dt)();return(0,r.jsx)(h.FormSection,{tag:"label",htmlFor:d,title:U.Z.Messages.THREAD_NAME+(f?" (Optional)":""),className:ho().formSection,children:(0,r.jsx)(h.TextInput,{value:u,id:d,placeholder:""!==s?s:U.Z.Messages.FORM_THREAD_NAME_PLACEHOLDER,maxLength:k.HN8,onChange:function(e){a({name:(0,co.Z)(e,!1)});""!==e?Dr.Z.startTyping(n.id):Dr.Z.stopTyping(n.id)},onBlur:function(){var e=(0,co.Z)(u,!0);e!==u&&a({name:e})},error:c})})}function xo(e){var t=e.parentChannel,n=e.textAreaState,i=e.setTextAreaState,l=e.submit,u=e.error,c=Co(o.useState(!0),2),s=c[0],f=c[1],p=o.useCallback((function(){return f(!0)}),[]),y=o.useCallback((function(){return f(!1)}),[]),b=o.useCallback((function(e,n,r){Rr.Z.saveDraft(t.id,n,lt.d.FirstThreadMessage);i((function(e){
""!==n&&e.textValue!==n?Dr.Z.startTyping(t.id):""===n&&Dr.Z.stopTyping(t.id);return{textValue:n,richValue:r}}))}),[t.id,i]),m=o.useCallback((function(e){var t=e.value,n=e.uploads,r=e.stickers;return l(t,r,n)}),[l]);(0,to.yp)({event:k.CkL.TEXTAREA_FOCUS,handler:p});(0,to.yp)({event:k.CkL.TEXTAREA_BLUR,handler:y});var v=(0,d.e7)([X.Z],(function(){return X.Z.can(k.Plq.ATTACH_FILES,t)})),g=lo(u,{content:n.textValue});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Hr.Z,{channelId:t.id,type:jo,canAttachFiles:v}),(0,r.jsx)("div",{className:ho().starterMessageError,children:(0,r.jsx)(h.InputError,{error:g})}),(0,r.jsx)(Gr.Z,{type:jo,channel:t,placeholder:U.Z.Messages.FORM_THREAD_STARTER_MESSAGE_PLACEHOLDER,textValue:n.textValue,richValue:n.richValue,focused:s,className:ho().channelTextArea,innerClassName:a()(ho().channelTextAreaInner,go({},ho().channelTextAreaInnerError,null!=g)),onFocus:p,onBlur:y,onChange:b,onSubmit:m,promptToUpload:ro.d})]})}function Ao(e){
var t=e.parentChannel,n=e.parentMessageId,o=(0,d.e7)([qr.Z],(function(){return null==n?null:qr.Z.getMessage(t.id,n)})),i=Kr.jU.useSetting();return null!=o?(0,r.jsx)(Wr.Z,{className:ho().messagePreview,message:o,channel:t,compact:i,renderThreadAccessory:!1}):null}var To=n(536945),No=n(202561),Mo=n(270983),Zo=n(424198),Lo=n.n(Zo);function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Do(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ko(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e){
var t=e.channel,n=Uo(o.useState(!1),2),i=n[0],a=n[1],l=(0,d.e7)([To.Z],(function(){return s().size(To.Z.getThreadsForParent(t.guild_id,t.id))})),u=(0,d.e7)([on.Z,Qt.default],(function(){var e=Qt.default.getCurrentUser();return null==e||t.isNSFW()&&(!e.nsfwAllowed||!on.Z.didAgree(t.getGuildId()))}),[t]),c=o.useCallback((function(){a(!1)}),[]),f=o.useCallback((function(){i||(0,No.U4)("Popout");a(!i)}),[i]);return(0,r.jsx)(h.Popout,{animation:h.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,shouldShow:i,onRequestClose:c,renderPopout:function(){return(0,r.jsx)(h.Dialog,{children:(0,r.jsx)(Mo.Z,{className:Lo().browser,channel:t,onClose:c})})},children:function(e,t){var n=t.isShown;return(0,r.jsx)(ut.JO,ko(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Do(e,t,n[t])}))}return e}({},e),{className:Lo().icon,onClick:f,icon:eo.Z,"aria-label":U.Z.Messages.THREADS,tooltip:n?null:U.Z.Messages.THREADS,disabled:u,selected:n,children:l>0?(0,r.jsx)(h.Text,{variant:"text-md/normal",color:"interactive-normal",className:Lo().count,children:l>=100?"99+":l}):null}))}})}var Fo=n(426012),Go=n(281873),Ho=n(576668),Vo=n(874710),Wo=n(703654),zo=n(103314),Yo=n(313031),Ko=n(954814),qo=n(839463),Xo=n(579583),Qo=n(112897);function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$o(e,t,n[t])}))}return e}function ti(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e){var t=e.channel,n=function(){l((function(e){return!e}))},i=ni(o.useState(!1),2),a=i[0],l=i[1],u=U.Z.Messages.MORE;return(0,r.jsx)(h.Popout,{shouldShow:a,animation:h.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:function(){return l(!1)},renderPopout:function(e){return(0,r.jsx)(oi,ti(ei({},e),{channel:t}))},children:function(e,t){var o=t.isShown;return(0,r.jsx)(ut.ZP.Icon,ti(ei({},e),{onClick:n,tooltip:o?null:u,icon:ie.Z,"aria-label":u,selected:o}))}})}function oi(e){
var t=e.channel,n=e.closePopout,o=e.onSelect,i=(0,Go.Z)(t),a=(0,zo.Z)(t),l=(0,qo.Z)(t.id),u=(0,Ko.Z)(t),c=(0,Qo.Z)({id:t.id,label:U.Z.Messages.COPY_ID_THREAD}),f=(0,Ho.Z)(t),p=(0,Vo.Z)(t,"Toolbar Overflow"),y=(0,Yo.Z)(t),b=(0,Wo.Z)(t),m=(0,Xo.Z)(t),v=Kr.vF.useSetting(),g=(0,d.e7)([Un.Z],(function(){return!s().isEmpty(Un.Z.getVoiceStatesForChannel(t.id))}));return(0,r.jsxs)(h.Menu,{navId:"thread-context",onClose:n,"aria-label":U.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:o,children:[(0,r.jsxs)(h.MenuGroup,{children:[p,b]}),(0,r.jsxs)(h.MenuGroup,{children:[u,y,l,v&&!g?(0,r.jsx)(h.MenuItem,{id:"open",label:U.Z.Messages.OPEN_IN_SPLIT_VIEW,action:function(){(0,so.ok)(t)}}):null]}),(0,r.jsxs)(h.MenuGroup,{children:[m,i,a,f]}),(0,r.jsx)(h.MenuGroup,{children:c})]})}
var ii=n(136836),ai=n(686874),li=n(924417),ui=n(285991),ci=n(411592),si=n(74535),fi=n(916675),di=n(746948),pi=n(784686),hi=n(177570),yi=n(491260),bi=n(793461),mi=n(773148),vi=n(749565),gi=n(90459),Oi=n(736626),Ei=n(485552),Ci=n(906615),Si=n(400095),ji=n(945123),_i=n(760028),Ii=n(496428),wi=n(283815),Pi=n(184308),xi=n(289283),Ai=n(535083),Ti=n(197045),Ni=n(120133),Mi=n.n(Ni),Zi=n(716043),Li=n.n(Zi);function Ri(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Di(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ri(i,r,o,a,l,"next",e)}function l(e){Ri(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ki(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ki(e,t,n[t])}))}return e}function Bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Fi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Gi(e){var t,i=e.channel,l=e.integration,u=J.ZP.getApplicationIconURL({id:l.application.id,icon:l.application.icon,size:40}),c=o.useCallback((function(e){(0,y.jW)(e,Di((function(){var e,t
;return Fi(this,(function(o){switch(o.label){case 0:return[4,n.e(53572).then(n.bind(n,953572))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Bi(Ui({},e),{channel:i,integration:l}))}]}}))})))}),[l,i]),s=(0,r.jsxs)("div",{className:Mi().listRow,onContextMenu:c,children:[(0,r.jsx)("img",{className:a()(Mi().listAvatar,Li().icon),alt:"","aria-hidden":!0,src:u,width:40,height:40}),(0,r.jsx)("div",{className:Mi().listRowContent,children:(0,r.jsx)(Ai.Z,{name:l.application.name,botType:Ai.J.BOT,botVerified:null===(t=l.application.bot)||void 0===t?void 0:t.isVerifiedBot(),className:Mi().listName})})]}),f=l.application.bot;return null==f?(0,r.jsx)("li",{children:s}):(0,r.jsx)(h.Popout,{preload:function(){return(0,Oi.Z)(f.id,u)},renderPopout:function(e){return(0,r.jsx)(Ti.Z,Bi(Ui({},e),{userId:f.id,channelId:i.id}))},position:xi.tq?"window_center":"left",children:function(e){return(0,r.jsx)("li",Bi(Ui({},e),{children:s}))}})}
var Hi,Vi=n(718831),Wi=n(941498),zi=n(470737),Yi=n.n(zi),Ki=n(746465),qi=n.n(Ki);function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.MutualFriendsList=0]="MutualFriendsList";e[e.MutualGuildList=1]="MutualGuildList";e[e.AppsList=2]="AppsList"}(Hi||(Hi={}));const $i=function(e){var t=e.header,n=e.children,i=e.itemType,l=void 0===i?Hi.MutualGuildList:i,u=e.isLoadingHeader,c=e.isLoadingContents,s=e.loadingContentsCount,f=void 0===s?0:s,d=e.className,p=e.onHover,y=e.onFocus,b=Ji(o.useState(!0),2),m=b[0],v=b[1],g=(0,r.jsx)("div",{className:Yi().iconWrapper,children:(0,r.jsx)(Vi.Z,{direction:m?Vi.Z.Directions.RIGHT:Vi.Z.Directions.DOWN})});return(0,r.jsxs)("div",{className:a()(Yi().listWrapper,d),children:[(0,r.jsx)(h.Button,{className:Yi().collapseBtn,innerClassName:Yi().collapseBtnContent,color:h.ButtonColors.CUSTOM,onMouseEnter:p,onFocus:y,onClick:function(){return v(!m)},children:u?(0,r.jsxs)(r.Fragment,{children:[(0,
r.jsx)(Wi.ZT,{width:34,opacity:.08}),(0,r.jsx)(Wi.ZT,{width:135,opacity:.08})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Text,{variant:"text-sm/medium",children:t}),g]})}),(0,r.jsx)("ul",{className:a()(Yi().connectionList,Qi({},Yi().isCollapsed,m)),children:c?Array.from({length:f}).map((function(e,t){var n;return(0,r.jsxs)("div",{className:a()((n={},Qi(n,qi().mutualFriendItem,l===Hi.MutualFriendsList),Qi(n,qi().mutualGuildsItem,l===Hi.MutualGuildList),n)),children:[(0,r.jsx)(Wi.ZT,{width:34,opacity:.08}),(0,r.jsx)(Wi.ZT,{width:135,opacity:.08})]},t)})):n})]})};var ea=n(233623);function ta(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function na(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ta(i,r,o,a,l,"next",e)}function l(e){ta(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ra(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function oa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ia=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const aa=function(e){var t=e.connection,o=function(e,t){(0,y.jW)(e,na((function(){var e,o;return ia(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,oa(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ra(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})))},i=t.user,a=i.isNonUserBot(),l=(0,d.e7)([yi.Z],(function(){return a?null:yi.Z.getStatus(i.id)}));return(0,r.jsx)(ea.T,{user:i,status:null!=l?l:k.Skl.UNKNOWN,onSelect:function(){(0,li.m)({userId:i.id,analyticsLocation:{section:k.jXE.DM_PROFILE}})},onContextMenu:function(e){return o(e,i)}})};var la=n(857241);function ua(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ca(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ua(i,r,o,a,l,"next",e)}function l(e){ua(i,r,o,a,l,"throw",e)}a(void 0)}))}}function sa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function fa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var da=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const pa=function(e){var t=e.connection,o=e.user,i=e.theme,a=t.guild,l=t.nick;return(0,r.jsx)(la.D,{guild:a,nick:l,theme:i,user:o,onContextMenu:function(e,t){(0,y.jW)(e,ca((function(){var e,o;return da(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(92224),n.e(46194),n.e(27979),n.e(47956),n.e(5683),n.e(57253),n.e(77357),n.e(57037),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,fa(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sa(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))},onSelect:te.X})};var ha=n(76834),ya=n(548625),ba=n(239639),ma=n(960412),va=n(439611),ga=n.n(va);function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ca=function(e){var t=e.user,n=e.displayProfile,o=e.channel,i=e.animateAssets,a=e.forceShowPremiumBadge,l=t.isNonUserBot(),u=Ea((0,d.Wu)([yi.Z],(function(){return[l?null:yi.Z.getStatus(t.id),yi.Z.isMobileOnline(t.id)]})),2),c=u[0],s=u[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(ha.Z,{user:t,displayProfile:n,profileType:ma.y0.PANEL,showPremiumBadgeUpsell:!0,isHovering:a,animateOnHover:!i}),(0,r.jsx)(ba.tZ,{user:t,displayProfile:n,status:c,isMobile:s,channelId:o.id,disableUserProfileLink:!0,hasBanner:null!=(null==n?void 0:n.banner),
profileType:ma.y0.PANEL,animateOnHover:!i}),(0,r.jsx)("div",{className:ga().badgelistGroup,children:(0,r.jsx)(ya.Z,{className:ga().badgeList,user:t,size:ya.V.SIZE_22})})]})};var Sa=n(87566),ja=n.n(Sa);function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Pa=function(e){var t=e.channel,n=e.showCall,i=ar.useExperiment({},{autoTrackExposure:!0}),l=i.canViewProfilePanel,c=i.canSeeThemeColors,s=t.recipients[0],f=wa(o.useState(!1),2),p=f[0],y=f[1],b=o.useRef(0),m=sr(),v=(0,d.e7)([Qt.default],(function(){return Qt.default.getUser(s)})),g=null==v?void 0:v.isNonUserBot();u()(null!=v,"Profile Panel: user cannot be undefined");var O,E=(0,ir.Z)(v.id),C=(0,fi.j)({channelId:t.id}),S=C.installedIntegrations,j=C.fetched,_=C.appsInGDMEnabled,I=C.availableApplications,w=l&&!m&&!n,P=(0,d.cj)([hi.Z,yi.Z],(function(){var e=null!=hi.Z.getAnyStreamForUser(v.id);return{activity:yi.Z.findActivity(v.id,(function(t){var n=t.type
;return e?n===k.IIU.PLAYING:n!==k.IIU.CUSTOM_STATUS})),customStatusActivity:yi.Z.findActivity(v.id,(function(e){return e.type===k.IIU.CUSTOM_STATUS})),isApplicationStreaming:e,isMobile:yi.Z.isMobileOnline(v.id),status:g?null:yi.Z.getStatus(v.id)}})),x=P.activity,A=P.customStatusActivity,T=P.isApplicationStreaming,N=P.isMobile,M=P.status,Z=(0,pi.rW)(),L=ci.Z.useExperiment({},{autoTrackExposure:!1}).showPronouns,R=null!=x||T,D=null!==(O=mi.Z.getNickname(null,t.id,v))&&void 0!==O?O:Z?vi.ZP.getName(v):vi.ZP.getGlobalName(v),B=(0,d.e7)([bi.Z],(function(){return bi.Z.hidePersonalInformation})),F=wa((0,d.Wu)([gi.Z],(function(){return[gi.Z.getMutualFriendsCount(v.id),gi.Z.getMutualFriends(v.id),gi.Z.getMutualGuilds(v.id),gi.Z.isFetchingProfile(v.id),gi.Z.isFetchingFriends(v.id)]})),5),G=F[0],H=F[1],V=F[2],W=F[3],z=F[4],Y=!v.bot&&null!=V&&V.length>0,K=!v.bot&&null!=G&&G>0,q=(0,si.ZP)();o.useEffect((function(){b.current=Date.now()}),[]);o.useEffect((function(){l&&(0,
Oi.Z)(v.id,v.getAvatarURL(void 0,80),{withMutualGuilds:!v.bot,withMutualFriendsCount:!v.bot})}),[v,l]);o.useEffect((function(){null!=E&&w&&(0,lr.U)({displayProfile:E,isMobile:N,loadDurationMs:Date.now()-b.current,activity:x,customStatusActivity:A,status:M})}),[E,N,x,A,M,w]);var X=null==V?void 0:V.map((function(e){return(0,r.jsx)(pa,{connection:e,user:v,theme:q},e.guild.id)})),Q=null==H?void 0:H.map((function(e){return(0,r.jsx)(aa,{connection:e},e.key)})),J=S.map((function(e){return(0,r.jsx)(Gi,{channel:t,integration:e},e.application.id)})),$=o.useCallback((function(){v.bot||z||null!=Q||(0,ui.Sr)(v.id)}),[z,Q,v.id,v.bot]),ee=o.useCallback((function(){return y(!0)}),[]),te=o.useCallback((function(){return y(!1)}),[]);return w?(0,r.jsx)("aside",{className:ja().profilePanel,onMouseEnter:ee,onMouseLeave:te,children:(0,r.jsx)(Ei.Z,{user:v,profileType:ma.y0.PANEL,useDefaultClientTheme:!0,pendingThemeColors:c?void 0:[null,null],children:(0,r.jsxs)(h.ScrollerNone,{children:[(0,r.jsx)(Ca,{
user:v,displayProfile:E,channel:t,animateAssets:p,forceShowPremiumBadge:p}),(0,r.jsxs)(Ei.Z.Inner,{children:[(0,r.jsx)(Pi.Z,{user:v,nickname:D,pronouns:L?null==E?void 0:E.pronouns:null}),(0,r.jsx)(_i.Z,{customStatusActivity:A,animate:p}),(0,r.jsx)(Ci.Z,{}),(0,r.jsx)(ji.Z,{bio:null==E?void 0:E.bio,hidePersonalInformation:B,animateOnHover:!0,isHovering:p}),(0,r.jsx)(Ii.Z,{userId:s}),(0,r.jsx)(Ci.Z,{}),(0,r.jsx)(wi.Z,{user:v,setNote:!1,hideNote:!1})]}),R?(0,r.jsx)(Ei.Z.Inner,{children:(0,r.jsx)(Si.Z,{activity:x,user:v,channelId:t.id})}):null,(0,r.jsxs)(Ei.Z.Inner,{className:ja().profilePanelConnections,children:[Y?(0,r.jsx)($i,{className:ja().mutualGuildsList,header:U.Z.Messages.MUTUAL_GUILDS_COUNT.format({count:null==V?void 0:V.length}),isLoadingHeader:W,children:X}):null,K?(0,r.jsx)($i,{className:a()(ja().mutualFriendsList,Ia({},ja().mutualFriendsDivider,Y)),header:U.Z.Messages.MUTUAL_FRIENDS_COUNT.format({count:G}),isLoadingHeader:W,isLoadingContents:z,loadingContentsCount:G,onFocus:$,
onHover:$,itemType:Hi.MutualFriendsList,children:Q}):null]}),(0,r.jsx)(Ei.Z.Inner,{className:a()(ja().profilePanelConnections,ja().appListThemedContainer),children:_&&(0,r.jsxs)($i,{header:J.length>0?U.Z.Messages.PRIVATE_CHANNEL_APPS_HEADER_COUNT.format({count:J.length}):U.Z.Messages.PRIVATE_CHANNEL_APPS_HEADER,isLoadingContents:!j,isLoadingHeader:!1,itemType:Hi.AppsList,children:[J,I.length>0&&(0,r.jsxs)("div",{className:ja().appButtonContainer,children:[0===S.length&&(0,r.jsx)(h.Text,{variant:"text-xs/normal",color:"header-secondary",children:U.Z.Messages.PRIVATE_CHANNEL_ADD_APPS_INFO}),(0,r.jsx)(h.Button,{onClick:function(){(0,h.openModal)((function(e){return(0,r.jsx)(di.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Ia(e,t,n[t])}))}return e}({channelId:t.id},e))}))},color:ja().appButtonColor,className:ja().appButton,fullWidth:!0,size:h.ButtonSizes.SMALL,children:U.Z.Messages.PRIVATE_CHANNEL_ADD_APPS})]})]})})]})})}):null};var xa=n(980617),Aa=n(135750),Ta=n(102909),Na=n(549511),Ma=n(382060),Za=n(715107);var La=n(837067),Ra=n(733300),Da=n(977005),ka=n(72580),Ua=n(463473),Ba=n(973553),Fa=n(798159),Ga=n(457217),Ha=n(199731),Va=n(623934),Wa=n(790165),za=n(591406),Ya=n(837162),Ka=n(736543),qa=n(381186),Xa=n(788169),Qa=n(202237),Ja=n(380652),$a=n(310126),el=n(742224),tl=n(735551),nl=n.n(tl);function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ol(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function il(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function al(e){return function(){var t=this,n=arguments
;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){il(i,r,o,a,l,"next",e)}function l(e){il(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cl(e){cl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return cl(e)}function sl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&yl(e,t)}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){ul(e,t,n[t])}))}return e}function dl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function hl(e,t){return!t||"object"!==ml(t)&&"function"!=typeof t?ol(e):t}function yl(e,t){
yl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yl(e,t)}function bl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ml=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=cl(e);if(t){var o=cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hl(this,n)}}var gl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ol=$a.default.getEnableHardwareAcceleration(),El={origin:{x:38,y:11},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},Cl=function(e){sl(o,e);var t=vl(o);function o(){ll(this,o);var e;(e=t.apply(this,arguments)).renderUserContextMenu=function(t){var o=ol(e);(0,y.jW)(t,al((function(){var e,t;return gl(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,dl(fl({},e),{user:o.props.user,guildId:o.props.guildId,channel:o.props.channel,showMediaItems:!0}))}]}}))})))};e.handleShiftClick=function(){var t=e.props,n=t.user,r=t.channel,o="@".concat(vi.ZP.getUserTag(n,{decoration:"never"})),i="<@".concat(n.id,">");ln.S.dispatchToLastSubscribed(k.CkL.INSERT_TEXT,{plainText:o,rawText:i});Dr.Z.startTyping(r.id)};e.openGuildSubscriptionModal=function(t){var n=e.props.guildId;if(null!=n){t.stopPropagation();(0,za.f)({guildId:n,location:{section:k.jXE.MEMBER_LIST,object:k.qAy.BOOST_GEM_ICON}})}};e.renderUserPopout=function(t){return(0,r.jsx)(Ti.Z,dl(fl({},t),{userId:e.props.user.id,guildId:e.props.guildId,channelId:e.props.channel.id}))};return e}var i=o.prototype;i.shouldComponentUpdate=function(e){return!(0,Ha.Z)(this.props,e,["channelId"])};i.render=function(){
var e=this,t=this.props,n=t.colorString,o=t.colorRoleName,i=t.isOwner,a=t.nick,l=t.user,u=t.currentUser,c=t.activities,s=t.applicationStream,f=t.status,d=t.channel,p=t.guildId,y=t.isTyping,b=t.isMobileOnline,m=t.premiumSince,v=pl(t,["colorString","colorRoleName","isOwner","nick","user","currentUser","activities","applicationStream","status","channel","guildId","isTyping","isMobileOnline","premiumSince"]),g=null!=m?new Date(m):null;return(0,r.jsx)(h.Popout,{preload:function(){return(0,Oi.Z)(l.id,l.getAvatarURL(p,80),{guildId:p,channelId:d.id})},renderPopout:this.renderUserPopout,position:xi.tq?"window_center":"left",spacing:16,onShiftClick:this.handleShiftClick,children:function(t,h){var m=h.isShown;return(0,r.jsx)(el.Z,fl({className:nl().member,onContextMenu:e.renderUserContextMenu,shouldAnimateStatus:Ol,user:l,currentUser:u,nick:a,status:f,activities:c,applicationStream:s,isOwner:i,premiumSince:g,colorString:n,colorRoleName:o,isTyping:y,channel:d,guildId:p,isMobile:b,
onClickPremiumGuildIcon:e.openGuildSubscriptionModal,selected:m,itemProps:v},t))}})};return o}(o.Component),Sl=o.memo((function(e){var t=e.colorRoleId,n=pl(e,["colorRoleId"]),o=e.channel,i=e.user,a=e.index,l=(0,Ga.JA)("".concat(a)),u=(0,d.e7)([Xa.Z],(function(){return Xa.Z.isTyping(o.id,i.id)})),c=(0,d.e7)([Qt.default],(function(){return Qt.default.getCurrentUser()})),s=(0,d.e7)([q.Z],(function(){var e,n;return null!=t?null===(n=null===(e=q.Z.getGuild(o.guild_id))||void 0===e?void 0:e.getRole(t))||void 0===n?void 0:n.name:void 0}),[o,t]);return(0,r.jsx)(Cl,dl(fl({},n,l),{isTyping:u,currentUser:c,colorRoleName:s}))})),jl=o.memo((function(e){var t=e.id,n=e.title,o=e.count,i=e.guildId,a=(0,Ya.p9)({roleId:t,guildId:i,size:16});return t===k.Skl.UNKNOWN?(0,r.jsx)("div",{className:nl().membersGroup,children:(0,r.jsx)("div",{className:nl().memberGroupsPlaceholder})}):(0,r.jsxs)(Qa.Z,{className:nl().membersGroup,children:[(0,r.jsx)(h.HiddenVisually,{
children:U.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:o})}),(0,r.jsxs)("span",{"aria-hidden":!0,children:[null!=a?(0,r.jsx)(Ja.Z,fl({className:nl().roleIcon},a)):null,n," — ",o]})]})}));function _l(e){var t=e.index,n=(0,Ga.JA)("".concat(t));return(0,r.jsx)(el.Z,{itemProps:n})}var Il=function(e){sl(n,e);var t=vl(n);function n(){ll(this,n);var e;(e=t.apply(this,arguments))._list=null;e.setList=function(t){e._list=t;e.props.listRef.current=t};e.getRowHeight=function(){return e.props.canRenderAvatarDecorations?44+el.x:44};e.renderSection=function(t){var n=t.section,i=e.props,a=i.groups,l=i.channel,u=a[n];return 0===n?(0,r.jsx)(Ka.Z,{tutorialId:"whos-online",position:"left",inlineSpecs:El,children:(0,r.jsx)(jl,dl(fl({},u),{guildId:l.guild_id}))},"section-".concat(n)):(0,o.createElement)(jl,dl(fl({},u),{key:"section-".concat(n),guildId:l.guild_id}))};e.getRowProps=function(t){var n=e.props,r=n.groups,o=n.rows,i=r[t.section];if(null==i)return null;var a=i.index
;return null==a||"row"!==t.type?null:o[a+1+t.row]};e.renderRow=function(t){var n=t.section,o=t.row,i=t.rowIndex,a=e.props.channel,l=e.getRowProps(t);if(null!=l&&l.type===qa.so.MEMBER&&"user"in l){var u=l.colorString,c=l.colorRoleId,s=l.user,f=l.status,d=l.isOwner,p=l.isMobileOnline,h=l.nick,y=l.activities,b=l.applicationStream,m=l.premiumSince;return(0,r.jsx)(Sl,{colorString:u,colorRoleId:c,user:s,status:f,isOwner:d,nick:h,activities:y,applicationStream:b,channel:a,guildId:a.guild_id,premiumSince:m,isMobileOnline:p,index:i},"member-".concat(l.user.id))}return(0,r.jsx)(_l,{index:i},"placeholder-".concat(n,":").concat(o))};e.handleScroll=function(){e.updateSubscription()};e.updateSubscription=s().debounce((function(){if(null!=e._list){var t=e.props.channel,n=e.getDimensions(),r=n.rowHeight,o=n.y,i=n.height;(0,Va.TV)({guildId:t.guild_id,channelId:t.id,y:o,height:i,rowHeight:r})}}),50);e.trackMemberListViewed=function(){var t;if(e.lastReportedAnalyticsChannel!==e.props.channel.id){
var n=null===(t=e._list)||void 0===t?void 0:t.getItems(),r=e.getDimensions().rowsVisible;if(void 0!==r&&0!==r&&null!=n){var o=n.map((function(t){return e.getRowProps(t)})).slice(0,r+1).filter(ka.lm);if(0!==o.length){var i=o.reduce((function(t,n){if(n.type!==qa.so.MEMBER)return t;t.num_users_visible++;n.isMobileOnline&&t.num_users_visible_with_mobile_indicator++;if(null!=n.activities&&n.activities.length>0){t.num_users_visible_with_activity++;n.activities.some((function(e){return e.type===k.IIU.PLAYING}))&&t.num_users_visible_with_game_activity++}e.props.canRenderAvatarDecorations&&null!=n.user.avatarDecoration&&t.num_users_visible_with_avatar_decoration++;return t}),{num_users_visible:0,num_users_visible_with_mobile_indicator:0,num_users_visible_with_game_activity:0,num_users_visible_with_activity:0,num_users_visible_with_avatar_decoration:0});e.lastReportedAnalyticsChannel=e.props.channel.id;Gt.ZP.trackWithMetadata(k.rMx.MEMBER_LIST_VIEWED,fl({},i))}}}};return e}var i=n.prototype
;i.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version||e.groups.length!==this.props.groups.length};i.componentDidMount=function(){this.updateSubscription();this.trackMemberListViewed()};i.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription();this.trackMemberListViewed()};i.getDimensions=function(){var e=this._list;if(null==e)return{y:0,height:0,rowHeight:0};var t=e.getScrollerState(),n=t.offsetHeight,r=t.scrollTop,o=Math.floor(n/this.getRowHeight());return{height:n,rowHeight:this.getRowHeight(),rowsVisible:o,y:r}};i.render=function(){var e=this,t=this.props,n=t.groups,o=t.listId,i=t.channel;return(0,r.jsx)(h.FocusJumpSection,{children:function(t){return(0,r.jsx)(Qr.FG,{children:function(l){return(0,r.jsx)("aside",{className:a()(nl().membersWrap,nl().hiddenMembers),"aria-labelledby":l,children:(0,r.jsx)(h.HeadingLevel,{component:(0,r.jsx)(h.HiddenVisually,{children:(0,r.jsx)(h.H,{id:l,
children:U.Z.Messages.MEMBERS_LIST_LANDMARK_LABEL.format({channel:i.name})})}),children:(0,r.jsx)(Ga.SJ,{children:function(i){var l=i.ref,u=i.role,c=pl(i,["ref","role"]);return(0,r.jsx)(h.List,fl({innerRole:u,innerAriaLabel:U.Z.Messages.MEMBERS,ref:function(t){e._list=t;e.props.listRef.current=t;var n;l.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},className:a()(nl().members,ul({},nl().fullWidth,xi.tq)),paddingTop:0,sectionHeight:40,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:n.map((function(e){return e.count})),onScroll:e.handleScroll,fade:!0,customTheme:!0},c,t),o)}})})})}})}})};return n}(o.Component);function wl(e){var t=e.channel,n=e.className,i=(0,d.e7)([Pn.Z],(function(){return Pn.Z.keyboardModeEnabled})),l=(0,d.cj)([qa.ZP],(function(){return qa.ZP.getProps(t.guild_id,t.id)})),u=l.rows,c=l.groups,s=o.useRef(null),f=o.useCallback((function(e,t){var n=s.current;if(null!=n){
var r=parseInt(t,10),o=bl(n.getSectionRowFromIndex(r),2),i=o[0],a=o[1],l=0===i&&0===a?44:0;n.scrollToIndex({section:i,row:a,padding:l,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[]),p=o.useCallback((function(){return new Promise((function(e){var t=s.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),h=o.useCallback((function(){return new Promise((function(e){var t=s.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),y=(0,Fa.ZP)({id:"members-".concat(t.id),setFocus:f,isEnabled:i,scrollToStart:p,scrollToEnd:h}),b=(0,Wa.L)();return(0,r.jsx)("div",{className:a()(nl().container,n),children:(0,r.jsx)(Ga.bG,{navigator:y,children:(0,r.jsx)(Il,dl(fl({},e,l),{groups:c,rows:u,listRef:s,canRenderAvatarDecorations:b
}))})})}function Pl(e){var t=e.channel,n=e.className,i=o.useDeferredValue(t);return o.useMemo((function(){return(0,r.jsx)(wl,{channel:i,className:n})}),[i,n])}var xl=n(436622),Al=n(996229),Tl=n.n(Al),Nl=n(192941),Ml=n.n(Nl),Zl=n(232353),Ll=n.n(Zl);const Rl=function(){var e=(0,si.ZP)();o.useEffect((function(){Gt.ZP.trackWithMetadata(k.rMx.GUILD_OUTAGE_VIEWED,{})}),[]);var t=(0,Kt.wj)(e)?Ml():Ll();return(0,r.jsxs)("div",{className:Tl().container,children:[(0,r.jsxs)(_n.Z,{toolbar:(0,r.jsx)(o.Fragment,{}),children:[(0,r.jsx)(_n.Z.Icon,{icon:xl.Z,"aria-hidden":!0}),(0,r.jsx)(_n.Z.Title,{children:U.Z.Messages.GUILD_UNAVAILABLE_HEADER})]}),(0,r.jsxs)("div",{className:Tl().content,children:[(0,r.jsx)("img",{alt:"",className:Tl().splashImage,src:t}),(0,r.jsx)(h.Heading,{className:Tl().splashHeader,variant:"heading-lg/medium",children:U.Z.Messages.GUILD_UNAVAILABLE_TITLE}),(0,r.jsx)(h.Text,{className:Tl().splashText,variant:"text-md/normal",children:U.Z.Messages.GUILD_UNAVAILABLE_BODY})]})]})}
;var Dl=n(591821),kl=n(609853),Ul=n(933850),Bl=n(651034);var Fl=n(580987),Gl=n.n(Fl);function Hl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Vl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Hl(i,r,o,a,l,"next",e)}function l(e){Hl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Wl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Wl(e,t,n[t])}))}return e}function Yl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Kl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ql=$a.default.getEnableHardwareAcceleration();function Xl(e){var t=e.user,o=e.channel,i=(0,d.cj)([kn.Z,Qt.default,yi.Z],(function(){return kn.Z.isFriend(t.id)||t===Qt.default.getCurrentUser()?{status:yi.Z.getStatus(t.id),activities:yi.Z.getActivities(t.id)}:{}})),a=i.status,l=i.activities,u=(0,d.e7)([Xa.Z],(function(){return null!=Xa.Z.getTypingUsers(o.id)[t.id]})),c=(0,d.e7)([Qt.default],(function(){return Qt.default.getCurrentUser()})),s=(0,d.e7)([yi.Z],(function(){return yi.Z.isMobileOnline(t.id)})),f=(0,d.e7)([kn.Z],(function(){return kn.Z.getNickname(t.id)})),p=function(e){(0,y.jW)(e,Vl((function(){
var e,i;return Kl(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(97539)]).then(n.bind(n,597539))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Yl(zl({},e),{user:t,channel:o}))}]}}))})))};return(0,r.jsx)(h.Popout,{preload:function(){return(0,Oi.Z)(t.id,t.getAvatarURL(void 0,80))},renderPopout:function(e){return(0,r.jsx)(Ti.Z,Yl(zl({},e),{userId:t.id,channelId:o.id}))},position:xi.tq?"window_center":"left",spacing:16,onShiftClick:function(){var e="@".concat(vi.ZP.getUserTag(t,{decoration:"never"})),n="<@".concat(t.id,">");ln.S.dispatchToLastSubscribed(k.CkL.INSERT_TEXT,{plainText:e,rawText:n});Dr.Z.startTyping(o.id)},children:function(e){return(0,r.jsx)(el.Z,zl({user:t,currentUser:c,isOwner:t.id===o.ownerId,ownerTooltipText:U.Z.Messages.GROUP_OWNER,shouldAnimateStatus:ql,isTyping:u,status:a,activities:l,channel:o,onContextMenu:p,isMobile:s,nick:f},e),t.id)}})}function Ql(e){
var t,i=e.integration,a=e.channel,l=o.useCallback((function(e){(0,y.jW)(e,Vl((function(){var e,t;return Kl(this,(function(o){switch(o.label){case 0:return[4,n.e(53572).then(n.bind(n,953572))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Yl(zl({},e),{channel:a,integration:i}))}]}}))})))}),[i,a]),u=i.application.bot,c=J.ZP.getApplicationIconURL({id:i.application.id,icon:i.application.icon,bot:null===(t=i.application)||void 0===t?void 0:t.bot,botIconFirst:!0});return null!=u?(0,r.jsx)(h.Popout,{preload:function(){return(0,Oi.Z)(u.id,c)},renderPopout:function(e){return(0,r.jsx)(Ti.Z,Yl(zl({},e),{userId:u.id,channelId:a.id}))},position:xi.tq?"window_center":"left",spacing:16,children:function(e){return(0,r.jsx)(Bl.Z,zl({onContextMenu:l,className:Gl().member,name:(0,r.jsx)("span",{className:Gl().username,children:i.application.name}),avatar:(0,r.jsx)(h.Avatar,{size:h.AvatarSizes.SIZE_32,src:c,"aria-label":i.application.name,statusTooltip:!0}),decorators:(0,
r.jsx)(kl.Z,{className:Gl().botTag,verified:null==u?void 0:u.isVerifiedBot()}),id:i.application.id,focusProps:{offset:{top:4,bottom:4,left:4,right:4}}},e))}}):null}function Jl(e){var t=e.channel,i=Qt.default.getCurrentUser(),a=null==i?void 0:i.isStaff(),l=(0,d.Wu)([Qt.default],(function(){return function(e,t){return s()(e).map(t.getUser).unshift(t.getCurrentUser()).filter(ka.lm).sortBy((function(e){return e.username.toLowerCase()})).value()}(t.recipients,Qt.default)}),[t.recipients]),u=(0,fi.j)({channelId:t.id}),c=u.installedIntegrations,f=u.applicationsShelf,p=u.fetched,y=u.appsInGDMEnabled,b=u.availableApplications;o.useEffect((function(){if(a){var e=!0,t=!1,n=void 0;try{for(var r,o=l[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;(0,Oi.Z)(i.id,i.getAvatarURL(void 0,80),{dispatchWait:!0})}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}}),[a,l]);var m=a&&l.every((function(e){return e.isStaff()}));return(0,r.jsx)("div",{
className:nl().membersWrap,children:(0,r.jsxs)(h.Scroller,{className:nl().members,fade:!0,children:[(0,r.jsxs)(Qa.Z,{className:nl().membersGroup,children:["".concat(U.Z.Messages.MEMBERS,"—").concat(l.length," "),m?(0,r.jsx)(kl.Z,{className:nl().decorator,type:kl.Z.Types.STAFF_ONLY_DM}):null]}),l.map((function(e){return(0,r.jsx)(Xl,{user:e,channel:t},e.id)})),y&&(c.length>0||p&&f.length>0)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Qa.Z,{className:nl().membersGroup,children:"".concat(U.Z.Messages.APPS,"—").concat(c.length)}),c.map((function(e){return(0,r.jsx)(Ql,{integration:e,channel:t},e.application.id)})),b.length>0&&(0,r.jsx)(Bl.Z,{className:Gl().member,onClick:function(){(0,h.openModalLazy)(Vl((function(){var e,o;return Kl(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,746948))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Yl(zl({},e),{channelId:t.id}))}]}}))})))},avatar:(0,r.jsx)("div",{className:nl().appIconWrapper,
children:(0,r.jsx)(Ul.Z,{width:18,height:18})}),name:U.Z.Messages.PRIVATE_CHANNEL_ADD_APPS})]})]})})}var $l=n(29975),eu=[];var tu=n(436154),nu=n(465637),ru=n(349491),ou=n(563135),iu=n(100542),au=n.n(iu);function lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function cu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){uu(i,r,o,a,l,"next",e)}function l(e){uu(i,r,o,a,l,"throw",e)}a(void 0)}))}}function su(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){su(e,t,n[t])}))}return e}function du(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},yu=$a.default.getEnableHardwareAcceleration();function bu(e){var t=e.channel,i=e.sectionId,a=e.userId,l=e.guildOwnerId,u=(0,d.e7)([Xa.Z],(function(){return Xa.Z.isTyping(t.id,a)})),c=(0,d.e7)([Ir.ZP],(function(){return Ir.ZP.getMember(t.guild_id,a)})),s=(0,d.e7)([q.Z],(function(){var e,n;return null!=(null==c?void 0:c.colorRoleId)?null===(n=null===(e=q.Z.getGuild(t.guild_id))||void 0===e?void 0:e.getRole(c.colorRoleId))||void 0===n?void 0:n.name:void 0
}),[t.guild_id,c]),f=(0,d.e7)([Qt.default],(function(){return Qt.default.getUser(a)})),p=(0,d.e7)([Qt.default],(function(){return Qt.default.getCurrentUser()})),b=(null==f?void 0:f.id)===(null==p?void 0:p.id),m=(0,d.e7)([yi.Z,tu.Z],(function(){return b?tu.Z.getStatus():yi.Z.getStatus(a,t.guild_id)})),v=(0,d.e7)([yi.Z],(function(){return yi.Z.isMobileOnline(a)})),g=(0,d.e7)([yi.Z,tu.Z],(function(){return b?tu.Z.getActivities():yi.Z.getActivities(a,t.guild_id)})),O=(0,d.e7)([hi.Z],(function(){return hi.Z.getAnyStreamForUser(a)})),E=(0,Ga.JA)(a),C=(0,d.e7)([$l.Z],(function(){return $l.Z.canUserViewChannel(t.id,i,a)})),S=null!=(null==f?void 0:f.id)&&f.id===l,j=o.useCallback((function(e){null!=f&&(0,y.jW)(e,cu((function(){var e,o;return hu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(78294)]).then(n.bind(n,478294))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,du(fu({},e),{user:f,guildId:t.guild_id,channel:t}))}]}}))})))
}),[f,t]),_=o.useCallback((function(){if(null!=f){var e="@".concat(vi.ZP.getUserTag(f,{decoration:"never"})),n="<@".concat(f.id,">");ln.S.dispatchToLastSubscribed(k.CkL.INSERT_TEXT,{plainText:e,rawText:n});Dr.Z.startTyping(t.id)}}),[f,t]),I=o.useCallback((function(e){e.stopPropagation();(0,za.f)({guildId:t.guild_id,location:{section:k.jXE.THREAD_MEMBER_LIST,object:k.qAy.BOOST_GEM_ICON}})}),[t.guild_id]);if(null==f)return null;var w=null==c?void 0:c.premiumSince;return(0,r.jsx)(h.Popout,{preload:function(){return(0,Oi.Z)(f.id,f.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)(Ti.Z,du(fu({},e),{userId:f.id,guildId:t.guild_id,channelId:t.id}))},position:xi.tq?"window_center":"left",spacing:16,onShiftClick:_,children:function(e,n){var o=n.isShown;return(0,r.jsx)(el.Z,fu({onContextMenu:j,shouldAnimateStatus:yu,user:f,currentUser:p,nick:null==c?void 0:c.nick,status:m,activities:g,colorString:null==c?void 0:c.colorString,
colorRoleName:s,isTyping:u,channel:t,guildId:t.guild_id,isMobile:v,selected:o,applicationStream:O,premiumSince:null==w?null:new Date(w),onClickPremiumGuildIcon:I,itemProps:E,lostPermissionTooltipText:C?void 0:U.Z.Messages.THREAD_MEMBER_WITHOUT_ACCESS,isOwner:S},e))}})}function mu(e){var t=e.id,n=e.label,o=e.count,i=e.guildId,a=(0,Ya.p9)({roleId:t,guildId:i,size:16});return t===k.Skl.UNKNOWN?(0,r.jsx)("div",{className:nl().membersGroup,children:(0,r.jsx)("div",{className:nl().memberGroupsPlaceholder})}):(0,r.jsxs)(Qa.Z,{className:nl().membersGroup,"aria-label":U.Z.Messages.CHANNEL_MEMBERS_A11Y_LABEL.format({title:n,count:o}),children:[null!=a?(0,r.jsx)(Ja.Z,fu({className:nl().roleIcon},a)):null,(0,r.jsxs)("span",{"aria-hidden":!0,children:[n," — ",o]})]})}function vu(e){return e.channel.type===k.d4z.PRIVATE_THREAD?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:au().divider}),(0,r.jsxs)(h.Text,{variant:"text-xs/bold",color:"header-secondary",className:au().private,
children:[(0,r.jsx)(ru.Z,{width:12,height:12})," ",U.Z.Messages.THREAD_BROWSER_PRIVATE]}),(0,r.jsx)(h.Text,{variant:"text-sm/normal",color:"header-secondary",className:au().instructions,children:U.Z.Messages.MEMBER_LIST_PRIVATE_THREAD_INSTRUCTIONS})]}):null}var gu=o.memo(bu),Ou=o.memo(mu),Eu=o.memo(vu);function Cu(e){var t=e.channel,n=e.guild,i="members-".concat(t.id),l=function(e,t){var n=(0,d.cj)([$l.Z],(function(){return{version:$l.Z.getMemberListVersion(e),members:$l.Z.getMemberListSections(e)}})),r=n.version,i=n.members,a=o.useMemo((function(){if(null==t)return eu;var e=s()(t.roles).values().filter((function(e){return e.hoist})).sortBy((function(e){return e.position})).reverse().map((function(e){return e.id})).value();e.push("online","offline");return e.map((function(e){var n,r,o=t.roles[e];return{label:"online"===e?U.Z.Messages.STATUS_ONLINE:"offline"===e?U.Z.Messages.STATUS_OFFLINE:o.name,userIds:null!==(r=null==i||null===(n=i[e])||void 0===n?void 0:n.userIds)&&void 0!==r?r:[],
id:e,roleId:e}}))}),[null==t?void 0:t.roles,i,r]);return null!=i?a:eu}(t.id,n),u=l.filter((function(e){return e.userIds.length>0})).reverse()[0],c=(0,Wa.L)()?44+el.x:44,f=function(e,t){var n=(0,d.e7)([Pn.Z],(function(){return Pn.Z.keyboardModeEnabled})),r=o.useRef(null),i=o.useCallback((function(e,n){var o=r.current;if(null!=o){var i=parseInt(n,10),a=pu(o.getSectionRowFromIndex(i),2),l=a[0],u=a[1],c=0===l&&0===u?t:0;o.scrollToIndex({section:l,row:u,padding:c,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}}),[t]),a=o.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),l=o.useCallback((function(){return new Promise((function(e){var t=r.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){
return setTimeout(e,100)}))}})}))}),[]);return{navigator:(0,Fa.ZP)({id:e,setFocus:i,isEnabled:n,scrollToStart:a,scrollToEnd:l}),listRef:r}}(i,c),p=f.navigator,y=f.listRef;if(0===l.length||l.every((function(e){return 0===e.userIds.length})))return(0,r.jsx)(Su,{channel:t});var b=s().omit(p.containerProps,["ref"]),m=ou.ZP.getGuildVisualOwnerId(n);return(0,r.jsx)(Ga.bG,{navigator:p,children:(0,r.jsx)(h.FocusJumpSection,{children:function(e){return(0,r.jsx)("div",{className:a()(nl().membersWrap,nl().hiddenMembers),children:(0,r.jsx)(h.List,fu({ref:y,className:nl().members,paddingTop:0,sectionHeight:40,renderSection:function(e){var t=e.section,o=l[t];return(0,r.jsx)(Ou,{id:o.id,label:o.label,count:o.userIds.length,guildId:n.id},o.id)},rowHeight:c,renderRow:function(e){var n=e.section,o=e.row,i=l[n],a=i.userIds,u=i.id;return(0,r.jsx)(gu,{channel:t,sectionId:u,userId:a[o],guildOwnerId:m},a[o])},footerHeight:function(e){return l[e]===u&&t.type===k.d4z.PRIVATE_THREAD?80:0},
renderFooter:function(e){return l[e.section]===u?(0,r.jsx)(Eu,{channel:t},"footer"):null},innerAriaLabel:U.Z.Messages.MEMBERS,innerTag:"ul",sections:l.map((function(e){return e.userIds.length})),fade:!0},b,e),i)})}})})}function Su(e){var t=e.channel;return(0,r.jsxs)("div",{className:a()(nl().membersWrap,nl().hiddenMembers,nl().members,au().emptyState),children:[(0,r.jsx)(h.Text,{className:au().emptyStateHeader,variant:"text-xs/bold",color:"interactive-normal",children:U.Z.Messages.MEMBERS}),(0,r.jsxs)("div",{className:au().emptyStateIconContainer,children:[(0,r.jsx)("div",{className:au().emptyStateIcon,children:(0,r.jsx)(Wt.Z,{width:32,height:32})}),(0,r.jsx)(nu.Z,{className:au().emptyStateStars})]}),(0,r.jsx)(h.Heading,{variant:"heading-md/semibold",children:t.isForumPost()?U.Z.Messages.FORUM_POST_MEMBER_LIST_EMPTY_STATE_HEADER:U.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_HEADER}),(0,r.jsx)(h.Text,{className:au().emptyStateSubtext,variant:"text-sm/normal",color:"header-secondary",
children:U.Z.Messages.THREAD_MEMBER_LIST_EMPTY_STATE_SUBTEXT})]})}var ju=n(704271),_u=n(358500),Iu=n(79462),wu=n(258875),Pu=n.n(wu);function xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Tu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Au(i,r,o,a,l,"next",e)}function l(e){Au(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zu(e){Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Zu(e)}function Lu(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Mu(e,t,n[t])}))}return e}function Ru(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Du(e,t){return!t||"object"!==Bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ku(e,t){ku=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return ku(e,t)}function Uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function Fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Zu(e);if(t){var o=Zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Du(this,n)}}var Gu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Hu=(0,_.Un)({createPromise:function(){return Promise.all([n.e(40532),n.e(7849),n.e(54407)]).then(n.bind(n,154407))},webpackId:154407,renderLoader:function(){return(0,r.jsx)("div",{className:Pu().loader,children:(0,r.jsx)(h.Spinner,{})})},name:"ForumChannel"}),Vu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}})
;t&&ku(e,t)}(o,e);var t=Fu(o);function o(){Nu(this,o);var e;(e=t.apply(this,arguments)).state={topicExpanded:!1,threadSidebarWidth:void 0,isThreadSidebarFloating:!1};e.handleTitleParentClick=function(){var t=e.props.parentChannel;null!=t&&(0,Tr.Kh)(t.id)};e._handleContextMenu=function(t,n){switch(n.type){case k.d4z.GUILD_VOICE:case k.d4z.GUILD_ANNOUNCEMENT:case k.d4z.GUILD_TEXT:case k.d4z.GUILD_FORUM:case k.d4z.GUILD_MEDIA:e.openChannelContextMenu(t,n);break;case k.d4z.ANNOUNCEMENT_THREAD:case k.d4z.PUBLIC_THREAD:case k.d4z.PRIVATE_THREAD:e.openThreadContextMenu(t,n);break;case k.d4z.DM:e.openDMContextMenu(t,n)}};e.handleContextMenu=function(t){u()(null!=e.props.channel,"Missing channel in Channel.handleContextMenu");e._handleContextMenu(t,e.props.channel)};e.handleParentContextMenu=function(t){u()(null!=e.props.parentChannel,"Missing parentChannel in Channel.handleParentContextMenu");e._handleContextMenu(t,e.props.parentChannel)};e.handleThreadSidebarResize=function(t,n){e.setState({
threadSidebarWidth:t,isThreadSidebarFloating:n})};e.openUserProfile=function(){var t=e.props.channel;u()(null==t?void 0:t.isPrivate(),"Missing private channel in Channel.openUserProfile");(0,li.m)({userId:t.getRecipientId(),guildId:t.guild_id,channelId:t.id,analyticsLocation:{section:k.jXE.CHANNEL_HEADER}})};e.renderStreamQualityLiveIndicatorToolbarItem=function(){var t=e.props.selectedParticipant;return(null==t?void 0:t.type)!==_u.fO.STREAM?null:(0,r.jsx)(vt.Z,{size:Da.ZP.Sizes.LARGE,participant:t,showQuality:!0},"live-indicator")};e.renderHeaderToolbar=function(){var t=e.props,n=t.channel,o=t.parentChannel,i=t.isLurking,a=t.showCall;u()(null!=n,"Missing channel in Channel.renderHeaderToolbar");var l=[];if(n.isSystemDM())return l;switch(n.type){case k.d4z.GUILD_STAGE_VOICE:case k.d4z.GUILD_VOICE:return l;case k.d4z.DM:l.push(e.renderStreamQualityLiveIndicatorToolbarItem());l.push((0,r.jsx)(rr,{channel:n},"calls"));l.push((0,r.jsx)(pn,{channel:n},"pins"));l.push((0,r.jsx)(or.Z,{
channel:n,tooltip:U.Z.Messages.GROUP_DM_ADD_FRIENDS},"invite"));l.push((0,r.jsx)(dr,{channel:n,showCall:a},"profile"));break;case k.d4z.GROUP_DM:l.push(e.renderStreamQualityLiveIndicatorToolbarItem());l.push((0,r.jsx)(rr,{channel:n},"calls"));l.push((0,r.jsx)(pn,{channel:n},"pins"));if(!n.isManaged()){var c=U.Z.Messages.GROUP_DM_ADD_FRIENDS;l.push((0,r.jsx)(or.Z,{channel:n,tooltip:c},"invite"))}l.push((0,r.jsx)(zt,{channelId:n.id},"members"));break;case k.d4z.ANNOUNCEMENT_THREAD:case k.d4z.PRIVATE_THREAD:case k.d4z.PUBLIC_THREAD:null!=o&&(o.isForumLikeChannel()||l.push((0,r.jsx)(Bo,{channel:o},"browser")));n.isVocalThread()&&l.push((0,r.jsx)(yr,{channel:n},"thread-call"));l.push((0,r.jsx)(Fo.Z,{channel:n},"notifications"));l.push((0,r.jsx)(pn,{channel:n},"pins"));n.isArchivedThread()||l.push((0,r.jsx)(zt,{channelId:n.id},"members"));null!=o&&(0,v.Lp)(n)&&l.push((0,r.jsx)(vn,{channel:n},"summaries"));l.push((0,r.jsx)(ri,{channel:n},"threads-overflow"));break
;case k.d4z.GUILD_ANNOUNCEMENT:case k.d4z.GUILD_TEXT:l.push((0,r.jsx)(Bo,{channel:n},"browser"));i||l.push((0,r.jsx)(Yt.Z,{channel:n},"notifications"));l.push((0,r.jsx)(pn,{channel:n},"pins"));l.push((0,r.jsx)(zt,{channelId:n.id},"members"));(0,v.Lp)(n)&&l.push((0,r.jsx)(vn,{channel:n},"summaries"));break;case k.d4z.GUILD_FORUM:case k.d4z.GUILD_MEDIA:if(!i){l.push((0,r.jsx)(jn,{channel:n},"forum-onboarding"));l.push((0,r.jsx)(Yt.Z,{channel:n},"notifications"))}__OVERLAY__||l.push((0,r.jsx)(zt,{channelId:n.id},"members"));break;case k.d4z.GUILD_DIRECTORY:l.push((0,r.jsx)(zt,{channelId:n.id},"members"))}return l};e.renderMobileToolbar=function(){var t=e.props.channel;u()(null!=t,"Missing channel in Channel.renderHeaderToolbar");var n=[];if(t.isSystemDM())return n;switch(t.type){case k.d4z.GUILD_STAGE_VOICE:case k.d4z.GUILD_VOICE:case k.d4z.DM:break;case k.d4z.GROUP_DM:n.push((0,r.jsx)(zt,{channelId:t.id},"members"));break;case k.d4z.ANNOUNCEMENT_THREAD:case k.d4z.PRIVATE_THREAD:
case k.d4z.PUBLIC_THREAD:t.isArchivedThread()||n.push((0,r.jsx)(zt,{channelId:t.id},"members"));break;case k.d4z.GUILD_ANNOUNCEMENT:case k.d4z.GUILD_TEXT:case k.d4z.GUILD_FORUM:case k.d4z.GUILD_MEDIA:case k.d4z.GUILD_DIRECTORY:n.push((0,r.jsx)(zt,{channelId:t.id},"members"))}return n};e.renderFollowButton=function(){var t=e.props,o=t.showFollowButton,i=t.channel;return o?(0,r.jsx)(h.Button,{size:h.Button.Sizes.MIN,color:h.Button.Colors.PRIMARY,className:Pu().followButton,onClick:function(){return(0,h.openModalLazy)(Tu((function(){var e,t;return Gu(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(89594)]).then(n.bind(n,189594))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Lu({channel:i},e))}]}}))})))},children:U.Z.Messages.FOLLOW}):null};e.renderHeaderBar=function(){var t=e.props,n=t.channel,o=t.channelName,i=t.parentChannel,l=t.guild,c=t.guildId,s=t.showCall,f=t.hasVideo,d=t.isMobile,p=t.emoji,h=t.channelEmojiLeftOfIcon
;u()(null!=n,"Missing channel in Channel.renderHeaderBar");u()(null!=o,"Should not be null if channel is not null.");var y=n.isDM()&&!n.isSystemDM()?e.openUserProfile:void 0,b=null!=(null==i?void 0:i.guild_id)&&null!=(null==i?void 0:i.id)?e.handleTitleParentClick:void 0;return(0,r.jsxs)(_n.Z,{guildId:c,channelId:n.id,channelType:n.type,hideSearch:n.isDirectory(),toolbar:e.renderHeaderToolbar(),mobileToolbar:e.renderMobileToolbar(),className:a()(Pu().title,f&&s?(0,Ua.Q)(k.BRd.DARK):null),transparent:s,"aria-label":U.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:[(0,rt.ud)({channel:n,channelName:o,parentChannel:i,guild:l,hasVideo:f,isMobile:d,handleContextMenu:e.handleContextMenu,handleParentContextMenu:e.handleParentContextMenu,handleClick:y,handleParentClick:b,renderFollowButton:e.renderFollowButton,emoji:p,channelEmojiLeftOfIcon:h}),(0,r.jsx)(rt.TS,{channel:n,guild:l}),(0,rt.v0)(n,l)]},"header-".concat(n.id))};return e}var i=o.prototype;i.componentDidMount=function(){(0,
ai.e)("guild_channel")};i.componentDidUpdate=function(e){null!=this.props.channel&&null!=e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1});this.openChannelModal()};i.openChannelContextMenu=function(e,t){var o=this.props.guild;u()(null!=t,"Missing channel in Channel.openChannelContextMenu");u()(null!=o,"Missing guild in Channel.openChannelContextMenu");(0,y.jW)(e,Tu((function(){var e,i;return Gu(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(84663),n.e(59295)]).then(n.bind(n,359295))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Ru(Lu({},e),{channel:t,guild:o}))}]}}))})))};i.openThreadContextMenu=function(e,t){u()(null!=t,"Missing channel in Channel.openChannelContextMenu");(0,y.jW)(e,Tu((function(){var e,o;return Gu(this,(function(i){switch(i.label){case 0:return[4,n.e(81580).then(n.bind(n,881580))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ru(Lu({},e),{
channel:t}))}]}}))})))};i.openDMContextMenu=function(e,t){u()(null!=t,"Missing channel in Channel.openDMContextMenu");var o=Qt.default.getUser(t.getRecipientId());u()(null!=o,"Missing user in Channel.openDMContextMenu");(0,y.jW)(e,Tu((function(){var e,i;return Gu(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(50865)]).then(n.bind(n,550865))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Ru(Lu({},e),{user:o,channelSelected:!0,channel:t}))}]}}))})))};i.renderCall=function(){var e=this.props,t=e.channel,n=e.showCall,o=e.nsfwAllowed,i=e.nsfwAgree;u()(null!=t,"Missing channel in Channel.renderCall");if((null==t?void 0:t.isNSFW())&&(!o||!i))return null;if(!n)return null;switch(t.type){case k.d4z.GUILD_STAGE_VOICE:return(0,r.jsx)(Lr.Z,{channel:t},t.id);case k.d4z.GUILD_VOICE:case k.d4z.DM:case k.d4z.GROUP_DM:case k.d4z.PUBLIC_THREAD:case k.d4z.PRIVATE_THREAD:var a=this.props.height-200;return(0,r.jsx)(C.Z,{channel:t,
renderExternalHeader:this.renderHeaderBar,maxHeight:a},"call-".concat(t.id));default:return null}};i.renderChat=function(){var e=this.props,t=e.channel,n=e.nsfwAgree,o=e.guild,i=e.nsfwAllowed,a=e.needSubscriptionToAccess;u()(null!=t,"Missing channel in Channel.renderChat");if(a){u()(null!=o,"premium channels must exist within a guild");return(null==t?void 0:t.isRoleSubscriptionTemplatePreviewChannel())?(0,r.jsx)(Pt,{guildId:o.id}):(0,r.jsx)(Ut,{channelId:t.id,guildId:o.id})}if(t.isNSFW()&&(!i||!n))return(0,r.jsx)(ju.Z,{guild:o});if(t.isGuildVocal())return null;if(t.isDirectory()){u()(null!=o,"directory channels must exist within a guild");return(0,r.jsx)($e,{channel:t,guild:o})}if(t.isForumLikeChannel()){u()(null!=o,"forum channels must exist within a guild");var l={isThreadSidebarFloating:this.state.isThreadSidebarFloating,threadSidebarWidth:this.state.threadSidebarWidth};return(0,r.jsx)(Hu,{channel:t,guild:o,sidebarState:l},t.id)}return(0,r.jsx)(tt.Z,{channel:t,guild:o,
chatInputType:j.I.NORMAL},null!=o?o.id:"home")};i.renderSidebar=function(){var e=this.props,t=e.searchId,n=e.channel,o=e.parentChannel,i=e.guild,a=e.needSubscriptionToAccess,l=e.section,c=e.showCall;u()(null!=n,"Missing channel in Channel.renderSidebar");if(__OVERLAY__||a)return null;if(l===k.ULH.PROFILE&&n.isPrivate())return(0,r.jsx)(Pa,{channel:n,showCall:c},"private-channel-profile-".concat(n.id));if(l===k.ULH.MEMBERS)switch(n.type){case k.d4z.GROUP_DM:return(0,r.jsx)(Jl,{channel:n},"private-channel-recipients-".concat(n.id));case k.d4z.GUILD_DIRECTORY:case k.d4z.GUILD_FORUM:case k.d4z.GUILD_MEDIA:case k.d4z.GUILD_ANNOUNCEMENT:case k.d4z.GUILD_TEXT:var s,f=!0===k.TPd.GUILD_THREADS_ONLY.has(n.type)?n.id:null!==(s=n.guild_id)&&void 0!==s?s:n.id;return(0,r.jsx)(Pl,{channel:n},"channel-members-".concat(f));case k.d4z.ANNOUNCEMENT_THREAD:if(null!=o)return(0,r.jsx)(Pl,{channel:o},"channel-members-".concat(o.id));break;case k.d4z.PUBLIC_THREAD:case k.d4z.PRIVATE_THREAD:
if(!n.isArchivedThread()&&null!=i)return(0,r.jsx)(Cu,{channel:n,guild:i},"channel-members-".concat(n.id))}else if(l===k.ULH.SEARCH&&null!=t)return(0,r.jsx)(Nr.Z,{searchId:t});return null};i.openChannelModal=function(){var e=this.props,t=e.channel,o=e.guildId,i=e.hasModalOpen,a=e.showWelcomeModal,l=e.isLurking,u=e.isUnavailable,c=e.showRealNameModal;if(null==t||null==o||u||i)return null;c&&(0,h.openModalLazy)(Tu((function(){var e,t;return Gu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(65087)]).then(n.bind(n,565087))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ru(Lu({},e),{guildId:o}))}]}}))})),{onCloseCallback:function(){return gt.viewPrompt(_r.REAL_NAME_PROMPT,o)},modalKey:"Guild Hub Real Name Modal"});a&&(0,h.openModalLazy)(Tu((function(){var e,t;return Gu(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(12777)]).then(n.bind(n,705496))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,
r.jsx)(t,Ru(Lu({},e),{guildId:o}))}]}}))})),{onCloseCallback:function(){return(0,Aa.y0)(o,l)},modalKey:"Guild Welcome Screen Modal"});return null};i.renderThreadSidebar=function(){var e,t=this.props,n=t.channel,o=t.section,i=t.threadSidebarState,a=t.nsfwAgree,l=t.nsfwAllowed,u=t.width;if(o!==k.ULH.SIDEBAR_CHAT||null==i)return null;if((null==n?void 0:n.isNSFW())&&(!l||!a))return null;switch(i.type){case Mr.t.CREATE_THREAD:if(null==n?void 0:n.isForumLikeChannel())return null;e=(0,r.jsx)(_o,{parentChannelId:i.parentChannelId,parentMessageId:i.parentMessageId,location:i.location});break;case Mr.t.VIEW_THREAD:var c=(null==n?void 0:n.isForumLikeChannel())?mt:ii.Z;e=(0,r.jsx)(c,{channelId:i.channelId});break;case Mr.t.VIEW_CHANNEL:case Mr.t.VIEW_MESSAGE_REQUEST:return null;default:(0,ka.vE)(i)}var s=null!=(null==n?void 0:n.type)&&k.TPd.GUILD_THREADS_ONLY.has(n.type)?528:450,f=u-k.PrS-s;return(0,r.jsx)(Ba.Z,{
sidebarType:null!=(null==n?void 0:n.type)&&k.TPd.GUILD_THREADS_ONLY.has(n.type)?Ba.y.PostSidebar:Ba.y.ThreadSidebar,maxWidth:f,onWidthChange:this.handleThreadSidebarResize,children:e})};i.render=function(){var e=this.props,t=e.channel,n=e.guild,o=e.formattedChannelName,i=e.showCall,l=e.isUnavailable,u=e.layout,c=e.section,s=e.textInStageEnabled,f=this.state,d=f.threadSidebarWidth,p=f.isThreadSidebarFloating;if(l)return(0,r.jsx)(Rl,{});if(null==t)return(0,r.jsx)(Dl.Z,{channelId:this.props.channelId});var h,y=c===k.ULH.SIDEBAR_CHAT,b=!t.isForumLikeChannel()&&(s||!t.isGuildStageVoice()),m=null==n?void 0:n.name;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.yY,{location:m,subsection:null!=o?o:void 0}),(0,r.jsxs)("div",{className:a()(Pu().chat,(h={},Mu(h,Pu().threadSidebarOpen,y),Mu(h,Pu().threadSidebarFloating,y&&p),h)),children:[b?(0,r.jsx)(nt.Z,{style:{right:y?d:void 0},className:Pu().uploadArea,channel:t,draftType:lt.d.ChannelMessage
}):null,i?null:this.renderHeaderBar(),this.renderCall(),(0,r.jsxs)("div",{className:a()(Pu().content,Mu({},Pu().noChat,u===k.AEg.NO_CHAT)),children:[this.renderChat(),this.renderSidebar()]})]}),this.renderThreadSidebar()]})};return o}(o.PureComponent),Wu=(0,b.Z)(Vu);const zu=o.memo((function(){var e,t,n=Uu(o.useState(null),2),i=n[0],a=n[1],l=(0,d.e7)([Za.Z],(function(){return Za.Z.getChannelId()})),u=(0,d.e7)([Za.Z],(function(){return Za.Z.getVoiceChannelId()})),c=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(l)}),[l]),y=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(u)}),[u]),b=null==c?void 0:c.parent_id,C=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(b)}),[b]),j=(0,d.e7)([q.Z],(function(){return q.Z.getGuild(null==c?void 0:c.guild_id)}),[c]),_=(0,Ot.Z)(null!==(t=null==c?void 0:c.id)&&void 0!==t?t:void 0).needSubscriptionToAccess,I=(0,d.e7)([E.Z],(function(){return null!=l&&E.Z.getParticipants(l).length>0}),[l]),w=(0,d.e7)([Un.Z],(function(){
return null!=c&&c.isVocalThread()&&!s().isEmpty(Un.Z.getVoiceStatesForChannel(c.id))}),[c]),P=(0,xa.Vy)(null==c?void 0:c.guild_id),x=(null==c?void 0:c.isGuildVocal())||I||w,A=(0,f.TH)().welcomeModalChannelId,T=(0,d.e7)([Ar.Z],(function(){return null!=c&&Ar.Z.isLurking(c.guild_id)}),[c]),N=(0,d.e7)([Ta.Z],(function(){return Ta.Z.hasSeen(null==c?void 0:c.guild_id,T)}),[c,T]),M=(0,d.e7)([E.Z],(function(){return null!=l?E.Z.getLayout(l):k.AEg.NORMAL}),[l]),Z=(0,d.e7)([E.Z],(function(){return null!=c?E.Z.getSelectedParticipant(c.id):null})),L=(0,d.e7)([Qt.default],(function(){return Qt.default.getCurrentUser()})),R=wr(j),D=function(e,t){var n=(0,d.e7)([q.Z],(function(){return q.Z.getGuild(t)})),r=(0,d.e7)([at.Z],(function(){return at.Z.getChannel(e)})),o=(0,d.e7)([Za.Z],(function(){return Za.Z.getChannelId(t)})),i=Na.ZP.useExperiment({},{autoTrackExposure:!1}).showOnboardingHome;return e===o&&null!=r&&null!=n&&r.getGuildId()===n.id&&(0,
Ma.zi)(r.type)&&n.hasFeature(k.oNc.WELCOME_SCREEN_ENABLED)&&n.hasFeature(k.oNc.COMMUNITY)&&(!i||!n.hasFeature(k.oNc.GUILD_SERVER_GUIDE))}(A,null==j?void 0:j.id),U=(0,d.cj)([Ht.ZP],(function(){return{section:Ht.ZP.getSection(l),threadSidebarState:Ht.ZP.getSidebarState(l)}})),B=U.section,F=U.threadSidebarState,G=(0,S.ZP)(c),H=(0,S.ZP)(c,!0),V=null!=c&&u===c.id,W=null!=c&&c.isGuildStageVoice();o.useEffect((function(){var e,t=(0,ot.s1)();if((null==t||null===(e=t.location)||void 0===e?void 0:e.state)===Iu.Df){var n,r,o=(null!==(r=(0,xr.Qj)(null==t||null===(n=t.location)||void 0===n?void 0:n.pathname))&&void 0!==r?r:{}).channelId;null!=o&&a(o)}}),[]);o.useEffect((function(){if(null!=i&&null!=c&&W&&c.id===i&&!V){(0,Zr.Cq)(c);a(null)}}),[i,W]);var z=(0,v.ts)(c);o.useEffect((function(){null!=c&&c.isPrivate()&&O.tF.trackExposure({})}),[c]);var Y=null!=c&&c.isPrivate(),K=(0,g.Z)(Y),X=(0,g.Z)(null==c?void 0:c.id);o.useEffect((function(){var e=K&&!Y,t=K&&Y&&(null==c?void 0:c.id)!==X;(e||t)&&(0,
et.EW)(p.z$.ACTIVITY_GDM_CALL_TOOLTIP,{dismissAction:Vn.L.AUTO})}),[null==c?void 0:c.id,X,Y,K]);var Q=m.G.useExperiment({},{autoTrackExposure:!1}),J=Q.enabled,$=Q.left,ee=null===(e=(0,Bt.ZP)(null==c?void 0:c.id,!J))||void 0===e?void 0:e.name;return(0,r.jsx)(Wu,Ru(Lu({guildId:null==c?void 0:c.guild_id,channelId:l,channel:c,channelName:G,formattedChannelName:H,parentChannel:C,voiceChannel:y,layout:M,needSubscriptionToAccess:_,isLurking:T,hasModalOpen:(0,h.hasAnyModalOpen)(),section:B,threadSidebarState:F,guild:j,searchId:(0,d.e7)([Ra.Z],(function(){return Ra.Z.getCurrentSearchId()})),showCall:!_&&x,nsfwAgree:(0,d.e7)([on.Z],(function(){return on.Z.didAgree(null==c?void 0:c.guild_id)})),isMobile:(0,d.e7)([yi.Z],(function(){return(null==c?void 0:c.type)===k.d4z.DM&&yi.Z.isMobileOnline(c.getRecipientId())}),[c]),isUnavailable:(0,d.e7)([La.Z],(function(){return null!=(null==c?void 0:c.guild_id)&&La.Z.isUnavailable(c.guild_id)}),[c]),showRealNameModal:R,showWelcomeModal:!N&&D,
showFollowButton:(null==c?void 0:c.type)===k.d4z.GUILD_ANNOUNCEMENT&&(null==j?void 0:j.hasFeature(k.oNc.NEWS))||!1},(0,d.cj)([Un.Z],(function(){return{hasVideo:null!=c&&Un.Z.hasVideo(c.id)}}),[c])),{inCall:V,selectedParticipant:Z,nsfwAllowed:!0===(null==L?void 0:L.nsfwAllowed),textInStageEnabled:P,showChannelSummaries:z,emoji:null!=ee?ee:void 0,channelEmojiLeftOfIcon:$}))}))},764079:(e,t,n)=>{"use strict";n.d(t,{Z:()=>xn});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),l=n(289283),u=n(210595),c=n(842227),s=n(202351),f=n(945460),d=n(943469),p=n(336334),h=n(224134),y=n(567867),b=n(625091),m=(0,n(260561).B)({kind:"user",id:"2022-09_inboxes_v2_frontend",label:"Safety Integrity Platform Inboxes V2",defaultConfig:{enabled:!1,forceConfirmationOnAccept:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,forceConfirmationOnAccept:!1}}]})
;var v=n(770272),g=n(316878),O=n(396043),E=n(49621),C=n(385231),S=n(623313),j=n(272200),_=n(698847),I=n(428107),w=n(281808),P=n(855483),x=n(294184),A=n.n(x),T=n(242922),N=n(97040),M=n.n(N);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function R(e){var t,n=e.className,o=e.channel,i=e.section,a=null!=i?(0,T.ky)(i):null;return(0,r.jsx)("div",{className:A()(n,M().wrapper),children:(0,r.jsx)("div",{className:M().icon,children:null!=a?(0,r.jsx)(f.Tooltip,{
text:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:"",position:"top",children:function(e){return(0,r.jsx)(a,L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Z(e,t,n[t])}))}return e}({},e),{channel:o,section:i,width:24,height:24}))}}):null})})}const D=o.memo(R);var k=n(901287),U=n(656823),B=n(73948),F=n(352980),G=n(473903),H=n(744564);function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e){W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return W(e)}function z(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e
}(e):t}function Y(e,t){Y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Y(e,t)}var K=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}var X=new Set;var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Y(e,t)}(n,e);var t=q(n);function n(){V(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){
null!=e&&(X=new Set(e))};r.hasAllowedSpamUser=function(e){return X.has(e)};r.getState=function(){return X};r.__getLocalVars=function(){return{allowedSpamUsers:X}};return n}(s.ZP.PersistedStore);Q.displayName="SpamMessageAcceptStore";Q.persistKey="SpamMessageAcceptStore";const J=new Q(H.Z,{ALLOW_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;X.add(t)},HIDE_SPAM_MESSAGES_FOR_USER:function(e){var t=e.userId;X.delete(t)}});var $=n(2590),ee=n(897196);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=n(105783),oe=n(761953),ie=n(560923),ae=n(424871),le=n(771344),ue=n(300792),ce=n.n(ue);function se(e){var t=e.bannerIcon,n=e.bannerHeader,o=e.bannerSubtext,i=e.containerStyles,a=e.headerStyles,l=e.children;return(0,r.jsxs)("div",{className:ce().spamBanner,children:[(0,r.jsxs)("div",{className:A()(ce().bannerTextContainer,i),children:["string"==typeof t?(0,r.jsx)("img",{src:t,alt:"",className:ce().bannerIcon}):t,(0,r.jsxs)("div",{className:ce().bannerText,children:[(0,r.jsx)("div",{className:A()(ce().bannerHeader,a),children:n}),(0,
r.jsx)("div",{className:ce().bannerSubtext,children:o})]})]}),(0,r.jsx)("div",{className:ce().actionButtons,children:l})]})}var fe=n(652591);var de=n(473708),pe=n(677154),he=n.n(pe);function ye(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ye(i,r,o,a,l,"next",e)}function l(e){ye(i,r,o,a,l,"throw",e)}a(void 0)}))}}function me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ve(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ge=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Oe=n(513157);function Ee(e){var t,n=e.channel,o=n.getRecipientId(),i=(0,s.e7)([G.default],(function(){var e=G.default.getUser(o);return null!=e?e.username:null})),a=(0,le.V)(n.id,o),l=(t=be((function(){return ge(this,(function(e){switch(e.label){case 0:fe.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"block_modal_cancel_click"});return[4,oe.Z.closePrivateChannel(n.id,!0)];case 1:e.sent();return[2]}}))})),function(){return t.apply(this,arguments)}),u=function(){var e=be((function(){return ge(this,(function(e){switch(e.label){case 0:fe.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"block_modal_block_click"});return[4,ie.Z.addRelationship({userId:o,context:{location:"DMSpamModal"},type:$.OGo.BLOCKED})]
;case 1:e.sent();return[4,oe.Z.closePrivateChannel(n.id,!0)];case 2:e.sent();(0,f.showToast)((0,f.createToast)(de.Z.Messages.SPAMMER_BLOCKED.format({username:i}),f.ToastType.SUCCESS));return[2]}}))}));return function(){return e.apply(this,arguments)}}(),c=function(){e=o,H.Z.dispatch({type:"ALLOW_SPAM_MESSAGES_FOR_USER",userId:e});var e;null!=a&&n.hasFlag(ee.zZ.IS_SPAM)&&(0,ae.zd)(a);fe.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"not_spam"})};return(0,r.jsxs)(se,{bannerIcon:Oe,bannerHeader:de.Z.Messages.ACCEPT_SPAM_DM_HEADER,bannerSubtext:de.Z.Messages.ACCEPT_SPAM_DM_SUBTEXT,children:[(0,r.jsx)(f.Tooltip,{text:de.Z.Messages.REPORT_NOT_SPAM_TOOLTIP,color:f.Tooltip.Colors.BRAND,tooltipClassName:he().notSpamTooltip,children:function(e){return(0,r.jsx)(f.Button,ve(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){me(e,t,n[t])}))}return e}({},e),{className:ce().largeButton,look:f.Button.Looks.FILLED,size:f.Button.Sizes.SMALL,color:f.Button.Colors.PRIMARY,onClick:c,children:de.Z.Messages.REPORT_NOT_SPAM}))}}),(0,r.jsx)(f.Button,{className:ce().largeButton,look:f.Button.Looks.FILLED,size:f.Button.Sizes.SMALL,color:f.Button.Colors.RED,onClick:function(){fe.default.track($.rMx.DM_SAFETY,{channel_id:n.id,channel_type:n.type,safety_prompt:"DMSpamExperiment",response:"close_channel_click"});re.Z.show({title:de.Z.Messages.BLOCK_SPAMMER_HEADER,body:de.Z.Messages.BLOCK_SPAMMER_SUBHEADER.format({username:i}),onCancel:l,cancelText:de.Z.Messages.CANCEL,onConfirm:u,confirmText:de.Z.Messages.BLOCK});oe.Z.closePrivateChannel(n.id,!0)},children:de.Z.Messages.CLOSE_DM})]})}
var Ce=n(394352),Se=n(614948),je=n(153686),_e=n(19585),Ie=n(914563),we=n(504e3),Pe=n.n(we);function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){var t,n,o=e.guild,i=(0,_e.Z)(je.Z.AUTOMOD_PROFILE_QUARANTINE_ALERT).analyticsLocations,a=Ae((0,Se.ww)({guildId:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",analyticsLocations:i,openWithoutBackstack:!0}),2),l=a[0],u=a[1],c=u?de.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_DESCRIPTION:de.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_NO_PERMS_DESCRIPTION,s=u?de.Z.Messages.GUILD_AUTOMOD_UPDATE_PROFILE_CTA:de.Z.Messages.GUILD_AUTOMOD_UPDATE_ACCOUNT_USERNAME_CTA;return(0,r.jsx)("div",{children:(0,r.jsx)(se,{bannerIcon:(0,r.jsx)(Ie.Z,{className:Pe().bannerIcon,width:32,height:32}),bannerHeader:de.Z.Messages.GUILD_AUTOMOD_PROFILE_INVALID_MODAL_TITLE_MOBILE.format({guildName:null!==(n=null==o?void 0:o.name)&&void 0!==n?n:""}),bannerSubtext:c,containerStyles:Pe().bannerContainer,headerStyles:Pe().bannerHeader,children:(0,
r.jsx)(f.Button,{onClick:function(){l()},size:f.Button.Sizes.SMALL,children:s})})})}var Ne=n(309945),Me=n(872017),Ze=n(736818),Le=n(21372),Re=n(489881),De=n(357566),ke=n(73407),Ue=n(858756);var Be=n(107672),Fe=n(939173),Ge=n.n(Fe);function He(e){var t=e.onClose,n=e.guildName;return(0,r.jsxs)("div",{className:Ge().container,children:[(0,r.jsx)("div",{className:Ge().iconContainer,children:(0,r.jsx)(De.Z,{className:Ge().icon,width:20,height:20})}),(0,r.jsxs)("div",{className:Ge().header,children:[(0,r.jsx)(f.Heading,{variant:"heading-md/semibold",className:Ge().headerText,children:de.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_HEADER}),(0,r.jsx)(f.Text,{variant:"text-sm/normal",children:de.Z.Messages.GUILD_COMMUNICATION_DISABLED_POPOUT_SUBHEADER.format({guildName:n})}),(0,r.jsx)(f.Button,{onClick:t,className:Ge().button,children:de.Z.Messages.OKAY})]})]})}var Ve=n(515222),We=n(536071),ze=n.n(We);function Ye(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e){var t=e.guild,n=e.disabledUntil,i=Ke((0,
Be.i)(t.id),2),a=i[0],l=i[1];!function(e){var t=null!=e?e:{},n=t.communicationDisabledUntil,r=t.userId,i=t.guildId,a=(0,ke.Z)(null!=n?Date.parse(n):Date.now()),l=a.seconds,u=(0,o.useRef)(null);(0,o.useEffect)((function(){if(null!=e&&null!=i&&null!=r){l<=0&&null==u.current&&(u.current=setTimeout((function(){Ue.Z.clearGuildMemberTimeout(i,r)}),1e3));return function(){if(null!=u.current){clearTimeout(u.current);u.current=null}}}clearTimeout(u.current)}),[i,r,l,n,e])}((0,s.e7)([Le.ZP,Ze.default],(function(){return Le.ZP.getMember(t.id,Ze.default.getId())}),[t.id]));return(0,r.jsxs)("div",{children:[a?(0,r.jsx)(He,{onClose:function(){return l(t.id)},guildName:t.name}):null,(0,r.jsx)(se,{bannerIcon:(0,r.jsx)(De.Z,{className:ze().bannerIcon}),bannerHeader:de.Z.Messages.GUILD_COMMUNICATION_DISABLED_NOTICE_HEADER,bannerSubtext:de.Z.Messages.GUILD_COMMUNICATION_DISABLED_CHAT_NOTICE_DESCRIPTION.format({link:Ve.cu}),containerStyles:ze().bannerContainer,headerStyles:ze().bannerHeader,children:(0,
r.jsx)(f.Text,{variant:"text-sm/semibold",children:(0,r.jsx)(Re.Z,{deadline:new Date(n),showUnits:!0,stopAtOneSec:!0})})})]})}var Xe=n(145202),Qe=n(920803),Je=n(996344);function $e(e){var t=function(e){return(0,s.e7)([Je.Z],(function(){return Je.Z.isMessageRequest(e)}),[e])}(e),n=(0,s.e7)([Je.Z],(function(){return Je.Z.isAcceptedOptimistic(e)}),[e]);return t&&!n}var et=n(451458),tt=n(190624),nt=n(804185),rt=n(61209),ot=n(525008),it=n(132167),at=n(513157);function lt(e){var t=e.channel,n=t.id,i=(0,s.e7)([G.default],(function(){return G.default.getUser(t.recipients[0])}),[t]),a=o.useCallback((function(){(0,f.showToast)((0,f.createToast)(de.Z.Messages.MESSAGE_REQUEST_REQUEST_ERROR_ALERT_TITLE,f.ToastType.FAILURE))}),[]),l=(0,it._)().hasSingleMessageRequest,u=o.useCallback((function(){tt.Z.closeChannelSidebar(nt.uZ)}),[]),c=o.useCallback((function(){tt.Z.closeChannelSidebar(nt.uZ);!0===l&&(0,et.Kh)(n)}),[n,l]),d=(0,ot.m)({user:i,onAcceptSuccess:c,onRejectSuccess:u,onError:a
}),p=d.acceptMessageRequest,h=d.rejectMessageRequest,y=d.isAcceptLoading,b=d.isRejectLoading,m=d.isUserProfileLoading,v=d.isOptimisticAccepted,g=d.isOptimisticRejected,O=y||b||m||(v||g);return null==i?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Button,{className:ce().largeButton,look:f.Button.Looks.LINK,size:f.Button.Sizes.SMALL,color:f.ButtonColors.PRIMARY,submitting:b||g,disabled:O,onClick:function(e){e.stopPropagation();h(n)},children:de.Z.Messages.MESSAGE_REQUEST_IGNORE}),(0,r.jsx)(f.Button,{className:ce().largeButton,look:f.Button.Looks.FILLED,size:f.Button.Sizes.SMALL,color:f.Button.Colors.BRAND,disabled:O,submitting:y||m||v,onClick:function(e){e.stopPropagation();p(n)},children:de.Z.Messages.MESSAGE_REQUEST_ACCEPT})]})}function ut(e){var t=e.channelId,n=(0,s.e7)([rt.Z],(function(){return rt.Z.getChannel(t)}),[t]);return(0,r.jsx)(se,{bannerIcon:at,bannerHeader:de.Z.Messages.MESSAGE_REQUEST_BANNER_TITLE,bannerSubtext:de.Z.Messages.MESSAGE_REQUEST_BANNER_SUBTITLE,
children:(null==n?void 0:n.isPrivate())?(0,r.jsx)(lt,{channel:n}):null})}var ct=n(944928),st=n(30027),ft=n(584994),dt=n(214142),pt=n(785085),ht=n(44616),yt=n(248088),bt=n(677681),mt=n(795470),vt=n(788169),gt=n(436187),Ot=n(673383),Et=n(809433),Ct=n(188484),St=n.n(Ct);function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var It=o.memo((function(e){var t=e.channelId,n=e.width,i=(0,s.e7)([g.Z],(function(){return g.Z.useReducedMotion})),a=(0,s.e7)([ht.ZP],(function(){return ht.ZP.getMostRecentMessageCombo(t)}),[t]),l=_t(o.useState(!1),2),u=l[0],c=l[1];o.useEffect((function(){if(!(null==a?void 0:a.displayed)){c(!1);setImmediate((function(){var e=null!=a?(0,Ot.Eo)(a.combo):0;c(e>0)}));var e=setTimeout((function(){c(!1);null!=a&&(0,dt.ew)(a)}),2e3);return function(){return clearTimeout(e)}}}),[a]);var d=null!=a?"100%":"200%",p=(0,yt.useSpring)({opacity:u?1:0,translateY:u?"0":d,pointerEvents:"none",width:n,config:i?yt.config.stiff:yt.config.slow});return(0,r.jsx)(r.Fragment,{children:null!=a&&(0,r.jsx)(yt.animated.div,{
className:St().messageComboScore,style:p,children:(0,r.jsx)(f.Text,{className:St().comboScore,variant:"text-sm/bold",children:(0,Ot.Eo)(a.combo)})})})})),wt=o.memo((function(e){var t=e.value,n=e.multiplier,i=o.useMemo((function(){return(0,Ot.yz)(n)}),[n]),a=i.color,l=i.square,u=i.flair,c=(0,mt.Lq)(a);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Text,{className:St().comboValue,variant:"text-sm/bold",children:t}),(0,r.jsxs)("div",{className:St().comboNameplate,style:{color:c},children:[(0,r.jsx)(f.Text,{className:St().comboMultiplier,style:{color:c},variant:"text-sm/bold",children:de.Z.Messages.POGGERMODE_COMBO.format({multiplier:n})}),l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:A()(St().comboSquare,St().left),style:{backgroundColor:c}}),(0,r.jsx)("div",{className:A()(St().comboSquare,St().right),style:{backgroundColor:c}})]}),u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:A()(St().confettiIcon,St().left),children:(0,r.jsx)(gt.Z,{width:24,
height:24})}),(0,r.jsx)("div",{className:A()(St().confettiIcon,St().right),children:(0,r.jsx)(gt.Z,{width:24,height:24})})]}),1===n&&(0,r.jsx)(f.Text,{className:St().tip,variant:"text-sm/bold",children:de.Z.Messages.POGGERMODE_COMBO_TIP})]})]})}));const Pt=o.memo((function(e){var t=e.channelId,n=(0,s.e7)([Ze.default],(function(){return Ze.default.getId()})),i=(0,s.e7)([vt.Z],(function(){return vt.Z.isTyping(t,n)}),[t,n]),a=(0,s.e7)([pt.Z],(function(){return pt.Z.isEnabled()})),l=(0,s.e7)([ht.ZP],(function(){return ht.ZP.isComboing(n,t)}),[t,n]),u=(0,bt.Z)(),c=u.ref,f=u.width,d=void 0===f?0:f,p=(0,s.e7)([g.Z],(function(){return g.Z.useReducedMotion})),h=_t(o.useState(!1),2),y=h[0],b=h[1],m=(0,Et.Z)(t),v=a&&l&&i;o.useEffect((function(){v&&b(!0);var e=setTimeout((function(){return b(v)}),1e3);return function(){return clearTimeout(e)}}),[v]);var O=(0,yt.useSpring)({opacity:y?1:0,transform:y?"translateY(0)":"translateY(100%)",pointerEvents:"none",config:yt.config.stiff,immediate:p
}),E=o.useMemo((function(){return null!=m?m:{value:0,multiplier:1}}),[m]),C=o.useRef(E);o.useEffect((function(){(E.multiplier>1||E.value>0)&&(C.current=E)}),[E]);var S=o.useMemo((function(){return{value:v?E.value:C.current.value,multiplier:v?E.multiplier:C.current.multiplier}}),[v,E,C]),j=S.multiplier,_=S.value;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(It,{channelId:t,width:d}),(0,r.jsx)(yt.animated.div,{ref:c,className:St().combo,style:O,children:(0,r.jsx)(wt,{value:_,multiplier:j})})]})}));var xt=n(996739),At=n(69540);var Tt=n(715919);const Nt=function(e,t){var n=(0,Tt.$)(t),r=(0,s.e7)([F.Z],(function(){return F.Z.getMessages(t.id).length>0}),[t]);return null!=e&&(e.hasFlag($.xW$.QUARANTINED)&&n&&!r)};var Mt=n(811276),Zt=n(513157);const Lt=function(){return(0,r.jsx)(se,{bannerIcon:Zt,bannerHeader:de.Z.Messages.LIMITED_ACCESS_INFO_MODAL_HEADING,bannerSubtext:de.Z.Messages.LIMITED_ACCESS_DM_BAR_SUBTEXT.format({appealLink:Mt.Z})})}
;var Rt=n(28862),Dt=n(798808),kt=n(840598),Ut=n(736543),Bt=n(284610),Ft=n(481056),Gt=n(682776),Ht=n(715107),Vt=n(255592),Wt=n(841804),zt=n(194212),Yt=n(930948),Kt=n(476770),qt=n(202181),Xt=n(15084),Qt=n(99181),Jt=n(771145),$t=n(301011),en=n(753261),tn=n(531304),nn=n(213276),rn=n(37707),on=n(258875),an=n.n(on);function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cn(i,r,o,a,l,"next",e)}function l(e){cn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pn(e){pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return pn(e)}function hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&gn(e,t)}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dn(e,t,n[t])}))}return e}function bn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function vn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?un(e):t}function gn(e,t){gn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return gn(e,t)}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var En=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pn(e);if(t){var o=pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vn(this,n)}}var Sn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function jn(e){e.preventDefault()}var _n=/^\+(?!\w+):?(?!:)(\w+)?:?$/;function In(e){var t=e.isSidebar,n=mn(e,["isSidebar"]);return t?(0,r.jsx)("section",bn(yn({},n),{role:"complementary"})):(0,r.jsx)("main",yn({},n))}var wn=function(e){hn(n,e);var t=Cn(n);function n(){fn(this,n);var e;(e=t.apply(this,arguments)).isFirstChange=!0;e.editorRef=null;e.state=bn(yn({},(0,P.eK)(Bt.Z.getDraft(e.props.channel.id,Bt.d.ChannelMessage))),{contentWarningProps:null});e.draftDidChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.state.textValue,r=Bt.Z.getDraft(t.channel.id,Bt.d.ChannelMessage);n===r||""!==r&&""!==n||e.setState((0,
P.eK)(r),(function(){if(n!==r){var t=e.props.onFocus;null==t||t()}}))};e.handleKeyDown=function(t){var n=e.props,r=n.keyboardModeEnabled,o=n.onKeyDown,i=n.channel,a=t.shiftKey||t.altKey||t.ctrlKey||t.metaKey,l=0!==e.state.textValue.length;switch(t.which){case $.yXg.DELETE:case $.yXg.BACKSPACE:e.handleIncrementCombo("",1);return;case $.yXg.ARROW_UP:if(a)return;if(l)return;t.preventDefault();if(r)Vt.Z.getUploadCount(i.id,Bt.d.ChannelMessage)>0?Yt.S.dispatchToLastSubscribed($.CkL.FOCUS_ATTACHMENT_AREA):Yt.S.dispatchToLastSubscribed($.CkL.FOCUS_MESSAGES,{atEnd:!0});else{var u=e.props.channel,s=F.Z.getLastCommandMessage(u.id),f=F.Z.getLastEditableMessage(u.id);null!=s&&null!=f?c.default.compare(f.id,s.id)>0?e.handleEditLastMessage(f):e.handleRecallLastCommand(s):null!=s?e.handleRecallLastCommand(s):null!=f&&e.handleEditLastMessage(f)}return;case $.yXg.ESCAPE:if(a)return;if(t.target!==t.currentTarget)return;t.preventDefault();if(r){(0,v.rf)();return}
if(Vt.Z.getUploadCount(i.id,Bt.d.ChannelMessage)>0){y.Z.clearAll(i.id,Bt.d.ChannelMessage);return}}null==o||o(t,l)};e.handleIncrementCombo=function(t,n){if(e.props.poggermodeEnabled){var r,o=e.props.channel.id,i=Ze.default.getId(),a=ht.ZP.getUserCombo(i,o),l=(null!==(r=null==a?void 0:a.value)&&void 0!==r?r:0)+1;(0,dt.SE)({channelId:o,userId:i,value:null!=t?t.length:l,multiplier:n})}};e.handleTextareaChange=function(t,n,r){var o=e.props,i=o.keyboardModeEnabled,a=o.channel.id;d.Z.changeDraft(a,n,Bt.d.ChannelMessage);var l=""!==n&&r!==e.state.richValue,u=l&&!_n.test(n)&&!n.startsWith("/")&&(!e.isFirstChange||n!==e.state.textValue);e.isFirstChange=!1;u&&e.state.textValue.length<n.length&&e.handleIncrementCombo();u?h.Z.startTyping(a):""===n&&h.Z.stopTyping(a);l&&i&&(0,v.rf)();e.setState({textValue:n,richValue:r})};var o,i=un(e);e.handleSendMessage=(o=sn((function(e){var t,n,r,o,a,l,u,c,s,f,d,h,m;return Sn(this,(function(v){switch(v.label){case 0:t=e.value,n=e.uploads,r=e.stickers,
o=e.command,a=e.commandOptionValues,l=e.isGif;if(!(0!==(t=t.trim()).length||null!=r&&0!==r.length||null!=n&&0!==n.length))return[2,Promise.resolve({shouldClear:!1,shouldRefocus:!0})];u=i.props,c=u.guild,s=u.channel,f=u.pendingReply,d=u.chatInputType;h=!1;if(null==o)return[3,2];if(o.inputType===j.iw.BUILT_IN_INTEGRATION){Yt.S.dispatch($.CkL.SHAKE_APP,{duration:200,intensity:2});return[2,Promise.resolve({shouldClear:!1,shouldRefocus:!0})]}return[4,(0,_.Z)(o,null!=a?a:{},{guild:c,channel:s})];case 1:m=v.sent();if(o.inputType!==j.iw.BUILT_IN_TEXT)return[2,Promise.resolve({shouldClear:!0,shouldRefocus:!0})];if(null!=m){t=null!=m.content&&""!==m.content?m.content:t;h=!0===m.tts}v.label=2;case 2:return[2,(0,Kt.v)({openWarningPopout:function(e){return i.setState({contentWarningProps:e})},type:i.props.chatInputType,content:t,stickers:r,uploads:n,channel:s}).then((function(e){var o=e.valid,a=e.failureReason;if(!o){if(a===$.zYc.SLOWMODE_COOLDOWN){Yt.S.dispatch($.CkL.SHAKE_APP,{duration:200,
intensity:2});Yt.S.dispatch($.CkL.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var u=(0,ct.g)(t,{channel:s,isEdit:!1});if(null!=u){null!=u.content&&(t=u.content);null!=u.tts&&(h=u.tts)}var m=st.ZP.parse(s,t);m.tts=m.tts||h;var v=p.Z.getSendMessageOptionsForReply(f);if(l){p.Z.sendMessage(s.id,m,void 0,v);(0,Rt.A6)(s.id);return{shouldClear:!1,shouldRefocus:!0}}if(null!=n&&n.length>0){var g=(0,Qt.KZ)(n);if((0,Qt.Bf)(g,null==c?void 0:c.id)){(0,Xt.G)(s,g);return{shouldClear:!1,shouldRefocus:!1}}b.Z.uploadFiles({channelId:s.id,uploads:n,draftType:Bt.d.ChannelMessage,parsedMessage:m,options:bn(yn({},v),{stickerIds:r})});y.Z.clearAll(s.id,Bt.d.ChannelMessage)}else null!=r&&r.length>0?""!==t?p.Z.sendMessage(s.id,m,void 0,bn(yn({},v),{stickerIds:r})):p.Z.sendStickers(s.id,r,t,v,m.tts):p.Z.sendMessage(s.id,m,void 0,v);i.setState((0,P.H2)());(0,Rt.A6)(s.id);(0,kt.qB)(s.id,d.drafts.type);return{shouldClear:!0,shouldRefocus:!0}}))]}}))
})),function(e){return o.apply(this,arguments)});e.handleSetValue=function(t){var n,r,o=null===(n=e.editorRef)||void 0===n?void 0:n.getSlateEditor();if(null!=o){B.Q.select(o,[]);o.insertText(t);null===(r=e.editorRef)||void 0===r||r.focus()}};e.renderAttachButton=function(t,n,o){return(0,r.jsx)(k.Z,{className:o,channel:e.props.channel,draftType:Bt.d.ChannelMessage,editorTextContent:e.state.textValue,setValue:e.handleSetValue,canShowPremiumTutorial:t,canOnlyUseTextCommands:n})};e.renderApplicationCommandIcon=function(t,n,o){return(0,r.jsx)(D,{className:o,command:t,section:n,channel:e.props.channel})};return e}var o=n.prototype;o.componentDidMount=function(){Bt.Z.addChangeListener(this.draftDidChange)};o.componentWillUnmount=function(){Bt.Z.removeChangeListener(this.draftDidChange)};o.componentDidUpdate=function(e,t){var n=this.props.channel,r=this.state.textValue;if(e.channel.id===n.id){if(e.hasModalOpen&&!this.props.hasModalOpen){var o=Bt.Z.getDraft(n.id,Bt.d.ChannelMessage)
;o!==r&&this.setState((0,P.eK)(o))}t.textValue.length<$.J6R&&r.length>=$.J6R&&fe.default.track($.rMx.MESSAGE_LENGTH_LIMIT_REACHED,{})}else this.draftDidChange(this.props)};o.handleEditLastMessage=function(e){var t=this.props.channel;p.Z.startEditMessage(t.id,e.id,e.content);O.ZP.trackWithMetadata($.rMx.MESSAGE_EDIT_UP_ARROW)};o.handleRecallLastCommand=function(e){var t=this.props.channel,n=S.Z.getCommandFromInteractionData(e.interactionData),r=S.Z.getApplication(null==n?void 0:n.applicationId);if(null!=n){var o,i,a=null!=r?{type:j.Qi.APPLICATION,id:r.id,icon:null!==(i=null==r||null===(o=r.bot)||void 0===o?void 0:o.username)&&void 0!==i?i:r.icon,name:r.name,application:r}:null,l=(0,C.Fi)(n,e.interactionData);E.Po(t.id,n,a,j.Vh.RECALL,l)}};o.render=function(){
var e=this,t=this.props,n=t.channel,o=t.focused,i=t.onResize,l=t.onBlur,u=t.onFocus,c=t.highlighted,s=t.pendingReply,d=t.chatInputType,p=t.placeholder,h=t.accessibilityLabel,y=t.shakeIntensity,b=t.poggermodeEnabled,m=this.state.contentWarningProps,v=(0,r.jsx)(U.Z,{textValue:this.state.textValue,richValue:this.state.richValue,focused:o,className:an().channelTextArea,channel:n,placeholder:p,accessibilityLabel:h,pendingReply:s,type:d,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:i,onFocus:u,onBlur:l,onKeyDown:this.handleKeyDown,renderAttachButton:this.renderAttachButton,renderApplicationCommandIcon:this.renderApplicationCommandIcon,promptToUpload:Xt.d,highlighted:c,setEditorRef:function(t){return e.editorRef=t}});return(0,r.jsx)(f.Popout,{position:"top",onRequestClose:function(){var t;null==m||null===(t=m.onCancel)||void 0===t||t.call(m);e.setState({contentWarningProps:null})},shouldShow:null!=m,renderPopout:function(e){var t=e.closePopout
;a()(null!=m,"ChannelTextAreaForm > Popout > renderPopout: contentWarningProps cannot be null");return(0,r.jsx)(rn.Z,yn({onClose:t},m))},children:function(){return b?(0,r.jsx)(f.Shaker,{isShaking:y>0,intensity:y,children:v}):v}})};return n}(o.PureComponent),Pn=function(e){hn(n,e);var t=Cn(n);function n(){fn(this,n);var e;(e=t.apply(this,arguments)).inputFormRef=o.createRef();e.state={textAreaFocused:!1,textAreaHighlighted:!1,currentChannelId:e.props.channel.id};e.dispatchGroupRef=o.createRef();e.handleRequestFocus=function(t){t.channelId===e.props.channel.id&&e.setState({textAreaFocused:!0})};e.getAnalyticsPage=function(){var t=e.props.channel;if(null==t)return null;switch(t.type){case $.d4z.GUILD_ANNOUNCEMENT:case $.d4z.GUILD_TEXT:case $.d4z.GUILD_FORUM:case $.d4z.GUILD_MEDIA:return nn.Z.Pages.GUILD_CHANNEL;case $.d4z.GROUP_DM:case $.d4z.DM:return nn.Z.Pages.DM_CHANNEL;default:return null}};e.handleInputFocus=function(t){var n
;null===(n=e.dispatchGroupRef.current)||void 0===n||n.bumpDispatchPriority();(0,qt.rB)()||(null!=(null==t?void 0:t.highlight)?e.setState({textAreaFocused:!0,textAreaHighlighted:null==t?void 0:t.highlight}):e.setState({textAreaFocused:!0}))};e.handleInputBlur=function(){(document.hasFocus()||e.props.hasModalOpen)&&e.setState({textAreaFocused:!1,textAreaHighlighted:!1})};e.handleInputKeyDown=function(t,n){e.state.textAreaHighlighted&&e.setState({textAreaHighlighted:!1});n||e._handleMoveToPane(t)};e.handleKeyDown=function(t){var n;(null===(n=e.inputFormRef.current)||void 0===n?void 0:n.contains(t.target))||e._handleMoveToPane(t)};e._handleMoveToPane=function(t){var n=e.props,r=n.keyboardModeEnabled,o=n.chatInputType,i=n.channel;if(r)switch(t.which){case $.yXg.ARROW_LEFT:o===w.I.SIDEBAR&&Yt.S.dispatch($.CkL.FOCUS_CHANNEL_TEXT_AREA,{channelId:Ht.Z.getChannelId()});return;case $.yXg.ARROW_RIGHT:o===w.I.NORMAL&&Yt.S.dispatch($.CkL.FOCUS_CHANNEL_TEXT_AREA,{
channelId:nt.ZP.getCurrentSidebarChannelId(i.id)})}};e.handleOpenExpressionPicker=function(t){var n=t.activeView;(0,Ce.PG)(n,e.props.chatInputType)};e.handleChatInteract=function(){var t;null===(t=e.dispatchGroupRef.current)||void 0===t||t.bumpDispatchPriority()};e.renderMessageBanner=function(e){var t=e.channel,n=e.showSpamBanner,o=e.showQuarantinedUserBanner,i=e.showMessageRequestBanner,a=e.guild,l=e.communicationDisabledUntil,u=e.showAutomodUserProfileChatBlocker;if(t.type===$.d4z.DM){if(n)return(0,r.jsx)(Ee,{channel:t});if(o)return(0,r.jsx)(Lt,{});if(i)return(0,r.jsx)(ut,{channelId:t.id})}return null!=l&&(0,Ne.J)(l)&&null!=a&&!Gt.Z.can($.Plq.ADMINISTRATOR,a)?(0,r.jsx)(qe,{guild:a,disabledUntil:l}):u?(0,r.jsx)(Te,{guild:a}):null};return e}var i=n.prototype;i.componentDidMount=function(){Yt.S.subscribe($.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};i.componentDidUpdate=function(e){
this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus())};i.componentWillUnmount=function(){Yt.S.unsubscribe($.CkL.FOCUS_CHANNEL_TEXT_AREA,this.handleRequestFocus)};i.render=function(){var e,t=this.props,n=t.channel,o=t.guild,i=t.keyboardModeEnabled,a=t.hasModalOpen,l=t.pendingReply,c=t.chatInputType,s=t.placeholder,d=t.accessibilityLabel,p=t.showQuarantinedUserBanner,h=t.filterAfterTimestamp,y=t.showSpamBanner,b=t.showMessageRequestBanner,m=t.communicationDisabledUntil,v=t.shakeIntensity,g=t.poggermodeEnabled,O=t.isSelectedResourceChannel,E=t.showAutomodUserProfileChatBlocker,C=this.state,S=C.textAreaFocused,j=C.textAreaHighlighted,_=c===w.I.SIDEBAR
;e=_&&n.type===$.d4z.GUILD_VOICE?de.Z.Messages.TEXT_IN_VOICE_A11Y_LABEL:_&&n.type===$.d4z.GUILD_STAGE_VOICE?de.Z.Messages.TEXT_IN_STAGE_A11Y_LABEL:u.T.THREADS.has(n.type)?de.Z.Messages.THREAD_A11Y_LABEL:de.Z.Messages.CHANNEL_A11Y_LABEL;var I,P=(0,r.jsx)(Ut.Z,{tutorialId:"writing-messages",position:"left",offsetX:75,children:(0,r.jsx)(wn,{focused:S,highlighted:j,channel:n,guild:o,keyboardModeEnabled:i,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,hasModalOpen:a,pendingReply:l,chatInputType:c,placeholder:s,accessibilityLabel:d,shakeIntensity:v,poggermodeEnabled:g})});return(0,r.jsx)(nn.Z,{page:this.getAnalyticsPage(),children:(0,r.jsx)(Wt.sW,{children:(0,r.jsxs)(zt.I3,{ref:this.dispatchGroupRef,children:[(0,r.jsx)(zt.d9,{event:$.CkL.TEXTAREA_FOCUS,handler:this.handleInputFocus}),(0,r.jsx)(zt.d9,{event:$.CkL.TEXTAREA_BLUR,handler:this.handleInputBlur}),(0,r.jsx)(zt.d9,{event:$.CkL.OPEN_EXPRESSION_PICKER,handler:this.handleOpenExpressionPicker
}),(0,r.jsxs)(In,{isSidebar:_,className:an().chatContent,"aria-label":e.format({channelName:n.name}),onMouseDown:this.handleChatInteract,onKeyDown:this.handleKeyDown,onFocus:this.handleChatInteract,children:[(0,r.jsx)(Jt.Z,{channel:n,guild:o,narrow:_}),(0,r.jsxs)(f.HeadingLevel,{component:(0,r.jsx)(f.HiddenVisually,{children:(0,r.jsx)(f.H,{children:de.Z.Messages.CHANNEL_CHAT_HEADING.format({channelName:n.name})})}),children:[(0,r.jsx)(ft.Z,{channel:n,forceCozy:O,filterAfterTimestamp:h,showingSpamBanner:y,showingQuarantineBanner:p}),null==n.guild_id||_?null:(0,r.jsx)(Qe.Z,{guildId:n.guild_id,channel:n}),O?null:null!==(I=this.renderMessageBanner({channel:n,showSpamBanner:y,showQuarantinedUserBanner:p,showMessageRequestBanner:b,guild:o,communicationDisabledUntil:m,showAutomodUserProfileChatBlocker:E}))&&void 0!==I?I:(0,r.jsxs)("form",{ref:this.inputFormRef,onSubmit:jn,className:an().form,children:[g&&(0,r.jsx)(Pt,{channelId:n.id}),n.isPrivate()?(0,r.jsx)($t.Z,{channel:n,children:P}):(0,
r.jsx)(en.Z,{channel:n,children:P}),(0,r.jsx)(tn.Z,{channel:n,poggermodeEnabled:g})]}),(0,r.jsx)(Wt.kw,{})]})]})]})})},"messages-".concat(n.id))};n.getDerivedStateFromProps=function(e,t){var n=e.channel,r=t.currentChannelId;return n.id!==r?{textAreaFocused:null!=n&&(!l.tq&&Gt.Z.can($.Plq.SEND_MESSAGES,n)),currentChannelId:n.id}:null};return n}(o.PureComponent);const xn=o.memo((function(e){var t,n,o=e.channel,i=e.guild,a=e.chatInputType,l=e.filterAfterTimestamp,u=m.useExperiment({},{autoTrackExposure:!0}).enabled,c=(0,I.Z)(o),d=c.placeholder,p=c.accessibilityLabel,h=function(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=e.isPrivate()?e.getRecipientId():null,r=(0,s.e7)([G.default],(function(){var e;return!0===(null===(e=G.default.getUser(n))||void 0===e?void 0:e.hasFlag($.xW$.SPAMMER))}),[n]),o=e.hasFlag(ee.zZ.IS_SPAM),i=ne((0,s.Wu)([F.Z],(function(){var t=F.Z.getMessages(e.id);return[t.length>0,t.toArray().some((function(e){
return e.author.id===n}))]}),[e]),2),a=i[0],l=i[1],u=(0,s.e7)([J],(function(){return null!=n&&J.hasAllowedSpamUser(n)}),[n]);return t&&(r&&a||o&&l)&&!u}(o)&&!u,y=Nt(G.default.getCurrentUser(),o),b=On((0,Me.AB)(null==i?void 0:i.id),1)[0],v=(0,Se.Ux)(null==i?void 0:i.id),O=(0,s.e7)([G.default],(function(){return G.default.getCurrentUser()})),E=(0,s.e7)([Le.ZP],(function(){var e;return null!=O&&(null!==(n=null===(e=Le.ZP.getMember(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:"",null==O?void 0:O.id))||void 0===e?void 0:e.isPending)&&void 0!==n&&n)})),C=v&&!E,S=$e(o.id)&&!u,j=(0,s.e7)([pt.Z],(function(){return pt.Z.isEnabled()})),_=function(e){var t=(0,xt.Z)(At.oZ.CHAT_INPUT),n=(0,s.e7)([pt.Z],(function(){return pt.Z.isEnabled({shakeLocation:At.oZ.CHAT_INPUT})}));return(0,s.e7)([vt.Z,ht.ZP,Ze.default],(function(){return n&&vt.Z.isTyping(e,Ze.default.getId())?ht.ZP.getUserComboShakeIntensity(Ze.default.getId(),e,t):0}))}(o.id),w=(0,Xe.Z)(o.id);return(0,r.jsx)(Pn,{channel:o,
isEditing:null!=(0,s.e7)([Ft.Z],(function(){return Ft.Z.getEditingMessageId(o.id)})),hasModalOpen:(0,f.useModalsStore)(f.hasAnyModalOpenSelector),guild:i,keyboardModeEnabled:(0,s.e7)([g.Z],(function(){return g.Z.keyboardModeEnabled})),pendingReply:(0,s.e7)([Dt.Z],(function(){return Dt.Z.getPendingReply(o.id)})),chatInputType:a,placeholder:d,accessibilityLabel:p,filterAfterTimestamp:l,showSpamBanner:h,showQuarantinedUserBanner:y,communicationDisabledUntil:b,showMessageRequestBanner:S,shakeIntensity:_,poggermodeEnabled:j,isSelectedResourceChannel:w,showAutomodUserProfileChatBlocker:C})}))},973553:(e,t,n)=>{"use strict";n.d(t,{y:()=>m,Z:()=>O});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(944010),c=n(913549),s=n(379991),f=n(421281),d=n(385045),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m,v=(0,f.Mg)(p().resizeHandleWidth);!function(e){e[e.PostSidebar=0]="PostSidebar"
;e[e.ThreadSidebar=1]="ThreadSidebar";e[e.CallChatSidebar=2]="CallChatSidebar";e[e.MessageRequestSidebar=3]="MessageRequestSidebar";e[e.HomeSidebar=4]="HomeSidebar"}(m||(m={}));function g(e){var t=e.resizableNode,n=e.onResize,o=e.onResizeEnd,i=e.maxWidth,a=(0,c.Z)({minDimension:450,maxDimension:i,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:o,orientation:c.y.HORIZONTAL_LEFT});return(0,r.jsx)("div",{onMouseDown:a,className:p().resizeHandle})}function O(e){var t,n=e.sidebarType,i=e.maxWidth,c=e.onWidthChange,f=e.children,d=e.floatingLayer,h=o.useRef(null),O=function(e){switch(e){case m.PostSidebar:return"postSidebarWidth";case m.ThreadSidebar:return"threadSidebarWidth";case m.CallChatSidebar:return"callChatSidebarWidth";case m.MessageRequestSidebar:return"messageRequestSidebarWidth";case m.HomeSidebar:return"homeSidebarWidth"}}(n),E=b(o.useState(s.ZP[O]),2),C=E[0],S=E[1],j=o.useCallback((function(e){u.ZP.updatedUnsyncedSettings(y({},O,e))}),[O]),_=function(e){
return e.maxWidth<=450}({maxWidth:i}),I=(0,l.clamp)(C,450,i),w=_?I:I+v;o.useEffect((function(){null==c||c(I,_)}),[I,c,_]);var P=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(p().chatTarget,(t={},y(t,p().floating,_),y(t,p().notFloating,!_),t)),style:{width:w}}),!_&&(0,r.jsx)(g,{maxWidth:i,resizableNode:h,onResize:S,onResizeEnd:j}),(0,r.jsx)("div",{ref:h,className:a()(p().container,y({},p().floating,_)),style:{width:I},children:f})]});if(_){var x=null!=d?d:o.Fragment;return(0,r.jsx)(x,{children:(0,r.jsx)("div",{className:p().chatLayerWrapper,children:P})})}return(0,r.jsx)(r.Fragment,{children:P})}},771145:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(348592),c=n(2590),s=n(473708),f=n(237741),d=n.n(f);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){var t=e.narrow,n=u.Z.getArticleURL(c.BhN.CLYDE_AI);return(0,r.jsx)("div",{
className:a()(d().chatHeaderBar,p({},d().narrow,t)),children:(0,r.jsx)(l.Text,{className:d().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:s.Z.Messages.CLYDE_NOTICE.format({learnMoreUrl:n})})})}var y=n(337710),b=n(517285),m=n(656793),v=n(396043),g=n(652591),O=n(671293),E=n(225386),C=n(580335),S=n.n(C);function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}function I(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function w(e){var t=e.channel,n=e.narrow,i=(0,E.tc)(t);o.useEffect((function(){g.default.track(c.rMx.CHANNEL_BANNER_VIEWED,I(_({},(0,v.hH)(t.getGuildId()),(0,v.v_)(t)),{banner_type:"thread"}))}),[t]);return(0,r.jsxs)("div",{className:a()(S().chatHeaderBar,j({},S().narrow,n)),children:[(0,r.jsx)(l.Text,{className:S().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?s.Z.Messages.FORUM_POST_HEADER_NOTICE_LOCKED:s.Z.Messages.THREAD_HEADER_NOTICE_LOCKED}),i?(0,r.jsx)(l.Button,{size:n?l.Button.Sizes.SMALL:l.Button.Sizes.TINY,className:S().chatHeaderBarButton,color:l.Button.Colors.PRIMARY,onClick:function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,I(_({},(0,v.hH)(t.getGuildId()),(0,
v.v_)(t)),{banner_type:"thread",cta_type:"unarchive"}));O.Z.unarchiveThread(t,!1)},children:s.Z.Messages.UNARCHIVE}):null]})}function P(e){var t=e.channel,n=e.narrow,i=(0,E.Xb)(t);o.useEffect((function(){g.default.track(c.rMx.CHANNEL_BANNER_VIEWED,I(_({},(0,v.hH)(t.getGuildId()),(0,v.v_)(t)),{banner_type:"thread"}))}),[t]);return(0,r.jsxs)("div",{className:a()(S().chatHeaderBar,j({},S().narrow,n)),children:[(0,r.jsx)(l.Text,{className:S().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:t.isForumPost()?s.Z.Messages.FORUM_POST_HEADER_NOTICE_ACTIVE_LOCKED:s.Z.Messages.THREAD_HEADER_NOTICE_ACTIVE_LOCKED}),i?(0,r.jsx)(l.Button,{size:n?l.Button.Sizes.SMALL:l.Button.Sizes.TINY,className:S().chatHeaderBarButton,color:l.Button.Colors.PRIMARY,onClick:function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,I(_({},(0,v.hH)(t.getGuildId()),(0,v.v_)(t)),{banner_type:"thread",cta_type:"unlock"}));O.Z.unlockThread(t)},children:s.Z.Messages.UNLOCK}):null]})}
var x=n(202351),A=n(201459),T=n(773011),N=n(382060),M=n(61209),Z=n(9430),L=n(105538),R=n(962882),D=n.n(R);function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))}return e}function B(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function F(e){var t=e.guild,n=e.channel,i=(0,x.cj)([M.Z,Z.Z],(function(){return{category:null!=n.parent_id?M.Z.getChannel(n.parent_id):null,isGuildMuted:Z.Z.isMuted(n.getGuildId()),isCategoryMuted:null!=n.parent_id&&Z.Z.isChannelMuted(n.getGuildId(),n.parent_id),isChannelMuted:Z.Z.isChannelMuted(n.getGuildId(),n.id),messageNotifications:Z.Z.resolvedMessageNotifications(n)}})),a=i.category,u=i.isGuildMuted,f=i.isCategoryMuted,d=i.isChannelMuted,p=i.messageNotifications,h=(0,T.ZP)(n,!0);o.useEffect((function(){g.default.track(c.rMx.CHANNEL_BANNER_VIEWED,B(U({},(0,v.hH)(n.getGuildId()),(0,v.v_)(n)),{banner_type:"chat_notification_settings"}))}),[n]);if(!(0,N.Qm)(n.type)||n.isThread())return null;var y,b,m,O=u||f||d;if(O){var E;if(u){var C;E=null!==(C=null==t?void 0:t.name)&&void 0!==C?C:"???";m=function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,B(U({},(0,v.hH)(n.getGuildId()),(0,v.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"unmute guild"}))
;A.Z.updateGuildNotificationSettings(n.getGuildId(),{muted:!1})}}else if(f){var S;E=null!==(S=null==a?void 0:a.name)&&void 0!==S?S:"???";m=function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,B(U({},(0,v.hH)(n.getGuildId()),(0,v.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"unmute parent"}));A.Z.updateChannelOverrideSettings(n.getGuildId(),n.parent_id,{muted:!1})}}else{E=h;m=function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,B(U({},(0,v.hH)(n.getGuildId()),(0,v.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"unmute channel"}));A.Z.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!1})}}y=s.Z.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_MUTED.format({name:E});b=s.Z.Messages.UNMUTE}else{if(p===c.bL.ALL_MESSAGES)return null;y=s.Z.Messages.CHANNEL_CHAT_NOTIFICATION_SETTINGS_NOTICE_ONLY_MENTIONS.format({name:h});b=s.Z.Messages.ENABLE_NOTIFICATIONS_TITLECASE;m=function(){g.default.track(c.rMx.CHANNEL_BANNER_CTA_CLICKED,B(U({},(0,
v.hH)(n.getGuildId()),(0,v.v_)(n)),{banner_type:"chat_notification_settings",cta_type:"enable all messages"}));A.Z.updateChannelOverrideSettings(n.getGuildId(),n.id,{message_notifications:c.bL.ALL_MESSAGES})}}return(0,r.jsxs)("div",{className:D().chatHeaderBar,children:[(0,r.jsx)(L.Z,{className:D().chatHeaderBarIcon,foreground:O?D().chatHeaderBarIconStrikethrough:void 0}),(0,r.jsx)(l.Text,{className:D().chatHeaderBarText,variant:"text-sm/normal",color:"header-secondary",children:y}),(0,r.jsx)(l.Button,{size:l.Button.Sizes.TINY,color:l.Button.Colors.PRIMARY,className:D().chatHeaderBarButton,onClick:m,children:b})]})}var G=n(897196);const H=o.memo((function(e){var t=e.channel,n=e.guild,o=e.narrow,i=(0,y.Z)(t),a=!t.isDM()&&t.hasFlag(G.zZ.CLYDE_AI);return t.isArchivedLockedThread()?(0,r.jsx)(w,{channel:t,narrow:o}):t.isLockedThread()?(0,r.jsx)(P,{channel:t,narrow:o}):a?(0,r.jsx)(h,{narrow:o}):i?(0,r.jsx)(b.Z,{channel:t,narrow:o}):(0,m.c)()?(0,r.jsx)(F,{guild:n,channel:t}):null}))},
251684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=n(667294),i=n(289283),a=n(202351),l=n(945460),u=n(804185),c=n(489881),s=n(776009),f=n(304562),d=n.n(f);const p=o.memo((function(e){var t=e.message,n=e.subtitle,f=e.countdown,p=e.buttonText,h=e.buttonColor,y=e.buttonSubmitting,b=e.onButtonClick,m=e.imageSrc,v=e.animationSrc,g=e.secondaryButtonText,O=e.onSecondaryButtonClick,E=e.children,C=e.useReducedMotion,S=void 0!==C&&C,j=(0,a.e7)([u.ZP],(function(){return u.ZP.getState().isMembersOpen}));if(i.tq&&j)return null;if(null==t)return(0,r.jsx)(r.Fragment,{children:o.Children.only(E)});var _=null;null!=m?_=(0,r.jsx)("img",{alt:"",src:m,className:d().image}):null!=v&&(_=(0,r.jsx)(s.Z,{importData:v,shouldAnimate:!S,className:d().animation}));return(0,r.jsxs)("div",{className:d().wrapper,children:[(0,r.jsxs)("div",{className:d().content,children:[_,(0,r.jsxs)("div",{className:d().text,children:[(0,r.jsx)(l.Heading,{variant:"heading-md/semibold",className:d().title,children:t
}),null!=n&&(0,r.jsx)(l.Text,{color:"text-muted",variant:"text-xs/normal",children:n})]})]}),(0,r.jsxs)("div",{className:d().buttonContainer,children:[null!=g&&(0,r.jsx)(l.Button,{className:d().button,size:l.Button.Sizes.SMALL,onClick:O,look:l.Button.Looks.LINK,color:l.Button.Colors.PRIMARY,submitting:y,children:g}),null!=p&&(0,r.jsx)(l.Button,{className:d().button,size:l.Button.Sizes.SMALL,onClick:b,submitting:y,color:null!=h?h:l.Button.Colors.PRIMARY,children:p})]}),null!=f&&(0,r.jsx)(c.Z,{className:d().countdown,deadline:f})]})}))},301011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(202351)),i=n(560923),a=n(840922),l=n(348592),u=n(251684),c=n(2590),s=n(473708);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e){var t=e.channel,p=e.children,h=(0,o.e7)([a.Z],(function(){return a.Z.isBlocked(t.getRecipientId())})),y=t.isSystemDM(),b=h&&!y&&!t.isMultiUserDM(),m={};if(y){m.message=s.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION;m.subtitle=s.Z.Messages.SYSTEM_DM_CHANNEL_DESCRIPTION_SUBTEXT;m.buttonText=s.Z.Messages.LEARN_MORE;m.onButtonClick=function(){return open(l.Z.getArticleURL(c.BhN.SYSTEM_DMS))};m.imageSrc=n(32028)}else if(b){m.message=s.Z.Messages.DM_VERIFICATION_TEXT_BLOCKED;m.buttonText=s.Z.Messages.UNBLOCK;m.onButtonClick=function(){i.Z.unblockUser(t.getRecipientId())}}return(0,r.jsx)(u.Z,d(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},m),{children:p}))}},591821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=n(667294),i=n(289283),a=n(202351),l=n(945460),u=n(708489),c=n(64234),s=n(464187),f=n(327860),d=n(373438),p=n(2590),h=n(473708),y=n(973746),b=n.n(y);function m(e){var t=e.channelId;o.useEffect((function(){u.Z.loadThread(t)}));var y,m=(0,a.e7)([s.Z],(function(){return s.Z.getGuildId()}))===p.I_8,v=(0,a.e7)([c.Z],(function(){return c.Z.theme}));y=m?(0,r.jsx)(f.OZ,{note:h.Z.Messages.FAVORITES_EMPTY_BODY,children:h.Z.Messages.FAVORITES_EMPTY_TITLE}):null!=t?(0,r.jsx)(l.Spinner,{type:l.Spinner.Type.SPINNING_CIRCLE}):(0,r.jsx)(f.OZ,{note:h.Z.Messages.CHANNELS_UNAVAILABLE_BODY,children:h.Z.Messages.CHANNELS_UNAVAILABLE_TITLE})
;return(0,r.jsxs)("div",{className:b().noChannel,children:[i.tq&&(0,r.jsx)(d.ZP,{children:(0,r.jsx)(o.Fragment,{})}),(0,r.jsxs)(f.ZP,{theme:v,children:[(0,r.jsx)(f.ox,{darkSrc:n(m?128112:16697),lightSrc:n(m?876406:105045),width:272,height:222}),y]})]})}},753261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Oe});var r=n(785893),o=n(667294),i=n(441143),a=n.n(i),l=n(202351),u=n(945460),c=n(84441),s=n(486826),f=n(327499),d=n(316878),p=n(852626),h=n(153771),y=n(497082),b=n(276985),m=n(886391),v=n(201615),g=n(776009),O=n(443812),E=n(473708),C=n(970795),S=n.n(C);function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var I=function(){return n.e(37761).then(n.t.bind(n,299145,19)).then((function(e){return e.default}))};const w=function(e){var t=(0,O.Dt)();return(0,r.jsxs)(u.ModalRoot,_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}({},e),{transitionState:e.transitionState,"aria-labelledby":t,children:[(0,r.jsx)("div",{className:S().animationContainer,children:(0,r.jsx)(g.Z,{importData:I,className:S().animationMiddle})}),(0,r.jsx)(u.ModalContent,{children:(0,r.jsxs)("div",{className:S().container,children:[(0,r.jsx)(u.Heading,{variant:"heading-xl/semibold",className:S().header,id:t,
children:E.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_TITLE.format({guildName:e.guildName})}),(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"header-secondary",children:E.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_DESC}),(0,r.jsx)(u.Button,{className:S().button,onClick:function(){e.onAccept();e.onClose()},children:E.Z.Messages.MEMBER_VERIFICATION_APPROVED_APPLICATION_MODAL_CONFIRM})]})})]}))};var P=n(744564),x=n(944522);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e){T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return T(e)}function N(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var Z=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var R=null,D=null;function k(){var e=x.Z.mostRecentLurkedGuildId();if(null!=e){R=e;D=null}else if(null!=R){D=R;R=null}else{D=null;R=null}}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&M(e,t)}(n,e);var t=L(n);function n(){A(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){
this.syncWith([x.Z],k)};r.shouldShowPopout=function(e){return D===e};r.__getLocalVars=function(){return{lurkingGuildId:R,recentlyJoinedGuildId:D}};return n}(l.ZP.Store);U.displayName="LurkerModePopoutStore";const B=new U(P.Z);var F=n(419594),G=n.n(F);const H=function(e){var t=e.guild,o=e.onClose;return(0,r.jsxs)("div",{className:G().container,children:[(0,r.jsx)("img",{alt:"",className:G().image,src:n(419552)}),(0,r.jsxs)("div",{className:G().content,children:[(0,r.jsx)(u.Heading,{variant:"heading-md/semibold",children:E.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_HEADER.format({guild:t.name})}),(0,r.jsx)(u.Text,{color:"header-secondary",variant:"text-sm/normal",children:E.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BODY}),(0,r.jsx)("div",{className:G().buttonContainer,children:(0,r.jsx)(u.Button,{onClick:o,children:E.Z.Messages.LURKER_MODE_POPOUT_SUCCESS_BUTTON})})]})]})}
;var V=n(178483),W=n(426797),z=n(784426),Y=n(64234),K=n(82863),q=n(21372),X=n(567403),Q=n(746477),J=n(682776),$=n(473903),ee=n(563135),te=n(251684),ne=n(2590),re=n(58118),oe=n(761141),ie=n.n(oe);function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){le(i,r,o,a,l,"next",e)}function l(e){le(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fe(e){fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return fe(e)}function de(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){se(e,t,n[t])}))}return e}function pe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function he(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?ae(e):t}function ye(e,t){ye=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ye(e,t)}var be=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}var ve=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ye(e,t)}(i,e);var t=me(i);function i(){ce(this,i);var e;(e=t.apply(this,arguments)).state={submitting:!1,shouldShowLurkerModeUpsellPopout:!1,
shouldShowLurkerModeSuccessPopout:!1};e.renderSuccessPopout=function(t){var n=t.closePopout,o=e.props.guild;a()(null!=o,"This guildID cannot be null");return(0,r.jsx)(H,{onClose:n,guild:o})};e.handleCancelApplication=function(){var t=e.props.guild;null!=t&&(0,u.openModal)((function(e){return(0,r.jsx)(u.ConfirmModal,pe(de({header:E.Z.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:E.Z.Messages.CONFIRM,cancelText:E.Z.Messages.CANCEL,onConfirm:function(){return h.Z.removeGuildJoinRequest(t.id)},confirmButtonColor:u.Button.Colors.BRAND},e),{children:(0,r.jsx)(u.Text,{variant:"text-md/normal",children:E.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION_SUBTITLE})}))}))};e.handleViewApplicationRejection=function(){var t=e.props.guild;null!=t&&(0,u.openModalLazy)(ue((function(){var e,o;return ve(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(25312)]).then(n.bind(n,713621))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,de({guildId:t.id
},e))}]}}))})))};e.handleShowMemberVerification=function(){var t=e.props.guild;null!=t&&(0,b.hk)(t.id)};e.handleClaimAccount=function(){p.j()};e.handleVerifyPhone=function(){(0,u.openModalLazy)(ue((function(){var e,t;return ve(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(11177)]).then(n.bind(n,411177))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,de({reason:W.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:re.M})};e.handleResendVerification=function(){var e;c.Z.verifyResend();var t=null===(e=$.default.getCurrentUser())||void 0===e?void 0:e.email;null!=t&&(0,u.openModal)((function(e){return(0,r.jsx)(u.ConfirmModal,pe(de({},e),{header:E.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:E.Z.Messages.OKAY,confirmButtonColor:u.Button.Colors.BRAND,children:(0,r.jsx)(u.Text,{variant:"text-md/normal",children:E.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:t})})}))}))};e.handleTextAreaClick=function(){
var t=e.props.showLurkerModeUpsellPopout;e.setState({shouldShowLurkerModeUpsellPopout:t})};var o=ae(e);e.handleJoinServer=ue((function(){var e;return ve(this,(function(t){switch(t.label){case 0:o.setState({submitting:!0});e=o.props.channel.getGuildId();t.label=1;case 1:t.trys.push([1,3,,4]);return[4,f.Z.joinGuild(e,{source:ne.vtS.CHAT_INPUT_BLOCKER})];case 2:t.sent();return[3,4];case 3:t.sent();o.setState({submitting:!1});return[3,4];case 4:return[2]}}))}));e.handleGoBack=function(){e.setState({submitting:!0});(0,z.s1)().goBack()};e.handleFollowAnnouncement=function(){var t=e.props.channel;(0,u.openModalLazy)(ue((function(){var e,o;return ve(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(89594)]).then(n.bind(n,189594))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,de({channel:t},e))}]}}))})))};e.closeLurkerModeUpsellPopout=function(){e.setState({shouldShowLurkerModeUpsellPopout:!1})};e.renderLurkerModeUpsellPopout=function(){
var t=e.props.guild;a()(null!=t,"GuildVerification.renderLurkerModeUpsellPopout - guild cannot be undefined");return(0,r.jsx)(V.Z,{type:V.s.CHAT,guild:t,closePopout:e.closeLurkerModeUpsellPopout})};e.renderMemberVerificationSuccessModal=function(){var t=e.props,n=t.guild,o=t.guildJoinRequest,i=(null==o?void 0:o.applicationStatus)===m.wB.APPROVED;if(null==n||null==o||!i||(0,y.d3)(o))return null;var a=function(){return h.Z.ackUserGuildJoinRequest(n.id,o.id)};return(0,r.jsx)(u.Modal,{renderModal:function(e){return(0,r.jsx)(w,pe(de({},e),{onAccept:a,guildName:n.name}))},onCloseRequest:a})};return e}var l=i.prototype;l.componentDidMount=function(){var e=this.props,t=e.isFollowable,n=e.channelFollowingUsersSeen,r=e.channel;t&&null==n&&s.Z.fetchChannelFollowerStats(r.id)};l.componentDidUpdate=function(e){var t=this.props,n=t.shouldShowLurkerModeSuccessPopout,r=t.guild;t.showMemberVerificationModal||e.shouldShowLurkerModeSuccessPopout||!n||null==r||this.setState({
shouldShowLurkerModeSuccessPopout:!0})};l.render=function(){var e=this,t=this.props,i=t.isFollowable,a=t.isLurking,l=t.notClaimed,c=t.notPhoneVerified,s=t.notEmailVerified,f=t.newMember,d=t.memberDeadline,p=t.newAccount,h=t.accountDeadline,y=t.theme,b=t.children,v=t.canSendMessages,g=t.channelFollowingUsersSeen,O=t.showLurkerModeUpsellPopout,C=t.showMemberVerificationModal,S=t.useReducedMotion,j=t.isStaff,_=t.guildJoinRequest,I=this.state,w=I.shouldShowLurkerModeUpsellPopout,P=I.shouldShowLurkerModeSuccessPopout,x={theme:y,useReducedMotion:S};if(i&&!v){x.message=E.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE;if(null!=g&&g>=1e3){var A=1e3*Math.floor(g/1e3);x.subtitle=E.Z.Messages.FOLLOW_NEWS_CHAT_INPUT_SUBTITLE.format({count:A.toLocaleString()})}x.buttonText=E.Z.Messages.FOLLOW;x.onButtonClick=this.handleFollowAnnouncement;x.imageSrc=n(40028);if(a){x.onSecondaryButtonClick=this.handleJoinServer;x.secondaryButtonText=E.Z.Messages.LURKER_MODE_CHAT_INPUT_BUTTON}}else if(l){
x.message=E.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED;x.buttonText=E.Z.Messages.CLAIM_ACCOUNT;x.onButtonClick=C?this.handleShowMemberVerification:this.handleClaimAccount;x.imageSrc=n(976693)}else if(C)switch(null==_?void 0:_.applicationStatus){case m.wB.SUBMITTED:x.message=E.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_TITLE;x.subtitle=E.Z.Messages.MEMBER_VERIFICATION_APPLICATION_CONFIRMATION_SUBTITLE;x.buttonText=E.Z.Messages.MEMBER_VERIFICATION_CANCEL_APPLICATION;x.onButtonClick=this.handleCancelApplication;x.imageSrc=n(312915);break;case m.wB.REJECTED:x.message=E.Z.Messages.MEMBER_VERIFICATION_REJECTED_TITLE;x.buttonText=E.Z.Messages.MEMBER_VERIFICATION_LEARN_MORE;x.onButtonClick=this.handleViewApplicationRejection;x.imageSrc=n(960362);break;default:x.message=E.Z.Messages.MEMBER_VERIFICATION_CHAT_BLOCKER_TEXT;x.buttonText=E.Z.Messages.MEMBER_VERIFICATION_NOTICE_CTA;x.buttonColor=u.ButtonColors.BRAND;x.onButtonClick=this.handleShowMemberVerification
;x.animationSrc=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))}}else if(c&&!j){x.message=E.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED;x.buttonText=E.Z.Messages.VERIFY_PHONE;x.onButtonClick=this.handleVerifyPhone;x.imageSrc=n(470914)}else if(s){x.message=E.Z.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED;x.buttonText=E.Z.Messages.RESEND_VERIFICATION_EMAIL;x.onButtonClick=this.handleResendVerification;x.imageSrc=n(976693)}else if(f){x.message=E.Z.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:ne.fDV.MEMBER_AGE});x.countdown=d}else if(p){x.message=E.Z.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:ne.fDV.ACCOUNT_AGE});x.countdown=h}return(0,r.jsx)(u.Popout,{position:"top",align:"left",shouldShow:P,onRequestClose:function(){return e.setState({shouldShowLurkerModeSuccessPopout:!1})},renderPopout:this.renderSuccessPopout,children:function(t){return(0,r.jsx)(te.Z,pe(de({},x),{children:(0,r.jsxs)(o.Fragment,{
children:[e.renderMemberVerificationSuccessModal(),O?(0,r.jsx)(u.Popout,{renderPopout:e.renderLurkerModeUpsellPopout,shouldShow:w,position:"top",children:function(t){return(0,r.jsx)(u.Clickable,pe(de({},t),{className:ie().clickableChannelTextArea,onClick:e.handleTextAreaClick,children:b}))}}):b]})}))}})};return i}(o.PureComponent);function Oe(e){var t,n,o,i=e.channel,a=e.children,u=i.getGuildId(),c=(0,l.e7)([X.Z],(function(){return X.Z.getGuild(u)})),s=(0,l.e7)([Q.Z],(function(){return Q.Z.getCheck(u)})),f=i.type===ne.d4z.GUILD_ANNOUNCEMENT&&null!=c&&c.hasFeature(ne.oNc.NEWS),p=(0,l.e7)([K.Z],(function(){return f?K.Z.getFollowerStatsForChannel(i.id):null})),h=(0,l.e7)([x.Z],(function(){return x.Z.isLurking(u)})),y=(0,l.e7)([$.default],(function(){return $.default.getCurrentUser()})),b=null!==(t=null==y?void 0:y.isStaff())&&void 0!==t&&t,g=(0,l.e7)([q.ZP],(function(){var e;return null!=y&&(null!==(n=null===(e=q.ZP.getMember(u,y.id))||void 0===e?void 0:e.isPending)&&void 0!==n&&n)
})),O=!!(null==c?void 0:c.hasVerificationGate()),E=(g||s.notClaimed)&&O,C=(0,l.e7)([B],(function(){return B.shouldShowPopout(u)})),S=(0,l.e7)([J.Z],(function(){return J.Z.can(ne.Plq.SEND_MESSAGES,i)})),j=(0,l.e7)([v.Z],(function(){return v.Z.getRequest(u)})),_=pe(de({},s),{guild:c,isLurking:h,isFollowable:f,shouldShowLurkerModeSuccessPopout:C,showLurkerModeUpsellPopout:h&&null!=c&&ee.ZP.canEveryoneRole(ne.Plq.SEND_MESSAGES,i),theme:Y.Z.theme,canSendMessages:S,channelFollowingUsersSeen:null!=p?p.usersSeenEver:null,hasVerificationGate:O,showMemberVerificationModal:E,guildJoinRequestStatus:null!==(o=null==j?void 0:j.applicationStatus)&&void 0!==o?o:m.wB.STARTED,guildJoinRequest:j,useReducedMotion:d.Z.useReducedMotion,isStaff:b});return(0,r.jsx)(ge,pe(de({},_),{channel:i,children:a}))}},976010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(64234),s=n(69085),f=n(633878);function d(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function y(e){
var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=h(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({},(0,f.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M7.19999 18C7.19999 17.3364 6.77 16.8 6.24019 16.8H3.3598C2.82999 16.8 2.39999 17.3364 2.39999 18V20.4C2.39999 21.0636 2.82999 21.6 3.3598 21.6H6.23923C6.76904 21.6 7.19903 21.0636 7.19903 20.4V18H7.19999Z",fill:l,className:u}),(0,r.jsx)("path",{
d:"M14.4 10.6909C14.4 10.0876 13.9699 9.6 13.44 9.6H10.56C10.0301 9.6 9.60001 10.0876 9.60001 10.6909V20.5091C9.60001 21.1124 10.0301 21.6 10.56 21.6H13.44C13.9699 21.6 14.4 21.1124 14.4 20.5091V10.6909Z",fill:l,className:u}),(0,r.jsx)("path",{d:"M21.6 3.46667C21.6 2.8768 21.1699 2.4 20.64 2.4H17.76C17.2301 2.4 16.8 2.8768 16.8 3.46667V20.5333C16.8 21.1232 17.2301 21.6 17.76 21.6H20.64C21.1699 21.6 21.6 21.1232 21.6 20.5333V3.46667Z",fill:l,className:u})]}))}var b=n(2255),m=n(181152),v=n(2590),g=n(126690),O=n.n(g);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return S(e)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var w,P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return _(this,n)}}var A,T,N=(C(w={},v.IE4.UNKNOWN,u.Tooltip.Colors.BLACK),C(w,v.IE4.BAD,u.Tooltip.Colors.RED),C(w,v.IE4.AVERAGE,u.Tooltip.Colors.YELLOW),C(w,v.IE4.FINE,u.Tooltip.Colors.GREEN),w),M=(C(A={},v.QKv.CONNECTED,O().rtcConnectionStatusConnected),C(A,v.QKv.CONNECTING,O().rtcConnectionStatusConnecting),C(A,v.QKv.ERROR,O().rtcConnectionStatusError),A),Z=(C(T={},v.IE4.FINE,O().rtcConnectionQualityFine),C(T,v.IE4.AVERAGE,O().rtcConnectionQualityAverage),C(T,v.IE4.BAD,O().rtcConnectionQualityBad),C(T,v.IE4.UNKNOWN,null),T),L=l.ZP.connectStores([s.Z,c.Z],(function(){return{theme:c.Z.theme,connectionState:s.Z.getState(),hostname:s.Z.getHostname(),averagePing:s.Z.getAveragePing(),lastPing:s.Z.getLastPing(),outboundLossRate:s.Z.getOutboundLossRate(),pings:s.Z.getPings()}}))(m.Z);const R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=x(n);function n(){E(this,n);var e;(e=t.apply(this,arguments)).renderPopout=function(e){return(0,r.jsx)(L,j({},e))};return e}var o=n.prototype;o.renderPopoutTarget=function(e){return(0,r.jsx)(u.Popout,{renderPopout:this.renderPopout,position:"top",children:e})};o.renderStatus=function(){var e=this.props,t=e.statusTextClassName,n=e.hasVideo,o=e.state,i=b.Z.getStatus(o,n),l=i.connectionStatus,c=i.connectionStatusText;return this.renderPopoutTarget((function(e){var n=e.onClick;return(0,r.jsx)(u.Button,{look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,className:a()(t,M[l]),onClick:n,children:c})}))};o.render=function(){var e,t=this.props,n=t.quality,o=t.smallPing,i=t.lastPing,l=t.state,c=t.className,s=t.children;l===v.hes.RTC_CONNECTED&&(e=(0,r.jsx)(u.Tooltip,{text:n!==v.IE4.UNKNOWN&&null!=i?"".concat(i.toFixed(0)," ms"):null,color:N[n],children:function(e){return(0,
r.jsx)(y,j({className:a()(O().ping,C({},O().smallPing,o)),foreground:O().pingForeground},e))}}));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:a()(O().rtcConnectionStatus,Z[n],c),children:[e,(0,r.jsx)("div",{className:O().labelWrapper,children:this.renderStatus()})]}),s]})};return n}(o.PureComponent)},879639:(e,t,n)=>{"use strict";n.d(t,{RE:()=>ge,PZ:()=>Oe,Qj:()=>me});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(473727),s=n(457217),f=n(289283),d=n(202351),p=n(945460),h=n(761953),y=n(971402),b=n(503370),m=n(790165),v=n(995141),g=n(959468),O=n(621647),E=n(773011),C=n(419051),S=n(289903),j=n(177570),_=n(491260),I=n(717091),w=n(788169),P=n(9430),x=n(473903),A=n(609853),T=n(971611),N=n(860917),M=n.n(N);function Z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function L(e){
var t,n=e.selected,o=e.muted,i=void 0!==o&&o,l=e.highlighted,u=void 0!==l&&l,c=e.wrapContent,s=void 0!==c&&c,f=e.avatar,d=e.decorators,p=e.name,h=e.subText,y=e.avatarClassName,b=e.innerClassName;return(0,r.jsxs)("div",{className:a()(b,M().layout,(t={},Z(t,M().muted,!n&&i),Z(t,M().highlighted,u),Z(t,M().wrappedLayout,s),t)),children:[(0,r.jsx)("div",{className:a()(M().avatar,y),children:f}),(0,r.jsxs)("div",{className:M().content,children:[(0,r.jsxs)("div",{className:M().nameAndDecorators,children:[(0,r.jsx)("div",{className:a()(M().name,Z({},M().wrappedName,s)),children:p}),d]}),null!=h?(0,r.jsx)("div",{className:M().subText,children:h}):null]})]})}var R=n(29476),D=n.n(R);function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))}return e}function B(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const G=o.forwardRef((function(e,t){var n=e.className,o=e.focusProps,i=F(e,["className","focusProps"]);return(0,r.jsx)(p.FocusRing,B(U({},o),{children:(0,r.jsx)("li",B(U({className:a()(n,D().container)},i),{ref:t}))}))}));var H=n(189865),V=n(82677),W=n(775173),z=n(310126),Y=n(106555),K=n(272362),q=n(2590),X=n(473708),Q=n(406985),J=n.n(Q);function $(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$(i,r,o,a,l,"next",e)}function l(e){$(i,r,o,a,l,"throw",e)}a(void 0)}))}}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function re(e){
re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return re(e)}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ce(e,t)}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ne(e,t,n[t])}))}return e}function ae(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function le(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ue(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e,t){ce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ce(e,t)}var se=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}var de=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue
;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},pe=z.default.getEnableHardwareAcceleration()?p.AnimatedAvatar:p.Avatar,he={offset:{top:2,bottom:2,right:4}},ye=function(e){return(0,r.jsx)(p.Clickable,ae(ie({className:J().closeButton},e),{focusProps:{offset:{top:-2,bottom:-2,left:-2,right:6}},children:(0,r.jsx)(H.Z,{className:J().closeIcon})}))},be=function(){return(0,r.jsx)(V.Z,{className:J().favoriteIcon})},me=function(e){oe(n,e);var t=fe(n);function n(){te(this,n);return t.apply(this,arguments)}n.prototype.render=function(){
var e=this.props,t=e.route,n=e.selected,o=e.icon,i=e.iconClassName,l=e.text,u=e.children,s=e.locationState,d=e.onClick,h=e.className,y=e.role,b=e["aria-posinset"],m=e["aria-setsize"],v=le(e,["route","selected","icon","iconClassName","text","children","locationState","onClick","className","role","aria-posinset","aria-setsize"]);return(0,r.jsx)(G,{className:a()(J().channel,ne({},J().fullWidth,f.tq),h),onClick:d,role:y,focusProps:ie({within:!0},he),"aria-posinset":b,"aria-setsize":m,children:(0,r.jsx)(p.Interactive,{as:"div",selected:n,className:a()(J().interactive,J().linkButton,ne({},J().interactiveSelected,n)),children:(0,r.jsxs)(c.rU,ae(ie({to:{pathname:t,state:s},className:J().link},v),{children:[(0,r.jsx)(L,{selected:n,muted:!1,avatar:(0,r.jsx)(o,{className:a()(J().linkButtonIcon,i)}),name:l,innerClassName:J().avatarWithText}),u]}))})})};return n}(o.Component),ve=function(e){oe(i,e);var t=fe(i);function i(){te(this,i);var e;(e=t.apply(this,arguments)).state={hovered:!1}
;e._linkRef=o.createRef();e._listItemRef=o.createRef();e.handleMouseEnter=function(){e.setState({hovered:!0})};e.handleMouseLeave=function(){e.setState({hovered:!1})};e.handleClose=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=t){t.preventDefault();t.stopPropagation()}var r=e.props.channel;h.Z.closePrivateChannel(r.id,e.props.selected,n)};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.selected,l=o.user;i.isMultiUserDM()?(0,y.jW)(t,ee((function(){var e,t;return de(this,(function(o){switch(o.label){case 0:return[4,n.e(13035).then(n.bind(n,413035))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ae(ie({},e),{channel:i,selected:a}))}]}}))})),{noBlurEvent:!0}):(0,y.jW)(t,ee((function(){var e,t;return de(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(50865)]).then(n.bind(n,550865))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ae(ie({},e),{user:l,
channel:i,channelSelected:a}))}]}}))})))};e.handleLeaveGroup=function(t){t.preventDefault();t.stopPropagation();var n=e.props,o=n.channel,i=n.channelName,a=X.Z.Messages.LEAVE_GROUP_DM_TITLE.format({name:i}),l=X.Z.Messages.LEAVE_GROUP_DM_BODY.format({name:i});if(o.isManaged()){a=X.Z.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:i});l=X.Z.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:i})}(0,p.openModal)((function(t){return(0,r.jsx)(K.Z,ie({header:a,body:l,onSubmit:e.handleClose},t))}))};e.handleMouseDown=function(){h.Z.preload(q.ME,e.props.channel.id)};e.handleCloseButtonMouseDown=function(e){e.stopPropagation()};e.onContainerClick=function(t){if(t.target===t.currentTarget){var n;null===(n=e._linkRef.current)||void 0===n||n.click()}};return e}var l=i.prototype;l.renderSubtitle=function(){var e=this.props,t=e.channel,n=e.activities,o=e.applicationStream,i={className:J().activity,textClassName:J().activityText,emojiClassName:J().activityEmoji};return t.isSystemDM()?(0,
r.jsx)("div",{className:J().subtext,children:X.Z.Messages.SYSTEM_DM_ACTIVITY_TEXT}):t.isMultiUserDM()?(0,r.jsx)("div",{className:J().subtext,children:X.Z.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1})}):null!=n?(0,r.jsx)(Y.Z,ae(ie({},i),{activities:n,applicationStream:o,animate:this.state.hovered,hideTooltip:!0})):null};l.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,o=e.status,i=e.activities,a=e.isTyping,l=e.isMobile,c=e.canRenderAvatarDecorations,s=void 0!==c&&c;if(t.isMultiUserDM())return(0,r.jsx)(pe,{src:(0,O.x)(t),"aria-hidden":!0,className:J().avatar,size:p.AvatarSizes.SIZE_32});u()(null!=n,"PrivateChannel.renderAvatar: Invalid prop configuration - no user or channel");var f=null;n.isSystemUser()||(f=(0,b.Z)(i)?q.Skl.STREAMING:o);var d=s?(0,W.NZ)({userId:n.id,avatarDecoration:n.avatarDecoration,size:(0,v.y)(p.AvatarSizes.SIZE_32)}):null;return(0,r.jsx)(pe,{size:p.AvatarSizes.SIZE_32,src:n.getAvatarURL(void 0,32),avatarDecoration:d,status:f,
isMobile:l,isTyping:a,className:J().avatar,"aria-label":n.username,statusTooltip:!0})};l.render=function(){var e=this,t=this.props,n=t.channel,o=t.channelName,i=t.selected,l=t.muted,u=t.hasUnreadMessages,f=t.isFavorite,d=n.isMultiUserDM(),h=n.isSystemDM(),y=(0,S.Q)();return(0,r.jsx)(s.mh,{id:n.id,children:function(t){var s,b=t.role,m=le(t,["role"]);return(0,r.jsx)(G,{className:J().channel,role:b,focusProps:ae(ie({},he),{focusTarget:e._linkRef,ringTarget:e._listItemRef}),ref:e._listItemRef,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onMouseDown:e.handleMouseDown,onContextMenu:e.handleContextMenu,"aria-setsize":e.props["aria-setsize"],"aria-posinset":e.props["aria-posinset"],children:(0,r.jsxs)(p.Interactive,{className:a()(J().interactive,(s={},ne(s,J().interactiveSystemDM,y&&h),ne(s,J().interactiveSelected,i),s)),as:"div",onClick:e.onContainerClick,muted:l,selected:i,children:[(0,r.jsx)(c.rU,ae(ie({innerRef:e._linkRef,to:q.Z5c.CHANNEL(q.ME,n.id),className:J().link,
"aria-label":(0,g.Z)({channel:n,unread:u})},m),{children:(0,r.jsx)(L,{avatar:e.renderAvatar(),selected:i,highlighted:u,muted:null!=l&&l,subText:e.renderSubtitle(),name:(0,r.jsx)(T.Z,{children:o}),decorators:n.isSystemDM()?(0,r.jsx)(A.Z,{className:J().decorator,type:A.Z.Types.SYSTEM_DM,verified:!0}):null})})),f?(0,r.jsx)(be,{}):null,!h&&(0,r.jsx)(ye,{"aria-label":d?X.Z.Messages.LEAVE_GROUP_DM:X.Z.Messages.CLOSE_DM,onClick:d?e.handleLeaveGroup:e.handleClose,onMouseDown:e.handleCloseButtonMouseDown})]})})}})};return i}(o.PureComponent);ve.defaultProps={selected:!1};var ge=function(e){var t=e.channel,n=e.selected,o=le(e,["channel","selected"]),i=(0,d.e7)([x.default],(function(){return x.default.getUser(t.getRecipientId())})),a=(0,d.cj)([_.Z,j.Z],(function(){return{status:null!=i?_.Z.getStatus(i.id):null,activities:null!=i?_.Z.getActivities(i.id):null,applicationStream:null!=i?j.Z.getAnyStreamForUser(i.id):null,isMobile:null!=i&&_.Z.isMobileOnline(i.id)}}),[null==i?void 0:i.id]),l=(0,
d.e7)([w.Z],(function(){return null!=i?w.Z.isTyping(t.id,t.getRecipientId()):void 0})),u=(0,d.e7)([P.Z],(function(){return P.Z.isChannelMuted(t.getGuildId(),t.id)})),c=(0,d.e7)([I.ZP],(function(){return I.ZP.getMentionCount(t.id)>0})),s=(0,E.ZP)(t),f=(0,m.L)(),p=(0,d.e7)([C.Z],(function(){return C.Z.isFavorite(t.id)}));return(0,r.jsx)(ve,ie({channel:t,channelName:s,selected:n,user:i,isTyping:l,muted:u,hasUnreadMessages:c,canRenderAvatarDecorations:f,isFavorite:p},o,a))},Oe=function(e){var t=e.channel,n=e.selected,o=le(e,["channel","selected"]),i=(0,d.e7)([P.Z],(function(){return P.Z.isChannelMuted(t.getGuildId(),t.id)})),a=(0,d.e7)([I.ZP],(function(){return I.ZP.getMentionCount(t.id)>0})),l=(0,E.ZP)(t),u=(0,d.e7)([C.Z],(function(){return C.Z.isFavorite(t.id)}));return(0,r.jsx)(ve,ie({channel:t,channelName:l,selected:n,muted:i,hasUnreadMessages:a,isFavorite:u},o))}},272362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=n(667294),i=n(945460),a=n(473708),l=n(168891),u=n.n(l)
;function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){
var t=e.header,n=e.body,l=e.onSubmit,c=d(e,["header","body","onSubmit"]),h=p(o.useState(!1),2),y=h[0],b=h[1];return(0,r.jsxs)(i.ConfirmModal,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({header:t,confirmText:a.Z.Messages.LEAVE_GROUP_DM,cancelText:a.Z.Messages.CANCEL,onConfirm:function(){l(null,y)}},c),{children:[(0,r.jsx)(i.Text,{variant:"text-md/normal",children:n}),(0,r.jsx)(i.Checkbox,{type:i.Checkbox.Types.INVERTED,value:y,onChange:function(){return b((function(e){return!e}))},className:u().checkbox,children:(0,r.jsx)(i.Text,{variant:"text-md/normal",children:a.Z.Messages.LEAVE_GROUP_DM_SILENTLY})})]}))}},284952:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z})
;var r=n(785893),o=n(667294),i=n(823493),a=n.n(i),l=n(457217),u=n(798159),c=n(202351),s=n(199731),f=n(945460),d=n(216151),p=n(316878),h=n(396043),y=n(29891),b=n(76107),m=n(996344),v=n(442658),g=n(48315),O=n(64234),E=n(61209),C=n(491260),S=n(796909),j=n(443812),_=n(795909),I=n(202237),w=n(879639),P=n(2590),x=n(473708),A=n(582095),T=n.n(A);function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Z(e){Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Z(e)}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M(e,t,n[t])
}))}return e}function R(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function k(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}var B=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var G,H=44;!function(e){e[e.PAGES=0]="PAGES";e[e.DMS=1]="DMS"}(G||(G={}));var V=o.memo((function(){return(0,r.jsxs)("svg",{width:"184",height:"428",viewBox:"0 0 184 428",className:T().empty,children:[(0,r.jsx)("rect",{x:40,y:6,width:144,height:20,rx:10}),(0,
r.jsx)("circle",{cx:16,cy:16,r:16}),(0,r.jsx)("rect",{x:40,y:50,width:144,height:20,rx:10,opacity:.9}),(0,r.jsx)("circle",{cx:16,cy:60,r:16,opacity:.9}),(0,r.jsx)("rect",{x:40,y:94,width:144,height:20,rx:10,opacity:.8}),(0,r.jsx)("circle",{cx:16,cy:104,r:16,opacity:.8}),(0,r.jsx)("rect",{x:40,y:138,width:144,height:20,rx:10,opacity:.7}),(0,r.jsx)("circle",{cx:16,cy:148,r:16,opacity:.7}),(0,r.jsx)("rect",{x:40,y:182,width:144,height:20,rx:10,opacity:.6}),(0,r.jsx)("circle",{cx:16,cy:192,r:16,opacity:.6}),(0,r.jsx)("rect",{x:40,y:226,width:144,height:20,rx:10,opacity:.5}),(0,r.jsx)("circle",{cx:16,cy:236,r:16,opacity:.5}),(0,r.jsx)("rect",{x:40,y:270,width:144,height:20,rx:10,opacity:.4}),(0,r.jsx)("circle",{cx:16,cy:280,r:16,opacity:.4}),(0,r.jsx)("rect",{x:40,y:314,width:144,height:20,rx:10,opacity:.3}),(0,r.jsx)("circle",{cx:16,cy:324,r:16,opacity:.3}),(0,r.jsx)("rect",{x:40,y:358,width:144,height:20,rx:10,opacity:.2}),(0,r.jsx)("circle",{cx:16,cy:368,r:16,opacity:.2}),(0,
r.jsx)("rect",{x:40,y:402,width:144,height:20,rx:10,opacity:.1}),(0,r.jsx)("circle",{cx:16,cy:412,r:16,opacity:.1})]})})),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&U(e,t)}(n,e);var t=F(n);function n(){N(this,n);var e;(e=t.apply(this,arguments)).state={initialized:!1,preRenderedChildren:0,totalRowCount:0,nonNullChildren:[]};e._list=null;e.hasReportedAnalytics=!1;e.reportAnalytics=function(){var t;if(!e.hasReportedAnalytics){var n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState();if(null!=n){var r=e.props,i=r.privateChannelIds,a=r.channels;if(0!==i.length){var l=o.Children.count(e.props.children),u=H*l;if(null!=n){var c=Math.round((n.offsetHeight-u)/H),s=c>i.length?i.slice(0,c+1):i,f=s.map((function(e){return null!=a[e]?a[e].getRecipientId():null})),d={num_users_visible:s.length,
num_users_visible_with_mobile_indicator:f.filter((function(e){return null!=e&&C.Z.isMobileOnline(e)})).length};e.hasReportedAnalytics=!0;h.ZP.trackWithMetadata(P.rMx.DM_LIST_VIEWED,L({},d))}}}}};e.getSectionHeight=function(t){var n=e.props.showDMHeader;return t===G.PAGES?0:n?40:0};e.handleScroll=a()((function(){if(null!=e._list){var t=e._list.getScrollerNode();null!=t&&d.Z.updateChannelListScroll(P.ME,t.scrollTop)}}),100);e.renderDM=function(t,n){var o=e.props,i=o.privateChannelIds,a=o.channels,l=o.selectedChannelId,u=e.state,c=u.totalRowCount,s=u.preRenderedChildren,f=a[i[n]];if(null==f)return null;var d=f.isMultiUserDM()?w.PZ:w.RE;return(0,r.jsx)(d,{channel:f,selected:f.id===l,"aria-posinset":s+n+1,"aria-setsize":c},f.id)};e.renderChild=function(t){var n=e.state,r=n.nonNullChildren,i=n.totalRowCount,a=r[t];return o.isValidElement(a)?o.cloneElement(a,{"aria-setsize":i,"aria-posinset":t+1}):a};e.renderRow=function(t){var n=t.section,o=t.row,i=e.props.privateChannelIds
;return n===G.PAGES?e.renderChild(o):0===o&&0===i.length?(0,r.jsx)(V,{},"no-private-channels"):e.renderDM(n,o)};e.renderSection=function(t){var n=t.section,o=e.props.showDMHeader;return n!==G.PAGES&&o?(0,r.jsxs)(I.Z,{className:T().privateChannelsHeaderContainer,children:[(0,r.jsx)("span",{className:T().headerText,children:x.Z.Messages.DIRECT_MESSAGES}),(0,r.jsx)(b.Z,{tooltip:x.Z.Messages.CREATE_DM,tooltipPosition:"top",popoutAlign:"left",iconClassName:T().privateChannelRecipientsInviteButtonIcon,icon:_.Z,subscribeToGlobalHotkey:!0})]},n):null};e.getRowHeight=function(t,n){var r=e.props.privateChannelIds;return t===G.DMS&&0===n&&0===r.length?428:H};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t);this.reportAnalytics()};i.shouldComponentUpdate=function(e){return!(0,s.Z)(this.props,e,["children"])};i.componentDidUpdate=function(e){
var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null);this.reportAnalytics()};i.scrollToChannel=function(e){if(null!=this._list){var t=this.props.padding,n=this.state.preRenderedChildren,r=null!=e?this.props.privateChannelIds.indexOf(e):-1,o=0;if(r<0||null==e)this._list.scrollTo({to:o});else{o+=H*(r+n)+t;this._list.scrollIntoViewRect({start:Math.max(o-8,0),end:o+H+8})}}};i.render=function(){var e=this,t=this.props,n=t.privateChannelIds,o=t.padding,i=this.state.preRenderedChildren;return(0,r.jsx)(l.SJ,{children:function(t){var a=t.ref,l=t.role,u=D(t,["ref","role"]);return(0,r.jsx)(f.FocusJumpSection,{children:function(t){return(0,r.jsx)(f.List,L({fade:!0,innerRole:l,innerAriaLabel:x.Z.Messages.DIRECT_MESSAGES,innerTag:"ul",ref:function(t){e._list=t;e.props.listRef.current=t;var n;a.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null},onScroll:e.handleScroll,
className:T().scroller,sectionHeight:e.getSectionHeight,paddingTop:o,paddingBottom:8,rowHeight:e.getRowHeight,renderSection:e.renderSection,renderRow:e.renderRow,sections:[i,Math.max(n.length,1)]},u,t))}})}})};n.getDerivedStateFromProps=function(e){var t=e.children,n=e.privateChannelIds;if(null==t)return{preRenderedChildren:0,nonNullChildren:[],totalRowCount:n.length};var r=t.filter((function(e){return null!=e})),o=r.length;return{preRenderedChildren:o,nonNullChildren:r,totalRowCount:o+n.length}};return n}(o.Component);W.defaultProps={padding:8};const z=function(e){var t=e.version,n=e.theme,i=e.children,a=e.showDMHeader,s=o.Children.count(i),f=E.Z.getMutablePrivateChannels(),d=(0,v.k1)(f),h=(0,c.Wu)([S.Z,m.Z,g.Z],(function(){var e=S.Z.getPrivateChannelIds(),t=(0,v.tU)(e,[m.Z,g.Z]);return(0,y.Ce)(t)}),[]),b=(0,c.cj)([p.Z,O.Z,E.Z],(function(){return{theme:O.Z.darkSidebar?P.BRd.DARK:n,keyboardModeEnabled:p.Z.keyboardModeEnabled,
version:null!=t?"".concat(t,":").concat(E.Z.getPrivateChannelsVersion()):E.Z.getPrivateChannelsVersion()}})),C=o.useRef(null),_=o.useCallback((function(e){var t=C.current,n=document.querySelector(e);null!=t&&null!=n&&t.scrollIntoViewNode({node:n,callback:function(){requestAnimationFrame((function(){var t;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus({preventScroll:!0})}))}})}),[]),I=o.useCallback((function(){return new Promise((function(e){var t=C.current;if(null==t)return e();t.scrollToTop({callback:function(){return requestAnimationFrame((function(){return e()}))}})}))}),[]),w=o.useCallback((function(){return new Promise((function(e){var t=C.current;if(null==t)return e();t.scrollToBottom({callback:function(){requestAnimationFrame((function(){return setTimeout(e,100)}))}})}))}),[]),x=s+(a?1:0),A=(0,j.Dt)(),T=(0,u.ZP)({id:"private-channels-".concat(A),isEnabled:b.keyboardModeEnabled,scrollToStart:I,scrollToEnd:w,defaultFocused:x.toString(),setFocus:_})
;return(0,r.jsx)(l.bG,{navigator:T,children:(0,r.jsx)(W,L(R(L({channels:d,privateChannelIds:h,listRef:C,theme:n,version:t},e),{children:i}),b))})}},181152:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(539519),u=n(945460),c=n(797364),s=n(928733),f=n(968449),d=n(604945),p=n(188084),h=n(824456),y=n(652591),b=n(691797),m=n(348592),v=n(2255),g=n(2590),O=n(36256),E=n(473708),C=n(388209),S=n.n(C);function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var _=function(){d.Z.getMediaEngine().once(l.aB.ConnectionStats,(function(e){var t=Object.values(O.Yn).map((function(t){var n=e.filter((function(e){return e.connection.context===t})).map((function(e,n){var r=e.stats;r.context=t;r.index=n;return r})),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u,c=a.value
;null!=(null==c||null===(u=c.transport)||void 0===u?void 0:u.localAddress)&&(c.transport.localAddress="(redacted)")}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n})).filter((function(e){return e.length>0}));(0,b.JG)(JSON.stringify(t,null,2));(0,u.showToast)((0,u.createToast)(E.Z.Messages.COPIED,u.ToastType.SUCCESS))}))};const I=function(e){(0,o.useEffect)((function(){y.default.track(g.rMx.OPEN_POPOUT,{type:"RTC Connection"})}),[]);var t,n=(0,o.useCallback)((function(){var t=e.closePopout;null!=t&&t();c.bA()}),[e]),i=(0,o.useCallback)((function(){var t=e.hostname,n=e.averagePing,i=e.lastPing,l=e.outboundLossRate,u=f.Sb.getSetting();return(0,r.jsxs)(o.Fragment,{children:[u&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:S().graphContainer,children:(0,r.jsx)(s.Z,{dataPoints:e.pings,width:258,height:80})}),(0,r.jsx)("div",{className:S().popoutText,children:(0,r.jsx)("strong",{children:v.Z.getShortHostname(t)})})]}),(0,r.jsx)("div",{
className:S().popoutText,children:E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_AVERAGE_PING.format({averagePing:n.toFixed(0)})}),null!=i?(0,r.jsx)("div",{className:S().popoutText,children:E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LAST_PING.format({lastPing:i.toFixed(0)})}):null,null!=l?(0,r.jsx)("div",{className:S().popoutText,children:E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_VALUE.format({outboundLossRate:l.toFixed(1)})}):null,(0,r.jsxs)("div",{className:a()(S().popoutText,S().popoutTextDetails),children:[null==l?E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS.format({badPing:250}):null,null!=l?E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS_WITH_LOSS.format({badPing:250,badLossRate:10}):null]})]})}),[e]),l=e.connectionState,b=f.Sb.getSetting(),C=(t={},j(t,g.hes.AWAITING_ENDPOINT,E.Z.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:g.yXt.STATUS})),j(t,g.hes.CONNECTING,E.Z.Messages.RTC_CONNECTION_STATE_CONNECTING),
j(t,g.hes.AUTHENTICATING,E.Z.Messages.RTC_CONNECTION_STATE_AUTHENTICATING),j(t,g.hes.DISCONNECTED,E.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED),j(t,g.hes.RTC_CONNECTING,E.Z.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING),j(t,g.hes.ICE_CHECKING,E.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:m.Z.getArticleURL(g.BhN.VOICE_CONNECTION_ERRORS)})),j(t,g.hes.DTLS_CONNECTING,E.Z.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:m.Z.getArticleURL(g.BhN.VOICE_CONNECTION_ERRORS)})),j(t,g.hes.RTC_CONNECTED,i),j(t,g.hes.NO_ROUTE,E.Z.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:m.Z.getArticleURL(g.BhN.VOICE_CONNECTION_ERRORS)})),j(t,g.hes.RTC_DISCONNECTED,E.Z.Messages.RTC_CONNECTION_STATE_DISCONNECTED),t)[l];return(0,r.jsx)("div",{className:S().container,children:(0,r.jsxs)("section",{className:S().section,children:["function"==typeof C?C():(0,r.jsx)("p",{className:a()(S().popoutText,S().popoutTextDetails),children:C}),(0,r.jsx)("hr",{className:S().separator}),(0,
r.jsxs)("div",{className:S().popoutBottom,children:[(0,r.jsx)("span",{className:S().secured,children:E.Z.Messages.SECURE_CONNECTION}),b&&d.Z.supports(O.AN.DIAGNOSTICS)&&!__OVERLAY__&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u.Anchor,{className:S().debugButton,onClick:n,children:[E.Z.Messages.DEBUG,(0,r.jsx)(h.Z,{className:S().launchIcon,width:12,height:12})]}),(0,r.jsxs)(u.Anchor,{className:S().copyStatsButton,onClick:_,title:"Copy to clipboard",children:[E.Z.Messages.COPY_STATS,(0,r.jsx)(p.Z,{className:S().copyIcon,width:12,height:12})]})]}),!b&&!__OVERLAY__&&(0,r.jsx)(u.Anchor,{className:S().debugButton,href:m.Z.getArticleURL(g.BhN.VOICE_VIDEO_TROUBLESHOOTING),children:E.Z.Messages.LEARN_MORE})]})]})})}},963429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(513328);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=f(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e))._interval=new o.Xp;r.update=function(){
var e=r.props,t=e.onUpdate,n=e.numUpdatesToShow,o=e.pointsToSmooth,i=e.updateInterval,a=r.props.getHistoricalTotalBytes(),l=null!=a[0]?a[0].bytes:0,u=c(r.state.deltaBytes.slice(1,n+o)).concat([l-r.state.lastTotalBytes]);r.setState({deltaBytes:u,smoothedDeltaBytes:r.smoothDeltaBytes(u),lastTotalBytes:l},(function(){return null!=t&&t(i)}))};var i=r.props.getHistoricalTotalBytes(),a=r.calculateInitialDeltaBytes(i);r.state={deltaBytes:a,smoothedDeltaBytes:r.smoothDeltaBytes(a),lastTotalBytes:null!=i[0]?i[0].bytes:0};return r}var r=n.prototype;r.componentDidMount=function(){this.update();this._interval.start(this.props.updateInterval,this.update)};r.componentWillUnmount=function(){this._interval.stop()};r.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,o=t.pointsToSmooth,i=Date.now(),a=0,l=0,u=[],c=null!=e[0]?e[0].bytes:0;a<n+o;a++){for(var s=i-(a+1)*r,f=void 0;l<e.length&&(f=e[l]).timestamp>s;)l++;if(l===e.length)break;if(null!=f){
u.push(c-f.bytes);c=f.bytes}}for(;a<n+o;a++)u.push(0);u.reverse();return u};r.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var o=0,i=0;i<t;i++)o+=e[r+i];n.push(o/t)}return n};r.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)};return n}(r.Component);d.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};const p=d},576725:(e,t,n)=>{"use strict";n.d(t,{E:()=>G,Z:()=>H});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(853158),u=n(202351),c=n(336194),s=n(443660),f=n(945460),d=n(784426),p=n(959207),h=n(713094),y=n(454708),b=n(686910),m=n(898652),v=n(954419),g=n(963429),O=n(2590),E=n(473708),C=n(459874),S=n.n(C);function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){
I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&N(e,t)}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function T(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e,t){N=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return N(e,t)}var M=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var L,R,D,k,U=(_(k={},O.vxO.INSTALLING,(_(L={},b.J6.NONE,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})})),_(L,b.J6.SECONDS,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})})),_(L,b.J6.MINUTES,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})})),_(L,b.J6.HOURS,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})})),L)),_(k,O.vxO.UPDATING,(_(R={},b.J6.NONE,(function(e,t){
return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})})),_(R,b.J6.SECONDS,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})})),_(R,b.J6.MINUTES,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})})),_(R,b.J6.HOURS,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})})),R)),_(k,O.vxO.REPAIRING,(_(D={},b.J6.NONE,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})})),_(D,b.J6.SECONDS,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})})),_(D,b.J6.MINUTES,(function(e,t){return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})})),_(D,b.J6.HOURS,(function(e,t){
return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})})),D)),k),B=function(e){w(n,e);var t=Z(n);function n(){j(this,n);var e;(e=t.apply(this,arguments)).renderProgressBody=function(t,n){var r=e.props,o=r.state,i=r.application,a=o.stage,l=o.progress,u=o.total,c=o.type;if(null==l||null==u||null==a)return null;var s=t[t.length-1]/n*1e3,f=u-l,d=0!==s?Math.max(1,f/s):null,p=null!=d?d/60:null,h=U[c],y=null!=h?Object.keys(h):[],m=(0,b.CI)(p,y),v=m.unit,g=m.time;if(null!=h&&null!=v){var O=h[v];return null!=O?O(i.name,g):null}return null};return e}var o=n.prototype;o.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===O.vxO.UPDATING||t.type===O.vxO.REPAIRING||t.type===O.vxO.INSTALLING){if(n)return E.Z.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===O.f07.PATCHING||t.stage===O.f07.REPAIRING)return(0,r.jsx)(g.Z,{getHistoricalTotalBytes:h.Z.getHistoricalTotalBytesWritten,updateInterval:5e3,
children:this.renderProgressBody})}return null};o.render=function(){var e=this.renderText();return null!=e?e:E.Z.Messages.LIBRARY};return n}(o.PureComponent),F=function(e){w(n,e);var t=Z(n);function n(){j(this,n);var e;(e=t.apply(this,arguments)).state={animationScale:new l.Z.Value(0)};e.handleOnClick=function(t){var n=e.props.onClick;t.preventDefault();t.stopPropagation();null!=n&&n(t);(0,d.uL)(O.Z5c.APPLICATION_LIBRARY)};return e}var o=n.prototype;o.componentWillAppear=function(e){this.state.animationScale.setValue(1);e()};o.componentWillEnter=function(e){l.Z.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)};o.componentWillLeave=function(e){l.Z.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)};o.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,o=e.isPaused;return null==t||null==n?E.Z.Messages.LIBRARY:(0,r.jsx)(B,{application:t,state:n,isPaused:o})};o.render=function(){
var e=this.props,t=e.percent,n=e.isPaused,o=e.className;return(0,r.jsx)(l.Z.div,{style:{transform:[{scale:this.state.animationScale}]},className:a()(o,S().progressContainer),onClick:this.handleOnClick,children:(0,r.jsx)(f.Tooltip,{text:this.getTooltipText(),position:"right","aria-label":!1,children:function(e){return(0,r.jsx)("div",x(P({},e),{children:(0,r.jsx)(f.ProgressCircle,{percent:t,colorOverride:n?c.Z.unsafe_rawColors.PRIMARY_500.css:null,children:(0,r.jsx)(m.Z,{className:S().downloadIcon})})}))}})})};return n}(o.PureComponent);F.defaultProps={strokeSize:f.ProgressCircle.StrokeSizes.MEDIUM};function G(e,t){return e.reduce((function(e,n){var r=n.applicationId,o=n.branchId,i=t.getState(r,o);null!=i&&e.push(i);return e}),[])}const H=u.ZP.connectStores([y.Z,p.Z,h.Z],(function(){var e=y.Z.activeItems,t=G(e,h.Z),n=v.lK(t),r=n.total,o=n.progress;return{percent:v.xI(o,r),isPaused:y.Z.paused,firstApplication:e.length>0?p.Z.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}
}))((function(e){var t=e.determineOwnVisibility,n=void 0===t||t,i=A(e,["determineOwnVisibility"]);return n?(0,r.jsx)(s.Z,{component:o.Fragment,children:i.percent>0&&i.percent<100?(0,r.jsx)(F,P({},i)):null}):(0,r.jsx)(F,P({},i))}))},910878:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>d});var r=n(785893),o=(n(667294),n(945460)),i=n(773011),a=n(473708),l=n(407945),u=n.n(l);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=e.channel,n=e.category,l=f(e,["channel","category"]),d=(0,i.ZP)(t,!0),p=(0,i.ZP)(n);return(0,r.jsx)(o.ConfirmModal,s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({header:a.Z.Messages.CONFIRM_CHANNEL_DRAG_TITLE,confirmText:a.Z.Messages.SYNC_PERMISSIONS,cancelText:a.Z.Messages.KEEP_PERMISSIONS,confirmButtonColor:o.Button.Colors.BRAND},l),{children:(0,
r.jsx)(o.Text,{variant:"text-md/normal",className:u().message,selectable:!1,children:a.Z.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:d,categoryName:p})})}))}},800296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ze});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(202351),s=n(418705),f=n(336194),d=n(945460),p=n(846334),h=n(429041),y=n(658689),b=n(316878),m=n(582762),v=n(258104),g=n(545580),O=n(874593),E=n(228667),C=n(335072),S=n(754693),j=n(516659),_=n(99827),I=n(293078);function w(){return(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_1378_82282)",children:[(0,r.jsx)("path",{
d:"M8.00009 15.4171C12.0001 15.4171 14.8572 14 14.8572 10.8457C14.8572 7.41711 12.9286 5.21429 9.5 3.5L11.0629 1.67997C11.1315 1.56599 11.1686 1.43593 11.1707 1.30296C11.1727 1.16999 11.1396 1.03885 11.0746 0.922821C11.0096 0.806793 10.9151 0.710005 10.8007 0.642268C10.6862 0.57453 10.5559 0.538252 10.4229 0.537109H5.57723C5.44425 0.538252 5.31394 0.57453 5.1995 0.642268C5.08506 0.710005 4.99057 0.806793 4.92559 0.922821C4.86062 1.03885 4.82747 1.16999 4.82951 1.30296C4.83156 1.43593 4.86872 1.56599 4.93723 1.67997L6.5 3.5C3.07143 5.22571 1.14294 7.43997 1.14294 10.8685C1.14294 14 4.00009 15.4171 8.00009 15.4171Z",fill:"#B9BBBE",stroke:"#B9BBBE",strokeWidth:"1.14286",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsxs)("g",{clipPath:"url(#clip1_1378_82282)",children:[(0,r.jsx)("mask",{id:"path-2-inside-1_1378_82282",fill:"white",children:(0,r.jsx)("path",{
d:"M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z"})}),(0,r.jsx)("path",{
d:"M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z",fill:"#292B2F"}),(0,r.jsx)("path",{
d:"M9.45706 7.13802L7.61621 7.91986L8.08626 9.02658L9.28416 9.13053L9.45706 7.13802ZM8.47706 4.83062L6.63292 5.60471L6.63622 5.61247L8.47706 4.83062ZM7.52299 4.83062L9.36448 5.61099L9.36712 5.6047L7.52299 4.83062ZM6.543 7.1432L6.71216 9.13604L7.9139 9.03403L8.38448 7.92356L6.543 7.1432ZM4.03857 7.3558L4.19716 9.34953L4.20773 9.34863L4.03857 7.3558ZM3.74301 8.2632L5.05272 6.75168L5.05201 6.75108L3.74301 8.2632ZM5.64597 9.91208L7.59377 10.366L7.86766 9.19079L6.95567 8.40057L5.64597 9.91208ZM5.0756 12.3595L3.1278 11.9055L3.12758 11.9064L5.0756 12.3595ZM5.84819 12.9195L4.81616 11.2063L4.81258 11.2085L5.84819 12.9195ZM8.00003 11.6232L9.03508 9.91185L8.00209 9.28708L6.968 9.91002L8.00003 11.6232ZM10.1519 12.9247L11.1875 11.2137L11.1869 11.2133L10.1519 12.9247ZM10.9245 12.3647L8.97644 12.8177H8.97644L10.9245 12.3647ZM10.3541 9.91208L9.04439 8.40057L8.13288 9.19037L8.40608 10.3651L10.3541 9.91208ZM12.257 8.2632L10.948 6.75108L10.9473 6.75169L12.257 8.2632ZM8.00003 10.6536L9.03502 8.94219L8.00093 8.31679L6.96635 8.94139L8.00003 10.6536ZM6.05041 11.8306L4.10286 11.3756L3.02377 15.9941L7.08408 13.5428L6.05041 11.8306ZM6.56892 9.61134L8.51647 10.0664L8.79102 8.8913L7.87948 8.10056L6.56892 9.61134ZM4.84745 8.11801L4.67459 6.1255L-0.0310004 6.53375L3.5369 9.62879L4.84745 8.11801ZM7.11855 7.92098L7.29142 9.91349L8.49266 9.80928L8.96131 8.69832L7.11855 7.92098ZM8.00003 5.83136L9.84184 5.05178L7.99691 0.693003L6.15728 5.05402L8.00003 5.83136ZM8.88669 7.92616L7.04488 8.70574L7.51423 9.8146L8.71382 9.91868L8.88669 7.92616ZM11.1578 8.1232L12.4683 9.63398L16.0362 6.53893L11.3307 6.13068L11.1578 8.1232ZM9.43632 9.61653L8.12576 8.10575L7.21422 8.89648L7.48877 10.0716L9.43632 9.61653ZM9.95483 11.8358L8.91984 13.5471L12.9826 16.0042L11.9024 11.3807L9.95483 11.8358ZM12.1396 5.36328L9.62996 5.14551L9.28416 9.13053L11.7938 9.34831L12.1396 5.36328ZM11.2979 6.35618L10.3179 4.04878L6.63622 5.61247L7.61621 7.91986L11.2979 6.35618ZM10.3212 4.05655C9.45878 2.00198 6.54128 2.00198 5.67887 4.05655L9.36712 5.6047C8.8573 6.81927 7.14275 6.81927 6.63294 5.6047L10.3212 4.05655ZM5.68152 4.05027L4.70152 6.36285L8.38448 7.92356L9.36447 5.61098L5.68152 4.05027ZM6.37384 5.15037L3.8694 5.36296L4.20773 9.34863L6.71216 9.13604L6.37384 5.15037ZM3.87998 5.36209C1.64333 5.54001 0.753531 8.32058 2.43401 9.77532L5.05201 6.75108C6.03768 7.60434 5.52122 9.24418 4.19716 9.3495L3.87998 5.36209ZM2.43331 9.77471L4.33626 11.4236L6.95567 8.40057L5.05272 6.75168L2.43331 9.77471ZM3.69816 9.45814L3.1278 11.9055L7.0234 12.8134L7.59377 10.366L3.69816 9.45814ZM3.12758 11.9064C2.62503 14.0674 4.9682 15.7899 6.88379 14.6305L4.81258 11.2085C5.94003 10.5261 7.31876 11.5434 7.02362 12.8125L3.12758 11.9064ZM6.88021 14.6326L9.03205 13.3363L6.968 9.91002L4.81616 11.2063L6.88021 14.6326ZM6.96498 13.3345L9.11682 14.636L11.1869 11.2133L9.03508 9.91185L6.96498 13.3345ZM9.11626 14.6357C11.0319 15.7951 13.375 14.0726 12.8725 11.9116L8.97644 12.8177C8.6813 11.5486 10.06 10.5313 11.1875 11.2137L9.11626 14.6357ZM12.8725 11.9116L12.3021 9.45905L8.40608 10.3651L8.97644 12.8177L12.8725 11.9116ZM11.6638 11.4236L13.5667 9.77471L10.9473 6.75169L9.04439 8.40057L11.6638 11.4236ZM13.566 9.77532C15.2133 8.34936 14.4056 5.54348 12.1253 5.36209L11.8081 9.3495C10.4404 9.2407 9.99563 7.57556 10.948 6.75108L13.566 9.77532ZM6.96635 8.94139L5.01673 10.1184L7.08408 13.5428L9.0337 12.3657L6.96635 8.94139ZM7.99796 12.2856L8.51647 10.0664L4.62138 9.15631L4.10286 11.3756L7.99796 12.2856ZM7.87948 8.10056L6.15801 6.60724L3.5369 9.62879L5.25837 11.1221L7.87948 8.10056ZM5.02032 10.1105L7.29142 9.91349L6.94569 5.92846L4.67459 6.1255L5.02032 10.1105ZM8.96131 8.69832L9.84278 6.6087L6.15728 5.05402L5.2758 7.14364L8.96131 8.69832ZM6.15822 6.61094L7.04488 8.70574L10.7285 7.14659L9.84184 5.05178L6.15822 6.61094ZM8.71382 9.91868L10.9849 10.1157L11.3307 6.13068L9.05956 5.93365L8.71382 9.91868ZM9.84724 6.61242L8.12576 8.10575L10.7469 11.1273L12.4683 9.63398L9.84724 6.61242ZM7.48877 10.0716L8.00729 12.2908L11.9024 11.3807L11.3839 9.16149L7.48877 10.0716ZM10.9898 10.1244L9.03502 8.94219L6.96504 12.3649L8.91984 13.5471L10.9898 10.1244Z",
fill:"#292B2F",mask:"url(#path-2-inside-1_1378_82282)"}),(0,r.jsx)("mask",{id:"path-4-inside-2_1378_82282",fill:"white",children:(0,r.jsx)("path",{d:"M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z"})}),(0,r.jsx)("path",{
d:"M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z",fill:"#292B2F"}),(0,r.jsx)("path",{
d:"M10.6811 7.81008L10.5643 9.15667L10.6226 9.16173H10.6811V7.81008ZM8.98505 7.6629L7.74096 8.19129L8.05863 8.93924L8.8682 9.00949L8.98505 7.6629ZM8.32275 6.10351L7.07643 6.62665L7.07866 6.6319L8.32275 6.10351ZM7.67796 6.10351L8.92249 6.6309L8.92427 6.62665L7.67796 6.10351ZM7.01566 7.66641L7.12998 9.01321L7.94215 8.94427L8.26017 8.19379L7.01566 7.66641ZM5.3231 7.81008V9.16173H5.38037L5.43743 9.15689L5.3231 7.81008ZM5.12336 8.42333L6.00849 7.40181L5.94843 7.34977L5.88269 7.30512L5.12336 8.42333ZM6.40942 9.53768L7.7258 9.84446L7.9109 9.05021L7.29455 8.51616L6.40942 9.53768ZM6.02395 11.1917L4.70758 10.8849L4.67689 11.0166L4.6729 11.1518L6.02395 11.1917ZM6.54609 11.5701L5.84862 10.4124L5.74296 10.476L5.65056 10.5577L6.54609 11.5701ZM8.00036 10.6941L8.69987 9.53752L8.00175 9.11529L7.30289 9.53629L8.00036 10.6941ZM9.45462 11.5737L10.1545 10.4173L10.1541 10.4171L9.45462 11.5737ZM9.97675 11.1952L8.66024 11.5014L8.68369 11.6022L8.72224 11.6983L9.97675 11.1952ZM9.59129 9.53768L8.70616 8.51616L8.09014 9.04993L8.27477 9.84385L9.59129 9.53768ZM10.8773 8.42333L10.4067 7.15625L10.1772 7.24149L9.99222 7.40181L10.8773 8.42333ZM8.00036 10.0388L8.69983 8.8822L8.00096 8.45955L7.30177 8.88166L8.00036 10.0388ZM6.68275 10.8343L5.36655 10.5267L4.63728 13.648L7.38134 11.9914L6.68275 10.8343ZM7.03318 9.33443L8.34938 9.64196L8.53493 8.84781L7.91888 8.31341L7.03318 9.33443ZM5.86977 8.32521L5.75294 6.97862L2.57279 7.25452L4.98406 9.34623L5.86977 8.32521ZM7.40463 8.19204L7.52146 9.53863L8.33329 9.4682L8.65001 8.71739L7.40463 8.19204ZM8.00036 6.77983L9.24509 6.25297L7.99825 3.3072L6.75498 6.25448L8.00036 6.77983ZM8.59958 8.19555L7.35484 8.72241L7.67204 9.4718L8.48276 9.54214L8.59958 8.19555ZM10.1344 8.32871L11.0201 9.34973L13.4314 7.25802L10.2513 6.98212L10.1344 8.32871ZM8.97103 9.33794L8.08533 8.31692L7.46929 8.85132L7.65483 9.64546L8.97103 9.33794ZM9.32146 10.8378L8.62198 11.9943L11.3677 13.6549L10.6377 10.5302L9.32146 10.8378ZM10.798 6.46349L9.1019 6.31631L8.8682 9.00949L10.5643 9.15667L10.798 6.46349ZM10.2291 7.13451L9.56684 5.57512L7.07866 6.6319L7.74096 8.19129L10.2291 7.13451ZM9.56905 5.58037C8.98622 4.19185 7.01449 4.19185 6.43166 5.58037L8.92427 6.62665C8.57972 7.44748 7.42099 7.44748 7.07644 6.62665L9.56905 5.58037ZM6.43345 5.57612L5.77114 7.13902L8.26017 8.19379L8.92248 6.63089L6.43345 5.57612ZM6.90133 6.3196L5.20878 6.46328L5.43743 9.15689L7.12998 9.01321L6.90133 6.3196ZM5.3231 6.45843C5.10802 6.45843 4.84452 6.47114 4.58999 6.53325C4.44279 6.56917 3.76471 6.73882 3.47608 7.44908C3.15174 8.24719 3.63364 8.86933 3.75832 9.01788C3.9431 9.23802 4.17343 9.4121 4.36403 9.54153L5.88269 7.30512C5.76159 7.22289 5.77398 7.21448 5.82894 7.27996C5.85758 7.31408 5.94673 7.4254 6.00911 7.60946C6.07876 7.81499 6.1177 8.12916 5.98047 8.46683C5.84997 8.78797 5.62675 8.9651 5.49284 9.04671C5.36321 9.12571 5.25893 9.15263 5.23081 9.15949C5.17642 9.17276 5.18995 9.16173 5.3231 9.16173V6.45843ZM4.23823 9.44484L5.52429 10.5592L7.29455 8.51616L6.00849 7.40181L4.23823 9.44484ZM5.09305 9.2309L4.70758 10.8849L7.34033 11.4985L7.7258 9.84446L5.09305 9.2309ZM4.6729 11.1518C4.66635 11.3734 4.65876 11.4066 4.64988 11.6197C4.64705 11.6874 4.64296 11.806 4.65294 11.9315C4.65839 12 4.68026 12.3558 4.92373 12.6956C5.07395 12.9053 5.30495 13.104 5.61868 13.2083C5.91447 13.3067 6.17762 13.2858 6.3497 13.2504C6.64872 13.1889 6.86511 13.0426 6.93214 12.9973C7.10307 12.8819 7.29288 12.7141 7.44162 12.5826L5.65056 10.5577C5.46114 10.7253 5.41361 10.7608 5.41951 10.7568C5.42905 10.7504 5.462 10.7285 5.51307 10.7028C5.55951 10.6794 5.66173 10.632 5.80505 10.6025C5.95216 10.5722 6.19396 10.5508 6.47159 10.6431C6.76716 10.7414 6.98318 10.9285 7.12116 11.1211C7.24527 11.2943 7.29575 11.4554 7.31684 11.5372C7.33927 11.6243 7.34562 11.6907 7.34773 11.7172C7.35154 11.7651 7.34865 11.7846 7.35083 11.7323C7.35196 11.7051 7.36962 11.4141 7.37501 11.2316L4.6729 11.1518ZM7.24356 12.7279L8.69782 11.8519L7.30289 9.53629L5.84862 10.4124L7.24356 12.7279ZM7.30084 11.8506L8.75511 12.7302L10.1541 10.4171L8.69987 9.53752L7.30084 11.8506ZM8.75473 12.73C8.72817 12.7139 8.72345 12.7086 8.77203 12.7445C8.79887 12.7643 8.87336 12.8202 8.92995 12.8612C9.00019 12.912 9.28841 13.1293 9.62677 13.2298C9.78218 13.276 10.3131 13.4107 10.8463 13.0654C11.4232 12.692 11.4968 12.0983 11.5043 11.8721C11.5127 11.6184 11.4612 11.3899 11.4195 11.2371C11.3729 11.066 11.3079 10.8831 11.2313 10.692L8.72224 11.6983C8.77644 11.8335 8.80159 11.9121 8.81145 11.9483C8.82631 12.0027 8.79771 11.9273 8.80249 11.7828C8.80635 11.6658 8.84988 11.1376 9.37713 10.7962C9.86087 10.483 10.3227 10.6165 10.3968 10.6385C10.466 10.6591 10.514 10.6811 10.5353 10.6914C10.5586 10.7027 10.5715 10.7105 10.5719 10.7107C10.573 10.7114 10.5685 10.7087 10.5574 10.7012C10.5465 10.6938 10.5325 10.684 10.5144 10.6709C10.4686 10.6378 10.4426 10.6177 10.3779 10.5699C10.335 10.5382 10.2476 10.4737 10.1545 10.4173L8.75473 12.73ZM11.2933 10.889L10.9078 9.23151L8.27477 9.84385L8.66024 11.5014L11.2933 10.889ZM10.4764 10.5592L11.7625 9.44484L9.99222 7.40181L8.70616 8.51616L10.4764 10.5592ZM11.3479 9.69041C11.5779 9.60499 11.8316 9.48518 12.0568 9.32017C12.1687 9.23817 12.3127 9.11663 12.4415 8.94784C12.5647 8.78658 12.7427 8.4909 12.7591 8.08449C12.8006 7.05456 11.9118 6.67221 11.6778 6.59303C11.3522 6.48286 10.9945 6.45843 10.6811 6.45843V9.16173C10.8955 9.16173 10.904 9.18505 10.8114 9.15373C10.7647 9.13794 10.5948 9.07633 10.4206 8.90404C10.2138 8.69948 10.0419 8.37256 10.058 7.97545C10.0719 7.63125 10.2211 7.40138 10.2928 7.30747C10.3703 7.20603 10.4402 7.15336 10.4588 7.1397C10.4975 7.11136 10.4881 7.12602 10.4067 7.15625L11.3479 9.69041ZM7.30177 8.88166L5.98417 9.67713L7.38134 11.9914L8.69894 11.1959L7.30177 8.88166ZM7.99895 11.1418L8.34938 9.64196L5.71698 9.02691L5.36655 10.5267L7.99895 11.1418ZM7.91888 8.31341L6.75547 7.30419L4.98406 9.34623L6.14748 10.3555L7.91888 8.31341ZM5.98659 9.6718L7.52146 9.53863L7.2878 6.84546L5.75294 6.97862L5.98659 9.6718ZM8.65001 8.71739L9.24573 7.30518L6.75498 6.25448L6.15925 7.6667L8.65001 8.71739ZM6.75562 7.30669L7.35484 8.72241L9.84432 7.66869L9.24509 6.25297L6.75562 7.30669ZM8.48276 9.54214L10.0176 9.6753L10.2513 6.98212L8.71641 6.84896L8.48276 9.54214ZM9.24874 7.30769L8.08533 8.31692L9.85674 10.359L11.0201 9.34973L9.24874 7.30769ZM7.65483 9.64546L8.00526 11.1453L10.6377 10.5302L10.2872 9.03041L7.65483 9.64546ZM10.0209 9.68117L8.69983 8.8822L7.30088 11.1954L8.62198 11.9943L10.0209 9.68117Z",
fill:"#292B2F",mask:"url(#path-4-inside-2_1378_82282)"})]})]}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"clip0_1378_82282",children:(0,r.jsx)("rect",{width:"16",height:"16",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip1_1378_82282",children:(0,r.jsx)("rect",{width:"12.4444",height:"12.4444",fill:"white",transform:"translate(1.77783 2.66602)"})})]})]})}var P=n(734691),x=n(736818),A=n(189865),T=n(652591),N=n(483255),M=n(2590),Z=n(473708),L=n(170487),R=n.n(L);function D(e){var t=e.streamLengthRequirement,n=e.viewerCountRequirement,o=(0,c.e7)([_.Z],(function(){return _.Z.currentDropQuestStreamProgress})),i=Math.floor(o/100*t).toString();return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Text,{variant:"text-sm/bold",className:R().progressBarCount,children:Z.Z.Messages.DROPS_STREAM_PROGRESS_INDICATOR.format({minutesStreamed:i,streamLengthRequirement:t})}),(0,r.jsx)("div",{className:R().progressBarContainer,children:(0,r.jsx)("div",{className:R().progressBarOuter,children:(0,
r.jsx)("div",{className:R().progressBarInner,style:{width:"".concat(o,"%")}})})}),(0,r.jsxs)(d.Text,{variant:"text-xs/medium",className:R().viewerCount,children:["*",Z.Z.Messages.DROPS_REQUIRE_NUM_VIEWERS.format({numViewers:n}),"*"]})]})}function k(e){var t=e.onClose,n=e.tooltipAction,o=e.partnerGame,i=(0,j.au)(o);(0,j.op)(o);var a=(0,c.e7)([x.default],(function(){return x.default.getId()}));if(null==i)return null;var l=i.config,u=l.streamLengthRequirement,s=l.viewerCountRequirement,f=i.drop,p=function(e,t,n){var r=t.assets.tooltipSrc;switch(e){case N._e.STREAM_CTA:return{header:Z.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:t.title}),body:t.messages.enrollmentTooltip(n),imgSrc:r,imgStyle:R().dropImgPreStreamNotice};case N._e.TRACK_PROGRESS:return{header:Z.Z.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({gameName:t.title}),body:"",imgSrc:r,imgStyle:R().dropImgProgressTracker};case N._e.QUEST_COMPLETION:return{
header:Z.Z.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER,body:t.messages.completionTooltip(n),imgSrc:r,imgStyle:R().dropImgQuestCompletion};case N._e.LOADING_INITIAL_PROGRESS:return{header:"",body:"",imgSrc:r,imgStyle:R().dropImgPreStreamNotice}}}(n,f,u),h=p.header,y=p.body,b=p.imgSrc,m=p.imgStyle,v=function(){T.default.track(M.rMx.DROPS_ACTIVITY_PANEL_POPOVER_CTA_CLICK,{user_id:a,drops_quest_id:f.dropsQuestId,game_id:f.dropsGameId,game_name:f.title.toLowerCase(),tooltip_action:n})},g=function(){t()};return(0,r.jsxs)("div",{className:R().container,children:[(0,r.jsx)("img",{src:b,alt:"",className:m}),(0,r.jsx)(d.Clickable,{className:R().buttonClose,"aria-label":Z.Z.Messages.CLOSE,onClick:g,children:(0,r.jsx)(A.Z,{width:16,height:16,className:R().closeIcon})}),n===N._e.LOADING_INITIAL_PROGRESS?(0,r.jsx)(d.Spinner,{className:R().spinner}):(0,r.jsx)(d.Heading,{className:R().title,variant:"heading-md/extrabold",children:h}),n===N._e.TRACK_PROGRESS?(0,r.jsx)(D,{streamLengthRequirement:u,
viewerCountRequirement:s}):(0,r.jsx)(d.Text,{variant:"text-sm/medium",className:R().subTitle,children:y}),n===N._e.QUEST_COMPLETION?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Button,{look:d.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){t();P.Z.open(M.oAB.INVENTORY);v()},children:Z.Z.Messages.REDEEM}),(0,r.jsx)(d.Button,{className:R().linkButtonContainer,innerClassName:R().linkButton,onClick:g,look:d.Button.Looks.LINK,fullWidth:!0,color:d.Button.Colors.WHITE,children:Z.Z.Messages.NOT_NOW})]}):(0,r.jsx)(d.Button,{look:d.Button.Looks.INVERTED,fullWidth:!0,onClick:function(){t();P.Z.open(M.oAB.INVENTORY);v()},children:Z.Z.Messages.LEARN_MORE}),(0,r.jsx)("div",{className:R().pointer})]})}var U=n(924066),B=n(866926),F=n(974760),G=n(216299),H=n(944514),V=n(371607),W=n(481008),z=n(907078),Y=n(415298),K=n(671723),q=n(715107),X=n(375759),Q=n(707073),J=n(168775);function $(){var e=(0,c.e7)([q.Z],(function(){return q.Z.getVoiceChannelId()})),t=(0,c.e7)([K.ZP,X.Z],(function(){return(0,
H.Z)(K.ZP,X.Z)})),n=z.Z.useExperiment({},{autoTrackExposure:!1}).canBroadcast;if(null!=e||null==t)return null;z.Z.trackExposure({});if(!n)return null;return(0,r.jsx)(J.Z,{tooltipText:Z.Z.Messages.START_BROADCASTING,onClick:function(){(0,Y.X)(Z.Z.Messages.START_BROADCASTING,Z.Z.Messages.START,(function(){(0,W.DW)({pid:t.pid})}))},icon:Q.Z})}var ee=n(284211),te=n(436154),ne=n(466317);function re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ie(){return null==(0,
c.e7)([te.Z],(function(){return te.Z.getBroadcast()}))?null:(0,r.jsx)(d.Popout,{position:"top",renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(ee.Z,{onClose:t})},animation:d.Popout.Animation.FADE,children:function(e){return(0,r.jsx)(J.Z,oe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){re(e,t,n[t])}))}return e}({},e),{tooltipText:Z.Z.Messages.BROADCAST_SETTINGS,icon:ne.Z}))}})}var ae=n(177570),le=n(61209),ue=n(959207),ce=n(5544),se=n(567403),fe=n(604945),de=n(682776),pe=n(491260),he=n(641277),ye=n(776009),be=n(542231),me=n(634193),ve=n(633531),ge=n(226919),Oe=n(203742),Ee=n(81308),Ce=n(630781),Se=n(984479),je=n(531441),_e=n(977005),Ie=n(120415),we=n(714614),Pe=n.n(we);function xe(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ae(i,r,o,a,l,"next",e)}function l(e){Ae(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ze(e){Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ze(e)}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Me(e,t,n[t])}))}return e}function Re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function De(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ke(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}var He=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var Ve=(0,h.Z)((function(e){var t=e.message;return(0,r.jsx)(Ce.Z,{children:t})})),We=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ue(e,t)}(o,e);var t=Ge(o);function o(){Ne(this,o);var e;(e=t.apply(this,arguments)).state={isDropsActivityPanelTooltipOpen:!1,showDropsSparkles:e.props.showDropsSparkles};e.handleClickGoLiveButton=function(){var t=e.props,o=t.guildId,i=t.voiceChannel,a=null!=i?i.getGuildId():o;(0,d.openModalLazy)(Te((function(){var e,t;return He(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(17629),n.e(47428)]).then(n.bind(n,417629))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Re(Le({},e),{selectSource:!1,guildId:a,analyticsLocation:M.Sbl.ACTIVITY_PANEL}))}]}}))}))).then((function(t){null!=t&&(e.modalKey=t)}))};e.handleClickStopStreamingButton=function(){var t=e.props.stream;(0,V.Z)(t)};e.handleClickInviteButton=function(){
var t=e.props,n=t.activity,r=t.analyticsContext;u()(null!=n,"Received null activity");T.default.track(M.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:n.application_id,location:r.location});(0,p.h7)(n,!1)};e.handleClickDropsButton=function(){var t=e.props,n=t.dropsPartnerGame,r=t.dropsTooltipAction,o=t.userId;if(null!=n){var i=(0,I.BS)(n);if(null!=i){T.default.track(M.rMx.DROPS_ACTIVITY_PANEL_BUTTON_CLICK,{user_id:o,drops_quest_id:i.dropsQuestId,game_id:i.dropsGameId,game_name:i.title.toLowerCase(),show_sparkles:e.state.showDropsSparkles,tooltip_action:r});e.setState({isDropsActivityPanelTooltipOpen:!e.state.isDropsActivityPanelTooltipOpen,showDropsSparkles:!1})}}};e.handleClickLeaveEmbeddedActivityButton=function(t,n){var r=e.props,o=r.embeddedActivity,i=r.isLastEligibleEmbeddedActivityHost;return function(){i&&null!=o?(0,O.Z)({embeddedActivity:o,channelId:n.id,shouldDisconnectCall:!1}):(0,m.mW)({channelId:n.id,applicationId:t.id})}};e.renderClipsButton=function(){
var t=e.props,n=t.stream,o=t.clipsEnabled,i=t.isSavingClip;return null!=n&&o?(0,r.jsx)(J.Z,{disabled:i,tooltipText:Z.Z.Messages.CLIPS_EDIT_SAVE_CLIP,onClick:S.C1,icon:me.Z,iconForeground:Pe().actionIcon}):null};return e}var i=o.prototype;i.componentDidUpdate=function(e){!e.dropsActivityPanelExperienceBlocked&&this.props.dropsActivityPanelExperienceBlocked&&this.setState({isDropsActivityPanelTooltipOpen:!1})};i.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity,r=e.embeddedActivity;return null!=t&&(null!=r?r.application_id===t.id:null!=n&&(n.application_id===t.id&&n.type===M.IIU.PLAYING&&(0,g.Z)(n,M.xjy.JOIN)))};i.renderGoLiveButton=function(){var e,t,n,o,i=this.props,a=i.canGoLive,l=i.guildId,u=i.isStreaming,c=i.voiceChannel,s=i.canStream,f=i.runningGame,d=i.embeddedActivity;if(null==f&&null!=d)return null;if(!(u||a&&null!=f))return null;if(u){e=!1;t=this.handleClickStopStreamingButton;n=Oe.Z;o=Z.Z.Messages.STOP_STREAMING}else if(s){e=!1
;t=this.handleClickGoLiveButton;n=Ee.Z;o=null!=f?Z.Z.Messages.ACTIVITY_PANEL_GO_LIVE_STREAM_GAME.format({game:f.name}):Z.Z.Messages.ACTIVITY_PANEL_GO_LIVE}else{e=!0;t=null;n=Ee.Z;o=null!=c?Z.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=l?Z.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:Z.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD}return(0,r.jsx)("div",{className:Pe().panelButtonContainer,children:(0,r.jsx)(J.Z,{tooltipText:o,disabled:e,onClick:t,icon:n,iconForeground:Pe().actionIcon})})};i.renderInviteButton=function(){var e=this.props.embeddedActivity;return this.isJoinableActivity()&&null==e?(0,r.jsx)(J.Z,{tooltipText:Z.Z.Messages.INVITE_EMBED_INVITE_TO_JOIN,onClick:this.handleClickInviteButton,icon:ge.Z,iconForeground:Pe().actionIcon}):null};i.renderDropsButton=function(){var e=this,t=this.props,n=t.dropsTooltipAction,o=t.dropsPartnerGame;if(null==o)return null;var i=this.state.isDropsActivityPanelTooltipOpen,a=function(){
return e.setState({isDropsActivityPanelTooltipOpen:!1})};return(0,r.jsx)(d.Popout,{shouldShow:i,position:"top",align:"center",onRequestClose:a,renderPopout:function(){return(0,r.jsx)(k,{partnerGame:o,tooltipAction:n,onClose:a})},children:function(){return(0,r.jsxs)(r.Fragment,{children:[e.state.showDropsSparkles&&e.renderSparkles(),(0,r.jsx)(J.Z,{"aria-label":Z.Z.Messages.DROPS_ENABLED,tooltipText:i?null:Z.Z.Messages.DROPS_ENABLED,onClick:e.handleClickDropsButton,icon:w})]})}})};i.renderLeaveEmbeddedActivityButton=function(){var e=this.props,t=e.application,n=e.embeddedActivity,o=e.voiceChannel;return null==n||null==t||null==o?null:(0,r.jsx)(J.Z,{tooltipText:Z.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,onClick:this.handleClickLeaveEmbeddedActivityButton(t,o),icon:ve.Z,iconForeground:Pe().actionIcon})};i.renderBroadcastButton=function(){return(0,r.jsx)($,{})};i.renderBroadcastSettingsButton=function(){return null==this.props.broadcast?null:(0,r.jsx)(ie,{})}
;i.renderSparkles=function(){var e=this.props.useReducedMotion;function t(){return(t=Te((function(){var e;return He(this,(function(t){switch(t.label){case 0:return[4,n.e(29615).then(n.t.bind(n,229615,19))];case 1:e=t.sent();return[2,e.default]}}))}))).apply(this,arguments)}return(0,r.jsx)("div",{className:Pe().sparkleContainer,children:(0,r.jsx)(ye.Z,{importData:function(){return t.apply(this,arguments)},shouldAnimate:!e,className:Pe().sparkles})})};i.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderDropsButton(),n=this.renderInviteButton(),o=this.renderLeaveEmbeddedActivityButton(),i=this.renderClipsButton(),a=this.renderBroadcastButton(),l=this.renderBroadcastSettingsButton();return null==e&&null==n&&null==o?null:(0,r.jsxs)("div",{className:Pe().actions,children:[null!=e?a:null,null!=l?l:e,n,null==e?o:i,t]})};i.getGameName=function(){var e=this.props,t=e.runningGame,n=e.application;return null!=n?n.name:null!=t?t.name:Z.Z.Messages.STATUS_UNKNOWN}
;i.renderGame=function(){var e=this.props,t=e.isStreaming,n=e.dropsPartnerGame,o=e.application,i=e.runningGame,l=this.getGameName();return(0,r.jsxs)("div",{className:a()(Pe().gameWrapper,Me({},Pe().clickableGameWrapper,null!=o)),children:[(0,r.jsxs)("div",{className:Pe().gameIconWrapper,children:[(0,r.jsx)(he.Z,{className:Pe().gameIcon,game:o,pid:null==i?void 0:i.pid}),t?(0,r.jsx)(be.Z,{className:Pe().liveBadge}):null]}),(0,r.jsx)("div",{className:a()(Pe().info,Me({},Pe().infoWithDrops,null!=n)),children:null!=l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Se.Z,{children:l}),null!=n&&(0,r.jsx)("div",{className:Pe().dropsBadgeWrapper,children:(0,r.jsx)(je.IG,{text:Z.Z.Messages.DROPS_AVAILABLE,color:f.Z.unsafe_rawColors.BRAND_500.css,className:Pe().dropsBadge})})]}):null})]})};i.renderScreenshare=function(){var e=this.props,t=e.isStreaming,n=e.dropsPartnerGame,o=e.streamMetadata,i=(0,F.Z)(o),l=i.title,u=i.sanitizedTitle;return(0,r.jsxs)("div",{className:Pe().gameWrapper,children:[t?(0,
r.jsx)(G.Z,{title:u}):(0,r.jsx)(_e.ZP,{look:_e.ZP.Looks.GRAY,size:_e.ZP.Sizes.SMALL,className:Pe().liveIndicator}),(0,r.jsxs)("div",{className:a()(Pe().info,Me({},Pe().infoWithDrops,null!=n)),children:[(0,r.jsx)(Se.Z,{children:l}),null!=n&&(0,r.jsx)("div",{className:Pe().dropsBadgeWrapper,children:(0,r.jsx)(je.IG,{text:Z.Z.Messages.DROPS_AVAILABLE,color:f.Z.unsafe_rawColors.BRAND_500.css,className:Pe().dropsBadge})})]})]})};i.renderEmbeddedActivity=function(){var e=this.props,t=e.application,n=e.embeddedActivity;if(null==n)return null;var o,i={start:n.connectedSince};return(0,r.jsxs)("div",{className:Pe().gameWrapper,children:[(0,r.jsx)(he.Z,{className:Pe().gameIcon,game:t}),(0,r.jsxs)("div",{className:Pe().info,children:[(0,r.jsx)(Se.Z,{children:null!==(o=null==n?void 0:n.name)&&void 0!==o?o:"Unknown"}),(0,r.jsx)(Ve,{timestamps:i})]})]})};i.render=function(){var e=this,t=this.props,n=t.canGoLive,o=t.embeddedActivity,i=t.runningGame,l=t.isStreaming,u=t.streamMetadata,c=t.className
;if(!l){if(!this.isJoinableActivity()&&!n)return null;if(null==i&&null==o)return null}return(0,r.jsx)("div",{className:a()(Pe().panel,c),children:(0,r.jsxs)("div",{className:Pe().body,children:[null==i||l&&null==(null==u?void 0:u.pid)?null!=o?e.renderEmbeddedActivity():e.renderScreenshare():e.renderGame(),this.renderActions()]})})};return o}(o.PureComponent);const ze=(0,y.Z)((function(e){var t=e.guildId,n=De(e,["guildId"]),o=(0,c.e7)([x.default],(function(){return x.default.getId()})),i=(0,c.e7)([K.ZP,X.Z],(function(){return(0,H.Z)(K.ZP,X.Z)})),a=(0,c.e7)([q.Z,le.Z],(function(){return le.Z.getChannel(q.Z.getVoiceChannelId())})),l=Be((0,c.Wu)([ae.Z],(function(){return[ae.Z.getCurrentUserActiveStream(),ae.Z.getStreamerActiveStreamMetadata()]})),2),u=l[0],f=l[1],d=(0,c.e7)([b.Z],(function(){return b.Z.useReducedMotion})),p=(0,c.e7)([_.Z],(function(){return _.Z.getActivityPanelTooltipAction()})),h=(0,
j.c)(N.X2.FORTNITE,i,s.z$.QUEST_2_ENROLLMENT_TOOLTIP,s.z$.QUEST_2_COMPLETION_TOOLTIP),y=h.partnerGame,m=h.dropsActivityPanelExperienceBlocked,g=h.showDropsSparkles,O=Be((0,c.Wu)([se.Z,de.Z,v.ZP,ue.Z,ce.ZP],(function(){var e=!1,n=null;if(null!=a){e=U.JL(a,se.Z,de.Z,!1);n=v.ZP.getSelfEmbeddedActivityForChannel(a.id)}else if(null!=t){e=U.h_(ce.ZP.getChannels(t),se.Z,de.Z).length>0}var r=null;null!=f&&null!=f.id?r=ue.Z.getGame(f.id):null!=i?r=ue.Z.getGameByGameData(i):null!=n&&(r=ue.Z.getGame(n.application_id));return[e,n,r]})),3),S=O[0],I=O[1],w=O[2],P=(0,c.e7)([v.ZP],(function(){return null!=w&&v.ZP.isLastEligibleHost(o,w.id)})),A=(0,c.e7)([fe.Z],(function(){return(0,B.Z)(fe.Z)&&(0,Ie.ED)()})),T=(0,c.e7)([pe.Z],(function(){return null!=o?pe.Z.findActivity(o,(function(e){return e.type===M.IIU.PLAYING})):null})),Z=(0,E.G)(),L=Be((0,c.Wu)([C.Z],(function(){return[C.Z.getSettings().clipsEnabled,C.Z.getIsSavingClip()]})),2),R=L[0],D=L[1],k=null!=u&&u.ownerId===o&&u.state!==M.jm8.ENDED,F=(0,
c.e7)([te.Z],(function(){return te.Z.getBroadcast()}));return(0,r.jsx)(We,Re(Le({},n),{guildId:t,canGoLive:A,activity:T,embeddedActivity:I,showDropsSparkles:g,dropsPartnerGame:y,dropsActivityPanelExperienceBlocked:m,userId:o,runningGame:i,application:w,useReducedMotion:d,isStreaming:k,voiceChannel:a,canStream:S,dropsTooltipAction:p,stream:u,streamMetadata:f,isLastEligibleEmbeddedActivityHost:P,clipsEnabled:Z&&R,isSavingClip:D,broadcast:F}))}))},37707:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(336194),a=n(575945),l=n(945460),u=n(396043),c=n(64234),s=n(6171),f=n(652591),d=n(2590),p=n(473708),h=n(482196),y=n.n(h),b=n(913198),m=n.n(b);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e){
var t=e.onClose,h=e.onConfirm,b=e.onCancel,v=e.channel,S=e.analyticsType,j=e.popoutText,_=e.animation;o.useEffect((function(){f.default.track(d.rMx.OPEN_POPOUT,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}({type:S},(0,u.v_)(v)))}),[S,v]);var I=o.useCallback((function(){null==h||h();t()}),[h,t]),w=o.useCallback((function(){null==b||b();t()}),[b,t]),P=o.useRef(null);o.useEffect((function(){var e,t,r=c.Z.theme,o=!1;null!=_&&(t=function(){var t,i,l,u;return C(this,(function(c){switch(c.label){case 0:return[4,Promise.all([Promise.resolve().then(n.t.bind(n,211248,23)),(0,a.wj)(r)?_.dark():_.light()])];case 1:t=E.apply(void 0,[c.sent(),2]),i=t[0],l=i.default,u=t[1];if(o)return[2];e=l.loadAnimation({
container:P.current,renderer:"svg",loop:!0,autoplay:!0,animationData:u});return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){g(i,r,o,a,l,"next",e)}function l(e){g(i,r,o,a,l,"throw",e)}a(void 0)}))})();return function(){o=!0;if(null!=e){e.destroy();e=void 0}}}),[_]);return(0,r.jsx)(l.Dialog,{"aria-labelledby":"content-warning-popout-label",children:(0,r.jsxs)("form",{className:y().contentWarningPopout,onSubmit:I,children:[(0,r.jsxs)("div",{className:y().body,children:[null!=_&&(0,r.jsx)("div",{className:y().animation,ref:P}),(0,r.jsxs)("div",{className:y().content,children:[(0,r.jsx)("div",{className:y().header,children:p.Z.Messages.SELF_XSS_HEADER}),(0,r.jsx)(l.Text,{id:"content-warning-popout-label",className:m().markup,variant:"text-sm/normal",children:j.body}),(0,r.jsxs)("div",{className:y().buttonWrapper,children:[(0,r.jsxs)("div",{className:y().buttonContainer,children:[(0,r.jsx)(l.Button,{className:y().button,
color:l.Button.Colors.PRIMARY,onClick:w,children:p.Z.Messages.EDIT_MESSAGE}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:y().buttonHint,children:p.Z.Messages.EVERYONE_POPOUT_ESC.format()})]}),(0,r.jsxs)("div",{className:y().buttonContainer,children:[(0,r.jsx)(l.Button,{className:y().button,onClick:I,type:"submit",autoFocus:!0,children:p.Z.Messages.EVERYONE_POPOUT_SEND_NOW}),(0,r.jsx)(l.Text,{variant:"text-xs/normal",className:y().buttonHint,children:p.Z.Messages.EVERYONE_POPOUT_ENTER.format()})]})]})]})]}),null!=j.footer&&""!==j.footer?(0,r.jsxs)("div",{className:y().footer,children:[(0,r.jsx)(s.Z,{color:i.Z.unsafe_rawColors.PRIMARY_400.css,className:y().icon}),(0,r.jsx)(l.Text,{variant:"text-sm/normal",children:j.footer})]}):null]})})}},341305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S})
;var r=n(785893),o=n(667294),i=n(202351),a=n(423427),l=n(773011),u=n(284610),c=n(747126),s=n(746477),f=n(50433),d=n(682776),p=n(840922),h=n(473903),y=n(930948),b=n(15084),m=n(665328),v=n(949995),g=n(2590),O=n(473708);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const S=function(e){var t=e.className,n=e.style,E=e.channel,S=e.draftType,j=C(o.useState(!0),2),_=j[0],I=j[1],w=(0,i.e7)([f.Z],(function(){return f.Z.hasLayers()})),P=(0,i.e7)([d.Z],(function(){return null!=E&&d.Z.can(g.Plq.ATTACH_FILES,E)}),[E]),x=null!=(0,i.e7)([a.Z],(function(){return a.Z.getActiveCommand(E.id)})),A=E.getGuildId(),T=S===u.d.FirstThreadMessage,N=(0,i.e7)([h.default],(function(){var e;return!0==!(null===(e=h.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)})),M=(0,i.e7)([c.Z],(function(){return c.Z.didAgree(A)}))&&!N,Z=o.useMemo((function(){return!w&&(E.isPrivate()&&!E.isManaged()||null!=A&&(!E.isNSFW()||M)&&P&&s.Z.canChatInGuild(A))
}),[P,M,E,A,w]),L=T?g.TPd.GUILD_THREADS_ONLY.has(E.type)?O.Z.Messages.UPLOAD_TO_NEW_POST:O.Z.Messages.UPLOAD_TO_NEW_THREAD:_?O.Z.Messages.UPLOAD_TO.format({destination:(0,l.F6)(E,h.default,p.Z,!0)}):O.Z.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION;return x||!Z?null:(0,r.jsx)(m.Z,{className:t,style:n,title:L,description:T?O.Z.Messages.UPLOAD_AREA_NEW_THREAD_HELP:O.Z.Messages.UPLOAD_AREA_HELP,icons:v.J6,onDrop:function(e){if(x)return!1;if(Z&&null!=E){(0,b.d)(e,E,S,{requireConfirm:_,showLargeMessageDialog:!1});y.S.dispatchToLastSubscribed(g.CkL.TEXTAREA_FOCUS)}},onDragClear:function(){return I(!0)},onDragOver:function(e){if(x)return!1;T||e.shiftKey!==_||I(!e.shiftKey)}})}},665328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(159895),c=n(799066),s=n(793008),f=n(444663),d=n(473708),p=n(36627),h=n.n(p),y=n(587161),b=n.n(y);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function O(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return O(this,n)}}function j(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a()(b().sparkleWhite,h().sparkleOne)}),(0,r.jsx)("div",{className:a()(b().sparkleWhite,h().sparkleTwo)}),(0,r.jsx)("div",{className:a()(b().lightWhite,h().lightOne)}),(0,r.jsx)("div",{className:a()(b().lightWhite,h().lightTwo)}),(0,r.jsx)("div",{className:a()(b().crossWhite,h().crossOne)}),(0,r.jsx)("div",{className:a()(b().crossWhite,h().crossTwo)}),(0,r.jsx)("div",{className:a()(b().popWhite,h().popOne)})]})}const _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=S(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).state={isDragging:!1,isOverZone:!1};e.dragOverTimeout=null;e.elementDOMRef=o.createRef();e.isAllDropFiles=function(e){
for(var t=0;t<e.length;t++)try{var n,r=null!==(n=e[t].webkitGetAsEntry())&&void 0!==n?n:e[t].getAsEntry();if(r&&!r.isFile)return!1}catch(e){continue}return!0};e.preventUnwantedDrop=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.dataTransfer;if(null==r)return!0;var o=Array.isArray(r.types)&&-1!==r.types.indexOf("text/uri-list")&&-1===r.types.indexOf("application/json"),i=null!=r.items&&!e.isAllDropFiles(r.items);if(o||i){t.stopPropagation();t.preventDefault();r.effectAllowed="none";r.dropEffect="none";if(n){e.setState({isDragging:!1});(0,f.openUploadError)({title:d.Z.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:d.Z.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP,icons:e.props.icons})}return!1}return!0};e.handleDragOver=function(t){var n,r;if(!e.preventUnwantedDrop(t))return!1;var o=t.dataTransfer;if(null!=o){o.dropEffect="copy";(0,l.hasModalOpen)(f.UPLOAD_ERROR_MODAL_KEY)&&(0,l.closeModal)(f.UPLOAD_ERROR_MODAL_KEY);t.stopPropagation();t.preventDefault()
;null===(r=(n=e.props).onDragOver)||void 0===r||r.call(n,t);if(!e.state.isDragging){var i;(0,u.I6)(c.Z);var a=null===(i=e.elementDOMRef.current)||void 0===i?void 0:i.ownerDocument.defaultView;(null!=a&&o.types instanceof a.DOMStringList&&o.types.contains("application/x-moz-file")||-1!==o.types.indexOf("Files"))&&e.setState((function(e){return e.isDragging?{}:{isDragging:!0}}))}clearTimeout(e.dragOverTimeout);e.dragOverTimeout=setTimeout((function(){var t,n;e.setState({isDragging:!1});null===(n=(t=e.props).onDragClear)||void 0===n||n.call(t)}),1e3)}};e.handleDragOverZone=function(){e.setState({isOverZone:!0})};e.handleDragLeaveZone=function(){e.setState({isOverZone:!1})};e.handleDragLeave=function(t){if(e.state.isDragging){t.stopPropagation();t.preventDefault();e.clearDragging()}};e.clearDragging=function(){var t,n;e.setState({isDragging:!1,isOverZone:!1});null===(n=(t=e.props).onDragClear)||void 0===n||n.call(t)};e.handleDrop=function(t){if(!e.preventUnwantedDrop(t,!0))return!1
;var n=t.dataTransfer;if(null==n)return!0;if(e.state.isDragging){t.preventDefault();t.stopPropagation();e.props.onDrop(n.files);e.clearDragging()}};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.elementDOMRef.current;if(null!=e){e.ownerDocument.body.addEventListener("dragover",this.handleDragOver,!1);e.ownerDocument.body.addEventListener("drop",this.handleDragLeave,!1);e.addEventListener("dragover",this.handleDragOverZone,!1);e.addEventListener("dragleave",this.handleDragLeaveZone,!1);e.addEventListener("drop",this.handleDrop,!1)}};i.componentWillUnmount=function(){var e=this.elementDOMRef.current;if(null!=e){e.ownerDocument.body.removeEventListener("dragover",this.handleDragOver,!1);e.ownerDocument.body.removeEventListener("drop",this.handleDragLeave,!1);e.removeEventListener("dragover",this.handleDragOverZone,!1);e.removeEventListener("dragleave",this.handleDragLeaveZone,!1);e.removeEventListener("drop",this.handleDrop,!1)}clearTimeout(this.dragOverTimeout)}
;i.render=function(){var e,t=this.props,n=t.title,o=t.description,i=t.icons,l=t.style,u=t.className;return(0,r.jsx)("div",{ref:this.elementDOMRef,className:a()(u,h().uploadArea,(e={},v(e,h().droppable,this.state.isDragging),v(e,h().uploadModalIn,this.state.isOverZone),e)),style:l,children:(0,r.jsxs)("div",{className:h().uploadDropModal,children:[this.state.isDragging&&(0,r.jsx)(j,{}),(0,r.jsx)("div",{className:h().bgScale}),(0,r.jsxs)("div",{className:h().inner,children:[(0,r.jsx)(s.Z,{icons:i}),(0,r.jsx)("div",{className:h().title,children:n}),(0,r.jsx)("div",{className:h().instructions,children:(0,r.jsx)("pre",{children:o})})]})]})})};return n}(o.Component)},704271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(327499),s=n(473903),f=n(554904),d=n(348592),p=n(2590),h=n(473708),y=n(991320),b=n.n(y);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){
v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=C(n);function n(){m(this,n);var e;(e=t.apply(this,arguments)).scroller=o.createRef();e.handleDisagree=function(){var t=e.props.guild;null!=t&&c.Z.nsfwReturnToSafety(t.id)};e.handleAgree=function(){var t=e.props.guild;null!=t&&c.Z.nsfwAgree(t.id)};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.scroller.current;null==e||e.scrollToBottom()};i.render=function(){var e=this.props.nsfwDisallowed,t=h.Z.Messages.NSFW_DESCRIPTION;t=e?h.Z.Messages.AGE_GATE_NSFW_UNDERAGE_BODY.format({helpURL:d.Z.getArticleURL(p.BhN.NSFW_AGE_GATING)}):h.Z.Messages.AGE_GATE_NSFW_DESCRIPTION;var n=e?(0,r.jsx)(f.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:h.Z.Messages.AGE_GATE_NSFW_UNDERAGE_HEADER,description:t,agreement:null,
disagreement:h.Z.Messages.BACK,imageClassName:b().ageGatedImage}):(0,r.jsx)(f.Z,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:h.Z.Messages.NSFW_TITLE,description:t,agreement:h.Z.Messages.NSFW_ACCEPT,disagreement:h.Z.Messages.NSFW_DECLINE});return(0,r.jsx)(u.AdvancedScroller,{ref:this.scroller,className:b().scroller,children:(0,r.jsx)("div",{className:a()(this.props.className,b().wrapper),children:n})})};return n}(o.PureComponent);const j=l.ZP.connectStores([s.default],(function(){var e;return{nsfwDisallowed:!1===(null===(e=s.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed)}}))(S)},387927:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d,$:()=>p});var r=n(791216),o=n(660177),i=n(327499),a=n(567403),l=n(682776),u=n(407561),c=n(602397),s=n(2590),f="DRAGGABLE_USER";function d(e){return(0,r.G)(f,{canDrop:function(e){
var t,n,r=e.channel,o=r.getGuildId(),i=null!==(n=null===(t=a.Z.getGuild(o))||void 0===t?void 0:t.maxVideoChannelUsers)&&void 0!==n?n:-1,f=c.ZP.countVoiceStatesForChannel(r.id),d=null!=o&&u.Z.hasVideo(r.id)&&i>0&&f>=i+1;return l.Z.can(s.Plq.MOVE_MEMBERS,r)&&l.Z.can(s.Plq.CONNECT,r)&&!d},drop:function(e,t){var n=e.channel,r=u.Z.getVoiceStateForUser(t.getItem().user.id);(null==r?void 0:r.channelId)!==n.id&&i.Z.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},(function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}}))(e)}function p(e){return(0,o.E)(f,{canDrag:function(e){e.user;var t=e.canDrag;return null!=t&&t},beginDrag:function(e){return{user:e.user}}},(function(e){return{connectUserDragSource:e.dragSource()}}))(e)}},245802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"guild",id:"2023-02_voice_channel_statuses",label:"Voice Channel Status Guild Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,
label:"Enable viewing and setting voice channel statuses for guild",config:{enabled:!0}},{id:2,label:"A/A test, identical to treatment 1",config:{enabled:!0}}]})},251295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(667294),o=n(539381);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}var f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},
trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function d(e){
var t=u(r.useState(!1),2),n=t[0],i=t[1],a=u(r.useState(null),2),s=a[0],d=a[1],p=r.useCallback(l((function(){var t,n,r,a,l=arguments;return f(this,(function(u){switch(u.label){case 0:for(t=l.length,n=new Array(t),r=0;r<t;r++)n[r]=l[r];u.label=1;case 1:u.trys.push([1,3,4,5]);d(null);i(!0);return[4,e.apply(void 0,c(n))];case 2:return[2,u.sent()];case 3:a=u.sent();d(new o.Z(a));return[3,5];case 4:i(!1);return[7];case 5:return[2]}}))})),[e]);return[p,{loading:n,error:s}]}},913549:(e,t,n)=>{"use strict";n.d(t,{y:()=>l,Z:()=>s});var r=n(667294),o=n(496486);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l,u;!function(e){e[e.VERTICAL_TOP=0]="VERTICAL_TOP";e[e.VERTICAL_BOTTOM=1]="VERTICAL_BOTTOM";e[e.HORIZONTAL_LEFT=2]="HORIZONTAL_LEFT";e[e.HORIZONTAL_RIGHT=3]="HORIZONTAL_RIGHT"}(l||(l={}));!function(e){e[e.VERTICAL=0]="VERTICAL";e[e.HORIZONTAL=1]="HORIZONTAL"}(u||(u={}));function c(e){return e===l.HORIZONTAL_LEFT||e===l.HORIZONTAL_RIGHT?u.HORIZONTAL:u.VERTICAL}const s=function(e){
var t=e.initialElementDimension,n=e.resizableDomNodeRef,i=e.maxDimension,s=e.minDimension,f=e.onElementResize,d=e.onElementResizeEnd,p=e.throttleDuration,h=void 0===p?300:p,y=e.orientation,b=e.usePointerEvents,m=void 0!==b&&b,v=a(r.useState(!1),2),g=v[0],O=v[1],E=r.useRef(0),C=r.useRef(null==t?0:t);r.useLayoutEffect((function(){var e=function(e){var t=c(y)===u.HORIZONTAL?e.screenX:e.screenY,n=y===l.VERTICAL_TOP||y===l.HORIZONTAL_LEFT,r=(t-E.current)*(n?-1:1),a=C.current+r;return(0,o.clamp)(a,null!=s?s:0,null!=i?i:a)};if(g&&null!=n.current){var t=(0,o.throttle)(f,h),r=function(r){if(null==n.current)return null;var o=e(r),i=c(y)===u.HORIZONTAL?"width":"height";n.current.style[i]="".concat(o,"px");t(o)},a=function(t){O(!1);var n=e(t);f(n);null==d||d(n)},p=m?"pointerup":"mouseup",b=m?"pointermove":"mousemove",v=n.current.ownerDocument;v.addEventListener(p,a);v.addEventListener(b,r);return function(){v.removeEventListener(p,a);v.removeEventListener(b,r);t.cancel()}}}),[g,f,s,i,y,n,h,d,m])
;return r.useCallback((function(e){var t=c(y)===u.HORIZONTAL;null!=n.current&&(C.current=t?n.current.offsetWidth:n.current.offsetHeight);E.current=t?e.screenX:e.screenY;O(!0)}),[y,n])}},442921:(e,t,n)=>{"use strict";n.d(t,{Sr:()=>I,Xq:()=>w,Zg:()=>P});var r,o=n(400394),i=n(941248),a=n(484524),l=n(847294),u=n(512566),c=n(196444),s=n(956485),f={binds:["mod+k","mod+t"],comboKeysBindGlobal:!0,action:function(){(0,s.$Z)("KEYBIND","");return!1}},d=n(153080),p=n(469471),h=n(678483),y=n(520522),b=n(877944),m=n(735892),v=n(436703),g=n(886076),O=n(452006),E=n(805181),C=n(2590),S=n(473708);function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){var t=I[e];if(null==t)throw new Error("getBindsFor(...): No bind for ".concat(t));return t.binds[0]}))}var I=(j(r={},C.EkH.SERVER_NEXT,y.nq),j(r,C.EkH.SERVER_PREV,y.X3),
j(r,C.EkH.CHANNEL_NEXT,i.tQ),j(r,C.EkH.CHANNEL_PREV,i.x5),j(r,C.EkH.NAVIGATE_BACK,i.Nx),j(r,C.EkH.NAVIGATE_FORWARD,i.On),j(r,C.EkH.UNREAD_NEXT,E.pd),j(r,C.EkH.UNREAD_PREV,E.wk),j(r,C.EkH.MENTION_CHANNEL_NEXT,E.Nv),j(r,C.EkH.MENTION_CHANNEL_PREV,E.uX),j(r,C.EkH.TOGGLE_PREVIOUS_GUILD,i.$c),j(r,C.EkH.JUMP_TO_GUILD,a.u),j(r,C.EkH.SUBMIT,b.z),j(r,C.EkH.TEXTAREA_FOCUS,m.U),j(r,C.EkH.MARK_CHANNEL_READ,l.f),j(r,C.EkH.MARK_SERVER_READ,u.l),j(r,C.EkH.TOGGLE_MUTE,v.iN),j(r,C.EkH.TOGGLE_DEAFEN,v.oV),j(r,C.EkH.TOGGLE_CATEGORY_COLLAPSED,g.u),j(r,C.EkH.SCROLL_UP,p.B2),j(r,C.EkH.SCROLL_DOWN,p.gN),j(r,C.EkH.SEARCH_EMOJIS,h.S),j(r,C.EkH.TOGGLE_HOTKEYS,O._),j(r,C.EkH.JUMP_TO_FIRST_UNREAD,c.O),j(r,C.EkH.RETURN_TO_AUDIO_CHANNEL,d.F),j(r,C.EkH.CALL_ACCEPT,o.IL),j(r,C.EkH.CALL_START,o.FI),j(r,C.EkH.QUICKSWITCHER_SHOW,f),r),w=j({},C.EkH.QUICKSWITCHER_SHOW,f);function P(){return[{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:_(C.EkH.SERVER_PREV,C.EkH.SERVER_NEXT)},{
description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:_(C.EkH.CHANNEL_PREV,C.EkH.CHANNEL_NEXT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_BACK_FORWARD,binds:_(C.EkH.NAVIGATE_BACK,C.EkH.NAVIGATE_FORWARD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:_(C.EkH.UNREAD_PREV,C.EkH.UNREAD_NEXT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:_(C.EkH.MENTION_CHANNEL_PREV,C.EkH.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:_(C.EkH.TOGGLE_PREVIOUS_GUILD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:_(C.EkH.MARK_SERVER_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:_(C.EkH.MARK_CHANNEL_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:_(C.EkH.SEARCH_EMOJIS),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,
binds:_(C.EkH.TOGGLE_MUTE)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:_(C.EkH.TOGGLE_DEAFEN)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:_(C.EkH.CALL_ACCEPT)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:_(C.EkH.MARK_CHANNEL_READ)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:_(C.EkH.CALL_START),groupEnd:!0},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:_(C.EkH.SCROLL_UP,C.EkH.SCROLL_DOWN)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:_(C.EkH.JUMP_TO_FIRST_UNREAD)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:_(C.EkH.TEXTAREA_FOCUS)},{description:S.Z.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:_(C.EkH.QUICKSWITCHER_SHOW)}]}},242839:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(809784),o=n(945460),i=n(26468),a=n(881532),l=n(930948),u=n(288457),c=n(2590);function s(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({POP_LAYER:{binds:["esc"],comboKeysBindGlobal:!0,action:function(e){if((0,o.isInDndMode)())return!1;if(l.S.hasSubscribers(c.CkL.CALL_DECLINE)){l.S.dispatch(c.CkL.CALL_DECLINE);return!1}if(a.Z.close())return!1;if((0,r.k)(e.target)){var t=(0,i.J5)(e.target);if(null==t?void 0:t.hasSubscribers(c.CkL.POPOUT_CLOSE)){t.dispatch(c.CkL.POPOUT_CLOSE);return!1}}if(l.S.hasSubscribers(c.CkL.MODAL_CLOSE)){l.S.dispatch(c.CkL.MODAL_CLOSE);return!1}l.S.dispatch(c.CkL.LAYER_POP_ESCAPE_KEY)}}},u.ZP)},587683:(e,t,n)=>{"use strict";n.d(t,{m:()=>r,o:()=>h})
;var r,o=n(495414),i=n(242715),a=n(736818),l=n(61209),u=n(584690),c=n(69085),s=n(407561),f=n(652591),d=n(2590);!function(e){e.SELF_VIDEO="self_video";e.SELF_STREAM="self_stream";e.REMOTE_VIDEO="remote_video";e.REMOTE_STREAM="remote_stream";e.CHANGE_VIDEO_BACKGROUND="change_video_background";e.VIDEO_PLAYER="video_player";e.REPLAY_VIDEO_STREAM="replay_video_stream"}(r||(r={}));var p=new Map;var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.spinnerVisibleStart=null;this.logger=new o.Z(t)}var t=e.prototype;t.onSpinnerStarted=function(){null==this.spinnerVisibleStart&&(this.spinnerVisibleStart=(0,i.zO)())};t.trackSpinnerDuration=function(e,t,n){if(null!=this.spinnerVisibleStart){var r=function(e){var t,n=(null!==(t=p.get(e))&&void 0!==t?t:0)+1;p.set(e,n);return n}(n),o=(0,i.zO)()-this.spinnerVisibleStart;this.spinnerVisibleStart=null
;if(o<0||o>2e4)this.logger.warn("spinner duration not in [0, ".concat(2e4,"]: ").concat(o," ms\n        [").concat(e,", count for stream: ").concat(r,"]"));else{this.logger.info("spinner visible for ".concat(o," ms\n      [").concat(e,", count for stream: ").concat(r,"]"));var h=c.Z.getGuildId(),y=s.Z.getUserVoiceChannelId(h,a.default.getId()),b=function(e){if(null!=e){if(e.isGuildVoice())return"guild_voice";if(e.isGuildStageVoice())return"is_stage_channel";if(e.isDM())return"dm";if(e.isGroupDM())return"group_dm"}return null}(l.Z.getChannel(y));f.default.track(d.rMx.VIDEO_SPINNER_SHOWN_V2,{video_spinner_context:e,duration_video_spinner_visible_ms:o,rtc_connection_id:c.Z.getRTCConnectionId(),media_session_id:c.Z.getMediaSessionId(),event_count_for_stream:r,guild_id:h,channel_id:y,channel_type:b,spinning_user_id:t,connection_type:u.Z.getType(),effective_connection_speed:u.Z.getEffectiveConnectionSpeed(),service_provider:u.Z.getServiceProvider()})}}};return e}()},460471:(e,t,n)=>{
"use strict";n.d(t,{F:()=>E,Z:()=>C});var r=n(281110),o=n(101566),i=n(474717),a=n(124453),l=n(473708);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t,n){d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}};return d(e,t,n||e)}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var O=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";return new C(e,t)}var C=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=g(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST";s(this,n);return t.call(this,e,r)}var u=n.prototype;u.uploadFiles=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).addFilesTo,i=this,a=this,u=function(){return d(p(n.prototype),"upload",i)};return c((function(){var n,i;return O(this,(function(c){switch(c.label){case 0:u().call(a,{name:l.Z.Messages.ATTACHMENT_PROCESSING},t,e);c.label=1;case 1:c.trys.push([1,5,,6]);a.files=e;if(a._aborted)return[2];n=new AbortController;a._handleStart((function(){return n.abort()}));return[4,a.compressAndCheckFileSize()];case 2:if(!c.sent())return[2];a.setUploadingTextForUI();return[4,(0,o.$)(a.files,!0,a._recomputeProgress.bind(a))];case 3:c.sent()
;return[4,a._createMessage(n.signal,t,r)];case 4:return[2,c.sent()];case 5:i=c.sent();a._handleException(i);return[3,6];case 6:return[2]}}))}))()};u._createMessage=function(e,t,n){var o=this;return c((function(){var l,u,c,s,f,d,p;return O(this,(function(b){switch(b.label){case 0:l=[];o.files.forEach((function(e,t){var n=(0,a.B)(e,t);e.item.platform===i.ow.WEB&&l.push(h({},n))}));u=null!=n&&null!=t?o._addAttachmentsToPayload(t,n,l):y(h({},t),{attachments:l});c={url:o._url,body:u,signal:e};s="POST"===o._method?r.Z.post:r.Z.patch;b.label=1;case 1:b.trys.push([1,3,,4]);return[4,s(c)];case 2:f=b.sent();o._handleComplete(f.body);return[2,f.body];case 3:d=b.sent();o._handleError({code:null==d||null===(p=d.body)||void 0===p?void 0:p.code,body:null==d?void 0:d.body});return[3,4];case 4:return[2]}}))}))()};return n}(o.Z)},173242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X})
;var r=n(785893),o=n(667294),i=n(945460),a=n(744564),l=n(301928),u=n(294184),c=n.n(u),s=n(318715),f=n(308739),d=n(153686),p=n(19585),h=n(607739),y=n(288634),b=n(549069),m=n(451936),v=n(473903),g=n(107364),O=n(366007),E=n(443812),C=n(558820),S=n(95891),j=n(652591),_=n(775173),I=n(120415),w=n(310126),P=n(419156),x=n(308921);const A={acceptInvite:function(e){var t=this,n=P.Z.getInviteContext("Desktop Invite Modal",e);P.Z.acceptInvite({inviteKey:e.code,context:n,callback:function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||P.Z.transitionToInvite(e)}}).then((function(){return t.close()}),(function(e){a.Z.dispatch({type:"INVITE_MODAL_ERROR",message:(0,x.O)(e.code)})}))},close:function(){a.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}};var T=n(353049),N=n(2590),M=n(203600),Z=n(473708),L=n(343695),R=n.n(L),D=n(518280),k=n.n(D);function U(){var e=(0,p.Z)(d.Z.PREMIUM_UPSELL_TOOLTIP),t=e.analyticsLocations,n=e.sourceAnalyticsLocations;o.useEffect((function(){
j.default.track(N.rMx.PREMIUM_UPSELL_VIEWED,{type:M.cd.GUILD_CAP_INLINE_INVITE_MODAL,location:{page:N.ZY5.NATIVE_INVITE_MODAL},location_stack:n})}),[n]);return(0,r.jsxs)(i.Clickable,{onClick:function(){return(0,b.Z)({analyticsSource:{page:N.Sbl.EXTERNAL_INVITE_LINK_MODAL},analyticsLocation:{page:N.Sbl.EXTERNAL_INVITE_LINK_MODAL,section:N.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:t})},className:R().experimentUpsellError,children:[(0,r.jsx)(S.Z,{width:24,height:24,className:R().experimentUpsellIcon,color:O.JX.PREMIUM_TIER_2}),(0,r.jsx)("span",{className:R().experimentUpsellText,children:Z.Z.Messages.GUILD_CAP_UPSELL_TOOLTIP}),(0,r.jsx)("span",{className:R().experimentGetNitro,children:Z.Z.Messages.GUILD_CAP_UPSELL_GET_NITRO})]})}function B(e){var t=e.transitionState,n=function(){null!=l&&A.acceptInvite(l)};(0,s.ZP)([v.default],(function(){var e;return null===(e=v.default.getCurrentUser())||void 0===e?void 0:e.premiumType}));var a=(0,s.cj)([T.Z],(function(){return T.Z.getProps()
})),l=a.invite,u=a.error,b=a.submitting;o.useEffect((function(){if(!__OVERLAY__&&I.FB){(0,I.ED)()?w.default.minimize():w.default.restore();w.default.focus()}}),[]);var O=(0,E.Dt)(),S=(0,p.Z)(d.Z.INVITE_MODAL).AnalyticsLocationProvider;if(null==l||null==l.channel)return null;var j,P,x=l.guild,N=l.channel,M=l.inviter,L=l.target_application,D=null!=x,B=null!=l.stage_instance,F=null==l.guild&&null==l.channel&&null!=l.inviter;if(null!=L){j=null==x?void 0:x.name;P=m.Z.createFromServer(L).getCoverImageURL(1024)}else if(null!=x){j=x.name;P=_.ZP.getGuildSplashURL({id:x.id,splash:x.splash})}else{null!=(j=N.name)&&""!==j||null==M||(j=M.username);if(null==j)throw new Error("no name for group DM invite")}var G=(0,y.yU)(),H=B?Z.Z.Messages.INSTANT_INVITE_ACCEPT_STAGE:Z.Z.Messages.INVITE_MODAL_BUTTON.format({guildName:j});F&&(H=Z.Z.Messages.ACCEPT_INVITE_MODAL_BUTTON);return(0,r.jsx)(S,{children:(0,r.jsxs)(i.ModalRoot,{size:i.ModalSize.DYNAMIC,"aria-labelledby":O,transitionState:t,
className:R().container,children:[(0,r.jsx)("div",{className:R().contentWrapper,children:(0,r.jsx)(i.Scroller,{className:R().scroller,children:(0,r.jsxs)(g.Z,{className:R().inviteContent,direction:g.Z.Direction.VERTICAL,justify:g.Z.Justify.BETWEEN,children:[(0,r.jsx)("div",{id:O,className:k().marginBottom20,children:(0,r.jsx)(f.Z,{invite:l,disableUser:D,error:u})}),B&&null!=x?(0,r.jsx)("div",{className:c()(k().marginBottom20,R().stage),children:(0,r.jsx)(h.Z,{isCard:!0,stageInstance:l.stage_instance,guild:x})}):null,(0,r.jsxs)("div",{children:[G?(0,r.jsx)(U,{}):null,null==L?(0,r.jsx)(i.Tooltip,{text:G?Z.Z.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION:null,position:"bottom",children:function(e){var t=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsx)(C.zx,{size:C.zx.Sizes.LARGE,onClick:n,submitting:b,disabled:G,color:B?C.zx.Colors.GREEN:C.zx.Colors.BRAND,onMouseEnter:t,onMouseLeave:o,children:G?Z.Z.Messages.GUILD_CAP_INVITE_MODAL_BUTTON:H})}}):(0,r.jsxs)("div",{className:R().buttonGroup,
children:[(0,r.jsx)(C.zx,{size:C.zx.Sizes.LARGE,onClick:n,submitting:b,children:Z.Z.Messages.PLAY}),(0,r.jsx)(C.zx,{color:C.zx.Colors.PRIMARY,size:C.zx.Sizes.LARGE,onClick:n,submitting:b,children:Z.Z.Messages.SPECTATE})]}),(0,r.jsx)(g.Z,{justify:g.Z.Justify.CENTER,className:k().marginTop8,children:(0,r.jsx)(C.zx,{look:C.zx.Looks.LINK,className:R().noThanksButton,onClick:function(){A.close()},color:C.zx.Colors.TRANSPARENT,children:Z.Z.Messages.INIVTE_MODAL_NO_THANKS})})]})]})})}),null!=P&&(0,r.jsx)("div",{className:R().inviteSplash,style:{backgroundImage:"url(".concat(P,")")}})]})})}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function H(e){H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return H(e)}function V(e,t){
return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e,t){W=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return W(e,t)}var z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}var K="INVITE_MODAL_KEY",q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&W(e,t)}(n,e);var t=Y(n);function n(){F(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){a.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal);a.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)};o._terminate=function(){(0,i.closeModal)(K);a.Z.subscribe("INVITE_MODAL_OPEN",this.handleOpenModal);a.Z.subscribe("INVITE_MODAL_CLOSE",this.handleCloseModal)};o.handleOpenModal=function(){T.Z.isOpen()&&!(0,i.hasModalOpen)(K)&&(0,i.openModal)((function(e){return(0,r.jsx)(B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){G(e,t,n[t])}))}return e}({},e))}),{modalKey:K,onCloseRequest:function(){return a.Z.dispatch({type:"INVITE_MODAL_CLOSE"})}})}
;o.handleCloseModal=function(){(0,i.closeModal)(K)};o.__getLocalVars=function(){return{INVITE_MODAL_KEY:K}};return n}(l.Z);const X=new q},353049:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(202351),o=n(744564),i=n(665278),a=n(784426),l=n(382060),u=n(848285),c=n(61209),s=n(567403),f=n(757753),d=n(682776),p=n(473903),h=n(310126),y=n(2590),b=n(897196);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e,t){S=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return S(e,t)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}var w,P=y.IlC.APP,x=!1,A=!1,T=[];function N(){x=!0}
var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&S(e,t)}(n,e);var t=I(n);function n(){v(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.Z,f.Z,p.default)};r.isOpen=function(){var e=__OVERLAY__?y.IlC.OVERLAY:y.IlC.APP;return Boolean(x&&T.length>0&&P===e)};r.getProps=function(){return{invite:T.length>0?T[0][0]:null,error:null!=w&&""!==w?w:null,submitting:A}};r.__getLocalVars=function(){return{context:P,connected:x,error:w,submitting:A,invites:T}};return n}(r.ZP.Store);M.displayName="InviteModalStore";const Z=new M(o.Z,{OVERLAY_INITIALIZE:N,CONNECTION_OPEN:N,CONNECTION_CLOSED:function(){x=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,r=t.guild;if(null==n)return!1;if((0,l.bc)(n.type)){if(null!=c.Z.getChannel(n.id)){(0,
a.XU)(y.ME,n.id);h.default.focus();return!1}}else{if(null==r)return!1;if(null!=s.Z.getGuild(r.id)&&!(0,i.TY)(t)){var o=function(e){if((0,i.W6)(e))return b.oC.ROLE_SUBSCRIPTIONS;var t=e.channel;if(null!=t){var n=c.Z.getChannel(t.id);if(d.Z.can(y.Plq.VIEW_CHANNEL,n))return t.id}return null}(t);(0,a.XU)(r.id,o);h.default.focus();return!1}}if(T.some((function(e){return j(e,1)[0].code===m})))return!1;var f=t.approximate_member_count,p=t.approximate_presence_count,m=t.code,v=t.target_type,g=t.target_user,O=t.target_application,C=t.stage_instance,S=t.type;P=e.context;A=!1;var _={code:m,approximate_member_count:f,approximate_presence_count:p,target_type:v,target_user:g,target_application:O,channel:E({},n),stage_instance:C,type:S};null!=r&&(_.guild=new u.Z(r));null!=t.inviter&&(_.inviter=E({},t.inviter));T.push([_,e.resolve])},INVITE_MODAL_CLOSE:function(){w=null;A=!1;if(T.length>0){var e=j(T.shift(),2)[1];null!=e&&e()}},INVITE_ACCEPT:function(){A=!0},INVITE_MODAL_ERROR:function(e){
var t=e.message;w=t;A=!1}})},966225:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var r=(0,n(260561).B)({kind:"user",id:"2023-03_activities_game_night_coach_mark",label:"Activities Game Night Experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable Activities Game Night",config:{enabled:!0}}]})},548586:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=(0,n(260561).B)({kind:"user",id:"2023-03_activitieswatchtogetherpromo",label:"Activities Watch Together Promo",defaultConfig:{enableWatchTogetherPromo:!1},treatments:[{id:1,label:"enable Watch Together promo",config:{enableWatchTogetherPromo:!0}}]}),o=function(){return r.useExperiment({},{autoTrackExposure:!1}).enableWatchTogetherPromo}},52330:(e,t,n)=>{"use strict";n.d(t,{T:()=>b,E:()=>m});var r=n(667294),o=n(202351),i=n(28661),a=n(473903),l=n(325213),u=n(72580),c=n(120415),s=n(144153),f=n(258104),d=n(515209),p=n(838733);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function y(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){var n;return null!==(n=m(e).find((function(e){return e.application.id===t})))&&void 0!==n?n:null}function m(e){var t,n=(0,o.e7)([a.default],a.default.getCurrentUser),h=(0,o.Wu)([f.ZP],(function(){return f.ZP.getBundleItems(e)})),b=(0,o.Wu)([f.ZP],(function(){return f.ZP.getShelfActivities(e)})),m=(0,
o.e7)([l.Z],(function(){return l.Z.testModeEmbeddedApplicationId})),v=(0,s.Uu)(),g=v?b.map((function(e){return e.application_id})):h.map((function(e){return e.application_id})),O=null!=m?[m].concat(y(g)):g,E=(0,i.Z)(O).filter(u.lm),C=null!=m&&E.length>0&&E[0].id===m&&null!=E[0].embeddedActivityConfig?[{activity:E[0].embeddedActivityConfig,application:E[0]}]:[],S=(0,o.e7)([f.ZP],(function(){var e;return null!==(e=f.ZP.getState().freePeriodActivities)&&void 0!==e?e:[]})),j=r.useMemo((function(){return b.map((function(e){var t=E.find((function(t){return t.id===e.application_id}));return null==t?null:{activity:e,application:t}})).filter(u.lm)}),[b,E]);return(v?y(C).concat(y(j)):(0,d.ZP)(h,E,S)).filter((function(e){var n=e.activity;return(null!==(t=n.supported_platforms)&&void 0!==t?t:[]).includes((0,p.Z)((0,c.Ij)()))})).filter((function(e){return!e.activity.requires_age_gate||!0===(null==n?void 0:n.nsfwAllowed)||null==(null==n?void 0:n.nsfwAllowed)}))}},254907:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>b});var r=n(202351),o=n(560213),i=n(667294),a=n(88067);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(){var e=(0,
r.cj)([o.Z],(function(){return{isEnabled:o.Z.getIsEnabled(),lastUsedObject:o.Z.getLastUsedObject()}}),[]),t=e.isEnabled,n=e.lastUsedObject,l=(0,r.Wu)([o.Z],(function(){return o.Z.getDeveloperShelfItems()}),[]),s=i.useMemo((function(){return t?l.map((function(e){return{application:e,activity:c(u({},a.wT,e.embeddedActivityConfig),{application_id:e.id})}})).sort((function(e,t){var r=n[e.application.id],o=n[t.application.id];return null==r?1:null==o?-1:o-r})):[]}),[l,t,n]);return s.length<=0?[]:[[a.Qy.UNLOCKED,s]]},f=n(273930);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{
if(l)throw o}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.cj)([o.Z],(function(){return{
enableDeveloperActivityShelf:o.Z.getIsEnabled(),filter:o.Z.getFilter()}})),i=n.enableDeveloperActivityShelf,a=n.filter,l=(0,f.Z)(e,t),u=s();return h(u).concat(h(l)).map((function(e){var t=p(e,2);return[t[0],t[1].filter((function(e){return!i||""===a||e.application.name.toLocaleLowerCase().includes(a.toLocaleLowerCase())}))]}))}},933954:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,QN:()=>s});var r=n(667294),o=n(202351),i=n(28661),a=n(473903),l=n(72580),u=n(258104);function c(e,t){return f((0,o.Wu)([u.ZP],(function(){return null!=e&&null!=e.id&&""!==e.id?u.ZP.getEmbeddedActivitiesForChannel(e.id):u.i6})),t)}function s(e){var t=f((0,o.e7)([u.ZP],(function(){return null!=e?u.ZP.getEmbeddedActivitiesForGuild(e):u.i6})));return r.useMemo((function(){var e=new Map;t.forEach((function(t){var n,r=t.embeddedActivity.channelId,o=null!==(n=e.get(r))&&void 0!==n?n:[];o.push(t);e.set(r,o)}));return e}),[t])}function f(e,t){var n=e.map((function(e){return e.application_id})),u=(0,
i.Z)(n),c=new Set([]),s=!0,f=!1,d=void 0;try{for(var p,h=e[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value,b=!0,m=!1,v=void 0;try{for(var g,O=y.connections.keys()[Symbol.iterator]();!(b=(g=O.next()).done);b=!0){var E=g.value;c.add(E)}}catch(e){m=!0;v=e}finally{try{b||null==O.return||O.return()}finally{if(m)throw v}}}}catch(e){f=!0;d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}var C=(0,o.Wu)([a.default],(function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=c[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;e.push(a.default.getUser(l))}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}),[c]),S=r.useMemo((function(){var n=new Map;C.forEach((function(e){null!=e&&n.set(e.id,e)}));var r=e.map((function(e,r){var o=u[r],i=[];if(null!=i){var a=!0,l=!1,c=void 0;try{for(var s,f=e.connections.keys()[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value,p=n.get(d);if(null!=p&&null!=t){var h=t(p)
;null!=h&&i.push(h)}}}catch(e){l=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(l)throw c}}}return null==o?null:{embeddedActivity:e,application:o,userParticipantAvatarUrls:i}})).filter(l.lm);return r}),[e,u,C,t]);return S}},660999:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),o=n(254907);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function c(e){var t=(0,o.Z)(e);return r.useMemo((function(){var e=[];t.forEach((function(t){var n,r=a(t,2)[1];(n=e).push.apply(n,l(r))}));var n=new Set;return e.filter((function(e){if(n.has(e.application.id))return!1;n.add(e.application.id);return!0}))}),[t])}},555086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c})
;var r=n(667294),o=n(202351),i=n(560213),a=n(582762),l=n(120819),u=n(436771);function c(e,t){var n=(0,o.cj)([i.Z],(function(){return{isDeveloperActivityShelfEnabled:i.Z.getIsEnabled(),developerActivityShelfFetchState:i.Z.getFetchState()}}),[]),c=n.isDeveloperActivityShelfEnabled,s=n.developerActivityShelfFetchState,f=(0,l.z)(),d=(0,u.Z)(t),p=function(e){return null!=e&&""!==e}(e)||d;r.useEffect((function(){p&&f&&(0,a.w1)({guildId:e})}),[e,f,p]);r.useEffect((function(){f&&c&&null==s&&(0,a.$h)()}),[f,c,s]);return p&&f}},22664:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(202351),o=n(473903),i=n(850841),a=n(258104),l=function(e){var t=e.appId,n=(0,r.e7)([o.default],(function(){return o.default.getCurrentUser()})),l=i.ZP.canUsePremiumActivities(n);return(0,r.e7)([a.ZP],(function(){return a.ZP.getState().shouldShowNewActivityIndicator||!l&&a.ZP.shouldShowIndicatorForActivity(t)}))}},9018:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2590);function o(e,t){
var n=window.GLOBAL_ENV.CDN_HOST,o=window.GLOBAL_ENV.API_ENDPOINT;return null!=n?"".concat(location.protocol,"//").concat(n,"/app-assets/").concat(e,"/store/").concat(t,".mp4"):"".concat(location.protocol).concat(o).concat(r.ANM.STORE_ASSET(e,t,"mp4"))}},565957:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,Z:()=>S});var r,o=n(202351),i=n(73904),a=n(19585),l=n(473903),u=n(120415),c=n(850841),s=n(582762),f=n(258104),d=n(61040),p=n(718482),h=n(933954),y=n(838733),b=n(9018),m=n(312242),v=n(565102),g=n(195034),O=n(483535),E=n(92585),C=n(88067);!function(e){e.START="START";e.JOIN="JOIN";e.LEAVE="LEAVE"}(r||(r={}));function S(e){var t=e.activityItem,n=e.channel,S=e.guildId,j=e.locationObject,_=e.onActivityItemSelected,I=e.embeddedActivitiesManager,w=e.assetNames,P=e.backgroundResolution,x=void 0===P?250:P,A=(0,a.Z)().analyticsLocations,T=t.application,N=t.activity,M=N.client_platform_config[(0,y.Z)((0,u.Ij)())],Z=M.label_type===i.ww.NEW&&null!=M.label_until&&Date.now()<Date.parse(M.label_until),L=(0,
E.Z)({applicationId:T.id,size:x,names:w}),R=(0,o.e7)([l.default],(function(){return l.default.getCurrentUser()})),D=null!=N.activity_preview_video_asset_id?(0,b.Z)(T.id,N.activity_preview_video_asset_id):null,k=(0,g.Z)(),U=(0,O.Z)(),B=(0,h.ZP)(n).find((function(e){var t=e.embeddedActivity;return T.id===t.application_id})),F=r.START,G=function(){(0,p.Z)({activityItem:t,currentActivity:U,locationObject:j,guildId:S,channelId:null==n?void 0:n.id,embeddedActivitiesManager:I,analyticsLocations:A}).then((function(e){return e&&(null==_?void 0:_({applicationId:T.id}))}))};if(null!=n&&(null==k?void 0:k.channelId)===n.id&&(null==U?void 0:U.id)===T.id){F=r.LEAVE;G=function(){if(!f.ZP.isLaunchingActivity()){if(!(0,v.A)({channelId:n.id})){(0,s.mW)({channelId:n.id,applicationId:T.id});I.leaveActivity({channelId:n.id,applicationId:T.id})}null==_||_({applicationId:T.id})}}}else if(null!=B){F=r.JOIN;G=function(){f.ZP.isLaunchingActivity()||(0,d.Z)({activity:B.embeddedActivity,
currentEmbeddedApplication:U,activityChannelId:null==n?void 0:n.id,locationObject:j,embeddedActivitiesManager:I,analyticsLocations:A}).then((function(e){return e&&(null==_?void 0:_({applicationId:T.id}))}))}}var H=c.ZP.canUsePremiumActivities(R),V=(0,o.e7)([f.ZP],(function(){return f.ZP.getShelfActivities(S).some((function(e){return null!=e.premium_tier_requirement&&!(0,m.Z)(e)}))})),W=V&&F===r.START&&(0,m.Z)(N)&&!H,z=t.activity.client_platform_config[(0,y.Z)((0,u.Ij)())].release_phase,Y=C.eB.includes(z)?z.replace("_"," ").replace(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()})):void 0;return{imageBackground:L,videoUrl:D,joinableEmbeddedApp:B,activityAction:F,onActivityItemSelected:G,showTryItOutBadge:W,showNewBadge:Z,staffReleasePhase:Y}}},273930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(667294),o=n(202351),i=n(473903),a=n(850841),l=n(52330),u=n(312242),c=n(88067),s=n(203600);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var n=(0,o.e7)([i.default],(function(){return i.default.getCurrentUser()})),f=(0,l.E)(e)
;return r.useMemo((function(){var e=new Map;if(null==n)return[];var r,o=null;f.forEach((function(r){var i,l=function(e,t){return(0,u.Z)(e.activity)||null==e.activity.premium_tier_requirement||(0,a.M5)(t,s.p9.TIER_2)?c.Qy.UNLOCKED:c.Qy.NEEDS_NITRO}(r,n),f=null!==(i=e.get(l))&&void 0!==i?i:[];if(t&&r.application.id===c.jT)o=r;else{f.push(r);e.set(l,f)}}));var i=null!==(r=e.get(c.Qy.UNLOCKED))&&void 0!==r?r:[];if(!a.ZP.canUsePremiumActivities(n)){var l=i.sort((function(e,t){return Number((0,u.Z)(t.activity))-Number((0,u.Z)(e.activity))}));e.set(c.Qy.UNLOCKED,l)}var p=Array.from(e.entries()).sort((function(e,t){return d(e,1)[0]<=d(t,1)[0]?-1:1}));t&&null!=o&&p.unshift([c.Qy.UNLOCKED,[o]]);return p}),[f,n,t])}},93191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=(n(667294),n(945460)),i=n(744564),a=n(895303),l=n(301928),u=n(473708);function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return p(e)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},O="ActivityInviteManager",E=function(){i.Z.dispatch({type:"ACTIVITY_INVITE_MODAL_CLOSE"})};const C=new(function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(l,e);var t=v(l);function l(){f(this,l);return t.apply(this,arguments)}var c=l.prototype;c._initialize=function(){i.Z.subscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen);i.Z.subscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)};c._terminate=function(){i.Z.unsubscribe("ACTIVITY_INVITE_MODAL_OPEN",this.handleModalOpen);i.Z.unsubscribe("ACTIVITY_INVITE_MODAL_CLOSE",this.handleModalClose)};c.handleModalOpen=function(e){var t=e.activity;e.isPrivate?(0,o.openModal)((function(e){return(0,r.jsx)(a.default,h({title:u.Z.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:t.name}),body:u.Z.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:u.Z.Messages.OKAY},e))}),{onCloseCallback:E,modalKey:O}):(0,o.openModalLazy)(s((function(){var e,t;return g(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(27684)]).then(n.bind(n,727684))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,h({},e))}]}}))})),{onCloseCallback:E,modalKey:O})};c.handleModalClose=function(e){(0,o.closeModal)(O)};c.__getLocalVars=function(){return{modalKey:O,onCloseCallback:E}};return l}(l.Z))},238852:(e,t,n)=>{"use strict";n.d(t,{Y:()=>A});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(202351),c=n(336194),s=n(945460),f=n(473903),d=n(349491),p=n(95891),h=n(850841),y=n(463473),b=n(599055),m=n(565957),v=n(650875),g=n(595258),O=n(2590),E=n(473708),C=n(824695),S=n.n(C);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w,P=["embedded_cover"],x={tension:800,friction:24};!function(e){e[e.THIRTEEN_BY_ELEVEN=0]="THIRTEEN_BY_ELEVEN";e[e.SIXTEEN_BY_NINE=1]="SIXTEEN_BY_NINE"}(w||(w={}));function A(e){
var t,n=e.channel,i=e.activityItem,C=e.onClick,j=e.aspectRatio,A=void 0===j?w.THIRTEEN_BY_ELEVEN:j,T=e.animatedDivClass,N=function(){switch(D){case m.J.JOIN:return(0,r.jsx)("div",{className:S().activityAction,children:(0,r.jsx)("div",{className:S().activityActionButton,children:(0,r.jsx)(s.Text,{variant:"text-sm/medium",color:"always-white",children:E.Z.Messages.JOIN})})});case m.J.LEAVE:return(0,r.jsx)("div",{className:S().activityAction,children:(0,r.jsx)("div",{className:a()(S().activityActionButton,S().activityActionButtonDanger),children:(0,r.jsx)(s.Text,{variant:"text-sm/medium",color:"always-white",children:E.Z.Messages.EMBEDDED_ACTIVITIES_LEAVE})})});case m.J.START:default:return(0,r.jsx)(r.Fragment,{})}},M=(0,u.e7)([f.default],(function(){return f.default.getCurrentUser()}),[]),Z=(0,m.Z)({channel:n,activityItem:i,guildId:null!==(t=n.getGuildId())&&void 0!==t?t:void 0,locationObject:{},onActivityItemSelected:C,embeddedActivitiesManager:g.Z,assetNames:P
}),L=Z.onActivityItemSelected,R=Z.imageBackground,D=Z.activityAction,k=I(o.useState(!1),2),U=k[0],B=k[1],F=o.useCallback((function(){B(!0)}),[B]),G=o.useCallback((function(){B(!1)}),[B]),H=(0,s.useToken)(c.Z.unsafe_rawColors.PREMIUM_PERK_PINK);return(0,r.jsx)(s.Button,{onClick:L,color:"transparent",look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,onFocus:F,onBlur:G,onMouseEnter:F,onMouseLeave:G,innerClassName:S().activityItemButtonInnerClass,children:(0,r.jsx)(l.Spring,{config:x,from:{value:0},to:{value:U?1:0},children:function(e){var t,n=e.value;return(0,r.jsx)(l.animated.div,{className:a()((0,y.Q)(O.BRd.DARK),S().activityItem,T,(t={},_(t,S().activityItem_13_11,A===w.THIRTEEN_BY_ELEVEN),_(t,S().activityItem_16_9,A===w.SIXTEEN_BY_NINE),t)),style:{transform:n.to([0,1],[1,1.05]).to((function(e){return"scale(".concat(e,")")}))},children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{imageBackground:R,applicationName:i.application.name,imageClassName:S().activitySuggestionImage,
imageNotFoundClassName:S().brokenImageIconWrapper}),(0,b.Z)(i.activity)?null:h.ZP.canUsePremiumActivities(M)?(0,r.jsx)("div",{className:S().iconOuterContainer,children:(0,r.jsx)("div",{className:a()(S().iconInnerContainer,S().nitroIconContainer),children:(0,r.jsx)(p.Z,{width:16,height:16,color:H.hex(),className:S().nitroIcon})})}):(0,r.jsx)("div",{className:a()(S().iconOuterContainer,S().lockBackground),children:(0,r.jsx)("div",{className:a()(S().iconInnerContainer,S().lockIconContainer),children:(0,r.jsx)(d.Z,{color:"var(--interactive-active)",className:S().lock})})}),N()]})})}})})}A.AspectRatio=w},948243:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,A:()=>s});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),l=n(459023),u=n.n(l);function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.POPOUT=0]="POPOUT";e[e.SECONDARY=1]="SECONDARY";e[e.BLACK=2]="BLACK"}(r||(r={}));var s=function(e){
var t,n=e.left,i=void 0===n?void 0:n,l=e.top,s=void 0===l?0:l,f=e.right,d=void 0===f?0:f,p=e.bottom,h=void 0===p?void 0:p,y=e.size,b=void 0===y?8:y,m=e.alert,v=void 0!==m&&m,g=e.maskColor,O=void 0===g?r.SECONDARY:g;return(0,o.jsx)("span",{className:a()(u().dot,(t={},c(t,u().alert,v),c(t,u().maskPopout,O===r.POPOUT),c(t,u().maskSecondary,O===r.SECONDARY),c(t,u().maskBlack,O===r.BLACK),t)),style:{height:b,width:b,left:i,top:s,right:d,bottom:h}})}},283133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});function r(e,t){return"activityembed:".concat(e,":").concat(t)}},836296:(e,t,n)=>{"use strict";n.d(t,{f:()=>O});var r,o=n(73904),i=n(284610),a=n(255592),l=n(385231),u=n(99885),c=n(384411),s=n(849172),f=n(248046),d=n(127624),p=n(473708);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var y=(h(r={},o.jw.SUB_COMMAND,(function(){return{success:!1}})),h(r,o.jw.SUB_COMMAND_GROUP,(function(){return{success:!1}})),
h(r,o.jw.STRING,(function(e,t){var n,r=null===(n=function(e){switch(e.type){case"emoji":return e.surrogate;case"text":return e.text}}(e))||void 0===n?void 0:n.trim();return null==t.choices||null!=r&&t.choices.map((function(e){return e.displayName})).includes(r)?t.type!==o.jw.STRING||void 0===t.minLength&&void 0===t.maxLength?{success:!0}:void 0!==r?function(e,t,n){if(void 0!==t.minLength&&e.length<t.minLength||void 0!==t.maxLength&&e.length>t.maxLength){if(void 0!==t.maxLength&&void 0!==t.minLength&&t.minLength===t.maxLength)return{success:!1,error:n.exactRangeErrorMessage.format({value:v(t.minLength)})};if(void 0!==t.maxLength&&void 0!==t.minLength)return{success:!1,error:n.rangeErrorMessage.format({minimum:v(t.minLength),maximum:v(t.maxLength)})};if(void 0!==t.minLength)return{success:!1,error:n.minErrorMessage.format({minimum:v(t.minLength)})};if(void 0!==t.maxLength)return{success:!1,error:n.maxErrorMessage.format({maximum:v(t.maxLength)})}}return{success:!0}}(r,t,{
exactRangeErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_EXACT_RANGE_ERROR,rangeErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_RANGE_ERROR,minErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_MINIMUM_ERROR,maxErrorMessage:p.Z.Messages.COMMAND_VALIDATION_STRING_MAXIMUM_ERROR}):{success:!0}:{success:!1}})),h(r,o.jw.BOOLEAN,(function(e){if("text"!==e.type)return{success:!1};var t=e.text.trim();return{success:d.ak.map((function(e){return e.displayName.toLowerCase()})).includes(t.toLowerCase())}})),h(r,o.jw.INTEGER,(function(e,t,n){if("text"!==e.type||t.type!==o.jw.INTEGER)return{success:!1};var r=e.text.trim();if(0===r.length)return{success:!1};if(null!=t.choices)return t.choices.map((function(e){return e.displayName})).includes(r)?{success:!0}:{success:!1};var i=s.Z.getAutocompleteLastChoices(n,t.name);if(null!=i&&i.map((function(e){return e.displayName})).includes(r))return{success:!0};var a=Number(l.AS(c.default.locale,r))
;return!isNaN(a)&&Number.isInteger(a)&&Number.isSafeInteger(a)?m(a,t,p.Z.Messages.COMMAND_VALIDATION_NUMBER_RANGE_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MINIMUM_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MAXIMUM_ERROR):{success:!1}})),h(r,o.jw.NUMBER,(function(e,t,n){if("text"!==e.type||t.type!==o.jw.NUMBER)return{success:!1};var r=e.text.trim();if(0===r.length)return{success:!1};if(null!=t.choices)return t.choices.map((function(e){return e.displayName})).includes(r)?{success:!0}:{success:!1};var i=s.Z.getAutocompleteLastChoices(n,t.name);if(null!=i&&i.map((function(e){return e.displayName})).includes(r))return{success:!0};var a=Number(l.AS(c.default.locale,r));return isNaN(a)||a>Number.MAX_SAFE_INTEGER||a<Number.MIN_SAFE_INTEGER?{success:!1}:m(a,t,p.Z.Messages.COMMAND_VALIDATION_NUMBER_RANGE_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MINIMUM_ERROR,p.Z.Messages.COMMAND_VALIDATION_NUMBER_MAXIMUM_ERROR)})),h(r,o.jw.USER,(function(e,t,n,r){if("text"===e.type){if((0,
f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n,{allowRoles:!1});return{success:"userMention"===(null==o?void 0:o.type)}}return{success:"userMention"===e.type}})),h(r,o.jw.CHANNEL,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{success:"channelMention"===(null==o?void 0:o.type)}}return{success:"channelMention"===e.type}})),h(r,o.jw.ROLE,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n,{allowUsers:!1});return{success:"roleMention"===(null==o?void 0:o.type)}}return{success:b(e)}})),h(r,o.jw.MENTIONABLE,(function(e,t,n,r){if("text"===e.type){if((0,f.BH)(e.text))return{success:!0};var o=(0,u.K)(e.text,r,n);return{success:null!=o&&("userMention"===o.type||b(o))}}return{success:"userMention"===e.type||b(e)}})),h(r,o.jw.ATTACHMENT,(function(e,t,n){if("text"!==e.type)return{success:!1};var r=a.Z.getUpload(n,t.name,i.d.ChannelMessage);return{
success:null!=r&&r.filename===e.text}})),r),b=function(e){return"roleMention"===e.type||"textMention"===e.type&&"@everyone"===e.text};function m(e,t,n,r,o){if(null!=t.minValue&&e<t.minValue||null!=t.maxValue&&e>t.maxValue){if(null!=t.maxValue&&null!=t.minValue)return{success:!1,error:n.format({minimum:v(t.minValue),maximum:v(t.maxValue)})};if(null!=t.minValue)return{success:!1,error:r.format({minimum:v(t.minValue)})};if(null!=t.maxValue)return{success:!1,error:o.format({maximum:v(t.maxValue)})}}return{success:!0}}function v(e){return e.toLocaleString(p.Z.getLocale(),{useGrouping:!1})}const g=y;function O(e,t,n,r,u){if(e.type===o.jw.ATTACHMENT){var c=a.Z.getUpload(r,e.name,i.d.ChannelMessage);return e.required&&null==c&&!u?{success:!1,error:p.Z.Messages.COMMAND_VALIDATION_REQUIRED_ERROR}:{success:!0}}var s=null!=t?(0,l.KF)({content:t},"content").trim():"";if(e.required&&""===s&&!u)return{success:!1,error:p.Z.Messages.COMMAND_VALIDATION_REQUIRED_ERROR};if(null==t)return{success:!0}
;if(""===s)return u?{success:!0}:{success:!1,error:(0,d.al)(e)};var f=t.length>1?{type:"text",text:s}:t[0],h=g[e.type](f,e,r,n);h.success||null!=h.error||(h.error=(0,d.al)(e));return h}},983512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(496486),o=n(202351),i=n(744564),a=n(102921),l=n(190344);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){
var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var b=new Map,m=[];function v(e,t,n){if(null!=t){var o=(0,l.tI)(t,n);b.set(o.userId,o);m=p(b.values()).sort((function(e,t){return a.Z.compare(t.channelId,e.channelId)}))}else{var i=b.get(e);if(null==i)return;if(!(0,r.isEqual)(i.source,n))return;b.delete(e);m=p(b.values()).sort((function(e,t){return a.Z.compare(t.channelId,e.channelId)}))}}function g(e){return null!=e?{type:l.$C.GUILD,guildId:e}:{type:l.$C.GLOBAL}}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=y(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getBroadcasts=function(){return m};r.__getLocalVars=function(){return{broadcastsByUserId:b,broadcasts:m}};return n}(o.ZP.Store)
;O.displayName="BroadcastingStore";const E=new O(i.Z,{PRESENCE_UPDATES:function(e){return e.updates.forEach((function(e){var t=e.user,n=e.broadcast,r=e.guildId;v(t.id,n,g(r))}))},CONNECTION_OPEN_SUPPLEMENTAL:function(e){return e.presences.forEach((function(e){var t=e.user,n=e.broadcast,r=e.guildId;v(t.id,n,g(r))}))}})},284211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(26468),l=n(406973),u=n(177570),c=n(466317),s=n(120415),f=n(415298),d=n(2590),p=n(473708);function h(e){var t=e.onClose,n=(0,a.bp)(),h=(0,o.e7)([u.Z],(function(){return u.Z.getCurrentUserActiveStream()})),y=(0,l.Z)(h,n);return(0,r.jsxs)(i.Menu,{onSelect:d.VqG,navId:"manage-broadcast",onClose:t,"aria-label":p.Z.Messages.SETTINGS,children:[s.FB&&null!=h?(0,r.jsx)(i.MenuItem,{id:"stream-settings",label:p.Z.Messages.SCREENSHARE_STREAM_QUALITY,children:y}):null,(0,r.jsx)(i.MenuItem,{id:"broadcast-settings",label:p.Z.Messages.BROADCAST_SETTINGS,icon:c.Z,action:function(){
return(0,f.X)()}})]})}},415298:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(785893),o=(n(667294),n(945460));function i(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function c(e,t,i){(0,o.openModalLazy)(a((function(){var o,a;return u(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(71042)]).then(n.bind(n,871042))];case 1:o=u.sent(),a=o.default;return[2,function(n){return(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({headerText:e,buttonCTA:t,onSave:i},n))}]}}))})))}},470856:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r;!function(e){e[e.STREAM=0]="STREAM";e[e.VIDEO=1]="VIDEO"}(r||(r={}))},180306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(473708);function o(e,t,n,o){return o?r.Z.Messages.CONSOLE_CONNECTING_DISABLED:n?r.Z.Messages.SUPPRESSED:t?r.Z.Messages.SERVER_MUTED_DIALOG_TITLE:e?r.Z.Messages.UNMUTE:r.Z.Messages.MUTE}},400572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9134),o=n(182306);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.Z)(e),i=r.Z.useExperiment({guildId:e.guild_id},{autoTrackExposure:t}).isSharedCanvasEnabled;return n||i}},666305:(e,t,n)=>{"use strict";n.r(t)
;n.d(t,{default:()=>v});var r=n(785893),o=(n(667294),n(945460)),i=n(213276),a=n(46106),l=n(761065),u=n(755380),c=n(202351),s=n(656645),f=n(604945);var d=n(734691),p=n(466317),h=n(2590),y=n(473708);var b=n(681192),m=n.n(b);function v(e){var t,n,b,v,g=e.onClose,O=e.renderOutputDevices,E=void 0!==O&&O,C=e.renderInputDevices,S=void 0!==C&&C,j=e.renderInputModes,_=void 0!==j&&j,I=e.renderInputVolume,w=void 0!==I&&I,P=e.renderOutputVolume,x=void 0!==P&&P,A=e.onSelect,T=(0,r.jsx)(o.MenuItem,{id:"voice-settings",label:y.Z.Messages.VOICE_SETTINGS,action:function(){return d.Z.open(h.oAB.VOICE)},icon:p.Z}),N=(t=(0,c.e7)([f.Z],(function(){return Object.values(f.Z.getInputDevices())})),n=(0,c.e7)([f.Z],(function(){return f.Z.getInputDeviceId()})),t.map((function(e){var t=e.id,i=e.disabled,a=e.name;return(0,r.jsx)(o.MenuRadioItem,{id:"input-".concat(t),group:"input-devices",disabled:i,label:a,checked:t===n,action:function(){return s.Z.setInputDevice(t)}},"input-".concat(t))}))),M=(b=(0,
c.e7)([f.Z],(function(){return Object.values(f.Z.getOutputDevices())})),v=(0,c.e7)([f.Z],(function(){return f.Z.getOutputDeviceId()})),b.map((function(e){var t=e.id,n=e.disabled,i=e.name;return(0,r.jsx)(o.MenuRadioItem,{group:"output-devices",id:"output-".concat(t),disabled:n,label:i,checked:t===v,action:function(){return s.Z.setOutputDevice(t)}},"output-".concat(t))}))),Z=(0,a.Z)(),L=(0,l.Z)(),R=(0,u.Z)();return(0,r.jsx)(i.Z,{object:h.qAy.CONTEXT_MENU,children:(0,r.jsxs)(o.Menu,{onSelect:A,className:m().menu,onClose:g,navId:"audio-device-context","aria-label":y.Z.Messages.AUDIO_DEVICE_ACTIONS,children:[S?(0,r.jsx)(o.MenuGroup,{label:y.Z.Messages.INPUT_DEVICE,children:N}):null,E?(0,r.jsx)(o.MenuGroup,{label:y.Z.Messages.OUTPUT_DEVICE,children:M}):null,_?(0,r.jsx)(o.MenuGroup,{label:y.Z.Messages.FORM_LABEL_INPUT_MODE,children:Z}):null,(0,r.jsxs)(o.MenuGroup,{children:[w?L:null,x?R:null,T]})]})})}},661658:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Eu})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(202351),s=n(418705),f=n(513328),d=n(945460),p=n(744564),h=n(247250),y=n(971402),b=n(116404),m=n(481008),v=n(944010),g=n(832763),O=n(269839),E=n(107364),C=n(26708);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}function w(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){x=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return x(e,t)}var A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}const N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&x(e,t)}(n,e);var t=T(n);function n(){S(this,n);var e;(e=t.apply(this,arguments)).renderPopout=function(t){var n=t.closePopout,o=e.props,i=o.options,a=o.value,l=o.renderOption,u=o.popoutClassName,c=o.scroller;return(0,r.jsx)(C.W,{scroller:Boolean(c),className:u,options:i,value:a,renderOption:l,onChange:function(t){e.handleChange(t);n()}})};e.handleChange=function(t){var n=e.props.onChange;null==n||n(t)};return e}n.prototype.render=function(){
var e=this.props,t=e.label,n=e.value,o=e.renderValue,i=e.className,a=e.popoutProps;return(0,r.jsx)(d.Popout,w(I({},a),{renderPopout:this.renderPopout,children:function(e,a){var l=a.isShown;return(0,r.jsx)(d.Clickable,w(I({},e),{className:i,"aria-haspopup":"listbox","aria-expanded":l,children:(0,r.jsx)(C.Z,{label:t,value:n,renderValue:o})}))}}))};return n}(o.PureComponent);var M=n(473708),Z=n(167708),L=n.n(Z);function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&B(e,t)}function U(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e,t){B=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return B(e,t)}var F=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}var H={position:"bottom",autoInvert:!1},V=function(e){var t=e.region,n=e.className,o=void 0===n?L().regionSelectName:n,i=t.name.replace(/ \(VIP\)$/,"");return(0,r.jsx)("div",{className:o,children:i})},W=function(e){k(n,e);var t=G(n);function n(){R(this,n)
;return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return(0,r.jsxs)(E.Z,{align:E.Z.Align.CENTER,className:a()({selected:n}),children:[(0,r.jsx)(V,{region:t,className:L().regionSelectName}),n?(0,r.jsx)("i",{className:L().check}):null]})};return n}(o.PureComponent),z=function(e){k(n,e);var t=G(n);function n(){R(this,n);var e;(e=t.apply(this,arguments)).renderOption=function(e,t){return(0,r.jsx)(W,{region:e.value,selected:t},e.value.id)};e.getSelectedRegion=function(){var t,n=e.props,r=n.regions,o=n.call;return o.regionUpdated&&null!=r&&null!=o.region?null!==(t=r.find((function(e){return e.id===o.region})))&&void 0!==t?t:{name:o.region,id:o.region}:{id:"automatic",name:M.Z.Messages.AUTOMATIC_REGION,vip:!1,deprecated:!1,hidden:!1}};e.handleChangeVoiceRegion=function(t){var n=t.value,r=e.props.call.channelId;g.Z.changeCallRegion(r,n.id)};return e}var o=n.prototype;o.componentDidMount=function(){
null==this.props.regions&&g.Z.fetchRegions(null)};o.render=function(){var e=this.props.regions;if(null==e)return null;var t=this.getSelectedRegion(),n={label:t.name,value:t},o=e.filter((function(e){return!e.deprecated&&!e.hidden})).map((function(e){return{label:e.name,value:e,key:e.id}}));return(0,r.jsx)(N,{label:M.Z.Messages.REGION,options:o,value:n,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:H,popoutClassName:L().regionSelectPopout})};return n}(o.PureComponent);const Y=c.ZP.connectStores([O.Z],(function(){return{regions:O.Z.getRegions(null)}}))(z);var K=n(213276),q=n(677681),X=n(634698),Q=n(913549),J=n(26468),$=n(560213),ee=n(258104),te=n(555086),ne=n(53912),re=n(930948),oe=n(2590);function ie(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ie(i,r,o,a,l,"next",e)}
function l(e){ie(i,r,o,a,l,"throw",e)}a(void 0)}))}}function le(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ue=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}
if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ce(){var e=function(e){var t=e.applicationId;(0,d.openModalLazy)(ae((function(){var e,o;return ue(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(91730)]).then(n.bind(n,591730))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){le(e,t,n[t])}))}return e}({applicationId:t},e))}]}}))})))};o.useEffect((function(){re.S.subscribe(oe.CkL.LAST_NITRO_HOST_LEFT,e);return function(){
re.S.unsubscribe(oe.CkL.LAST_NITRO_HOST_LEFT,e)}}),[]);return null}var se=n(153686),fe=n(396043),de=n(19585),pe=n(29891),he=n(228667),ye=n(335072),be=n(575907),me=n(732068),ve=n(319086),ge=n(634193),Oe=n(754693),Ee=n(541421),Ce=n(730793),Se=n.n(Ce);function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_e(e,t,n[t])}))}return e}function we(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e){var t=e.onView;return(0,r.jsx)(be.Z,{children:(0,r.jsx)("div",{className:Se().popout,children:(0,r.jsxs)(d.Text,{variant:"text-sm/medium",children:[M.Z.Messages.CLIPS_CALL_TOOLTIP_TITLE,(0,r.jsx)("div",{children:(0,r.jsx)(ve.Z,{onClick:t,children:M.Z.Messages.CLIPS_CALL_TOOLTIP_LINK_CTA})})]})})})}function Te(e){e.participant;var t=Pe(e,["participant"]),n=xe(o.useState(null),2),i=n[0],a=n[1],l=o.useRef(new f.V7),u=(0,
c.e7)([ye.Z],(function(){return ye.Z.getClips().length})),s=(0,X.Z)(u);o.useEffect((function(){if(null!=s&&u>s){a("recent");l.current.start(5e3,(function(){return a(null)}))}}),[u,s]);var p=function(){l.current.stop();a("gallery")};return(0,r.jsx)(d.Popout,{positionKey:"".concat(i,"-popout"),position:"top",renderPopout:function(e){if("recent"===i)return(0,r.jsx)(be.Z,{children:(0,r.jsx)(Ae,{onView:p})});if("gallery"===i)return(0,r.jsx)(be.Z,{children:(0,r.jsx)(Ee.Z,Ie({},e))});throw new Error("Invalid popout type!")},shouldShow:null!=i,onRequestClose:function(){return a(null)},children:function(e){var n=e.onClick,o=Pe(e,["onClick"]);return(0,r.jsx)(me.Z,Ie(we(Ie({},o),{onClick:function(e){(0,Oe.C1)();n(e)},label:M.Z.Messages.CLIPS_SAVE,iconComponent:ge.Z}),t))}})}var Ne=n(188344),Me=n(409125),Ze=n(122590),Le=n(566706),Re=n(627342),De=n(50433),ke=n(679450),Ue=n(774209),Be=n(496486),Fe=n.n(Be),Ge=n(620597),He=n(175293),Ve=n.n(He),We=n(417454),ze=n.n(We),Ye=n(32358),Ke=n.n(Ye),qe=null
;function Xe(e){var t=e.onDismiss,n=e.onAccept,o=e.popoutPosition,i=e.gameConsoleAccounts;u()(i.length>0,"Rendering ConsoleNUXTooltip without a game console account");null!=qe&&null!=i.find((function(e){return e.type===qe}))||(qe=Fe().shuffle(i)[0].type);var a=null,l=null;switch(qe){case oe.ABu.XBOX:a=M.Z.Messages.CONSOLE_NUX_TOOLTIP_BODY_XBOX;l=Ke();break;case oe.ABu.PLAYSTATION:case oe.ABu.PLAYSTATION_STAGING:a=M.Z.Messages.CONSOLE_NUX_TOOLTIP_BODY_PS5;l=ze()}return(0,r.jsx)(Ge.ZP,{header:M.Z.Messages.CONSOLE_NUX_TOOLTIP_HEADER,content:a,asset:(0,r.jsx)("img",{src:l,alt:"",className:Ve().art}),onClick:n,onSecondaryClick:t,markAsDismissed:t,buttonCTA:M.Z.Messages.CONSOLE_NUX_TOOLTIP_ACCEPT,secondaryButtonCTA:M.Z.Messages.CONSOLE_NUX_TOOLTIP_DISMISS,caretPosition:"top"===o?Ge.DF.BOTTOM_LEFT:Ge.DF.TOP_LEFT})}var Qe=n(292571),Je=n(302123),$e=n(550677),et=n(860),tt=n.n(et);function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function rt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ot(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function it(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function at(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e){var t=e.onClose,n=e.channel,o=(0,Je.Z)(n);return(0,r.jsx)(d.Menu,{onClose:t,onSelect:function(){return null},navId:"transfer-menu",
"aria-label":M.Z.Messages.TRANSFER,children:o})}function ut(e){return null!=e?e===$e.YE.XBOX?M.Z.Messages.XBOX_REMOTE_CONNECTED_RAW:M.Z.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW:M.Z.Messages.CONSOLE_TRANSFER}function ct(e){var t,n=e.channel,i=e.showLeftDivider,a=void 0!==i&&i,l=it(e,["channel","showLeftDivider"]),u=(0,Ze.Z)(),f=(0,c.e7)([ke.Z],(function(){var e;return null===(e=ke.Z.getSessionById(null!==(t=null==u?void 0:u.sessionId)&&void 0!==t?t:""))||void 0===e?void 0:e.clientInfo.os})),p=(0,c.e7)([De.Z],(function(){return De.Z.hasLayers()})),h=at((0,c.Wu)([Le.Z],(function(){return[Le.Z.getMode(n.id),Le.Z.getLayout(n.id)]})),2),y=h[0],b=h[1],m=(0,d.useModalsStore)(d.hasAnyModalOpenSelector),v=(0,Ue.Z)(),g=v.filter((function(e){return e.twoWayLink})),O=at(o.useState(!1),2),E=O[0],C=O[1];if(null==u&&0===v.length)return null;var S=oe.WtW.VOICE!==y&&[oe.AEg.NO_CHAT,oe.AEg.FULL_SCREEN].includes(b)?"top":"bottom",j=[];g.length>0&&j.push(s.z$.DONUT_DESKTOP_NUX);return(0,r.jsx)(Re.Z,{
contentTypes:j,children:function(e){var t=e.visibleContent,o=e.markAsDismissed,i=t===s.z$.DONUT_DESKTOP_NUX,u=!p&&!m;return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)("div",{className:tt().leftDivider}):null,(0,r.jsx)(d.Popout,{position:S,spacing:i?16:void 0,positionKey:"".concat(y,":").concat(b),onRequestClose:function(){return C(!1)},shouldShow:(i||E)&&u,renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(be.Z,{children:i?(0,r.jsx)(Xe,{popoutPosition:S,onDismiss:o,onAccept:function(){o();C(!0)},gameConsoleAccounts:g}):(0,r.jsx)(lt,{onClose:function(){t()},channel:n})})},children:function(e){return(0,r.jsx)(me.Z,ot(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rt(e,t,n[t])}))}return e}({},e,l),{onClick:function(){
return C(!0)},label:ut(f),iconComponent:(0,Qe.Z)(f)}))}})]})}})}var st=n(306263),ft=n(924066),dt=n(15338),pt=n(979197),ht=n(784426),yt=n(379991),bt=n(718637),mt=n(672380),vt=n(853158),gt=n(443660),Ot=n(575945),Et=n(74535),Ct=n(901654),St=n(661782),jt=n(358500),_t=n(155549),It=n.n(_t),wt=n(913957),Pt=n.n(wt),xt=n(587161),At=n.n(xt);function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mt(e){Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Mt(e)}function Zt(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lt(e,t){Lt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Lt(e,t)}var Rt=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}var kt=23,Ut=17,Bt=26,Ft={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:vt.Z.Easing.inOut(vt.Z.Easing.back()),EASING_OUT:vt.Z.Easing.quad},Gt=200,Ht=125,Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Lt(e,t)}(n,e);var t=Dt(n);function n(){Tt(this,n);var e
;(e=t.apply(this,arguments)).scaleAnimation=new vt.Z.Value(0);e.spriteAnimation=new vt.Z.Value(0);e.spriteOpacity=new vt.Z.Value(0);e.widthAnimation=new vt.Z.Value(0);return e}var o=n.prototype;o.componentDidMount=function(){this.componentDidAppear()};o.componentDidAppear=function(){var e=this.scaleAnimation,t=this.widthAnimation;e.setValue(1);t.setValue(1)};o.componentWillEnter=function(e){var t=this.scaleAnimation,n=this.widthAnimation;t.setValue(0);n.setValue(0);vt.Z.parallel([vt.Z.timing(t,{toValue:1,duration:Ft.DURATION_IN,easing:Ft.EASING_IN}),vt.Z.timing(n,{toValue:1,duration:Gt})]).start(e)};o.componentWillLeave=function(e){var t=this,n=t.scaleAnimation,r=t.spriteAnimation,o=t.spriteOpacity,i=t.widthAnimation;o.setValue(1);r.setValue(0);for(var a=[],l=0;l<kt;l++)a.push(vt.Z.timing(r,{toValue:-Bt*l,duration:Ut}));vt.Z.sequence([vt.Z.timing(n,{toValue:0,duration:Ft.DURATION_OUT,easing:Ft.EASING_OUT}),vt.Z.sequence(a),vt.Z.timing(i,{toValue:0,duration:Ht})]).start(e)}
;o.getScaleStyle=function(){var e=this.scaleAnimation;return vt.Z.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[Ft.SCALE_MIN,Ft.SCALE_MAX]})}],opacity:e})};o.getSpriteStyle=function(){return{backgroundPosition:this.spriteAnimation,opacity:this.spriteOpacity}};o.getWidthStyle=function(){return{width:this.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px","".concat(this.props.width,"px")]})}};o.render=function(){var e,t=this.props,n=t.theme,o=t.children,i=t.className,l=(0,Ot.wj)(n),u=a()(It().sprite,(Nt(e={},At().crossWhite,l),Nt(e,At().crossGrey,!l),e));return(0,r.jsxs)(vt.Z.div,{className:a()(It().transition,i),style:this.getWidthStyle(),children:[(0,r.jsx)("div",{className:a()(It().spriteWrapper,Pt().horizontal,Pt().justifyCenter,Pt().alignCenter),children:(0,r.jsx)(vt.Z.div,{className:u,style:this.getSpriteStyle()})}),(0,r.jsx)(vt.Z.div,{style:this.getScaleStyle(),children:o})]})};return n}(o.PureComponent);function Wt(e){
var t=e.participants,n=e.onContextMenu,o=e.className,i=e.onClick,l=e.width,u=e.guildId,s=(0,Et.ZP)(),f=function(e,t){return((0,d.getAvatarSize)(d.AvatarSizes.SIZE_80)+16)*t>e?d.AvatarSizes.SIZE_40:d.AvatarSizes.SIZE_80}(l,t.length),p=(0,c.e7)([Ct.Z],(function(){return Ct.Z.isFocused()})),h=t.map((function(e){if(e.type!==jt.fO.USER)return null;var t,o,a=e.user,l=e.voiceState,c=e.speaking,h=e.ringing;return(0,r.jsx)(Vt,{className:It().participant,width:(0,d.getAvatarSize)(f),theme:s,children:(0,r.jsx)(St.Z,{src:a.getAvatarURL(u,(0,d.getAvatarSize)(f),c&&p),size:f,muted:null!==(t=null==l?void 0:l.isVoiceMuted())&&void 0!==t&&t,deafen:null!==(o=null==l?void 0:l.isVoiceDeafened())&&void 0!==o&&o,speaking:c,ringing:h,onClick:function(t){return null==i?void 0:i(e,t)},onContextMenu:function(t){return null==n?void 0:n(e,t)}},e.id)},a.id)}));return(0,r.jsx)(gt.Z,{component:"div",className:a()(It().root,o),children:h})}
var zt=n(736818),Yt=n(276985),Kt=n(716371),qt=n(791271),Xt=n(730380),Qt=n(788671),Jt=n.n(Qt);function $t(e,t){return 0===t.length?M.Z.Messages.CURRENTLY_IN_VOICE_EMPTY:1===t.length?M.Z.Messages.CURRENTLY_IN_VOICE_1.format({a:(0,qt.Z)(e,t[0])}):2===t.length?M.Z.Messages.CURRENTLY_IN_VOICE_2.format({a:(0,qt.Z)(e,t[0]),b:(0,qt.Z)(e,t[1])}):t.length>2?M.Z.Messages.CURRENTLY_IN_VOICE_2_N.format({a:(0,qt.Z)(e,t[0]),b:(0,qt.Z)(e,t[1]),n:t.length-2}):void 0}const en=function(e){var t=e.participants,n=e.channel,i=e.hasConnectPermission,a=t.filter(jt.Io),l=(0,Kt.J)(n.guild_id),u=o.useCallback((function(){l?(0,Yt.hk)(n.guild_id,(function(){return b.default.selectVoiceChannel(n.id)})):b.default.selectVoiceChannel(n.id)}),[n.id,n.guild_id,l]),c=4===a.length?2:3;return(0,r.jsxs)("div",{className:Jt().container,children:[(0,r.jsx)("div",{className:Jt().tiles,style:{maxWidth:168*c},children:a.slice(0,5).map((function(e){return(0,r.jsx)(Xt.ZP,{participant:e,channel:n,className:Jt().tile,paused:!0,
inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))}),(0,r.jsx)(d.Heading,{className:Jt().channelName,variant:"heading-xxl/semibold",children:n.name}),(0,r.jsx)("div",{className:Jt().participantsRow,children:(0,r.jsx)(d.Text,{color:"header-secondary",variant:"text-sm/normal",children:$t(n,a)})}),(0,r.jsx)(d.Button,{disabled:!i,className:Jt().joinButton,color:i?d.Button.Colors.GREEN:d.Button.Colors.PRIMARY,onClick:u,size:d.Button.Sizes.MEDIUM,children:i?M.Z.Messages.JOIN_VOICE:M.Z.Messages.CHANNEL_LOCKED_SHORT})]})};var tn=n(316878),nn=n(520436),rn=n(776009),on=n(622094),an=n.n(on);function ln(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function un(e){var t=e.height,o=(0,c.e7)([tn.Z],(function(){return tn.Z.useReducedMotion}));return(0,r.jsxs)("div",{className:an().root,children:[(0,r.jsx)(rn.Z,{importData:function(){return n.e(8197).then(n.t.bind(n,573581,19)).then((function(e){return e.default}))},shouldAnimate:!o,
className:a()(an().art,ln({},an().hidden,t<=280))}),(0,r.jsx)(d.Heading,{className:an().header,variant:"heading-md/bold",children:M.Z.Messages.PLAYSTATION_TRANSFERRING}),(0,r.jsx)(d.Text,{variant:"text-md/normal",color:"header-secondary",children:M.Z.Messages.CONSOLE_TRANSFERRING_SUBTITLE.format({onCancel:nn.s6})})]})}var cn,sn=n(999357),fn=n(260561),dn=(0,fn.B)({kind:"user",id:"2023-03_pax_vc_tile_activities",label:"PAX VC Tile Activities",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enable PAX VC Tile Activities",config:{enabled:!0}}]});!function(e){e.CONTROL="CONTROL";e.ONE_OR_TWO_USERS="ONE_OR_TWO_USERS";e.ANY_NUMBER_OF_USERS="ANY_NUMBER_OF_USERS"}(cn||(cn={}));var pn=(0,fn.B)({kind:"user",id:"2023-01_vc_tile_activities_entry_point",label:"VC Tile Activities Entry Point",defaultConfig:{vcTileActivityExperimentType:cn.CONTROL},treatments:[{id:1,label:"Enable one or two users VC Tile Activities Entry Point",config:{vcTileActivityExperimentType:cn.ONE_OR_TWO_USERS}},{id:2,
label:"Enable any number of users VC Tile Activities Entry Point",config:{vcTileActivityExperimentType:cn.ANY_NUMBER_OF_USERS}}]}),hn=n(59732),yn=n(674748),bn=n(590070),mn=n(15970),vn=n(567403),gn=n(682776),On=n(993137),En=n(483902),Cn=n(918176),Sn=n.n(Cn);function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _n(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn=16/9;function Pn(e,t){return Math.floor((t-e)/(8+e))+1}function xn(e,t,n){for(var r=t-e;r>0;){var o=e,i=Math.floor(r/2);if(n(o+=i)){e=o+1;r-=i+1}else r=i}return e}function An(e,t,n){var r,o=Math.floor(t/25),i=t;if(e>25)r=xn(o,i,(function(e){var r=Pn(e,t),o=function(e,t){var n=e/wn;return Math.ceil((t-n)/(8+n))+1}(e,n);return r*o>25}));else{r=xn(o,i,(function(r){var o=Pn(r,t),i=function(e,t){var n=e/wn;return Math.floor((t-n)/(8+n))+1}(r,n);return o*i>=e}));r-=1}var a=Pn(r,t),l=function(e,t){return Math.ceil(t/e)}(a,e);return{tileWidth:r,columns:Math.max(1,a),rows:l}}function Tn(e){
var t,n=e.className,i=e.children,l=e.keyExtractor,u=e.paddingTop,c=void 0===u?0:u,s=e.paddingBottom,f=void 0===s?0:s,d=In(o.useState({width:0,height:0}),2),p=d[0],h=d[1],y=p.width,b=p.height,m=null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0,v=y-16,g=b-(c+f),O=o.useMemo((function(){return function(e,t,n){var r=An(e,t,n),o=r.rows,i=r.columns,a=r.tileWidth;return{tileStyle:{width:a},tileWidth:a,rows:o,columns:i}}(m,v,g)}),[m,v,g]),E=O.tileStyle,C=O.tileWidth,S=O.rows,j=O.columns,_=j+1,I=_*C+8*(_-1)<=y,w=Math.floor(C/wn)+8,P=Math.max(0,g-w*S)/2;return(0,r.jsx)(En.Z,{fade:!0,className:n,listPadding:[c+P,0,f+P-8,8],renderRow:function(e){var t,n=e*j;return(0,r.jsx)("div",{className:Sn().row,children:null===(t=null==i?void 0:i.slice(n,n+j))||void 0===t?void 0:t.map((function(e,t){var o,i,u=n+t;return(0,r.jsx)("div",{style:E,className:a()(Sn().tile,(i={},_n(i,Sn().padColumn,I),_n(i,Sn().noVerticalMargin,u>=(S-1)*j),_n(i,Sn().noHorizontalMargin,(u+1)%j==0||u===m-1),i)),children:(0,
r.jsx)(On.Z,{className:Sn().tileSizer,aspectRatio:wn,children:e(C)})},null!==(o=null==l?void 0:l(u))&&void 0!==o?o:u)}))},e)},rowCount:S,rowCountBySection:[S],rowHeight:w,onResize:h})}var Nn=n(336194),Mn=n(579581),Zn=n(660999),Ln=n(238852),Rn=n(691648),Dn=n(351330),kn=n(431089),Un=n(189865),Bn=n(127661),Fn=n(491275),Gn=n(108206),Hn=n(944823),Vn=n(652591),Wn=n(463473),zn=n(408816),Yn=n(88067),Kn=n(880926),qn=n.n(Kn),Xn=n(558607),Qn=n.n(Xn);function Jn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function $n(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jn(i,r,o,a,l,"next",e)}function l(e){Jn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function er(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){er(e,t,n[t])}))}return e}function nr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ir(e){var t=e.channel,n=e.guild,o=e.width,i=e.inPopout,a=e.handleClose,l=e.userParticipantCount,u=dn.useExperiment({},{autoTrackExposure:!1}).enabled;return o<250?(0,r.jsx)(ar,{channel:t,guild:n,width:o,inPopout:i,handleClose:a,userParticipantCount:l}):l>1||u?(0,r.jsx)(cr,{channel:t,guild:n,width:o,inPopout:i,handleClose:a,userParticipantCount:l}):(0,r.jsx)(lr,{channel:t,guild:n,width:o,inPopout:i})}function ar(e){var t=e.channel,n=e.inPopout,o=e.handleClose,i=(0,de.Z)(se.Z.VC_TILE_ACTIVITY_SHELF_BUTTON),l=i.analyticsLocations,u=i.AnalyticsLocationProvider,c=(0,Mn.O)(),s=(0,d.useToken)(Nn.Z.colors.INTERACTIVE_NORMAL).hex();return(0,r.jsx)(u,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Tooltip,{text:M.Z.Messages.EMBEDDED_ACTIVITIES_START_AN_ACTIVITY,children:function(e){var o=e.onClick,i=rr(e,["onClick"])
;return(0,r.jsx)(d.Clickable,nr(tr({},i),{className:qn().clickableTile,onClick:function(){null==o||o();(0,Rn.Z)({channel:t,guildId:t.guild_id,locationObject:c.location,openInPopout:n,analyticsLocations:l})},children:(0,r.jsx)(zn.Z,{className:qn().root,children:(0,r.jsx)("div",{className:qn().iconContainer,children:(0,r.jsx)(Hn.Z,{width:40,height:40})})})}))}}),(0,r.jsx)(d.Clickable,{onClick:o,className:a()((0,Wn.Q)(oe.BRd.DARK),qn().shelfButtonCloseButton),children:(0,r.jsx)(Bn.Z,{width:24,height:24,className:qn().closeButtonIcon,backgroundColor:s})})]})})}function lr(e){var t=e.channel,i=e.guild,a=e.inPopout,l=e.width;o.useEffect((function(){Vn.default.track(oe.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity invite",n_participants:1})}),[]);var u=(0,Mn.O)(),c=(0,de.Z)(se.Z.VC_TILE_ACTIVITY_INVITE),s=c.analyticsLocations,f=c.AnalyticsLocationProvider;return(0,r.jsx)(f,{children:(0,r.jsxs)(zn.Z,{className:qn().root,children:[l>400?(0,r.jsx)("img",{src:Qn(),
className:qn().art,alt:M.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT}):null,(0,r.jsx)(d.Text,{className:qn().heading,variant:"text-md/semibold",children:M.Z.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_INVITE}),(0,r.jsxs)("div",{className:qn().buttonContainer,children:[(0,r.jsxs)(d.Button,{size:d.Button.Sizes.LARGE,color:d.Button.Colors.PRIMARY,className:qn().button,innerClassName:qn().buttonContents,onClick:function(){(0,d.openModalLazy)($n((function(){var e,o;return or(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,nr(tr({},e),{guild:i,channel:t,source:oe.t4x.ACTIVITY_ENTRY_POINT_TILE}))}]}}))})),{contextKey:a?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT})},children:[(0,r.jsx)(Fn.Z,{width:16,height:16}),(0,r.jsx)(d.Text,{variant:"text-sm/medium",children:M.Z.Messages.INVITE_FRIENDS})]}),(0,r.jsxs)(d.Button,{
size:d.Button.Sizes.LARGE,className:qn().button,innerClassName:qn().buttonContents,onClick:function(){(0,Rn.Z)({channel:t,guildId:t.guild_id,locationObject:u.location,openInPopout:a,analyticsLocations:s})},children:[(0,r.jsx)(Gn.Z,{width:16,height:16}),(0,r.jsx)(d.Text,{variant:"text-sm/medium",children:M.Z.Messages.EMBEDDED_ACTIVITIES_ACTIVITY_ENTRY_POINT_TILE_CHOOSE_AN_ACTIVITY})]})]})]})})}var ur=function(e){var t=e.userParticipantCount,n=e.guildId,r=dn.useExperiment({},{autoTrackExposure:!1}).enabled,o=(0,Zn.Z)(n);return r?o.filter((function(e){return[Yn.f9,Yn.PD,Yn.js].includes(e.application.id)})):2===t?o.filter((function(e){return[Yn.jT,Yn.f9,Yn.fE].includes(e.application.id)})):o.slice(0,3)};function cr(e){var t=e.channel,n=e.guild,i=e.handleClose,l=e.width,u=e.userParticipantCount;o.useEffect((function(){Vn.default.track(oe.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_VIEWED,{tile_type:"activity suggestion",n_participants:u})}),[]);var c=ur({userParticipantCount:u,guildId:n.id}),f=(0,
de.Z)(se.Z.VC_TILE_ACTIVITY_SUGGESTION).AnalyticsLocationProvider;return(0,r.jsx)(f,{children:(0,r.jsxs)(zn.Z,{className:qn().root,children:[l>480?(0,r.jsx)("img",{className:qn().art,src:Qn(),alt:M.Z.Messages.EMBEDDED_ACTIVITIES_SHELF_CHARACTERS_ALT_TEXT}):null,l>300?(0,r.jsx)(d.Text,{className:qn().heading,variant:l>550?"text-md/semibold":"text-sm/semibold",children:M.Z.Messages.EMBEDDED_ACTIVITIES_VC_TILE_ENTRY_POINT_TITLE}):null,(0,r.jsx)("div",{className:a()(qn().activitiesContainer,er({},qn().activitiesContainerSmol,l<=300)),children:c.map((function(e){return(0,r.jsx)(Ln.Y,{channel:t,activityItem:e,aspectRatio:Ln.Y.AspectRatio.SIXTEEN_BY_NINE,animatedDivClass:qn().activitySuggestion},e.application.id)}))}),(0,r.jsxs)(d.Clickable,{className:qn().checkboxContainer,onClick:function(){Vn.default.track(oe.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"permanent",n_participants:u});(0,Dn.EW)(s.z$.VC_TILE_ACTIVITIES_ENTRY_POINT)},children:[(0,
r.jsx)(kn.Z,{}),(0,r.jsx)(d.Text,{variant:"text-sm/medium",children:M.Z.Messages.DONT_SHOW_AGAIN})]}),(0,r.jsx)(d.Clickable,{className:qn().closeButtonContainer,onClick:function(){Vn.default.track(oe.rMx.VC_TILE_ACTIVITIES_ENTRY_POINT_CLOSED,{tile_type:"activity suggestion",close_type:"temporary",n_participants:u});i()},children:(0,r.jsx)(Un.Z,{className:qn().closeButton})})]})})}var sr=(0,n(38736).Z)((function(){return{dismissedActivityEntryPointTileChannel:null}})),fr=n(988533),dr=n(129112),pr=n.n(dr),hr=n(222917),yr=n.n(hr);function br(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function mr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){br(i,r,o,a,l,"next",e)}function l(e){br(i,r,o,a,l,"throw",e)}a(void 0)}))}}function vr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Or=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Er(e){var t=e.channel,o=e.guild,i=e.width,a=e.inPopout;return(0,r.jsx)(zn.Z,{className:pr().root,children:(0,r.jsx)(fr.Z,{artURL:yr(),size:(0,fr.L)(i),header:M.Z.Messages.STREAM_SINGLE_PERSON_BODY,onCTAClick:function(){return(0,d.openModalLazy)(mr((function(){var e,i;return Or(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,
r.jsx)(i,gr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vr(e,t,n[t])}))}return e}({},e),{guild:o,channel:t,source:oe.t4x.CHANNEL_CALL}))}]}}))})),{contextKey:a?d.POPOUT_MODAL_CONTEXT:d.DEFAULT_MODAL_CONTEXT})},callToAction:M.Z.Messages.INSTANT_INVITE})})}var Cr=n(857602),Sr=n.n(Cr);function jr(e){var t=e.participants,n=e.onClick,i=e.onDoubleClick,a=e.onContextMenu,l=e.channel,u=e.className,f=e.inCall,d=e.totalNumberOfParticipants,p=e.paused,h=void 0!==p&&p,y=(0,J.bp)()===oe.IlC.POPOUT,b=(0,c.e7)([vn.Z],(function(){return vn.Z.getGuild(l.guild_id)}),[l.guild_id]),m=sr().dismissedActivityEntryPointTileChannel,v=(0,c.e7)([Le.Z],(function(){return Le.Z.getUserParticipantCount(l.id)}),[l]),g=o.useCallback((function(){sr.setState({
dismissedActivityEntryPointTileChannel:l.id})}),[l.id]);o.useEffect((function(){null!=m&&l.id!==m&&sr.setState({dismissedActivityEntryPointTileChannel:null})}),[l.id,m]);var O=(0,c.e7)([gn.Z],(function(){return l.isPrivate()||(0,mn.b)(gn.Z,b,l)}),[b,l]),E=(null==b?void 0:b.afkChannelId)===l.id,C=l.userLimit<=0||l.userLimit>1,S=pn.useExperiment({},{autoTrackExposure:!1}).vcTileActivityExperimentType;l.isGuildVoice()&&pn.trackExposure({});var j=(0,c.e7)([ee.ZP],(function(){return ee.ZP.getEmbeddedActivitiesForChannel(l.id).length<=0})),_=(0,bn.N)(s.z$.VC_TILE_ACTIVITIES_ENTRY_POINT),I=(0,hn.KF)(l.id)!==hn.jy.CAN_LAUNCH,w=null!=m&&m===l.id,P=dn.useExperiment({},{autoTrackExposure:!1}).enabled,x=t.map((function(e){return function(t){return(0,r.jsx)(Xt.ZP,{participant:e,channel:l,className:Sr().tile,paused:h,onClick:n,onDoubleClick:i,onContextMenu:a,inCall:f,width:t,inPopout:y},e.id)}}));(0,yn.Z)({type:sn.nv.VIEW,name:sn.zs.CHANNEL_CALL_VIDEO_GRID_VIEW,properties:{total_participants:d,
can_invite:O,is_afk_channel:E,channel_user_limit:l.userLimit}},{trackOnInitialLoad:!0},[]);null==b||E||(P?x.push((function(e){return(0,r.jsx)(ir,{channel:l,guild:b,width:e,inPopout:y,handleClose:g,userParticipantCount:v})})):!(S===cn.ONE_OR_TWO_USERS&&2===v||S===cn.ANY_NUMBER_OF_USERS&&v>=2)||!j||I||_||w?C&&1===v&&O&&([cn.ONE_OR_TWO_USERS,cn.ANY_NUMBER_OF_USERS].includes(S)&&j&&!I?x.push((function(e){return(0,r.jsx)(ir,{channel:l,guild:b,width:e,inPopout:y,handleClose:g,userParticipantCount:v})})):x.push((function(e){return(0,r.jsx)(Er,{width:e,channel:l,guild:b,inPopout:y})}))):x.push((function(e){return(0,r.jsx)(ir,{channel:l,guild:b,width:e,inPopout:y,handleClose:g,userParticipantCount:v})})));var A=o.useCallback((function(e){var n,r;return null!==(r=null===(n=t[e])||void 0===n?void 0:n.id)&&void 0!==r?r:"empty-tile"}),[t]);return(0,r.jsx)(Tn,{className:u,keyExtractor:A,paddingTop:64,paddingBottom:64,children:x})}
var _r=n(248088),Ir=n(498246),wr=n(604945),Pr=n(630631),xr=n(862762),Ar=n(341160),Tr=n.n(Ar);function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zr="CameraPreviewPosition";function Lr(e){var t=e.width,n=e.onContextMenuParticipant,i=e.height,a=e.channel,l=e.participants,u=Mr(function(){var e=Mr(o.useState((function(){return Pr.Z.get(Zr,oe.VD2.BOTTOM_RIGHT)})),2),t=e[0],n=e[1];return[t,o.useCallback((function(e){Pr.Z.set(Zr,e);n(e)}),[])]}(),2),c=u[0],s=u[1],f=o.useRef(null),d=null==a.getGuildId()?70:50;o.useLayoutEffect((function(){var e;null===(e=f.current)||void 0===e||e.ensureIsInPosition()}),[l.length]);return(0,r.jsx)("div",{className:Tr().container,children:(0,r.jsx)(xr._,{position:c,id:0,ref:f,onMove:function(e,t){return s(t)},maxX:t,maxY:i,edgeOffsetTop:d,edgeOffsetBottom:70,edgeOffsetLeft:16,edgeOffsetRight:16,children:(0,r.jsx)("div",{className:Tr().tileContainer,children:l.map((function(e){return(0,r.jsx)(Xt.ZP,{participant:e,channel:a,onContextMenu:n,
className:Tr().tile,fit:Xt.BP.COVER,inCall:!0,inPopout:!1,width:160},e.id)}))})})})}var Rr=n(72580),Dr=n(781295);var kr=n(453597),Ur=n(487012),Br=n.n(Ur);function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Vr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vr(e,t){if(e){if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fr(e,t):void 0}}var Wr=864e13,zr=16/9*112+8,Yr=1e4;function Kr(e){var t=String(Wr).length;return String(Wr-e).padStart(t,"0")}function qr(e){var t,n=zt.default.getId();return e.type===jt.fO.USER&&e.user.id===n&&(null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)}function Xr(e,t){var n=Gr(o.useState(Date.now()),2),r=n[0],i=n[1];o.useEffect((function(){var e=setTimeout((function(){i(Date.now())}),Yr);return function(){clearTimeout(e)}
}),[t]);var a=o.useRef({}),l=o.useMemo((function(){var n=Date.now(),r=(0,Be.sortBy)(t,(function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();switch(e.type){case jt.fO.ACTIVITY:return"\0".concat(e.sortKey);case jt.fO.HIDDEN_STREAM:case jt.fO.STREAM:return"".concat((0,kr.qz)(e.userNick,e.user));case jt.fO.USER:var n,r="";e.speaking?r="":t-e.lastSpoke<Yr?r="":(null===(n=e.voiceState)||void 0===n?void 0:n.selfVideo)&&(r="");return"".concat(r).concat(Kr(e.lastSpoke)).concat((0,kr.qz)(e.userNick,e.user))}}(e,n)})),o=Gr((0,Be.partition)(r,jt._5),2),i=o[0],l=o[1],u=l.findIndex(qr),c=null;if(-1!==u){c=l[u];l.splice(u,1)}var s=null!=c?e-zr-8:e,f=Math.floor((s-8)/132),d=Math.max(0,Math.min(f,12,t.length)),p=Math.min((s-8)/d-8,zr),h=Math.max(0,d-i.length),y=i.slice(0,d),b=l.slice(0,h),m=new Array(h);if(h>0){var v=[],g=!0,O=!1,E=void 0;try{for(var C,S=b[Symbol.iterator]();!(g=(C=S.next()).done);g=!0){var j=C.value,_=a.current[j.id]
;null!=_&&_<h?m[_]=j:v.push(j)}}catch(e){O=!0;E=e}finally{try{g||null==S.return||S.return()}finally{if(O)throw E}}for(var I=0;I<m.length;I++)if(null==m[I]){var w=v.shift();if(null==w)break;m[I]=w}}var P=m.filter(Rr.lm),x=(0,Be.keyBy)((0,Be.range)(P.length),(function(e){return P[e].id}));a.current=x;var A=Hr(y).concat(Hr(P));null!=c&&A.push(c);return{visibleParticipants:A,participantTileWidth:p}}),[e,t,r]);return{visibleParticipants:l.visibleParticipants,participantTileWidth:l.participantTileWidth}}function Qr(e){var t=e.participants,n=e.participantTileWidth,o=e.selectedParticipantId,i=e.onDoubleClick,a=e.onContextMenu,l=e.onClick,u=e.channel,c=e.inCall,s=e.popoutWindow,f=e.paused,d=void 0!==f&&f,p=null!=s;return(0,r.jsx)("div",{className:Br().root,children:t.map((function(e){if(null==e)return null;var t=qr(e);return(0,r.jsx)("div",{className:Br().tileSizer,style:t?{flexShrink:0}:void 0,children:(0,r.jsx)(Xt.ZP,{participant:e,selected:o===e.id,channel:u,className:Br().tile,
fit:Xt.BP.COVER,onClick:l,onDoubleClick:i,onContextMenu:a,width:t?zr:n,inCall:c,paused:d,inPopout:p})},e.id)}))})}var Jr=n(581541),$r=n.n(Jr),eo=n(953514),to=n.n(eo);function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ro(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ro(e,t,n[t])}))}return e}function io(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lo=120;function uo(e){var t=e.onSelectParticipant,n=e.onContextMenuParticipant,i=e.onFullscreenParticipant,l=e.participants,u=e.filteredParticipants,c=e.popoutWindow,s=e.inCall,f=e.channel,d=e.selectedParticipant,p=e.showParticipants,h=void 0===p||p,y=e.className,b=e.paused,m=e.width,v=e.height,g=e.layout,O=e.idle,E=null!=c,C=wr.Z.getVideoComponent(),S=zt.default.getId(),j=ao(o.useState(null),2),_=j[0],I=j[1],w=ao(o.useState(!0),2),P=w[0],x=w[1],A=ao(o.useState(!1),2),T=A[0],N=A[1],M=d.type===jt.fO.ACTIVITY,Z=!M&&null!=d.streamId,L=Z&&null!=_&&_.width>0&&_.height>0?_.width/_.height:1.7777777777777777,R=v<=384,D=h&&!R,k=(0,X.Z)(D),U=0;(M||D)&&(U+=72);M&&!D&&(U+=48);D&&(U+=68);var B,F=v-2*U,G=F*L,H=Math.floor(Math.min(m,G)/L),V=v>m/L+72+lo+8;B=!D&&!M?40+Math.max(0,72-(v-H)/2):D?-16:-8;o.useEffect((function(){
var e=setTimeout((function(){x(!1)}),250);return function(){clearTimeout(e)}}),[]);var W=(0,_r.useSpring)({value:D?1:0,delay:V||!D?0:100,config:io(oo({},_r.config.stiff),{clamp:!0}),onStart:function(){return N(!0)},onChange:function(){return re.S.dispatch(oe.CkL.REMEASURE_TARGET)},onRest:function(){N(!1);re.S.dispatch(oe.CkL.REMEASURE_TARGET)}}),z=(0,_r.useSpring)({value:D?1:0,config:io(oo({},_r.config.stiff),{clamp:!0})}),Y=(0,_r.useSpring)({value:G,config:io(oo({},_r.config.stiff),{clamp:!0}),immediate:k===D&&z.value.idle}),K=(0,_r.useSpring)({value:B,config:io(oo({},_r.config.stiff),{clamp:!0})}),q=(0,_r.useTransition)(d,{keys:function(e){return null==e?void 0:e.id},config:io(oo({},_r.config.stiff),{clamp:!0}),initial:null,from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),Q=o.useCallback((function(e){I(e);x(!1)}),[]),J=D||b?[]:function(e,t,n){return null==t||t.type===jt.fO.ACTIVITY?[]:[t.type===jt.fO.STREAM?e.find((function(e){
return e.type===jt.fO.USER&&e.id===(null==t?void 0:t.user.id)&&e.id!==n&&(0,Dr.Z)(e)})):null,t.type===jt.fO.USER?e.find((function(e){return e.type===jt.fO.STREAM&&e.user.id===(null==t?void 0:t.user.id)&&null!=e.streamId})):null,t.id!==n?e.find((function(e){return e.type===jt.fO.USER&&e.id===n&&(0,Dr.Z)(e)})):null].filter(Rr.lm)}(l,d,S),$=Xr(m,u),ee=$.visibleParticipants,te=$.participantTileWidth;return(0,r.jsxs)("div",{className:a()(to().root,$r().flexCenter,y),children:[(0,r.jsxs)("div",{className:to().tileWrapper,style:{opacity:Z&&P?0:1},children:[(0,r.jsxs)(_r.animated.div,{className:to().videoFrame,style:{top:z.value.to((function(e){return-e*lo/2}))},children:[(0,r.jsx)(_r.animated.div,{style:{width:Y.value},className:to().videoWrapper,children:(0,r.jsx)(On.Z,{className:$r().videoSizer,aspectRatio:L,children:q((function(e,o,a){var l=a.key;return null!=o?(0,r.jsx)(_r.animated.div,{className:$r().videoWrapperAnimated,style:e,children:(0,r.jsx)(Xt.ZP,{focused:!0,noBorder:G>=m||F>=v,
channel:f,className:$r().focusedVideo,videoComponent:C,paused:b,width:m,participant:o,onClick:t,onDoubleClick:i,onContextMenu:n,onVideoResize:Q,inCall:s,inPopout:E})},l):null}))})}),R||g===oe.AEg.MINIMUM||g===oe.AEg.NORMAL?null:(0,r.jsx)(_r.animated.div,{className:a()(to().actionRow,ro({},to().idle,O)),style:{bottom:K.value},children:(0,r.jsx)(Ir.Z,{channelId:f.id,isParticipantsOpen:h,isVertical:!0})})]}),(0,r.jsx)(_r.animated.div,{className:to().participantsWrapperAnimated,style:{translateY:W.value.to((function(e){return e*lo/2})),opacity:W.value,visibility:W.value.to((function(e){return 0===e?"hidden":"visible"}))},children:(0,r.jsx)(Qr,{channel:f,onClick:t,onContextMenu:n,onDoubleClick:i,participants:ee,participantTileWidth:te,selectedParticipantId:d.id,inCall:s,paused:b||T||!h,popoutWindow:c})})]}),J.length>0?(0,r.jsx)(Lr,{onContextMenuParticipant:n,width:m,height:v,channel:f,participants:J}):null]})}var co=n(153996);function so(e){
var t=e.width,n=e.className,o=e.channelId,i=e.noArt,a=void 0!==i&&i;return(0,r.jsx)(fr.Z,{artURL:co,noArt:a,size:(0,fr.L)(t),className:n,callToAction:M.Z.Messages.STREAM_SHOW_ALL_PARTICIPANTS,header:M.Z.Messages.STREAM_PARTICIPANTS_HIDDEN.format(),onCTAClick:function(){return h.Z.toggleVoiceParticipantsHidden(o,!1)}})}const fo=(0,mt.Z)((function(e){var t=e.participants,n=e.filteredParticipants,i=e.selectedParticipant,l=e.participantsVersion,u=e.layout,c=e.onSelectParticipant,s=e.onContextMenuParticipant,f=e.onFullscreenParticipant,d=e.channel,p=e.hasConnectPermission,h=e.className,y=e.inCall,b=e.showParticipants,m=void 0===b||b,v=e.paused,g=void 0!==v&&v,O=e.width,C=e.height,S=e.idle,j=e.mode,_=e.popoutWindow,I=e.awaitingRemoteSessionInfo;o.useEffect((function(){re.S.dispatch(oe.CkL.REMEASURE_TARGET)}),[O,C]);var w=o.useMemo((function(){return n.filter((function(e){return e.type!==jt.fO.ACTIVITY||!e.participants.has(zt.default.getId())}))}),[n,l])
;if((null==I?void 0:I.channelId)===d.id)return(0,r.jsx)(un,{height:C});if((null==d?void 0:d.isGuildVocal())&&!y)return(0,r.jsx)(en,{channel:d,participants:t,hasConnectPermission:p});if(j===oe.WtW.VOICE)return(0,r.jsx)(Wt,{guildId:d.guild_id,width:O,className:$r().voiceCallWrapper,participants:t,onContextMenu:s});n=y?n:t;return null==i?0===n.length?(0,r.jsx)(so,{className:a()($r().videoGrid,$r().hiddenParticipants),channelId:d.id,width:O}):(0,r.jsx)(E.Z,{className:$r().videoGridWrapper,justify:E.Z.Justify.CENTER,align:E.Z.Align.CENTER,children:(0,r.jsx)(jr,{channel:d,className:$r().videoGrid,participants:w,totalNumberOfParticipants:t.length,onClick:c,onDoubleClick:f,onContextMenu:s,paused:g,inCall:y})}):(0,r.jsx)(uo,{onFullscreenParticipant:f,onContextMenuParticipant:s,onSelectParticipant:c,selectedParticipant:i,filteredParticipants:w,participants:t,popoutWindow:_,className:h,idle:S,height:C,width:O,layout:u,inCall:y,channel:d,showParticipants:m})}))
;var po,ho=n(173388),yo=n(714602),bo=n(636398),mo=n(299836),vo=n(729139),go=n(613665),Oo=n(692432),Eo=n.n(Oo);function Co(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function So(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}!function(e){e[e.UP=0]="UP";e[e.DOWN=1]="DOWN"}(po||(po={}));function jo(e){var t=e.direction,n=e.className,o=So(e,["direction","className"]);return(0,r.jsx)(me.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Co(e,t,n[t])}))}return e}({className:a()(n,Eo().arrow,Co({},Eo().up,t===po.UP)),iconComponent:go.Z},o))}jo.Directions=po;const _o=jo;var Io=n(372417),wo=n(987152),Po=n(427054),xo=n(656262),Ao=n(631443),To=n(821297),No=n(468811),Mo=n.n(No),Zo=n(77413),Lo=n(770512),Ro=n.n(Lo);function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ko(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ko(e,t,n[t])}))}return e}function Bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Go(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e){return function(e){if(Array.isArray(e))return Do(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Go(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}var Ho=[Ro().emoji1,Ro().emoji2,Ro().emoji3,Ro().emoji4],Vo=o.memo((function(e){var t,n=e.emoji,i=e.onAnimationEnd,l=(0,Be.sample)(Ho),u=o.useCallback((function(){i(n.key)}),[n.key,i]);return(0,r.jsx)("div",{className:a()(Ro().emoji,l),onAnimationEnd:u,children:(0,r.jsx)(Zo.Z,{emojiId:n.id,emojiName:n.name,animated:null!==(t=n.animated)&&void 0!==t&&t})})}));function Wo(e){var t=e.channelId,n=(0,c.e7)([tn.Z],(function(){return tn.Z.useReducedMotion})),i=Bo(o.useState([]),2),a=i[0],l=i[1];o.useEffect((function(){var e=function(e){var r=e.channelId,o=e.emoji;r!==t||n||null==o||l((function(e){return Fo(e).concat([Uo({key:Mo()()},o)])}))};p.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e);return function(){p.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}}),[t,n]);var u=o.useCallback((function(e){l((function(t){
return t.filter((function(t){return t.key!==e}))}))}),[]);return n?null:(0,r.jsx)("div",{className:Ro().container,"aria-hidden":!0,children:a.map((function(e){return(0,r.jsx)(Vo,{emoji:e,onAnimationEnd:u},e.key)}))})}var zo=n(177570),Yo=n(77457),Ko=n(610773),qo=n(717091),Xo=n(715107),Qo=n(473903),Jo=n(407561),$o=n(531441),ei=n(176758),ti=n(120415),ni=n(310126),ri=n(202181),oi=n(91036),ii=n(400572),ai=n(509097),li=n(753705),ui=n(385028),ci=n(218190),si=n(245802),fi=n(807801),di=n(28661),pi=n(773011),hi=n(469023),yi=n(201441),bi=n(373438),mi=n(269300),vi=n(616918),gi=n(864736),Oi=n.n(gi);function Ei(e){var t=e.guildEvent;return null==t?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(bi.ZP.Divider,{className:Oi().divider}),(0,r.jsx)(vi.z,{startTime:t.scheduled_start_time,isActive:(0,mi.xt)(t),isEnded:(0,mi.Z2)(t),liveText:M.Z.Messages.LIVE_EVENT,className:Oi().eventSchedule,textVariant:"text-lg/semibold",eventType:t.entity_type}),(0,r.jsx)(d.Text,{color:"header-secondary",
variant:"text-md/normal",className:Oi().eventName,children:t.name})]})}var Ci=n(572475),Si=n(283099),ji=n(684412),_i=n(179678),Ii=n(491260),wi=n(773148);var Pi=n(641277),xi=n(912250),Ai=n(616276),Ti=n(540681),Ni=n(544475),Mi=n(739849),Zi=n(667286),Li=n(353945),Ri=n(633878);function Di(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ki(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ui(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Bi(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Ui(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",ki(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Di(e,t,n[t])}))}return e}({},(0,Ri.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{className:u,x:"4",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"4",y:"13",width:"7",height:"7",rx:"1",fill:l
}),(0,r.jsx)("rect",{className:u,x:"13",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"13",y:"13",width:"7",height:"7",rx:"1",fill:l})]}))}function Fi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hi(e){var t=e.channelId,n=Gi(e,["channelId"]);return(0,r.jsx)(me.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fi(e,t,n[t])}))}return e}({onClick:function(){h.Z.selectParticipant(t,null)},label:M.Z.Messages.VIDEO_CALL_RETURN_TO_GRID,iconComponent:Bi,tooltipPosition:"bottom"},n))}var Vi=n(363582),Wi=n(303377),zi=n.n(Wi);function Yi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ki(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function qi(e){var t=e.className,n=e.count;return(0,r.jsxs)("div",{className:a()(zi().root,zi().comboIcon,t),children:[(0,r.jsx)(Vi.Z,{className:zi().icon}),(0,r.jsx)(d.Text,{color:"none",className:zi().count,
variant:"text-md/normal",children:n})]})}function Xi(e){var t=e.count,n=Ki(e,["count"]);return(0,r.jsx)(me.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yi(e,t,n[t])}))}return e}({label:M.Z.Messages.CHANNEL_CALL_PARTICIPANTS,iconComponent:function(e){var n=e.className;return(0,r.jsx)(qi,{className:n,count:t})},tooltipPosition:"bottom"},n))}function Qi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ji(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ea(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=$i(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",Ji(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qi(e,t,n[t])}))}return e}({},(0,Ri.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{className:u,x:"3",y:"3",width:"18",height:"10",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"3",y:"15",width:"8",height:"6",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"13",y:"15",width:"8",height:"6",rx:"1",fill:l})]}))}function ta(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function na(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))
;return e}function ra(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function oa(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=ra(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",na(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ta(e,t,n[t])}))}return e}({},(0,Ri.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",children:[(0,
r.jsx)("rect",{className:u,x:"1",y:"4",width:"13",height:"16",rx:"2",fill:l}),(0,r.jsx)("rect",{className:u,x:"16",y:"4",width:"7",height:"7",rx:"1",fill:l}),(0,r.jsx)("rect",{className:u,x:"16",y:"13",width:"7",height:"7",rx:"1",fill:l})]}))}function ia(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function aa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function la(e){var t=e.channelId,n=e.isHorizontal,o=aa(e,["channelId","isHorizontal"]);return(0,r.jsx)(me.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ia(e,t,n[t])}))}return e}({onClick:function(){h.Z.selectParticipant(t,jt.dF.AUTO)},label:M.Z.Messages.VIDEO_CALL_AUTO_SELECT,iconComponent:n?ea:oa,tooltipPosition:"bottom"},o))}var ua=n(377128),ca=n(91717),sa=n(977005),fa=n(950761),da=n(430510),pa=n(492692),ha=n(670843),ya=n(830271);function ba(e){var t=e.channelId,n=e.onClose,o=e.appContext,i=e.exitFullScreen,a=e.onSelect,l=(0,c.e7)([Le.Z],(function(){return Le.Z.getSelectedParticipant(t)})),u=(null==l?void 0:l.type)===jt.fO.STREAM?l.stream:null,s=(0,pe.Dd)(t),f=(0,fa.Z)(t),p=(0,pa.Z)(),h=(0,da.Z)(t),y=(0,ya.Z)(t);return(0,r.jsxs)(d.Menu,{navId:"channel-call-overflow-popout",onClose:n,"aria-label":M.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:a,children:[!s&&f,!s&&p,!s&&h,!s&&y,(0,ha.Z)(u,o,i)]})}
var ma=n(973198),va=n(602397),ga=n(929138),Oa=n.n(ga);function Ea(e){var t=e.channel,n=(0,c.e7)([va.ZP],(function(){return va.ZP.getVoiceStatesForChannel(t)}));return(0,r.jsxs)("div",{className:Oa().root,children:[(0,r.jsx)(d.Text,{variant:"text-xs/bold",className:Oa().header,children:M.Z.Messages.CHANNEL_CALL_MEMBERS_POPOUT_HEADER.format({count:n.length})}),(0,r.jsx)(d.Scroller,{className:Oa().scroller,children:(0,r.jsx)(ma.Z,{allowDragging:!1,allowPreviews:!1,className:Oa().voiceUsers,channel:t,voiceStates:n,collapsed:!1,location:oe.Sbl.CHANNEL_CALL})})]})}var Ca=n(347190),Sa=n.n(Ca);function ja(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){ja(e,t,n[t])}))}return e}function Ia(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function wa(e){var t=e.channelId,n=e.guildId,o=Date.now(),i=(0,c.e7)([ua.Z,Le.Z],(function(){return Fe()(ua.Z.getSpeakers()).map((function(e){return Le.Z.getParticipant(t,e)})).filter((function(e){return null!=e&&e.type===jt.fO.USER&&!(0,Dr.Z)(e)&&e.speaking})).sortBy((function(e){return-ua.Z.getSpeakingDuration(e.user.id,o)})).slice(0,3).value()}));return 0===i.length?null:(0,r.jsx)(r.Fragment,{children:i.map((function(e,t){return(0,r.jsx)(d.Tooltip,{position:"bottom",
color:d.Tooltip.Colors.GREY,text:M.Z.Messages.CHANNEL_CALL_CURRENT_SPEAKER.format({username:e.user.username}),children:function(o){return(0,r.jsx)(ca.Z,Ia(_a({},o),{className:a()(Sa().speaker,ja({},Sa().last,t===i.length-1)),user:e.user,speaking:!0,collapsed:!0,guildId:n}))}},e.id)}))})}function Pa(e){var t=e.channel,n=e.appContext,i=e.inCall,a=e.isChatOpen,l=e.exitFullScreen,u=t.id,s=(0,pe.Dd)(u),f=(0,c.cj)([Le.Z],(function(){return{selectedParticipant:Le.Z.getSelectedParticipant(u),voiceParticipantsHidden:Le.Z.getVoiceParticipantsHidden(u),userParticipantCount:Le.Z.getUserParticipantCount(u)}}),[t.id]),p=f.voiceParticipantsHidden,h=f.selectedParticipant,y=f.userParticipantCount,b=(0,ii.Z)(t),m=(0,bo.Y)("popup"),v=m.preventIdle,g=m.allowIdle,O=[];if(b){var E=(null==h?void 0:h.type)===jt.fO.STREAM?(0,st.my)(h.id):void 0,C=(null==h?void 0:h.type)===jt.fO.ACTIVITY?h.id:void 0;O.push((0,r.jsx)(Po.Z,{className:Sa().button,channel:t,applicationId:C,stream:E,exitFullScreen:l,
analyticsLocation:t.type===oe.d4z.GUILD_VOICE?oe.ZY5.GUILD_CHANNEL:oe.ZY5.DM_CHANNEL},"invite-button"))}p&&O.push((0,r.jsx)(wa,{channelId:u,guildId:t.guild_id},"current-speaker"));if((null==h?void 0:h.type)===jt.fO.STREAM){O.push((0,r.jsx)(Zi.Z,{className:Sa().button,participant:h},"warning"));O.push((0,r.jsx)(Ni.Z,{size:sa.ZP.Sizes.LARGE,className:Sa().button,participant:h,showQuality:!0},"live-indicator"))}p&&O.push((0,r.jsx)(d.Popout,{position:"bottom",renderPopout:function(){return(0,r.jsx)(be.Z,{children:(0,r.jsx)(Ea,{channel:t})})},children:function(e,t){var n=t.isShown;return(0,o.createElement)(Xi,Ia(_a({},e),{isActive:n,count:y,key:"call-members",className:Sa().button}))}},"call-members-popout"));i&&!s&&O.push(null!=h?(0,r.jsx)(Hi,{className:Sa().button,channelId:u},"deselect-participant"):(0,r.jsx)(la,{className:Sa().button,channelId:u,isHorizontal:!0},"select-participant"));O.push((0,r.jsx)(Mi.Z,{onOpen:v,onClose:g,className:Sa().button},"recents"));O.push((0,r.jsx)(Ti.w,{
className:Sa().button}));O.push((0,r.jsx)(d.Popout,{position:"bottom",renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(be.Z,{children:(0,r.jsx)(ba,{channelId:u,onClose:t,appContext:n,exitFullScreen:l})})},children:function(e,t){var n=t.isShown;return(0,o.createElement)(Li.Z,Ia(_a({},e),{key:"more-options",isActive:n,className:Sa().lastButton}))}},"more-options-popout"));if(!a){O.push((0,r.jsx)(bi.ZP.Divider,{className:Sa().divider},"divider"));O.push((0,r.jsx)(Io.T,{channelId:t.id,className:Sa().chatButtonSpacer,disabled:!0},"chat-spacer"))}return(0,r.jsx)(r.Fragment,{children:O})}var xa=n(796080),Aa=n(520453),Ta=n(999042),Na=n.n(Ta);function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Za(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function La(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){Za(i,r,o,a,l,"next",e)}function l(e){Za(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ra(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ma(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ka=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Ua(e){var t=e.focusedParticipant,n=e.channel,o=(0,J.bp)(),i=(0,c.e7)([Le.Z],(function(){return Le.Z.getLayout(n.id,o)}));return(0,r.jsx)(bo.Z,{children:(0,r.jsx)(xa.Z,{className:Na().participants,participant:t,maxVisibleUsers:5,guildId:n.getGuildId(),channelId:n.id,disableInteraction:o===oe.IlC.POPOUT||i===oe.AEg.FULL_SCREEN})})}function Ba(e){var t=e.user,n=e.channel,o=e.stream,i=e.color,a=function(e,t,n){var r=(0,c.e7)([Ii.Z],(function(){return null!=n?(0,_i.L2)(n,Ii.Z):null}),[n]),o=wi.Z.getName(e.getGuildId(),e.id,t);return null==n?o:null!=(null==r?void 0:r.name)?M.Z.Messages.GO_LIVE_USER_PLAYING.format({applicationName:null==r?void 0:r.name,username:o}):M.Z.Messages.GO_LIVE_TILE_SCREEN.format({username:o})}(n,t,o)
;return null==t||null==o?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ui.Z,{className:Na().avatar,size:d.AvatarSizes.SIZE_24,user:t,animate:!1}),(0,r.jsx)(d.Text,{className:Na().playingText,variant:"text-md/medium",color:i,children:a})]})}function Fa(e){var t,n=e.focusedApplication,o=e.focusedParticipant,i=e.channel,a=(0,ii.Z)(i,!0),l=(0,yi.qY)(i.id),u=null!=l;if((null==o?void 0:o.type)===jt.fO.ACTIVITY)null!=n&&(t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(bi.ZP.Divider,{className:Na().divider}),(0,r.jsx)(Pi.Z,{game:n,className:Na().activityIcon}),(0,r.jsx)(d.Text,{className:Na().playingText,variant:"text-md/normal",color:"none",children:(0,fi.Z)(n.name)}),a&&(0,r.jsx)(Ua,{channel:i,focusedParticipant:o})]}));else if((null==o?void 0:o.type)===jt.fO.STREAM){var c=o.user,s=o.stream;t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(bi.ZP.Divider,{className:Na().divider}),(0,r.jsx)(Ba,{user:c,channel:i,stream:s,color:a?"header-primary":"none"}),a&&(0,r.jsx)(Ua,{channel:i,
focusedParticipant:o})]})}else u&&(t=(0,r.jsx)(Ei,{guildEvent:l}));return(0,r.jsx)("div",{className:Na().container,children:t})}function Ga(e){var t,o,i=e.channel,a=e.guild,l=e.appContext,u=e.inCall,s=e.isChatOpen,f=e.exitFullScreen,p=(0,c.cj)([Le.Z],(function(){return{focusedParticipant:Le.Z.getSelectedParticipant(i.id),participantsOpen:Le.Z.getParticipantsOpen(i.id)}}),[i.id]).focusedParticipant,h=(0,pi.ZP)(i),y=(0,pe.Dd)(i.id),b=(0,hi.Z)(i),m=si.Z.useExperiment({guildId:null!==(o=null==a?void 0:a.id)&&void 0!==o?o:""},{autoTrackExposure:!0}).enabled,v=Da((0,di.Z)((null==p?void 0:p.type)===jt.fO.ACTIVITY?[p.id]:[]),1)[0],g=M.Z.Messages.VOICE_CHANNEL;i.isDM()?g=M.Z.Messages.DM:i.isGroupDM()&&(g=M.Z.Messages.GROUP_DM);var O=ci.G.useExperiment({},{autoTrackExposure:!1}),E=O.enabled,C=O.left,S=null===(t=(0,Ci.ZP)(i.id,!E))||void 0===t?void 0:t.name,j=null!=S&&(0,r.jsx)(ji.MA,{emoji:S,channelEmojiLeftOfIcon:C,channel:i}),_=i.isGuildVoice()&&m?(0,r.jsxs)(d.Clickable,{
className:Na().clickable,onClick:function(){(0,d.openModalLazy)(La((function(){var e,t;return ka(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(56730)]).then(n.bind(n,956730))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ra(e,t,n[t])}))}return e}({channel:i},e))}]}}))})))},children:[(0,r.jsx)(Ai.Z,{foreground:Na().leftStar}),(0,r.jsx)($o.IG,{disableColor:!0,className:Na().newBadge,text:M.Z.Messages.NEW}),M.Z.Messages.VOICE_CHANNEL_SET_TOPIC,(0,r.jsx)(xi.Z,{className:Na().pencilIcon,width:14,height:14}),(0,r.jsx)(Ai.Z,{foreground:Na().rightStar})]}):null;return(0,r.jsxs)(bi.ZP,{onDoubleClick:Si.O,transparent:!0,className:(0,
Wn.Q)(Aa.BR.DARK),toolbar:(0,r.jsx)(Pa,{channel:i,appContext:l,inCall:u,isChatOpen:s,exitFullScreen:f}),children:[C&&j,null!=b?(0,r.jsx)(bi.ZP.Icon,{icon:b,disabled:!0,"aria-label":g}):null,!C&&j,(0,r.jsx)(bi.ZP.Title,{children:h}),_,(0,r.jsx)(ji.TS,{channel:i,guild:a}),!y&&(0,r.jsx)(Fa,{focusedApplication:v,focusedParticipant:p,channel:i})]})}var Ha=(0,d.createLayer)("VoiceChannelEffectsCall"),Va=Ha.Layer,Wa=Ha.LayerContainer,za=Ha.LayerProvider,Ya=Wa,Ka=za;const qa=Va;var Xa=n(9134),Qa=n(182306),Ja=n(563135),$a=n(318715),el=n(468874),tl=n(407761),nl=n(99452),rl=n(472034),ol=n(15162),il=n(668785),al=n(962627),ll=n.n(al);function ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cl(e,t,n[t])}))}return e}function fl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ul(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ul(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pl(e){var t=e.renderPopout,n=e.onMouseEnter,i=e.onMouseLeave,a=e.closePopout,l=e.isHovered,u=fl(e,["renderPopout","onMouseEnter","onMouseLeave","closePopout","isHovered"]);o.useEffect((function(){l||a()}),[a,l]);return(0,r.jsx)("div",{onMouseEnter:n,onMouseLeave:i,children:t(sl({closePopout:a},u))})}function hl(e){var t=e.renderPopout,n=e.children,i=function(e){"focus"===e.type||c||y()},a=function(){c||b()},l=function(e){m();s(!c);p&&!c||e()},u=dl(o.useState(!1),2),c=u[0],s=u[1],f=(0,
ol.Z)(200,300),p=f.isHovered,h=f.setIsHovered,y=f.onMouseEnter,b=f.onMouseLeave,m=f.cancelTimers,v=p||c;return(0,r.jsx)(d.Popout,{shouldShow:v,animationPosition:"top",position:"top",align:"left",spacing:16,onRequestClose:function(){h(!1);s(!1)},renderPopout:function(e){return(0,r.jsx)(pl,sl({isHovered:v,onFocus:function(){return s(!0)},onMouseEnter:y,onMouseLeave:a,renderPopout:t},e))},children:function(e){var t=e.onClick,o=e.onKeyDown;return(0,r.jsx)(r.Fragment,{children:n({onClick:function(e){return l((function(){return t(e)}))},onKeyDown:function(e){return function(e,t){e.key!==il.vn.ENTER&&e.key!==il.vn.SPACE||l((function(){return t(e)}))}(e,o)},className:ll().actionBarButton,onMouseEnter:i,onMouseLeave:a,isActive:v})})}})}function yl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bl(){bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
;for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return bl.apply(this,arguments)}function ml(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vl(){var e=(0,$a.ZP)([tl.Z],(function(){return tl.Z.getDrawMode()})),t=(null==e?void 0:e.type)===nl.W.LINE,n=function(){t?(0,el.Bo)(null):(0,el.Bo)({type:nl.W.LINE})};return(0,r.jsx)(hl,{renderPopout:function(){return null},children:function(e){var o=bl({},e);return(0,r.jsx)(me.Z,ml(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yl(e,t,n[t])}))}return e}({},o),{label:M.Z.Messages.SHARED_CANVAS_DRAW_MODE_LINE,isActive:t,iconComponent:rl.Z,onClick:n}))}})}var gl=n(869530);function Ol(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function El(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Sl(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Cl(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",El(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ol(e,t,n[t])}))}return e}({},(0,Ri.Z)(c)),{width:n,height:i,viewBox:"0 0 20 16",children:[(0,r.jsx)("path",{
d:"M15.428 8.127H4.368a.923.923 0 0 1-.921-.921c0-.576.533-.859 1.012-.931l8.656-1.754-.49-2.782L4.3 3.524C2.068 3.856.681 5.267.681 7.206a3.69 3.69 0 0 0 3.687 3.686h11.06a.922.922 0 0 1 0 1.843H2.063a.46.46 0 0 0-.461.461v1.843a.46.46 0 0 0 .46.461h13.364a3.686 3.686 0 1 0 0-7.373Z",fill:l,className:u}),(0,r.jsx)("path",{d:"M19.152 1.602a.46.46 0 0 0-.477-.38l-3.305.166-.089-.507a.46.46 0 0 0-.534-.374l-.907.16a.46.46 0 0 0-.374.534l.64 3.63a.46.46 0 0 0 .534.374l.908-.16a.46.46 0 0 0 .373-.534l-.09-.507 3.163-.974a.46.46 0 0 0 .318-.52l-.16-.908Z",fill:l,className:u})]}))}function jl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Il(e){var t=e.channel,n=(0,$a.ZP)([tl.Z],(function(){return tl.Z.getDrawMode()})),o=(null==n?void 0:n.type)===nl.W.EMOJI_HOSE,i=function(e,t){null!=e?(0,el.Bo)({type:nl.W.EMOJI_HOSE,emojiName:e.name,emojiId:e.id}):o&&(0,el.Bo)(null);null==t||t()};return(0,r.jsx)(hl,{renderPopout:function(e){var n=e.closePopout,o=e.onFocus;return(0,r.jsx)(be.Z,{children:(0,r.jsx)(gl.Z,{title:M.Z.Messages.SHARED_CANVAS_DRAW_MODE_EMOJI_HOSE,channel:t,closePopout:n,onFocus:o,onSelectEmoji:function(e){return i(e,n)}})})},children:function(e){return(0,r.jsx)(me.Z,_l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jl(e,t,n[t])}))}return e}({},e),{iconComponent:Sl,isActive:o||e.isActive,onClick:function(t){i(null);e.onClick(t)}}))}})}var wl=n(73407),Pl=n(761449),xl=n(986279),Al=n(957430);function Tl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Nl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ml(e){var t=e.channel,n=(0,c.e7)([xl.Z],(function(){return xl.Z.effectCooldownEndTime})),i=o.useMemo((function(){return null!=n?(n.getTime()-Date.now())/1e3:0}),[n]),a=(0,wl.Z)(null!=n?n:new Date).seconds,l=a>0;return(0,r.jsx)(hl,{
renderPopout:function(e){var n=e.closePopout,o=e.onFocus;return(0,r.jsx)(be.Z,{children:(0,r.jsx)(Al.Z,{channel:t,closePopout:n,onFocus:o})})},children:function(e){var t=e.onMouseEnter,n=Nl(e,["onMouseEnter"]);return(0,r.jsx)(Pl.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Tl(e,t,n[t])}))}return e}({totalCooldownSeconds:i,remainingCooldownSeconds:a,onMouseEnter:function(e){return function(e,t){l||t(e)}(e,t)}},n))}})}var Zl=n(594125),Ll=n(79987),Rl=n(203158);function Dl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function kl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dl(i,r,o,a,l,"next",e)}function l(e){
Dl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ul(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ul(e,t,n[t])}))}return e}var Fl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Gl(e){var t=e.channel,o=e.themeable,i=function(e){null!=a&&(0,y.jW)(e,kl((function(){var e,t;return Fl(this,(function(o){switch(o.label){case 0:return[4,n.e(56674).then(n.bind(n,656674))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Bl({guildId:a},e))}]}}))})))},a=t.getGuildId(),l=(0,Ll.Z)(t),u=l.mute,c=l.suppress,s=(0,$a.ZP)([wr.Z],(function(){return wr.Z.isDeaf()}));return(0,r.jsx)(hl,{
renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(be.Z,{children:(0,r.jsx)(Zl.Z,{guildId:a,channel:t,onClose:n,analyticsSource:"action bar button"})})},children:function(e){return(0,r.jsx)(me.Z,Bl({themeable:o,label:u?M.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_GUILD_MUTE:c?M.Z.Messages.SOUNDBOARD_OPEN_SOUNDBOARD_ERROR_SUPPRESSED:s?M.Z.Messages.SOUNDBOARD_OPEN_SOUNBOARRD_ERROR_DEAFENED:void 0,iconComponent:Rl.Z,disabled:u||c||s,onContextMenu:i},e))}})}var Hl=n(532378);function Vl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Wl(){Wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return Wl.apply(this,arguments)}function zl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Yl(){var e=(0,$a.ZP)([tl.Z],(function(){return!tl.Z.visibleOverlayCanvas}));return(0,r.jsx)(hl,{renderPopout:function(){return null},children:function(t){var n=Wl({},t);return(0,r.jsx)(me.Z,zl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vl(e,t,n[t])}))}return e}({},n),{label:M.Z.Messages.SHARED_CANVAS_HIDE_OVERLAY_DRAWINGS,isActive:e,iconComponent:Hl.Z,onClick:el.LT}))}})}var Kl=n(80305),ql=n.n(Kl);function Xl(e){
var t,n=e.channel,o=e.hasActiveStream,i=e.themeable,a=void 0!==i&&i,l=(0,c.e7)([Qo.default],(function(){var e=Qo.default.getCurrentUser();u()(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),s=null!=(0,Ze.Z)(),f=Xa.Z.useExperiment({guildId:null!==(t=null==n?void 0:n.guild_id)&&void 0!==t?t:""}).isSharedCanvasEnabled;if(null==n||s)return null;var d=(0,Qa.Z)(n),p=Ja.ZP.can({permission:oe.Plq.ADD_REACTIONS,user:l,context:n});return(0,r.jsxs)("div",{className:ql().voiceEffectsActionBar,children:[d&&(0,r.jsx)(Gl,{channel:n,themeable:a}),p&&(0,r.jsx)(Ml,{channel:n}),f&&o&&(0,r.jsx)(vl,{}),f&&o&&(0,r.jsx)(Il,{channel:n}),f&&o&&(0,r.jsx)(Yl,{})]})}var Ql=n(730704),Jl=n.n(Ql);function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e)
;return}l.done?t(u):Promise.resolve(u).then(r,o)}function nu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tu(i,r,o,a,l,"next",e)}function l(e){tu(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ru(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function iu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function au(e){au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return au(e)}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){iu(e,t,n[t])}))}return e}function uu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function cu(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?eu(e):t}function su(e,t){su=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return su(e,t)}function fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var du=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=au(e);if(t){var o=au(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cu(this,n)}}var hu,yu,bu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},mu=(iu(hu={},oe.AEg.NORMAL,Jl().normal),iu(hu,oe.AEg.MINIMUM,Jl().minimum),iu(hu,oe.AEg.NO_CHAT,Jl().noChat),iu(hu,oe.AEg.FULL_SCREEN,Jl().fullScreen),hu),vu=(iu(yu={},oe.IlC.POPOUT,Jl().popout),iu(yu,oe.IlC.APP,null),iu(yu,oe.IlC.OVERLAY,null),yu);function gu(e){var t=e.resizableNode,n=e.onResize,i=e.onResizeEnd,a=e.maxHeight,l=fu(o.useState(null),2),u=l[0],c=l[1];o.useEffect((function(){var e,n;c(null!==(n=null===(e=t.current)||void 0===e?void 0:e.offsetHeight)&&void 0!==n?n:null)}),[t]);var s=(0,Q.Z)({initialElementDimension:u,minDimension:200,maxDimension:a,resizableDomNodeRef:t,onElementResize:n,onElementResizeEnd:i,orientation:Q.y.VERTICAL_BOTTOM});return(0,r.jsx)("div",{onMouseDown:s,className:Jl().resizeHandle})}var Ou=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&su(e,t)}(i,e);var t=pu(i);function i(){ru(this,i);var e;(e=t.apply(this,arguments))._prevLayout=oe.AEg.MINIMUM;e._wrapperRef=o.createRef();e._callContainerRef=o.createRef();e._channelChatRef=o.createRef();e._contentRef=o.createRef();e._videoBackgroundTooltipTimeout=new f.V7;e._lastIdleProps=null;e.state={resizedHeight:yt.ZP.callHeaderHeight};e.handleFullScreenChange=function(){var t=e.getRootNode();null!=t&&((0,ri.rB)(t,e.currentDocument)||e.props.layout!==oe.AEg.FULL_SCREEN||e.handleFullScreen())};e.handleFullScreen=function(){var t=e.getRootNode();if(null!=t)if(e.props.layout!==oe.AEg.FULL_SCREEN){e._prevLayout=e.props.layout;e.handleChangeLayout(oe.AEg.FULL_SCREEN);(0,ri.Dj)(t)}else e.maybeLeaveFullScreen()};e.maybeLeaveFullScreen=function(){var t=e.getRootNode()
;if(null!=t&&e.props.layout===oe.AEg.FULL_SCREEN){e.handleChangeLayout(e._prevLayout);(0,ri.Pr)(t,e.currentDocument)}};e.handleToggleLayout=function(){e.handleChangeLayout(e.props.layout===oe.AEg.NORMAL?oe.AEg.NO_CHAT:oe.AEg.NORMAL)};e.handleChangeLayout=function(t){var n=e.props,r=n.channel,o=n.appContext;if(n.layout!==t){h.Z.updateLayout(r.id,t,o);t===oe.AEg.FULL_SCREEN&&r.isPrivate()&&re.S.dispatch(oe.CkL.TEXTAREA_BLUR)}};e.handleDisconnect=function(){e.props.layout===oe.AEg.FULL_SCREEN&&e.handleFullScreen()};e.handleContextMenu=function(t,o){var i,a,l=e.props,c=l.channel,s=l.appContext,f=l.layout,d={onClose:function(){var t;return null===(t=e._lastIdleProps)||void 0===t?void 0:t.onAllowIdle("menu")},context:s};null===(i=e._lastIdleProps)||void 0===i||i.onPreventIdle("menu");null===(a=e._lastIdleProps)||void 0===a||a.onActive();switch(t.type){case jt.fO.HIDDEN_STREAM:case jt.fO.STREAM:var p=eu(e);(0,y.jW)(o,nu((function(){var e,o;return bu(this,(function(i){switch(i.label){case 0:
return[4,n.e(97848).then(n.bind(n,997848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,uu(lu({},e),{stream:t.stream,exitFullscreen:p.maybeLeaveFullScreen,appContext:s}))}]}}))})),d);return;case jt.fO.USER:var h=Qo.default.getUser(t.id);if(null!=h)switch(c.type){case oe.d4z.DM:return(0,y.jW)(o,nu((function(){var e,t;return bu(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(50865)]).then(n.bind(n,550865))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uu(lu({},e),{showChannelCallItems:!0,showMediaItems:!0,user:h,channel:c,showModalItems:!0}))}]}}))})),d);case oe.d4z.GROUP_DM:return(0,y.jW)(o,nu((function(){var e,t;return bu(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(97539)]).then(n.bind(n,597539))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uu(lu({},e),{showChannelCallItems:!0,showMediaItems:!0,
showChatItems:f===oe.AEg.MINIMUM||f===oe.AEg.NORMAL,user:h,channel:c,showModalItems:!0}))}]}}))})),d);case oe.d4z.GUILD_VOICE:var b=c.getGuildId();u()(null!=b,"GuildID null for guild voice channel");return(0,y.jW)(o,nu((function(){var e,t;return bu(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,uu(lu({},e),{showMediaItems:!0,showChannelCallItems:!0,showChatItems:!1,user:h,channel:c,guildId:b,showModalItems:!0}))}]}}))})),d)}}};e.handleCallResize=function(t){e.setState({resizedHeight:t})};e.handleSelectParticipant=function(t,n){var r=e.props,o=r.channel,i=r.selectedParticipant,a=r.allActiveStreams,l=r.inCall,u=r.mode;if((0,jt._5)(t)&&(0,ft.p9)(o,Jo.Z,vn.Z,gn.Z,Me.Z)[0]){b.default.selectVoiceChannel(o.id);0===a.filter((function(e){return(0,st.V9)(e)===t.id&&e.state!==oe.jm8.ENDED})).length&&(0,m.rn)((0,st.my)(t.id),{
forceMultiple:n.shiftKey})}l&&u===oe.WtW.VIDEO&&((null==i?void 0:i.id)===t.id?h.Z.selectParticipant(o.id,null):h.Z.selectParticipant(o.id,t.id))};e.handleOpenPopout=function(){var t=e.props,n=t.channel,r=function(){var e=n.getGuildId();null!=e&&(0,ht.uL)((0,ei.LY)(e));dt.hP(n)};t.connectedToEmbeddedActivity?(0,ne.Z)(r):r()};e.handleStayOnTop=function(e){dt.hY(oe.KJ3.CHANNEL_CALL_POPOUT,e)};e.handleClosePopout=function(){dt.xv(oe.KJ3.CHANNEL_CALL_POPOUT)};e.handleFullscreenParticipant=function(t,n){var r=e.props,o=r.layout,i=r.selectedParticipant,a=o===oe.AEg.FULL_SCREEN;(!a&&(null==i?void 0:i.id)!==t.id||a&&(null==i?void 0:i.id)===t.id)&&e.handleSelectParticipant(t,n);e.handleFullScreen()};e.renderRegionSelect=function(){var t,n=e.props,o=n.call,i=n.channel,a=n.layout;e.inPopout||a===oe.AEg.FULL_SCREEN||null==o||i.isManaged()||(t=(0,r.jsx)(Y,{call:o}));return(0,r.jsx)(E.Z,{justify:E.Z.Justify.END,children:t})};e.renderBottomCenter=function(){
var t=e.props,n=t.channel,o=t.inCall,i=t.layout;return o||i===oe.AEg.MINIMUM||i===oe.AEg.NORMAL?(0,r.jsx)(bt.ZP,{exitFullScreen:e.maybeLeaveFullScreen,channel:n,onDisconnectCall:e.handleDisconnect,idleProps:e._lastIdleProps}):null};e.renderBottomLeft=function(){var t=e.props,n=t.layout,o=t.mentionCount,i=t.channel,l=t.appContext,u=t.useNewInviteButton,c=t.selectedParticipant,s=t.shouldUseVoiceEffectsActionBar,f=t.inCall,d=t.participants;if(!f)return null;var p=n===oe.AEg.NO_CHAT?_o.Directions.UP:_o.Directions.DOWN,h=[oe.AEg.FULL_SCREEN,oe.AEg.NO_CHAT].includes(n),y=d.some((function(e){return e.type===jt.fO.STREAM})),b=n===oe.AEg.FULL_SCREEN?function(){e._prevLayout=oe.AEg.NORMAL;e.handleFullScreen()}:e.handleToggleLayout,m=e.viewProperties,v=m.canChangeLayout,g=m.canInvite,O=u?(0,r.jsx)(ho.Z,{channel:i,stream:(null==c?void 0:c.type)===jt.fO.STREAM?(0,st.my)(c.id):void 0,applicationId:(null==c?void 0:c.type)===jt.fO.ACTIVITY?c.id:void 0,appContext:l,className:Jl().leftTrayIcon,
exitFullScreen:e.maybeLeaveFullScreen,analyticsLocation:i.type===oe.d4z.GUILD_VOICE?oe.ZY5.GUILD_CHANNEL:oe.ZY5.DM_CHANNEL}):(0,r.jsx)(Po.Z,{channel:i,stream:(null==c?void 0:c.type)===jt.fO.STREAM?(0,st.my)(c.id):void 0,className:Jl().leftTrayIcon,exitFullScreen:e.maybeLeaveFullScreen,analyticsLocation:i.type===oe.d4z.GUILD_VOICE?oe.ZY5.GUILD_CHANNEL:oe.ZY5.DM_CHANNEL});return(0,r.jsxs)(r.Fragment,{children:[g&&!s?O:null,v?(0,r.jsxs)(E.Z,{className:Jl().iconWrapper,align:E.Z.Align.CENTER,grow:0,children:[(0,r.jsx)(_o,{label:h?M.Z.Messages.SHOW_CHAT:M.Z.Messages.HIDE_CHAT,direction:p,className:Jl().leftTrayIcon,onClick:b}),h&&o>0?(0,r.jsx)($o.mA,{className:Jl().badge,count:o}):null]}):null,(null==c?void 0:c.type)!==jt.fO.STREAM&&(null==c?void 0:c.type)!==jt.fO.ACTIVITY||s?null:(0,r.jsx)(bo.Z,{children:(0,r.jsx)(xa.Z,{className:a()(Jl().leftTrayIcon,Jl().viewersButton),participant:c,maxVisibleUsers:4,guildId:i.getGuildId(),channelId:i.id,
disableInteraction:e.inPopout||n===oe.AEg.FULL_SCREEN})}),s&&(0,r.jsx)(Xl,{channel:i,hasActiveStream:y,themeable:e.viewProperties.useTheme}),(0,r.jsx)(ct,{showLeftDivider:s,themeable:e.viewProperties.useTheme,className:Jl().leftTrayIcon,channel:i})]})};e.renderBottomRight=function(){var t=e.props,n=t.popoutWindow,o=t.popoutWindowAlwaysOnTop,i=t.currentUserId,a=t.selectedParticipant,l=t.clipsEnabled,u=e.viewProperties,c=u.canFullscreen,s=u.canStayOnTop,f=u.canPopout,d=u.useTheme;return(0,r.jsxs)(r.Fragment,{children:[l&&(null==a?void 0:a.type)===jt.fO.STREAM?(0,r.jsx)(Te,{className:Jl().rightTrayIcon,participant:a}):null,null!=a&&a.type!==jt.fO.ACTIVITY&&a.user.id!==i?(0,r.jsx)(To.Z,{context:(0,oi.Z)(a.type),userId:a.user.id,currentWindow:e.inPopout?null!=n?n:void 0:window,sliderClassName:Jl().volumeSlider,className:Jl().rightTrayIcon}):null,s?(0,r.jsx)(Ao.Z,{className:Jl().rightTrayIcon,popoutWindowAlwaysOnTop:o,onToggleStayOnTop:e.handleStayOnTop}):null,f?(0,r.jsx)(xo.Z,{themeable:d,
popoutOpen:e.popoutOpen,className:Jl().rightTrayIcon,onOpenPopout:e.handleOpenPopout,onClosePopout:e.handleClosePopout}):null,c?(0,r.jsx)(wo.Z,{themeable:d,node:e.getRootNode(),guestWindow:n,className:Jl().rightTrayIcon,onClick:e.handleFullScreen}):null]})};e.renderChatButton=function(t){var n=t.className,o=t.showingClassName,i=e.props,a=i.channel,l=i.chatOpen,u=i.inCall;return l||e.popoutOpen&&!e.inPopout&&u?null:(0,r.jsx)(Io.T,{channelId:a.id,className:n,showingClassName:o})};e.renderChatToasts=function(){var t=e.props,n=t.showChatToasts,o=t.chatOpen,i=t.channel,a=t.inCall;return!n||o||e.popoutOpen&&!e.inPopout&&a?null:(0,r.jsx)(ai.ZP,{children:(0,r.jsx)(mo.Z,{className:Jl().chatToasts,channelId:i.id})})};e.renderVoiceChannelEffects=function(){var t=e.props.channel;return(0,r.jsx)(qa,{children:(0,r.jsx)(Wo,{channelId:t.id})})};e.renderHeader=function(){
var t=e.props,n=t.renderExternalHeader,o=t.channel,i=t.guild,a=t.appContext,l=t.chatOpen,u=t.inCall,c=e.viewProperties,s=c.useExternalHeader,f=c.canSelectRegion;return c.renderHeader?(0,r.jsxs)(bo.Z,{children:[(0,r.jsx)("div",{className:Jl().headerWrapper,children:s?null==n?void 0:n():(0,r.jsx)(Ga,{channel:o,guild:i,appContext:a,inCall:u,isChatOpen:l||e.popoutOpen&&!e.inPopout&&u,exitFullScreen:e.maybeLeaveFullScreen})}),f?e.renderRegionSelect():null]}):null};return e}var l=i.prototype;l.getRootNode=function(){var e,t;return(null!==(t=null===(e=this.props.popoutWindow)||void 0===e?void 0:e.window)&&void 0!==t?t:window).document.getElementById("app-mount")};l.componentDidMount=function(){var e=this.props,t=e.channel,n=e.layout;this.currentDocument.addEventListener(ri.NO,this.handleFullScreenChange);Vn.default.track(oe.rMx.VIDEO_LAYOUT_TOGGLED,lu({video_layout:this.inPopout?"popout":n},(0,fe.AB)(t.id)))};l.componentWillUnmount=function(){this._videoBackgroundTooltipTimeout.stop()
;this.currentDocument.removeEventListener(ri.NO,this.handleFullScreenChange);this.inPopout&&(0,ti.id)()||this.maybeLeaveFullScreen()};l.componentDidUpdate=function(e){var t=this,n=this.props,r=n.participantsOpen,o=n.inCall,i=n.mode,a=n.layout,l=this.getRootNode();null!=l&&e.mode===oe.WtW.VIDEO&&i===oe.WtW.VOICE&&(0,ri.rB)(l,this.currentDocument)&&(0,ri.Pr)(l,this.currentDocument);if(e.participantsOpen!==r||a!==e.layout){var u;null===(u=this._contentRef.current)||void 0===u||u.triggerResize()}e.inCall&&!o&&this.inPopout&&p.Z.wait((function(){return t.handleClosePopout()}))};l.renderContent=function(e){var t=this.props,n=t.selectedParticipant,o=t.inCall,i=t.hasConnectPermission,a=t.mode,l=t.popoutWindow,u=t.participantsOpen,c=t.participants,s=t.filteredParticipants,f=t.participantsVersion,d=t.channel,p=t.guild,h=t.layout,y=t.forceShowControls,b=t.awaitingRemoteSessionInfo,m=h===oe.AEg.MINIMUM,v=m||h===oe.AEg.NORMAL,g=o&&a===oe.WtW.VIDEO;this._lastIdleProps=e;return(0,r.jsx)(vo.Z,uu(lu({
renderHeader:this.renderHeader,renderBottomLeft:this.renderBottomLeft,renderBottomCenter:this.renderBottomCenter,renderBottomRight:this.renderBottomRight,renderChatButton:d.isGuildVoice()?this.renderChatButton:void 0,renderChatToasts:d.isGuildVoice()?this.renderChatToasts:void 0,renderVoiceChannelEffects:this.renderVoiceChannelEffects},e),{screenMessage:this.screenMessage,disableGradients:m,idle:!y&&o&&!m&&e.idle,children:o&&this.popoutOpen&&!this.inPopout?null:(0,r.jsx)(fo,{ref:this._contentRef,inCall:o,paused:this.paused,channel:d,hasConnectPermission:i,guild:p,participants:c,filteredParticipants:s,participantsVersion:f,selectedParticipant:g?n:null,layout:h,idle:e.idle,mode:a,onSelectParticipant:this.handleSelectParticipant,onContextMenuParticipant:this.handleContextMenu,showParticipants:u&&!v,popoutWindow:this.inPopout?l:null,awaitingRemoteSessionInfo:b})}))};l.render=function(){
var e,t=this,n=this.props,o=n.layout,i=n.channel,l=n.guild,u=n.mode,c=n.chatOpen,s=n.appContext,f=n.maxSidebarWidth,d=n.maxHeight,p=n.inCall,h=this.state.resizedHeight,y=u===oe.WtW.VIDEO,b=o!==oe.AEg.NO_CHAT&&o!==oe.AEg.FULL_SCREEN&&null!=d;return(0,r.jsxs)("div",{className:a()(Jl().wrapper,mu[o],vu[s],(e={},iu(e,Jl().poppedOut,this.popoutOpen&&!this.inPopout&&o!==oe.AEg.NO_CHAT&&i.isPrivate()),iu(e,Jl().video,y),iu(e,Jl().chatSidebarOpen,c),e)),ref:function(e){t._wrapperRef.current=e;t.props.wrapperRef.current=e},style:b&&null!=h?{minHeight:200,maxHeight:d,height:h}:void 0,children:[(0,r.jsx)("div",{className:a()(Jl().callContainer,iu({},(0,Wn.Q)(oe.BRd.DARK),y)),ref:function(e){t._callContainerRef.current=e;t.props.callContainerRef.current=e},children:(0,r.jsx)(yo.ZP,{timeout:2e3,children:function(e){return t.renderContent(e)}})}),b&&(0,r.jsx)(gu,{maxHeight:d,resizableNode:this._wrapperRef,onResize:this.handleCallResize,onResizeEnd:this.props.updateStoredCallHeaderHeight}),(0,
r.jsx)("div",{className:Jl().channelChatWrapper,ref:function(e){t._channelChatRef.current=e;t.props.channelChatRef.current=e},children:c&&(!p||!this.popoutOpen||this.inPopout)&&(0,r.jsx)(li.Z,{channel:i,guild:l,maxWidth:f})})]})};!function(e,t,n){t&&ou(e.prototype,t);n&&ou(e,n)}(i,[{key:"nativePopoutSupported",get:function(){return ti.FB&&ni.default.supportsFeature(oe.eRX.POPOUT_WINDOWS)}},{key:"popoutSupported",get:function(){return!ti.FB||this.nativePopoutSupported}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"currentDocument",get:function(){var e=this.props.popoutWindow;return null!=e&&this.popoutOpen&&this.inPopout?e.document:document}},{key:"screenMessage",get:function(){return this.popoutOpen&&!this.inPopout&&this.props.inCall?{mainText:M.Z.Messages.POPOUT_PLAYER_OPENED}:null}},{key:"paused",get:function(){return this.popoutOpen&&!this.inPopout}},{key:"inPopout",get:function(){return this.props.appContext===oe.IlC.POPOUT}},{
key:"viewProperties",get:function(){var e=this.props,t=e.layout,n=e.mode,r=e.channel,o=e.inCall,i=(0,pe.V1)(r.id),a=n===oe.WtW.VIDEO&&o&&!(this.popoutOpen&&!this.inPopout),l=n===oe.WtW.VIDEO&&o&&this.popoutSupported,u=n!==oe.WtW.VOICE&&r.isPrivate()&&!this.inPopout&&o&&!i,c=r.type===oe.d4z.GUILD_VOICE,s=t===oe.AEg.MINIMUM||t===oe.AEg.NORMAL,f=this.inPopout&&this.nativePopoutSupported,d={renderHeader:!0,useTheme:!1,useExternalHeader:s,canInvite:c,canPopout:l,canFullscreen:a,canSelectRegion:r.isPrivate(),canChangeLayout:u,canStayOnTop:f};if(!o)return uu(lu({},d),{canFullscreen:a,useTheme:!0});switch(t){case oe.AEg.FULL_SCREEN:return uu(lu({},d),{canPopout:!this.inPopout&&this.popoutOpen&&d.canPopout});case oe.AEg.MINIMUM:return uu(lu({},d),{canPopout:!1,useTheme:!0});case oe.AEg.NO_CHAT:case oe.AEg.NORMAL:return lu({},d)}}}]);return i}(o.PureComponent);const Eu=function(e){var t,n,i=e.channel,a=e.renderExternalHeader,l=e.maxHeight,u=(0,q.Z)(),f=u.width,p=void 0===f?0:f,h=u.ref,y=(0,
q.Z)(),b=y.width,m=void 0===b?0:b,g=y.height,O=void 0===g?0:g,E=y.ref,C=(0,q.Z)().ref,S=(0,J.bp)(),j=(0,Ze.Z)(),_=(0,c.e7)([Xo.Z],(function(){return(null!==(t=null==j?void 0:j.channelId)&&void 0!==t?t:Xo.Z.getVoiceChannelId())===i.id})),I=(0,c.cj)([Le.Z],(function(){var e=S===oe.IlC.POPOUT,t=Le.Z.getMode(i.id);e&&(t=oe.WtW.VIDEO);var n=t===oe.WtW.VIDEO?Le.Z.getLayout(i.id,S):oe.AEg.MINIMUM;e&&n!==oe.AEg.FULL_SCREEN&&(n=oe.AEg.NO_CHAT);return{mode:t,layout:n,selectedParticipant:t!==oe.WtW.VOICE?Le.Z.getSelectedParticipant(i.id):null,participants:Le.Z.getParticipants(i.id),filteredParticipants:Le.Z.getFilteredParticipants(i.id),participantsOpen:Le.Z.getParticipantsOpen(i.id),chatOpen:Le.Z.getChatOpen(i.id),participantsVersion:Le.Z.getParticipantsVersion(i.id)}}),[i.id,i.type,_]),w=I.participants,P=I.filteredParticipants,x=I.participantsVersion,A=I.mode,T=I.layout,N=I.participantsOpen,Z=I.chatOpen,L=I.selectedParticipant,R=(0,c.Wu)([zo.Z],(function(){return zo.Z.getAllActiveStreams()
})),D=(0,c.cj)([zo.Z],(function(){return{selectedStream:null!=L?zo.Z.getActiveStreamForStreamKey(L.id):null}}),[L]).selectedStream,k=(0,c.e7)([vn.Z],(function(){return vn.Z.getGuild(i.getGuildId())})),U=(0,c.e7)([Ko.Z],(function(){return Ko.Z.getCall(i.id)}),[i.id]),B=(0,c.e7)([qo.ZP],(function(){return qo.ZP.getMentionCount(i.id)}),[i.id]),F=(0,c.e7)([zt.default],(function(){return zt.default.getId()})),G=(0,c.cj)([pt.Z],(function(){return{popoutWindow:pt.Z.getWindow(oe.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:pt.Z.getIsAlwaysOnTop(oe.KJ3.CHANNEL_CALL_POPOUT)}})),H=G.popoutWindow,V=G.popoutWindowAlwaysOnTop,W=(0,c.e7)([gn.Z],(function(){return gn.Z.can(oe.Plq.CONNECT,i)})),z=(0,c.e7)([Yo.Z],(function(){return Yo.Z.getToastsEnabled(i.id)})),Y=(0,c.e7)([Me.Z],(function(){return Me.Z.getAwaitingRemoteSessionInfo()})),Q=(0,c.e7)([yt.ZP],(function(){return yt.ZP.callHeaderHeight})),ne=o.useCallback((function(e){v.ZP.updatedUnsyncedSettings({callHeaderHeight:e})
}),[]),re=null!==(n=null==k?void 0:k.id)&&void 0!==n?n:null,ie=(0,te.Z)(re,i.id),ae=(0,c.e7)([$.Z],(function(){return $.Z.getFetchState()}),[]),le=(0,X.Z)(ae);o.useEffect((function(){"errored"===ae&&"errored"!==le&&(0,d.showToast)((0,d.createToast)(M.Z.Messages.EMBEDDED_ACTIVITIES_DEVELOPER_ACTIVITY_SHELF_FETCH_ERROR,d.ToastType.FAILURE))}),[ae,le]);var ue=(0,c.e7)([ee.ZP],(function(){return null!=ee.ZP.getSelfEmbeddedActivityForChannel(i.id)}),[i]);ce();o.useEffect((function(){var e,t=!1,n=null,r=(e=nu((function(){return bu(this,(function(e){switch(e.label){case 0:return _&&A===oe.WtW.VIDEO?[4,ni.default.blockDisplaySleep()]:[3,2];case 1:n=e.sent();t&&null!=n&&ni.default.unblockDisplaySleep(n);e.label=2;case 2:return[2]}}))})),function(){return e.apply(this,arguments)});r();return function(){null!=n?ni.default.unblockDisplaySleep(n):t=!0}}),[_,A]);var fe=(0,ii.Z)(i,!0),pe=(0,Ne.bn)(s.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK),be=(0,
de.Z)(se.Z.CHANNEL_CALL).AnalyticsLocationProvider,me=p-550,ve=(0,he.G)(),ge=(0,c.e7)([ye.Z],(function(){return ye.Z.getSettings().clipsEnabled}));return(0,r.jsx)(be,{children:(0,r.jsx)(K.Z,{page:oe.ZY5.CHANNEL_CALL,children:(0,r.jsx)(ai.B2,{children:(0,r.jsxs)(Ka,{children:[(0,r.jsx)(Ou,{channel:i,guild:k,hasConnectPermission:W,participantsOpen:N,renderExternalHeader:a,appContext:S,call:U,popoutWindow:H,popoutWindowAlwaysOnTop:V,mentionCount:B,selectedStream:D,mode:A,inCall:_,participants:w,filteredParticipants:P,participantsVersion:x,layout:T,chatOpen:Z,maxSidebarWidth:me,shouldUseVoiceEffectsActionBar:fe,currentUserId:F,selectedParticipant:L,allActiveStreams:R,useNewInviteButton:ie,connectedToEmbeddedActivity:ue,showChatToasts:z,storedCallHeaderHeight:Q,updateStoredCallHeaderHeight:ne,wrapperRef:h,callContainerDimensions:{width:m,height:O},callContainerRef:E,channelChatRef:C,width:p,maxHeight:l,forceShowControls:pe,awaitingRemoteSessionInfo:Y,clipsEnabled:ve&&ge
}),!i.isPrivate()&&(0,r.jsx)(Ya,{}),(0,r.jsx)(ai.H_,{})]})})})})}},509097:(e,t,n)=>{"use strict";n.d(t,{H_:()=>l,B2:()=>u,ZP:()=>c});var r=(0,n(945460).createLayer)("ChannelCallChat"),o=r.Layer,i=r.LayerContainer,a=r.LayerProvider,l=i,u=a;const c=o},753705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=n(667294),i=n(418705),a=n(247250),l=n(764079),u=n(973553),c=n(341305),s=n(281808),f=n(351330),d=n(284610),p=n(921122),h=n(189865),y=n(373438),b=n(930948),m=n(509097),v=n(2590),g=n(458947),O=n(473708),E=n(75627),C=n.n(E);const S=function(e){var t=e.channel,n=e.guild,E=e.maxWidth;o.useEffect((function(){(0,f.EW)(i.z$.CALL_CHAT_BUTTON_TEXT_IN_VOICE_COACH_MARK,{dismissAction:g.L.AUTO})}),[]);var S=o.useCallback((function(){a.Z.updateChatOpen(t.id,!1);b.S.safeDispatch(v.CkL.FOCUS_CHAT_BUTTON)}),[t.id]),j=(0,r.jsx)(y.ZP.Icon,{icon:h.Z,tooltip:O.Z.Messages.CLOSE,onClick:S});return(0,r.jsxs)(u.Z,{sidebarType:u.y.CallChatSidebar,maxWidth:E,floatingLayer:m.ZP,children:[(0,r.jsx)(c.Z,{
channel:t,draftType:d.d.ChannelMessage}),(0,r.jsxs)(y.ZP,{toolbar:j,"aria-label":O.Z.Messages.CHANNEL_HEADER_BAR_A11Y_LABEL,children:[(0,r.jsx)(y.ZP.Icon,{icon:p.Z,disabled:!0,"aria-label":O.Z.Messages.VOICE_CHAT_TEXT_CHANNEL}),(0,r.jsx)(y.ZP.Title,{children:t.name})]}),(0,r.jsx)("div",{className:C().chat,children:(0,r.jsx)(l.Z,{channel:t,guild:n,chatInputType:s.I.SIDEBAR},t.id)})]})}},496388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(441143)),i=n.n(o),a=n(202351),l=n(945460),u=n(213276),c=n(473903),s=n(656645),f=n(604945);var d=n(289150),p=n(2590),h=n(473708);function y(e){var t,n,o=e.onClose,y=e.onSelect,b=(0,a.e7)([c.default],(function(){var e=c.default.getCurrentUser();i()(null!=e,"VideoDeviceMenu: currentUser cannot be undefined");return e})),m=(t=(0,a.e7)([f.Z],(function(){return Object.values(f.Z.getVideoDevices())})),n=(0,a.e7)([f.Z],(function(){return f.Z.getVideoDeviceId()})),t.map((function(e){var t=e.id,o=e.disabled,i=e.name;return(0,
r.jsx)(l.MenuRadioItem,{group:"video-devices",id:"video-device-".concat(t),disabled:o,label:i,checked:t===n,action:function(){return s.Z.setVideoDevice(t)}},"video-device-".concat(t))}))),v=(0,d.Z)(b.id);return(0,r.jsx)(u.Z,{object:p.qAy.CONTEXT_MENU,children:(0,r.jsxs)(l.Menu,{onClose:o,navId:"video-device-context","aria-label":h.Z.Messages.FORM_LABEL_VIDEO_DEVICE,onSelect:y,children:[(0,r.jsx)(l.MenuGroup,{label:h.Z.Messages.FORM_LABEL_VIDEO_DEVICE,children:m}),(0,r.jsx)(l.MenuGroup,{children:v})]})})}},668269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(945460)),i=n(656645),a=n(895303),l=n(126976),u=n(473708);function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function f(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function y(e,t){t&&(0,l.p)()?(0,
o.openModalLazy)(s((function(){var e,t;return h(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(32013)]).then(n.bind(n,432013))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,d({},e))}]}}))}))):t?(0,o.openModal)((function(e){return(0,r.jsx)(a.default,p(d({},e),{title:u.Z.Messages.SUPPRESSED,body:u.Z.Messages.SUPPRESSED_PERMISSION_BODY}))})):e?(0,o.openModal)((function(e){return(0,r.jsx)(a.default,p(d({},e),{title:u.Z.Messages.SERVER_MUTED_DIALOG_TITLE,body:u.Z.Messages.SERVER_MUTED_DIALOG_BODY}))})):i.Z.toggleSelfMute()}},284278:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(944010)),i=n(895303),a=n(470856),l=n(473708);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}
return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.type,n=e.onConfirm,s=c(e,["type","onConfirm"]),f=t===a.K.STREAM?l.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_HEADER:l.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_HEADER,d=t===a.K.STREAM?l.Z.Messages.HIDE_SELF_STREAM_CONFIRMATION_BODY:l.Z.Messages.HIDE_SELF_VIDEO_CONFIRMATION_BODY;return(0,r.jsx)(i.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({confirmText:l.Z.Messages.CONFIRM,secondaryConfirmText:l.Z.Messages.DONT_ASK_AGAIN,title:f,cancelText:l.Z.Messages.CANCEL,onConfirm:n,
onConfirmSecondary:function(){o.ZP.updatedUnsyncedSettings({disableHideSelfStreamAndVideoConfirmationAlert:!0});n()},body:d},s))}},950761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(247250),l=n(566706),u=n(473708);function c(e){var t=(0,o.e7)([l.Z],(function(){return l.Z.getVoiceParticipantsHidden(e)}));return(0,r.jsx)(i.MenuCheckboxItem,{id:"no-video-hide",label:u.Z.Messages.STREAM_SHOW_NON_VIDEO,checked:!t,action:function(){return a.Z.toggleVoiceParticipantsHidden(e,!t)}})}},430510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(379991),l=n(481008),u=n(177570),c=n(736818);var s=n(284278),f=n(470856),d=n(473708);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n=b(function(e,t){var n=(0,o.e7)([c.default],(function(){return c.default.getId()})),r=(0,o.e7)([u.Z],(function(){var t=u.Z.getCurrentUserActiveStream();return null!=t&&t.channelId===e}),[e]);return[(null==t||t===n)&&r,(0,o.e7)([u.Z],(function(){return u.Z.isSelfStreamHidden(e)}),[e]),function(t){(0,l.pR)(e,t)}]}(e,t),3),p=n[0],m=n[1],v=n[2],g=(0,o.e7)([a.ZP],(function(){return a.ZP.disableHideSelfStreamAndVideoConfirmationAlert}));return p?(0,r.jsx)(i.MenuCheckboxItem,{id:"self-stream-hide",label:d.Z.Messages.SHOW_SELF_STREAM,checked:!m,action:function(){if(g||m)return v(!m);(0,i.openModal)((function(e){return(0,r.jsx)(s.Z,y(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({},e),{type:f.K.STREAM,onConfirm:function(){return v(!m)}}))}))}}):null}},492692:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(379991),l=n(656645),u=n(736818),c=n(604945),s=n(36256);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Yn.DEFAULT,n=(0,o.e7)([u.default],(function(){return u.default.getId()})),r=(0,o.e7)([c.Z],(function(){return c.Z.supports(s.AN.DISABLE_VIDEO)&&c.Z.isVideoEnabled()})),i=(0,o.e7)([c.Z],(function(){return c.Z.isLocalVideoDisabled(n,t)}),[n,t]),a=function(e){l.Z.setDisableLocalVideo(n,e,t)},f=null==e||e===n,d=f&&(r||i);return[d,i,a]}var d=n(284278),p=n(470856),h=n(473708)
;function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))
}));return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Yn.DEFAULT,n=g(f(e,t),3),l=n[0],u=n[1],c=n[2],y=(0,o.e7)([a.ZP],(function(){return a.ZP.disableHideSelfStreamAndVideoConfirmationAlert})),b=function(){if(y||u)return c(!u);(0,i.openModal)((function(e){return(0,r.jsx)(d.Z,v(m({},e),{type:p.K.VIDEO,onConfirm:function(){return c(!u)}}))}))};return l?(0,r.jsx)(i.MenuCheckboxItem,{id:"self-video-hide",label:h.Z.Messages.SHOW_SELF_VIDEO,checked:!u,action:b}):null}},289150:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(504001),l=n(736818),u=n(604945),c=n(473708),s=n(965126),f=n.n(s);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}function h(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function m(e){var t=(0,i.useModalContext)(),s=(0,o.e7)([u.Z],(function(){return u.Z.isVideoEnabled()})),d=(0,o.e7)([l.default],(function(){return l.default.getId()===e})),m=(0,a.Z)();return s&&!m||!d?null:(0,r.jsx)(i.MenuItem,{id:"change-video-background",label:(0,r.jsx)("div",{className:f().item,
children:s?c.Z.Messages.CAMERA_CHANGE_VIDEO_BACKGROUND_MENU_ITEM:c.Z.Messages.CAMERA_PREVIEW_MENU_ITEM}),action:function(){(0,i.openModalLazy)(p((function(){var e,t;return b(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(87820),n.e(15357),n.e(50763),n.e(10675),n.e(96043),n.e(71402),n.e(61012),n.e(26645)]).then(n.bind(n,763361))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({},e),{videoEnabled:s}))}]}}))})),{modalKey:"camera-preview",contextKey:t})}})}},830271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(980617),l=n(77457),u=n(61209),c=n(744564)
;const s=function(e,t){c.Z.dispatch({type:"CALL_CHAT_TOASTS_SET_ENABLED",channelId:e,toastsEnabled:t})};var f=n(473708);function d(e){var t=(0,o.e7)([u.Z],(function(){return u.Z.getChannel(e)})),n=(0,a.Vy)(null==t?void 0:t.guild_id),c=(0,o.e7)([l.Z],(function(){return l.Z.getToastsEnabled(e)}));return(null==t?void 0:t.isGuildStageVoice())&&!n?null:(0,r.jsx)(i.MenuCheckboxItem,{id:"show-call-chat-toasts",label:f.Z.Messages.SHOW_NEW_MESSAGE_PREVIEWS,checked:c,action:function(){return s(e,!c)}})}},540681:(e,t,n)=>{"use strict";n.d(t,{w:()=>V});var r=n(785893),o=n(667294),i=n(945460),a=n(732068),l=n(473903),u=n(562545),c=n(188084),s=n(310126),f=n(744564);var d=n(202351),p=n(577635),h=n(816251),y=n(736818),b=n(2590);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){
m(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var _=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},I=function(){function e(){g(this,e);this.isInCallscopeCall=!1;this.rtcConnections=new Set;this.callStartedAt=new Date;this.blindIds=[];this.hasIssues=!1;this.issues=[]}var t=e.prototype;t.getDescription=function(){var e=this;return v((function(){var t,n,r,o,i,a,l,u,c,s,f,d,p,h,y,b,m,v;return _(this,(function(g){switch(g.label){case 0:t={callStartedAt:e.callStartedAt.toISOString(),blindIds:[],issues:[]};n=function(t){return"".concat(t.toISOString()," (").concat(t.getTime()-e.callStartedAt.getTime(),")")};r=!0,o=!1,i=void 0;g.label=1;case 1:g.trys.push([1,6,7,8]);a=e.blindIds[Symbol.iterator]();g.label=2;case 2:if(r=(l=a.next()).done)return[3,5];u=l.value;s=(c=t.blindIds).push;f={date:n(u.date)};return[4,u.ids];case 3:s.apply(c,[(f.ids=g.sent(),f.context=u.context,f)]);g.label=4;case 4:r=!0;return[3,2];case 5:return[3,8];case 6:
d=g.sent();o=!0;i=d;return[3,8];case 7:try{r||null==a.return||a.return()}finally{if(o)throw i}return[7];case 8:p=!0,h=!1,y=void 0;try{for(b=e.issues[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){v=m.value;t.issues.push("".concat(n(v.date),": ").concat(v.description))}}catch(e){h=!0;y=e}finally{try{p||null==b.return||b.return()}finally{if(h)throw y}}return[2,t]}}))}))()};t.shouldShowUI=function(){return w.isInCallscopeCall};t.submit=function(){var e=this;return v((function(){var t,n,r,o;return _(this,(function(i){switch(i.label){case 0:if(!e.hasIssues)return[2];console.log("[callscope] Submitting issues...");return[4,e.getDescription()];case 1:t=i.sent();i.label=2;case 2:i.trys.push([2,4,,5]);return[4,(0,h.E_)(b.GU0.RTC,t)];case 3:i.sent();return[3,5];case 4:n=i.sent();console.error("[callscope] Error uploading logs",n);return[3,5];case 5:i.trys.push([5,7,,8]);r=l.default.getCurrentUser();return[4,(0,p.ZD)({
name:"Issue from ".concat(null==r?void 0:r.username,"#").concat(null==r?void 0:r.discriminator),priority:1,description:JSON.stringify(t,void 0,4),feature:{asana_inbox_id:"1204198429044032"},url:""},{overridePlatformInformation:!1})];case 6:i.sent();return[3,8];case 7:o=i.sent();console.error("[callscope] Error submitting report",o);return[3,8];case 8:return[2]}}))}))()};return e}(),w=new I;function P(){return w}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}(n,e);var t=j(n);function n(){g(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{state:w}};return n}(d.ZP.Store);x.displayName="CallscopeStore";new x(f.Z,{RTC_CONNECTION_STATE:function(e){var t,n=(null!==(t=e.channelId)&&void 0!==t?t:"unknown")+e.context;switch(e.state){case b.hes.DISCONNECTED:
w.rtcConnections.delete(n);if(0===w.rtcConnections.size){w.submit();w=new I}break;case b.hes.RTC_CONNECTED:if(null!=e.rtcLogEphemeralKey){var r=y.default.getId(),o=(0,h.sb)(e.channelId,r,e.rtcLogEphemeralKey);0===w.rtcConnections.size&&(w.callStartedAt=new Date);w.isInCallscopeCall=!0;w.blindIds.push({date:new Date,context:e.context,ids:o});w.rtcConnections.add(n)}}}});var A=n(473708);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){
case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},L={marginTop:"12px",marginBottom:"12px"},R={marginTop:"12px",marginBottom:"12px"},D={marginLeft:".5em"};function k(){var e=l.default.getCurrentUser();return null!=e&&e.isStaff()}function U(){return(0,r.jsx)(u.Z,{width:"1em",height:"1em"})}function B(e){var t=M(o.useState(""),2),n=t[0],a=t[1],l=M(o.useState(null),2),u=l[0],c=l[1];o.useEffect((function(){(e=function(){return Z(this,(function(e){switch(e.label){case 0:
return[4,P().getDescription()];case 1:c.apply(void 0,[e.sent()]);return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N(i,r,o,a,l,"next",e)}function l(e){N(i,r,o,a,l,"throw",e)}a(void 0)}))})();var e}),[]);var s=o.useCallback((function(){console.log("[callscope] Issue marker closed ".concat(n,"."));!function(e){w.issues.push({date:new Date,description:e});w.hasIssues=!0}(n);e.onClose()}),[e,n]),f=o.useCallback((function(){e.onClose()}),[e]),d=k()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.FormItem,{style:L,children:[(0,r.jsx)(i.Text,{variant:"text-md/normal",style:R,children:"Because all user and channel data is anonymized some additional information is needed for Discord to retrieve the logs. You may be asked to provide these IDs so we can associate the incident."}),(0,r.jsx)(G,{description:u})]}),(0,r.jsx)(i.FormItem,{style:L,children:(0,r.jsxs)(i.Text,{variant:"text-md/normal",style:R,
children:["Shortly after the call, you can enter the blinded channel ID into the"," ",(0,r.jsx)(i.Anchor,{href:"https://callscope.discord.tools/",children:"callscope visualizer"}),"."]})})]}):(0,r.jsx)(r.Fragment,{});return(0,r.jsxs)(i.ModalRoot,{transitionState:i.ModalTransitionState.ENTERING,size:i.ModalSize.MEDIUM,children:[(0,r.jsxs)(i.ModalContent,{children:[(0,r.jsx)(i.Heading,{variant:"heading-xl/semibold",style:L,children:A.Z.Messages.NOTICE_CALLSCOPE_DIALOG_HEADER}),(0,r.jsxs)(i.FormItem,{style:L,children:[(0,r.jsxs)(i.Text,{variant:"text-md/normal",style:R,children:["We marked the time of your ",(0,r.jsx)(U,{})," ",A.Z.Messages.NOTICE_CALLSCOPE_MARK_ISSUE," button press in the analytics logs. It can be used multiple times during your call."]}),(0,r.jsx)(i.TextArea,{placeholder:A.Z.Messages.NOTICE_CALLSCOPE_DIALOG_INPUT,autoFocus:!0,rows:5,value:n,maxLength:500,onChange:a})]}),d]}),(0,r.jsxs)(i.ModalFooter,{children:[(0,r.jsx)(i.Button,{onClick:s,children:"Submit Issue"}),(0,
r.jsx)(i.Button,{look:i.ButtonLooks.BLANK,onClick:f,children:(0,r.jsx)(i.Text,{variant:"text-md/medium",children:A.Z.Messages.CANCEL})})]})]})}function F(e){var t=o.useCallback((function(){s.default.copy(e.text)}),[e.text]);return(0,r.jsx)(i.Anchor,{style:D,onClick:t,title:"Copy to clipboard",children:(0,r.jsx)(c.Z,{width:"1em",height:"1em"})})}function G(e){var t=o.useCallback((function(){s.default.copy(JSON.stringify(e,void 0,4))}),[e]);return null==e.description?(0,r.jsx)(i.Text,{variant:"text-md/medium",children:"Unable to locate blind IDs."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,{variant:"text-md/medium",children:(0,r.jsx)("ul",{children:e.description.blindIds.map((function(e){var t=e.context,n=e.ids;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:["Blind channel ID (",t,"):"]})," ",(0,r.jsx)("kbd",{style:{userSelect:"text"},children:n.blindChannelId}),(0,r.jsx)(F,{text:n.blindChannelId})]}),(0,r.jsxs)("li",{children:[(0,
r.jsxs)("strong",{children:["Blind user ID (",t,"):"]})," ",(0,r.jsx)("kbd",{style:{userSelect:"text"},children:n.blindUserId}),(0,r.jsx)(F,{text:n.blindUserId})]})]},t)}))})}),(0,r.jsx)(i.Button,{onClick:t,children:"Copy All"})]})}var H="callscope-report-issue-dialog";function V(e){var t=(0,i.useModalContext)(),n=o.useCallback((function(){(0,i.closeModal)(H)}),[]),l=o.useCallback((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log("[callscope] Issue marker pressed.");f.Z.dispatch({type:"RTC_LOG_MARKER",marker:e})}();(0,i.openModalLazy)((function(){return Promise.resolve((function(e){return(0,r.jsx)(B,{onClose:n})}))}),{contextKey:t,modalKey:H})}),[t,n]);return w.shouldShowUI()?(0,r.jsx)(a.Z,{onClick:l,iconComponent:u.Z,"aria-label":A.Z.Messages.NOTICE_CALLSCOPE_MARK_ISSUE,className:e.className,label:A.Z.Messages.NOTICE_CALLSCOPE_MARK_ISSUE}):(0,r.jsx)(r.Fragment,{})}},959468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s})
;var r=n(382060),o=n(840922),i=n(473903),a=n(773011),l=n(2590),u=n(473708);function c(e){var t=e.isSubscriptionGated,n=e.needSubscriptionToAccess;if(t)return n?u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_LOCKED:u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_PREMIUM_UNLOCKED}function s(e){var t,n=e.channel,s=e.unread,f=void 0!==s&&s,d=e.mentionCount,p=void 0===d?0:d,h=e.userCount,y=e.embeddedActivitiesCount,b=e.isSubscriptionGated,m=e.needSubscriptionToAccess,v=(0,a.F6)(n,i.default,o.Z);switch(n.type){case l.d4z.DM:t=f?u.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.DIRECT_MESSAGE_A11Y_LABEL;break;case l.d4z.GROUP_DM:t=f?u.Z.Messages.GROUP_MESSAGE_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GROUP_MESSAGE_A11Y_LABEL;break;case l.d4z.GUILD_STORE:t=u.Z.Messages.GUILD_SIDEBAR_STORE_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_DIRECTORY:t=u.Z.Messages.GUILD_SIDEBAR_DIRECTORY_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_ANNOUNCEMENT:
t=p>0?u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_ANNOUNCEMENT_CHANNEL_A11Y_LABEL;break;case l.d4z.GUILD_VOICE:var g=[u.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL.format({channelName:n.name})];p>0&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:p}));f&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);if(null!=h){var O=n.userLimit;null!=O&&O>0?g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_LIMIT.format({userCount:h,limit:O})):g.push(u.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_A11Y_LABEL_USERS.format({userCount:h}))}null!=y&&y>0&&g.push(u.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_ACTIVITIES.format({activitiesCount:y}));var E=c({isSubscriptionGated:b,needSubscriptionToAccess:m});null!=E&&g.push(E);return g.join(", ");case l.d4z.GUILD_STAGE_VOICE:t=u.Z.Messages.GUILD_SIDEBAR_STAGE_CHANNEL_A11Y_LABEL
;break;default:t=r.Ec.has(n.type)?p>0?u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL:p>0?u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_MENTIONS:f?u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL_WITH_UNREADS:u.Z.Messages.GUILD_SIDEBAR_DEFAULT_CHANNEL_A11Y_LABEL}var C=[t.format({channelName:v,mentionCount:p})],S=c({isSubscriptionGated:b,needSubscriptionToAccess:m});null!=S&&C.push(S);return C.join(", ")}},428107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(773011),o=n(2590),i=n(473708);function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.ZP)(e,!0),a=(0,r.ZP)(e,!1);return null==e||null==n?{placeholder:"",accessibilityLabel:""}:t?{placeholder:i.Z.Messages.READ_ONLY_CHANNEL,accessibilityLabel:i.Z.Messages.READ_ONLY_CHANNEL}:e.isForumPost()?{placeholder:i.Z.Messages.FORUM_POST_TEXTAREA_PLACEHOLDER.format({channel:n}),
accessibilityLabel:i.Z.Messages.TEXTAREA_FORUM_POST_A11Y_LABEL.format({channel:a})}:o.TPd.THREADS.has(e.type)?{placeholder:i.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_THREAD_A11Y_LABEL.format({channel:a})}:e.type===o.d4z.DM?{placeholder:i.Z.Messages.DM_TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_TEXT_DM_A11Y_LABEL.format({channel:a})}:{placeholder:i.Z.Messages.TEXTAREA_PLACEHOLDER.format({channel:n}),accessibilityLabel:i.Z.Messages.TEXTAREA_TEXT_CHANNEL_A11Y_LABEL.format({channel:a})}}},696978:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(575945),o=n(74535),i=n(795470),a=n(2590);function l(){var e=(0,o.ZP)();return(0,i.Lq)((0,r.wj)(e)?a.Ilk.BRAND_330:a.Ilk.BRAND_530)}},438355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(633878)),i=n(696978);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?16:t,c=e.height,s=void 0===c?16:c,f=u(e,["width","height"]),d=(0,i.A)();return(0,r.jsxs)("svg",l(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,o.Z)(f)),{width:n,height:s,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{
d:"M11.7791 8.47509L9.24568 7.08859C9.10351 7.00927 8.98757 6.89018 8.91209 6.74591L7.52592 4.22089C7.49677 4.16776 7.45388 4.12344 7.40174 4.09257C7.3496 4.0617 7.29012 4.04541 7.22953 4.04541C7.16893 4.04541 7.10946 4.0617 7.05731 4.09257C7.00517 4.12344 6.96228 4.16776 6.93313 4.22089L5.5447 6.74591C5.46783 6.88684 5.35203 7.00268 5.21112 7.07957L2.67544 8.47509C2.62232 8.50425 2.57801 8.54715 2.54715 8.5993C2.51628 8.65146 2.5 8.71095 2.5 8.77156C2.5 8.83216 2.51628 8.89165 2.54715 8.94381C2.57801 8.99596 2.62232 9.03886 2.67544 9.06802L5.21112 10.4545C5.35187 10.5316 5.46763 10.6474 5.5447 10.7882L6.93088 13.3245C6.96003 13.3776 7.00292 13.4219 7.05506 13.4528C7.1072 13.4837 7.16668 13.5 7.22727 13.5C7.28786 13.5 7.34734 13.4837 7.39948 13.4528C7.45163 13.4219 7.49452 13.3776 7.52367 13.3245L8.90984 10.7882C8.98682 10.6473 9.10259 10.5315 9.24342 10.4545L11.7791 9.06802C11.8322 9.03886 11.8765 8.99596 11.9074 8.94381C11.9383 8.89165 11.9545 8.83216 11.9545 8.77156C11.9545 8.71095 11.9383 8.65146 11.9074 8.5993C11.8765 8.54715 11.8322 8.50425 11.7791 8.47509Z",
fill:d}),(0,r.jsx)("path",{
d:"M15.3186 2.57078L14.1492 1.92939C14.1147 1.90911 14.0863 1.87988 14.067 1.84477L13.4267 0.673342C13.398 0.620858 13.3557 0.577078 13.3042 0.546584C13.2528 0.516089 13.1941 0.5 13.1344 0.5C13.0746 0.5 13.0159 0.516089 12.9645 0.546584C12.9131 0.577078 12.8708 0.620858 12.842 0.673342L12.1996 1.84699C12.1796 1.88239 12.1504 1.91166 12.1151 1.93162L10.9457 2.57301C10.8933 2.60181 10.8496 2.64419 10.8192 2.69571C10.7888 2.74723 10.7727 2.80599 10.7727 2.86586C10.7727 2.92573 10.7888 2.9845 10.8192 3.03602C10.8496 3.08754 10.8933 3.12992 10.9457 3.15872L12.1173 3.80011C12.152 3.81912 12.1806 3.84772 12.1996 3.88251L12.8398 5.05393C12.8686 5.10641 12.9109 5.15019 12.9623 5.18069C13.0137 5.21118 13.0724 5.22727 13.1322 5.22727C13.1919 5.22727 13.2506 5.21118 13.302 5.18069C13.3534 5.15019 13.3957 5.10641 13.4245 5.05393L14.0647 3.88251C14.0841 3.84666 14.1134 3.81725 14.1492 3.79788L15.3186 3.1654C15.3732 3.13737 15.419 3.09478 15.451 3.04232C15.483 2.98986 15.5 2.92957 15.5 2.86809C15.5 2.80661 15.483 2.74632 15.451 2.69386C15.419 2.6414 15.3732 2.59881 15.3186 2.57078Z",
fill:d})]}))}},901287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Pe});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(418705),c=n(945460),s=n(557617),f=n(634698),d=n(545580),p=n(248046),h=n(228667),y=n(335072),b=n(541421),m=n(422513),v=n(754693),g=n(473708),O=n(694641),E=n.n(O);function C(e){var t=e.onOpenClips,n=e.lastClipsSession,i=e.closePopout;o.useEffect((function(){return function(){(0,v.eL)()}}),[]);return null==n?(0,r.jsx)(r.Fragment,{}):(0,r.jsxs)("div",{className:E().recentClipsPopout,children:[(0,r.jsx)(c.Heading,{className:E().header,color:"header-primary",variant:"heading-md/extrabold",children:g.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_HEADER.format({count:n.numberOfClipsTaken})}),(0,r.jsx)(c.Text,{color:"text-normal",className:E().content,variant:"text-sm/medium",children:g.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_BODY.format({applicationName:n.applicationName})}),(0,r.jsxs)("div",{className:E().buttonsContainer,children:[(0,r.jsx)(c.Button,{
color:c.Button.Colors.PRIMARY,look:c.Button.Looks.LINK,onClick:function(){(0,m.Kw)(m.v6.CLIPS_CHANNEL_ATTACH_REMINDER);i()},children:g.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_SECONDARY_CTA}),(0,r.jsx)(c.Button,{color:c.Button.Colors.BRAND,onClick:t,children:g.Z.Messages.CLIPS_SESSION_ENDED_TOOLTIP_PRIMARY_CTA})]})]})}var S=n(351330),j=n(398344),_=n(305082),I=n(645573),w=n(964262),P=n(948832),x=n(225386),A=n(968449),T=n(682776),N=n(436154),M=n(366007),Z=n(553480),L=n(940547),R=n(930948),D=n(120415),k=n(15084),U=n(19585),B=n(159895),F=n(799066),G=n(367406),H=n(531441),V=n(652591),W=n(149258),z=n(855483),Y=n(773011),K=n(840922),q=n(473903),X=n(318313),Q=n(634193),J=n(532378),$=n(119141),ee=n(713891),te=n(633878);function ne(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ie(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?22:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=oe(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",re(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ne(e,t,n[t])}))}return e}({},(0,te.Z)(c)),{width:n,height:i,viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{className:u,
d:"M18.7004 11.0733V4.20411L14.4456 0H3.8556C3.36366 0.000630619 2.89205 0.193989 2.5442 0.537669C2.19635 0.881349 2.00064 1.3473 2 1.83333V18.3333C2.00056 18.8194 2.19625 19.2854 2.54412 19.6291C2.89199 19.9728 3.36364 20.1661 3.8556 20.1667H13.7669C13.3284 19.2602 13.112 18.2644 13.1355 17.26C13.159 16.2555 13.4215 15.2707 13.902 14.3851C14.3824 13.4996 15.0672 12.7384 15.9008 12.163C16.7345 11.5876 17.6936 11.2143 18.7004 11.0733V11.0733ZM10.3502 13.75H4.7834V11.9167H10.3502V13.75ZM13.1336 10.0833H4.7834V8.25H13.1336V10.0833ZM13.1336 0.916667L17.7726 5.5H13.1336V0.916667Z",fill:l}),(0,r.jsx)("path",{className:u,d:"M19.6303 13.3696L15.2632 17.6844L16.5751 18.9805L18.7025 16.8786V22H20.5581V16.8786L22.6856 18.9805L23.9975 17.6844L19.6303 13.3696Z",fill:l})]}))}var ae,le=n(890592),ue=n(260915),ce=n(2590);!function(e){e.UPLOAD_A_FILE="UPLOAD_A_FILE";e.UPLOAD_TEXT_AS_FILE="UPLOAD_TEXT_AS_FILE";e.INVITE_TO_PLAY_GAME="INVITE_TO_GAME";e.INVITE_TO_LISTEN="INVITE_TO_LISTEN"
;e.INVITE_TO_WATCH="INVITE_TO_WATCH";e.CREATE_THREAD="CREATE_THREAD";e.SLASH_COMMAND="SLASH_COMMAND";e.CLIPS="CLIPS"}(ae||(ae={}));var se=n(381152),fe=n.n(se);function de(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){de(i,r,o,a,l,"next",e)}function l(e){de(i,r,o,a,l,"throw",e)}a(void 0)}))}}function he(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ye(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var be=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function me(e,t,o,i){(0,c.openModalLazy)(pe((function(){var a,l;return be(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(39810)]).then(n.bind(n,139810))];case 1:a=u.sent(),l=a.default;return[2,function(n){return(0,r.jsx)(l,ye(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){he(e,t,n[t])}))}return e}({},n),{activity:e,channel:t,activityActionType:o,analyticsLocations:i}))}]}}))})))}var ve=RegExp("(.*)```(\\w+)\\n(.*)```(.*)","s");function ge(e){
var t=e.channel,n=e.options,i=e.onFileUpload,a=e.onClose,l=e.onSelect,u=e.draftType,s=e.editorTextContent,f=e.setValue,d=e.openClips,p=function(){(0,G.R6)(t,void 0,"Plus Button")},h=function(){f("/",(0,z.JM)("/"))},y=function(){d()},b=function(){var e=s,n="txt",r="",o=s.match(ve);if(null!=o){r=o[1];n=o[2];e=o[3];r+=o[4]}(0,k.d)([(0,W.dp)(new Blob([e],{type:"text/plain"}),"message.".concat(n))],t,u);R.S.dispatchToLastSubscribed(ce.CkL.CLEAR_TEXT);""!==r&&R.S.dispatchToLastSubscribed(ce.CkL.INSERT_TEXT,{plainText:r})};(0,B.Z$)(F.Z);var m=(0,U.Z)().analyticsLocations;o.useEffect((function(){V.default.track(ce.rMx.OPEN_POPOUT,{type:"Send Attachment"})}),[]);return(0,r.jsx)(c.Menu,{onSelect:l,navId:"channel-attach",onClose:a,"aria-label":g.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL,className:fe().menu,children:n.map((function(e){var n=(0,r.jsxs)("div",{className:fe().optionLabel,children:[(0,r.jsx)(e.icon,{className:fe().optionIcon}),(0,r.jsx)("div",{className:fe().optionName,children:e.display
}),null!=e.badgeVal&&e.badgeVal>0&&(0,r.jsx)(H.mA,{className:fe().badge,count:e.badgeVal})]});switch(e.type){case ae.UPLOAD_A_FILE:return(0,r.jsx)(c.MenuItem,{id:"upload-file",label:n,subtext:(0,r.jsx)("span",{className:fe().tipSubtext,children:g.Z.Messages.UPLOAD_FILE_SUBTEXT.format({icon:function(e,t){return(0,r.jsx)(Z.Z,{className:fe().tipIcon},t)}})}),action:i},"upload-file");case ae.UPLOAD_TEXT_AS_FILE:return""===s?null:(0,r.jsx)(c.MenuItem,{id:"upload-text-as-file",label:n,action:b},"upload-text-as-file");case ae.CLIPS:return(0,r.jsx)(c.MenuItem,{id:"clips",label:n,action:y},"clips");case ae.INVITE_TO_PLAY_GAME:return(0,r.jsx)(c.MenuItem,{id:"play",label:n,action:function(){return function(e){V.default.track(ce.rMx.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:ce.jXE.CHANNEL_TEXT_AREA});me(e,t,ce.mFx.JOIN,m)}(e.activity)}},"play");case ae.INVITE_TO_LISTEN:return(0,r.jsx)(c.MenuItem,{id:"listen",label:n,action:function(){return function(e){
V.default.track(ce.rMx.OPEN_MODAL,{type:"Send Listen Invite",location:ce.jXE.CHANNEL_TEXT_AREA});me(e,t,ce.mFx.LISTEN,m)}(e.activity)}},"listen");case ae.INVITE_TO_WATCH:return(0,r.jsx)(c.MenuItem,{id:"watch",label:n,action:function(){return function(e){V.default.track(ce.rMx.OPEN_MODAL,{type:"Send Watch Invite",location:ce.jXE.CHANNEL_TEXT_AREA});me(e,t,ce.mFx.WATCH,m)}(e.activity)}},"watch");case ae.CREATE_THREAD:return(0,r.jsx)(c.MenuItem,{id:"THREAD",label:n,action:p},"THREAD");case ae.SLASH_COMMAND:return(0,r.jsx)(c.MenuItem,{id:"SLASH_COMMAND",label:n,action:h},"SLASH_COMMAND");default:return null}}))})}var Oe=n(872535),Ee=n.n(Oe);function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Se(e,t,n[t])}))}return e}function _e(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e){var t=e.className,n=e.channel,i=e.draftType,v=e.editorTextContent,O=e.setValue,E=e.canShowPremiumTutorial,U=e.canOnlyUseTextCommands,B=o.useRef(null),F=(0,l.e7)([N.Z],(function(){return N.Z.getActivities()})),G=(0,l.e7)([y.Z],(function(){return y.Z.getSettings().clipsEnabled})),H=(0,l.e7)([y.Z],(function(){return y.Z.getLastClipsSession()})),V=(0,l.e7)([y.Z],(function(){return y.Z.getState().newClipsCount})),W=(0,
l.e7)([m.qc],(function(){return m.qc.hasHotspot(m.v6.CLIPS_CHANNEL_ATTACH_REMINDER)})),z=Ie(o.useState(null),2),te=z[0],ne=z[1],re=(0,h.G)()&&G,oe=n.isPrivate(),se=(0,l.e7)([T.Z],(function(){return oe||T.Z.can(ce.Plq.ATTACH_FILES,n)&&T.Z.can(ce.Plq.SEND_MESSAGES,n)})),fe=(0,f.Z)(H);!(null==fe?void 0:fe.ended)&&(null==H?void 0:H.ended)&&null==te&&W&&ne("recentClips");o.useEffect((function(){var e=function(){var e;return null===(e=B.current)||void 0===e?void 0:e.activateUploadDialogue()};R.S.subscribe(ce.CkL.UPLOAD_FILE,e);return function(){R.S.unsubscribe(ce.CkL.UPLOAD_FILE,e)}}));var de=(0,x.NE)(n),pe=(0,x.Xu)(n),he=de||pe,ye=!A.dN.useSetting()&&!(0,D.eL)()&&null!=window.ResizeObserver,be=(0,l.e7)([T.Z,P.Z],(function(){return(0,p.oK)(T.Z,P.Z,U,n)})),me=function(e){var t=e.canAttachFiles,n=e.canStartThreads,r=e.useSlate,o=e.canUseApplicationCommands,i=e.hasClips,a=e.channel,l=e.activities,u=e.newClipsCount,c=[];if(t){c.push({type:ae.UPLOAD_A_FILE,icon:ue.Z,
display:g.Z.Messages.CHAT_ATTACH_UPLOAD_A_FILE});c.push({type:ae.UPLOAD_TEXT_AS_FILE,icon:ie,display:g.Z.Messages.CHAT_ATTACH_UPLOAD_TEXT_AS_FILE})}i&&c.push({type:ae.CLIPS,icon:Q.Z,display:g.Z.Messages.CLIPS_POST_A_CLIP,badgeVal:u});n&&c.push({type:ae.CREATE_THREAD,icon:le.Z,display:g.Z.Messages.CREATE_THREAD});r&&o&&c.push({type:ae.SLASH_COMMAND,icon:X.Z,display:g.Z.Messages.CHAT_ATTACH_USE_SLASH_COMMAND});l.forEach((function(e){if(!(0,d.Z)(e,ce.xjy.EMBEDDED)){e.type===ce.IIU.PLAYING&&(0,d.Z)(e,ce.xjy.JOIN)&&c.push({type:ae.INVITE_TO_PLAY_GAME,icon:$.Z,display:g.Z.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:(0,Y.F6)(a,q.default,K.Z,!0),game:null!=e?e.name:""}),activity:e});e.type===ce.IIU.LISTENING&&(0,d.Z)(e,ce.xjy.SYNC)&&c.push({type:ae.INVITE_TO_LISTEN,icon:ee.Z,display:g.Z.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:(0,Y.F6)(a,q.default,K.Z,!0),name:null!=e?e.name:""}),activity:e});e.type===ce.IIU.WATCHING&&(0,d.Z)(e,ce.xjy.SYNC)&&c.push({
type:ae.INVITE_TO_WATCH,icon:J.Z,display:g.Z.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:(0,Y.F6)(a,q.default,K.Z,!0),name:null!=e?e.name:""}),activity:e})}}));return c}({canAttachFiles:se,canStartThreads:he,useSlate:ye,hasClips:re,canUseApplicationCommands:be,channel:n,activities:F,newClipsCount:V}),ve=(0,S.wE)(u.z$.PREMIUM_TUTORIAL_FILE_UPLOAD_COMPOSER_TOOLTIP),Oe=(0,_.AR)()&&E&&!ve;if(0===me.length)return null;var Ce=F.some((function(e){return(0,d.Z)(e,ce.xjy.SYNC)})),Se=F.some((function(e){return(0,d.Z)(e,ce.xjy.JOIN)&&!(0,d.Z)(e,ce.xjy.EMBEDDED)}))||Ce?(0,r.jsx)(L.Z,{className:Ee().attachButtonIcon,foreground:Ee().attachButtonPlay,background:Oe?Ee().attachButtonPlusGradient:Ee().attachButtonPlus,width:24,height:24,color:Oe?M.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"}):(0,r.jsx)(Z.Z,{className:Ee().attachButtonIcon,foreground:Oe?Ee().attachButtonPlusNoFill:Ee().attachButtonPlus,width:24,height:24,color:Oe?M.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"}),we=(0,r.jsx)(c.Popout,{
shouldShow:null!=te,animation:c.Popout.Animation.NONE,align:"recentClips"===te?"center":"left",position:"top",positionKey:null!=te?te:"null",onRequestOpen:function(){return ne("attachMenu")},onRequestClose:function(){(0,c.hasAnyModalOpen)()||ne(null)},renderPopout:function(e){switch(te){case"clips":return(0,r.jsx)(b.Z,je({},e));case"recentClips":return(0,r.jsx)(C,_e(je({},e),{onOpenClips:function(){return ne("clips")},lastClipsSession:H}));case"attachMenu":(0,w.$u)(u.z$.PREMIUM_TUTORIAL_FILE_UPLOAD_COMPOSER_TOOLTIP);return(0,r.jsx)(ge,_e(je({},e),{onClose:function(){return ne(null)},options:me,channel:n,onFileUpload:function(){var e;return null===(e=B.current)||void 0===e?void 0:e.activateUploadDialogue()},draftType:i,editorTextContent:v,setValue:O,openClips:function(){return ne("clips")}}));default:throw new Error("Invalid popout type provided")}},children:function(e){return(0,r.jsx)(c.Button,_e(je({look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,className:a()(Ee().attachButton,t),
innerClassName:Ee().attachButtonInner,"aria-label":g.Z.Messages.CHAT_ATTACH_UPLOAD_OR_INVITE,onDoubleClick:se?function(){var e;return null===(e=B.current)||void 0===e?void 0:e.activateUploadDialogue()}:void 0},e),{children:Oe?(0,r.jsx)(I.Z,{tutorialType:j.K.FILE_UPLOAD,text:g.Z.Messages.PREMIUM_TRIAL_TUTORIAL_FILE_UPLOAD_TOOLTIP,children:Se}):Se}))}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Ee().uploadInput,children:(0,r.jsx)(s.Z,{ref:B,onChange:function(e){!function(e,t,r){null!=t&&"ETOOLARGE"===t.code?(0,k.G)(n,[]):(0,k.d)(e,n,i,{requireConfirm:!0,showLargeMessageDialog:r});R.S.dispatchToLastSubscribed(ce.CkL.TEXTAREA_FOCUS)}(e.currentTarget.files,e.currentTarget.err);e.currentTarget.value=""},multiple:n.rateLimitPerUser<=0,tabIndex:-1,"aria-hidden":!0})}),(0,r.jsx)("div",{className:Ee().attachWrapper,children:we})]})}const Pe=o.memo(we)},58495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(503528),u=n(394352),c=n(847197),s=n(940581),f=n(686390),d=n.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n=e.disabled,i=e.type,f=e.className,p=e.onClick,y=h((0,u.Iu)((function(e){return[e.activeView,e.activeViewType]}),l.Z),2),b=y[0],m=y[1],v=o.useCallback((function(){(0,u.j9)(i);null==p||p()}),[i,p]);return n?null:(0,r.jsx)("div",{className:a()(s.CT,d().buttonContainer),ref:t,children:(0,r.jsx)(c.Z,{className:a()(d().emojiButton,f),onClick:v,active:(b===s.X1.GIF||b===s.X1.EMOJI||b===s.X1.STICKER)&&m===i,tabIndex:0,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}}})})}const b=o.memo(o.forwardRef(y))},656823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Rm})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(717187),u=n.n(l),c=n(441143),s=n.n(c),f=n(503528),d=n(289283),p=n(940060),h=n(202351),y=n(945460),b=n(943469),m=n(316878),v=n(153686),g=n(19585),O=n(423427),E=n(496486),C=n.n(E),S=n(711003),j=n(73904),_=n(396043),I=n(38736),w=Object.freeze({id:null,activeDescendant:null}),P=(0,I.Z)((function(){return w}));function x(e,t,n){(0,o.useEffect)((function(){t?P.setState({id:e,activeDescendant:n}):P.setState({id:null,activeDescendant:null})}),[e,t,n])}var A=n(43566),T=n(604992),N=n(355557),M=n(457217),Z=n(272200),L=n(670327),R=n.n(L),D=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(R().autocompleteRowContent,n),children:t})},k=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(R().autocompleteRowContentPrimary,n),children:t})},U=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:a()(R().autocompleteRowIcon,n),children:t})},B=function(e){
var t=e.children,n=e.className;return(0,r.jsx)(y.Text,{className:a()(n,R().autocompleteRowHeading),color:"interactive-active",variant:"text-md/normal",children:t})},F=function(e){var t=e.children,n=e.className;return(0,r.jsx)(y.Text,{className:a()(n,R().autocompleteRowSubheading),color:"interactive-normal",variant:"text-xs/normal",children:t})},G=function(e){var t=e.children,n=e.className;return(0,r.jsx)(y.Text,{className:a()(n,R().autocompleteRowContentSecondary),color:"interactive-normal",variant:"text-xs/normal",children:t})},H=n(98265),V=n(560654),W=n.n(V);function z(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Y(e){var t,n=e.name,o=e.className,i=e.state,l=e.isInline,u=e.onClick,c=n+(l?":":""),s=null,f=H.Z.Colors.HEADER_PRIMARY;(null==i?void 0:i.isActive)&&!l?s=W().active:!1===(null==i||null===(t=i.lastValidationResult)||void 0===t?void 0:t.success)?s=W().error:(null==i?void 0:i.hasValue)&&!l&&(s=W().set)
;var d=(0,r.jsx)(H.Z,{size:l?H.Z.Sizes.SIZE_16:H.Z.Sizes.SIZE_14,color:f,className:a()(W().option,z({},W().inline,l),s,o),children:c});return null==u?d:(0,r.jsx)(y.Clickable,{className:W().clickable,onClick:function(){return u(n)},children:d})}var K=n(242922),q=n(996051),X=n(473708),Q=n(191117),J=n.n(Q);function $(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ee(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function te(e,t,n){return(0,r.jsx)(Y,{className:J().option,name:e.displayName,state:t,onClick:n},e.name)}
function ne(e){var t=e.command,n=e.optionStates,i=e.onOptionClick,a=o.useMemo((function(){var e,r,o,i,a=null!==(o=null===(e=t.options)||void 0===e?void 0:e.filter((function(e){return e.required})))&&void 0!==o?o:[],l=null!==(i=null===(r=t.options)||void 0===r?void 0:r.filter((function(e){return!e.required})))&&void 0!==i?i:[],u=l.filter((function(e){var t;return null==n||null===(t=n[e.name])||void 0===t?void 0:t.hasValue})),c=l.filter((function(e){var t;return!(null==n||null===(t=n[e.name])||void 0===t?void 0:t.hasValue)}));return{requiredOptions:a,setOptionalOptions:u,unsetOptionalOptions:c}}),[t.options,n]),l=a.requiredOptions,u=a.setOptionalOptions,c=a.unsetOptionalOptions,s=(0,r.jsx)("div",{className:J().optionalNames,children:c.map((function(e){return(0,r.jsx)(y.Text,{variant:"text-sm/normal",children:e.displayName},e.name)}))}),f=l.map((function(e){return te(e,null==n?void 0:n[e.name],i)})),d=u.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Heading,{
className:J().optionalHeader,variant:"heading-deprecated-12/semibold",children:X.Z.Messages.COMMANDS_OPTIONAL_HEADER}),u.map((function(e){return te(e,null==n?void 0:n[e.name],i)}))]}):null,p=c.length>0?(0,r.jsx)(y.Tooltip,{text:s,"aria-label":!1,delay:200,children:function(e){return(0,r.jsx)(H.Z,ee(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$(e,t,n[t])}))}return e}({className:J().optionalCount,color:H.Z.Colors.MUTED},e),{children:0===u.length?X.Z.Messages.COMMANDS_OPTIONAL_COUNT.format({count:c.length}):X.Z.Messages.COMMANDS_OPTIONAL_COUNT_REMAINING.format({count:c.length})}))}}):null;return(0,r.jsxs)(r.Fragment,{children:[f,null!=d||null!=p?(0,r.jsxs)("div",{className:J().optionals,children:[d,p]}):null]})}function re(e){
var t,n,i=e.command,l=e.activeOptionName,u=e.channel,c=e.showOptions,s=e.showImage,f=e.optionStates,d=e.onOptionClick,p=e.section,h=e.isSelectable,y=void 0===h||h,b=o.useMemo((function(){var e;return null==i||null===(e=i.options)||void 0===e?void 0:e.find((function(e){return e.name===l}))}),[l,i]),m=null!=l?null==f?void 0:f[l]:null;if(null!=m&&!1===(null===(t=m.lastValidationResult)||void 0===t?void 0:t.success)){var v;n=null!==(v=m.lastValidationResult.error)&&void 0!==v?v:""}else n=null;var g,O=s&&null!=p?(0,K.ky)(p):null;return(0,r.jsxs)("div",{className:a()(J().wrapper,y?null:J().disabled),children:[null!=O?(0,r.jsx)(O,{className:J().image,channel:u,section:p,width:32,height:32}):null,(0,r.jsxs)("div",{className:J().infoWrapper,children:[(0,r.jsxs)("div",{className:J().usageWrapper,children:[(0,r.jsx)(B,{className:J().title,children:q.GI+i.displayName}),c?(0,r.jsx)(ne,{command:i,optionStates:f,onOptionClick:d}):null]}),(0,r.jsx)(F,{
className:a()(J().description,null!=n?J().error:null),children:null!==(g=null!=n?n:null==b?void 0:b.displayDescription)&&void 0!==g?g:i.displayDescription})]}),(0,r.jsx)(G,{className:J().source,children:null==p?void 0:p.name})]})}var oe=n(235120),ie=n.n(oe);const ae=function(e){var t=e.showImage,n=o.useMemo((function(){return{usageWidth:C().random(60,120),descriptionWidth:C().random(200,600),sourceWidth:C().random(45,90)}}),[]),i=n.usageWidth,a=n.descriptionWidth,l=n.sourceWidth;return(0,r.jsxs)("div",{className:ie().wrapper,children:[t?(0,r.jsx)("div",{className:ie().image}):null,(0,r.jsxs)("div",{className:ie().infoWrapper,children:[(0,r.jsx)("div",{style:{maxWidth:(0,K.Q1)(i)},className:ie().usageWrapper}),(0,r.jsx)("div",{style:{maxWidth:(0,K.Q1)(a)},className:ie().description})]}),(0,r.jsx)("div",{style:{width:(0,K.Q1)(l)},className:ie().source})]})};var le=n(773011),ue=n(239813),ce=n(211482),se=n(652591),fe=n(2590),de=n(203600),pe=n(565612),he=n.n(pe);const ye=function(e){
var t=e.emojis,n=(0,g.Z)().analyticsLocations;o.useEffect((function(){se.default.track(fe.rMx.PREMIUM_UPSELL_VIEWED,{type:de.cd.EMOJI_AUTOCOMPLETE_INLINE,location_stack:n})}),[n]);var i=(0,r.jsx)("div",{className:he().emojis,children:t.slice(0,3).map((function(e,n){if(""===e.url)return null;var o=n===t.length-1,i=(0,r.jsx)("div",{className:he().emojiBackground,children:(0,r.jsx)("img",{alt:e.name,className:he().emoji,src:e.url})},e.id);return o?i:(0,r.jsx)(ce.ZP,{className:he().emojiMask,mask:ce.ZP.Masks.AUTOCOMPLETE_EMOJI_UPSELL_EMOJI,children:i},e.id)}))});return(0,r.jsxs)(D,{className:he().upsell,children:[(0,r.jsx)(k,{children:(0,r.jsx)(B,{children:X.Z.Messages.AUTOCOMPLETE_EMOJI_UPSELL.format({count:t.length})})}),(0,r.jsx)(G,{children:i})]})};var be=n(78551),me=n(513586),ve=n(567403),ge=n(840922),Oe=n(473903),Ee=n(749565),Ce=n(551069),Se=n(517451);function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ie(e){Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ie(e)}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ne(e,t)}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_e(e,t,n[t])}))}return e}function xe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Te(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e,t){Ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ne(e,t)}var Me=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ie(e);if(t){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Le(e){return null!=e?"autocomplete-".concat(e):null}function Re(e){return"autocomplete-".concat(e,"-title")}var De=o.createContext(null),ke=function(e){we(n,e);var t=Ze(n);function n(e){je(this,n);var r;(r=t.call(this,e)).selectable=!0;r.layoutClass=R().autocompleteRowVertical;r.handleMouseEnter=function(){var e=r.props,t=e.onHover,n=e.index,o=e.selected;null!=t&&!o&&"number"==typeof n&&t(n)};r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.index
;null!=n&&"number"==typeof o&&n(o,e)};r.state={hovered:!1};return r}var o=n.prototype;o.isSelectable=function(){return this.selectable};o.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")};o.renderClickable=function(e){var t,n=this,o=this.layoutClass,i=this.props,l=i.className,u=i.index,c=i.selected,s=this.isSelectable();return(0,r.jsx)(y.Clickable,xe(Pe({},e),{className:a()(R().clickable,l,o),id:null!==(t=Le(u))&&void 0!==t?t:void 0,onClick:s?this.handleClick:void 0,onMouseMove:s?function(){n.setState({hovered:!0});n.handleMouseEnter()}:void 0,onMouseLeave:s?function(){return n.setState({hovered:!1})}:void 0,role:"option","aria-disabled":!s,"aria-selected":s&&c,children:(0,r.jsx)("div",{className:R().base,children:this.renderContent()})}))};o.render=function(){var e=this,t=this.props.index;return this.isSelectable()?(0,r.jsx)(M.mh,{id:"".concat(t),children:function(t){return e.renderClickable(t)}}):this.renderClickable()};return n
}(o.PureComponent),Ue=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:(0,r.jsx)(B,{children:t})}),null!=n?(0,r.jsx)(G,{children:n}):null]})};return n}(ke);var Be=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);var e;(e=t.apply(this,arguments)).layoutClass=R().dividerContainer;e.selectable=!1;return e}n.prototype.renderContent=function(){var e=this.props.className;return(0,r.jsx)("div",{className:a()(e,R().divider)})};return n}(ke),Fe=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,o=e.status,i=e.hidePersonalInformation,a=e.guildId;return(0,r.jsxs)(D,{children:[(0,r.jsx)(U,{children:(0,r.jsx)(y.Avatar,{size:y.AvatarSizes.SIZE_24,src:t.getAvatarURL(a,24),"aria-hidden":!0,status:o})}),(0,r.jsx)(k,{
children:(0,r.jsx)(B,{children:null!=n?n:Ee.ZP.getName(t)})}),(0,r.jsxs)(G,{children:[(0,r.jsx)("span",{className:R().descriptionUsername,children:Ee.ZP.getUserTag(t,{mode:"username",identifiable:i?"never":"always"})}),i||t.isPomelo()?null:(0,r.jsxs)("span",{className:R().descriptionDiscriminator,children:["#",t.discriminator]})]})]})};return n}(ke),Ge=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props,t=e.role,n=e.hideDescription,o=t.colorString,i="dot"===m.Z.roleStyle,a="username"===m.Z.roleStyle&&null!=o?{color:o}:void 0;return(0,r.jsxs)(D,{children:[(0,r.jsx)(k,{children:(0,r.jsxs)(B,{children:[i&&(0,r.jsx)(y.RoleDot,{className:R().roleDot,color:o,tooltip:!1}),(0,r.jsxs)("span",{style:a,children:["@",t.name]})]})}),n?null:(0,r.jsx)(G,{children:X.Z.Messages.MENTION_USERS_WITH_ROLE})]})};return n}(ke),He=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}
n.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category,o=t.type===fe.d4z.GUILD_CATEGORY?Ce.Z:(0,ue.KS)(t);return(0,r.jsxs)(D,{children:[null!=o&&(0,r.jsx)(U,{children:(0,r.jsx)(o,{className:R().icon})}),(0,r.jsx)(k,{children:(0,r.jsx)(B,{children:(0,le.F6)(t,Oe.default,ge.Z)})}),null!=n?(0,r.jsx)(G,{children:n.name}):null]})};return n}(ke),Ve=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}n.prototype.renderContent=function(){var e=this.props.command;return(0,r.jsxs)(D,{children:[(0,r.jsx)(U,{children:(0,r.jsx)(Se.Z,{className:R().icon,foreground:R().iconForeground})}),(0,r.jsx)(k,{children:(0,r.jsx)(B,{children:e.name})}),(0,r.jsx)(G,{children:e.description})]})};return n}(ke),We=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}var o=n.prototype;o.isSelectable=function(){return this.props.command.inputType!==Z.iw.PLACEHOLDER};o.renderContent=function(){
var e=this.props,t=e.command,n=e.channel,o=e.showImage,i=e.section,a=e.selected,l=this.state.hovered,u=this.isSelectable();return t.inputType===Z.iw.PLACEHOLDER?(0,r.jsx)(ae,{}):(0,r.jsx)(re,{command:t,channel:n,showImage:o,showOptions:l||u&&a,section:i,isSelectable:u})};return n}(ke),ze=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);var e;(e=t.apply(this,arguments)).layoutClass=a()(R().autocompleteRowVertical,R().autocompleteRowVerticalSmall);return e}n.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,o=e.guild,i=null!=t.url&&""!==t.url?(0,r.jsx)("img",{alt:"",className:R().emojiImage,src:t.url}):(0,r.jsx)("span",{className:R().emojiRaw,children:t.surrogates}),a=null!=o?(0,r.jsx)(G,{children:o.name}):null;return(0,r.jsxs)(D,{children:[(0,r.jsx)(U,{children:i}),(0,r.jsx)(k,{children:(0,r.jsxs)(B,{children:[n,t.name,n]})}),a]})};return n}(ke),Ye=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);var e
;(e=t.apply(this,arguments)).layoutClass=a()(R().autocompleteRowVertical,R().autocompleteRowVerticalSmall);return e}n.prototype.renderContent=function(){var e,t=this.props,n=t.queryMatch,o=t.renderSticker,i=t.selected,a=t.sticker,l=this.state.hovered;if((0,me.jl)(a)){var u;e=null===(u=be.Z.getStickerPack(a.pack_id))||void 0===u?void 0:u.name}else if((0,me.J8)(a)){var c;e=null===(c=ve.Z.getGuild(a.guild_id))||void 0===c?void 0:c.name}return(0,r.jsxs)(D,{children:[(0,r.jsx)(U,{children:o(a,l||!0===i)}),(0,r.jsxs)(k,{children:[(0,r.jsx)(B,{className:R().stickerName,children:a.name}),null!=n&&(0,r.jsx)(F,{children:X.Z.Messages.AUTOCOMPLETE_STICKERS_QUERY_MATCH.format({queryMatch:n})})]}),null!=e&&(0,r.jsx)(G,{children:e})]})};return n}(ke),Ke=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);var e;(e=t.apply(this,arguments)).layoutClass=R().autocompleteRowHorizontal;return e}n.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height,o=e.src;return(0,r.jsx)("img",{
alt:"",src:o,width:t,height:n})};return n}(ke),qe=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);var e;(e=t.apply(this,arguments)).selectable=!1;return e}n.prototype.renderContent=function(){return(0,r.jsx)(ye,{emojis:this.props.emojis})};return n}(ke),Xe=function(e){we(n,e);var t=Ze(n);function n(){je(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=e.innerClassName,l=e.id,u=Ae(e,["children","className","innerClassName","id"]);return o.Children.count(t)>0?(0,r.jsx)(De.Provider,{value:{id:null!=l?l:""},children:(0,r.jsx)("div",{className:a()(R().autocomplete,n),children:(0,r.jsx)("div",xe(Pe({className:a()(R().autocompleteInner,i)},u),{children:t}))})}):null};return n}(o.PureComponent);Xe.Generic=Ue;Xe.Loading=function(e){var t=o.useMemo((function(){return C().random(60,120)}),[]);return(0,r.jsx)("div",{className:R().base,"aria-busy":!0,children:(0,r.jsx)(D,{children:(0,r.jsx)(k,{children:(0,r.jsx)(B,{
children:(0,r.jsx)("div",{className:R().autocompletePlaceholder,style:{width:t}})})})})})};Xe.Title=function(e){var t=e.title,n=e.className,i=o.useContext(De);return(0,r.jsx)("div",{className:R().base,children:(0,r.jsx)(y.Heading,{id:Re(i.id),className:a()(R().contentTitle,n),variant:"heading-deprecated-12/semibold",children:t})})};Xe.Divider=Be;Xe.User=Fe;Xe.Role=Ge;Xe.Channel=He;Xe.Command=Ve;Xe.NewCommand=We;Xe.Emoji=ze;Xe.GIFIntegration=Ke;Xe.Sticker=Ye;Xe.EmojiUpsell=qe;const Qe=Xe;var Je=n(483902),$e=n(443812),et=n(49621),tt=n(533404),nt=n(711795),rt=n(83993),ot=n.n(rt);function it(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function at(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var ut=[16,12,8,12];function ct(e){var t=e.className,n=e.channel,i=e.sections,l=e.activeCategoryIndex,u=e.filteredSectionId,c=e.onSectionClick,s=e.applicationCommandListRef,f=o.useRef(null),d=o.useCallback((function(e,t){var n,r=8;(null===(n=i[t+1])||void 0===n?void 0:n.type)===Z.Qi.BUILT_IN&&(r+=8);return 32+r}),[i]),p=o.useCallback((function(e,t){var n
;return t?(null===(n=i[e+1])||void 0===n?void 0:n.type)===Z.Qi.BUILT_IN?0:8:0===e?0:8}),[i]),h=o.useCallback((function(e,t){var o=i[t];if(null!=o){var a=(0,K.ky)(o),s=o.type===Z.Qi.BUILT_IN?4:0,f=32-2*s,d=(0,r.jsx)(a,{channel:n,section:o,isSelected:null!=u?o.id===u:l===t,padding:s,width:f,height:f,selectable:!0}),p=o.type!==Z.Qi.BUILT_IN&&t<i.length-1&&i[t+1].type===Z.Qi.BUILT_IN;return(0,r.jsxs)("div",{className:ot().section,children:[(0,r.jsx)(y.Tooltip,{text:o.name,position:"right",children:function(e){var t=e.onClick,n=lt(e,["onClick"]);return(0,r.jsx)(y.Clickable,at(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){it(e,t,n[t])}))}return e}({"aria-label":o.name,onClick:function(){c(o);null==t||t()}},n),{children:d}))}}),p?(0,
r.jsx)("hr",{className:ot().builtInSeparator}):null]},o.id)}}),[l,n,c,i,u]);return 0===i.length?null:(0,r.jsx)("div",{className:a()(t,ot().wrapper),children:(0,r.jsx)(nt.Z,{categoryListRef:f,expressionsListRef:s,store:A.Xn,categories:i,className:ot().list,renderCategoryListItem:h,rowCount:i.length,categoryHeight:d,listPadding:ut,getScrollOffsetForIndex:p})})}var st=n(127624),ft=n(626497),dt=n.n(ft),pt=n(576884),ht=n.n(pt);function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vt=[8,8,0,8],gt=C().debounce((function(){(0,_.yw)(fe.rMx.APPLICATION_COMMAND_BROWSER_SCROLLED)}),300);const Ot=o.forwardRef((function(e,t){var n=e.channel,i=e.canOnlyUseTextCommands,l=o.useRef(!1),u=o.useRef(0),c=mt(o.useState(0),2),s=c[0],f=c[1],d=o.useRef(null),p=mt(o.useState(!1),2),h=p[0],y=p[1],b=A.Xn.useStore((function(e){return e.activeCategoryIndex}));o.useEffect((function(){(0,_.yw)(fe.rMx.APPLICATION_COMMAND_BROWSER_OPENED)}),[])
;var m=(0,tt.JK)(n,j.yU.CHAT,7,st.tn,{canOnlyUseTextCommands:i,canUseFrecency:!0}),v=m.sectionDescriptors,g=m.activeSections,O=m.commandsByActiveSection,E=m.hasMoreAfter,C=m.commands,I=m.filteredSectionId,M=m.scrollDown,L=m.filterSection,R=(0,T.Qs)({activeCategoryIndex:b,isScrolling:l,listRef:d,onActiveCategoryIndexChange:function(e){var t=g[e],n=v.findIndex((function(e){return e.id===t.id}));A.Xn.setActiveCategoryIndex(n)},scrollOffset:20,searchQuery:""}),D=function(e){var t=g.length,n=O.reduce((function(e,t){return e+t.data.length}),0)-(E?7:0);E&&e+420>48*t+56*n-512&&M();R(e);gt();u.current=e};o.useEffect((function(){D(u.current)}),[C]);var k=o.useCallback((function(e){return e===g.length-1&&!E?0:16}),[g.length,E]),U=O.map((function(e){return e.data.length}));o.useEffect((function(){null!=d.current&&h&&null!=s&&d.current.scrollRowIntoView(s)}),[h,s]);o.useLayoutEffect((function(){if(null!=I){var e;null===(e=d.current)||void 0===e||e.scrollToSectionTop(0)}}),[C,I])
;var B=o.useCallback((function(e){if(e.id===I||e.id===st.bi.FRECENCY){var t;L(null);null===(t=d.current)||void 0===t||t.scrollToSectionTop(0)}else L(e.id)}),[L,I]),F=o.useCallback((function(e,t){et.Po(n.id,e,t,Z.Vh.DISCOVERY)}),[n.id]);o.useImperativeHandle(t,(function(){return{onTabOrEnter:function(e){if(null==s){if(e)return!1;f(0);return!0}if(null==s)return!1;var t=0,n=0,r=!0,o=!1,i=void 0;try{for(var a,l=O[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;t=n;n+=u.data.length;if(s<n){F(u.data[s-t],u.section);break}}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!0},onMoveSelection:function(e){if(0===C.length)return!0;var t=E?7:0,n=C.length+t,r=null==s?0:s+e;r>=n?r=n-1:r<0&&(r=0);f(r);y(!0);return!0}}}),[C.length,O,E,F,s]);var G=o.useCallback((function(e){var t=g[e];if(null==t)return null;var o=(0,K.ky)(t),i=(0,r.jsx)(o,{channel:n,section:t,width:16,height:16,padding:0});return(0,r.jsx)(N.Z,{className:dt().categoryHeader,icon:i,
children:t.name},e)}),[n,g]),H=o.useCallback((function(e,t){var n=e===g.length-1,o=g[e],i=O[e].data;return(0,r.jsxs)("ul",{role:"group","aria-label":o.name,className:a()(dt().categorySection,bt({},dt().categorySectionLast,n)),children:[t,0===i.length&&(0,r.jsx)(S.Z,{message:X.Z.Messages.APPLICATION_COMMAND_NO_PERMISSIONS.format({applicationName:o.name}),noResultsImageURL:ht(),className:dt().noSearchResults})]},e)}),[g,O]),V=o.useCallback((function(e,t){var o,i=O[t.sectionIndex],a=i.data[t.sectionRowIndex],l="".concat(i.section.id,":").concat(null!==(o=null==a?void 0:a.id)&&void 0!==o?o:e);if(null==a||i.section.id!==a.applicationId&&i.section.id!==st.bi.FRECENCY||a.inputType===Z.iw.PLACEHOLDER)return(0,r.jsx)(ae,{},l);var u=v.find((function(e){return e.id===a.applicationId}));return(0,r.jsx)(Qe.NewCommand,{index:e,command:a,channel:n,className:dt().itemWrapper,selected:s===e,showImage:i.section.id!==a.applicationId,section:u,onClick:function(){return F(a,u)},onHover:function(){f(null)
;y(!1)}},l)}),[n,O,F,v,s]),W=(0,$e.Dt)();x(W,!0,Le(s));o.useEffect((function(){return function(){P.setState((function(){return w}))}}),[]);return(0,r.jsxs)(Qe,{id:W,className:dt().outerWrapper,innerClassName:dt().wrapper,onMouseDown:Et,children:[(0,r.jsx)(ct,{className:dt().rail,channel:n,sections:v,filteredSectionId:I,activeCategoryIndex:b,onSectionClick:B,applicationCommandListRef:d}),(0,r.jsx)(Je.Z,{role:"listbox",className:dt().list,listPadding:vt,onScroll:D,renderRow:V,renderSection:H,renderSectionHeader:G,rowCount:g.length,rowCountBySection:U,rowHeight:56,sectionHeaderHeight:32,sectionMarginBottom:k,ref:d,stickyHeaders:!0})]})}));function Et(e){e.preventDefault()}var Ct=n(744564),St=n(61209),jt=n(21372),_t=n(715107),It=n(127661),wt=n(334359),Pt=n.n(wt);function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tt(e){
Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Tt(e)}function Nt(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e,t){Mt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mt(e,t)}function Zt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nt(this,n)}}var Dt=new Set,kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mt(e,t)}(n,e);var t=Rt(n);function n(){At(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(Dt=new Set(e))};r.hasId=function(e){return Dt.has(e)};r.getState=function(){return Zt(Dt)};r.__getLocalVars=function(){return{storeState:Dt,Store:Ut}};return n}(h.ZP.PersistedStore);kt.displayName="PTOStore";kt.persistKey="PTOStore";var Ut=new kt(Ct.Z,{}),Bt=function(e){return(0,h.e7)([jt.ZP,Oe.default,Ut],(function(){var t=Oe.default.getCurrentUser();if(null==t||!t.isStaff()||!e.isDM())return!1;var n=Oe.default.getUser(e.getRecipientId());if(!(null==n?void 0:n.isStaff()))return!1;var r=jt.ZP.getNicknames(n.id).some((function(e){return e.endsWith("[PTO]")||e.endsWith("[OOO]")}));if(!r){Dt.delete(n.id)&&Ut.emitChange();return!1}return!Ut.hasId(n.id)&&r}))},Ft=function(){return(0,r.jsxs)("div",{className:Pt().bar,children:[X.Z.Messages.STAFF_PTO_NOTICE,(0,r.jsx)(y.Clickable,{className:Pt().closeButton,onClick:function(){var e=_t.Z.getChannelId();if(null!=e){var t=St.Z.getChannel(e)
;if(null!=t&&t.isPrivate()&&!Dt.has(t.getRecipientId())){Dt.add(t.getRecipientId());Ut.emitChange()}}},children:(0,r.jsx)(It.Z,{className:Pt().closeIcon})})]})},Gt=n(329543),Ht=n(841804),Vt=n(260561);const Wt=(0,Vt.B)({kind:"user",id:"2021-07_popout_autocomplete",label:"Popout Autocomplete experiment",defaultConfig:{usePopoutAutocomplete:!1},treatments:[{id:1,label:"New autocomplete style",config:{usePopoutAutocomplete:!0}}]});var zt,Yt,Kt,qt,Xt,Qt,Jt,$t,en,tn;!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_EVERYONE=1]="ALLOW_EVERYONE";e[e.ALLOW_EVERYONE_OR_HERE=2]="ALLOW_EVERYONE_OR_HERE"}(zt||(zt={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_CHANNEL=1]="ALLOW_CHANNEL";e[e.ALLOW_GUILD=2]="ALLOW_GUILD"}(Yt||(Yt={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_MENTIONABLE=1]="ALLOW_MENTIONABLE";e[e.ALLOW_ALL=2]="ALLOW_ALL"}(Kt||(Kt={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW_SELECTABLE=1]="ALLOW_SELECTABLE"}(qt||(qt={}));!function(e){e[e.DENY=0]="DENY";e[e.ALLOW=1]="ALLOW"}(Xt||(Xt={}))
;!function(e){e[e.DISABLED=0]="DISABLED";e[e.OLD_BUILT_INS=1]="OLD_BUILT_INS";e[e.NEW_TEXT_ONLY=2]="NEW_TEXT_ONLY";e[e.NEW=3]="NEW"}(Qt||(Qt={}));!function(e){e[e.INSERT=0]="INSERT";e[e.SEND=1]="SEND"}(Jt||(Jt={}));!function(e){e.MENTIONS="MENTIONS";e.CHANNELS="CHANNELS";e.EMOJIS_AND_STICKERS="EMOJIS_AND_STICKERS";e.REACTIONS="REACTIONS";e.GIFS="GIFS";e.LEGACY_COMMANDS="LEGACY_COMMANDS";e.COMMANDS="COMMANDS";e.COMMAND_OPTIONS="COMMAND_OPTIONS";e.CHOICES="CHOICES"}($t||($t={}));!function(e){e.MENTION="MENTION";e.CHANNEL="CHANNEL";e.EMOJI="EMOJI";e.STICKER="STICKER";e.REACTION="REACTION";e.GIF="GIF";e.COMMAND="COMMAND";e.COMMAND_OPTION="COMMAND_OPTION";e.COMMAND_SUGGESTION="COMMAND_SUGGESTION";e.CHOICE="CHOICE";e.EMOJI_UPSELL="EMOJI_UPSELL"}(en||(en={}));!function(e){e[e.AUTO=0]="AUTO";e[e.AUTO_WHEN_FILTERED=1]="AUTO_WHEN_FILTERED";e[e.MANUAL=2]="MANUAL"}(tn||(tn={}));var nn=n(26468);function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e){
var t=e.editorHeight,n=e.type,r=e.state,i=e.isInPopoutExperiment,a=void 0!==i&&i,l=on(o.useState(void 0),2),u=l[0],c=l[1],s=null==r?void 0:r.query,f=null==r?void 0:r.isVisible,d=o.useContext(nn.ZP).renderWindow,p=o.useCallback((function(){var e;if(null==r||null!=s&&f)if((null==s?void 0:s.type)!==$t.GIFS&&(null==n||a||(null===(e=n.autocomplete)||void 0===e?void 0:e.alwaysUseLayer))){var t=d.document.getSelection(),o=null!=t&&t.rangeCount>0?t.getRangeAt(0):null;if(null!=o){for(var i=o.startContainer,l=o.startOffset;null!=i;){var u,p,h;if(i.nodeType!==Node.TEXT_NODE||null==i.nodeValue){c(null);return}if(0!==(null===(u=i.nodeValue)||void 0===u?void 0:u.length)){null!=s&&(l>=s.queryText.length?l-=s.queryText.length:l=0);break}l=null!==(h=null==(i=i.previousSibling)||null===(p=i.nodeValue)||void 0===p?void 0:p.length)&&void 0!==h?h:0}if(null!=i){var y=d.document.createRange();y.setStart(i,l);y.setEnd(i,l);var b=y.getBoundingClientRect();0!==(null==b?void 0:b.height)&&c(null!=b?b:null)}}
}else c(null);else c(void 0)}),[a,d.document,r,f,s,n]);o.useEffect((function(){d.document.addEventListener("selectionchange",p);return function(){return d.document.removeEventListener("selectionchange",p)}}),[d.document,p]);o.useEffect((function(){p()}),[p,t]);return u}var ln,un=n(283151),cn=n(385231),sn=n(281808),fn=n(854243),dn=n(682776),pn=n(793461),hn=(0,Vt.B)({kind:"user",id:"2023-05_fullyemojiautocomplete",label:"Only show emoji in autocomplete",defaultConfig:{hideStickers:!1,moreEmojisToShow:0},treatments:[{id:1,label:"Hide Stickers, only show 10 Emojis",config:{hideStickers:!0,moreEmojisToShow:0}},{id:2,label:"Hide Stickers, show more Emojis without scrollbar",config:{hideStickers:!0,moreEmojisToShow:4}},{id:3,label:"Hide Stickers, show more Emojis with scrollbar",config:{hideStickers:!0,moreEmojisToShow:40}}]}),yn=n(514351);function bn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mn(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bn(e,t,n[t])}))}return e}function vn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gn(e,t,n){var r,o;se.default.track(fe.rMx.CHANNEL_AUTOCOMPLETE_OPEN,vn(mn({},(0,_.v_)(t),(0,_.hH)(t.guild_id)),{autocomplete_type:e,num_emoji_results:null!==(r=null==n?void 0:n.numEmojiResults)&&void 0!==r?r:0,
num_sticker_results:null!==(o=null==n?void 0:n.numStickerResults)&&void 0!==o?o:0}))}!function(e){e.AUTOCOMPLETE="autocomplete";e.AUTOSUGGEST="autosuggest";e.STICKER_PICKER="picker"}(ln||(ln={}));function On(e){switch(e){case yn.V0.AUTOCOMPLETE:return ln.AUTOCOMPLETE;case yn.V0.EXPRESSION_SUGGESTIONS:return ln.AUTOSUGGEST;case yn.V0.STICKER_PICKER:return ln.STICKER_PICKER;default:return null}}var En=n(248046),Cn=n(855483),Sn=n(210595),jn=n(728197),_n=n(5544),In=n(504275),wn=n(600277);function Pn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function An(e,t,n,o,i){var a=n.length>0?e.format({prefix:o(n)}):t;return(0,r.jsx)(Qe.Title,{className:i,title:a},"autocomplete-title-".concat(a))}function Tn(e){var t=e.query,n=e.selectedIndex,i=e.autocompletes,a=e.onHover,l=e.onClick,u=e.titleWithQuery,c=e.titleWithoutQuery,s=e.Component,f=e.getProps,d=e.getQuery,p=e.key,h=e.indexOffset,y=void 0===h?0:h,b=e.headerClassName,m=e.footer;if(null==m&&(null==i||0===i.length))return null;var v=null==i?void 0:i.map((function(e,t){var r=t+y,i=f(e,r);return(0,o.createElement)(s,xn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pn(e,t,n[t])}))}return e}({onClick:l,onHover:a,selected:n===r,index:r},i),{key:i.key}))}))
;return(0,r.jsxs)(o.Fragment,{children:[null!=u&&null!=c?An(u,c,t,d,b):null,v,m]},p)}var Nn=n(897196);function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ln=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({
sentinel:q.zy,matches:function(e,t,n,r,o){return o.mentions.channel!==qt.DENY&&!e.isPrivate()},queryResults:function(e,t,n,r,o){var i,a,l=_n.sH;if(n.charAt(0)===jn.xQ.VOICE_CHANNEL){l=_n.Zb;n=n.substring(1)}if(r.forNonStringCommandOption)i=In.ZP.queryApplicationCommandChannelResults({query:n,channel:e,channelTypes:r.allowedChannelTypes});else{i=In.ZP.queryChannelResults({query:n,channel:e,type:l});if(null!=t){var u;a=In.ZP.queryStaticRouteChannels({query:n,guild:t});(u=i.channels).unshift.apply(u,Zn(a))}}return{results:i,staticRouteChannels:a}},renderResults:function(e){var t,n,r=e.results.channels,o=e.selectedIndex,i=e.query,a=e.options,l=e.onHover,u=e.onClick,c=i.charAt(0)===jn.xQ.VOICE_CHANNEL;if(c){t=X.Z.Messages.VOICE_CHANNELS_MATCHING;n=X.Z.Messages.VOICE_CHANNELS;i=i.substring(1)}else if(a.forNonStringCommandOption){t=X.Z.Messages.CHANNELS_MATCHING;n=X.Z.Messages.CHANNELS}else{t=X.Z.Messages.TEXT_CHANNELS_MATCHING;n=X.Z.Messages.TEXT_CHANNELS}return Tn({query:i,selectedIndex:o,
autocompletes:r,onHover:l,onClick:u,titleWithQuery:t,titleWithoutQuery:n,Component:Qe.Channel,getProps:function(e){return{channel:e,key:e.id,category:St.Z.getChannel(e.parent_id)}},getQuery:function(e){return c?"".concat(q.zy).concat(jn.xQ.VOICE_CHANNEL).concat(e):"".concat(q.zy).concat(e)},key:"channels"})}},"onSelect",(function(e){var t=e.results.channels,n=e.index,r=e.options,o=t[n];r.insertText(function(e){switch(e.type){case Sn.d.PUBLIC_THREAD:case Sn.d.PRIVATE_THREAD:case Sn.d.ANNOUNCEMENT_THREAD:case Sn.d.GUILD_VOICE:case Sn.d.GUILD_STAGE_VOICE:case Sn.d.GUILD_CATEGORY:return'#"'.concat((0,le.le)(e.name),'"');default:var t=_n.ZP.getTextChannelNameDisambiguations(e.guild_id)[e.id];return"#".concat(null!=t?t.name:e.name)}}(o),function(e){if(Nn.EC.has(e.id))return"<id:".concat(e.id,">");return"<#".concat(e.id,">")}(o));return{type:en.CHANNEL}}));const Rn=Ln;var Dn=n(169898),kn=n(871339);function Un(e){
var t=e.query,n=e.onHover,i=e.onClick,a=e.channel,l=e.selectedIndex,u=o.useRef(null),c=(0,tt.v1)(a,j.yU.CHAT,t,{}),s=c.commands,f=c.sections,d=c.scrollDown,p=o.useCallback((function(e){if(null==s)return null;var t,o=s[e],u=null!==(t=null==o?void 0:o.id)&&void 0!==t?t:e;if(null==o||o.inputType===Z.iw.PLACEHOLDER)return(0,r.jsx)(ae,{},u);var c=f.find((function(e){return e.id===o.applicationId}));return(0,r.jsx)(Qe.NewCommand,{index:e,command:o,channel:a,className:dt().itemWrapper,selected:l===e,showImage:!0,section:c,onClick:i,onHover:n},u)}),[a,s,f,i,n,l]);return null==s||0===s.length?null:(0,r.jsxs)(r.Fragment,{children:[An(X.Z.Messages.COMMANDS_MATCHING,X.Z.Messages.COMMANDS,t,(function(e){return"".concat(q.GI).concat(e)})),(0,r.jsx)(Je.Z,{ref:u,role:"listbox",className:dt().list,listPadding:[0,8,0,8],onScroll:function(e){if(null!=s){56*s.length-e-u.current.getListDimensions().height<504&&d()}},renderRow:p,rowCount:s.length,rowHeight:56})]})}var Bn=n(968696);var Fn={results:{
commands:[]}};function Gn(){(0,tt.nM)();return null}const Hn=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:q.GI,stores:[O.Z,tt.ZP,dn.Z],matches:function(e,t,n,r,o){return o.commands!==Qt.DISABLED&&null==O.Z.getActiveCommand(e.id)&&(r||o.commands!==Qt.OLD_BUILT_INS)},queryResults:function(e,t,n,r,o){if(0===n.length&&r.commands!==Qt.OLD_BUILT_INS)return Fn;var i={channel:e,guild:t};if(r.commands===Qt.OLD_BUILT_INS){var a=(0,Dn.Kh)(j.yU.CHAT,!1,!1),l=new RegExp("^".concat(Bn.Z.escape(n)),"i"),u=(0,En.Dd)(a,l,i,7);return 0===u.length?Fn:{results:{commands:u}}}var c=(0,K.hV)(e,n);o&&et.YU(i,c.text,7,j.yU.CHAT);var s=tt.ZP.getQueryCommands(e.id,j.yU.CHAT,c.text);if(null==s)return Fn;if(s.length>0){if(c.hasSpaceTerminator){var f=c.text.trim(),d=f+" ";s=s.filter((function(e){return e.name===f||e.name.startsWith(d)}))}return{results:{commands:s}}}return Fn},renderResults:function(e){
var t=e.results.commands,n=e.selectedIndex,o=e.channel,i=e.query,a=e.options,l=e.onHover,u=e.onClick,c=(0,K.hV)(o,i);kn.Z.trackExposure({});if(a.commands!==Qt.OLD_BUILT_INS&&kn.Z.getCurrentConfig({},{autoTrackExposure:!1}).enabled)return(0,r.jsx)(Un,{channel:o,query:c.text,selectedIndex:n,onHover:l,onClick:u});var s=tt.ZP.getApplicationSections(o.id,j.yU.CHAT);return Tn({query:c.text,selectedIndex:n,autocompletes:t,onHover:l,onClick:u,titleWithQuery:X.Z.Messages.COMMANDS_MATCHING,titleWithoutQuery:X.Z.Messages.COMMANDS,getQuery:function(e){return"".concat(q.GI).concat(e)},Component:a.commands===Qt.OLD_BUILT_INS?Qe.Command:Qe.NewCommand,getProps:function(e){return{key:e.id,command:e,channel:o,guildId:o.guild_id,showImage:!0,section:null==s?void 0:s.find((function(t){return t.id===e.applicationId}))}},key:"commands",footer:(0,r.jsx)(Gn,{})})}},"onSelect",(function(e){var t=e.results.commands,n=e.index,r=e.options,o=e.channel,i=e.location,a=t[n]
;if(a.inputType===Z.iw.PLACEHOLDER)return null;if(r.commands===Qt.OLD_BUILT_INS)r.insertText(function(e){return"".concat(q.GI).concat(e.name)}(a));else{var l,u,c=null!==(u=null===(l=tt.ZP.getApplicationSections(o.id,j.yU.CHAT))||void 0===l?void 0:l.find((function(e){return e.id===a.applicationId})))&&void 0!==u?u:null;et.Po(o.id,a,c,i)}return{type:en.COMMAND}}));var Vn=n(849172),Wn=n(698847),zn=n(378734),Yn=n.n(zn);var Kn={results:{choices:[]}},qn={results:{choices:[],isLoading:!0}},Xn=Array.from({length:5},(function(){return{name:"",displayName:"",value:""}})),Qn={results:{choices:[],isError:!0}},Jn=C().debounce(Wn.Z,500,{leading:!0,trailing:!0}),$n=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({stores:[O.Z,Vn.Z],showEmpty:!0,matches:function(e,t,n,r,o){var i=O.Z.getActiveOption(e.id)
;return o.commands!==Qt.DISABLED&&null!=i&&(i.type===j.jw.BOOLEAN||!!(null==i?void 0:i.autocomplete)||null!=(null==i?void 0:i.choices)&&i.choices.length>0)},queryResults:function(e,t,n,r,o){var i,a=O.Z.getActiveOption(e.id);if(null==a)return Kn;if(a.autocomplete){if(o){var l=O.Z.getActiveCommand(e.id),u=r.getCommandOptionValues();Jn(l,u,{channel:e,guild:t,autocomplete:{name:a.name,query:n}})}if(Vn.Z.getLastErrored(e.id))return Qn;var c=Vn.Z.getAutocompleteChoices(e.id,a.name,n);return null==c?qn:{results:{choices:c}}}return{results:In.ZP.queryChoiceResults({query:n,choices:a.type===j.jw.BOOLEAN?st.ak:null!==(i=a.choices)&&void 0!==i?i:[]})}},renderResults:function(e){var t=e.results,n=t.choices,o=t.isLoading,i=t.isError,a=e.selectedIndex,l=e.query,u=e.onHover,c=e.onClick;return i?(0,r.jsx)(S.Z,{message:X.Z.Messages.APPLICATION_COMMAND_AUTOCOMPLETE_FAILED,noResultsImageURL:ht(),className:Yn().noAutocompleteResults}):0!==n.length||o?Tn({query:l,selectedIndex:a,autocompletes:o?Xn:n,
onHover:u,onClick:c,titleWithQuery:X.Z.Messages.OPTIONS_MATCHING,titleWithoutQuery:X.Z.Messages.OPTIONS,Component:o?Qe.Loading:Qe.Generic,getProps:function(e,t){return{key:t.toString(),text:e.displayName}},getQuery:function(e){return e},key:"choice"}):(0,r.jsx)(S.Z,{message:X.Z.Messages.APPLICATION_COMMAND_AUTOCOMPLETE_NO_OPTIONS,noResultsImageURL:ht(),className:Yn().noAutocompleteResults})}},"onSelect",(function(e){var t=e.results.choices,n=e.index,r=e.options,o=t[n];r.insertText(function(e){return e.displayName}(o));return{type:en.CHOICE}}));const er=$n;var tr={results:{commandOptions:[]}};const nr=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({stores:[O.Z],focusMode:tn.AUTO_WHEN_FILTERED,matches:function(e,t,n,r,o){return!(r||null==O.Z.getActiveCommand(e.id)||null!=O.Z.getActiveOption(e.id))},queryResults:function(e,t,n,r,o){var i=O.Z.getActiveCommand(e.id);if(null==(null==i?void 0:i.options))return tr
;var a=O.Z.getOptionStates(e.id),l=i.options.filter((function(e){var t;return e.displayName.startsWith(n)&&!(null===(t=a[e.name])||void 0===t?void 0:t.hasValue)}));return 0===l.length?tr:{results:{commandOptions:l}}},renderResults:function(e){var t=e.results.commandOptions,n=e.selectedIndex,o=e.query,i=e.onHover,a=e.onClick,l=[],u=[];t.forEach((function(e){(e.required?l:u).push(e)}));var c=l.length>0?Tn({query:o,selectedIndex:n,autocompletes:l,onHover:i,onClick:a,titleWithQuery:X.Z.Messages.REQUIRED_OPTIONS_MATCHING,titleWithoutQuery:X.Z.Messages.REQUIRED_OPTIONS,Component:Qe.Generic,getProps:function(e,t){return{key:t.toString(),text:e.displayName,description:e.displayDescription}},getQuery:function(e){return e},key:"required-options"}):null,s=u.length>0?Tn({query:o,selectedIndex:n,autocompletes:u,onHover:i,onClick:a,titleWithQuery:X.Z.Messages.OPTIONS_MATCHING,titleWithoutQuery:l.length>0?X.Z.Messages.OTHER_OPTIONS:X.Z.Messages.OPTIONS,Component:Qe.Generic,getProps:function(e,t){
return{key:t.toString(),text:e.displayName,description:e.displayDescription}},getQuery:function(e){return e},key:"optional-options",indexOffset:l.length}):null;return(0,r.jsxs)(r.Fragment,{children:[c,s]})}},"onSelect",(function(e){var t=e.results.commandOptions,n=e.index,r=e.options,o=t[n];r.insertText("".concat(o.displayName,":"));return{type:en.COMMAND_OPTION}}));var rr=n(748755),or=n(840598),ir=(0,Vt.B)({kind:"user",id:"2021-03_nitro_emoji_autocomplete_upsell",label:"Emoji Autocomplete Upsell",defaultConfig:{emojiAutocompleteUpsellEnabled:!1},treatments:[{id:1,label:"Show emoji autocomplete upsell",config:{emojiAutocompleteUpsellEnabled:!0}}]});const ar=ir;(0,Vt.B)({kind:"user",id:"2021-04_nitro_emoji_autocomplete_upsell_ios",label:"Emoji Autocomplete Upsell iOS",defaultConfig:{emojiAutocompleteUpsellEnabled:!1},treatments:[{id:1,label:"Show emoji autocomplete upsell",config:{emojiAutocompleteUpsellEnabled:!0}}]});var lr=n(481554),ur=n.n(lr);function cr(e,t){return(0,r.jsx)(wn.ZP,{
sticker:e,isInteracting:t,size:40})}const sr=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:q.Iv,stores:[be.Z],matches:function(e,t,n,r,o){return n.length>1},queryResults:function(e,t,n,r,o){var i=hn.getCurrentConfig({},{autoTrackExposure:!1}).moreEmojisToShow,a=fe.rnv+i,l=ar.getCurrentConfig({},{autoTrackExposure:!1}).emojiAutocompleteUpsellEnabled,u=In.ZP.queryEmojiResults({query:n,channel:e,intention:r.emojiIntention,maxCount:a}).emojis,c=u.locked,s=u.unlocked;if("-"===n[0]){var f=function(e){var t;return null===(t=e.names)||void 0===t?void 0:t.includes(n)};c=c.filter(f);s=s.filter(f)}var d=[];if(r.allowStickers){(0,or.$p)();var p=In.ZP.queryStickers([n],!0,[e,function(e,t){return t===rr.eb.SENDABLE}]),h=Math.max(4,8-s.length);d=p.slice(0,h);"-"===n[0]&&(d=p.filter((function(e){return e.sticker.name===n})))}var y=s.slice(0,a-d.length),b=y.length+d.length<a&&c.length>0?[{emojis:c}]:[]
;b.length>0&&ar.trackExposure({});return{results:{emojis:y,emojisLocked:l?b:[],stickers:d},metadata:{numEmojiResults:y.length,numStickerResults:d.length}}},renderResults:function(e){var t=e.results,n=t.emojis,o=t.stickers,i=t.emojisLocked,a=e.selectedIndex,l=e.query,u=e.onHover,c=e.onClick;return(0,r.jsxs)(r.Fragment,{children:[Tn({query:l,selectedIndex:a,autocompletes:n,onHover:u,onClick:c,titleWithQuery:X.Z.Messages.EMOJI_MATCHING,titleWithoutQuery:X.Z.Messages.EMOJI,Component:Qe.Emoji,getProps:function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:q.Iv,guild:null!=e.guildId?ve.Z.getGuild(e.guildId):null}},getQuery:function(e){return"".concat(q.Iv).concat(e)},key:"emoji"}),i.length>0?Tn({query:l,selectedIndex:a,autocompletes:i,onHover:u,onClick:c,titleWithQuery:0===n.length?X.Z.Messages.EMOJI_MATCHING:null,titleWithoutQuery:0===n.length?X.Z.Messages.EMOJI:null,Component:Qe.EmojiUpsell,getProps:function(e){return{key:"emoji-upsell",emojis:e.emojis}},getQuery:function(e){
return"".concat(q.Iv).concat(e)},key:"emoji-upsell",indexOffset:n.length}):null,(n.length>0||i.length>0)&&o.length>0&&(0,r.jsx)(Qe.Divider,{className:ur().emojiStickersDivider}),Tn({query:l,selectedIndex:a,autocompletes:o,onHover:u,onClick:c,titleWithQuery:X.Z.Messages.STICKERS_MATCHING,titleWithoutQuery:X.Z.Messages.STICKER,Component:Qe.Sticker,getProps:function(e){var t=e.comparator,n=e.sticker;return{renderSticker:cr,queryMatch:t!==n.name.toLocaleLowerCase()?t:void 0,sticker:n,key:n.id}},getQuery:function(e){return e},key:"stickers",indexOffset:n.length+i.length,headerClassName:n.length>0?ur().stickersHeaderWithEmojiResults:void 0})]})}},"onSelect",(function(e){var t=e.results,n=t.emojis,r=t.emojisLocked,o=t.stickers,i=e.index,a=e.options;if(i<n.length){var l=n[i];a.insertText(function(e){return"".concat(q.Iv).concat(e.name).concat(q.Iv)}(l),function(e){var t,n=e.animated?"a":""
;return e.managed||null==e.id?"".concat(q.Iv).concat(e.name).concat(q.Iv):"<".concat(n,":").concat(null!==(t=e.originalName)&&void 0!==t?t:e.name,":").concat(e.id,">")}(l));return{type:en.EMOJI,metadata:{emojiId:l.id,numEmojiResults:n.length,numStickerResults:o.length,expressionName:l.name,isCustom:null!=l.id,isAnimated:l.animated}}}if((i-=n.length)<r.length)return{type:null};if((i-=r.length)<o.length){var u=o[i];a.insertText("");a.sendSticker(u.sticker,yn.V0.AUTOCOMPLETE);return{type:en.STICKER,metadata:{numEmojiResults:n.length,numStickerResults:o.length,stickerId:u.sticker.id}}}return{type:null}}));var fr=n(281110);function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(e){pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return pr(e)}function hr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e,t){yr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return yr(e,t)}var br=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=pr(e);if(t){var o=pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}var vr={},gr={integration:"",query:""};var Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&yr(e,t)}(n,e);var t=mr(n);function n(){dr(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getResults=function(e,t){if(null==e||null==t)return null;var n=vr[e];return null!=n&&null!=n[t]?n[t]:null};r.getQuery=function(){return gr};r.__getLocalVars=function(){return{results:vr,lastQuery:gr}};return n}(h.ZP.Store);Or.displayName="IntegrationQueryStore";const Er=new Or(Ct.Z,{INTEGRATION_QUERY:function(e){var t,n=e.integration,r=e.query;vr[n]=null!==(t=vr[n])&&void 0!==t?t:{};vr[n][r]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;vr[t][n]={loading:!1,results:r.map((function(e){return{type:fe.nkL[t].type,meta:e}}))};gr={query:n,integration:t}},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete vr[t][n]}}),Cr=function(e,t){if(null==Er.getResults(e,t)){Ct.Z.dispatch({type:"INTEGRATION_QUERY",integration:e,query:t});fr.Z.get({url:fe.ANM.INTEGRATION_SEARCH(fe.nkL[e].command),
query:{q:t},oldFormErrors:!0}).then((function(n){Ct.Z.dispatch({type:"INTEGRATION_QUERY_SUCCESS",integration:e,query:t,results:n.body})}),(function(){return Ct.Z.dispatch({type:"INTEGRATION_QUERY_FAILURE",integration:e,query:t})}))}};var Sr=n(107364),jr=n(810498),_r=n.n(jr);function Ir(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var wr,Pr={results:{command:null,integrations:[],isLoading:!1}};function xr(e,t,n){var r;if(n.commands===Qt.OLD_BUILT_INS){r=t.split(" ")[0].substring(q.GI.length);var o;t=t.substring((null!==(o=r.length)&&void 0!==o?o:0)+q.GI.length)}else{var i;r=null===(i=O.Z.getActiveCommand(e.id))||void 0===i?void 0:i.name}return{command:r,query:t.trim()}}function Ar(e){return e.meta.url}const Tr=(Ir(wr={stores:[O.Z,Er],matches:function(e,t,n,r,o){var i
;return o.commands!==Qt.DISABLED&&(o.commands===Qt.OLD_BUILT_INS?n.startsWith(q.GI+"giphy")||n.startsWith(q.GI+"tenor"):(null===(i=O.Z.getActiveCommand(e.id))||void 0===i?void 0:i.integrationType)===fe.q9n.GIF&&O.Z.getOptionStates(e.id).query.hasValue)},queryResults:function(e,t,n,r,o){var i=xr(e,n,r),a=i.command,l=i.query;if(null==a)return Pr;var u=C().findKey(fe.nkL,(function(e){return e.command===a}));o&&null!=u&&l.length>0&&Cr(u,l);var c=Er.getResults(u,l);return null==c?Pr:{results:{command:a,integrations:c.results,isLoading:c.loading}}}},"renderResults",(function(e){var t=e.results,n=t.integrations,i=t.isLoading,a=e.selectedIndex,l=e.channel,u=e.query,c=e.options,s=e.onHover,f=e.onClick,d=xr(l,u,c),p=d.command,h=d.query;if(null==p||0===h.length)return null;if(i)return(0,r.jsx)(y.Spinner,{className:_r().spinner,type:y.Spinner.Type.SPINNING_CIRCLE});if(null!=n){var b,m,v=!1,g=n.map((function(e,t){if(e.type===fe.q9n.GIF){v=!0;var n,o,i;return(0,r.jsx)(Qe.GIFIntegration,{
className:_r().horizontalAutocomplete,onClick:f,onHover:s,selected:a===t,index:t,width:null!==(n=e.meta.width)&&void 0!==n?n:0,height:null!==(o=e.meta.height)&&void 0!==o?o:0,src:null!==(i=e.meta.src)&&void 0!==i?i:"",url:e.meta.url},"".concat(e.meta.url).concat(e.meta.src))}})),E=c.commands===Qt.OLD_BUILT_INS?p:null!==(m=null===(b=O.Z.getActiveCommand(l.id))||void 0===b?void 0:b.integrationTitle)&&void 0!==m?m:p,C=h.length>0&&null!=E?X.Z.Messages.CONTENT_MATCHING.format({query:h,command:E}):null!=E?E:p;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Qe.Title,{title:C}),v?(0,r.jsx)(Sr.Z,{className:_r().horizontalAutocompletes,children:g}):g]},"gifs")}})),Ir(wr,"onSelect",(function(e){var t=e.results,n=t.command,r=t.integrations,o=e.index,i=e.type,a=e.options,l=e.channel;if(null==n)return{type:null};var u=r[o];i===Jt.INSERT?a.replaceText(Ar(u)):a.sendMessage(Ar(u));_.ZP.trackWithMetadata(fe.rMx.SEARCH_RESULT_SELECTED,{search_type:fe.aib.GIF,index_num:o,source_object:"/".concat(n)})
;if(a.commands!==Qt.OLD_BUILT_INS){var c=O.Z.getActiveCommand(l.id);(null==c?void 0:c.inputType)===Z.iw.BUILT_IN_INTEGRATION&&_.ZP.trackWithMetadata(fe.rMx.APPLICATION_COMMAND_USED,{command_id:c.id,application_id:c.applicationId,command_type:c.type})}return{type:en.GIF}})),wr);var Nr=n(968449),Mr=n(773148),Zr=RegExp("^(?:(?:(?:[A-Za-z!$%?;+.=\\-~]{1,2})[@#>]{1,3})|(?:(?:[A-Za-z]{1,2})?(?:~|[!$%?;+.=-]{1,3})))[A-Za-z]","u"),Lr=RegExp("^<@!?(\\d+)>","u");function Rr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rr(e,t,n[t])}))}return e}function kr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ur(e){var t=Zr.exec(e);if(null!=t)return{type:"prefix",cleanedQuery:e.substring(t[0].length).trim()};var n=Lr.exec(e);if(null!=n){var r=n[1],o=Oe.default.getUser(r);return null!=o&&o.bot?{type:"mention",cleanedQuery:e.substring(n[0].length).trim(),user:o}:null}return null}function Br(){(0,tt.nM)();return null}var Fr={results:{commands:[]}},Gr=kr(Dr({},Hn),{sentinel:void 0,focusMode:tn.MANUAL,matches:function(e,t,n,r,o){if(o.commands===Qt.DISABLED||o.commands===Qt.OLD_BUILT_INS||n.length<2)return!1;var i=Ur(n);return null!=i&&i.cleanedQuery.length>0},
queryResults:function(e,t,n,r,o){var i=Ur(n);if(null==i)return Fr;var a={channel:e,guild:t},l=(0,K.hV)(e,i.cleanedQuery);o&&et.YU(a,l.text,7,j.yU.CHAT,"mention"===i.type?i.user.id:void 0);var u=tt.ZP.getQueryCommands(e.id,j.yU.CHAT,l.text);if(null==u)return Fr;if(u.length>0&&l.hasSpaceTerminator){var c=l.text.trim(),s=c+" ";u=u.filter((function(e){return e.name===c||e.name.startsWith(s)}))}return 0===(u=u.filter((function(e){return e.inputType===Z.iw.BOT}))).length?Fr:Nr.Xk.getSetting()?{results:{commands:u}}:Fr},renderResults:function(e){var t=e.results.commands,n=e.selectedIndex,o=e.guild,i=e.channel,a=e.query,l=e.options,u=e.onHover,c=e.onClick,s=tt.ZP.getApplicationSections(i.id,j.yU.CHAT);return Tn({query:a,selectedIndex:n,autocompletes:t,onHover:u,onClick:c,titleWithQuery:X.Z.Messages.COMMANDS_MATCHING,titleWithoutQuery:X.Z.Messages.COMMANDS,Component:l.commands===Qt.OLD_BUILT_INS?Qe.Command:Qe.NewCommand,getProps:function(e){return{key:e.id,command:e,channel:i,
guildId:i.guild_id,showImage:!0,section:null==s?void 0:s.find((function(t){return t.id===e.applicationId}))}},getQuery:function(e){var t=Ur(e);if("mention"!==t.type)return e;var n=Mr.Z.getName(null==o?void 0:o.id,i.id,t.user);return e.replace(Lr,"@".concat(n))},key:"commands",footer:(0,r.jsx)(Br,{})})},onSelect:function(e){var t=e.results,n=e.index,r=e.type,o=e.options,i=e.channel,a=Hn.onSelect({results:t,index:n,type:r,options:o,channel:i,location:Z.Vh.SUGGESTION});return null==a?null:kr(Dr({},a),{type:en.COMMAND_SUGGESTION})}});const Hr=Gr;const Vr=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:q.ME,stores:[jt.ZP],matches:function(e,t,n,r,o){return o.mentions.user!==Yt.DENY||o.mentions.role!==Kt.DENY||o.mentions.global!==zt.DENY},queryResults:function(e,t,n,r,o){
var i=r.mentions.global===zt.ALLOW_EVERYONE||r.mentions.global===zt.ALLOW_EVERYONE_OR_HERE,a=r.mentions.global===zt.ALLOW_EVERYONE_OR_HERE,l=r.mentions.user!==Yt.DENY,u=r.mentions.role!==Kt.DENY,c=r.mentions.clyde!==Xt.DENY,s=r.mentions.user===Yt.ALLOW_GUILD,f=r.mentions.role===Kt.ALLOW_ALL;return{results:In.ZP.queryMentionResults({query:n,channel:e,canMentionEveryone:i,canMentionHere:a,canMentionUsers:l,canMentionRoles:u,canMentionClyde:c,includeAllGuildUsers:s,includeNonMentionableRoles:f,request:o})}},renderResults:function(e){var t,n,i=e.results,a=i.users,l=i.globals,u=i.roles,c=e.selectedIndex,s=e.channel,f=e.query,d=e.options,p=e.onHover,h=e.onClick,y=a.map((function(e,t){return(0,r.jsx)(Qe.User,{guildId:s.guild_id,onClick:h,onHover:p,selected:c===t,index:t,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:d.hidePersonalInformation},e.user.id)})),b=l.map((function(e,t){return(0,r.jsx)(Qe.Generic,{onClick:h,onHover:p,selected:c===t+a.length,index:a.length+t,
text:e.text,description:d.hideMentionDescription?null:e.description,"aria-label":e.text},e.text)})),m=u.map((function(e,t){return(0,r.jsx)(Qe.Role,{onClick:h,onHover:p,selected:c===t+a.length+l.length,index:a.length+l.length+t,role:e,hideDescription:d.hideMentionDescription},e.id)}));if(d.mentions.user===Yt.DENY){t=X.Z.Messages.ROLES_MATCHING;n=X.Z.Messages.ROLES}else{t=X.Z.Messages.MEMBERS_MATCHING;n=X.Z.Messages.MEMBERS}return(0,r.jsxs)(o.Fragment,{children:[An(t,n,f,(function(e){return"".concat(q.ME).concat(e)})),y,a.length>0&&l.length>0?(0,r.jsx)(Qe.Divider,{}):null,b,a.length>0&&u.length>0||l.length>0&&u.length>0?(0,r.jsx)(Qe.Divider,{}):null,m]},"mentions")}},"onSelect",(function(e){var t=e.results,n=t.users,r=t.globals,o=t.roles,i=e.index,a=e.options,l=e.channel,u=n[i],c=r[i-n.length],s=o[i-n.length-r.length];null!=u?a.insertText(function(e,t,n){return In.ZP.hasSameRoleAsUsername(t,e)?"".concat(q.ME).concat(e.tag):"".concat(q.ME).concat(Ee.ZP.getUserTag(e,{
identifiable:n?"never":"always"}))}(u.user,l,a.hidePersonalInformation),function(e){return"<@".concat(e.id,">")}(u.user)):null!=c?a.insertText(function(e){return e.text}(c)):null!=s&&a.insertText(function(e){return"".concat(q.ME).concat(e.name)}(s),function(e){return"<@&".concat(e.id,">")}(s));return{type:en.MENTION}}));const Wr=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({sentinel:q.a4,matches:function(e,t,n,r,o){var i,a;return r&&null!==(a=null===(i=o.chatInputType.autocomplete)||void 0===i?void 0:i.addReactionShortcut)&&void 0!==a&&a&&(dn.Z.can(fe.Plq.ADD_REACTIONS,e)||e.isPrivate())},queryResults:function(e,t,n,r,o){return{results:{emojis:In.ZP.queryEmojiResults({query:n,channel:e,intention:fe.HzX.REACTION}).emojis.unlocked}}},renderResults:function(e){var t=e.results.emojis,n=e.selectedIndex;return Tn({query:e.query,selectedIndex:n,autocompletes:t,onHover:e.onHover,onClick:e.onClick,
titleWithQuery:X.Z.Messages.REACTIONS_MATCHING,titleWithoutQuery:X.Z.Messages.EMOJI,Component:Qe.Emoji,getProps:function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:q.Iv}},getQuery:function(e){return"".concat(q.a4).concat(e)},key:"reactions"})}},"onSelect",(function(e){var t=e.results.emojis,n=e.index,r=e.options,o=t[n];r.sendMessage(function(e){return"".concat(q.a4).concat(e.name).concat(q.jp)}(o));return{type:en.REACTION}}));function zr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Yr,Kr=[$t.CHOICES,$t.GIFS,$t.COMMAND_OPTIONS,$t.EMOJIS_AND_STICKERS,$t.REACTIONS,$t.CHANNELS,$t.MENTIONS,$t.COMMANDS,$t.LEGACY_COMMANDS],qr=(zr(Yr={},$t.CHANNELS,Rn),zr(Yr,$t.COMMANDS,Hn),zr(Yr,$t.COMMAND_OPTIONS,nr),zr(Yr,$t.CHOICES,er),zr(Yr,$t.EMOJIS_AND_STICKERS,sr),zr(Yr,$t.GIFS,Tr),zr(Yr,$t.LEGACY_COMMANDS,Hr),zr(Yr,$t.MENTIONS,Vr),zr(Yr,$t.REACTIONS,Wr),Yr);function Xr(e){
var t,n=e.activeCommandOption,r=e.canMentionUsers,o=void 0===r||r,i=e.canMentionRoles,a=void 0===i||i,l=e.canMentionChannels,u=void 0===l||l,c=e.canMentionEveryone,s=e.canMentionClyde,f=void 0!==s&&s,d=e.useNewSlashCommands,p=e.canOnlyUseTextCommands,h=e.canSendStickers,y=e.hideMentionDescription,b=e.hidePersonalInformation,m=e.type,v=e.emojiIntention,g=e.editorRef,O=e.onSendMessage,E=e.onSendSticker,C=e.setValue,S={mentions:{channel:qt.DENY,global:zt.DENY,role:Kt.DENY,user:Yt.DENY,clyde:Xt.DENY},commands:Qt.DISABLED,allowStickers:!0===h,forNonStringCommandOption:null!=n&&n.type!==j.jw.STRING,hideMentionDescription:!0===y,hidePersonalInformation:!0===b,chatInputType:m,emojiIntention:v,sendMessage:O,sendSticker:E,insertText:function(e,t){var n;null===(n=g.current)||void 0===n||n.insertAutocomplete(e,null!=t?t:e)},replaceText:function(e,t){C(e,null!=t?t:(0,Cn.JM)(e))},getCommandOptionValues:function(){var e;return null===(e=g.current)||void 0===e?void 0:e.getCommandOptionValues()}}
;if(null!=n){var _=(0,En.$z)(n);_.canMentionChannels&&(S.mentions.channel=qt.ALLOW_SELECTABLE);_.canMentionEveryone&&(S.mentions.global=_.canMentionHere?zt.ALLOW_EVERYONE_OR_HERE:zt.ALLOW_EVERYONE);_.canMentionRoles&&(S.mentions.role=_.canMentionNonMentionableRoles?Kt.ALLOW_ALL:Kt.ALLOW_MENTIONABLE);_.canMentionUsers&&(S.mentions.user=_.canMentionAnyGuildUser?Yt.ALLOW_GUILD:Yt.ALLOW_CHANNEL);S.hideMentionDescription=!0}else{u&&(S.mentions.channel=qt.ALLOW_SELECTABLE);a&&(S.mentions.role=Kt.ALLOW_MENTIONABLE);o&&(S.mentions.user=Yt.ALLOW_CHANNEL);c&&(S.mentions.global=zt.ALLOW_EVERYONE_OR_HERE);f&&(S.mentions.clyde=Xt.ALLOW)}(null===(t=m.commands)||void 0===t?void 0:t.enabled)&&(S.commands=d?p?Qt.NEW_TEXT_ONLY:Qt.NEW:Qt.OLD_BUILT_INS);null!=n&&null!=n.channelTypes&&(S.allowedChannelTypes=n.channelTypes);return S}function Qr(e){var t=e.type,n=e.channel,r=e.guild,o=e.query,i=e.isAtStart,a=e.options,l=qr[t];if(null!=l.sentinel){if(!o.startsWith(l.sentinel))return!1
;o=o.substring(l.sentinel.length)}return!(null!=l.matches&&!l.matches(n,r,o,i,a))}function Jr(e){var t=e.channel,n=e.guild,r=e.options,o=e.currentWord,i=e.currentWordIsAtStart,a=e.textValue,l=e.optionText,u=null,c=!0,s=!1,f=void 0;try{for(var d,p=Kr[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=qr[h];if(h===$t.GIFS||h===$t.CHOICES){if(r.commands===Qt.OLD_BUILT_INS){if(Qr({type:h,channel:t,guild:n,query:a,isAtStart:!1,options:r})){u={type:h,typeInfo:y,query:a};break}}else if(Qr({type:h,channel:t,guild:n,query:l,isAtStart:!1,options:r})){u={type:h,typeInfo:y,query:l};break}}else if(h===$t.COMMANDS&&r.commands!==Qt.OLD_BUILT_INS){if(Qr({type:h,channel:t,guild:n,query:a,isAtStart:!0,options:r})){var b,m;u={type:h,typeInfo:y,query:a.substring(null!==(m=null===(b=y.sentinel)||void 0===b?void 0:b.length)&&void 0!==m?m:0)};break}}else if(h===$t.LEGACY_COMMANDS){if(Qr({type:h,channel:t,guild:n,query:a,isAtStart:i,options:r})){u={type:h,typeInfo:y,query:a};break}
}else if(null!=o&&Qr({type:h,channel:t,guild:n,query:o,isAtStart:i,options:r})){var v,g;u={type:h,typeInfo:y,query:o.substring(null!==(g=null===(v=y.sentinel)||void 0===v?void 0:v.length)&&void 0!==g?g:0)};break}}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}if(null==u)return null;u.query=u.query.toLocaleLowerCase();return u}function $r(e,t){if(null==t||null==e)return null;var n;if(null!=e.choices||e.autocomplete)n=$t.CHOICES;else switch(e.type){case j.jw.BOOLEAN:n=$t.CHOICES;break;case j.jw.CHANNEL:n=$t.CHANNELS;break;case j.jw.ROLE:case j.jw.USER:case j.jw.MENTIONABLE:n=$t.MENTIONS;break;default:return null}return{type:n,typeInfo:qr[n],query:t}}function eo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function to(e){to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return to(e)}function no(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){eo(e,t,n[t])}))}return e}function ro(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function oo(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e,t){io=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return io(e,t)}var ao=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=to(e);if(t){var o=to(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}var uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&io(e,t)}(n,e);var t=lo(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this)).props=e;r.state={query:null,
selectedIndex:null,isVisible:!1,didInitialQuery:!1};return r}var r=n.prototype;r.updateProps=function(e){var t=this.props.focused!==e.focused,n=this.props.channel.id!==e.channel.id||this.props.activeCommandOption!==e.activeCommandOption,r=!this.state.didInitialQuery||this.props.currentWord!==e.currentWord||this.props.currentWordIsAtStart!==e.currentWordIsAtStart||this.props.textValue!==e.textValue||this.props.optionText!==e.optionText;this.props=e;if(n||r){this.updateResults(r,n);this.state.didInitialQuery||(this.state=ro(no({},this.state),{didInitialQuery:!0}))}else if(t){var o=this.state.query;this.setState({isVisible:null!=o&&this.shouldShow(o.resultCount,o.isLoading,o.typeInfo)})}};r.setSelectedIndex=function(e){this.setState({selectedIndex:e})};r.onTabOrEnter=function(e){if(!this.state.isVisible)return!1;if(null==this.state.selectedIndex){var t,n=null===(t=this.state.query)||void 0===t?void 0:t.typeInfo.focusMode;if(!e&&(n===tn.MANUAL||n===tn.AUTO_WHEN_FILTERED)){
this.setSelectedIndex(0);return!0}return!1}return this.selectResult(this.state.selectedIndex,e)};r.onMoveSelection=function(e){var t;if(!this.state.isVisible)return!1;e<0?this.props.navigator.focusPreviousItem():e>0&&this.props.navigator.focusNextItem();if(null!=this.state.selectedIndex&&(null===(t=this.state.query)||void 0===t?void 0:t.type)===$t.COMMANDS){var n,r=null===(n=this.state.query.results.commands)||void 0===n?void 0:n[this.state.selectedIndex];null!=r&&et.Sg(this.props.channel.id,r.id)}return!0};r.onMaybeShowAutocomplete=function(){this.emit("update")};r.onHideAutocomplete=function(){null!=this.state.query&&this.setState({isVisible:!1})};r.onResultHover=function(e){this.props.navigator.setFocus(null);this.setSelectedIndex(null)};r.onResultClick=function(e){this.selectResult(e,!0)};r.clearQuery=function(){this.setState({query:null,isVisible:!1,selectedIndex:null})};r.queryResults=function(){this.updateResults()};r.isVisible=function(){return this.state.isVisible}
;r.updateResults=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.props.editorRef.current){var o=Xr(this.props),i=Jr({channel:this.props.channel,guild:this.props.guild,options:o,currentWord:this.props.currentWord,currentWordIsAtStart:this.props.currentWordIsAtStart,textValue:this.props.textValue,optionText:this.props.optionText}),a=o.commands!==Qt.DISABLED?$r(this.props.activeCommandOption,this.props.currentWord):null;if(null==i&&null!=a)i=a;else if(null==i||null!=a&&i.type!==a.type){this.clearQuery();return}var l=i.type,u=i.typeInfo,c=i.query,s=r||n&&((null===(e=this.state.query)||void 0===e?void 0:e.queryText)!==c||(null===(t=this.state.query)||void 0===t?void 0:t.typeInfo)!==u),f=hn.getCurrentConfig({}).hideStickers;o.allowStickers=o.allowStickers?!f:o.allowStickers;var d=u.queryResults(this.props.channel,this.props.guild,c,o,s),p=d.results,h=d.metadata,y=0,b=!0,m=!1,v=void 0;try{
for(var g,O=Object.values(p)[Symbol.iterator]();!(b=(g=O.next()).done);b=!0){var E=g.value;Array.isArray(E)&&(y+=E.length)}}catch(e){m=!0;v=e}finally{try{b||null==O.return||O.return()}finally{if(m)throw v}}var C=!0===p.isLoading,S=this.shouldShow(y,C,u),j=this.state.selectedIndex;!S||C?j=null:null!=j&&j>=y&&(j=y-1);S&&!this.state.isVisible&&gn(l,this.props.channel,h);this.setState({query:{type:l,typeInfo:u,queryText:c,results:p,resultCount:y,options:o,isLoading:C},isVisible:S,selectedIndex:j})}};r.shouldShow=function(e,t,n){return this.props.focused&&null==this.props.expressionPickerView&&(e>0||t||n.showEmpty)};r.selectResult=function(e,t){var n;if(!this.state.isVisible)return!1;var r=this.state.query,o=r.type,i=r.typeInfo,a=r.results,l=r.resultCount,u=r.options;if(e>=l)return!1;var c=null===(n=i.onSelect)||void 0===n?void 0:n.call(i,{results:a,index:e,type:t?Jt.SEND:Jt.INSERT,options:u,channel:this.props.channel});if(null!=c){var s;!function(e,t,n,r){var o,i,a,l,u
;se.default.track(fe.rMx.CHANNEL_AUTOCOMPLETE_SELECTED,vn(mn({},(0,_.v_)(n),(0,_.hH)(n.guild_id)),{autocomplete_type:e,selection_type:t,emoji_id:null==r?void 0:r.emojiId,sticker_id:null==r?void 0:r.stickerId,num_emoji_results:null!==(o=null==r?void 0:r.numEmojiResults)&&void 0!==o?o:0,num_sticker_results:null!==(i=null==r?void 0:r.numStickerResults)&&void 0!==i?i:0,emoji_name:null!==(a=null==r?void 0:r.expressionName)&&void 0!==a?a:"",is_custom:null!==(l=null==r?void 0:r.isCustom)&&void 0!==l&&l,is_animated:null!==(u=null==r?void 0:r.isAnimated)&&void 0!==u&&u}))}(o,null!==(s=c.type)&&void 0!==s?s:null,this.props.channel,c.metadata)}return!0};r.setState=function(e){for(var t in e)if(e[t]!==this.state[t]){this.state=no({},this.state,e);this.emit("change",this.state);return}};return n}(u()),co=n(798159),so=n(247346);function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ho(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fo(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t,n){var r,i,a,l,u,c=e.channel,s=e.type,f=yo(o.useState((function(){return{query:null,selectedIndex:null,isVisible:!1,didInitialQuery:!1}})),2),d=f[0],p=f[1],y=(0,un.Z)(),b=(0,fn.Ib)(e.guild,e.channel),m=(0,h.e7)([jt.ZP,Oe.default],(function(){var e,t,n=Oe.default.getCurrentUser();return null!==(t=null!=c.guild_id&&null!=n?null===(e=jt.ZP.getMember(c.guild_id,n.id))||void 0===e?void 0:e.isPending:null)&&void 0!==t&&t})),v=(0,h.cj)([dn.Z,pn.Z],(function(){return{canMentionEveryone:c.isPrivate()||m||s===sn.I.RULES_INPUT||dn.Z.can(fe.Plq.MENTION_EVERYONE,c),
hidePersonalInformation:pn.Z.hidePersonalInformation}}),[c,s,m]),g=v.canMentionEveryone,E=v.hidePersonalInformation,C=(0,h.cj)([O.Z],(function(){return{activeCommand:O.Z.getActiveCommand(c.id),activeCommandOption:O.Z.getActiveOption(c.id)}})),S=C.activeCommand,j=C.activeCommandOption,_=function(e){var t,n,r,i=e.navId,a=e.scrollerRef,l=e.state,u=e.onFocus,c=o.useContext(nn.ZP).renderWindow,s=function(e,t){var n;null===(n=a.current)||void 0===n||n.scrollToTop();if(e&&null!=l.query){var r=l.query.typeInfo.focusMode,o=!(r===tn.MANUAL||r===tn.AUTO_WHEN_FILTERED&&0===l.query.queryText.length);if(!l.isVisible||!0===t&&!1===o){d.setFocus(null);null==u||u(null)}else{d.setFocus("0");null==u||u(0)}}},f=function(e){var t;null===(t=a.current)||void 0===t||t.scrollToBottom();if(e&&null!=l.query&&l.query.resultCount>0){var n=l.query.resultCount-1;d.setFocus(n.toString());null==u||u(n)}},d=(0,co.ZP)({id:i,isEnabled:l.isVisible,orientation:so.hy.VERTICAL,useVirtualFocus:!0,setFocus:function(e,t){
var n=c.document.querySelector(e);if(null!=n){var r;null===(r=a.current)||void 0===r||r.scrollIntoViewNode({node:n})}null==u||u(+t)},onNavigateNextAtEnd:function(){return s(!0)},onNavigatePreviousAtStart:function(){return f(!0)},scrollToStart:function(){s(!1,!1);return Promise.resolve()},scrollToEnd:function(){f(!1);return Promise.resolve()}});o.useEffect((function(){s(!0,!0)}),[null===(t=l.query)||void 0===t?void 0:t.type,null===(n=l.query)||void 0===n?void 0:n.queryText,null===(r=l.query)||void 0===r?void 0:r.isLoading,l.isVisible]);return d}({navId:"channel-autocomplete",scrollerRef:n,state:d,onFocus:function(e){return P.setSelectedIndex(e)}}),I=null===(r=e.editorRef.current)||void 0===r?void 0:r.getCurrentWord(),w=ho(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){po(e,t,n[t])}))}return e}({},e),{navigator:_,activeCommand:S,activeCommandOption:j,canMentionUsers:s!==sn.I.RULES_INPUT,canMentionEveryone:g,canMentionClyde:b,hidePersonalInformation:E,hideMentionDescription:s===sn.I.RULES_INPUT,emojiIntention:s===sn.I.RULES_INPUT?fe.HzX.COMMUNITY_CONTENT:fe.HzX.CHAT,currentWord:null!==(l=null==I?void 0:I.word)&&void 0!==l?l:"",currentWordIsAtStart:!0===(null==I?void 0:I.isAtStart),optionText:null!=j?(0,cn.KF)(po({},j.name,null!==(u=null===(i=e.editorRef.current)||void 0===i?void 0:i.getCurrentCommandOptionValue())&&void 0!==u?u:[]),j.name):""}),P=yo(o.useState((function(){return new uo(w)})),1)[0];o.useEffect((function(){P.updateProps(w)}));o.useImperativeHandle(t,(function(){return P}),[P]);o.useEffect((function(){var e=function(e){return p(e)};P.on("change",e);P.on("update",y);return function(){P.off("change",e);P.off("update",y)}}),[y,P]);o.useEffect((function(){
var e,t=null===(e=d.query)||void 0===e?void 0:e.typeInfo.stores;if(null!=t){var n=function(){return P.queryResults()},r=!0,o=!1,i=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){a.value.addChangeListener(n)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return function(){var e=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){i.value.removeChangeListener(n)}}catch(e){r=!0;o=e}finally{try{e||null==a.return||a.return()}finally{if(r)throw o}}}}}),[P,null===(a=d.query)||void 0===a?void 0:a.typeInfo]);return[d,P,_]}var mo=n(143636),vo=n.n(mo);function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oo(e,t,n[t])}))}return e}function Co(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function So(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return go(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const _o=o.forwardRef((function(e,t){
var n,i,l=e.channel,u=e.type,c=e.editorHeight,s=e.onVisibilityChange,f=(0,$e.Dt)(),d=(0,h.e7)([ve.Z],(function(){return null!==(i=ve.Z.getGuild(l.guild_id))&&void 0!==i?i:null}),[l.guild_id]),p=o.useRef(),b=jo(bo(Co(Eo({},e),{guild:d}),t,p),3),m=b[0],v=b[1],g=b[2],O=(null===(n=u.autocomplete)||void 0===n?void 0:n.forceChatLayer)?Ht.ZP:Gt.ZP,E=Le(m.selectedIndex);x(f,m.isVisible,E);Wt.trackExposure({});var C,S=Wt.useExperiment({},{autoTrackExposure:!1}).usePopoutAutocomplete,j=an({editorHeight:c,type:u,state:m,isInPopoutExperiment:S}),_=o.useMemo((function(){return null==j?"":String(Date.now())}),[null==j?void 0:j.top,null==j?void 0:j.left,null==j?void 0:j.bottom,null==j?void 0:j.right]);o.useEffect((function(){s(m.isVisible)}),[s,m.isVisible]);if(!m.isVisible||null==m.query||void 0===j)return null;var I,w=null!==(C=m.query.typeInfo.renderResults({results:m.query.results,selectedIndex:m.selectedIndex,channel:l,guild:d,query:m.query.queryText,options:m.query.options,onHover:function(e){
return v.onResultHover(e)},onClick:function(e){return v.onResultClick(e)}}))&&void 0!==C?C:null;if(null==w)return null;var P=(Oo(I={},vo().autocompleteAttached,null==j),Oo(I,vo().autocompletePopout,null!=j),Oo(I,vo().bottom,null==j&&"bottom"===e.position),I),A=490;if(null!=j){var T,N;A=(null===(T=u.autocomplete)||void 0===T?void 0:T.small)?200:(null===(N=m.query)||void 0===N?void 0:N.type)===$t.EMOJIS_AND_STICKERS?490:245}var Z=(0,r.jsx)(Qe,{id:f,className:a()(vo().autocomplete,P),innerClassName:vo().autocompleteInner,onMouseDown:function(e){return e.preventDefault()},children:(0,r.jsx)(M.bG,{navigator:g,children:(0,r.jsx)(M.SJ,{children:function(e){var t=e.ref,n=So(e,["ref"]);return(0,r.jsx)(y.AdvancedScrollerThin,Co(Eo({id:f,ref:function(e){var n;t.current=null!==(n=null==e?void 0:e.getScrollerNode())&&void 0!==n?n:null;p.current=e}},n),{className:vo().scroller,style:{maxHeight:A},role:"listbox","aria-labelledby":Re(f),children:w}))}})})});if(null!=j){var L;return(0,r.jsx)(O,{
children:(0,r.jsx)(y.ReferencePositionLayer,{reference:function(){return j},positionKey:_,position:null!==(L=e.position)&&void 0!==L?L:"top",align:"left",spacing:8,autoInvert:!0,nudgeAlignIntoViewport:!0,children:function(){return Z}})})}return Z}));function Io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e){wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wo(e)}function Po(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xo(e,t){xo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xo(e,t)}var Ao=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function To(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wo(e);if(t){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Po(this,n)}}var No=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xo(e,t)}(n,e);var t=To(n);function n(){Io(this,n);return t.apply(this,arguments)}var r=n.prototype;r.on=function(){0;return this};r.once=function(){0;return this};r.addListener=function(){0;return this};r.removeListener=function(){0;return this};r.emit=function(){0;return!1};return n}(u()),Mo=o.createContext(new No),Zo=Mo.Provider;Mo.Consumer;const Lo=Mo
;var Ro=n(809784),Do=n(944010),ko=n(213276),Uo=n(913549),Bo=n(748308),Fo=n(293862),Go=n(217544),Ho=n(23279),Vo=n.n(Ho),Wo=n(579581),zo=n(394352),Yo=n(593166),Ko=n(159895),qo=n(799066),Xo=n(421281),Qo=Object.freeze({showPremiumUpsell:!1}),Jo=(0,I.Z)((function(e){return Qo})),$o=function(e){Jo.setState({showPremiumUpsell:e})},ei=Jo,ti=n(798826),ni=n(254631),ri=n(879913),oi=n(761731),ii=n(449401),ai=n(71236),li=n(521798),ui=n(940581),ci=n(931353),si=n.n(ci),fi=n(419302),di=n.n(fi);function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){hi(e,t,n[t])}))}return e}function bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pi(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vi=(0,Xo.Mg)(di().stickerCategoryListPadding),gi=(0,Xo.Mg)(di().stickerCategoryIconSize),Oi=(0,Xo.Mg)(di().stickerCategoryIconMargin),Ei=(0,Xo.Mg)(di().stickerCategoryUnicodeIconSize),Ci=(0,Xo.Mg)(di().categorySeparatorSize),Si=(0,Xo.Mg)(di().categorySeparatorMarginVertical),ji=[vi,vi,vi,vi],_i=2*(gi+Oi)+vi,Ii=Ci+2*Si;const wi=function(e){var t=e.stickersListRef,n=e.channel,i=o.useRef(null),l=mi(o.useState(!0),2),u=l[0],c=l[1],s=A.ZN.useStore((function(e){return e.activeCategoryIndex})),f=(0,Go.Sd)(n),d=o.useMemo((function(){var e,t,n=f.filter((function(e){
return e.type===yn.Ih.GUILD})).length,r=n+((null===(e=f[0])||void 0===e?void 0:e.type)===yn.Ih.RECENT?1:0)+((null===(t=f[0])||void 0===t?void 0:t.type)===yn.Ih.FAVORITE?1:0);return{firstStandardStickerCategoryIndex:r+1,firstStandardStickerCategoryOffsetTop:r*(gi+Oi)-Oi+Ii,guildCategoryCount:n,hasFirstPartyStickerPacks:null!=f.find((function(e){return e.type===yn.Ih.PACK}))}}),[f]),p=d.firstStandardStickerCategoryIndex,h=d.firstStandardStickerCategoryOffsetTop,b=d.guildCategoryCount,m=d.hasFirstPartyStickerPacks;o.useLayoutEffect((function(){c(b>=7)}),[b]);var v=function(e){var t=e.activeIndex,n=e.stickerPickerCategories,i=e.categoryListRef,l=e.firstStandardStickerCategoryOffsetTop,u=e.setShouldRenderShortcut,c=(0,Wo.O)(),s=(0,zo.Iu)((function(e){return""!==e.searchQuery})),f=o.useCallback((function(e,i,l){var u,f,d=(null===(u=n[0])||void 0===u?void 0:u.type)===yn.Ih.FAVORITE,p=d?1:0,h=(null===(f=n[p])||void 0===f?void 0:f.type)===yn.Ih.RECENT,b=n.length>0,m=n.length;if(0===i&&d){var v
;return(0,r.jsx)("div",{role:"listitem","aria-setsize":m,"aria-posinset":i,children:(0,r.jsx)(y.Clickable,{"aria-label":X.Z.Messages.CATEGORY_FAVORITE,className:a()(si().stickerCategory,si().stickerCategoryGeneric,(v={},hi(v,si().stickerCategoryGenericDisabled,b&&!d),hi(v,si().stickerCategoryGenericSelected,!s&&d&&0===t),v)),onClick:l,children:(0,r.jsx)(ai.Z,{className:si().stickerCategoryGenericIcon,height:Ei,width:Ei})})},"favorites")}if(i===p&&h){var g;return(0,r.jsx)("div",{role:"listitem","aria-setsize":m,"aria-posinset":i,children:(0,r.jsx)(y.Clickable,{"aria-label":X.Z.Messages.STICKER_PICKER_CATEGORIES_RECENT,className:a()(si().stickerCategory,si().stickerCategoryGeneric,(g={},hi(g,si().stickerCategoryGenericDisabled,b&&!h),hi(g,si().stickerCategoryGenericSelected,!s&&h&&t===p),g)),onClick:l,children:(0,r.jsx)(ii.Z,{className:si().stickerCategoryGenericIcon,height:Ei,width:Ei})})},"recent")}
var O,E=t===i,C=n[i],S=n[i+1],j=null!=S&&C.type===yn.Ih.GUILD&&S.type!==yn.Ih.GUILD,_=C.type===yn.Ih.PACK,I="",w=null;if(C.type===yn.Ih.GUILD||C.type===yn.Ih.EMPTY_GUILD_UPSELL){var P=ve.Z.getGuild(C.id);if(null!=P){O=P.id;I=P.name;w=(0,r.jsx)(oi.Z,{guild:P,isSelected:E})}}else if(_){var x=be.Z.getStickerPack(C.id);if(null!=x){I=x.name;w=(0,r.jsx)(wn.ZP,{disableAnimation:!E||s,size:gi,sticker:(0,me.Zt)(x)})}}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(y.Tooltip,{position:"right",text:I,tooltipContentClassName:si().tooltip,children:function(e){var t;return(0,r.jsx)("div",{role:"listitem","aria-setsize":m,"aria-posinset":i,children:(0,r.jsx)(y.Clickable,bi(yi({},e),{"aria-label":I,className:a()(si().stickerCategory,(t={},hi(t,si().firstPartyCategory,_),hi(t,si().firstPartyCategorySelected,!s&&E&&_),t)),onClick:function(){C.type===yn.Ih.PACK&&se.default.track(fe.rMx.EXPRESSION_PICKER_CATEGORY_SELECTED,{location:null==c?void 0:c.location,tab:ui.X1.STICKER,sticker_pack_id:C.id,
guild_id:O});l()},children:w}))})}}),j?(0,r.jsx)("hr",{className:si().guildCategorySeparator},"separator"):null]},C.id)}),[t,c,s,n]);return{getScrollOffsetForIndex:o.useCallback((function(e,t){return t?_i:0}),[]),renderCategoryListItem:f,rowHeight:o.useCallback((function(e,t){var r=n[t],o=n[t+1],i=null!=o&&r.type===yn.Ih.GUILD&&o.type!==yn.Ih.GUILD;return gi+(i?Ii:Oi)}),[n]),onScroll:o.useCallback((function(e){var t,n=null===(t=i.current)||void 0===t?void 0:t.getListDimensions();if(null!=n){var r=e+n.height;u(r-Ci<l)}}),[l])}}({activeIndex:s,stickerPickerCategories:f,categoryListRef:i,firstStandardStickerCategoryOffsetTop:h,setShouldRenderShortcut:c}),g=v.renderCategoryListItem,O=v.rowHeight,E=v.onScroll,C=o.useCallback((function(e){var t;e(p);null===(t=i.current)||void 0===t||t.scrollTo(h)}),[p,h]);return(0,r.jsx)(nt.Z,{className:si().categoryList,categoryListRef:i,expressionsListRef:t,store:A.ZN,listPadding:ji,onScroll:E,renderCategoryListItem:g,rowCount:f.length,categories:f,
categoryHeight:O,children:function(e){return m&&u&&(0,r.jsx)(y.Clickable,{className:a()(si().standardStickerShortcut,hi({},si().invisibleShortcut,!u)),onClick:function(){return C(e)},children:(0,r.jsx)(li.Z,{height:24,width:24})})}})};var Pi=n(717035),xi=n(70535),Ai=n(709189),Ti=n(95891),Ni=n(803961),Mi=n(716234),Zi=n.n(Mi);function Li(e){var t=e.analyticsSection,n=e.buttonText;return(0,r.jsxs)(Ai.C,{className:Zi().premiumButton,innerClassName:Zi().premiumButtonInner,color:y.Button.Colors.GREEN,size:y.Button.Sizes.SMALL,onClick:function(){return(0,Ni.Z)({section:t})},children:[(0,r.jsx)(Ti.Z,{className:Zi().premiumButtonNitroWheel}),null!=n?n:X.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_CTA]})}var Ri=n(719833),Di=n(872114),ki=n.n(Di);function Ui(e){var t,n,i=e.className;(0,Go.fP)();var l=(0,g.Z)(v.Z.EMPTY_STATE).analyticsLocations,u=(0,h.Wu)([be.Z],(function(){return Ri.Wt.map((function(e){return be.Z.getStickerById(e)}))}));o.useEffect((function(){
se.default.track(fe.rMx.PREMIUM_UPSELL_VIEWED,{type:de.cd.EMPTY_STICKER_PICKER_UPSELL,source:{section:fe.jXE.EMPTY_STICKER_PICKER_UPSELL},location_stack:l})}),[l]);var c,s=(0,Pi.N)(),f=null!=s,d=(null==s||null===(t=s.subscription_trial)||void 0===t?void 0:t.sku_id)===de.Si.TIER_0;return(0,r.jsxs)("div",{className:a()(ki().emptyState,i),children:[f?(0,r.jsx)(xi.ZP,{type:xi.As.STICKERS_IN_HOUSE,subscriptionTier:null!==(c=null==s||null===(n=s.subscription_trial)||void 0===n?void 0:n.sku_id)&&void 0!==c?c:de.Si.TIER_2}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Heading,{className:ki().header,variant:"heading-xl/semibold",children:X.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_TITLE}),(0,r.jsx)(y.Text,{className:ki().subtitle,color:"header-secondary",variant:"text-md/normal",children:X.Z.Messages.STICKER_PICKER_PREMIUM_EMPTY_STATE_SUBTITLE}),(0,r.jsx)("div",{className:ki().stickersRow,children:u.filter((function(e){return null!=e})).map((function(e){return(0,r.jsx)(wn.ZP,{sticker:e,
className:ki().sticker,size:80},null==e?void 0:e.id)}))})]}),(0,r.jsx)(Li,{analyticsSection:fe.jXE.EXPRESSION_PICKER,buttonText:f?d?X.Z.Messages.PREMIUM_TRIAL_TIER_0_CTA_BUTTON_VARIANT:X.Z.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})]})}var Bi=n(596801),Fi=n(703790),Gi=n(700183),Hi=n(104681),Vi=n(930865),Wi=n(72982),zi=n(33864),Yi=n.n(zi);const Ki=function(e){var t=e.className,n=e.guildId,i=e.channel,l=e.shouldTrackUpsellViewed,u=e.setTrackedUpsellViewed,c=(0,Wo.O)().location,s=(0,g.Z)().analyticsLocations,f=(0,h.e7)([ve.Z],(function(){return ve.Z.getGuild(n)})),d=(0,Gi.q5)(f).canManageAllExpressions,p=null!=f&&0===(0,Vi.A3)(f.premiumTier)&&!f.hasFeature(fe.oNc.MORE_STICKERS);o.useEffect((function(){if(d&&p&&l){(0,_.yw)(fe.rMx.PREMIUM_GUILD_UPSELL_VIEWED,{location:c,guild_id:null==f?void 0:f.id,channel_id:null==i?void 0:i.id,type:"Expression Picker Inline Sticker Upsell",location_stack:s});u(!0)}}),[p,f,i,c,l,u,s,d]);if(null==f||!d)return null;if(p){return(0,r.jsxs)("div",{
className:a()(Yi().upsell,t),children:[(0,r.jsx)(Hi.Z,{className:Yi().icon,width:24,height:24}),(0,r.jsx)(y.Text,{color:"interactive-normal",className:Yi().body,variant:"text-sm/normal",children:X.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_PREMIUM_SUBSCRIPTIONS_DESCRIPTION.format({count:(0,Vi.A3)(fe.Eu4.TIER_1)})}),(0,r.jsx)(y.Button,{look:y.Button.Looks.LINK,color:y.Button.Colors.LINK,onClick:function(){(0,Bi.Z)({analyticsLocations:s,analyticsSourceLocation:c,guild:f,perks:(0,Wi.hC)()})},children:X.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_PREMIUM_SUBSCRIPTIONS_CTA})]})}return(0,r.jsxs)("div",{className:a()(Yi().upsell,t),children:[(0,r.jsx)(li.Z,{className:Yi().icon,width:20,height:20}),(0,r.jsx)(y.Text,{color:"interactive-normal",className:Yi().body,variant:"text-sm/normal",children:X.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_STICKERS_DESCRIPTION}),(0,r.jsx)(y.Button,{look:y.Button.Looks.LINK,color:y.Button.Colors.LINK,onClick:function(){(0,zo._Q)()
;Fi.Z.open(n,fe.pNK.STICKERS,c)},children:X.Z.Messages.STICKER_PICKER_EMPTY_GUILD_UPSELL_NO_STICKERS_CTA})]})};var qi=n(442460),Xi=n(933850),Qi=n(483978),Ji=n.n(Qi),$i=n(903609),ea=n.n($i),ta=(0,Xo.Mg)(ea().expressionPickerInspectorBarGraphicPrimaryDimensions),na=(0,Xo.Mg)(ea().expressionPickerInspectorBarGraphicSecondaryDimensions);const ra=o.memo((function(e){var t=e.stickersGrid,n=A.ZN.useStore((function(e){return e.inspectedExpressionPosition})),i=o.useMemo((function(){var e,r=n.rowIndex,o=n.columnIndex,i=null===(e=t[r])||void 0===e?void 0:e[o];return(null==i?void 0:i.type)===yn.al.CREATE_STICKER?{guild_id:i.guild_id,name:i.name}:(null==i?void 0:i.type)!==yn.al.STICKER?null:i.sticker}),[t,n]);if(null==i)return null;var a=function(e){var t=null,n=null;if(!(0,me.jl)(e)&&!(0,me.J8)(e)||(0,me.J8)(e)){var o=ve.Z.getGuild(e.guild_id);if(null!=o){t=X.Z.Messages.STICKER_FROM_SOURCE.format({source:o.name});n=(0,r.jsx)(oi.Z,{guild:o})}}else if((0,me.jl)(e)){
var i=be.Z.getStickerPack(e.pack_id);if(null!=i){t=X.Z.Messages.STICKER_FROM_SOURCE.format({source:i.name});n=(0,r.jsx)(wn.ZP,{size:na,sticker:(0,me.Zt)(i),disableAnimation:!0})}}return{title:t,graphic:n}}(i),l=a.graphic,u=a.title,c=(0,me.jl)(i)||(0,me.J8)(i)?(0,r.jsx)(wn.ZP,{isInteracting:!0,size:ta,sticker:i,disableAnimation:!0}):(0,r.jsx)("div",{className:Ji().iconWrapper,children:(0,r.jsx)(Xi.Z,{className:Ji().icon})});return(0,r.jsx)(qi.Z,{graphicPrimary:c,graphicSecondary:l,titlePrimary:i.name,titleSecondary:(0,me.jl)(i)||(0,me.J8)(i)?u:null})}));var oa=n(965196);function ia(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function aa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ia(i,r,o,a,l,"next",e)}function l(e){ia(i,r,o,a,l,"throw",e)}a(void 0)}))}}function la(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}var ua=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e]
;r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ca(e){var t=e.stickerPack,o=e.sourceSticker,i=e.analyticsLocations,a=e.analyticsLocation;se.default.track(fe.rMx.STICKER_PACK_VIEW_ALL,{sticker_id:null==o?void 0:o.id,sticker_pack_id:t.id,location:a,location_stack:i});se.default.track(fe.rMx.OPEN_MODAL,{type:fe.jXE.STICKER_PACK_VIEW_ALL,location:a});return(0,y.openModalLazy)(aa((function(){var e,o;return ua(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(86413)]).then(n.bind(n,186413))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){la(e,t,n[t])}))}return e}({stickerPack:t},e))}]}}))})))}
var sa=n(987690),fa=n.n(sa);function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ha(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ma(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e){return function(e){if(Array.isArray(e))return da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ma(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){if(e){if("string"==typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?da(e,t):void 0}}var va=(0,
Xo.Mg)(di().stickerPickerBreakpointSmall),ga=(0,Xo.Mg)(di().stickerPickerBreakpointMedium),Oa=(0,Xo.Mg)(di().stickersListPaddingTop),Ea=(0,Xo.Mg)(di().stickersListPaddingTopSearchResults),Ca=(0,Xo.Mg)(di().stickersListPaddingRight),Sa=(0,Xo.Mg)(di().stickersListPaddingBottom),ja=(0,Xo.Mg)(di().stickersListPaddingLeft),_a=(0,Xo.Mg)(di().stickersListDividerHeight),Ia=(0,Xo.Mg)(ea().expressionPickerListSectionHeadingHeight),wa=(0,Xo.Mg)(di().stickerPickerPreviewDimensions),Pa=(0,Xo.Mg)(di().stickerPickerPreviewDimensionsSmall),xa=(0,Xo.Mg)(di().stickerPickerPreviewPadding),Aa=(0,Xo.Mg)(di().stickerPickerPreviewMargin),Ta=wa+2*xa+Aa,Na=Pa+2*xa+Aa,Ma=[Oa,Ca,Sa,ja],Za=[Ea,Ca,Sa,ja],La=(0,Xo.Mg)(di().stickersListEmptyGuildUpsellHeight),Ra=["laugh","wave","yes","dance","sad","no","hi","bye","cry","ok"],Da=function(e){var t=e.onSuggestionClick;return(0,r.jsx)("div",{className:fa().searchSuggestions,children:Ra.map((function(e){return(0,r.jsx)(y.Clickable,{className:fa().searchSuggestion,
onClick:function(){return t(e)},children:(0,r.jsx)(y.Text,{variant:"text-sm/normal",color:"text-normal",children:e})},e)}))})},ka=function(e){var t=e.onSelectSticker,n=e.channel,r=e.currentUser,i=(0,Wo.O)(),a=(0,g.Z)().analyticsLocations,l=(0,zo.Iu)((function(e){return e.searchQuery})),u=o.useCallback((function(e){var t=e.visibleRowIndex,n=e.columnIndex,r=e.gridSectionIndex;A.ZN.setActiveCategoryIndex(r);A.ZN.setInspectedExpressionPosition(n,t,ri.u.MOUSE_EVENT);e.type===yn.al.STICKER&&A.ZN.setSearchPlaceholder(e.sticker.name)}),[]),c=o.useCallback((function(e){if(e.type===yn.al.STICKER){var o=e.packId,u=e.sticker,c=e.type,s=ha(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pa(e,t,n[t])}))}return e}({},i.location),{
object:""===l?fe.qAy.STICKER_PICKER_VIEW_ALL:fe.qAy.STICKER_SEARCH_VIEW_ALL});if(null==u||(0,rr.kl)(u,r,n))c===yn.al.STICKER&&null!=u&&t(e);else{var f=be.Z.getStickerPack(o);if(null!=f){se.default.track(fe.rMx.STICKER_PACK_VIEW_ALL,{sticker_id:u.id,sticker_pack_id:o,location:s,location_stack:a});ca({stickerPack:f,analyticsLocations:a})}var d=(0,me.J8)(u),p=(0,rr.cO)(u,r,n);p===rr.eb.SENDABLE_WITH_PREMIUM&&$o(!0);d&&rr.eb.SENDABLE_WITH_BOOSTED_GUILD}}}),[i.location,l,r,n,a,t]);return{handleStickerInspect:u,handleSelect:c}},Ua=o.forwardRef((function(e,t){var n=e.collapsedStickersCategories,i=e.gridWidth,a=e.filteredStickers,l=e.getStickerItemProps,u=e.getStickerRowProps,c=e.gutterWidth,s=e.isUsingKeyboardNavigation,d=e.onSelectSticker,p=e.rowCount,b=e.rowCountBySection,m=e.stickersCategories,O=e.stickersGrid,E=e.channel,C=o.useRef(!1),j=o.useRef(null),_=ya(A.ZN.useStore((function(e){return[e.activeCategoryIndex,e.inspectedExpressionPosition]}),f.Z),2),I=_[0],w=_[1],P=(0,
g.Z)(v.Z.STICKER_PICKER).AnalyticsLocationProvider,x=(0,zo.Iu)((function(e){return e.searchQuery})),M=(0,h.e7)([be.Z],(function(){return be.Z.getPremiumPacks()})),Z=function(e){var t=e.collapsedStickersCategories,n=e.gridWidth,i=e.onSelectSticker,a=e.getStickerItemProps,l=e.getStickerRowProps,u=e.gutterWidth,c=e.inspectedStickerPosition,s=e.isScrolling,f=e.isUsingKeyboardNavigation,d=e.stickersGrid,p=e.stickersCategories,b=e.filteredStickers,m=e.ownedStickerPacks,v=e.channel,g=(0,Wo.O)(),O=(0,h.e7)([Oe.default],(function(){return Oe.default.getCurrentUser()})),E=ka({onSelectSticker:i,channel:v,currentUser:O}),C=E.handleStickerInspect,S=E.handleSelect,j=ya(o.useState(!1),2),_=j[0],I=j[1],w=o.useCallback((function(e){Nr._O.updateSetting(Array.from(e))}),[]),P=o.useCallback((function(e){var t=d[e];return null!=t?(0,r.jsx)(oa.Z,{getStickerItemProps:a,getStickerRowProps:l,gutterWidth:u,inspectedStickerPosition:c,isScrolling:s,isUsingKeyboardNavigation:f,onInspect:C,onSelect:S,rowIndex:e,
stickerClassName:fa().sticker,stickerDescriptors:t,stickerSize:n>va?wa:Pa,preferAnimation:n<=ga,ownedStickerPacks:m,isDisplayingIndividualStickers:!0,channel:v,currentUser:O},e):null}),[d,a,l,u,c,s,f,C,S,n,m,v,O]),x=o.useCallback((function(e,t){return(0,r.jsx)("div",{children:t},e)}),[]),A=o.useCallback((function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isStickerPack,r=void 0===n||n,o=new Set(t),i=t.has(e);i?o.delete(e):o.add(e);se.default.track(fe.rMx.EXPRESSION_PICKER_CATEGORY_COLLAPSE_TOGGLED,{location:null==g?void 0:g.location,tab:ui.X1.STICKER,collapsed:!i,sticker_pack_id:r?e:null});w(o)}),[g,t,w]);return{renderRow:P,renderSection:x,renderSectionHeader:o.useCallback((function(e){var n=p[e];if(null!=b){var o=b.sendable,i=b.sendableWithPremium;if(0===e&&o.length>0)return null;var a=o.length>0&&i.length>0;return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)("div",{className:fa().divider,children:(0,r.jsx)(y.FormDivider,{})}):null,(0,r.jsx)(N.Z,{
className:fa().packHeader,"aria-label":X.Z.Messages.STICKERS_YOU_MIGHT_LIKE_A11Y,children:X.Z.Messages.STICKERS_YOU_MIGHT_LIKE},"stickers-you-might-like-header")]})}switch(n.type){case yn.Ih.FAVORITE:return(0,r.jsx)(N.Z,{className:fa().packHeader,"aria-label":X.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:n.name}),icon:(0,r.jsx)(ai.Z,{height:16,width:16}),isCollapsed:t.has(n.id),onClick:function(){return A(n.id,{isStickerPack:!1})},children:n.name},"header-".concat(n.id));case yn.Ih.RECENT:return(0,r.jsx)(N.Z,{className:fa().packHeader,"aria-label":X.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:n.name}),icon:(0,r.jsx)(ii.Z,{}),isCollapsed:t.has(n.id),onClick:function(){return A(n.id,{isStickerPack:!1})},children:n.name},"header-".concat(n.id));case yn.Ih.GUILD:case yn.Ih.EMPTY_GUILD_UPSELL:var l=ve.Z.getGuild(n.id);return null==l?null:(0,r.jsx)(N.Z,{className:fa().packHeader,"aria-label":X.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:l.name
}),icon:(0,r.jsx)(oi.Z,{guild:l,height:16,width:16}),isCollapsed:t.has(l.id),onClick:function(){return A(l.id)},children:l.name},"h".concat(l.id));case yn.Ih.PACK:var u=be.Z.getStickerPack(n.id);return null==u?null:(0,r.jsx)(N.Z,{className:fa().packHeader,"aria-label":X.Z.Messages.STICKER_CATEGORY_A11Y_LABEL.format({categoryName:u.name}),icon:(0,r.jsx)(wn.ZP,{disableAnimation:!0,size:12,sticker:(0,me.Zt)(u)}),isCollapsed:t.has(u.id),onClick:function(){return A(u.id)},children:u.name},"h".concat(u.id))}}),[t,p,A,b]),sectionHeaderHeight:o.useCallback((function(e){if(null!=b){var t=b.sendable,n=b.sendableWithPremium;if(0===e&&t.length>0)return 0;var r=t.length>0&&n.length>0?_a:0;return Ia+r}return Ia}),[b]),renderSectionFooter:o.useCallback((function(e){var n=p[e],o=t.has(n.id);return n.type!==yn.Ih.EMPTY_GUILD_UPSELL||null!=b||o?null:(0,r.jsx)(Ki,{className:fa().emptyGuildUpsell,guildId:n.id,channel:v,shouldTrackUpsellViewed:!_,setTrackedUpsellViewed:I
},"sticker-picker-empty-guild-inline-upsell-".concat(n.id))}),[p,t,b,v,_]),sectionFooterHeight:o.useCallback((function(e){var n=p[e],r=t.has(n.id);return n.type!==yn.Ih.EMPTY_GUILD_UPSELL||r?0:La}),[p,t])}}({collapsedStickersCategories:n,gridWidth:i,stickersCategories:m,stickersGrid:O,isScrolling:C,isUsingKeyboardNavigation:s,onSelectSticker:d,getStickerItemProps:l,getStickerRowProps:u,gutterWidth:c,inspectedStickerPosition:w,filteredStickers:a,ownedStickerPacks:o.useMemo((function(){return new Set(M.map((function(e){return e.id})))}),[M]),channel:E}),L=Z.renderRow,R=Z.renderSection,D=Z.renderSectionFooter,k=Z.sectionFooterHeight,U=Z.renderSectionHeader,B=Z.sectionHeaderHeight,F=(0,T.Qs)({activeCategoryIndex:I,isScrolling:C,listRef:j,onActiveCategoryIndexChange:A.ZN.setActiveCategoryIndex,scrollOffset:20,searchQuery:x});(0,T.Xs)({searchQuery:x,activeCategoryIndex:I,listRef:j});o.useImperativeHandle(t,(function(){var e,t,n;return{scrollTo:function(){
for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=j.current)||void 0===o?void 0:(r=o).scrollTo.apply(r,ba(t))},getRowDescriptors:function(){var t;return null!==(e=null===(t=j.current)||void 0===t?void 0:t.getRowDescriptors())&&void 0!==e?e:[]},getSectionDescriptors:function(){var e;return null!==(t=null===(e=j.current)||void 0===e?void 0:e.getSectionDescriptors())&&void 0!==t?t:[]},scrollToSectionTop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=j.current)||void 0===o?void 0:(r=o).scrollToSectionTop.apply(r,ba(t))},scrollRowIntoView:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=j.current)||void 0===o?void 0:(r=o).scrollRowIntoView.apply(r,ba(t))},getScrollerNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o
;return null===(o=j.current)||void 0===o?void 0:(r=o).getScrollerNode.apply(r,ba(t))},scrollIntoViewNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=j.current)||void 0===o?void 0:(r=o).scrollIntoViewNode.apply(r,ba(t))},getListDimensions:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i;return null!==(n=null===(i=j.current)||void 0===i?void 0:(o=i).getListDimensions.apply(o,ba(t)))&&void 0!==n?n:{height:-1,totalHeight:-1}}}}),[]);return(0,r.jsx)(P,{children:(0,r.jsxs)("div",{className:fa().wrapper,children:[null!=a&&0===a.sendable.length&&0===a.sendableWithPremium.length?(0,r.jsx)(S.Z,{message:X.Z.Messages.NO_STICKER_SEARCH_RESULTS_WITH_SUGGESTIONS,className:fa().noSearchResultsContainer,noResultsImageURL:ht(),suggestions:(0,r.jsx)(Da,{onSuggestionClick:function(e){return(0,zo.ql)(e,!0)}})}):(0,r.jsx)(Je.Z,{role:"none presentation",listPadding:null!=a?Za:Ma,onScroll:F,renderRow:L,
renderSection:null==a?R:void 0,renderSectionHeader:U,renderSectionFooter:D,rowCount:p,rowCountBySection:b,rowHeight:i>va?Ta:Na,sectionHeaderHeight:B,sectionFooterHeight:k,stickyHeaders:!0,ref:j}),(0,r.jsx)(ra,{stickersGrid:O})]})})}));const Ba=Ua;var Fa=n(707558),Ga=n(650332),Ha=n(606714),Va=n.n(Ha);const Wa=o.forwardRef((function(e,t){var n=e.onKeyDown,i=e.stickersListRef,a=e.channel,l=(0,Go.fQ)(a),u=o.useRef(null),c=(0,zo.Iu)((function(e){return{searchQuery:e.searchQuery,isSearchSuggestion:e.isSearchSuggestion}}),f.Z),s=c.searchQuery,d=c.isSearchSuggestion,p=A.ZN.useStore((function(e){return e.searchPlaceholder})),h=A.ZN.useStore((function(e){return e.inspectedExpressionPosition}),f.Z),y=o.useCallback((function(e){var t;A.ZN.setActiveCategoryIndex(""===e?0:Ri.c);A.ZN.setInspectedExpressionPosition(0,0);A.ZN.setSearchPlaceholder(null);(0,zo.ql)(e);null===(t=i.current)||void 0===t||t.scrollTo(0)}),[i]),b=o.useCallback((function(){(0,zo.ql)("")}),[]);o.useImperativeHandle(t,(function(){
return{focus:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.focus()}}}));o.useLayoutEffect((function(){if(d){var e;null===(e=u.current)||void 0===e||e.focus()}}),[d]);return(0,r.jsx)("div",{className:Va().wrapper,children:(0,r.jsx)(Ga.ZP,{autoFocus:l,disabled:!l,query:s,ref:u,size:Ga.ZP.Sizes.MEDIUM,placeholder:null!=p?p:l?X.Z.Messages.SEARCH_FOR_STICKERS:X.Z.Messages.NO_STICKERS_TO_SEARCH_THROUGH,onClear:b,onKeyDown:n,onQueryChange:y,className:Va().searchBar,preventEscapePropagation:!1,useKeyboardNavigation:!1,inputProps:{"aria-haspopup":"grid","aria-controls":Ri.Vr,"aria-expanded":!0,"aria-activedescendant":(0,Fa.NE)(Ri.Vr,h.columnIndex,h.rowIndex)}})})}));var za=n(189865),Ya=n(850841),Ka=n(96194),qa=n.n(Ka),Xa=n(5064),Qa=n.n(Xa);function Ja(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var $a=function(){return $o(!1)},el=function(e){var t,n,i=e.onLearnMore,l=(0,
g.Z)(v.Z.PREMIUM_UPSELL).analyticsLocations;o.useEffect((function(){se.default.track(fe.rMx.PREMIUM_UPSELL_VIEWED,{location_section:fe.jXE.STICKER_PICKER_UPSELL,type:de.cd.STICKER_PICKER_UPSELL,location_stack:l})}),[l]);var u,c=(0,Pi.N)(),s=(null==c||null===(t=c.subscription_trial)||void 0===t?void 0:t.sku_id)===de.Si.TIER_0,f=null!=c;return(0,r.jsxs)("div",{className:qa().upsellWrapper,children:[(0,r.jsx)("div",{className:qa().upsellBackground}),(0,r.jsxs)("div",{className:qa().upsellContent,children:[(0,r.jsx)("img",{className:a()(qa().upsellImage,Ja({},qa().upsellImageSmaller,f)),src:Qa(),alt:X.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_ALT}),(0,r.jsx)("div",{className:qa().upsellBody,children:f?(0,r.jsx)(xi.ZP,{type:xi.As.STICKERS_CUSTOM,subscriptionTier:null!==(u=null==c||null===(n=c.subscription_trial)||void 0===n?void 0:n.sku_id)&&void 0!==u?u:de.Si.TIER_2,children:s?X.Z.Messages.STICKER_PICKER_PREMIUM_TIER_UPSELL_DESCRIPTION.format({planName:(0,Ya.aq)(de.Xh.PREMIUM_MONTH_TIER_0),
onClick:i}):X.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_DESCRIPTION.format({onClick:i})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Text,{className:qa().upsellTitle,color:"header-primary",variant:"text-lg/semibold",children:X.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_TITLE}),(0,r.jsx)(y.Text,{className:qa().upsellDescription,variant:"text-md/normal",children:X.Z.Messages.STICKER_PICKER_PREMIUM_UPSELL_DESCRIPTION.format({onClick:i})})]})}),(0,r.jsx)(Li,{analyticsSection:fe.jXE.EXPRESSION_PICKER,buttonText:f?s?X.Z.Messages.PREMIUM_TRIAL_TIER_0_CTA_BUTTON_VARIANT:X.Z.Messages.PREMIUM_TRIAL_CTA_BUTTON_VARIANT:void 0})]}),(0,r.jsx)(y.Clickable,{className:qa().upsellClose,onClick:$a,children:(0,r.jsx)(za.Z,{})})]})},tl=function(e,t,n){if(""===e)return null;var r=[],o=[];(function(e){return In.ZP.queryStickers([e],!0).map((function(e){return e.sticker}))})(e).forEach((function(e){var i=(0,rr.cO)(e,t,n);i===rr.eb.SENDABLE?r.push(e):i===rr.eb.SENDABLE_WITH_PREMIUM&&o.push(e)}));return{
sendable:r,sendableWithPremium:o}},nl=n(526306),rl=n.n(nl);function ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function il(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function al(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){il(i,r,o,a,l,"next",e)}function l(e){il(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ll(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ll(e,t,n[t])}))}return e}function cl(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}function fl(e){return function(e){if(Array.isArray(e))return ol(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ol(e,t):void 0}}var pl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.")
;for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},hl=(0,Xo.Mg)(di().stickerPickerBreakpointSmall),yl=(0,Xo.Mg)(di().stickersListPaddingLeft),bl=(0,Xo.Mg)(di().stickersListPaddingRight),ml=(0,Xo.Mg)(di().stickerPickerPreviewMargin),vl=(0,Xo.Mg)(di().stickerPickerPreviewMarginSmall),gl=(0,
Xo.Mg)(di().stickerPickerPreviewDimensions),Ol=(0,Xo.Mg)(di().stickerPickerPreviewDimensionsSmall),El=(0,Xo.Mg)(di().stickerPickerPreviewPadding),Cl=gl+2*El,Sl=Ol+2*El,jl=Vo()(ti.Iw,200),_l=Vo()(ti.m1,200),Il=o.forwardRef((function(e,t){var i=e.containerWidth,a=e.channel,l=e.onSelectSticker,u=e.closePopout,c=(0,Wo.O)().location,s=(0,g.Z)(v.Z.STICKER_PICKER).AnalyticsLocationProvider;(0,Ko.Z$)(qo.Z);var d=o.useRef(null),p=o.useRef(null),b=o.useRef(null),m=ei((function(e){return e.showPremiumUpsell})),O=sl((0,zo.Iu)((function(e){return[e.searchQuery,e.isSearchSuggestion]}),f.Z),2),E=O[0],C=O[1],S=o.useRef("");o.useImperativeHandle(t,(function(){return{onPickerOpen:re}}));var j=(0,Go.Sd)(a),_=0===j.filter((function(e){return e.type!==yn.Ih.EMPTY_GUILD_UPSELL})).length,I=(0,T.ep)({gridWrapperRef:d,containerWidth:i,showingEmptyState:_,listPaddingLeft:yl,listScrollbarWidth:8}),w=Nr._O.useSetting(),P=o.useMemo((function(){return new Set(w)}),[w]),x=(0,h.e7)([Oe.default],(function(){
return Oe.default.getCurrentUser()})),N=o.useMemo((function(){return tl(E,x,a)}),[E,x,a]),M=(0,Go.RJ)(),Z=(0,Go.LZ)(),L=(0,h.cj)([be.Z],(function(){return be.Z.getAllGuildStickers()})),R=null!=N?N:{},D=R.sendable,k=void 0===D?[]:D,U=R.sendableWithPremium,B=void 0===U?[]:U,F=k.length+B.length,G=o.useCallback((function(e){""===E?(0,ti.On)(e):(0,ti.Yk)(e,E,F);l(e.sticker,yn.V0.STICKER_PICKER)}),[l,E,F]),H=null!=I&&I>hl,V=(0,Go.el)({filteredStickers:N,stickersCategories:j,collapsedStickersCategories:P,listWidth:I,listPaddingRight:bl,stickerNodeMargin:H?ml:vl,stickerNodeWidth:H?Cl:Sl}),W=V.rowCount,z=V.rowCountBySection,Y=V.stickersGrid,K=V.gutterWidth,q=V.columnCounts,X=o.useCallback((function(e,t){t.location;switch(e.type){case yn.al.CREATE_STICKER:se.default.track(fe.rMx.OPEN_MODAL,{type:fe.jXE.CREATE_STICKER_MODAL,location:c});(0,y.openModalLazy)(al((function(){var t,o;return pl(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(56729)]).then(n.bind(n,856729))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,ul({guildId:e.guild_id},t))}]}}))})));break;case yn.al.STICKER:null!=e.sticker&&(0,rr.kl)(e.sticker,x,a)&&G(e)}}),[c,x,a,G]),Q=function(e){var t=e.columnCounts,n=e.stickersGrid,r=e.stickersListRef,i=e.store,a=e.gridNavigatorId,l=e.setInspectedStickerPosition,u=e.onGridItemSelect,c=(0,Wo.O)(),s=o.useCallback((function(e){u(e,c)}),[u,c]),f=o.useCallback((function(e,t){l(e,t,ri.u.GRID_NAVIGATOR_EVENT)}),[l]),d=(0,T.VO)({columnCounts:t,gridNavigatorId:a,itemGrid:n,itemList:r,onGridNavigatorItemSelect:s,onGridNavigatorPositionChange:f}),p=d.gridDispatch,h=d.getItemProps,y=d.getRowProps,b=d.gridContainerProps,m=d.handleGridContainerKeyDown,v=d.isUsingKeyboardNavigation;o.useEffect((function(){return i.useStore.subscribe((function(e){if(null!=e){var t=e.columnIndex,n=e.rowIndex;e.source!==ri.u.GRID_NAVIGATOR_EVENT&&p({type:ni.s.SET_FOCUSED_POSITION,x:t,y:n
})}}),(function(e){return e.inspectedExpressionPosition}))}),[p,i]);return{getItemProps:h,getRowProps:y,gridContainerProps:b,handleGridContainerKeyDown:m,isUsingKeyboardNavigation:v}}({columnCounts:q,stickersListRef:p,stickersGrid:Y,onGridItemSelect:X,store:A.ZN,setInspectedStickerPosition:A.ZN.setInspectedExpressionPosition,gridNavigatorId:Ri.Vr}),J=Q.getItemProps,$=Q.getRowProps,ee=Q.gridContainerProps,te=Q.handleGridContainerKeyDown,ne=Q.isUsingKeyboardNavigation;o.useEffect((function(){return A.ZN.resetStoreState}),[]);var re=function(){var e=a.getGuildId(),t=[];if(null!==e){var n;t=null!==(n=be.Z.getStickersByGuildId(e))&&void 0!==n?n:[]}var r=0;null!=L&&fl(L.values()).forEach((function(e){r+=e.length}));(0,ti.ev)({containerWidth:i,favoriteStickers:M,frequentlyUsedStickers:Z,guildStickers:t,stickersTotal:r})};o.useEffect((function(){""===S.current&&""!==E&&(0,ti.n8)();S.current=E}),[E]);o.useEffect((function(){0===F?jl(E):_l(E,F,C)}),[E,F,C]);o.useLayoutEffect((function(){var e
;null===(e=b.current)||void 0===e||e.focus()}),[]);var oe=o.useCallback((function(){u();se.default.track(fe.rMx.PREMIUM_PROMOTION_OPENED,{location_section:fe.jXE.STICKER_PICKER_UPSELL});(0,Yo.z)()}),[u]);return(0,r.jsxs)(s,{children:[(0,r.jsx)("div",{className:rl().header,children:(0,r.jsx)(Wa,{ref:b,onKeyDown:te,stickersListRef:p,channel:a})}),_?(0,r.jsx)(Ui,{className:rl().emptyState}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",cl(ul({ref:d,className:rl().listWrapper,id:Ri.Vr},ee),{children:null!=I?(0,r.jsx)(Ba,{ref:p,collapsedStickersCategories:P,filteredStickers:N,getStickerItemProps:J,getStickerRowProps:$,gridWidth:I,gutterWidth:K,isUsingKeyboardNavigation:ne,onSelectSticker:G,rowCount:W,rowCountBySection:z,stickersCategories:j,stickersGrid:Y,channel:a}):null})),(0,r.jsx)(wi,{stickersListRef:p,channel:a})]}),m&&(0,r.jsx)(el,{onLearnMore:oe})]})})),wl=function(e,t){(0,Go.fP)();return(0,r.jsx)("div",{className:rl().wrapper,id:Ri.nZ,"aria-labelledby":Ri.ED,role:"tabpanel",
children:e.isLoading?(0,r.jsx)(y.Spinner,{className:rl().loadingIndicator}):(0,r.jsx)(Il,cl(ul({},e),{ref:t}))})};const Pl=o.forwardRef(wl);var xl=n(379991),Al=n(930948),Tl=n(763993),Nl=n(936957),Ml=n(448184),Zl=n.n(Ml);function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Dl(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function kl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ll(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Bl=ui.Om+Nl.Su.MEDIUM,Fl=o.memo((function(e){var t=e.isActive,n=e.className,o=e.viewType,i=e.autoFocus,l=void 0!==i&&i,u=e["aria-controls"],c=kl(e,["isActive","className","viewType","autoFocus","aria-controls"]);return(0,r.jsx)(y.Button,Dl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Rl(e,t,n[t])}))}return e}({role:"tab",autoFocus:l,"aria-controls":t?u:void 0},c),{onClick:function(){_.ZP.trackWithMetadata(fe.rMx.EXPRESSION_PICKER_TAB_CLICKED,{tab:o,badged:!1});(0,zo.hr)(o)},"aria-current":t?"page":void 0,
className:a()(n,Zl().navButton,Zl().navItem,Rl({},Zl().navButtonActive,t)),look:y.Button.Looks.BLANK,size:y.Button.Sizes.NONE}))}));function Gl(e){var t,n,i,l=e.positionTargetRef,u=e.onSelectGIF,c=e.onSelectEmoji,s=e.onSelectSticker,f=e.channel,p=e.type,b=o.useRef(null),m=o.useRef(!1),v=o.useRef(),g=o.useRef(null),O=function(e){var t=e.positionContainerRef,n=e.drawerRef,r=(0,h.e7)([xl.ZP],(function(){return xl.ZP.expressionPickerWidth})),i=Ul(o.useState(window.innerWidth),2),a=i[0],l=i[1],u=Ul(o.useState(null!=r?r:ui._j.MIN),2),c=u[0],s=u[1],f=o.useMemo((function(){switch(c){case ui._j.MIN:return ui.Om;case ui._j.MAX:return null;default:return c}}),[c]),d=o.useCallback((function(e){var t=e>=a?ui._j.MAX:e<=ui.Om?ui._j.MIN:e;null==t&&null!=n.current&&(n.current.style.width="");Do.ZP.updatedUnsyncedSettings({expressionPickerWidth:t});s(t)}),[n,a]),p=(0,Uo.Z)({initialElementDimension:f,maxDimension:a,minDimension:ui.Om,resizableDomNodeRef:n,onElementResize:d,
orientation:Uo.y.HORIZONTAL_LEFT});o.useEffect((function(){var e=C().debounce((function(){null!=t.current&&l(t.current.offsetWidth)}),500);window.addEventListener("resize",e);return function(){window.removeEventListener("resize",e)}}),[t]);o.useLayoutEffect((function(){null!=t.current&&l(t.current.offsetWidth)}),[t]);return{drawerWidth:f,handleDrawerResizeHandleMouseDown:o.useCallback((function(e){e.stopPropagation();null!=t.current&&l(t.current.offsetWidth);p(e)}),[t,p])}}({positionContainerRef:b,drawerRef:g}),E=O.drawerWidth,S=O.handleDrawerResizeHandleMouseDown,j=(0,zo.Iu)((function(e){return e.activeView})),I=(0,Go.fQ)(f),w=o.useContext(nn.ZP),P=w.renderWindow,x=w.windowDispatch,A=(0,h.e7)([be.Z],(function(){return!be.Z.hasLoadedStickerPacks})),T=o.useCallback((function(e){var t;if(!(0,y.hasAnyModalOpen)()){var n=e.target;if(!(0,Ro.k)(n)||null==n.closest("."+ui.CT)){for(;(0,Ro.k)(n);){if(n===g.current)return;if("true"===n.getAttribute("data-menu-item"))return
;if("true"===n.getAttribute("data-premium-tutorial-expression-picker-tooltip"))return;if("true"===n.getAttribute("data-premium-tutorial-persistent-coachmark-emoji-step"))return;n=n.parentNode}(0,zo._Q)();var r=null===(t=(0,Tl.uB)(e))||void 0===t?void 0:t.activeElement;null!=r&&"BODY"!==r.tagName||Al.S.dispatchToLastSubscribed(fe.CkL.TEXTAREA_FOCUS)}}}),[]),N=o.useCallback((function(){(0,zo._Q)()}),[]);o.useLayoutEffect((function(){var e=function(){j===ui.X1.GIF&&(0,zo._Q)()};P.addEventListener("mousedown",T);P.addEventListener("contextmenu",T);x.subscribe(fe.CkL.POPOUT_CLOSE,N);Al.S.subscribe(fe.CkL.CLOSE_GIF_PICKER,e);return function(){P.removeEventListener("mousedown",T);P.removeEventListener("contextmenu",T);x.unsubscribe(fe.CkL.POPOUT_CLOSE,N);Al.S.unsubscribe(fe.CkL.CLOSE_GIF_PICKER,e)}}),[j,N,T,P,x]);(0,y.useFocusLock)(b);o.useEffect((function(){(0,zo.ql)("")}),[]);o.useEffect((function(){if(null!=g.current&&!m.current)if(j===ui.X1.EMOJI){var e
;if(null!=(null==v||null===(e=v.current)||void 0===e?void 0:e.onPickerOpen)){var t;null==v||null===(t=v.current)||void 0===t||t.onPickerOpen();m.current=!0}}else if(j===ui.X1.STICKER){var n;if(null!=(null==v||null===(n=v.current)||void 0===n?void 0:n.onPickerOpen)&&!A){var r;null==v||null===(r=v.current)||void 0===r||r.onPickerOpen();m.current=!0}}else{_.ZP.trackWithMetadata(fe.rMx.EXPRESSION_PICKER_OPENED,{width:g.current.offsetWidth,tab:j,badged:!1});m.current=!0}}));var M=(null===(t=p.gifs)||void 0===t?void 0:t.allowSending)&&!d.tq,Z=null===(n=p.stickers)||void 0===n?void 0:n.allowSending,L=!(null===(i=p.expressionPicker)||void 0===i?void 0:i.onlyEmojis)&&(M||Z);return(0,r.jsx)(ko.Z,{section:fe.jXE.EXPRESSION_PICKER,children:(0,r.jsx)(Gt.W5,{className:Zl().positionLayer,reference:l,position:"top",align:"right",spacing:8,autoInvert:!0,children:function(e){var t=e.isPositioned;return(0,r.jsx)("section",{className:a()(Zl().positionContainer,Rl({},Zl().positionContainerOnlyEmoji,!L)),
ref:b,role:"dialog","aria-label":X.Z.Messages.EXPRESSION_PICKER,children:t?(0,r.jsxs)("div",{className:Zl().drawerSizingWrapper,style:{width:null==E?void 0:E},ref:g,children:[(0,r.jsx)("div",{className:Zl().resizeHandle,onMouseDown:S}),(0,r.jsxs)("div",{className:Zl().contentWrapper,children:[L?(0,r.jsx)("nav",{className:Zl().nav,children:(0,r.jsxs)("div",{className:Zl().navList,role:"tablist","aria-label":X.Z.Messages.EXPRESSION_PICKER_CATEGORIES_A11Y_LABEL,children:[M&&(0,r.jsx)(Fl,{id:Nl._3,"aria-controls":Nl.vO,"aria-selected":j===ui.X1.GIF,isActive:j===ui.X1.GIF,viewType:ui.X1.GIF,children:X.Z.Messages.EXPRESSION_PICKER_GIF}),Z?(0,r.jsx)(Fl,{id:Ri.ED,"aria-controls":Ri.nZ,"aria-selected":j===ui.X1.STICKER,isActive:j===ui.X1.STICKER,autoFocus:!I,viewType:ui.X1.STICKER,children:(0,r.jsx)("div",{className:Zl().stickersNavItem,children:X.Z.Messages.EXPRESSION_PICKER_STICKER})}):null,(0,r.jsx)(Fl,{id:Nl.td,"aria-controls":Nl.cZ,"aria-selected":j===ui.X1.EMOJI,isActive:j===ui.X1.EMOJI,
viewType:ui.X1.EMOJI,children:X.Z.Messages.EXPRESSION_PICKER_EMOJI})]})}):null,j===ui.X1.STICKER&&L?(0,r.jsx)(Pl,{isLoading:A,channel:f,containerWidth:E,onSelectSticker:s,closePopout:N,ref:function(e){v.current=e}}):null,j===ui.X1.GIF&&L?(0,r.jsx)(Fo.Z,{onSelectGIF:u,persistSearch:!0}):null,j===ui.X1.EMOJI?(0,r.jsx)(Bo.Z,{hasTabWrapper:!0,persistSearch:!0,channel:f,containerWidth:E,emojiSize:null!=E&&E<Bl?Nl.Su.MEDIUM:Nl.Su.LARGE,pickerIntention:fe.HzX.CHAT,closePopout:N,onSelectEmoji:c,ref:function(e){v.current=e},disableEmojiTutorialFlow:p===sn.I.PROFILE_BIO_INPUT}):null]})]}):null})}})})}const Hl=o.memo(Gl);var Vl=n(712861),Wl=n(461908),zl=n(295652),Yl=n(179936),Kl=n(770960);function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ql(e){return function(e){if(Array.isArray(e))return ql(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ql(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},$l=(0,zl.ad)(or.$p,Kl.J7),eu=function(e){var t,n,r=e.setTextInputValue,i=e.setHasDismissed,a=e.setHasSelection,l=e.setFocusedSuggestionType,u=e.delayBeforeSuggestions,c=o.useRef(null),s=o.useRef(!1),f=o.useRef(!1),d=o.useMemo((function(){return Vo()(r,null!=u?u:Kl.gf)}),[r,u]),p=(n=(t=function(e){var t;return Jl(this,(function(n){switch(n.label){
case 0:if(null!=e&&""!==e)return[3,1];d.cancel();null==r||r("");null==i||i(!1);null==a||a(!1);null==l||l(null);c.current=null;s.current=!1;return[3,4];case 1:if(s.current||e.trim()===(null===(t=c.current)||void 0===t?void 0:t.trim()))return[3,4];c.current=e;if((0,Yl.wN)(e).length>Kl.t7){s.current=!0;d.cancel();r("");return[2]}if(!0===f.current)return[2];if(be.Z.hasLoadedStickerPacks)return[3,3];f.current=!0;return[4,$l()];case 2:n.sent();f.current=!1;n.label=3;case 3:d(c.current);n.label=4;case 4:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Xl(i,r,o,a,l,"next",e)}function l(e){Xl(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(e){return n.apply(this,arguments)});return{handleTextChange:p,debouncedSetTextInputValue:d}},tu=n(302901),nu=n.n(tu);function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ou(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ou(e,t,n[t])}))}return e}function au(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function lu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ru(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cu,su=(0,Vl.Mg)(nu().containerPadding),fu=(0,Vl.Mg)(nu().stickerSuggestionSize),du=(0,Vl.Mg)(nu().stickerSuggestionMargin),pu=2*fu+du+2*su,hu=function(){return Promise.resolve()};!function(e){e[e.STICKER=0]="STICKER"}(cu||(cu={}));function yu(e){var t=e.isFocused,n=e.isHidden,o=e.sendability,i=e.listIndex,l=e.sticker,u=e.onMouseOver,c=e.onSelectSticker,s=(0,M.JA)("".concat(i)),f=s.tabIndex,d=lu(s,["tabIndex"]);return(0,r.jsxs)(y.Clickable,au(iu({},d),{tabIndex:n?-1:f,className:a()(nu().suggestedExpression,ou({},nu().suggestedExpressionFocused,t)),focusProps:{enabled:!1},onClick:function(){return c(l,o)},onMouseOver:u,children:[(0,r.jsx)(ce.ZP,{mask:ce.ZP.Masks.STICKER_ROUNDED_RECT,width:fu+4,height:fu+4,className:nu().mask,children:(0,r.jsx)("div",{className:nu().maskBackground})}),(0,r.jsx)(wn.ZP,{maskAsset:!0,size:fu,
sticker:l,className:nu().sticker}),o!==rr.eb.SENDABLE&&(0,r.jsx)(Wl.Z,{size:14})]}))}const bu=o.memo((function(e){var t,n=e.editorRef,i=e.channel,l=e.isEditorFocused,u=e.onSelectSticker,c=e.stickerIconVisible,s=void 0!==c&&c,f=e.submitButtonVisible,d=void 0!==f&&f,p=o.useContext(Lo),b=uu(o.useState(null),2),m=b[0],O=b[1],E=uu(o.useState(!1),2),C=E[0],S=E[1],j=uu(o.useState(null),2),_=j[0],I=j[1],w=(0,zo.Iu)((function(e){return null!=e.activeView})),P=o.useRef(null),x=uu(o.useState(""),2),A=x[0],T=x[1],N=uu(o.useState(""),2),Z=N[0],L=N[1],R=uu(o.useState(!1),2),D=R[0],k=R[1],U=uu(o.useState(!1),2),B=U[0],F=U[1],G=function(e,t,n){var r=(0,Go.fQ)(n),i=(0,h.e7)([Oe.default],(function(){return Oe.default.getCurrentUser()}));return o.useMemo((function(){var o=(0,Yl.wN)(e);if(t||null==e||""===e||o.length>Kl.t7||!r)return[];var a=[],l=[],u=(0,Yl.kT)(e),c=u===o[0]?o:[u].concat(Ql(o));In.ZP.queryStickers(c,!1).forEach((function(e){var t=e.sticker,r=(0,rr.cO)(t,i,n),o={sticker:t,sendability:r}
;r===rr.eb.SENDABLE?a.push(o):r===rr.eb.SENDABLE_WITH_PREMIUM&&l.push(o)}));var s=[];if(a.length>0){s=a.slice(0,Kl.qm);if(0!==l.length){s.length===Kl.qm&&s.pop();s.push(l[0])}}return s}),[e,n,r,t,i])}(A,C,i),H=(0,g.Z)(v.Z.EXPRESSION_SUGGESTIONS),V=H.analyticsLocations,W=H.AnalyticsLocationProvider,z=eu({setTextInputValue:T,setHasDismissed:S,setHasSelection:F,setFocusedSuggestionType:O}),Y=z.handleTextChange,K=z.debouncedSetTextInputValue;o.useEffect((function(){var e=function(e){k(e)},t=function(e){var t=""!==e&&null!=e;F(t);if(t){var r;O(null);null===(r=n.current)||void 0===r||r.focus()}};p.addListener("text-changed",Y);p.addListener("autocomplete-visibility-change",e);p.addListener("selection-changed",t);return function(){p.removeListener("text-changed",Y);p.removeListener("autocomplete-visibility-change",e);p.removeListener("selection-changed",t)}}),[Y,n,p]);o.useLayoutEffect((function(){null==m&&I(null)}),[m]);var q=uu(o.useState(!1),2),Q=q[0],J=q[1];o.useLayoutEffect((function(){
requestAnimationFrame((function(){var e=P.current;J(l||!0===(null==e?void 0:e.contains(null==e?void 0:e.ownerDocument.activeElement)))}))}),[l]);var $=G.length>0,ee=Q&&!w&&!D&&!C&&!B&&$,te=function(e){var t=e.editorRef,n=e.hasStickerResults,r=e.shouldRenderSuggestions,i=e.focusedSuggestionType,a=e.setFocusedStickerListItem,l=e.setFocusedSuggestionType,u=e.setHasDismissed,c=e.setTextInputValue,s=o.useCallback((function(e,t){a(t)}),[a]),f=(0,co.ZP)({id:"expression-suggestions-stickers",isEnabled:!0,scrollToStart:hu,scrollToEnd:hu,orientation:so.hy.HORIZONTAL,setFocus:s,useVirtualFocus:!0});o.useEffect((function(){var e=function(e){if(!(!r||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey)){switch(e.key){case"ArrowUp":e.preventDefault();if(null==i&&n){f.focusFirstVisibleItem();l(cu.STICKER)}break;case"ArrowDown":var o;l(null);null===(o=t.current)||void 0===o||o.focus();break;case"Escape":var a;l(null);u(!0);c("");null===(a=t.current)||void 0===a||a.focus()}
i===cu.STICKER&&f.containerProps.onKeyDown(e)}};window.addEventListener("keydown",e,{capture:!0});return function(){return window.removeEventListener("keydown",e,{capture:!0})}}),[f,r,i,l,n,t,u,a,c]);return{stickersNavigator:f}}({editorRef:n,hasStickerResults:$,shouldRenderSuggestions:ee,focusedSuggestionType:m,setFocusedSuggestionType:O,setHasDismissed:S,setFocusedStickerListItem:I,setTextInputValue:T}).stickersNavigator,ne=function(e,t){if(ee){se.default.track(fe.rMx.AUTO_SUGGEST_EXPRESSION_SELECTED,{sticker_id:e.id,suggestion_trigger:Z});if(t===rr.eb.SENDABLE){S(!0);u(e,yn.V0.EXPRESSION_SUGGESTIONS);K.cancel();T("")}else if((0,me.jl)(e)){var n=be.Z.getStickerPack(e.pack_id);null!=n&&ca({stickerPack:n,analyticsLocations:V})}p.emit("sticker-suggestions-hidden")}},re=o.useRef([]),oe=o.useRef(!1);o.useEffect((function(){ee&&(re.current=G);if(ee!==oe.current){p.emit(ee?"sticker-suggestions-shown":"sticker-suggestions-hidden");if(ee){(0,Yl.Tk)(A);L(A)}}oe.current=ee}),[p,ee,G,A])
;var ie,ae=!ee,le=ee?G:re.current;return(0,r.jsx)(W,{children:(0,r.jsxs)(y.Clickable,{tabIndex:ae?-1:0,"aria-hidden":ae,className:a()(nu().container,(ie={},ou(ie,nu().hidden,ae),ou(ie,nu().submitButtonOffset,d),ou(ie,nu().stickerIconOffset,s),ie)),innerRef:P,style:{minWidth:pu},onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.focus()},children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.bG,{navigator:te,children:(0,r.jsx)(M.SJ,{children:function(e){var t=e.ref,n=e.tabIndex,o=lu(e,["ref","tabIndex"]);return(0,r.jsx)("div",au(iu({className:nu().stickerResults,ref:function(e){t.current=e},onMouseLeave:function(){null==m&&I(null)},tabIndex:ae?-1:n},o),{children:le.map((function(e,t){var n=e.sticker,o=e.sendability;return(0,r.jsx)(yu,{isFocused:_==="".concat(t),isHidden:ae,sendability:o,listIndex:t,onMouseOver:function(){te.setFocus("".concat(t));I("".concat(t))},onSelectSticker:ne,sticker:n},n.id)}))}))}})}),(0,r.jsxs)("div",{
className:nu().bottomInformationTextContainer,children:[(0,r.jsx)("div",{className:nu().textDivider}),(0,r.jsxs)("div",{className:nu().bottomInformationLayout,children:[(0,r.jsx)(y.Text,{className:nu().descriptionText,style:{maxWidth:pu},variant:"text-sm/normal",children:null!=_?X.Z.Messages.EXPRESSION_SUGGESTIONS_STICKER_NAME.format({stickerName:null===(t=G[+_])||void 0===t?void 0:t.sticker.name}):X.Z.Messages.EXPRESSION_SUGGESTIONS_STICKER_SHORT_NAV_PROMPT.format({upHook:function(e,t){return(0,r.jsx)(y.KeyCombo,{shortcut:"up",className:nu().keybind},t)}})}),(0,r.jsx)(y.Clickable,{onClick:function(){se.default.track(fe.rMx.STICKER_SUGGESTIONS_ENABLED_TOGGLED,{enabled:!1,location:{section:fe.jXE.EXPRESSION_PICKER}});Nr.up.updateSetting(!1)},children:(0,r.jsx)(y.Tooltip,{text:X.Z.Messages.EXPRESSION_SUGGESTIONS_STICKER_DISABLE,children:function(e){return(0,r.jsx)(za.Z,au(iu({},e),{className:nu().closeIcon}))}})})]})]})]}),(0,r.jsx)("div",{className:nu().containerBackground})]})})}))
;var mu=n(99440),vu=n(944522),gu=n(545758),Ou=n(736818),Eu=n(44616),Cu=n(367299),Su=n(919031),ju=n(69540),_u=n(4958);function Iu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Iu(e,t,n[t])}))}return e}function Pu(e){var t,n,r=e.editorHeight,i=e.textValue,a=o.useRef(i),l=an({editorHeight:r}),u=(0,Su.Z)(),c=(0,h.e7)([Eu.ZP,Ou.default,_t.Z],(function(){var e;return Eu.ZP.isComboing(Ou.default.getId(),null!==(e=_t.Z.getChannelId())&&void 0!==e?e:"")})),s=null!==(t=null==l?void 0:l.left)&&void 0!==t?t:0,f=(null!==(n=null==l?void 0:l.top)&&void 0!==n?n:0)-16,d=o.useMemo((function(){return Math.random()<.05}),[0===i.length])
;o.useEffect((function(){if(0!==i.length&&i!==a.current&&c){u.fire(s,f,d?{sprite:_u.vv}:null);a.current=i}}),[i,c,s,f,d,u]);return null}function xu(e){return(0,r.jsx)(Cu.Z,{confettiLocation:ju.Hn.CHAT_INPUT,children:(0,r.jsx)(Pu,wu({},e))})}var Au=n(852077),Tu=n(225386),Nu=n(191677),Mu=n(255592),Zu=n(194212),Lu=n(563135),Ru=n(120415),Du=n(623934),ku=n(168024),Uu=n(381186);function Bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gu="@here";function Hu(e){return e.length>1||!(1===e.length&&"GROUP"===e[0].type&&"unknown"===e[0].id)}function Vu(e,t,n){var r=(0,gu.Z)(),i=Fu(o.useState(!1),2),a=i[0],l=i[1],u=o.useMemo((function(){return C().debounce((function(e){(function(e,t,n,r){if(Hu(Uu.ZP.getProps(n,r).groups))return!0;if(e.length<Gu.length||e.length>t)return!1;if(-1===e.indexOf(Gu))return!1;(0,Du.b8)(n,r,ku.KV);return!0})(e,r,t,n)&&l(!0)}),200,{maxWait:500})}),[r,t,n]);o.useEffect((function(){var r=Uu.ZP.getProps(t,n).groups;if(null!=t&&!Hu(r)&&!a){e.addListener("text-changed",u);return function(){e.removeListener("text-changed",u);u.cancel()}}
}),[a,u,e,t,n])}var Wu=n(326470),zu=n.n(Wu),Yu=n(608575),Ku=n(567867),qu=n(474717),Xu=n(296602),Qu=n(149258),Ju=n(971402),$u=n(495036);function ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tc(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function nc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tc(i,r,o,a,l,"next",e)}function l(e){tc(i,r,o,a,l,"throw",e)}a(void 0)}))}}function rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ic(e){ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ic(e)}function ac(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oc(e,t,n[t])}))}return e}function lc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uc(e,t){return!t||"object"!==sc(t)&&"function"!=typeof t?ec(e):t}function cc(e,t){cc=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return cc(e,t)}var sc=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ic(e);if(t){var o=ic(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uc(this,n)}}var dc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},pc=/(\t|\s)/,hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cc(e,t)}(o,e);var t=fc(o);function o(){rc(this,o);var e;(e=t.apply(this,arguments)).state={nextSelection:-1};e.focus=function(){var t=ec(e)._ref
;null!=t&&t.focus()};e.handleSetRef=function(t){e._ref=t};e.handleKeyPress=function(t){if(t.which===fe.yXg.ENTER)if(!t.shiftKey&&!e.hasOpenCodeBlock()&&(!e.props.disableEnterToSubmit||t.ctrlKey)){t.preventDefault();return e.props.onSubmit(e.props.value)}};e.handleKeyDown=function(t){switch(t.which){case fe.yXg.ARROW_DOWN:e.props.moveSelection(1)&&t.preventDefault();break;case fe.yXg.N:t.ctrlKey&&e.props.moveSelection(1)&&t.preventDefault();break;case fe.yXg.ARROW_UP:e.props.moveSelection(-1)&&t.preventDefault();break;case fe.yXg.P:t.ctrlKey&&e.props.moveSelection(-1)&&t.preventDefault();break;case fe.yXg.TAB:case fe.yXg.ENTER:e.handleTabOrEnterDown(t)}var n=e.props.onKeyDown;null==n||n(t)};e.handleKeyUp=function(t){switch(t.which){case fe.yXg.ARROW_RIGHT:case fe.yXg.ARROW_LEFT:case fe.yXg.HOME:case fe.yXg.END:e.props.maybeShowAutocomplete()}var n=e.props.onKeyUp;null==n||n(t)};e.handleGlobalPaste=function(t){var n=t.event;e.handlePaste(n)||e.focus()};e.handlePaste=function(t){
var n=e.props.onPaste(t);n&&t.preventDefault();return n};e.handleClick=function(){e.props.maybeShowAutocomplete()};e.handleContextMenu=function(e){Ru.FB&&(0,Ju.jW)(e,nc((function(){var e,t;return dc(this,(function(o){switch(o.label){case 0:return[4,n.e(38525).then(n.bind(n,638525))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,lc(ac({},e),{isChannelTextArea:!0,text:(0,$u.getSelectionText)()}))}]}}))})),{align:"bottom",enableSpellCheck:!0})};e.handleOnChange=function(t){var n=e.props.onChange,r=t.currentTarget.value;null==n||n(t,r,(0,Cn.JM)(r))};return e}var i=o.prototype;i.componentDidMount=function(){var e=this;if(!this.props.disableAutoFocus){Promise.resolve().then((function(){var t,n=e.props.value;null===(t=e._ref)||void 0===t||t.setSelection(n.length,n.length)}));this.focus()}null!=O.Z.getActiveCommand(this.props.channel.id)&&et.Po(this.props.channel.id,null,null)};i.componentDidUpdate=function(e,t){
this.state.nextSelection!==t.nextSelection&&null!=this._ref&&this._ref.setSelection(this.state.nextSelection,this.state.nextSelection)};i.getCurrentWord=function(){var e=this._ref;if(null==e)return{word:null,isAtStart:!1};var t=this.props.value;if(0===t.trim().length)return{word:null,isAtStart:!1};for(var n=e.selectionStart,r=e.selectionEnd;n>0;){if(pc.test(t[n-1]))break;n--}return{word:t.slice(n,r),isAtStart:0===n}};i.blur=function(){var e=this._ref;null!=e&&e.blur()};i.submit=function(e){e.preventDefault();return this.props.onSubmit(this.props.value)};i.insertAutocomplete=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.getCurrentWord().word;if(null==r)this.insertText(e,t,n);else{var o=this._ref;if(null==o)return;var i=o.value.slice(0,o.selectionStart-r.length),a=o.value.slice(o.selectionEnd);this._insertText(e,i,a,n)}};i.insertText=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._ref;if(null!=r){
var o=r.value.slice(0,r.selectionStart),i=r.value.slice(r.selectionEnd);this._insertText(e,o,i,n)}};i._insertText=function(e,t,n,r){var o=this;if(null!=this._ref){r&&(e+=" ");var i=t+e+n,a=this.props.onChange;null==a||a(null,i,(0,Cn.JM)(i));var l=t.length+e.length;this.setState({nextSelection:l},(function(){o.props.maybeShowAutocomplete()}))}};i.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0};i.render=function(){var e=this.props,t=e.value,n=e.disabled,o=e.placeholder,i=e.onResize,l=e.className,u=e.submitting,c=e.textAreaPaddingClassName,s=e.spellcheckEnabled,f=e["aria-controls"],d=e["aria-expanded"],p=e["aria-activedescendant"];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Zu.d9,{event:fe.CkL.GLOBAL_CLIPBOARD_PASTE,handler:this.handleGlobalPaste}),(0,r.jsx)(y.TextAreaAutosize,{ref:this.handleSetRef,className:a()(l,c),rows:1,fontWidthEstimate:6,placeholder:o,
disabled:n||u,onChange:this.handleOnChange,onResize:i,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:0,spellCheck:s,"aria-controls":f,"aria-expanded":d,"aria-activedescendant":p,"aria-haspopup":"listbox","aria-autocomplete":"list","aria-multiline":!0})]})};i.handleTabOrEnterDown=function(e){if(e.which===fe.yXg.TAB&&this.props.onTab()){e.preventDefault();e.stopPropagation()}else if(e.which===fe.yXg.ENTER&&this.props.onEnter(e)){e.preventDefault();e.stopPropagation()}else if(e.which===fe.yXg.ESCAPE){e.preventDefault();e.stopPropagation();this.props.hideAutocomplete()}else if(e.which===fe.yXg.TAB&&this.hasOpenCodeBlock()){e.preventDefault();e.stopPropagation();this.insertText("\t",void 0,!1)}};i.insertEmoji=function(e,t){this.insertText("".concat(":").concat(e.name).concat(":"),void 0,t)}
;i.getFirstText=function(){return this.props.value};return o}(o.PureComponent);const yc=hc;var bc=n(893691),mc=n(556635),vc=new WeakMap,gc=new WeakMap,Oc={isMerging:function(e){var t;return null===(t=gc.get(e))||void 0===t||t},isSaving:function(e){var t;return null===(t=vc.get(e))||void 0===t||t},withoutMerging:function(e,t){var n=this.isMerging(e);gc.set(e,!1);try{t()}finally{gc.set(e,n)}},withoutSaving:function(e,t){var n=this.isSaving(e);vc.set(e,!1);try{t()}finally{vc.set(e,n)}},withSingleEntry:function(e,t){return Ec(e,"other",!1,t)},withMergedEntry:function(e,t){return Ec(e,"other",!0,t)},currentEntry:function(e){return e.history.stack.length>0?e.history.stack[e.history.index]:null},insertOrMergeEntry:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Oc.currentEntry(e);Oc.isMerging(e)&&(null==r?void 0:r.mergeable)?this.mergeEntry(e,n):this.insertEntry(e,t,n)},insertEntry:function(e,t){
var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;o=null!=o?o:e.selection;r=null!=r?r:mc.bN.richValue(e);var i=e.history,a=Oc.currentEntry(e);null!=a&&(a.mergeable=!1);i.stack.length>0&&(i.stack.length=i.index+1);for(;i.stack.length>=250;)i.stack.shift();i.stack.push({type:t,mergeable:n,createdAt:Date.now(),value:r,selection:o});i.index=i.stack.length-1},mergeEntry:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.selection,r=mc.bN.richValue(e),o=Oc.currentEntry(e);if(null!=o){o.value=r;o.selection=n;t||(o.mergeable=!1)}}};function Ec(e,t,n,r){var o=e.children,i=e.selection,a=Oc.isSaving(e);vc.set(e,!1);try{var l=r();a&&(n?Oc.mergeEntry(e):e.children!==o?Oc.insertEntry(e,t,!1):!Oc.isMerging(e)||null==e.selection||null!=i&&mc.M8.equals(e.selection,i)||Oc.mergeEntry(e));return l}finally{vc.set(e,a)}}var Cc=n(857793),Sc=n(22176),jc=n(141504),_c=n(73948)
;function Ic(e,t,n,r){for(var o,i=0,a=0;a<n.length;a++){var l=n[a];if(null!=l){var u=i+l.length;if(r<=u){var c=mc.C0.child(t,a),s=mc.bN.node(e,c)[0];if(mc.LC.isText(s))return{path:c,offset:Math.min(Math.max(r-i,0),s.text.length)}}i=u}}var f,d=n.length-1;return{path:mc.C0.child(t,d),offset:null!==(f=null===(o=n[d])||void 0===o?void 0:o.length)&&void 0!==f?f:0}}function wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ac(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ac(e,t,n[t])}))}return e}function Nc(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mc=new Set(["line","blockQuote"]),Zc=[];var Lc=n(77413),Rc=n(385028),Dc=n(327930),kc=n(201457),Uc=n(966935),Bc=n(176758),Fc=n(876986),Gc=n(363193),Hc=n.n(Gc),Vc=n(913198),Wc=n.n(Vc)
;function zc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zc(e,t,n[t])}))}return e}function Kc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qc(e){var t=e.emoji;return(0,r.jsx)(y.Tooltip,{text:t.name,delay:750,
position:"top",children:function(e){return(0,r.jsx)(Lc.Z,Yc({src:t.src,emojiName:t.name,animated:!1},e))}})}function Xc(e){var t=e.emoji;return(0,r.jsx)(y.Tooltip,{text:t.name,delay:750,position:"top",children:function(e){return(0,r.jsx)(Lc.Z,Yc({emojiId:t.emojiId,emojiName:t.name,animated:t.animated},e))}})}function Qc(e){var t=e.text,n=e.channelId,o=e.guildId,i=ve.Z.getGuild(o),a=St.Z.getChannel(n),l=(0,fn.Ib)(i,a)&&"@Clyde"===t?Fc.jM:null;return(0,r.jsx)(Uc.Z,{color:l,children:t})}function Jc(e){var t=e.id,n=e.guildId,o=e.channelId,i=(0,h.e7)([Oe.default],(function(){return Oe.default.getUser(t)})),a=(0,h.e7)([pn.Z],(function(){return pn.Z.hidePersonalInformation})),l=Mr.Z.useName(n,o,i),u=(0,r.jsx)(Uc.Z,{children:null==l?"<@".concat(t,">"):"@".concat(l)});if(null!=i){var c=a||i.isPomelo()?null:"#".concat(i.discriminator);return(0,r.jsx)(y.Tooltip,{text:(0,r.jsxs)("div",{className:Hc().userTooltip,children:[(0,r.jsx)(Rc.Z,{user:i,animate:!0,size:y.AvatarSizes.SIZE_16,
className:Hc().avatar}),Ee.ZP.getUserTag(i,{mode:"username",identifiable:a?"never":"always"}),(0,r.jsx)("span",{className:Hc().discriminator,children:c})]}),delay:750,position:"top","aria-label":Ee.ZP.getUserTag(i,{decoration:"never"}),children:function(e){return(0,r.jsx)(y.Clickable,Kc(Yc({tag:"span"},e),{children:u}))}})}return u}function $c(e){var t=e.id,n=e.guildId,o=(0,h.e7)([ve.Z],(function(){var e=ve.Z.getGuild(n);return null==e?null:e.roles[t]})),i=(0,h.e7)([m.Z],(function(){return m.Z.roleStyle}));if(null==o)return(0,r.jsx)("span",{children:"@deleted-role"});var a=null!=o.color&&0!==o.color,l="dot"===i,u="username"===i&&a;return(0,r.jsxs)(Uc.Z,{color:u?o.color:null,children:[l&&(0,r.jsx)(y.RoleDot,{color:o.colorString,background:!1,tooltip:!1}),"@",o.name]})}function es(e){var t=e.id,n=(0,h.e7)([St.Z],(function(){return St.Z.getChannel(t)})),o=X.Z.Messages.UNKNOWN_CHANNEL,i="text",a=!0;if(null!=n){o=(0,Dc.YO)(n)?n.name:X.Z.Messages.NO_ACCESS;var l;i=(0,Dc.YO)(n)?null!==(l=(0,
Bc.wl)(n))&&void 0!==l?l:"text":"locked";a=(0,kc.B)(n.type)}return a?(0,r.jsx)(Uc.Z,{iconType:i,children:o}):(0,r.jsx)("span",{children:"#"+o})}function ts(e){var t=e.id,n={home:X.Z.Messages.SERVER_GUIDE,guide:X.Z.Messages.SERVER_GUIDE,browse:X.Z.Messages.CHANNEL_BROWSER_TITLE,customize:X.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE};return(0,r.jsx)(Uc.Z,{iconType:t,children:n[t]})}function ns(e){var t=e.text,n=e.id;return(0,r.jsxs)(Uc.Z,{children:[t,"(",n,")"]})}function rs(e){var t=e.timestamp;return(0,r.jsx)("span",{className:Wc().timestamp,children:t.formatted})}var os=n(114774),is=n.n(os),as=n(873641),ls=n.n(as);function us(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){us(e,t,n[t])}))}return e}function ss(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var fs=function(e){var t=e.className,n=e.attributes,o=e.children,i=a()(ls().inlineElement,ls().inlineVoid,t);return(0,r.jsx)("span",ss(cs({},n),{className:i,contentEditable:!1,children:o}))},ds=n(765980),ps=n.n(ds);function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ys(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function bs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ms(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vs={strong:is().bold,em:is().italics,u:is().underline,s:is().strikethrough,inlineCode:is().inlineCode,link:is().fakeLink,url:is().fakeLink,autolink:is().fakeLink,spoiler:a()(ps().spoilerContent,ps().spoilerMarkdownContent,ps().obscuredTextContent,is().spoiler),staticRouteLink:is().fakeLink,syntaxBefore:is().syntaxBefore,syntaxAfter:is().syntaxAfter,codeBlockText:is().codeBlockText,codeBlockSyntax:is().codeBlockSyntax,codeBlockLang:is().codeBlockLang};function gs(e,t){var n,o=t.attributes,i=t.children,l=t.leaf,u=t.text,c=!1,s=ms(mc.bN.node(e,mc.C0.parent(mc.bN.findPath(e,u))),1)[0]
;switch(mc.bN.isEditor(s)?"editor":s.type){case"line":case"blockQuote":c=void 0;var f=Object.entries(l).filter((function(e){return"text"!==ms(e,1)[0]})).flatMap((function(e){var t=ms(e,2),n=t[0],r=t[1];if("hljsTypes"===n)return r;if(!0===r){"codeBlockLang"!==n&&"codeBlockSyntax"!==n||(c=!1);if(n.startsWith("before_")||n.startsWith("after_"))return[is()[n]];if(n in vs)return[vs[n]];throw new Error("Slate: Unknown decoration attribute: ".concat(n))}})).filter((function(e){return null!=e})).join(" ");n=a()(f,ys({},is().syntaxOverride,"||"===l.text||"\\"===l.text))}n=a()(n,ys({},ls().emptyText,""===u.text));return(0,r.jsx)("span",bs(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ys(e,t,n[t])}))}return e}({},o),{className:n,spellCheck:c,
children:i}))}var Os=n(784732),Es=n.n(Os);function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function _s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){js(i,r,o,a,l,"next",e)}function l(e){js(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Is(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ws(e){ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ws(e)}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Is(e,t,n[t])}))}return e}function xs(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function As(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ts(e,t){return!t||"object"!==Zs(t)&&"function"!=typeof t?Ss(e):t}function Ns(e,t){Ns=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ns(e,t)}function Ms(e){return function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zs=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ws(e);if(t){var o=ws(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ts(this,n)}}var Rs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ns(e,t)}(i,e);var t=Ls(i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n
;(n=t.call(this,e)).containerRef=o.createRef();n.decorate=n.decorate.bind(Ss(n));n.renderElement=n.renderElement.bind(Ss(n));n.renderLeaf=n.renderLeaf.bind(Ss(n));n.handleOnChange=n.handleOnChange.bind(Ss(n));n.handleKeyDown=n.handleKeyDown.bind(Ss(n));n.handleKeyUp=n.handleKeyUp.bind(Ss(n));n.handleBeforeInput=n.handleBeforeInput.bind(Ss(n));n.handleCompositionStart=n.handleCompositionStart.bind(Ss(n));n.handleCompositionEnd=n.handleCompositionEnd.bind(Ss(n));n.handleFocusCapture=n.handleFocusCapture.bind(Ss(n));n.handleBlurCapture=n.handleBlurCapture.bind(Ss(n));n.handleContextMenu=n.handleContextMenu.bind(Ss(n));mc.bN.isEditorEmpty(e.editor)?n.state={initialValue:(0,Cn.H2)().richValue,showPlaceholder:!0}:n.state={initialValue:mc.bN.richValue(e.editor),showPlaceholder:!1};return n}var l=i.prototype;l.componentDidMount=function(){this.props.editor.events.addListener("onChange",this.handleOnChange)};l.componentDidUpdate=function(e,t,n){if(e.editor!==this.props.editor){
e.editor.events.removeListener("onChange",this.handleOnChange);this.props.editor.events.addListener("onChange",this.handleOnChange)}};l.componentWillUnmount=function(){this.props.editor.events.removeListener("onChange",this.handleOnChange)};l.componentDidCatch=function(e,t){Sc.Z.captureException(e,{extra:t});this.setState({initialValue:Ms(this.props.editor.children)})};l.decorate=function(e){var t,n=this.props,r=n.editor,o=n.guildId,i=n.decorateExtra;return Ms(function(e,t,n){if(mc.bN.areStylesDisabled(e))return[];var r=Nc(t,2),o=r[0],i=r[1];if(1!==i.length||!mc.aj.isInTypes(o,Mc))return Zc;for(var a=mc.q.markdown(o,n,!0),l=a.entries,u=a.serializedChildren,c=[],s=0;s<l.length;s++){var f=l[s];if(f.attributes.length>0&&f.text.length>0){var d=l[s-1],p=l[s+1],h={anchor:Ic(e,i,u,f.start),focus:Ic(e,i,u,f.start+f.text.length)},y=mc.bN.nodes(e,{at:h,mode:"lowest",voids:!1}),b={},m=!0,v=!1,g=void 0;try{for(var O,E=f.attributes[Symbol.iterator]();!(m=(O=E.next()).done);m=!0){var C=O.value
;b[C]=!0;if("syntaxBefore"===C&&null!=p){var S=!0,j=!1,_=void 0;try{for(var I,w=p.attributes[Symbol.iterator]();!(S=(I=w.next()).done);S=!0){var P=I.value;b["before_".concat(P)]=!0}}catch(e){j=!0;_=e}finally{try{S||null==w.return||w.return()}finally{if(j)throw _}}}else if("syntaxAfter"===C&&null!=d){var x=!0,A=!1,T=void 0;try{for(var N,M=d.attributes[Symbol.iterator]();!(x=(N=M.next()).done);x=!0){var Z=N.value;b["after_".concat(Z)]=!0}}catch(e){A=!0;T=e}finally{try{x||null==M.return||M.return()}finally{if(A)throw T}}}}}catch(e){v=!0;g=e}finally{try{m||null==E.return||E.return()}finally{if(v)throw g}}var L=!0,R=!1,D=void 0;try{for(var k,U=y[Symbol.iterator]();!(L=(k=U.next()).done);L=!0){var B=Nc(k.value,2),F=B[0],G=B[1];if(!mc.bN.isVoid(e,F)){var H={anchor:mc.bN.start(e,G),focus:mc.bN.end(e,G)};mc.Jz.isBefore(H.anchor,h.anchor)&&(H.anchor=h.anchor);mc.Jz.isAfter(H.focus,h.focus)&&(H.focus=h.focus);c.push(Tc({},b,H))}}}catch(e){R=!0;D=e}finally{try{L||null==U.return||U.return()
}finally{if(R)throw D}}}}return c}(r,e,o)).concat(Ms(function(e,t){if(mc.bN.areStylesDisabled(e))return[];var n=Pc(t,2),r=n[0],o=n[1],i=[];if(!mc.aj.isType(r,"line")||null==r.codeBlockState)return i;var a=r.codeBlockState,l=a.hljsTypes,u=a.isStyledCodeBlockLine;if(null==l||0===l.length||!u)return[];var c=!0,s=!1,f=void 0;try{for(var d,p=l[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=r.children.map((function(e){return mc.LC.isText(e)?e.text:null}));i.push({hljsTypes:h.types,anchor:Ic(e,o,y,h.start),focus:Ic(e,o,y,h.end)})}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}return i}(r,e)),Ms(null!==(t=null==i?void 0:i(r,e))&&void 0!==t?t:[]))};l.renderElement=function(e){var t,n=this.props,o=n.guildId,i=n.channelId,l=n.renderExtraElement,u=e.attributes,c=e.children,s=null!==(t=null==l?void 0:l(e))&&void 0!==t?t:function(e,t,n){var o=e.attributes,i=e.children,l=e.element;switch(l.type){case"line":var u
;return(null===(u=l.codeBlockState)||void 0===u?void 0:u.isInCodeBlock)?(0,r.jsx)("div",ss(cs({className:is().codeLine,spellCheck:null==l.codeBlockState||null==l.codeBlockState.lang},o),{children:i})):(0,r.jsx)("div",ss(cs({},o),{children:i}));case"blockQuote":var c=a()(Wc().blockquoteContainer,Wc().slateBlockquoteContainer);return(0,r.jsxs)("div",ss(cs({},o),{className:c,children:[(0,r.jsx)("span",{contentEditable:!1,className:Wc().blockquoteDivider}),(0,r.jsx)("blockquote",{children:i})]}));case"emoji":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(qc,{emoji:l.emoji}),i]});case"customEmoji":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(Xc,{emoji:l.emoji}),i]});case"textMention":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(Qc,{text:l.name,channelId:n,guildId:t}),i]});case"userMention":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(Jc,{id:l.userId,channelId:n,guildId:t}),i]});case"roleMention":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)($c,{
id:l.roleId,guildId:t}),i]});case"channelMention":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(es,{id:l.channelId}),i]});case"staticRouteLink":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(ts,{id:l.channelId}),i]});case"commandMention":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(ns,{text:l.commandName,id:l.commandId}),i]});case"timestamp":return(0,r.jsxs)(fs,{attributes:o,children:[(0,r.jsx)(rs,{timestamp:l.parsed}),i]});default:return null}}(e,o,i);return null!=s?s:(0,r.jsx)("div",xs(Ps({},u),{children:c}))};l.renderLeaf=function(e){var t,n=this.props,o=n.editor,i=n.renderExtraLeaf,a=e.attributes,l=e.children,u=null!==(t=null==i?void 0:i(e))&&void 0!==t?t:gs(o,e);return null!=u?u:(0,r.jsx)("span",xs(Ps({},a),{children:l}))};l.handleOnChange=function(){var e,t,n=this.props.editor,r=mc.bN.isEditorEmpty(n)&&null==n.composition;r!==this.state.showPlaceholder&&this.setState({showPlaceholder:r})
;null===(t=(e=this.props).onChange)||void 0===t||t.call(e,mc.bN.richValue(n))};l.handleKeyDown=function(e){var t,n;if(null==this.props.editor.composition)null===(n=(t=this.props).onKeyDown)||void 0===n||n.call(t,e);else{e.preventDefault();e.stopPropagation()}};l.handleKeyUp=function(e){var t,n;if(null==this.props.editor.composition)null===(n=(t=this.props).onKeyUp)||void 0===n||n.call(t,e);else{e.preventDefault();e.stopPropagation()}};l.handleBeforeInput=function(e){var t,n=this.props.editor,r=Cc.F3.findDocumentOrShadowRoot(n).getSelection(),o=null!=r&&r.rangeCount>0?r.getRangeAt(0):null,i=null!==(t=e.getTargetRanges()[0])&&void 0!==t?t:null;0;if(null==n.composition){if("insertText"===e.inputType||"insertReplacementText"===e.inputType){null==i&&(i=o);if(null!=i){var a=mc.bN.toSlateRange(n,i,{exactMatch:!1,suppressThrow:!0});if(null!=a&&null!=e.data)if(mc.M8.isExpanded(a))Oc.withSingleEntry(n,(function(){n.selection=a;n.deleteFragment();n.insertText(e.data);e.preventDefault()}));else{
n.insertText(e.data);e.preventDefault()}}}if(e.inputType.startsWith("deleteContent")&&null!=o&&!o.collapsed){var l=mc.bN.toSlateRange(n,o,{exactMatch:!0,suppressThrow:!0});if(null!=l&&mc.M8.isExpanded(l)){n.selection=l;n.deleteFragment(e.inputType.endsWith("Backward")?"backward":"forward");e.preventDefault()}}}};l.handleCompositionStart=function(){var e=this.props.editor;0;var t={insertedPrefix:!1,startedInsideInline:!1};this.state.showPlaceholder&&this.setState({showPlaceholder:!1});var n=null!=e.selection&&mc.M8.isCollapsed(e.selection)?mc.bN.leaf(e,e.selection.anchor.path):null;if(null!=n){null!=(null!=e.selection&&mc.M8.isCollapsed(e.selection)?mc.bN.above(e,{at:n[1],match:function(t){return mc.bN.isInline(e,t)},mode:"lowest"}):null)&&(t.startedInsideInline=!0);if(mc.bN.isEditorEmpty(e)){_c.Q.insertNodes(e,{text:"\ufeff"},{select:!0});t.insertedPrefix=!0;e.composition=t}else{
var r,o=Cc.F3.findDocumentOrShadowRoot(this.props.editor).getSelection(),i=(null!==(r=null==o?void 0:o.rangeCount)&&void 0!==r?r:0)>0?null==o?void 0:o.getRangeAt(0):null;if(null==(null!=i?mc.bN.toSlateRange(e,i,{exactMatch:!0,suppressThrow:!0}):null)&&null!=i){var a=mc.bN.toSlateRange(e,i,{exactMatch:!1,suppressThrow:!0});e.selection=null;if(null!=a)_c.Q.select(e,a);else{var l;_c.Q.select(e,null!==(l=e.selection)&&void 0!==l?l:mc.bN.end(e,[]))}}e.composition=t}}else e.composition=t};l.handleCompositionEnd=function(e){var t=this.props.editor;0;if(null!=t.composition){if(t.composition.insertedPrefix&&null!=t.selection&&mc.M8.isCollapsed(t.selection)){var n=t.selection.anchor.path,r=mc.aj.leaf(t,n);mc.bN.withoutNormalizing(t,(function(){var e=r.text.replace(/^\uFEFF/,"");_c.Q.delete(t,{unit:"offset",distance:r.text.length,reverse:!0});mc.bN.insertText(t,e)}))}t.composition=null}};l.handleFocusCapture=function(e){var t=this.props.onFocus;null==t||t(e)};l.handleBlurCapture=function(e){
var t=this.props,n=t.editor,r=t.onBlur,o=e.relatedTarget,i=Cc.F3.findDocumentOrShadowRoot(this.props.editor),a=i.getElementById("textarea-context"),l=i.getElementById("slate-toolbar");if(null!=o&&!(0,jc.hasDomParent)(o,a)&&!(0,jc.hasDomParent)(o,l)){var u=Cc.F3.findDocumentOrShadowRoot(n).getSelection();if(null!=u){for(var c=!1,s=u.rangeCount-1;s>=0;s--){var f=u.getRangeAt(s);if(null!=this.containerRef.current&&(0,jc.hasDomParent)(f.commonAncestorContainer,this.containerRef.current)){c=!0;break}}c&&u.removeAllRanges()}}null==r||r(e)};l.handleContextMenu=function(e){var t=this.props.editor,o=e.pageY,i=window.innerHeight,a=null!=o&&null!=i&&o<i/2?"top":"bottom";Ru.FB?(0,Ju.jW)(e,_s((function(){var e,o;return Rs(this,(function(i){switch(i.label){case 0:return[4,n.e(67068).then(n.bind(n,567068))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,xs(Ps({},e),{editor:t,text:mc.bN.getSelectedText(t,!0)}))}]}}))})),{align:a,enableSpellCheck:!0}):blur()};l.render=function(){
var e=this.props,t=e.editor,n=e.className,o=e.containerClassName,i=e.canFocus,l=e.autoFocus,u=e.placeholder,c=e.onPaste,s=(e.channelId,e.guildId,e.onChange,e.onFocus,e.onBlur,e.onKeyDown,e.onKeyUp,e.decorateExtra,e.renderExtraElement,e.renderExtraLeaf,As(e,["editor","className","containerClassName","canFocus","autoFocus","placeholder","onPaste","channelId","guildId","onChange","onFocus","onBlur","onKeyDown","onKeyUp","decorateExtra","renderExtraElement","renderExtraLeaf"]));return(0,r.jsxs)("div",{ref:this.containerRef,className:o,children:[this.state.showPlaceholder?(0,r.jsx)("div",{className:a()(Es().placeholder,n),"aria-hidden":!0,children:u}):null,(0,r.jsx)(Cc.mH,{editor:t,value:Ms(this.state.initialValue),children:(0,r.jsx)(Cc.CX,xs(Ps({},s),{className:a()(Wc().markup,Es().editor,n),decorate:this.decorate,renderElement:this.renderElement,renderLeaf:this.renderLeaf,onFocusCapture:this.handleFocusCapture,onBlurCapture:this.handleBlurCapture,onContextMenu:this.handleContextMenu,
onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onDOMBeforeInput:this.handleBeforeInput,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,onPasteCapture:c,autoFocus:l&&!1!==i,autoCorrect:"off","data-can-focus":!1!==i,"aria-label":u,"aria-multiline":!0}))})]})};return i}(o.PureComponent);const ks=Ds;var Us=n(651700);function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gs=n(104182),Hs=n(623313),Vs=n(836296),Ws=n(1131);function zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zs(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ks=new Set(["applicationCommandOption"]),qs=new Set([j.jw.ATTACHMENT]),Xs=new Set(["line","applicationCommand"]);function Qs(e,t,n,r){var o=e.insertData,i=e.isInline,a=e.isVoid,l=e.onChange,u=e.deleteBackward,c=e.deleteForward,s=e.deleteFragment;e.insertData=function(n){if(null!=t&&mc.bN.isEditorEmpty(e)&&n.types.includes("application/x-discord-interaction-data")){var r=JSON.parse(n.getData("application/x-discord-interaction-data")),i=Hs.Z.getCommandFromInteractionData(r),a=Hs.Z.getApplication(null==i?void 0:i.applicationId);if(null!=i){var l,u,c=null!=a?{
type:Z.Qi.APPLICATION,id:a.id,icon:a.icon,name:null!==(u=null===(l=a.bot)||void 0===l?void 0:l.username)&&void 0!==u?u:a.name,application:a}:null;et.Po(t.id,i,c,Z.Vh.PASTE,(0,cn.Fi)(i,r));return null}}return o(n)};e.isInline=function(e){return!!Ks.has(e.type)||i(e)};e.isVoid=function(e){return!("applicationCommandOption"!==e.type||!qs.has(e.optionType))||a(e)};e.deleteBackward=function(t){nf(e,(function(){return u(t)}))};e.deleteForward=function(t){nf(e,(function(){return c(t)}))};e.deleteFragment=function(t){nf(e,(function(){return s(t)}))};var f=null,d=null,p=null,h=null,y=null;e.onChange=function(){if(null!=t){var o,i,a=O.Z.getState(t.id),u=mc.bN.getFirstText(e),c=(0,K.hV)(t,null!==(o=null==u?void 0:u.text)&&void 0!==o?o:""),s=null!==(i=tt.ZP.getQueryCommands(t.id,j.yU.CHAT,c.text))&&void 0!==i?i:null;if(mc.bN.richValue(e)!==f||!mc.Ew.equals(e.selection,d)||a.activeCommand!==p||s!==h){var b=Oc.withMergedEntry(e,(function(){var o;return function(e){
var t=e.editor,n=e.storeCommandState,r=e.channel,o=e.canUseCommands,i=e.canOnlyUseTextCommands,a=e.commandChanged,l=e.previousOptionValues,u=tf(t),c=u.command,s=u.commandText,f=n.activeCommand;if(!o||i&&(null==f?void 0:f.inputType)!==Z.iw.BUILT_IN_TEXT&&(null==f?void 0:f.inputType)!==Z.iw.BUILT_IN_INTEGRATION){null!=c&&Js(t,r.id,f,!0);return null}if(null!=c){if(mc.bN.isEditorEmpty(t)){Js(t,r.id,f,!1);return null}if(null==f){Js(t,r.id,f,!1);return null}var d="".concat(q.GI).concat(c.displayName);if(null==s||!s.startsWith(d)||0===bc.cu(t).length&&(s.length<d.length+1||" "!==s[d.length])){Js(t,r.id,f,!0);return null}}else{if(null!=f&&a){var p=function(e,t,n){var r,o,i,a=n.initialValues,l=n.activeCommand;if(null==l)return null;var u,c=(null!==(i=null===(r=l.options)||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0?bc.zb(e,l):null,s=(0,Us.sk)(mc.bN.richValue(e),{mode:"raw",range:{anchor:mc.bN.start(e,[]),
focus:null!==(u=null==c||null===(o=c[0])||void 0===o?void 0:o.keyRange.anchor)&&void 0!==u?u:mc.bN.end(e,[])}}),f="",d=s.toLocaleLowerCase(),p=Zr.exec(d);null!=p&&(d=q.GI+d.substring(p.length));var h="".concat(q.GI).concat(l.displayName).toLocaleLowerCase(),y="".concat(q.GI).concat(l.name).toLocaleLowerCase();d.startsWith(h)&&d.length>h.length?f=s.substring(h.length).trim():d.startsWith(y)&&d.length>y.length&&(f=s.substring(y.length).trim());var b,m=[],v=null,g=null;if(null!=l.options){var O=new Set;if(null!=c){var E=!0,C=!1,S=void 0;try{for(var j,_=c[Symbol.iterator]();!(E=(j=_.next()).done);E=!0){var I,w=j.value;O.add(w.name);var P=null!==(I=rf(n,t,w.name))&&void 0!==I?I:w.text,x={type:"applicationCommandOption",optionName:w.name,optionDisplayName:w.displayName,optionType:w.type,children:[{text:P}]};m.push(x);0===w.text.length&&null==v&&(v=x)}}catch(e){C=!0;S=e}finally{try{E||null==_.return||_.return()}finally{if(C)throw S}}}var A=!0,T=!1,N=void 0;try{
for(var M,Z=l.options[Symbol.iterator]();!(A=(M=Z.next()).done);A=!0){var L=M.value;if(!O.has(L.name)&&(L.required||null!=a[L.name])){var R=void 0,D=void 0;if(f.length>0&&!qs.has(L.type)){R=f;f=""}else R=null!=(D=rf(n,t,L.name))?D:"";var k={type:"applicationCommandOption",optionName:L.name,optionDisplayName:L.displayName,optionType:L.type,children:[{text:R}]};m.push(k);0===R.length&&null==v&&(v=k);null==D&&(g=k)}}}catch(e){T=!0;N=e}finally{try{A||null==Z.return||Z.return()}finally{if(T)throw N}}}b=f.length>0?"".concat(q.GI).concat(l.displayName," ").concat(f.replace(/\r|\n/g," ")):0===m.length?"".concat(q.GI).concat(l.displayName," "):"".concat(q.GI).concat(l.displayName);m.unshift({text:b});var U={type:"applicationCommand",children:m,command:{id:l.id,name:l.name,displayName:l.displayName}};mc.bN.withoutNormalizing(e,(function(){_c.Q.insertNodes(e,[U],{at:Ws.YD});var t=!0,n=!1,r=void 0;try{for(var o,i=mc.bN.blocks(e).reverse()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){
var a=Ys(o.value,2)[1];mc.C0.isAfter(a,Ws.YD)&&_c.Q.removeNodes(e,{at:a,voids:!0})}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}));var B=null;if(null!=v){_c.Q.selectCommandOption(e,v.optionName);B=v.optionName}else if(null!=g){_c.Q.selectCommandOption(e,g.optionName,!1);B=g.optionName}else _c.Q.resetSelectionToEnd(e);null==g&&$s(e,l);return B}(t,r,n),h=bc.tM(t,f);ef({guildId:r.guild_id,channelId:r.id,command:f,activeOption:p,currentOptionValues:h,previousOptionValues:null,validateAll:!0,allowEmpty:!0});return{commandId:f.id,optionValues:h}}if(null!=f&&!a){et.Po(r.id,null,null);return null}var y=mc.bN.richValue(t)[0],b=y.children[0];if(Xs.has(y.type)&&mc.LC.isText(b)){var m=function(e,t){if(!e.startsWith("/"))return null;var n=(0,K.hV)(t,e.substring(1));if(!n.hasSpaceTerminator)return null;var r=tt.ZP.getQueryCommands(t.id,j.yU.CHAT,n.text);if(null==r)return null;var o=n.text.trim(),i=o+" ";r=r.filter((function(e){
return e.inputType!==Z.iw.PLACEHOLDER&&(e.displayName===o||e.displayName.startsWith(i))}));if(1===r.length&&r[0].displayName===o){var a,l=r[0],u=null===(a=tt.ZP.getApplicationSections(t.id,j.yU.CHAT))||void 0===a?void 0:a.find((function(e){return e.id===l.applicationId}));return{command:l,section:u}}return null}(b.text,r);if(null!=m){et.Po(r.id,m.command,m.section);return null}}}if(null!=f&&null!=c){(function(e,t){if(null==t.options||0===t.options.length)return!1;var n=bc.zb(e,t);if(0===n.length)return!1;mc.bN.withoutNormalizing(e,(function(){for(var t=n.length-1;t>=0;t--){var r=n[t];_c.Q.textToInline(e,{type:"applicationCommandOption",optionName:r.name,optionDisplayName:r.displayName,optionType:r.type,children:[{text:r.text}]},{anchor:r.keyRange.anchor,focus:r.valueRange.focus})}var o=mc.bN.getFirstText(e);if(null==o)return!1;var i=o.text.trim();o.text!==i&&_c.Q.textToText(e,i,{anchor:{path:Ws.u9,offset:0},focus:{path:Ws.u9,offset:o.text.length}})}));return!0})(t,f)||$s(t,f)
;var v,g=bc.tM(t,f),O=mc.bN.above(t,{match:function(e){return mc.bN.isInline(t,e)&&"applicationCommandOption"===e.type},mode:"lowest"}),E=null!==(v=null==O?void 0:O[0].optionName)&&void 0!==v?v:null;ef({guildId:r.guild_id,channelId:r.id,command:f,activeOption:E,currentOptionValues:g,previousOptionValues:l,validateAll:!1,allowEmpty:!1});return{commandId:c.id,optionValues:g}}return null}({editor:e,storeCommandState:a,channel:t,canUseCommands:n,canOnlyUseTextCommands:r,commandChanged:(null===(o=a.activeCommand)||void 0===o?void 0:o.id)!==(null==p?void 0:p.id),previousOptionValues:y})}));if(null!=b){var m=Oc.currentEntry(e);null!=m&&(m.commandId=b.commandId);y=b.optionValues}else y=null;f=mc.bN.richValue(e);d=e.selection;p=a.activeCommand;h=s}}l()};return e}function Js(e,t,n,r){var o=Ys(mc.bN.blocks(e)[0],1)[0],i=(r?(0,Us.sg)(o,{mode:"plain"}).trimEnd():"").split("\n").map((function(e){return{type:"line",children:[{text:e}]}})),a=[i.length-1];_c.Q.insertNodes(e,i,{at:Ws.YD})
;var l=!0,u=!1,c=void 0;try{for(var s,f=mc.bN.blocks(e).reverse()[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=Ys(s.value,2)[1];mc.C0.isAfter(d,a)&&_c.Q.removeNodes(e,{at:d,voids:!0})}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}null!=n&&et.Po(t,null,null)}function $s(e,t){if(null==t.options||1!==t.options.length||!0===t.options[0].required||qs.has(t.options[0].type)||bc.cu(e).length>0)return!1;if(null==bc.cr(e))return!1;var n=mc.bN.getFirstText(e);if(null==n)return!1;var r=t.options[0],o={path:Ws.u9,offset:t.displayName.length+2},i={path:Ws.u9,offset:n.text.length};if(!n.text.startsWith("".concat(q.GI).concat(t.displayName," ").toLocaleLowerCase())||mc.Jz.equals(o,i))return!1;_c.Q.textToInline(e,{type:"applicationCommandOption",optionName:r.name,optionDisplayName:r.displayName,optionType:r.type,children:[{text:n.text.substring(t.displayName.length+2)}]},{anchor:o,focus:i});return!0}function ef(e){
var t=e.guildId,n=e.channelId,r=e.command,o=e.activeOption,i=e.currentOptionValues,a=e.previousOptionValues,l=e.validateAll,u=e.allowEmpty;if(null==r.options)return!1;var c=l?null:O.Z.getActiveOptionName(n),s={},f=O.Z.getOptionStates(n),d=!1,p=!0,h=!1,y=void 0;try{for(var b,m=r.options[Symbol.iterator]();!(p=(b=m.next()).done);p=!0){var v,g,E,C=b.value,S=f[C.name],j=l||C.name===c&&c!==o||!1===(null==S||null===(v=S.lastValidationResult)||void 0===v?void 0:v.success)&&(null==i?void 0:i[C.name])!==(null==a?void 0:a[C.name]),_={hasValue:null!=i&&C.name in i,isActive:C.name===o,lastValidationResult:j?(0,Vs.f)(C,null!==(E=null==i?void 0:i[C.name])&&void 0!==E?E:null,t,n,u):null==S?void 0:S.lastValidationResult};if(null==S||S.hasValue!==_.hasValue||S.isActive!==_.isActive||j&&!1===(null===(g=S.lastValidationResult)||void 0===g?void 0:g.success)){s[C.name]=_;d=!0}}}catch(e){h=!0;y=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw y}}d&&et.g7(n,s)}function tf(e){var t=bc.cr(e)
;if(null==t)return{command:null,commandText:null};var n=Ys(t,1)[0],r=n.children[0];return mc.LC.isText(r)?{command:n.command,commandText:r.text}:{command:n.command,commandText:null}}function nf(e,t){var n=bc.cu(e)[0];t();var r=mc.M8.toPoint(e.selection);if(null!=r&&n!==bc.cu(e)[0]){var o=tf(e),i=o.command,a=o.commandText;null!=i&&null!=a&&!a.endsWith(" ")&&mc.Jz.equals(r,{path:Ws.u9,offset:i.displayName.length+1})&&_c.Q.insertText(e," ")}}function rf(e,t,n){var r,o,i,a,l=null===(r=e.activeCommand)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.find((function(e){return e.name===n})),u=e.initialValues[n];if(null==l||null==u)return null;if(null!=l.choices){var c;return null===(c=l.choices.find((function(e){return e.value===u.value})))||void 0===c?void 0:c.displayName}var s=null===(i=u.value)||void 0===i?void 0:i.toString()
;return l.type===j.jw.CHANNEL||l.type===j.jw.MENTIONABLE&&null!=St.Z.getChannel(s)?"<#".concat(s,">\t"):l.type===j.jw.USER||l.type===j.jw.MENTIONABLE&&null!=Oe.default.getUser(s)?"<@".concat(s,">"):l.type===j.jw.ROLE||l.type===j.jw.MENTIONABLE&&null!=(null===(a=ve.Z.getGuild(t.guild_id))||void 0===a?void 0:a.getRole(null!=s?s:""))?"<@&".concat(s,">"):s}var of=n(120637),af=n(5387),lf=n.n(af),uf=n(455049);function cf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||df(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ff(e){return function(e){if(Array.isArray(e))return cf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||df(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function df(e,t){if(e){if("string"==typeof e)return cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cf(e,t):void 0}}var pf=new Set(["line"]),hf=of.Z.listLanguages(),yf={},bf=!0,mf=!1,vf=void 0;try{for(var gf,Of=hf[Symbol.iterator]();!(bf=(gf=Of.next()).done);bf=!0){var Ef=gf.value
;Ef=Ef.toLowerCase();var Cf=of.Z.getLanguage(Ef);if(null!=Cf){var Sf=Cf.aliases;yf[Ef]=Ef;if(null!=Sf){var jf=!0,_f=!1,If=void 0;try{for(var wf,Pf=Sf[Symbol.iterator]();!(jf=(wf=Pf.next()).done);jf=!0){var xf=wf.value;yf[xf.toLowerCase()]=Ef}}catch(e){_f=!0;If=e}finally{try{jf||null==Pf.return||Pf.return()}finally{if(_f)throw If}}}}}}catch(e){mf=!0;vf=e}finally{try{bf||null==Of.return||Of.return()}finally{if(mf)throw vf}}var Af=/^[a-z0-9_+\-.#]+$/,Tf=/^[a-z0-9_+\-.#]+$/i;for(var Nf in yf)if(null==Nf.match(Af))throw new Error("Language name does not match regex: ".concat(Nf));function Mf(e){var t=e.onChange,n=null;e.onChange=function(){if(mc.bN.richValue(e)!==n){Oc.withMergedEntry(e,(function(){mc.bN.withoutNormalizing(e,(function(){return function(e){var t=function(e){var t=[],n=null,r=!0,o=!1,i=void 0;try{for(var a,l=mc.bN.blocks(e)[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){
n=Lf(e,a.value,null!=n&&(n.isInCodeBlock||n.opensCodeBlock),null!=n&&(n.isStyledCodeBlockLine||n.opensCodeBlockOnOwnLine),null==n||!n.opensCodeBlock&&n.closesCodeBlock?null:n.lang);t.push(n)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}!function(e){var t=[],n=!1,r=!0,o=!1,i=void 0;try{for(var a,l=function(){var r=a.value,o=r===e[e.length-1];if(r.closesCodeBlock||o){n&&o&&!r.closesCodeBlock&&t.push(r);n=!1;if(t.length>0){var i=t.map((function(e){return(0,Us.sg)(e.blockEntry[0])})).join("\n"),l=t[0].lang;if(null!=l&&null!=of.Z.getLanguage(l)){var u=function(e,t){var n="".concat(e,"-").concat(t),r=kf.get(n);if(null!=r)return r;var o=uf.default.highlight(t,e);if(null==o)return null;var i=o.value.split("\n");kf.set(n,i);return i}(i,l);if(null!=u)for(var c=[],s=0;s<t.length;s++){for(var f=u[s].replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'"),d=[],p=void 0,h=0,y=0;null!=(p=Zf.exec(f));){
var b=p.index+p[0].length,m=p.index-y;if(p.index>y){c.length>0&&d.push({types:ff(c),start:h,end:h+m});h+=m}"</span>"===p[0]?c.pop():c.push(p[1]);y=b}if(c.length>0){var v=f.length-y;d.push({types:ff(c),start:h,end:h+v})}t[s].hljsTypes=d}}t=[]}}n&&t.push(r);r.opensCodeBlock&&(n=!0)},u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)l()}catch(e){o=!0;i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}(t);return t}(e);!function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value,u=sf(l.blockEntry,2),c=u[0],s=u[1],f=Rf(l);(null==c?void 0:c.codeBlockState)!=f&&_c.Q.setNodes(e,{codeBlockState:f},{at:s})}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}(e,t)}(e)}))}));n=mc.bN.richValue(e)}t()};return e}var Zf=/(?:<span class="([^"]*)">)|(?:<\/span>)/g;function Lf(e,t,n,r,o){var i=function(e){var t=sf(e,2),n=t[0],r=t[1];if(!pf.has(n.type))return[]
;for(var o,i=[],a=/\\|```/g,l=0;l<n.children.length;l++){var u=n.children[l];if(mc.LC.isText(u)){a.lastIndex=0;for(;null!=(o=a.exec(u.text));)"\\"!==o[0]?i.push({path:mc.C0.child(r,l),offset:o.index}):a.lastIndex+=1}}return i}(t),a=i[0],l=i[i.length-1],u=null;if(null!=l){u=sf(mc.bN.node(e,l.path),1)[0].text.substring(l.offset+3)}var c,s=n&&null!=a,f=n&&0===i.length,d=r&&0===i.length,p=(s?i.slice(1):i).length%2==1,h=p&&(null==u||""===u||null!=u.match(Tf)),y=h&&null!=u&&null!==(c=yf[u.toLowerCase()])&&void 0!==c?c:null;return{blockEntry:t,wasInCodeBlock:n,isInCodeBlock:f,isStyledCodeBlockLine:d,lang:p||s?y:o,hljsTypes:null,closesCodeBlock:s,opensCodeBlock:p,opensCodeBlockOnOwnLine:h}}function Rf(e){return e.isStyledCodeBlockLine||e.wasInCodeBlock?{lang:e.lang,wasInCodeBlock:e.wasInCodeBlock,isInCodeBlock:e.isInCodeBlock,isStyledCodeBlockLine:e.isStyledCodeBlockLine,hljsTypes:e.hljsTypes}:null}var Df={max:1/0,maxAge:6e4,updateAgeOnGet:!0},kf=new(lf())(Df);function Uf(e,t){
var n=0,r=!0,o=!1,i=void 0;try{for(var a,l=mc.bN.nodes(e,{at:{anchor:{path:Ws.u9,offset:0},focus:t},mode:"lowest",match:function(e){return mc.LC.isText(e)}})[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value,c=u[0].text;mc.C0.equals(u[1],t.path)&&(c=c.substring(0,t.offset));var s,f=c.match(/```/g);n+=null!==(s=null==f?void 0:f.length)&&void 0!==s?s:0}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n%2!=0}function Bf(e){return null!=e.selection&&Uf(e,mc.M8.start(e.selection))}function Ff(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()
}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ff(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ff(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Hf=new Set(["line","blockQuote"]);function Vf(e){var t=e.deleteBackward,n=e.deleteFragment,r=e.insertBreak,o=e.onChange;e.deleteBackward=function(n){var r=mc.bN.getCurrentBlock(e);if("blockQuote"===(null==r?void 0:r[0].type)){var o=mc.M8.toPoint(e.selection);if(null!=o&&mc.C0.isFirstChild(r[1],o.path)&&0===o.offset){_c.Q.setNodes(e,{type:"line"},{at:r[1]});return}}t(n)};e.deleteFragment=function(t){if(null==e.selection)n(t);else{
var r=Gf(mc.M8.edges(e.selection),2),o=r[0],i=r[1],a=[o.path[0]],l=mc.bN.node(e,a),u=[i.path[0]],c=mc.C0.equals(a,u)?null:mc.bN.node(e,u);Oc.withSingleEntry(e,(function(){"blockQuote"===(null==l?void 0:l[0].type)&&mc.Jz.isAtStart(o,l)&&_c.Q.setNodes(e,{type:"line"},{at:a});"blockQuote"===(null==c?void 0:c[0].type)&&mc.Jz.isAtEnd(i,c)&&_c.Q.setNodes(e,{type:"line"},{at:u});n(t)}))}};e.insertBreak=function(){var t=mc.bN.getCurrentBlock(e);if("blockQuote"!==(null==t?void 0:t[0].type))r();else{var n=mc.M8.toPoint(e.selection);if(null==n)return;(function(e,t,n){if(!mc.bN.isEmpty(e,t[0]))return!1;var r=mc.bN.previous(e,{at:t[1]});if(null==r||!mc.aj.isType(r[0],"blockQuote")||!mc.bN.isEmpty(e,r[0]))return!1;if(!mc.Jz.isAtStart(n,t))return!1;_c.Q.setNodes(e,{type:"line"},{at:t[1]});_c.Q.removeNodes(e,{at:r[1]});return!0})(e,t,n)||_c.Q.splitNodes(e,{at:n,always:!0})}};var i=null,a=!0;e.onChange=function(){var t=mc.bN.richValue(e);if(t!==i||e.previewMarkdown!==a){
Oc.withMergedEntry(e,(function(){mc.bN.withoutNormalizing(e,(function(){return function(e){var t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=mc.bN.blocks(e)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=Gf(i.value,2),u=l[0],c=l[1];if(Hf.has(u.type)){var s={path:mc.C0.child(c,0),offset:0};if(Uf(e,s)){if("blockQuote"===u.type){_c.Q.setNodes(e,{type:"line"},{at:c});_c.Q.insertText(e,"> ",{at:s})}}else if("blockQuote"!==u.type&&!mc.bN.areStylesDisabled(e)){var f=u.children[0];if(mc.LC.isText(f)){var d=f.text.match(/^\s*>>> /),p=f.text.match(/^\s*> /);if(null!=p||null!=d||t){_c.Q.setNodes(e,{type:"blockQuote"},{at:c});if(!t){var h,y,b=null!==(y=null!==(h=null==p?void 0:p[0].length)&&void 0!==h?h:null==d?void 0:d[0].length)&&void 0!==y?y:0,m=mc.C0.child(c,0);_c.Q.delete(e,{at:{anchor:{path:m,offset:0},focus:{path:m,offset:b}}});t=null!=d}}}}}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}(e)}))}));i=t;a=e.previewMarkdown}o()};return e}
var Wf=["applicationCommand"];function zf(e){var t=mc.bN.getCurrentBlock(e);return null!=t&&!Wf.includes(t[0].type)}function Yf(e,t){var n=function(n){var r=Oc.currentEntry(e);null!=r&&(r.mergeable=!1);if(!(n>=e.history.stack.length)){e.history.index=n;var o=Oc.currentEntry(e);t({newValue:o.value,newSelection:o.selection})}},r=e.apply,o=e.deleteBackward,i=e.deleteForward,a=e.deleteFragment,l=e.insertData,u=e.insertText,c=e.onChange;e.history={index:0,stack:[]};e.onChange=function(){var t=e.history;if(0===t.stack.length){t.stack=[Kf(e)];t.index=0}null!=e.selection&&(Oc.currentEntry(e).selection=e.selection);f=null;c()};e.undo=function(){e.history.index>0&&n(e.history.index-1)};e.redo=function(){e.history.index<e.history.stack.length-1&&n(e.history.index+1)};var s=null,f=null,d=null;e.apply=function(t){var n=e.history;r(t);var o=mc.bN.richValue(e);if(o!==d){if(0===n.stack.length){n.stack=[Kf(e)];n.index=0}if(Oc.isSaving(e)){!function(e,t,n){
var r,o=e.selection,i=Oc.currentEntry(e),a=!0,l=!0;if("insert_text"===t.type&&1===t.text.length){r="insert";l=!((""===t.text||t.text.endsWith(" "))&&"insert_text"===(null==n?void 0:n.type)&&(""!==n.text||!n.text.endsWith(" ")))}else if("split_node"===t.type)r="insert";else if("remove_text"===t.type&&1===t.text.length)r="delete";else{r="other";a=!1;l=!1}if("set_selection"===t.type&&null!=i){i.selection=o;return}!a||(u=i,c=r,(null==u?void 0:u.type)!==c||Date.now()-u.createdAt>=4e3)?Oc.insertEntry(e,r,l):Oc.insertOrMergeEntry(e,r,l);var u,c}(e,t,s);s=t}f=t;d=o}};e.deleteBackward=function(t){Oc.withSingleEntry(e,(function(){return o(t)}))};e.deleteForward=function(t){Oc.withSingleEntry(e,(function(){return i(t)}))};e.deleteFragment=function(t){Oc.withSingleEntry(e,(function(){return a(t)}))};e.insertText=function(t){1===t.length&&"remove_text"===(null==f?void 0:f.type)?Oc.withMergedEntry(e,(function(){return u(t)
})):null!=e.selection&&mc.M8.isExpanded(e.selection)?Oc.withSingleEntry(e,(function(){return u(t)})):u(t)};e.insertData=function(t){"remove_text"===(null==f?void 0:f.type)?Oc.withMergedEntry(e,(function(){return l(t)})):Oc.withSingleEntry(e,(function(){return l(t)}))};return e}function Kf(e){return{type:"other",mergeable:!1,createdAt:Date.now(),value:mc.bN.richValue(e),selection:e.selection}}var qf=n(506907),Xf=n.n(qf);function Qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qf(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $f=new Set(["*","_","~","`","|"]),ed={bold:"**",italics:"*",underline:"__",strikethrough:"~~",inlineCode:"`",spoiler:"||"};function td(e,t,n){if(null==e.selection)return{before:{},after:{}};var r=nd(e,t),o=nd(e,n);for(var i in r)i in o||delete r[i];for(var a in o)a in r||delete o[a];return{before:r,after:o}}function nd(e,t){var n=Jf(mc.bN.node(e,t.path),1)[0];if(!mc.LC.isText(n))return{};for(var r=n.text,o=t.offset,i=o-1;i>=0&&$f.has(r.charAt(i));i--)o--;for(var a=t.offset,l=a;l<r.length&&$f.has(r.charAt(l));l++)a++;var u=r.substring(o,a),c={};od({result:c,text:u,
startIndex:o,syntax:"***",type1:"italics",type2:"bold"});od({result:c,text:u,startIndex:o,syntax:"___",type1:"italics",type2:"underline"});rd(c,u,o,"**","bold");rd(c,u,o,"*","italics");rd(c,u,o,"_","italics");rd(c,u,o,"__","underline");rd(c,u,o,"`","inlineCode");rd(c,u,o,"~~","strikethrough");rd(c,u,o,"||","spoiler");return c}function rd(e,t,n,r,o){var i=id(t,r);i>=0&&(e[o]={chars:r,location:n+i})}function od(e){var t=e.result,n=e.text,r=e.startIndex,o=e.syntax,i=e.type1,a=e.type2,l=id(n,o);if(l>=0){t[i]={chars:o.substring(0,1),location:l+r};t[a]={chars:o.substring(1),location:l+r+1}}}function id(e,t){var n=e.indexOf(t);if(n>=0){var r=t.charAt(0);if(n>0&&e.charAt(n-1)===r)return-1;if(n<e.length-1&&e.charAt(n+t.length)===r)return-1}return n}function ad(e,t){Oc.withSingleEntry(e,(function(){mc.bN.withoutNormalizing(e,(function(){s()(null!=e.selection,"Editor has no selection")
;var n=Jf(mc.M8.edges(e.selection),2),r=n[0],o=n[1],i=td(e,r,o),a=i.before[t],l=i.after[t],u=mc.bN.node(e,r.path),c=mc.bN.node(e,o.path);if(null!=u&&null!=c&&mc.LC.isText(u[0])&&mc.LC.isText(c[0])){var f=mc.C0.equals(u[1],c[1]);if(null!=a&&null!=l){var d={path:r.path,offset:a.location},p={path:o.path,offset:l.location};_c.Q.delete(e,{at:p,distance:l.chars.length});_c.Q.delete(e,{at:d,distance:a.chars.length});var h=r.offset,y=o.offset;mc.Jz.isBefore(r,d)||(h-=a.chars.length);f&&!mc.Jz.isBefore(o,d)&&(y-=a.chars.length);mc.Jz.isAfter(o,p)&&(y-=l.chars.length);_c.Q.select(e,{anchor:{path:r.path,offset:Math.max(0,h)},focus:{path:o.path,offset:Math.max(0,y)}})}else{var b=ed[t];_c.Q.insertText(e,b,{at:o});_c.Q.insertText(e,b,{at:r});var m=u[0].text.length+b.length,v=c[0].text.length+(f?2*b.length:b.length);_c.Q.select(e,{anchor:{path:r.path,offset:Math.min(m,r.offset+b.length)},focus:{path:o.path,offset:Math.min(v,o.offset+(f?b.length:0))}})}}}))}));mc.bN.focus(e)}function ld(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ld(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ld(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cd="  ";function sd(e,t){
var n=t.cmd,r=void 0!==n&&n,o=t.ctrl,i=void 0!==o&&o,a=t.alt,l=void 0!==a&&a,u=t.shift,c=void 0!==u&&u;return!(null!=r&&e.metaKey!==r||null!=i&&e.ctrlKey!==i||null!=l&&e.altKey!==l||null!=c&&e.shiftKey!==c)}var fd=n(99885);function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||yd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hd(e){return function(e){if(Array.isArray(e))return dd(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(e,t){if(e){if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dd(e,t):void 0}}var bd=/(@[^@#]+(?:#0|#\d{4}))|(@[^\s\t@#:]+)(?=[\s\t@:])|(:[a-zA-Z0-9_~]+:)|(#"(?:\ |\\\\|\\"|(?!")\w)+")|(#[^\s\t@#:]+(?=[\s\t@#:]))/g,md=new Set(["emoji","customEmoji","textMention","userMention","roleMention","channelMention","staticRouteLink","timestamp"]),vd=new Set(["line","blockQuote"]),gd=new Set(["applicationCommandOption"]);function Od(e,t,n){var r=mc.bN.areStylesDisabled(e),o=mc.bN.blocks(e),i=!0,a=!1,l=void 0
;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;if(vd.has(s[0].type))r?Cd(e,s,!0,null):Ed(e,s,t,n);else for(var f=pd(s,2),d=f[0],p=f[1],h=d.children.length-1;h>=0;h--){var y=d.children[h];if(gd.has(y.type)){var b=[y,mc.C0.child(p,h)];r?Cd(e,b,!0,null):Ed(e,b,t,n)}}}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}}function Ed(e,t,n,r){var o,i="line"===t[0].type&&!0===(null===(o=t[0].codeBlockState)||void 0===o?void 0:o.isInCodeBlock),a=mc.q.markdown(t[0],n);if(Cd(e,t,i,a)){t=mc.q.updateElement(e,t);a=mc.q.markdown(t[0],n)}if(!i){if(Sd(e,t,r,a)){t=mc.q.updateElement(e,t);a=mc.q.markdown(t[0],n)}!function(e,t,n,r,o){for(var i=pd(t,2),a=i[0],l=i[1],u=!1,c=a.children.length-1;c>=0;c--){var s=a.children[c];if(mc.LC.isText(s)){var f=mc.C0.child(l,c),d=[];bd.lastIndex=0;for(var p=void 0;null!=(p=bd.exec(s.text));)if(0===p.index||null!=s.text.charAt(p.index-1).match(/(\t|\s)/)){if(!_d(e,l,{path:f,offset:p.index},o)){var h=(0,
fd.i)(p[0],n,r);null!=h&&Id(r,t[0],h)?d.push({index:p.index,length:p[0].length,node:h}):bd.lastIndex=p.index+1}}else bd.lastIndex=p.index+1;var y=!0,b=!1,m=void 0;try{for(var v,g=d.reverse()[Symbol.iterator]();!(y=(v=g.next()).done);y=!0){var O=v.value;jd(e,[s,mc.C0.child(l,c)],O.index,O.length,O.node);u=!0}}catch(e){b=!0;m=e}finally{try{y||null==g.return||g.return()}finally{if(b)throw m}}}}}(e,t,n,r,a)}}function Cd(e,t,n,r){for(var o=pd(t,2),i=o[0],a=o[1],l=!1,u=i.children.length-1;u>=0;u--){var c=i.children[u],s=u<i.children.length-1?i.children[u+1]:null;if(mc.LC.isText(c)&&!n){if(null==s||!e.isVoid(s))continue;for(var f=!1,d=0;;){var p=c.text.indexOf("\\",d);if(-1===p)break;if(p===c.text.length-1){f=!0;break}d=p+2}if(f){var h=mc.C0.child(a,u+1);_c.Q.voidToText(e,(0,Us.sg)(s,{mode:"plain",preventEmojiSurrogates:!0}),h);l=!0}}else if(e.isVoid(c)){var y=mc.C0.child(a,u),b={path:mc.C0.child(y,0),offset:0};if(n||null!=r&&_d(e,a,b,r)){_c.Q.voidToText(e,(0,Us.sg)(c,{mode:"plain",
preventEmojiSurrogates:!0}),y);l=!0}}}return l}function Sd(e,t,n,r){var o=t[1],i=!1,a=hd(r.entries).reverse(),l=!0,u=!1,c=void 0;try{for(var s,f=a[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value,p=void 0;switch(d.attributes[0]){case"emoji":p={type:"emoji",emoji:{name:d.data.name,src:d.data.src,surrogate:d.data.surrogate,jumboable:!0===d.data.jumboable},children:[{text:""}]};break;case"customEmoji":p={type:"customEmoji",emoji:{emojiId:d.data.emojiId,name:d.data.name,animated:d.data.animated,jumboable:!0===d.data.jumboable},children:[{text:""}]};break;case"textMention":p={type:"textMention",name:d.data.text,children:[{text:""}]};break;case"mention":p={type:"userMention",userId:d.data.id,children:[{text:""}]};break;case"roleMention":p={type:"roleMention",roleId:d.data.id,children:[{text:""}]};break;case"channelMention":p={type:"channelMention",channelId:d.data.id,children:[{text:""}]};break;case"staticRouteLink":p={type:"staticRouteLink",channelId:d.data.id,children:[{
text:""}]};break;case"timestamp":p={type:"timestamp",parsed:d.data,children:[{text:""}]};break;default:continue}if(Id(n,t[0],p)){var h=Ic(e,o,r.serializedChildren,d.start),y=Ic(e,o,r.serializedChildren,d.start+d.text.length);_c.Q.textToVoid(e,p,{anchor:h,focus:y});i=!0}}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}return i}function jd(e,t,n,r,o){var i=pd(t,2),a=i[0],l=i[1],u={path:l,offset:n},c={path:l,offset:n+r};s()(u.offset>=0&&u.offset<=a.text.length,"Failed to find valid start position for raw mention replace");s()(c.offset>=0&&c.offset<=a.text.length,"Failed to find valid end position for raw mention replace");_c.Q.textToVoid(e,o,{anchor:u,focus:c})}function _d(e,t,n,r){var o=0,i=!0,a=!1,l=void 0;try{for(var u,c=mc.bN.nodes(e,{at:{anchor:mc.bN.start(e,t),focus:n},mode:"lowest"})[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=pd(u.value,2),f=s[0],d=s[1];mc.LC.isText(f)?mc.C0.equals(d,n.path)?o+=n.offset:o+=f.text.length:o+=1}}catch(e){
a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}var p=!0,h=!1,y=void 0;try{for(var b,m=r.entries[Symbol.iterator]();!(p=(b=m.next()).done);p=!0){var v=b.value;if(v.attributes.includes("codeBlockText")||v.attributes.includes("inlineCode")){var g=v.start,O=v.start+v.text.length;if(g<=o&&O>=o)return!0}}}catch(e){h=!0;y=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw y}}return!1}function Id(e,t,n){if("applicationCommandOption"!==t.type)return!0;switch(t.optionType){case j.jw.CHANNEL:return"channelMention"===n.type;case j.jw.ROLE:return"roleMention"===n.type||"textMention"===n.type&&"@everyone"===n.name;case j.jw.USER:return"userMention"===n.type;case j.jw.MENTIONABLE:return"roleMention"===n.type||"userMention"===n.type||"textMention"===n.type&&"@everyone"===n.name;case j.jw.STRING:var r=null!=e?O.Z.getOption(e,t.optionName):null;return null==(null==r?void 0:r.choices)&&!0!==(null==r?void 0:r.autocomplete);default:return!1}}function wd(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pd(e,t,n[t])}))}return e}function Ad(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function Td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nd=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Md(e,t,n){
var r=mc.bN.getCurrentInline(e),o=mc.bN.getCurrentBlock(e),i=mc.M8.toPoint(e.selection);if(null==i||null==o)return!0;if("block"===t)return!0;if("line"===t&&null==r)return!1;var a=r;if(null==a){var l=(n?mc.bN.before:mc.bN.after)(e,i);null!=l&&null!=(a=mc.bN.getParentInline(e,l))&&(i=l)}if(null!=a){var u=Td(a,2),c=u[0],s=u[1];if(mc.bN.isEmpty(e,c)||mc.bN.isVoid(e,c))_c.Q.removeInline(e,s);else{var f=Td(mc.bN.edges(e,s),2),d=f[0],p=f[1];_c.Q.delete(e,{at:i,unit:t,reverse:n,select:!0,bounds:{anchor:d,focus:p}})}return!0}var h=!1;if(null!=o){var y=Td(o,2)[1],b=Td(mc.bN.edges(e,y),2),m=b[0],v=b[1];h=n&&mc.Jz.equals(i,m)||!n&&mc.Jz.equals(i,v)}if("word"===t&&!h){var g=mc.bN.getCurrentText(e);if(null!=g){var O=Td(g,2)[1],E=Td(mc.bN.edges(e,O),2),C=E[0],S=E[1];_c.Q.delete(e,{at:i,unit:t,reverse:n,select:!0,bounds:{anchor:C,focus:S}});return!0}}_c.Q.delete(e,{at:i,unit:t,reverse:n,select:!0});return!0}var Zd=Gs.ML.positions;function Ld(e){
var t,n,r,o,i,a,l,u,c,s,f,d,p,h,y,b,m,v,g,O,E,C,S,j,_,I,w,P,x,A,T,N,M,Z,L,R,D,k,U,B,F,G,H,V,W,z,Y,K,q,X,Q,J=arguments;return Nd(this,(function($){switch($.label){case 0:t=J.length>1&&void 0!==J[1]?J[1]:{};i=(o=null!=t?t:{}).at,a=void 0===i?e.selection:i,l=o.unit,u=void 0===l?"offset":l,c=o.reverse,s=void 0!==c&&c,f=o.voids,d=void 0!==f&&f;if("word"===u)return[3,9];p=!0,h=!1,y=void 0;$.label=1;case 1:$.trys.push([1,6,7,8]);b=Zd(e,Ad(xd({},t),{voids:d||"block"===u}))[Symbol.iterator]();$.label=2;case 2:return(p=(m=b.next()).done)?[3,5]:[4,m.value];case 3:$.sent();$.label=4;case 4:p=!0;return[3,2];case 5:return[3,8];case 6:Q=$.sent();h=!0;y=Q;return[3,8];case 7:try{p||null==b.return||b.return()}finally{if(h)throw y}return[7];case 8:return[2];case 9:if(null==a)return[2];v=mc.bN.range(e,a);g=Td(mc.M8.edges(v),2),O=g[0],E=g[1];C=mc.bN.richValue(e);S=s?-1:1;_=null!==(j=null===(n=O.path)||void 0===n?void 0:n[0])&&void 0!==j?j:0
;w=null!==(I=null===(r=E.path)||void 0===r?void 0:r[0])&&void 0!==I?I:C.length-1;P=s?_:w;x=s?w:_;$.label=10;case 10:0;N=C[x];Z=null!==(M=x===_?null===(A=O.path)||void 0===A?void 0:A[1]:null)&&void 0!==M?M:0;R=null!==(L=x===w?null===(T=E.path)||void 0===T?void 0:T[1]:null)&&void 0!==L?L:N.children.length-1;D=s?Z:R;k=s?R:Z;$.label=11;case 11:0;U=N.children[k];B=[x,k];F=mc.C0.equals(B,O.path)||mc.C0.isAncestor(B,O.path)?!s&&mc.bN.isEnd(e,O,B)?null:O:mc.bN.start(e,B);G=mc.C0.equals(B,E.path)||mc.C0.isAncestor(B,E.path)?s&&mc.bN.isStart(e,E,B)?null:E:mc.bN.end(e,B);return null==F||null==G?[3,25]:mc.LC.isText(U)&&0===U.text.length?[4,H={path:B,offset:0}]:[3,14];case 12:$.sent();return[4,H];case 13:$.sent();return[3,25];case 14:return mc.bN.isInline(e,U)&&mc.LC.isText(U.children[0])&&0===U.children[0].text.length?[4,V={path:mc.C0.child(B,0),offset:0}]:[3,17];case 15:$.sent();return[4,V];case 16:$.sent();return[3,25];case 17:W={anchor:F,focus:G};z=!0,Y=!1,K=void 0;$.label=18;case 18:
$.trys.push([18,23,24,25]);q=Zd(e,Ad(xd({},t),{at:W}))[Symbol.iterator]();$.label=19;case 19:return(z=(X=q.next()).done)?[3,22]:[4,X.value];case 20:$.sent();$.label=21;case 21:z=!0;return[3,19];case 22:return[3,25];case 23:Q=$.sent();Y=!0;K=Q;return[3,25];case 24:try{z||null==q.return||q.return()}finally{if(Y)throw K}return[7];case 25:if(k===D)return[3,26];k+=S;return[3,11];case 26:if(x===P)return[3,27];x+=S;return[3,10];case 27:return[2]}}))}function Rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kd(e){var t=e.apply,n=e.onChange;e.apply=function(n){t(n);mc.Ew.isValid(e,e.selection)&&(e.lastGoodSelection=e.selection)};e.onChange=function(){mc.Ew.isValid(e,e.selection)||(e.selection=function(e){var t;if(mc.Ew.isValid(e,e.lastGoodSelection)){t=e.lastGoodSelection;0}else{var n=mc.bN.end(e,[]);t={anchor:n,focus:n};0}return t}(e));if(null!=e.selection){for(var t,r,o=Dd(mc.M8.edges(e.selection),2),i=o[0],a=o[1],l=!1;null!=i&&null!=(t=mc.bN.getParentVoid(e,i))&&!Ws.On.includes(t[0].type);){i=mc.bN.before(e,i,{unit:"offset"});l=!0
}for(;null!=a&&null!=(r=mc.bN.getParentVoid(e,a))&&!Ws.On.includes(r[0].type);){a=mc.bN.after(e,a,{unit:"offset"});l=!0}l&&null!=i&&null!=a&&(mc.M8.isForward(e.selection)?_c.Q.select(e,{anchor:i,focus:a}):_c.Q.select(e,{anchor:a,focus:i}))}n()};return e}function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fd(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gd(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ud(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hd(e){var t=o.useContext(nn.ZP),n=Nr.R$.useSetting(),r=Gd(o.useState((function(){var r=(0,Gs.Jh)();r.children=(0,Cn.JM)("");r.selection={anchor:Ws.nO,
focus:Ws.nO};!function(e){var t,n,r,o=e.editor,i=e.chatInputType,a=e.channel,l=e.canUseCommands,c=e.canOnlyUseTextCommands,f=e.windowContext,d=e.previewMarkdown,p=e.forTests,h=e.onChangeStart,y=e.onChangeEnd,b=e.updateState,m=o,v=m.onChange;m.chatInputType=i;m.windowContext=f;m.previewMarkdown=d;m.composition=null;m.events=new(u());m.isMac="MacIntel"===navigator.platform;m.onChange=function(){m.events.emit("onChange");v()};m=function(e){var t=e.apply,n=e.deleteBackward,r=e.deleteForward,o=e.deleteFragment,i=e.insertText;e.apply=function(n){var r;if("set_selection"===n.type&&(null===(r=e.composition)||void 0===r?void 0:r.startedInsideInline)&&mc.M8.isRange(n.properties)&&mc.M8.isRange(n.newProperties)&&mc.M8.isCollapsed(n.newProperties)){var o=mc.bN.getParentInline(e,n.properties),i=mc.bN.getParentInline(e,n.newProperties);if(null!=o&&(null==i||!mc.C0.equals(o[1],i[1])))return}t(n)};e.insertText=function(t){null==e.selection||null==mc.bN.getCurrentInline(e)?i(t):_c.Q.insertText(e,t)}
;e.deleteBackward=function(t){Md(e,t,!0)||n(t)};e.deleteForward=function(t){Md(e,t,!1)||r(t)};e.deleteFragment=function(t){if(null!=e.selection&&mc.M8.isExpanded(e.selection)){var n=e.selection.anchor,r=e.selection.focus,i=mc.bN.getParentInline(e,n),a=mc.bN.getParentInline(e,r);if(null!=i&&null!=a&&mc.C0.equals(i[1],a[1])){o(t);return}var l=mc.M8.isForward(e.selection);if(null!=i){var u=Td(i,2)[1],c=Td(mc.bN.edges(e,u),2),s=c[0],f=c[1];if(l&&mc.Jz.equals(n,s)){var d;n=null!==(d=mc.bN.before(e,s))&&void 0!==d?d:mc.bN.start(e,[])}else if(!l&&mc.Jz.equals(n,f)){var p;n=null!==(p=mc.bN.after(e,f))&&void 0!==p?p:mc.bN.end(e,[])}}if(null!=a){var h=Td(a,2)[1],y=Td(mc.bN.edges(e,h),2),b=y[0],m=y[1];if(!l&&mc.Jz.equals(r,b)){var v;r=null!==(v=mc.bN.before(e,b))&&void 0!==v?v:mc.bN.start(e,[])}else if(l&&mc.Jz.equals(r,m)){var g;r=null!==(g=mc.bN.after(e,m))&&void 0!==g?g:mc.bN.end(e,[])}}_c.Q.delete(e,{at:{anchor:n,focus:r},reverse:"backward"===t,select:!0})}else o(t)};Gs.ML.positions=Ld
;return e}(m=function(e,t){var n=e.addMark,r=e.removeMark,o=e.deleteBackward,i=e.deleteForward,a=e.setFragmentData,l=e.insertData,u=e.insertFragmentData,c=e.insertTextData;(e=(0,Cc.BU)(e)).addMark=n;e.removeMark=r;e.setFragmentData=a;e.insertData=l;e.insertFragmentData=u;e.insertTextData=c;e.deleteBackward=function(n){if("line"!==n||t)o(n);else{var r=mc.lP.getLineActionRange(e,!0);null!=r&&_c.Q.delete(e,{at:r})}};e.deleteForward=function(n){if("line"!==n||t)i(n);else{var r=mc.lP.getLineActionRange(e,!1);null!=r&&_c.Q.delete(e,{at:r})}};return e}(m,!0===p));(null===(t=i.commands)||void 0===t?void 0:t.enabled)&&(m=Qs(m,a,!0===l,!0===c));m=function(e,t,n){var r=e.isInline,o=e.isVoid,i=e.onChange;e.isVoid=function(e){return!!md.has(e.type)||o(e)};e.isInline=function(e){return!!md.has(e.type)||r(e)};var a=null,l=!0;e.onChange=function(){var r=mc.bN.richValue(e);if(r!==a||e.previewMarkdown!==l){Oc.withMergedEntry(e,(function(){mc.bN.withoutNormalizing(e,(function(){return Od(e,t,n)}))}));a=r
;l=e.previewMarkdown}i()};return e}(m,a.guild_id,a.id);(null===(n=i.markdown)||void 0===n?void 0:n.disableBlockQuotes)||(m=Vf(m));(null===(r=i.markdown)||void 0===r?void 0:r.disableCodeBlocks)||(m=Mf(m));p&&(m=function(e){var t=e.isInline,n=e.isVoid;e.isInline=function(e){return"testInline"===e.type||"testInlineVoid"===e.type||t(e)};e.isVoid=function(e){return"testInlineVoid"===e.type||n(e)};return e}(m));m=Yf(m=function(e,t,n){var r=e.onChange,o=!1,i=!1;e.onChange=function(){if(o)i=!0;else{o=!0;try{var e=0;do{i=!1;if(e++>=5)break;null==t||t();try{r()}finally{null==n||n()}}while(i)}finally{o=!1}}};return e}(m=kd(m=function(e){var t=e.insertBreak,n=e.insertText;e.insertBreak=function(){zf(e)&&t()};e.insertSoftBreak=function(){e.insertBreak()};e.insertText=function(t){if(t.indexOf("\r")<0&&t.indexOf("\n")<0)n(t);else{var r=t.split(/\r\n|\r|\n/);zf(e)?Oc.withSingleEntry(e,(function(){var t=!1,o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){
var c=l.value;t&&_c.Q.splitNodes(e,{always:!0});n(c);t=!0}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}})):n(r.join(" "))}};return e}(m=function(e){e.setFragmentData=function(t){if(null!=e.selection){var n=(0,Us.sk)(mc.bN.richValue(e),{mode:"plain",range:e.selection,preventEmojiSurrogates:!0});t.setData("text/plain",n)}};e.insertData=function(t){e.insertTextData(t)};e.insertFragmentData=function(e){return!1};e.insertTextData=function(t){var n=t.getData("text/plain");if(0===n.length)return!1;null!=e.selection&&mc.M8.isExpanded(e.selection)&&_c.Q.delete(e,{at:e.selection});e.insertText(n);return!0};return e}(m=function(e){e.onKeyDown=function(t){var n=e.isMac;switch(t.which){case fe.yXg.B:if(!mc.bN.isEditorEmpty(e)&&sd(t,{ctrl:!n,cmd:n})){ad(e,"bold");return!0}break;case fe.yXg.I:if(!mc.bN.isEditorEmpty(e)&&sd(t,{ctrl:!n,cmd:n})){ad(e,"italics");return!0}break;case fe.yXg.U:if(!mc.bN.isEditorEmpty(e)&&sd(t,{ctrl:!n,cmd:n})){ad(e,"underline");return!0
}break;case fe.yXg.S:if(!mc.bN.isEditorEmpty(e)&&sd(t,{ctrl:!n,cmd:n,shift:!0})){ad(e,"strikethrough");return!0}break;case fe.yXg.TAB:if(null!=e.selection&&sd(t,{shift:null})){var r=ud(mc.M8.edges(e.selection),2),o=r[0],i=r[1],a=mc.bN.blocks(e).slice(o.path[0],i.path[0]+1),l=!0,u=!0,c=!1,f=void 0;try{for(var d,p=a[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h,y=ud(d.value,1)[0];if("line"!==y.type||!(null===(h=y.codeBlockState)||void 0===h?void 0:h.isInCodeBlock)){l=!1;break}}}catch(e){c=!0;f=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}if(l){if(!t.shiftKey&&mc.M8.isCollapsed(e.selection)){_c.Q.insertText(e,cd);return!0}var b=!t.shiftKey;Oc.withSingleEntry(e,(function(){var t,n,r,o,i=null!==(r=null===(t=e.selection)||void 0===t?void 0:t.anchor)&&void 0!==r?r:mc.bN.start(e,[]),l=null!==(o=null===(n=e.selection)||void 0===n?void 0:n.focus)&&void 0!==o?o:mc.bN.end(e,[]),u=!0,c=!1,s=void 0;try{for(var f,d=a[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){
var p=ud(f.value,2),h=p[0],y=p[1],m=h.children[0];if(mc.LC.isText(h.children[0])){var v=mc.C0.child(y,0),g={path:v,offset:0};if(b){_c.Q.insertText(e,cd,{at:g});mc.C0.equals(i.path,v)&&0!==i.offset&&(i={path:v,offset:i.offset+cd.length});mc.C0.equals(l.path,v)&&0!==l.offset&&(l={path:v,offset:l.offset+cd.length})}else if(m.text.startsWith(cd)){var O={path:mc.C0.child(y,0),offset:cd.length};_c.Q.delete(e,{at:{anchor:g,focus:O}});mc.C0.equals(i.path,v)&&(i={path:v,offset:Math.max(0,i.offset-cd.length)});mc.C0.equals(l.path,v)&&(l={path:v,offset:Math.max(0,l.offset-cd.length)})}}}}catch(e){c=!0;s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}_c.Q.select(e,{anchor:i,focus:l})}));return!0}}break;case fe.yXg.ARROW_LEFT:case fe.yXg.ARROW_RIGHT:var m,v,g,O,E;if(sd(t,{shift:null}))g="character";else{if(!sd(t,{ctrl:!n,alt:n,shift:null}))return n&&sd(t,{cmd:!0,shift:null}),!1;g="word"}t.shiftKey&&(O="focus")
;var C=e.children[null!==(E=null===(m=e.selection)||void 0===m||null===(v=m.focus)||void 0===v?void 0:v.path[0])&&void 0!==E?E:0],S="rtl"===Xf()(mc.aj.string(C)),j=t.which===fe.yXg.ARROW_LEFT==!S;_c.Q.keyboardMove(e,{reverse:j,unit:g,edge:O});return!0;case fe.yXg.A:if(n&&sd(t,{ctrl:!0})){var _=mc.bN.getCurrentBlock(e);if(null!=_){var I=ud(_,2)[1],w={path:mc.C0.child(I,0),offset:0};_c.Q.select(e,{anchor:w,focus:w});return!0}}break;case fe.yXg.E:if(n&&sd(t,{ctrl:!0})){var P=mc.bN.getCurrentBlock(e);if(null!=P){var x=ud(P,2),A=x[0],T=x[1],N=mc.C0.child(T,A.children.length-1),M={path:N,offset:ud(mc.bN.node(e,N),1)[0].text.length};_c.Q.select(e,{anchor:M,focus:M});return!0}}break;case fe.yXg.BACKSPACE:case fe.yXg.DELETE:case fe.yXg.K:var Z=t.which===fe.yXg.BACKSPACE;if((!n&&t.which!==fe.yXg.K&&sd(t,{ctrl:!0,shift:!0})||n&&t.which!==fe.yXg.K&&sd(t,{cmd:!0})||n&&t.which===fe.yXg.K&&sd(t,{ctrl:!0}))&&null!=e.selection){
var L=ud(mc.M8.edges(e.selection),2),R=L[0],D=L[1],k=ud(mc.bN.node(e,[Z?R.path[0]:D.path[0]]),2),U=k[0],B=k[1];s()(mc.q.isElement(U)&&mc.bN.isBlock(e,U),"Top-most node of selection is not a block");if(Z&&!mc.Jz.isAtStart(R,[U,B])||!Z&&!mc.Jz.isAtEnd(D,[U,B])){Z?e.deleteBackward("line"):e.deleteForward("line");return!0}}}return!1};return e}(m)))),h,y),(function(e){var t=e.newValue,n=e.newSelection;return b(m,"undo",{value:t,selection:n})}));0}(Fd(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bd(e,t,n[t])}))}return e}({},e),{editor:r,windowContext:t,previewMarkdown:n}));return r})),1),i=r[0];o.useEffect((function(){var e=function(){return i.onChange()};O.Z.addChangeListener(e);tt.ZP.addChangeListener(e);return function(){
O.Z.removeChangeListener(e);tt.ZP.removeChangeListener(e)}}),[i]);o.useEffect((function(){if(i.previewMarkdown!==n){i.previewMarkdown=n;i.onChange()}}),[i,n]);return i}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vd(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zd(e,t){var n,r=O.Z.getActiveCommand(e.id),o=null==r||null===(n=r.options)||void 0===n?void 0:n.find((function(e){return e.name===t.optionName}));return null!=o&&(o.type!==j.jw.STRING||null!=(null==o?void 0:o.choices)||(null==o?void 0:o.autocomplete))}function Yd(e,t,n,r){var o=mc.bN.areStylesDisabled(e)||null==n?t:n;Oc.withSingleEntry(e,(function(){_c.Q.insertText(e,r?o+" ":o)}))}function Kd(e,t,n,r){o.useImperativeHandle(e,(function(){return function(e,t,n){return{getSlateEditor:function(){return e},submit:function(e){e.preventDefault();n()},focus:function(){mc.bN.focus(e)},blur:function(){Cc.F3.blur(e)},getCurrentWord:function(){var t=e.selection;if(null==t||!mc.Ew.isValid(e,t)||mc.M8.isExpanded(t))return{word:null,isAtStart:!1};if(Bf(e))return{word:null,isAtStart:!1}
;var n=Wd(mc.bN.node(e,mc.C0.parent(t.anchor.path)),2),r=n[0],o=n[1],i=Wd(mc.bN.node(e,t.anchor.path),2),a=i[0],l=i[1],u=t.anchor.offset;if(!mc.C0.hasPrevious(l)&&mc.LC.isText(a)){var c=a.text.substring(0,u);if(mc.aj.isType(r,"applicationCommand")&&u<r.command.displayName.length+2)return{word:c,isAtStart:!0}}for(var s="",f=!1;;){if(--u<0){if(!mc.C0.hasPrevious(l)){f=!0;break}var d;a=(d=Wd(mc.bN.node(e,mc.C0.previous(l)),2))[0],l=d[1]}if(!mc.LC.isText(a))break;var p=a.text[u];if(Ws.i$.test(p))break;s=p+s}return{word:s,isAtStart:f&&mc.C0.isFirstEditorBlock(o)}},getFirstText:function(){var t,n;return null!==(n=null===(t=mc.bN.getFirstText(e))||void 0===t?void 0:t.text)&&void 0!==n?n:""},getCurrentCommandOption:function(){var t=bc.HZ(e);return null==t?null:t[0].optionName},getCurrentCommandOptionValue:function(){var n,r=bc.HZ(e);if(null==r)return[];var o=O.Z.getActiveCommand(t.id),i=null==o||null===(n=o.options)||void 0===n?void 0:n.find((function(e){return e.name===r[0].optionName}))
;return null==i?[]:bc.IB(e,i,r[0])},getCommandOptionValues:function(){var n=O.Z.getActiveCommand(t.id);return null==n?{}:bc.tM(e,n)},insertText:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Oc.withSingleEntry(e,(function(){var i=bc.HZ(e),a=null!=i&&zd(t,i[0]);if(null!=r&&a){_c.Q.removeInlineChildren(e,i);o=!1}Yd(e,n,r,o);if(null!=r&&a){var l=bc.cr(e);i=mc.q.updateElement(e,i);if(null!=l){var u=mc.q.markdown(l[0],t.id);Sd(e,i,t.id,u)&&(i=mc.q.updateElement(e,i))}bc.xi(e,t.guild_id,t.id,mc.q.updateElement(e,i),!1);_c.Q.selectNextCommandOption(e)}}))},insertAutocomplete:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;Oc.withSingleEntry(e,(function(){var a=bc.HZ(e),l=null!=a&&zd(t,a[0]);if(l){_c.Q.removeInlineChildren(e,a);o=!1}else{var u=i.getCurrentWord().word;null!=u&&u.length>0&&_c.Q.delete(e,{
distance:u.length,unit:"character",reverse:!0})}Yd(e,n,r,o);l&&_c.Q.selectNextCommandOption(e)}))},insertEmoji:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Oc.withSingleEntry(e,(function(){var r,o,i=t.animated?"a":"",a=null!==(o=null!==(r=t.originalName)&&void 0!==r?r:t.name)&&void 0!==o?o:"",l=":".concat(t.name,":"),u=null!=t.id?"<".concat(i,":").concat(a.replace(/:/g,""),":").concat(t.id,">"):null;Yd(e,l,u,n)}))}}}(t,n,r)}),[t,n,r])}function qd(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qd(e,t,n[t])}))}return e}function Qd(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Jd=function(e){var t,n,i=e.channelId,l=e.element,u=e.attributes,c=e.children,s=(0,Cc.vt)(),f=(0,Cc.UE)(),d=(0,Cc._7)(),p=(0,h.cj)([O.Z],(function(){var e,t,n;return{optionType:null===(e=O.Z.getOption(i,l.optionName))||void 0===e?void 0:e.type,errored:!0!==(null===(t=O.Z.getOptionState(i,l.optionName))||void 0===t||null===(n=t.lastValidationResult)||void 0===n?void 0:n.success)}}),[i,l.optionName]),y=p.optionType,b=p.errored,m=(0,h.e7)([Mu.Z],(function(){return Mu.Z.getUpload(i,l.optionName,d.chatInputType.drafts.type)
}),[i,d.chatInputType.drafts.type,l.optionName]),v=l.children[l.children.length-1],g=null!=v&&mc.LC.isText(v)&&v.text.endsWith("\n"),E=a()(ls().inlineElement,ls().optionPill,(qd(t={},ls().selectedPill,f&&s),qd(t,ls().erroredPill,(!f||!s)&&b),t)),C=o.useCallback((function(){mc.bN.isVoid(d,l)||_c.Q.selectCommandOption(d,l.optionName,!0)}),[d,l]);n=y===j.jw.ATTACHMENT?null!=(null==m?void 0:m.filename)?(0,r.jsxs)("span",{className:a()(ls().optionPillValue,ls().attachmentFilename),contentEditable:!1,children:[m.filename,c]}):(0,r.jsxs)("span",{className:a()(ls().optionPillValue,ls().readonlyPillValue),contentEditable:!1,children:[X.Z.Messages.APPLICATION_COMMAND_FILE_ATTACHMENT,c]}):(0,r.jsxs)("span",{className:ls().optionPillValue,children:[c,g?(0,r.jsx)("span",{className:ls().newLine,contentEditable:!1}):null]});return(0,r.jsxs)("span",Qd(Xd({},u),{className:E,children:[(0,r.jsxs)("span",{className:ls().optionPillKey,contentEditable:!1,onClick:C,children:[l.optionDisplayName,"​"]}),n,(0,
r.jsx)("span",{contentEditable:!1,children:"​"})]}))};function $d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ep(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tp(e){var t=e.attributes,n=e.children,o=e.leaf,i=e.text;if(o.commandName){var l=a()(ls().commandName,$d({},ls().emptyText,""===i.text));return(0,r.jsx)("span",ep(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$d(e,t,n[t])}))}return e}({},t),{className:l,spellCheck:!1,children:n}))}return null}var np=n(461778),rp=n.n(np);const op=o.forwardRef((function(e,t){
var n=e.value,i=e.type,l=e.channel,u=e.className,c=e.disabled,s=e.submitting,f=e.placeholder,d=e.textAreaPaddingClassName,p=e.onChange,h=e.onPaste,y=e.onResize,b=e.onFocus,m=e.onBlur,v=e.onKeyDown,g=e.onKeyUp,E=e.onTab,C=e.onEnter,S=e.onSubmit,I=e.maybeShowAutocomplete,w=e.hideAutocomplete,P=e.moveSelection,x=e.spellcheckEnabled,A=e.canUseCommands,T=e.canOnlyUseTextCommands,N=e.disableAutoFocus,M=e.disableEnterToSubmit,Z=e["aria-owns"],L=e["aria-expanded"],R=e["aria-haspopup"],D=e["aria-activedescendant"],k=e["aria-controls"],U=e["aria-invalid"],B=e["aria-describedby"],F=e["aria-labelledby"],G=e["aria-autocomplete"],H=o.useRef(null),V=o.useRef(null),W=o.useRef(!0),z=o.useRef(!0),Y=c||s,K=o.useCallback((function(e,t,n){var r,o=n.value,i=n.selection,a=mc.bN.richValue(e),u=e.selection,c=!1;if(void 0!==o&&o!==a){e.children=o;if("parent"===t&&!e.previewMarkdown){try{e.previewMarkdown=!0;Od(e,l.guild_id,l.id)}finally{e.previewMarkdown=!1}Od(e,l.guild_id,l.id);i=void 0}
"undo"!==t&&void 0!==o&&o!==a&&Oc.insertEntry(e,"other",!1,a,u);c=!0}null==i||mc.Ew.isValid(e,i)||(i=void 0);if((c||!mc.Ew.isValid(e,u))&&void 0===i){var s=mc.bN.end(e,[]);i={anchor:s,focus:s}}if(null!=i&&!mc.Ew.equals(i,u)){e.selection=i;var f=Oc.currentEntry(e);null!=f&&(f.selection=i);c=!0}var d=bc.cr(e);null!=d&&d[0].command.id!==(null===(r=O.Z.getActiveCommand(l.id))||void 0===r?void 0:r.id)&&Oc.withMergedEntry(e,(function(){Js(e,l.id,null,!0)}));if(c){N||mc.bN.focus(e);if("parent"===t)try{z.current=!1;e.onChange()}finally{z.current=!0}else e.onChange()}}),[l.id,l.guild_id,N]),q=o.useCallback((function(){W.current=!1}),[]),Q=o.useCallback((function(){W.current=!0}),[]),J=Hd({channel:l,chatInputType:i,canUseCommands:A,canOnlyUseTextCommands:T,onChangeStart:q,onChangeEnd:Q,updateState:K}),$=o.useCallback((function(e,t){var n=bc.tM(J,e);return{values:n,results:bc.lk(e,l.guild_id,l.id,n,t)}}),[l.guild_id,l.id,J]),ee=o.useCallback((function(){var e,t=A?O.Z.getActiveCommand(l.id):null
;if(null!=t&&null!=t.options){var n=$(t,!1);e=n.values;var r,o=bc.cu(J).filter((function(e){return!n.results[e].success})).map((function(e){return(null!==(r=t.options)&&void 0!==r?r:[]).find((function(t){return t.name===e}))})),i=!0,a=!1,u=void 0;try{for(var c,s=t.options[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var f=c.value;if(f.required&&!(f.name in n.values)){_c.Q.insertCommandOption(J,f);o.push(f)}}}catch(e){a=!0;u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}if(o.length>0){var d,p,h=o[0];_c.Q.selectCommandOption(J,h.name);Al.S.dispatch(fe.CkL.SHAKE_APP,{duration:200,intensity:2});(0,_.yw)(fe.rMx.APPLICATION_COMMAND_VALIDATION_FAILED,{application_id:null==t?void 0:t.applicationId,command_id:null==t||null===(d=t.rootCommand)||void 0===d?void 0:d.id,argument_type:j.jw[null!==(p=null==h?void 0:h.type)&&void 0!==p?p:3],is_required:null==h?void 0:h.required});return}}null==S||S((0,Us.sk)(mc.bN.richValue(J),{mode:"raw",ignoreTrailingEmptyNodes:!0}),t,e)
}),[l.id,J,S,$,A]);Kd(t,J,l,ee);!function(e,t,n){o.useEffect((function(){var r=Cc.F3.findDocumentOrShadowRoot(e).defaultView;if(null!=(null==r?void 0:r.ResizeObserver)){var o=mc.bN.toDOMNode(e,e),i=o.offsetHeight,a=new r.ResizeObserver((function(){var r=mc.bN.toDOMNode(e,e).offsetHeight;if(i!==r){null!=t.current&&(t.current.style.height="".concat(r,"px"));i=r;null==n||n(r)}}));a.observe(o);return function(){return a.disconnect()}}}),[t,e,n])}(J,H,y);var te=function(e){var t=e.editor,n=e.channel,r=e.disableEnterToSubmit,i=e.onKeyDown,a=e.onKeyUp,l=e.onTab,u=e.onEnter,c=e.submit,s=e.hideAutocomplete,f=e.moveSelection;return{handleKeyDown:o.useCallback((function(e){var o;switch(e.which){case fe.yXg.ARROW_UP:if(f(-1)){e.preventDefault();return}break;case fe.yXg.ARROW_DOWN:if(f(1)){e.preventDefault();return}break;case fe.yXg.P:if(sd(e,{ctrl:!0})&&f(-1)){e.preventDefault();return}break;case fe.yXg.N:if(sd(e,{ctrl:!0})&&f(1)){e.preventDefault();return}break;case fe.yXg.ESCAPE:null==s||s()
;break;case fe.yXg.TAB:if(sd(e,{})&&(null==l?void 0:l())){e.preventDefault();e.stopPropagation();return}if(null!=O.Z.getActiveCommand(n.id)){e.preventDefault();e.stopPropagation();e.shiftKey?_c.Q.selectPreviousCommandOption(t):_c.Q.selectNextCommandOption(t);return}break;case fe.yXg.ENTER:if(sd(e,{})&&(null==u?void 0:u(e))){e.preventDefault();e.stopPropagation();return}}if(!0!==(null===(o=t.onKeyDown)||void 0===o?void 0:o.call(t,e))){if(e.which===fe.yXg.ENTER&&!e.altKey&&!e.shiftKey&&(!r||e.ctrlKey)&&!Bf(t)){e.preventDefault();e.stopPropagation();c()}null==i||i(e)}else{e.preventDefault();e.stopPropagation()}}),[n.id,r,t,s,f,u,i,l,c]),handleKeyUp:o.useCallback((function(e){null==a||a(e)}),[a])}}({editor:J,channel:l,disableEnterToSubmit:M,onKeyDown:v,onKeyUp:g,onTab:E,onEnter:C,submit:ee,hideAutocomplete:w,moveSelection:P}),ne=te.handleKeyDown,re=te.handleKeyUp,oe=function(e,t,n){var r=o.useCallback((function(e){if(t)return!0;if(!0===e.defaultPrevented)return!1;var r=n(e);if(r){
e.preventDefault();e.stopPropagation()}return r}),[t,n]),i=o.useCallback((function(t){var n=t.event;if(!r(n)){n.preventDefault();n.stopPropagation();if(null!=n.clipboardData){e.insertData(n.clipboardData);mc.bN.focus(e)}}}),[e,r]);return{handlePaste:r,handleGlobalPaste:i}}(J,Y,h),ie=oe.handlePaste,ae=oe.handleGlobalPaste,le=o.useCallback((function(e){null==I||I()}),[I]),ue=o.useCallback((function(e){e!==V.current?z.current&&(null==p||p(null,(0,Us.sk)(e,{mode:"raw"}),e)):z.current&&I()}),[I,p]);o.useLayoutEffect((function(){if(W.current){V.current=n;K(J,"parent",{value:n})}}),[J,n,K]);o.useEffect((function(){var e=function(){var e,t=null!==(e=O.Z.getActiveCommand(l.id))&&void 0!==e?e:null;null!==t&&null!=t.options&&$(t,!0)};Mu.Z.addChangeListener(e);return function(){return Mu.Z.removeChangeListener(e)}}),[l,J,$]);var ce=o.useCallback((function(e,t){return function(e,t){if(mc.bN.areStylesDisabled(e))return[];var n=Fs(t,2),r=n[0],o=n[1],i=[];if(!mc.LC.isText(r))return i
;var a=Fs(mc.bN.node(e,mc.C0.parent(o)),1)[0];if(!mc.aj.isType(a,"applicationCommand"))return i;r===a.children[0]&&i.push({anchor:{path:o,offset:0},focus:{path:o,offset:0+a.command.displayName.length+1},commandName:!0});return i}(e,t)}),[]),se=o.useCallback((function(e){return function(e,t,n){var o=t.attributes,i=t.children,a=t.element;switch(a.type){case"applicationCommand":var l=O.Z.getActiveCommand(n),u=0,c=0;if(null!=l&&l.id===a.command.id){var s,f=bc.cu(e),d=!0,p=!1,h=void 0;try{for(var y,b=(null!==(s=l.options)&&void 0!==s?s:[])[Symbol.iterator]();!(d=(y=b.next()).done);d=!0){var m=y.value;f.includes(m.name)?c++:u++}}catch(e){p=!0;h=e}finally{try{d||null==b.return||b.return()}finally{if(p)throw h}}}var v={};if(u>0){var g;g=c>0?X.Z.Messages.COMMANDS_OPTIONAL_COUNT_REMAINING.format({count:u}):X.Z.Messages.COMMANDS_OPTION_COUNT.format({count:u});v["data-trailing-placeholder"]=g}return(0,r.jsx)("div",Qd(Xd({className:ls().applicationCommand},o,v),{children:i}))
;case"applicationCommandOption":return(0,r.jsx)(Jd,{attributes:o,channelId:n,element:a,children:i});default:return null}}(J,e,l.id)}),[l.id,J]),de=o.useCallback((function(e){return tp(e)}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Zu.d9,{event:fe.CkL.GLOBAL_CLIPBOARD_PASTE,handler:ae}),(0,r.jsx)("div",{ref:H,className:a()(u,rp().slateContainer),children:(0,r.jsx)(ks,{editor:J,channelId:l.id,guildId:l.guild_id,className:a()(rp().slateTextArea,d),placeholder:f,readOnly:Y,spellCheck:x,autoFocus:!N,canFocus:!c,onChange:ue,onFocus:b,onBlur:m,onClick:le,onPaste:ie,onKeyDown:ne,onKeyUp:re,decorateExtra:ce,renderExtraElement:se,renderExtraLeaf:de,"aria-owns":Z,"aria-haspopup":R,"aria-expanded":L,"aria-activedescendant":D,"aria-controls":k,"aria-labelledby":F,"aria-describedby":B,"aria-invalid":U,"aria-autocomplete":G})})]})}));var ip=n(686390),ap=n.n(ip);function lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function up(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cp(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sp(e){sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sp(e)}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cp(e,t,n[t])}))}return e}function dp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function pp(e,t){return!t||"object"!==bp(t)&&"function"!=typeof t?up(e):t}function hp(e,t){hp=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hp(e,t)}function yp(e){return function(e){if(Array.isArray(e))return lp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lp(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bp=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=sp(e);if(t){var o=sp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pp(this,n)}}new Xu.Z("ChannelEditor.tsx");var vp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]},gp={12:ap().fontSize12Padding,14:ap().fontSize14Padding,15:ap().fontSize15Padding,16:ap().fontSize16Padding,18:ap().fontSize18Padding,20:ap().fontSize20Padding,24:ap().fontSize24Padding
},Op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hp(e,t)}(n,e);var t=mp(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).ref=o.createRef();r._focusBlurQueue=Promise.resolve();r.handleSelectionChange=function(){if(r.props.focused){var e,t;r.props.onSelectionChanged(null===(e=document.getSelection)||void 0===e||null===(t=e.call(document))||void 0===t?void 0:t.toString())}};r.focus=function(){var e;null===(e=r._focusBlurQueue)||void 0===e||e.then((function(){r.setState({focused:!0},(function(){var e=r.ref.current;null!=e&&e.focus()}))}))};r.saveCurrentText=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=r.props,n=t.type,o=t.channel;if(n.drafts.autoSave){
e&&r.saveCurrentTextThrottled.cancel();r.handleSaveCurrentText(o.id)}};r.handleBeforeUnload=function(){return r.saveCurrentText()};r.saveCurrentTextThrottled=C().throttle(r.saveCurrentText.bind(up(r),!1),500);r.handleEnter=function(e){var t,n;return null===(n=(t=r.props).onEnter)||void 0===n?void 0:n.call(t,e)};r.handleTab=function(){var e,t;return null===(t=(e=r.props).onTab)||void 0===t?void 0:t.call(e)};r.handleMoveSelection=function(e){var t,n;return null===(n=(t=r.props).onMoveSelection)||void 0===n?void 0:n.call(t,e)};r.maybeShowAutocomplete=function(){var e,t;return null===(t=(e=r.props).onMaybeShowAutocomplete)||void 0===t?void 0:t.call(e)};r.hideAutocomplete=function(){var e,t;return null===(t=(e=r.props).onHideAutocomplete)||void 0===t?void 0:t.call(e)};r.handleSaveCurrentText=function(e){b.Z.saveDraft(e,r.props.textValue,r.props.type.drafts.type)};r.handleClearText=function(){var e,t;null===(t=(e=r.props).onChange)||void 0===t||t.call(e,null,"",(0,Cn.JM)(""))}
;r.handleInsertText=function(e){var t=e.plainText,n=e.rawText,o=e.addSpace,i=void 0!==o&&o;r.appendText(t,n,i);r.focus()};r.handleFocus=function(e){var t=r.props.onFocus,n=r.state.focused;null==t||t(e);n||r.setState({focused:!0})};r.handleBlur=function(e){var t=r.props.onBlur,n=r.state.focused;null==t||t(e);n&&r.setState({focused:!1})};r.handlePaste=function(e){var t=r.props,n=t.channel,o=t.canPasteFiles,i=t.uploadPromptCharacterCount,a=t.promptToUpload,l=t.maxCharacterCount,u=t.type;if(null==a||!n.isPrivate()&&!o||n.isPrivate()&&n.isManaged())return!1;var c=null!=i?i:l,s=function(e,t){var n=[],r=[],o=null,i=null,a=!0,l=!1,u=void 0;try{for(var c,s=e.items[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if("file"===f.kind){var d=f.getAsFile();if(null==d)continue;null!=d.path&&d.path.length>0?n.push(d):r.push(d)}else"string"===f.kind&&("text/plain"===f.type&&null==o?o=f:"text/html"===f.type&&null==i&&(i=f))}}catch(e){l=!0;u=e}finally{try{a||null==s.return||s.return()
}finally{if(l)throw u}}if(n.length>0)return{files:n};if(r.length>0){if(1===r.length&&"image/png"===r[0].type&&null!=i){var p,h=r[0],y=null!==(p=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(null!=t){var n;try{var r=Yu.parse(t.src).pathname;null!=r&&r.length>0&&(n=zu().basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return"".concat(n,".png")}return}(e.getData(i.type)))&&void 0!==p?p:h.name;return{files:[(0,Qu.dp)(h,y,h.type)]}}return{files:r}}if(null!=o&&null!=t){var b=e.getData(o.type);if(b.length>t){var m=new Blob([b],{type:"text/plain"});return{files:[(0,Qu.dp)(m,"message.txt")],convertedStringToFile:!0}}}return{files:[]}}(e.clipboardData,u.uploadLongMessages?c:null).files;vp("onPaste",yp(e.clipboardData.items).map((function(e){if("file"===e.kind){var t=e.getAsFile();return{kind:e.kind,type:e.type,name:null==t?void 0:t.name,path:null==t?void 0:t.path}}return{kind:e.kind,type:e.type}})));if(0===s.length)return!1;e.preventDefault()
;e.stopPropagation();r.saveCurrentText();!function(e,t){var r,o=O.Z.getActiveCommand(n.id);if(null==o)return a(e,n,u.drafts.type,{requireConfirm:!0,showLargeMessageDialog:t});var i=null===(r=o.options)||void 0===r?void 0:r.find((function(e){return e.type===j.jw.ATTACHMENT&&null==Mu.Z.getUpload(n.id,e.name,u.drafts.type)}));null!=i&&Ku.Z.setFile({channelId:n.id,id:i.name,draftType:u.drafts.type,file:{id:i.name,platform:qu.ow.WEB,file:e[0]}})}(s);r.focus();return!0};r._unsubscribe=P.subscribe((function(e){requestAnimationFrame((function(){r.setState({popup:e})}))}));r.state={focused:!1,submitting:!1,popup:P.getState()};return r}var i=n.prototype;i.componentDidMount=function(){var e=this;this.props.focused&&requestAnimationFrame((function(){return e.focus()}));document.addEventListener("selectionchange",this.handleSelectionChange);window.addEventListener("beforeunload",this.handleBeforeUnload)};i.componentDidUpdate=function(e){this.fixFocus(e);if(this.props.useSlate!==e.useSlate){
var t,n,r;r=this.props.useSlate?this.props.textValue:(0,Us.sk)(this.props.richValue,{mode:"plain"});null===(n=(t=this.props).onChange)||void 0===n||n.call(t,null,r,(0,Cn.JM)(r))}else this.props.textValue!==e.textValue&&this.saveCurrentTextThrottled()};i.componentWillUnmount=function(){var e;this.saveCurrentText();null===(e=this._unsubscribe)||void 0===e||e.call(this);window.removeEventListener("beforeunload",this.handleBeforeUnload);document.removeEventListener("selectionchange",this.handleSelectionChange);this._focusBlurQueue=null;this._unsubscribe=null};i.blur=function(){var e=this.ref.current;null!=e&&e.blur()};i.submit=function(e){var t;null===(t=this.ref.current)||void 0===t||t.submit(e)};i.insertEmoji=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.props.textValue,o=this.ref.current;if(null!=e&&null!=o){n&&!r.endsWith(" ")&&o.insertText(" ",void 0,!1);o.insertEmoji(e,t);t&&this.focus()}};i.insertGIF=function(e){
var t=this.props.textValue,n=this.ref.current;if(null!=e&&null!=n){t.endsWith(" ")||n.insertText(" ",void 0,!1);n.insertText(e.url)}};i.handleOuterClick=function(){this.focus()};i.clearValue=function(){var e=this.props,t=e.channel,n=e.type;this.setState({focused:!0,submitting:!1});b.Z.saveDraft(t.id,"",n.drafts.type)};i.getCurrentWord=function(){var e,t=this.ref.current;return null!==(e=null==t?void 0:t.getCurrentWord())&&void 0!==e?e:{word:null,isAtStart:!1}};i.insertAutocomplete=function(e,t,n){var r=this.ref.current;return null==r?void 0:r.insertAutocomplete(e,t,n)};i.getCurrentCommandOption=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getCurrentCommandOption)||void 0===e?void 0:e.call(n))&&void 0!==t?t:null};i.getCurrentCommandOptionValue=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getCurrentCommandOptionValue)||void 0===e?void 0:e.call(n))&&void 0!==t?t:[]};i.getCommandOptionValues=function(){var e,t,n=this.ref.current
;return null!==(t=null==n||null===(e=n.getCommandOptionValues)||void 0===e?void 0:e.call(n))&&void 0!==t?t:{}};i.getFirstText=function(){var e,t=this.ref.current;return null!==(e=null==t?void 0:t.getFirstText())&&void 0!==e?e:null};i.getSlateEditor=function(){var e,t,n=this.ref.current;return null!==(t=null==n||null===(e=n.getSlateEditor)||void 0===e?void 0:e.call(n))&&void 0!==t?t:null};i.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()};i.appendText=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null===(n=this.ref.current)||void 0===n||n.insertText(e,t,r)};i.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder,r=e.isPreviewing;return t&&!r?X.Z.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n};i.render=function(){
var e,t,n,o,i,l,u,c,s=this.props,f=s.textValue,p=s.richValue,h=s.disabled,y=s.onChange,b=s.onKeyDown,m=s.onResize,v=s.onSubmit,g=s.channel,O=s.type,E=s.fontSize,C=s.useSlate,S=s.spellcheckEnabled,j=s.useNewSlashCommands,_=s.canOnlyUseTextCommands,I=s.className,w=s.maxCharacterCount,P=s["aria-describedby"],x=s["aria-labelledby"],A=s.accessibilityLabel,T=this.state,N=T.submitting,M=T.popup,Z={channel:g,className:a()(I,ap().textArea,(u={},cp(u,ap().textAreaSlate,C),cp(u,ap().textAreaDisabled,h||N),u)),placeholder:this.getPlaceholder(),accessibilityLabel:A,disabled:h||!1,submitting:N,isEdit:O===sn.I.EDIT,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onTab:this.handleTab,onEnter:this.handleEnter,moveSelection:this.handleMoveSelection,maybeShowAutocomplete:this.maybeShowAutocomplete,hideAutocomplete:this.hideAutocomplete,onChange:y,onResize:m,onKeyDown:b,onSubmit:v,textAreaPaddingClassName:a()(gp[E],(c={},
cp(c,ap().textAreaWithoutAttachmentButton,O!==sn.I.NORMAL&&O!==sn.I.OVERLAY&&O!==sn.I.THREAD_CREATION&&O!==sn.I.SIDEBAR),cp(c,ap().textAreaForPostCreation,O===sn.I.CREATE_FORUM_POST),c)),spellcheckEnabled:S,useNewSlashCommands:j,disableAutoFocus:d.tq||null!==(n=O.disableAutoFocus)&&void 0!==n&&n,disableEnterToSubmit:null!==(o=null===(e=O.submit)||void 0===e?void 0:e.disableEnterToSubmit)&&void 0!==o&&o,"aria-controls":null!==(i=M.id)&&void 0!==i?i:void 0,"aria-haspopup":"listbox","aria-expanded":null!==M.id||void 0,"aria-activedescendant":null!==(l=M.activeDescendant)&&void 0!==l?l:void 0,"aria-invalid":f.length>w,"aria-describedby":P,"aria-labelledby":x,"aria-autocomplete":"list"},L=C?(0,r.jsx)(op,dp(fp({ref:this.ref},Z),{type:O,value:h?(0,Cn.JM)(""):p,canUseCommands:null===(t=O.commands)||void 0===t?void 0:t.enabled,canOnlyUseTextCommands:_})):(0,r.jsx)(yc,dp(fp({ref:this.ref},Z),{value:h?"":f}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Zu.d9,{event:fe.CkL.INSERT_TEXT,
handler:this.handleInsertText}),(0,r.jsx)(Zu.d9,{event:fe.CkL.CLEAR_TEXT,handler:this.handleClearText}),L]})};return n}(o.Component);var Ep=n(34225),Cp=n(927219),Sp=n.n(Cp);function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(e){var t,n=e.channelId,i=e.chatInputType,a=_p(o.useState(null),2),l=a[0],u=a[1],c=(0,h.e7)([Au.Z],(function(){return Au.Z.getStickerPreview(n,i.drafts.type)}));return(null===(t=i.stickers)||void 0===t?void 0:t.allowSending)&&null!=c&&0!==c.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:Sp().stickerPreviews,children:c.map((function(e){return(0,r.jsxs)("div",{className:Sp().stickerPreviewContainer,children:[(0,r.jsx)(y.Clickable,{onFocus:function(){return u(e.id)},onBlur:function(){return u(null)},className:Sp().closeButton,"aria-label":X.Z.Messages.GUILD_STICKER_A11Y_REMOVE_STICKER.format({name:e.name}),onClick:function(){return(0,or.qB)(n,i.drafts.type)},children:(0,r.jsx)("div",{className:Sp().closeIconContainer,children:(0,r.jsx)(It.Z,{className:Sp().closeIcon})})}),(0,r.jsx)(wn.ZP,{
isInteracting:l===e.id,className:Sp().stickerPreview,size:48,sticker:e})]},e.id)}))}),(0,r.jsx)(Ep.Z,{className:Sp().stickerPreviewDivider})]}):null}const wp=o.memo(Ip);var Pp=n(270491),xp=n.n(Pp);function Ap(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Tp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ap(i,r,o,a,l,"next",e)}function l(e){Ap(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Np(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mp(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Zp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Lp(e){var t,i,l,u,c=e.className,s=e.activeCommand,f=e.activeOption,d=e.optionStates,p=o.useCallback((function(e){var t,o=null==s||null===(t=s.rootCommand)||void 0===t?void 0:t.id;null!=o?(0,Ju.jW)(e,Tp((function(){var e,t;return Zp(this,(function(i){switch(i.label){case 0:return[4,n.e(75619).then(n.bind(n,464502))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Mp(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Np(e,t,n[t])}))}return e}({},e),{id:o,label:X.Z.Messages.COPY_ID_COMMAND}))}]}}))}))):e.preventDefault()
}),[null==s||null===(t=s.rootCommand)||void 0===t?void 0:t.id]);if(null==s)return null;if(null!=f){var h=d[f.name].lastValidationResult;i=f.displayName;l=f.displayDescription;u=(null==h?void 0:h.success)?null:null==h?void 0:h.error}else{i="".concat(q.GI).concat(s.displayName);l=s.displayDescription;u=null}return(0,r.jsxs)("div",{className:a()(c,xp().bar),onContextMenu:p,children:[(0,r.jsx)("span",{className:xp().name,children:i}),null!=u?(0,r.jsx)("span",{className:xp().error,children:u}):(0,r.jsx)("span",{className:xp().description,children:l})]})}var Rp=n(418705),Dp=n(351330),kp=n(818308),Up=(0,Vt.B)({kind:"user",id:"2023-03_mj_chat_bar_user",label:"MJ Chat Bar user experiment",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]}),Bp=(0,Vt.B)({kind:"guild",id:"2023-03_mj_chat_bar_guild",label:"MJ Chat Bar enabled guilds",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]
}),Fp=n(974802),Gp=n.n(Fp),Hp="938956540159881230",Vp=function(e){var t=e.channel,n=Up.useExperiment({},{autoTrackExposure:!1}).enabled,i=(0,h.Wu)([Hs.Z],(function(){return Hs.Z.getCommands([Hp],t.id)}));o.useEffect((function(){0===i.length&&et.Bz(t.guild_id,t.id,[Hp])}),[t.guild_id,t.id,i.length]);o.useEffect((function(){n&&i.length>0&&se.default.track(fe.rMx.MJ_CHAT_BAR_VIEWED,{channel_id:t.id,guild_id:t.guild_id})}),[n,i.length,t.id,t.guild_id]);o.useEffect((function(){i.length>0&&Up.trackExposure({})}),[i.length]);if(!n||0===i.length)return null;var a=function(){(0,kp.tA)(t.id,"imagine",Hp,Z.Vh.MJ_CHAT_BAR);(0,Dp.EW)(Rp.z$.MJ_NEW_USER_CHAT_BAR);se.default.track(fe.rMx.MJ_CHAT_BAR_CTA_CLICKED,{channel_id:t.id,guild_id:t.guild_id,cta_type:"command"})};return(0,r.jsxs)("div",{className:Gp().bar,children:[(0,r.jsx)("div",{children:X.Z.Messages.MJ_CHATBAR_BODY.format({commandHook:function(){return(0,r.jsx)(y.Anchor,{onClick:a,children:"/imagine"})}})}),(0,r.jsx)(y.Clickable,{
className:Gp().closeButton,onClick:function(){(0,Dp.EW)(Rp.z$.MJ_NEW_USER_CHAT_BAR);se.default.track(fe.rMx.MJ_CHAT_BAR_CTA_CLICKED,{channel_id:t.id,guild_id:t.guild_id,cta_type:"dismiss"})},children:(0,r.jsx)(It.Z,{className:Gp().closeIcon})})]})},Wp=n(550131),zp=n(28862),Yp=n(784426),Kp=n(367406),qp=n(352980),Xp=n(749131),Qp=n(816884),Jp=n.n(Qp);function $p(e){var t=e.channel,n=e.message,i=e.replyChainLength;o.useEffect((function(){(0,_.yw)(fe.rMx.THREAD_NUDGE_SHOWN,{type:"Reply Chain (".concat(3,")"),reply_chain_length:i+1,channel_id:t.id,guild_id:t.guild_id})}),[t]);return(0,r.jsxs)(y.Clickable,{onClick:function(){(0,zp.A6)(t.id);(0,Kp.R6)(t,n,"Reply Chain Nudge")},className:Jp().threadSuggestionBar,focusProps:{offset:{right:-4,left:-4}},children:[(0,r.jsx)(y.Text,{color:"header-secondary",className:Jp().text,variant:"text-sm/normal",children:X.Z.Messages.THREAD_REPLY_SUGGESTION.format({count:Math.min(10,i+1)})}),(0,r.jsx)(y.Text,{color:"text-link",
className:Jp().createThreadButton,variant:"text-sm/semibold",children:X.Z.Messages.CREATE_THREAD})]})}function eh(e){var t=e.reply,n=e.chatInputType,o=function(e){e.stopPropagation();(0,zp.qx)(i.id,!u)},i=t.channel,l=t.message,u=t.shouldMention,c=t.showMentionToggle,s=(0,Wp.ZP)(l),f=s.nick,d=s.colorString,p=s.colorRoleName,b=function(e,t){var n=e.id,r=t.id;return(0,h.e7)([qp.Z],(function(){for(var e=r,t=0;t<10;t++){var o=qp.Z.getMessage(n,e);if((null==o?void 0:o.type)!==fe.uaV.REPLY||null==o.messageReference)return t;e=o.messageReference.message_id}return 10}),[n,r])}(i,l),m=(0,Tu.NE)(i,l),v=n.showThreadPromptOnReply&&b>=2&&m;return(0,r.jsx)("div",{className:Jp().clipContainer,children:(0,r.jsxs)("div",{className:Jp().container,children:[(0,r.jsxs)("div",{className:Jp().replyBar,children:[(0,r.jsx)(y.Clickable,{onClick:function(){return(0,Yp.uL)(fe.Z5c.CHANNEL(i.getGuildId(),i.id,l.id))},focusProps:{offset:{top:-8,right:-4,bottom:-8,left:-4}},children:(0,r.jsx)(y.Text,{
color:"header-secondary",className:a()(Jp().text,Jp().replyLabel),variant:"text-sm/normal",children:X.Z.Messages.REPLYING_TO.format({userHook:function(e,t){return(0,r.jsx)(y.NameWithRole,{className:Jp().name,name:f,color:d,roleName:p},t)}})})}),(0,r.jsxs)("div",{className:Jp().actions,children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Tooltip,{text:u?X.Z.Messages.REPLY_MENTION_ON_TOOLTIP:X.Z.Messages.REPLY_MENTION_OFF_TOOLTIP,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave,i=e.onFocus,a=e.onBlur;return(0,r.jsx)(y.Clickable,{role:"switch","aria-checked":u,onClick:o,onMouseEnter:t,onMouseLeave:n,onFocus:i,onBlur:a,children:(0,r.jsxs)(y.Text,{variant:"text-sm/bold",color:u?"text-link":"text-muted",className:Jp().mentionButton,children:[(0,r.jsx)(Xp.Z,{"aria-label":X.Z.Messages.MENTION,className:Jp().mentionIcon}),u?X.Z.Messages.REPLY_MENTION_ON:X.Z.Messages.REPLY_MENTION_OFF]})})}}),(0,r.jsx)("div",{className:Jp().separator,"aria-hidden":!0})]}),(0,r.jsx)(y.Clickable,{
className:Jp().closeButton,onClick:function(e){e.stopPropagation();(0,zp.A6)(i.id)},children:(0,r.jsx)(It.Z,{className:Jp().closeIcon})})]})]}),v&&(0,r.jsx)($p,{channel:i,message:l,replyChainLength:b})]})})}function th(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var nh=function(e){var t=e.channel,n=e.type,o=e.activeCommand,i=e.pendingReply,l=(0,h.cj)([O.Z],(function(){return{activeCommandOption:O.Z.getActiveOption(t.id),activeCommandOptionStates:O.Z.getOptionStates(t.id)}})),u=l.activeCommandOption,c=l.activeCommandOptionStates,s=Bt(t),f=function(e){var t=(0,h.e7)([ve.Z],(function(){return ve.Z.getGuildCount()})),n=Bp.useExperiment({guildId:e.guild_id}).enabled,r=(0,Dp.wE)(Rp.z$.MJ_NEW_USER_CHAT_BAR);return n&&!r&&t<=1}(t),d=[];null!=o&&d.push((0,r.jsx)(Lp,{activeCommand:o,activeOption:null!=u?u:null,optionStates:c}));null!=i&&d.push((0,r.jsx)(eh,{reply:i,chatInputType:n}));s&&d.push((0,r.jsx)(Ft,{}))
;f&&n===sn.I.NORMAL&&d.push((0,r.jsx)(Vp,{channel:t}));return 0===(d=d.map((function(e,t){var n=t===d.length-1;return(0,r.jsx)("div",{className:a()(th({},ap().stackedAttachedBar,!n)),children:e},t)}))).length?null:(0,r.jsx)("div",{className:ap().attachedBars,children:d})};const rh=o.memo(nh);var oh=n(387099),ih=n(672798),ah=n(621270),lh=n(456741),uh=n(398344),ch=n(305082),sh=n(645573),fh=n(964262),dh=n(847197),ph=n(399298),hh=n.n(ph);function yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yh(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){var n=e.disabled,i=e.type,l=bh((0,zo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),f.Z),3),u=l[0],c=l[1],s=l[2],d=i===sn.I.NORMAL,p=(0,Dp.wE)(Rp.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP),h=(0,ch.AR)()&&d&&!p;o.useEffect((function(){u===ui.X1.EMOJI&&c===sn.I.NORMAL&&(0,fh.$u)(Rp.z$.PREMIUM_TUTORIAL_EMOJI_PICKER_COMPOSER_TOOLTIP)}),[u,c]);var y=o.useCallback((function(){(0,zo.RO)(ui.X1.EMOJI,i)}),[i]);if(n)return null;var b=h?function(){return(0,r.jsx)(sh.Z,{tutorialType:uh.K.EMOJI_PICKER,
text:X.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_TOOLTIP.format(),unformattedText:X.Z.Messages.PREMIUM_TRIAL_TUTORIAL_EMOJI_TOOLTIP_UNFORMATTED,children:(0,r.jsx)("img",{alt:"",src:hh(),className:ap().premiumTutorialEmojiImage})})}:null;return(0,r.jsx)("div",{className:a()(ui.CT,ap().buttonContainer),ref:t,children:(0,r.jsx)(dh.Z,{className:ap().emojiButton,onClick:y,active:u===ui.X1.EMOJI&&c===i,"aria-controls":s,tabIndex:0,focusProps:{offset:{top:4,bottom:4,left:-4,right:-4}},renderButtonContents:b})})}const vh=o.memo(o.forwardRef(mh));var gh,Oh=n(58495),Eh=n(473419),Ch=n(248088),Sh=n(298182),jh=n(509644),_h=n(566786),Ih=n.n(_h);function wh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ph(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.UPDATE=0]="UPDATE";e[e.NEW=1]="NEW"}(gh||(gh={}));var xh={config:{friction:26,tension:700,mass:1},initial:{scale:1,opacity:1},from:{scale:.6,opacity:0},enter:{scale:1,opacity:1},leave:{scale:.6,opacity:0}};function Ah(e){var t=e.className,n=e.disabled,o=void 0!==n&&n,i=e.innerClassName,l=e.childClassName,u=e.iconClassName,c=e.icon,s=e.children,f=e.onClick,d=e.isActive,p=e.onMouseEnter,h=e.onMouseLeave,b=e.onFocus,m=e.onBlur,v=e.pulse,g=e.sparkle,O=e.notification,E=e["aria-label"],C=e["aria-expanded"],S=e["aria-haspopup"],j=e["aria-controls"],_=(0,Ch.useTransition)(null!=s,Ph(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){wh(e,t,n[t])}))}return e}({},xh),{keys:function(e){return e?"children":"icon"}})),I=function(e){var t=e.component;return null!=O?(0,r.jsxs)("div",{className:Ih().buttonContent,children:[(0,r.jsx)(ce.ZP,{className:Ih().iconMask,mask:ce.QS.CHAT_INPUT_BUTTON_NOTIFICATION,width:24,height:24,children:t}),(0,r.jsx)("span",{className:Ih().notificationDot})]}):t};return(0,r.jsxs)(y.Button,{look:y.Button.Looks.BLANK,size:y.Button.Sizes.NONE,"aria-label":E,"aria-expanded":C,"aria-haspopup":S,"aria-controls":j,disabled:o,className:a()(t,wh({},Ih().active,d)),innerClassName:a()(Ih().button,i,wh({},Ih().pulseButton,v)),onClick:f,onMouseEnter:p,onMouseLeave:h,onFocus:b,onBlur:m,focusProps:{offset:{top:4,bottom:4}},children:[_((function(e,t,n){var o=n.key;return t?(0,r.jsx)(Ch.animated.div,{style:e,
className:a()(Ih().buttonWrapper,l),children:I({component:s})},o):null!=c?(0,r.jsx)(Ch.animated.div,{style:e,className:a()(Ih().buttonWrapper,l),children:I({component:(0,r.jsx)(c,{className:a()(Ih().icon,u,wh({},Ih().pulseIcon,v))})})},o):void 0})),g&&(0,r.jsxs)("div",{className:Ih().sparkleContainer,children:[(0,r.jsx)(jh.Z,{className:Ih().sparkleStar}),(0,r.jsx)(Sh.Z,{className:Ih().sparklePlus})]})]})}const Th=o.memo(Ah);var Nh=n(312690);function Mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Lh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Rh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(e,t){var n,i=e.disabled,l=e.type,u=Rh(o.useState(!1),2),c=u[0],s=u[1],d=(0,h.e7)([Eh.Z],(function(){var e;return c&&Object.values(null!==(n=null===(e=Eh.Z.frecencyWithoutFetchingLatest.favoriteGifs)||void 0===e?void 0:e.gifs)&&void 0!==n?n:{}).length<=2})),p=Rh((0,zo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),f.Z),3),b=p[0],m=p[1],v=p[2],g=o.useRef(0),O=o.useCallback((function(){s(!0);clearTimeout(g.current);g.current=setTimeout((function(){s(!1)}),1500)}),[]);o.useEffect((function(){return function(){clearTimeout(g.current)}}));(0,Zu.yp)({event:fe.CkL.FAVORITE_GIF,handler:O});var E=o.useCallback((function(){(0,zo.RO)(ui.X1.GIF,l)}),[l]);if(i)return null;var C=b===ui.X1.GIF&&m===l;return(0,r.jsx)(y.Tooltip,{text:d?X.Z.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON:null,forceOpen:!0,
children:function(e){return(0,r.jsx)("div",Lh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Zh(e,t,n[t])}))}return e}({ref:t,className:a()(ui.CT,ap().buttonContainer)},e),{children:(0,r.jsx)(Th,{innerClassName:ap().button,icon:Nh.Z,onClick:E,isActive:C,pulse:c,"aria-label":X.Z.Messages.GIF_BUTTON_LABEL,"aria-expanded":C,"aria-haspopup":"dialog","aria-controls":v})}))}})}const kh=o.memo(o.forwardRef(Dh));var Uh=n(276611),Bh=n(799043);function Fh(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gh(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hh(e){var t=e.disabled,n=e.channel,o=(0,g.Z)(v.Z.GIFT_BUTTON).analyticsLocations;if(t)return null;var i=function(){return(0,Uh.Z)({isGift:!0,initialPlanId:null,subscriptionTier:de.Si.TIER_2,analyticsLocations:o,analyticsObject:{page:n.isPrivate()?fe.ZY5.DM_CHANNEL:fe.ZY5.GUILD_CHANNEL,section:fe.jXE.CHANNEL_TEXT_AREA,object:fe.qAy.BUTTON_ICON,objectType:fe.Qqv.GIFT}})};return(0,r.jsx)(y.Tooltip,{text:X.Z.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP,children:function(e){return(0,r.jsx)(Th,Gh(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fh(e,t,n[t])}))}return e}({},e),{innerClassName:ap().button,isActive:!1,"aria-label":X.Z.Messages.PREMIUM_GIFT_BUTTON_LABEL,"aria-haspopup":"dialog",onClick:i,children:(0,r.jsx)(Bh.Z,{})}))}})}const Vh=o.memo(Hh);var Wh=n(22212),zh=n(575945),Yh=n(249159),Kh=n(74535),qh=n(810648),Xh=n(730381),Qh=n.n(Xh),Jh=n(541502),$h=n(735885),ey=n(70145),ty=n(348592),ny=n(176087),ry=n(501883),oy=n.n(ry),iy=n(81822),ay=n.n(iy),ly=n(933623),uy=n.n(ly),cy=n(72801),sy=n.n(cy),fy=n(956634),dy=n.n(fy);function py(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hy(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function yy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function by(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function my(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return py(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vy,gy,Oy=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:
i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ey=(gy=(vy=function(e,t,n){return Oy(this,(function(r){switch(r.label){case 0:n(!0);return[4,(0,ny.Eo)(e).then((function(){t();(0,$h.Ou)()})).finally((function(){n(!1)}))];case 1:r.sent();return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=vy.apply(e,t);function i(e){hy(o,n,r,i,a,"next",e)}function a(e){hy(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e,t,n){return gy.apply(this,arguments)}),Cy=function(e){
var t,n=e.onClose,i=e.referralsRemaining,l=e.recipient,u=e.analyticsLocations,c=e.shouldShowBirthdayUX,s=my(o.useState(!1),2),f=s[0],d=s[1],p=i-1;return(0,r.jsxs)("div",{className:oy().confirmationContainer,children:[(0,r.jsxs)("div",{className:a()((t={},yy(t,oy().confirmationBody,!c),yy(t,oy().confirmationBirthdayBody,c),t)),children:[(0,r.jsx)(y.ModalCloseButton,{onClick:n,className:oy().closeButton}),(0,r.jsx)("img",{alt:"",src:c?uy():sy(),className:oy().confirmationImage}),(0,r.jsx)(y.Heading,{variant:"heading-xl/bold",color:"interactive-active",className:oy().confirmationHeading,children:X.Z.Messages.SAHRE_NITRO_MODAL_CONFIRMATION_HEADER}),(0,r.jsx)(y.Text,{className:oy().confirmationBodyCopy,variant:"text-md/medium",color:"header-primary",children:p>0?X.Z.Messages.SHARE_NITRO_MODAL_CONFIRMATION_GENERAL.format({count:p}):X.Z.Messages.SHARE_NITRO_MODAL_CONFIRMATION_GENERAL_LAST_REFERRAL}),(0,r.jsx)("hr",{className:oy().confirmationBodySeparator})]}),(0,r.jsxs)("div",{
className:oy().confirmationButtonContainer,children:[(0,r.jsx)(y.Button,{className:oy().confirmationShareButton,submitting:f,onClick:function(){Ey(l,n,d);se.default.track(fe.rMx.SHARE_NITRO_FLOW_STEPS,{location_stack:u,step:de.fz.FLOW_COMPLETED,other_user_id:Number(l)})},children:X.Z.Messages.SHAER_NITRO_CONFIRMATION_BUTTON_TEXT}),(0,r.jsx)("div",{className:oy().confirmationCancelButtonContainer,children:(0,r.jsx)(y.Clickable,{onClick:n,children:(0,r.jsx)(y.Text,{variant:"text-sm/medium",className:oy().confirmationCancelCopy,children:X.Z.Messages.CANCEL})})})]})]})};function Sy(e){var t=e.referralsRemaining,n=e.channel,i=e.onClose,l=e.isResending,u=my(o.useState(!1),2),c=u[0],s=u[1],f=my(o.useState(!1),2),d=f[0],p=f[1],h=n.isDM()&&void 0!==n.recipients?n.recipients[0]:null,b=(0,g.Z)(v.Z.REFERRAL_TRIALS_POPOUT).analyticsLocations,m=qh.Z.useExperiment({},{autoTrackExposure:!0}).enabled,O=new Date("2023-06-15T08:00:00-08:00");return null==h?null:c?(0,r.jsx)(Cy,{onClose:i,
referralsRemaining:t,recipient:h,analyticsLocations:b,shouldShowBirthdayUX:m}):(0,r.jsxs)("div",{className:oy().generalContainer,children:[(0,r.jsxs)("div",{className:oy().generalBodyContainer,children:[(0,r.jsx)("img",{alt:"",src:m?uy():dy(),className:oy().generalBodyImage}),(0,r.jsxs)("div",{className:oy().innerContent,children:[(0,r.jsx)(y.ModalCloseButton,{onClick:i,className:oy().closeButton}),(0,r.jsx)(y.Heading,{className:oy().generalHeading,variant:"heading-xl/bold",children:l?X.Z.Messages.SHARE_NITRO_RESEND_TRIAL_HEADER:X.Z.Messages.SHARE_NITRO_MODAL_HEADER}),(0,r.jsxs)(y.Text,{className:oy().generalBodyCopy,variant:"text-md/normal",children:[(0,r.jsx)(y.Anchor,{className:a()(oy().learnMore,yy({},oy().learnMoreResendUnderlinedText,l)),href:ty.Z.getArticleURL(fe.BhN.SHARE_NITRO_FAQ),children:l?X.Z.Messages.SHARE_NITRO_RESEND_TRIAL_BODY:X.Z.Messages.SHARE_NITRO_MODAL_BODY_GENERAL.format({count:t})}),l?(0,r.jsx)("div",{className:oy().shareNitroResendCopySuffix,
children:X.Z.Messages.SHARE_NITRO_RESEND_TRIAL_BODY_2}):(0,r.jsx)("div",{children:X.Z.Messages.SHARE_NITRO_MODAL_BODY_SHARE_THEM_BY.format({date:(0,ey.vc)(Qh()(O),"LL")})})]})]}),m&&(0,r.jsx)("img",{alt:"",src:ay(),className:oy().birthdayBackgroundImage})]}),(0,r.jsx)("div",{className:oy().generalButtonContainer,children:(0,r.jsx)(y.Button,{className:oy().generalShareButton,submitting:d,onClick:function(){if(l)Ey(h,i,p);else{s(!0);se.default.track(fe.rMx.SHARE_NITRO_FLOW_STEPS,{location_stack:b,step:de.fz.FLOW_STARTED,other_user_id:Number(h)})}},children:l?X.Z.Messages.SHARE_NITRO_RESEND_BUTTON_TEXT:X.Z.Messages.SHARE_NITRO_BUTTON_TEXT})})]})}function jy(e){var t=e.shouldShowPopout,n=e.referralsRemaining,o=e.channel,i=e.onClose,a=e.isResending;return t?(0,r.jsx)("div",{onMouseDown:function(e){return e.stopPropagation()},children:(0,r.jsx)(Jh.y,{shouldShow:!0,position:"top",align:"center",renderPopout:function(e){return(0,r.jsx)(Sy,by(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yy(e,t,n[t])}))}return e}({},e),{referralsRemaining:n,channel:o,onClose:i,isResending:a}))},onRequestClose:function(){},closeOnScroll:!1,ignoreModalClicks:!0,children:function(){return(0,r.jsx)("div",{className:oy().popoutTarget})}})}):null}var _y=n(336194),Iy=n(633878);function wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Py(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ay(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ty(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||My(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ny(e){return function(e){if(Array.isArray(e))return wy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||My(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function My(e,t){if(e){if("string"==typeof e)return wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wy(e,t):void 0}}
var Zy="currentColor",Ly=new Map([["url(#birthday_gradient_1)","url(#birthday_secondary_gradient_1)"],["url(#birthday_gradient_2)","url(#birthday_secondary_gradient_2)"],["url(#birthday_gradient_3)","url(#birthday_secondary_gradient_3)"]]),Ry=new Map([["url(#birthday_gradient_1_light)","url(#birthday_secondary_gradient_1_light)"],["url(#birthday_gradient_2_light)","url(#birthday_secondary_gradient_2_light)"],["url(#birthday_gradient_3_light)","url(#birthday_secondary_gradient_3_light)"]]),Dy=function(e){var t=e.referralsRemaining,n=e.fillColor,o=e.secondaryFillColor;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M27.1899 15.6966C26.7297 16.7497 26.0852 17.7137 25.2855 18.5425C24.38 19.4811 23.2941 20.2272 22.0931 20.7358C19.704 21.7967 16.9967 21.8902 14.54 20.9969C12.0833 20.1036 10.0685 18.2928 8.91879 15.9452C8.46102 14.9636 8.16829 13.9132 8.05239 12.8363H6.06478C5.8034 12.8364 5.55253 12.7334 5.36652 12.5498C5.1805 12.3661 5.07432 12.1166 5.07097 11.8553C5.07263 11.7264 5.09966 11.5992 5.1505 11.4808C5.20135 11.3624 5.27502 11.2552 5.3673 11.1653C5.45959 11.0753 5.56868 11.0045 5.68836 10.9567C5.80803 10.909 5.93594 10.8853 6.06478 10.8869H8.91879C9.04763 10.8869 9.1752 10.8616 9.29423 10.8123C9.41326 10.763 9.52141 10.6907 9.61251 10.5996C9.70361 10.5085 9.77588 10.4003 9.82518 10.2813C9.87448 10.1623 9.89986 10.0347 9.89986 9.90587C9.89986 9.77704 9.87448 9.64946 9.82518 9.53043C9.77588 9.4114 9.70361 9.30325 9.61251 9.21215C9.52141 9.12105 9.41326 9.04879 9.29423 8.99948C9.1752 8.95018 9.04763 8.9248 8.91879 8.9248H4.34473C4.21589 8.92649 4.08798 8.90278 3.9683 8.85502C3.84863 8.80727 3.73954 8.73641 3.64725 8.64649C3.55496 8.55657 3.4813 8.44935 3.43045 8.33096C3.37961 8.21257 3.35258 8.08532 3.35092 7.95648C3.35427 7.69512 3.46045 7.4456 3.64646 7.26197C3.83248 7.07834 4.08334 6.97539 4.34473 6.97541H10.779C10.9164 6.99114 11.0555 6.97766 11.1873 6.93586C11.3191 6.89405 11.4405 6.82487 11.5437 6.73283C11.6469 6.6408 11.7294 6.528 11.7859 6.40183C11.8425 6.27566 11.8717 6.13897 11.8717 6.00071C11.8717 5.86246 11.8425 5.72577 11.7859 5.5996C11.7294 5.47342 11.6469 5.36063 11.5437 5.26859C11.4405 5.17656 11.3191 5.10738 11.1873 5.06557C11.0555 5.02377 10.9164 5.01029 10.779 5.02602H8.19255C7.98262 5.04532 7.77097 5.02064 7.57112 4.95354C7.37127 4.88644 7.1876 4.7784 7.03186 4.63632C6.87611 4.49424 6.75171 4.32124 6.66659 4.12838C6.58147 3.93551 6.53751 3.72701 6.53751 3.51619C6.53751 3.30538 6.58147 3.09688 6.66659 2.90401C6.75171 2.71115 6.87611 2.53815 7.03186 2.39607C7.1876 2.25399 7.37127 2.14595 7.57112 2.07885C7.77097 2.01175 7.98262 1.98707 8.19255 2.00637H18.3855C18.7845 2.02155 19.181 2.06039 19.573 2.12223C18.4001 3.20574 17.5522 4.63592 17.192 6.25005C16.658 6.32722 16.133 6.48003 15.6334 6.70785C14.9556 7.00255 14.3439 7.43011 13.8342 7.96527C13.3245 8.50042 12.9273 9.13232 12.666 9.82361C12.4047 10.5149 12.2846 11.2515 12.3128 11.99C12.341 12.7285 12.517 13.4539 12.8303 14.1232C13.4795 15.479 14.6341 16.5265 16.0465 17.041C17.4589 17.5554 19.0167 17.496 20.3858 16.8753C21.0624 16.5792 21.673 16.1508 22.1817 15.6154C22.2111 15.5845 22.2401 15.5532 22.2687 15.5216C23.121 15.8312 24.0408 16 25 16C25.7593 16 26.4939 15.8942 27.1899 15.6966ZM20.4791 14.601L20.1568 15.1419C20.1268 15.1966 20.0825 15.242 20.0286 15.2734C19.9748 15.3049 19.9134 15.3211 19.851 15.3203H16.1943C16.132 15.3211 16.0706 15.3049 16.0167 15.2734C15.9629 15.242 15.9185 15.1966 15.8885 15.1419L14.0156 12.0203C13.9844 11.9638 13.968 11.9002 13.968 11.8356C13.968 11.771 13.9844 11.7074 14.0156 11.6508L15.8885 8.59296C15.9211 8.54156 15.9664 8.49936 16.0199 8.47036C16.0734 8.44137 16.1335 8.42656 16.1943 8.42733H17.0112C17.1461 10.991 18.488 13.2347 20.4791 14.601ZM1.54168 8.9248C1.80309 8.92824 2.05533 8.82853 2.24374 8.64728C2.43215 8.46602 2.54155 8.21783 2.54823 7.95648C2.54165 7.69616 2.43445 7.44851 2.24913 7.26557C2.06381 7.08263 1.8148 6.97862 1.55442 6.97541H0.993808C0.733423 6.97862 0.484416 7.08263 0.299097 7.26557C0.113779 7.44851 0.00657271 7.69616 0 7.95648C0.0066466 8.21561 0.114278 8.46189 0.299938 8.64279C0.485597 8.82369 0.73459 8.92489 0.993808 8.9248H1.54168Z",
fill:n}),(0,r.jsx)("path",{d:"M31 8C31 11.3137 28.3137 14 25 14C21.6863 14 19 11.3137 19 8C19 4.68629 21.6863 2 25 2C28.3137 2 31 4.68629 31 8Z",fill:null!=o?o:n,mask:"url(#mask)"}),(0,r.jsxs)("mask",{id:"mask",children:[(0,r.jsx)("path",{d:"M31 8C31 11.3137 28.3137 14 25 14C21.6863 14 19 11.3137 19 8C19 4.68629 21.6863 2 25 2C28.3137 2 31 4.68629 31 8Z",fill:"white"}),(0,r.jsx)("text",{fill:"black",fontFamily:"gg sans",fontSize:"12",fontWeight:"600",letterSpacing:"0em",children:(0,r.jsx)("tspan",{x:"21.6367",y:"12.212",children:t})})]})]})},ky=function(e){var t=e.fillColor;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M3.24374 8.64728C3.05533 8.82853 2.80309 8.92824 2.54168 8.9248H1.99381C1.73459 8.92489 1.4856 8.82369 1.29994 8.64279C1.11428 8.46189 1.00665 8.21561 1 7.95648C1.00657 7.69616 1.11378 7.44851 1.2991 7.26557C1.48442 7.08263 1.73342 6.97862 1.99381 6.97541H2.55442C2.8148 6.97862 3.06381 7.08263 3.24913 7.26557C3.43445 7.44851 3.54165 7.69616 3.54823 7.95648C3.54155 8.21783 3.43215 8.46602 3.24374 8.64728ZM26.2855 18.5425C25.38 19.4811 24.2941 20.2272 23.0931 20.7358C20.704 21.7967 17.9967 21.8902 15.54 20.9969C13.0833 20.1036 11.0685 18.2928 9.91879 15.9452C9.46102 14.9636 9.16829 13.9132 9.05239 12.8363H7.06478C6.8034 12.8364 6.55253 12.7334 6.36652 12.5498C6.1805 12.3661 6.07432 12.1166 6.07097 11.8553C6.07263 11.7264 6.09966 11.5992 6.1505 11.4808C6.20135 11.3624 6.27502 11.2552 6.3673 11.1653C6.45959 11.0753 6.56868 11.0045 6.68836 10.9567C6.80803 10.909 6.93594 10.8853 7.06478 10.8869H9.91879C10.0476 10.8869 10.1752 10.8616 10.2942 10.8123C10.4133 10.763 10.5214 10.6907 10.6125 10.5996C10.7036 10.5085 10.7759 10.4003 10.8252 10.2813C10.8745 10.1623 10.8999 10.0347 10.8999 9.90587C10.8999 9.77704 10.8745 9.64946 10.8252 9.53043C10.7759 9.4114 10.7036 9.30325 10.6125 9.21215C10.5214 9.12105 10.4133 9.04879 10.2942 8.99948C10.1752 8.95018 10.0476 8.9248 9.91879 8.9248H5.34473C5.21589 8.92649 5.08798 8.90278 4.9683 8.85502C4.84863 8.80727 4.73954 8.73641 4.64725 8.64649C4.55496 8.55657 4.4813 8.44935 4.43045 8.33096C4.37961 8.21257 4.35258 8.08532 4.35092 7.95648C4.35427 7.69512 4.46045 7.4456 4.64646 7.26197C4.83248 7.07834 5.08334 6.97539 5.34473 6.97541H11.779C11.9164 6.99114 12.0555 6.97766 12.1873 6.93586C12.3191 6.89405 12.4405 6.82487 12.5437 6.73283C12.6469 6.6408 12.7294 6.528 12.7859 6.40183C12.8425 6.27566 12.8717 6.13897 12.8717 6.00071C12.8717 5.86246 12.8425 5.72577 12.7859 5.5996C12.7294 5.47342 12.6469 5.36063 12.5437 5.26859C12.4405 5.17656 12.3191 5.10738 12.1873 5.06557C12.0555 5.02377 11.9164 5.01029 11.779 5.02602H9.19255C8.98262 5.04532 8.77097 5.02064 8.57112 4.95354C8.37127 4.88644 8.1876 4.7784 8.03186 4.63632C7.87611 4.49424 7.75171 4.32124 7.66659 4.12838C7.58147 3.93551 7.53751 3.72701 7.53751 3.51619C7.53751 3.30538 7.58147 3.09688 7.66659 2.90401C7.75171 2.71115 7.87611 2.53815 8.03186 2.39607C8.1876 2.25399 8.37127 2.14595 8.57112 2.07885C8.77097 2.01175 8.98262 1.98707 9.19255 2.00637H19.3855C21.2132 2.07591 22.9875 2.64152 24.5182 3.64258C26.049 4.64363 27.2785 6.04239 28.0749 7.68891C28.6312 8.86858 28.9435 10.1485 28.993 11.4518C29.0425 12.7551 28.8282 14.055 28.363 15.2735C27.8977 16.4919 27.1911 17.6039 26.2855 18.5425ZM13.3128 11.99C13.341 12.7285 13.517 13.4539 13.8303 14.1232C14.4795 15.479 15.6341 16.5265 17.0465 17.041C18.4589 17.5554 20.0167 17.496 21.3858 16.8753C22.0624 16.5792 22.673 16.1508 23.1817 15.6154C23.6904 15.08 24.0869 14.4484 24.3481 13.7576C24.6092 13.0667 24.7296 12.3307 24.7023 11.5927C24.6749 10.8547 24.5004 10.1295 24.1889 9.45993C23.5422 8.1018 22.3878 7.05217 20.9744 6.53736C19.5611 6.02254 18.002 6.08377 16.6334 6.70785C15.9556 7.00255 15.3439 7.43011 14.8342 7.96527C14.3245 8.50042 13.9273 9.13232 13.666 9.82361C13.4047 10.5149 13.2846 11.2515 13.3128 11.99ZM17.1943 8.42733H20.851C20.9185 8.43261 20.9831 8.45698 21.0372 8.49759C21.0914 8.5382 21.1328 8.59337 21.1568 8.65667L22.9788 11.7145C23.01 11.7711 23.0264 11.8347 23.0264 11.8993C23.0264 11.9639 23.01 12.0275 22.9788 12.084L21.1568 15.1419C21.1268 15.1966 21.0825 15.242 21.0286 15.2734C20.9748 15.3049 20.9134 15.3211 20.851 15.3203H17.1943C17.132 15.3211 17.0706 15.3049 17.0167 15.2734C16.9629 15.242 16.9185 15.1966 16.8885 15.1419L15.0156 12.0203C14.9844 11.9638 14.968 11.9002 14.968 11.8356C14.968 11.771 14.9844 11.7074 15.0156 11.6508L16.8885 8.59296C16.9211 8.54156 16.9664 8.49936 17.0199 8.47036C17.0734 8.44137 17.1335 8.42656 17.1943 8.42733Z",
fill:t})})};function Uy(e){var t,n=e.width,i=void 0===n?31:n,a=e.height,l=void 0===a?22:a,u=e.referralsRemaining,c=e.isResending,s=e.hovered,f=e.shouldShowBirthdayUX,d=e.isLightTheme,p=Ay(e,["width","height","referralsRemaining","isResending","hovered","shouldShowBirthdayUX","isLightTheme"]),h=Ty(o.useState(Zy),2),y=h[0],b=h[1],m=null!==(t=Ly.get(y))&&void 0!==t?t:null;o.useEffect((function(){s?b((function(e){return function(e,t,n,r,o){if(!t||r)return e?"url(#nitro_hover)":Zy;var i=n?Ny(Ry.keys()).filter((function(e){return e!==o})):Ny(Ly.keys()).filter((function(e){return e!==o}));return i[Math.floor(Math.random()*i.length)]}(s,f,d,c,e)})):c&&b(Zy)}),[s,f,d,c]);return(0,r.jsxs)("svg",xy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Py(e,t,n[t])}))}return e}({width:i,height:l},(0,Iy.Z)(p)),{xmlns:"http://www.w3.org/2000/svg",children:[c?(0,r.jsx)(ky,{fillColor:y}):(0,r.jsx)(Dy,{referralsRemaining:u,fillColor:s?y:Zy,secondaryFillColor:s?m:null}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"nitro_hover",x1:"0",y1:"11.8026",x2:"27.1899",y2:"11.8026",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:_y.Z.unsafe_rawColors.PREMIUM_TIER_2_PURPLE.css}),(0,r.jsx)("stop",{offset:"1",stopColor:_y.Z.unsafe_rawColors.PREMIUM_TIER_2_PINK.css})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_1",x1:"0",y1:"9.80261",x2:"27.1899",y2:"9.80261",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#FF52D2"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#5665F9"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_1",x1:"20",y1:"8",x2:"32",y2:"8",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#FF52D2"}),(0,r.jsx)("stop",{offset:"1",
"stop-color":"#5665F9"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_2",x1:"9.91249",y1:"11.7943",x2:"20.7838",y2:"11.7943",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.18","stop-color":"#A4EF00"}),(0,r.jsx)("stop",{offset:"0.24","stop-color":"#A2EB07"}),(0,r.jsx)("stop",{offset:"0.31","stop-color":"#9CE01B"}),(0,r.jsx)("stop",{offset:"0.41","stop-color":"#92CE3B"}),(0,r.jsx)("stop",{offset:"0.51","stop-color":"#83B568"}),(0,r.jsx)("stop",{offset:"0.62","stop-color":"#7196A1"}),(0,r.jsx)("stop",{offset:"0.74","stop-color":"#5C6FE6"}),(0,r.jsx)("stop",{offset:"0.77","stop-color":"#5665F9"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_2",x1:"23.9334",y1:"7.99494",x2:"28.7314",y2:"7.99494",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.18","stop-color":"#A4EF00"}),(0,r.jsx)("stop",{offset:"0.24","stop-color":"#A2EB07"}),(0,r.jsx)("stop",{offset:"0.31","stop-color":"#9CE01B"}),(0,r.jsx)("stop",{offset:"0.41",
"stop-color":"#92CE3B"}),(0,r.jsx)("stop",{offset:"0.51","stop-color":"#83B568"}),(0,r.jsx)("stop",{offset:"0.62","stop-color":"#7196A1"}),(0,r.jsx)("stop",{offset:"0.74","stop-color":"#5C6FE6"}),(0,r.jsx)("stop",{offset:"0.77","stop-color":"#5665F9"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_3",x1:"0.01376",y1:"9.77244",x2:"27.1954",y2:"9.77244",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.21","stop-color":"#A4EF00"}),(0,r.jsx)("stop",{offset:"0.95","stop-color":"#FF52D2"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_3",x1:"19.0061",y1:"5.98154",x2:"31.0024",y2:"5.98154",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.21","stop-color":"#A4EF00"}),(0,r.jsx)("stop",{offset:"0.95","stop-color":"#FF52D2"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_1_light",x1:"6.85923",y1:"4.92266",x2:"28.1595",y2:"10.6567",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#8547C6"}),(0,
r.jsx)("stop",{offset:"0.52899","stop-color":"#B845C1"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#AB5D8A"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_1_light",x1:"22.0273",y1:"3.01307",x2:"31.7431",y2:"4.89899",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{"stop-color":"#8547C6"}),(0,r.jsx)("stop",{offset:"0.52899","stop-color":"#B845C1"}),(0,r.jsx)("stop",{offset:"1","stop-color":"#AB5D8A"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_2_light",x1:"8.91249",y1:"9.79433",x2:"19.7838",y2:"9.79433",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.18","stop-color":"#9EE700"}),(0,r.jsx)("stop",{offset:"0.31","stop-color":"#9CE01B"}),(0,r.jsx)("stop",{offset:"0.41","stop-color":"#92CE3B"}),(0,r.jsx)("stop",{offset:"0.51","stop-color":"#83B568"}),(0,r.jsx)("stop",{offset:"0.62","stop-color":"#7196A1"}),(0,r.jsx)("stop",{offset:"0.74","stop-color":"#5C6FE6"}),(0,r.jsx)("stop",{offset:"0.77","stop-color":"#5665F9"})]}),(0,
r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_2_light",x1:"22.9334",y1:"5.99494",x2:"27.7314",y2:"5.99494",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.18","stop-color":"#9EE700"}),(0,r.jsx)("stop",{offset:"0.31","stop-color":"#9CE01B"}),(0,r.jsx)("stop",{offset:"0.41","stop-color":"#92CE3B"}),(0,r.jsx)("stop",{offset:"0.51","stop-color":"#83B568"}),(0,r.jsx)("stop",{offset:"0.62","stop-color":"#7196A1"}),(0,r.jsx)("stop",{offset:"0.74","stop-color":"#5C6FE6"}),(0,r.jsx)("stop",{offset:"0.77","stop-color":"#5665F9"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_gradient_3_light",x1:"0.01376",y1:"9.77244",x2:"27.1954",y2:"9.77244",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0.21","stop-color":"#9EE700"}),(0,r.jsx)("stop",{offset:"0.95","stop-color":"#FF52D2"})]}),(0,r.jsxs)("linearGradient",{id:"birthday_secondary_gradient_3_light",x1:"19.0061",y1:"5.98154",x2:"31.0024",y2:"5.98154",gradientUnits:"userSpaceOnUse",children:[(0,
r.jsx)("stop",{offset:"0.21","stop-color":"#9EE700"}),(0,r.jsx)("stop",{offset:"0.95","stop-color":"#FF52D2"})]})]})]}))}function By(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fy(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fy(e,t,n[t])}))}return e}function Hy(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return By(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wy(e){var t=e.disabled,n=e.referralsRemaining,i=e.channel,a=e.isResending,l=qh.Z.useExperiment({},{autoTrackExposure:!0}).enabled,u=l?X.Z.Messages.SHARE_NITRO_BIRTHDAY_TOOLTIP.format():a?X.Z.Messages.SHARE_NITRO_RESEND_TOOLTIP:X.Z.Messages.SHARE_NITRO_TOOLTIP,c=l?X.Z.Messages.SHARE_NITRO_BIRTHDAY_TOOLTIP_UNFORMATTED:null,s=Vy(o.useState(!1),2),f=s[0],d=s[1],p=Vy(o.useState(!1),2),h=p[0],y=p[1],b=(0,Yh.Z)(null,(function(){return y(!1)})),m=(0,g.Z)(v.Z.REFERRAL_TRIALS_COMPOSER_BUTTON).analyticsLocations,O=i.isDM()&&void 0!==i.recipients?i.recipients[0]:null,E=(0,Kh.ZP)();return t?null:(0,r.jsxs)("div",{ref:b,className:ap().buttonContainer,children:[(0,r.jsx)(jy,{shouldShowPopout:h,referralsRemaining:n,channel:i,onClose:function(){return y(!1)},isResending:a}),(0,r.jsx)(Wh.u,{text:u,shouldShow:!h,
"aria-label":null!=c?c:u,children:function(e){return(0,r.jsx)("div",{onMouseEnter:function(){if(!h&&!f){d(!0);se.default.track(fe.rMx.SHARE_NITRO_FLOW_STEPS,{location_stack:m,step:de.fz.BADGE_TOOLTIP_VIEWED,other_user_id:Number(O)})}},onMouseLeave:function(){d(!1)},children:(0,r.jsx)(Th,Hy(Gy({},e),{innerClassName:ap().button,isActive:h,"aria-label":null!=c?c:u,"aria-haspopup":"dialog",onClick:function(){y((function(e){return!e}));se.default.track(fe.rMx.SHARE_NITRO_FLOW_STEPS,{location_stack:m,step:de.fz.BADGE_CLICKED,other_user_id:Number(O)})},children:(0,r.jsx)(Uy,{referralsRemaining:n,hovered:f,isResending:a,shouldShowBirthdayUX:l,isLightTheme:(0,zh.ap)(E)})}))})}})]})}const zy=o.memo(Wy);var Yy=n(627342),Ky=n(50433),qy=n(309809),Xy=n.n(qy),Qy=n(772766),Jy=n.n(Qy);function $y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function eb(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tb(e){var t=e.updatePosition,n=e.onComplete;o.useEffect((function(){se.default.track(fe.rMx.PREMIUM_GIFT_UPSELL_VIEWED,{type:"holiday_gifting_tip"})}),[]);return(0,r.jsxs)("div",{className:Xy().container,children:[(0,r.jsx)("img",{className:Xy().image,alt:"",src:Jy(),onLoad:function(){return t()}}),(0,r.jsxs)("div",{className:Xy().body,children:[(0,r.jsx)(y.Heading,{className:Xy().text,variant:"heading-sm/semibold",children:X.Z.Messages.SEASONAL_GIFTING_POPUP_HEADER}),(0,r.jsx)(y.Text,{className:Xy().text,variant:"text-sm/normal",
children:X.Z.Messages.SEASONAL_GIFTING_SPREAD_CHEER_TOOLTIP})]}),(0,r.jsx)(y.Button,{className:Xy().button,look:y.Button.Looks.INVERTED,color:y.Button.Colors.BRAND,onClick:function(){return n()},children:X.Z.Messages.GOT_IT}),(0,r.jsx)("div",{className:Xy().pointer})]})}function nb(e){var t=e.hovered,n=e.onComplete,o=(0,h.e7)([Ky.Z],(function(){return!(null===Ky.Z||void 0===Ky.Z?void 0:Ky.Z.hasLayers())}));return t&&o?(0,r.jsx)(Yy.Z,{contentTypes:[Rp.z$.SEASONAL_GIFTING_COACHMARK_2022],children:function(e){var t=e.visibleContent,o=e.markAsDismissed;return t===Rp.z$.SEASONAL_GIFTING_COACHMARK_2022?(0,r.jsx)(y.Popout,{spacing:0,shouldShow:!0,position:"top",align:"center",renderPopout:function(e){return(0,r.jsx)(tb,eb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){$y(e,t,n[t])}))}return e}({},e),{onComplete:function(){n();o()}}))},onRequestClose:function(){},closeOnScroll:!1,ignoreModalClicks:!0,children:function(){return(0,r.jsx)("div",{className:Xy().popoutTarget})}}):null}}):null}var rb=n(590070);var ob=n(26121),ib=n.n(ob);function ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ab(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ub=[{box:"#FFD89E",ribbon:"#FF7476"},{box:"#17B5E2",ribbon:"#FFFFFF"},{box:"#EED169",ribbon:"#51A1EB"},{box:"#509C65",ribbon:"#FFC96E"},{box:"#E4578A",ribbon:"#BEC4FF"},{box:"#AFE0FC",ribbon:"#FF9356"},{box:"#DB6D6D",ribbon:"#67DA9C"}],cb=[{box:"#EABB75",ribbon:"#E4595C"},{box:"#2D7AA5",ribbon:"#64C7C2"},{box:"#ECBF21",ribbon:"#51A1EB"},{box:"#439359",ribbon:"#D5A24C"},{box:"#FC90C4",ribbon:"#777FCE"},{box:"#549DC6",ribbon:"#FF9356"},{box:"#DB6F6F",ribbon:"#81C29F"}];var sb=(0,Ch.animated)((function(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.boxColor,l=e.ribbonColor,u=e.style;return(0,r.jsxs)("svg",{style:u,width:n,height:i,viewBox:"0 0 24 24",
fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M3 13.999V19.999C3 21.102 3.897 21.999 5 21.999H11V13.999H3Z",fill:a}),(0,r.jsx)("path",{d:"M13 13.999V21.999H19C20.104 21.999 21 21.102 21 19.999V13.999H13Z",fill:a}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M20 7.99882H16.886C17.337 7.76382 17.764 7.47682 18.121 7.12082C19.29 5.95182 19.29 4.04882 18.121 2.87682C16.986 1.74582 15.014 1.74482 13.879 2.87782C12.242 4.51482 12.022 7.59582 12.002 7.94182C12 7.96182 12.01 7.97882 12.01 7.99882H11.99C11.99 7.97882 12 7.96182 11.998 7.94082C11.979 7.59482 11.758 4.51382 10.121 2.87682C8.986 1.74582 7.012 1.74582 5.879 2.87882C4.709 4.04782 4.709 5.95082 5.879 7.12082C6.236 7.47682 6.663 7.76382 7.114 7.99882H4C2.897 7.99882 2 8.89582 2 9.99882V11.9988H22V9.99882C22 8.89582 21.104 7.99882 20 7.99882ZM7.293 4.29182C6.903 4.68182 6.903 5.31582 7.293 5.70682C7.879 6.29282 8.945 6.63882 9.825 6.82182C9.641 5.93982 9.297 4.88182 8.707 4.29182C8.519 4.10282 8.268 3.99982 8 3.99982C7.732 3.99982 7.481 4.10282 7.293 4.29182ZM15.293 4.29282C14.702 4.88282 14.359 5.94082 14.174 6.82382C15.057 6.64182 16.116 6.29782 16.707 5.70682C17.097 5.31582 17.096 4.68182 16.706 4.29082C16.519 4.10282 16.268 3.99982 16 3.99982C15.732 3.99982 15.481 4.10282 15.293 4.29282Z",
fill:a}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M16.8861 7.99882C17.3371 7.76382 17.7641 7.47682 18.1211 7.12082C19.2901 5.95182 19.2901 4.04882 18.1211 2.87682C16.9861 1.74582 15.0141 1.74482 13.8791 2.87782C12.2421 4.51482 12.0221 7.59582 12.0021 7.94182C12.0001 7.96182 12.0101 7.97882 12.0101 7.99882H11.9901C11.9901 7.97882 12.0001 7.96182 11.9981 7.94082C11.9791 7.59482 11.7581 4.51382 10.1211 2.87682C8.98606 1.74582 7.01206 1.74582 5.87906 2.87882C4.70906 4.04782 4.70906 5.95082 5.87906 7.12082C6.23606 7.47682 6.66306 7.76382 7.11406 7.99882C-3.67757 7.99882 23.9877 7.99882 16.8861 7.99882ZM7.29306 4.29182C6.90306 4.68182 6.90306 5.31582 7.29306 5.70682C7.87906 6.29282 8.94506 6.63882 9.82506 6.82182C9.64106 5.93982 9.29706 4.88182 8.70706 4.29182C8.51906 4.10282 8.26806 3.99982 8.00006 3.99982C7.73206 3.99982 7.48106 4.10282 7.29306 4.29182ZM15.2931 4.29282C14.7021 4.88282 14.3591 5.94082 14.1741 6.82382C15.0571 6.64182 16.1161 6.29782 16.7071 5.70682C17.0971 5.31582 17.0961 4.68182 16.7061 4.29082C16.5191 4.10282 16.2681 3.99982 16.0001 3.99982C15.7321 3.99982 15.4811 4.10282 15.2931 4.29282Z",
fill:l}),(0,r.jsx)("rect",{x:"3",y:"12",width:"18",height:"2",fill:l}),(0,r.jsx)("rect",{x:"11",y:"8",width:"2",height:"4",fill:l}),(0,r.jsx)("rect",{x:"11",y:"14",width:"2",height:"8",fill:l})]})})),fb=(0,Ch.animated)((function(e){var t=e.isDark,n=e.style;return t?(0,r.jsxs)("svg",{style:n,width:"24",height:"27",viewBox:"0 0 24 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M16.9565 5.2944L14.0303 6.35946C14.3737 5.98438 14.6768 5.56864 14.8905 5.11201C15.5892 3.61369 14.9383 1.82545 13.439 1.12395C11.9856 0.449355 10.1322 1.12288 9.45316 2.57574C8.47477 4.67391 9.3218 7.64434 9.42134 7.97632C9.4263 7.9958 9.44151 8.00835 9.44836 8.02715L9.42956 8.03399C9.42272 8.01519 9.4263 7.9958 9.41724 7.97675C9.28105 7.65811 8.01961 4.83851 5.92145 3.86012C4.46807 3.18552 2.61312 3.86066 1.93596 5.31284C1.23634 6.81151 1.8872 8.59974 3.38681 9.29902C3.84403 9.51145 4.34344 9.6351 4.84762 9.70168L1.92142 10.7667C0.884936 11.144 0.348823 12.2937 0.726071 13.3302L1.41011 15.2095L20.204 8.36913L19.5199 6.48975C19.1427 5.45327 17.9939 4.91681 16.9565 5.2944ZM3.74796 6.15701C3.51486 6.65688 3.7317 7.25265 4.23191 7.48668C4.983 7.83691 6.10305 7.79746 6.99257 7.66844C6.518 6.90256 5.83289 6.02602 5.07668 5.6734C4.83538 5.5601 4.56429 5.54915 4.31245 5.64082C4.06061 5.73248 3.85998 5.91511 3.74796 6.15701ZM11.2658 3.42179C10.9123 4.17834 10.9518 5.28985 11.08 6.18287C11.8475 5.70985 12.725 5.02439 13.0782 4.2669C13.3109 3.76609 13.0932 3.17067 12.5929 2.93664C12.3529 2.82393 12.0818 2.81299 11.83 2.90465C11.5782 2.99632 11.3775 3.17895 11.2658 3.42179Z",
fill:"url(#paint0_linear_2683_16702)"}),(0,r.jsx)("path",{d:"M21.9355 8.82275C21.3596 13.7273 19.056 16.7554 19.056 16.7554",stroke:"#5865F2",strokeWidth:"3",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M19.4857 12.5113L18.9294 12.5444C18.8015 12.552 18.6819 12.61 18.5968 12.7058C18.5118 12.8016 18.4682 12.9273 18.4758 13.0552L18.7061 16.9311C18.7099 16.996 18.7268 17.0595 18.7557 17.1177C18.7847 17.1759 18.8251 17.2277 18.8745 17.27C18.9239 17.3122 18.9814 17.344 19.0434 17.3636C19.1054 17.3831 19.1708 17.3898 19.2355 17.3835L19.7918 17.3504C20.0968 17.3323 20.382 17.1938 20.5848 16.9654C20.7877 16.7369 20.8914 16.4373 20.8733 16.1323L20.7224 13.5917C20.7042 13.2867 20.5657 13.0015 20.3373 12.7987C20.1089 12.5959 19.8092 12.4921 19.5043 12.5102L19.4857 12.5113Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M8.06376 10.3064L17.1137 9.76874C18.5271 9.68477 19.741 10.7625 19.825 12.1759L20.0622 16.1686C20.1461 17.582 19.0684 18.7959 17.655 18.8799L8.60506 19.4176C7.19165 19.5015 5.97779 18.4238 5.89381 17.0104L5.6566 13.0177C5.57263 11.6042 6.65035 10.3904 8.06376 10.3064Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M18.1642 14.0981C17.7332 14.0981 17.3839 13.7488 17.3839 13.3179C17.3839 12.8869 17.7332 12.5376 18.1642 12.5376C18.5951 12.5376 18.9444 12.8869 18.9444 13.3179C18.9444 13.7488 18.5951 14.0981 18.1642 14.0981Z",fill:"black"}),(0,r.jsx)("path",{d:"M7.33246 13.2305L5.05143 13.366C4.7514 13.3838 4.47075 13.5201 4.2712 13.7448C4.07166 13.9696 3.96957 14.2644 3.98739 14.5644L4.14054 17.1422C4.15836 17.4422 4.29464 17.7229 4.5194 17.9224C4.74415 18.122 5.03897 18.224 5.33899 18.2062L7.62002 18.0707L7.33246 13.2305Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M6.12411 13.8623L5.47504 13.9009C5.33733 13.909 5.2085 13.9716 5.11691 14.0748C5.02531 14.1779 4.97845 14.3133 4.98663 14.451L5.10452 16.4353C5.1127 16.573 5.17526 16.7018 5.27842 16.7934C5.38159 16.885 5.51691 16.9319 5.65463 16.9237L6.3037 16.8851L6.12411 13.8623Z",fill:"#B8CDFF"}),(0,r.jsx)("path",{d:"M9.54422 14.6749C9.08252 14.6749 8.70823 14.3006 8.70823 13.8389C8.70823 13.3772 9.08252 13.0029 9.54422 13.0029C10.0059 13.0029 10.3802 13.3772 10.3802 13.8389C10.3802 14.3006 10.0059 14.6749 9.54422 14.6749Z",fill:"black"}),(0,r.jsx)("path",{
d:"M16.7178 11.9692L11.822 12.2601C11.7148 12.2665 11.6099 12.2939 11.5134 12.3408C11.4168 12.3877 11.3304 12.4531 11.2592 12.5334C11.1879 12.6137 11.1331 12.7072 11.098 12.8086C11.0629 12.9101 11.0481 13.0174 11.0545 13.1246L11.1734 15.1274C11.2053 15.6635 11.4488 16.165 11.8504 16.5216C12.252 16.8782 12.7788 17.0606 13.3149 17.0287L16.0781 16.8646C16.3095 16.8508 16.5359 16.7916 16.7444 16.6904C16.9529 16.5892 17.1394 16.4479 17.2932 16.2745C17.4471 16.1012 17.5654 15.8993 17.6412 15.6803C17.717 15.4613 17.749 15.2295 17.7352 14.9981L17.6019 12.7542C17.5979 12.6437 17.5715 12.5353 17.5244 12.4353C17.4773 12.3354 17.4104 12.246 17.3278 12.1726C17.2451 12.0993 17.1485 12.0434 17.0436 12.0084C16.9388 11.9735 16.828 11.9602 16.7178 11.9692Z",fill:"#B8CDFF"}),(0,r.jsx)("path",{
d:"M16.195 15.8076H16.548C16.5952 15.8079 16.6419 15.7982 16.6851 15.7791C16.7283 15.7601 16.767 15.732 16.7986 15.6969C16.8302 15.6618 16.854 15.6204 16.8684 15.5755C16.8829 15.5305 16.8876 15.483 16.8824 15.4361C16.8827 15.3889 16.8729 15.3421 16.8539 15.2989C16.8348 15.2557 16.8068 15.217 16.7717 15.1855C16.7366 15.1539 16.6952 15.1301 16.6502 15.1156C16.6052 15.1012 16.5577 15.0964 16.5108 15.1017H16.1578C16.1106 15.1014 16.0639 15.1111 16.0207 15.1302C15.9775 15.1493 15.9388 15.1773 15.9072 15.2124C15.8756 15.2475 15.8518 15.2889 15.8374 15.3338C15.8229 15.3788 15.8182 15.4263 15.8234 15.4732C15.8231 15.5205 15.8329 15.5672 15.8519 15.6104C15.871 15.6536 15.899 15.6923 15.9341 15.7239C15.9692 15.7555 16.0106 15.7793 16.0556 15.7937C16.1005 15.8081 16.1481 15.8129 16.195 15.8076Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M13.8913 15.9565L14.5601 15.9008C14.6073 15.9011 14.654 15.8914 14.6972 15.8723C14.7404 15.8532 14.7791 15.8252 14.8107 15.7901C14.8423 15.755 14.8661 15.7136 14.8805 15.6687C14.895 15.6237 14.8997 15.5762 14.8945 15.5292C14.8921 15.4829 14.8806 15.4374 14.8606 15.3955C14.8407 15.3536 14.8126 15.316 14.7781 15.2849C14.7436 15.2539 14.7033 15.2299 14.6595 15.2145C14.6157 15.199 14.5693 15.1923 14.5229 15.1948L13.8541 15.232C13.8078 15.2344 13.7623 15.2459 13.7204 15.2659C13.6785 15.2858 13.6409 15.3139 13.6098 15.3484C13.5788 15.3829 13.5548 15.4232 13.5394 15.467C13.5239 15.5108 13.5172 15.5572 13.5197 15.6036C13.5286 15.6973 13.5711 15.7847 13.6394 15.8496C13.7077 15.9145 13.7972 15.9525 13.8913 15.9565Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M1.51869 10.0304L1.55585 9.95605L1.51869 10.0304Z",fill:"#C5ECFF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M3 23.8394V17.8394H11V25.8394H5C3.897 25.8394 3 24.9424 3 23.8394ZM13 25.8394V17.8394H21V23.8394C21 24.9424 20.104 25.8394 19 25.8394H13Z",fill:"url(#paint1_linear_2683_16702)"}),(0,r.jsx)("rect",{x:"11",y:"17.8403",width:"2",height:"8",fill:"#40444B"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_2683_16702",x1:"-0.468018",y1:"10.0494",x2:"18.3258",y2:"3.20901",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF6D6D"}),(0,r.jsx)("stop",{offset:"0.177083",stopColor:"#FFB359"}),(0,r.jsx)("stop",{offset:"0.356007",stopColor:"#E6F820"}),(0,r.jsx)("stop",{offset:"0.578487",stopColor:"#42FE8D"}),(0,r.jsx)("stop",{offset:"0.769035",stopColor:"#3EA2FF"}),(0,r.jsx)("stop",{offset:"0.951531",stopColor:"#B66DFF"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_2683_16702",x1:"3",y1:"21.4333",x2:"21",y2:"21.4333",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#FF6D6D"}),(0,r.jsx)("stop",{offset:"0.177083",
stopColor:"#FFB359"}),(0,r.jsx)("stop",{offset:"0.356007",stopColor:"#E6F820"}),(0,r.jsx)("stop",{offset:"0.578487",stopColor:"#42FE8D"}),(0,r.jsx)("stop",{offset:"0.769035",stopColor:"#3EA2FF"}),(0,r.jsx)("stop",{offset:"0.951531",stopColor:"#B66DFF"})]})]})]}):(0,r.jsxs)("svg",{style:n,width:"24",height:"27",viewBox:"0 0 24 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M16.9565 5.2944L14.0303 6.35946C14.3737 5.98438 14.6768 5.56864 14.8905 5.11201C15.5892 3.61369 14.9383 1.82545 13.439 1.12395C11.9856 0.449355 10.1322 1.12288 9.45316 2.57574C8.47477 4.67391 9.3218 7.64434 9.42134 7.97632C9.4263 7.9958 9.44151 8.00835 9.44836 8.02715L9.42956 8.03399C9.42272 8.01519 9.4263 7.9958 9.41724 7.97675C9.28105 7.65811 8.01961 4.83851 5.92145 3.86012C4.46807 3.18552 2.61312 3.86066 1.93596 5.31284C1.23634 6.81151 1.8872 8.59974 3.38681 9.29902C3.84403 9.51145 4.34344 9.6351 4.84762 9.70168L1.92142 10.7667C0.884936 11.144 0.348823 12.2937 0.726071 13.3302L1.41011 15.2095L20.204 8.36913L19.5199 6.48975C19.1427 5.45327 17.9939 4.91681 16.9565 5.2944ZM3.74796 6.15701C3.51486 6.65688 3.7317 7.25265 4.23191 7.48668C4.983 7.83691 6.10305 7.79746 6.99257 7.66844C6.518 6.90256 5.83289 6.02602 5.07668 5.6734C4.83538 5.5601 4.56429 5.54915 4.31245 5.64082C4.06061 5.73248 3.85998 5.91511 3.74796 6.15701ZM11.2658 3.42179C10.9123 4.17834 10.9518 5.28985 11.08 6.18287C11.8475 5.70985 12.725 5.02439 13.0782 4.2669C13.3109 3.76609 13.0932 3.17067 12.5929 2.93664C12.3529 2.82393 12.0818 2.81299 11.83 2.90465C11.5782 2.99632 11.3775 3.17895 11.2658 3.42179Z",
fill:"url(#paint0_linear_2683_16682)"}),(0,r.jsx)("path",{d:"M21.9355 8.82275C21.3596 13.7273 19.056 16.7554 19.056 16.7554",stroke:"#5865F2",strokeWidth:"3",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M19.4857 12.5113L18.9294 12.5444C18.8015 12.552 18.6819 12.61 18.5968 12.7058C18.5118 12.8016 18.4682 12.9273 18.4758 13.0552L18.7061 16.9311C18.7099 16.996 18.7268 17.0595 18.7557 17.1177C18.7847 17.1759 18.8251 17.2277 18.8745 17.27C18.9239 17.3122 18.9814 17.344 19.0434 17.3636C19.1054 17.3831 19.1708 17.3898 19.2355 17.3835L19.7918 17.3504C20.0968 17.3323 20.382 17.1938 20.5848 16.9654C20.7877 16.7369 20.8914 16.4373 20.8733 16.1323L20.7224 13.5917C20.7042 13.2867 20.5657 13.0015 20.3373 12.7987C20.1089 12.5959 19.8092 12.4921 19.5043 12.5102L19.4857 12.5113Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M8.06376 10.3064L17.1137 9.76874C18.5271 9.68477 19.741 10.7625 19.825 12.1759L20.0622 16.1686C20.1461 17.582 19.0684 18.7959 17.655 18.8799L8.60506 19.4176C7.19165 19.5015 5.97779 18.4238 5.89381 17.0104L5.6566 13.0177C5.57263 11.6042 6.65035 10.3904 8.06376 10.3064Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M18.1642 14.0981C17.7332 14.0981 17.3839 13.7488 17.3839 13.3179C17.3839 12.8869 17.7332 12.5376 18.1642 12.5376C18.5951 12.5376 18.9444 12.8869 18.9444 13.3179C18.9444 13.7488 18.5951 14.0981 18.1642 14.0981Z",fill:"black"}),(0,r.jsx)("path",{d:"M7.33246 13.2305L5.05143 13.366C4.7514 13.3838 4.47075 13.5201 4.2712 13.7448C4.07166 13.9696 3.96957 14.2644 3.98739 14.5644L4.14054 17.1422C4.15836 17.4422 4.29464 17.7229 4.5194 17.9224C4.74415 18.122 5.03897 18.224 5.33899 18.2062L7.62002 18.0707L7.33246 13.2305Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M6.12411 13.8623L5.47504 13.9009C5.33733 13.909 5.2085 13.9716 5.11691 14.0748C5.02531 14.1779 4.97845 14.3133 4.98663 14.451L5.10452 16.4353C5.1127 16.573 5.17526 16.7018 5.27842 16.7934C5.38159 16.885 5.51691 16.9319 5.65463 16.9237L6.3037 16.8851L6.12411 13.8623Z",fill:"#B8CDFF"}),(0,r.jsx)("path",{d:"M9.54422 14.6749C9.08252 14.6749 8.70823 14.3006 8.70823 13.8389C8.70823 13.3772 9.08252 13.0029 9.54422 13.0029C10.0059 13.0029 10.3802 13.3772 10.3802 13.8389C10.3802 14.3006 10.0059 14.6749 9.54422 14.6749Z",fill:"black"}),(0,r.jsx)("path",{
d:"M16.7178 11.9692L11.822 12.2601C11.7148 12.2665 11.6099 12.2939 11.5134 12.3408C11.4168 12.3877 11.3304 12.4531 11.2592 12.5334C11.1879 12.6137 11.1331 12.7072 11.098 12.8086C11.0629 12.9101 11.0481 13.0174 11.0545 13.1246L11.1734 15.1274C11.2053 15.6635 11.4488 16.165 11.8504 16.5216C12.252 16.8782 12.7788 17.0606 13.3149 17.0287L16.0781 16.8646C16.3095 16.8508 16.5359 16.7916 16.7444 16.6904C16.9529 16.5892 17.1394 16.4479 17.2932 16.2745C17.4471 16.1012 17.5654 15.8993 17.6412 15.6803C17.717 15.4613 17.749 15.2295 17.7352 14.9981L17.6019 12.7542C17.5979 12.6437 17.5715 12.5353 17.5244 12.4353C17.4773 12.3354 17.4104 12.246 17.3278 12.1726C17.2451 12.0993 17.1485 12.0434 17.0436 12.0084C16.9388 11.9735 16.828 11.9602 16.7178 11.9692Z",fill:"#B8CDFF"}),(0,r.jsx)("path",{
d:"M16.195 15.8076H16.548C16.5952 15.8079 16.6419 15.7982 16.6851 15.7791C16.7283 15.7601 16.767 15.732 16.7986 15.6969C16.8302 15.6618 16.854 15.6204 16.8684 15.5755C16.8829 15.5305 16.8876 15.483 16.8824 15.4361C16.8827 15.3889 16.8729 15.3421 16.8539 15.2989C16.8348 15.2557 16.8068 15.217 16.7717 15.1855C16.7366 15.1539 16.6952 15.1301 16.6502 15.1156C16.6052 15.1012 16.5577 15.0964 16.5108 15.1017H16.1578C16.1106 15.1014 16.0639 15.1111 16.0207 15.1302C15.9775 15.1493 15.9388 15.1773 15.9072 15.2124C15.8756 15.2475 15.8518 15.2889 15.8374 15.3338C15.8229 15.3788 15.8182 15.4263 15.8234 15.4732C15.8231 15.5205 15.8329 15.5672 15.8519 15.6104C15.871 15.6536 15.899 15.6923 15.9341 15.7239C15.9692 15.7555 16.0106 15.7793 16.0556 15.7937C16.1005 15.8081 16.1481 15.8129 16.195 15.8076Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M13.8913 15.9565L14.5601 15.9008C14.6073 15.9011 14.654 15.8914 14.6972 15.8723C14.7404 15.8532 14.7791 15.8252 14.8107 15.7901C14.8423 15.755 14.8661 15.7136 14.8805 15.6687C14.895 15.6237 14.8997 15.5762 14.8945 15.5292C14.8921 15.4829 14.8806 15.4374 14.8606 15.3955C14.8407 15.3536 14.8126 15.316 14.7781 15.2849C14.7436 15.2539 14.7033 15.2299 14.6595 15.2145C14.6157 15.199 14.5693 15.1923 14.5229 15.1948L13.8541 15.232C13.8078 15.2344 13.7623 15.2459 13.7204 15.2659C13.6785 15.2858 13.6409 15.3139 13.6098 15.3484C13.5788 15.3829 13.5548 15.4232 13.5394 15.467C13.5239 15.5108 13.5172 15.5572 13.5197 15.6036C13.5286 15.6973 13.5711 15.7847 13.6394 15.8496C13.7077 15.9145 13.7972 15.9525 13.8913 15.9565Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M1.51869 10.0304L1.55585 9.95605L1.51869 10.0304Z",fill:"#C5ECFF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M3 23.8394V17.8394H11V25.8394H5C3.897 25.8394 3 24.9424 3 23.8394ZM13 25.8394V17.8394H21V23.8394C21 24.9424 20.104 25.8394 19 25.8394H13Z",fill:"url(#paint1_linear_2683_16682)"}),(0,r.jsx)("rect",{x:"11",y:"17.8403",width:"2",height:"8",fill:"#EBEDEF"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_2683_16682",x1:"-0.468018",y1:"10.0494",x2:"18.3258",y2:"3.20901",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#D64949"}),(0,r.jsx)("stop",{offset:"0.177083",stopColor:"#F28300"}),(0,r.jsx)("stop",{offset:"0.364583",stopColor:"#B5C500"}),(0,r.jsx)("stop",{offset:"0.578487",stopColor:"#06CC55"}),(0,r.jsx)("stop",{offset:"0.769035",stopColor:"#2094FF"}),(0,r.jsx)("stop",{offset:"0.951531",stopColor:"#AC59FF"})]}),(0,r.jsxs)("linearGradient",{id:"paint1_linear_2683_16682",x1:"3",y1:"21.4333",x2:"21",y2:"21.4333",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#D64949"}),(0,r.jsx)("stop",{offset:"0.177083",
stopColor:"#F28300"}),(0,r.jsx)("stop",{offset:"0.364583",stopColor:"#B5C500"}),(0,r.jsx)("stop",{offset:"0.578487",stopColor:"#06CC55"}),(0,r.jsx)("stop",{offset:"0.769035",stopColor:"#2094FF"}),(0,r.jsx)("stop",{offset:"0.951531",stopColor:"#AC59FF"})]})]})]})})),db=(0,Ch.animated)(Bh.Z);function pb(e){var t=e.hovered,n=(0,Kh.ZP)(),i=lb(function(e){var t=lb(o.useState(!1),2),n=t[0],r=t[1],i=lb(o.useState(Math.floor(7*Math.random())),2),a=i[0],l=i[1];o.useEffect((function(){if(!e){var t=Math.random()<=.0033333333333333335;r(t);if(!t){var n;do{n=Math.floor(7*Math.random())}while(n===a);l(n)}}}),[e]);return[n,a]}(t),2),a=i[0],l=i[1],u=(0,rb.N)(Rp.z$.SEASONAL_GIFTING_COACHMARK_2022),c=(0,Ch.useSpring)({reverse:!t,reset:!0,from:{scale:1},to:{scale:1.14},config:{tension:800,friction:24}}),s=!!u&&a,f=u?l:0,d=(0,zh.wj)(n)?ub[f]:cb[f];return!t&&u?(0,r.jsx)(db,{style:c}):s?(0,r.jsx)(fb,{isDark:(0,zh.wj)(n),style:c}):(0,r.jsx)(sb,{boxColor:d.box,ribbonColor:d.ribbon,style:c})}function hb(e){
var t=e.disabled,n=e.channel,i=(0,g.Z)(v.Z.GIFT_BUTTON).analyticsLocations,a=lb(o.useState(!1),2),l=a[0],u=a[1],c=(0,rb.N)(Rp.z$.SEASONAL_GIFTING_COACHMARK_2022);if(t)return null;var s=(0,r.jsxs)("div",{className:ib().container,onMouseEnter:function(){l||u(!0)},onMouseLeave:function(){u(!1)},children:[c?null:(0,r.jsx)(nb,{hovered:l,onComplete:function(){return u(!1)}}),(0,r.jsx)(Th,{innerClassName:ap().button,"aria-label":X.Z.Messages.PREMIUM_GIFT_BUTTON_LABEL,isActive:!1,onClick:function(){u(!1);(0,Dp.EW)(Rp.z$.SEASONAL_GIFTING_COACHMARK_2022);(0,Uh.Z)({isGift:!0,initialPlanId:null,subscriptionTier:de.Si.TIER_2,analyticsLocations:i,analyticsObject:{page:n.isPrivate()?fe.ZY5.DM_CHANNEL:fe.ZY5.GUILD_CHANNEL,section:fe.jXE.CHANNEL_TEXT_AREA,object:fe.qAy.SEASONAL_BUTTON_ICON,objectType:fe.Qqv.GIFT}})},children:(0,r.jsx)(pb,{hovered:l})})]});return c?(0,r.jsx)(y.TooltipContainer,{className:ib().container,text:X.Z.Messages.SEASONAL_GIFTING_SPREAD_CHEER_TOOLTIP,children:s}):s}
const yb=o.memo(hb);function bb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function vb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function gb(e){
var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.className,l=e.fill,u=void 0===l?"currentColor":l,c=vb(e,["width","height","className","fill"]);return(0,r.jsx)("svg",mb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){bb(e,t,n[t])}))}return e}({},(0,Iy.Z)(c)),{className:a,width:n,height:i,viewBox:"0 0 16 16",children:(0,r.jsx)("path",{
d:"M8.2738 8.49222L1.99997 9.09877L0.349029 14.3788C0.250591 14.691 0.347154 15.0322 0.595581 15.246C0.843069 15.4597 1.19464 15.5047 1.48903 15.3613L15.2384 8.7032C15.5075 8.57195 15.6781 8.29914 15.6781 8.00007C15.6781 7.70101 15.5074 7.4282 15.2384 7.29694L1.49839 0.634063C1.20401 0.490625 0.852453 0.535625 0.604941 0.749376C0.356493 0.963128 0.259941 1.30344 0.358389 1.61563L2.00932 6.89563L8.27093 7.50312C8.52405 7.52843 8.71718 7.74125 8.71718 7.99531C8.71718 8.24938 8.52406 8.46218 8.27093 8.4875L8.2738 8.49222Z",fill:u})}))}var Ob=n(231163),Eb=n.n(Ob);function Cb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sb(e){var t,n=e.onClick,o=e.disabled,i=void 0!==o&&o;return(0,r.jsx)("div",{className:Eb().separator,children:(0,r.jsx)("div",{className:Eb().buttonContainer,children:(0,r.jsx)(Th,{className:Eb().button,innerClassName:Eb().innerButton,childClassName:a()(Eb().buttonChild,(t={},Cb(t,Eb().disabled,i),
Cb(t,Eb().activeButtonChild,!i),t)),onClick:n,disabled:i,isActive:!1,"aria-label":X.Z.Messages.SEND_MESSAGE,children:(0,r.jsx)(gb,{className:Eb().sendIcon})})})})}const jb=o.memo(Sb);var _b=n(366007);function Ib(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xb(e,t){var n=e.disabled,i=e.type,l=Pb((0,zo.Iu)((function(e){return[e.activeView,e.activeViewType,e.pickerId]}),f.Z),3),u=l[0],c=l[1],s=l[2],d=o.useContext(Lo),p=Pb(o.useState(!1),2),h=p[0],y=p[1],b=u===ui.X1.STICKER,m=!1,v=i===sn.I.NORMAL,g=(0,Dp.wE)(Rp.z$.PREMIUM_TUTORIAL_STICKER_PICKER_COMPOSER_TOOLTIP),O=(0,ch.AR)()&&v&&!g;o.useEffect((function(){u===ui.X1.STICKER&&c===sn.I.NORMAL&&(0,fh.$u)(Rp.z$.PREMIUM_TUTORIAL_STICKER_PICKER_COMPOSER_TOOLTIP)}),[u,c]);var E,C=o.useCallback((function(){(0,zo.RO)(ui.X1.STICKER,i)}),[i]);o.useEffect((function(){var e=function(){requestAnimationFrame((function(){y(!0)}))},t=function(){requestAnimationFrame((function(){y(!1)}))}
;d.addListener("sticker-suggestions-shown",e);d.addListener("sticker-suggestions-hidden",t);return function(){d.removeListener("sticker-suggestions-shown",e);d.removeListener("sticker-suggestions-hidden",t)}}),[d]);if(n)return null;var S,j=h;E=(0,r.jsx)(li.Z,{className:ap().stickerIcon,winking:j,color:O?_b.JX.PREMIUM_TRIAL_TUTORIAL:"currentColor"});return(0,r.jsx)("div",{className:a()(ui.CT,ap().buttonContainer),ref:t,children:(0,r.jsx)(Th,{innerClassName:a()(ap().button,ap().stickerButton,(S={},wb(S,ap().stickerButtonWithNotification,m),wb(S,ap().stickerButtonTilted,j&&!b),S)),onClick:C,isActive:b,"aria-label":X.Z.Messages.STICKER_BUTTON_LABEL,"aria-expanded":b,"aria-haspopup":"dialog","aria-controls":s,sparkle:!1,notification:null,children:O?(0,r.jsx)(sh.Z,{tutorialType:uh.K.STICKER_PICKER,text:X.Z.Messages.PREMIUM_TRIAL_TUTORIAL_STICKER_TOOLTIP.format(),unformattedText:X.Z.Messages.PREMIUM_TRIAL_TUTORIAL_STICKER_TOOLTIP_UNFORMATTED,children:E}):E})})}
const Ab=o.memo(o.forwardRef(xb));function Tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mb(e){var t=e.disabled,n=e.channel,i=ah.ZP.useExperiment({},{autoTrackExposure:!1}).enabled,a=(0,ah.rK)();o.useEffect((function(){a&&ah.ZP.trackExposure({})}),[a]);return i&&a?(0,r.jsx)(yb,{disabled:t,channel:n}):(0,r.jsx)(Vh,{disabled:t,channel:n})}function Zb(e){var t,n,o,i,a,l,u,c=e.type,s=e.disabled,f=e.channel,p=e.handleSubmit,y=e.isEmpty,b=(0,h.e7)([m.Z],(function(){return m.Z.isSubmitButtonEnabled})),v=(0,h.e7)([Au.Z],(function(){return Au.Z.getStickerPreview(f.id,c.drafts.type)})),g=null!=v&&v.length>0,E=(0,h.e7)([Mu.Z],(function(){return Mu.Z.getUploads(f.id,c.drafts.type)})),C=(0,h.cj)([O.Z],(function(){return{activeCommand:O.Z.getActiveCommand(f.id),activeCommandOption:O.Z.getActiveOption(f.id)}})),S=C.activeCommand,_=C.activeCommandOption,I=oh.Z.useExperiment({},{autoTrackExposure:!1
}).paymentsBlocked,w=[],P=lh.Z.getCurrentConfig({},{autoTrackExposure:!1}).enabled,x=Oe.default.getCurrentUser(),A=null!==(u=(0,h.e7)([ih.Z],(function(){return P&&Ya.ZP.isPremiumExactly(x,de.p9.TIER_2)?ih.Z.getReferralsRemaining():0})))&&void 0!==u?u:0,T=(0,h.e7)([ih.Z],(function(){if(!f.isDM()||void 0===f.recipients||f.recipients.length>1||!P)return!1;var e=f.recipients[0];return ih.Z.getSentUserIds().includes(e)})),N=Nb((0,h.Wu)([ih.Z,Oe.default],(function(){var e=[!1,!1];if(!f.isDM()||void 0===f.recipients||f.recipients.length>1)return e;var t=f.recipients[0],n=Oe.default.getUser(t);if(null==n)return e;if(n.bot)return e;var r=T||A>0,o=ih.Z.getRecipientEligibility(t);return[P&&r&&o,o]})),2),M=N[0],Z=N[1];if(!d.tq){var L,R,D,k;if(f.isDM()&&null!=(null===(L=c.gifts)||void 0===L?void 0:L.button)&&null==S){Ya.ZP.isPremiumExactly(x,de.p9.TIER_2)&&Z&&lh.Z.trackExposure({});M&&w.push((0,r.jsx)(zy,{disabled:s,referralsRemaining:A,channel:f,isResending:T},"referral"))}
null==(null===(R=c.gifts)||void 0===R?void 0:R.button)||null!=S||I||w.push((0,r.jsx)(Mb,{disabled:s,channel:f},"gift"));null==(null===(D=c.gifs)||void 0===D?void 0:D.button)||c.consolidateGifsStickersEmojis||null!=S||w.push((0,r.jsx)(kh,{disabled:s,type:c},"gif"));null==(null===(k=c.stickers)||void 0===k?void 0:k.button)||c.consolidateGifsStickersEmojis||null!=S||w.push((0,r.jsx)(Ab,{disabled:s,type:c},"sticker"))}null==(null===(t=c.emojis)||void 0===t?void 0:t.button)||c.consolidateGifsStickersEmojis||null!=S&&(null==_||_.type===j.jw.ATTACHMENT)||w.push((0,r.jsx)(vh,{disabled:s,type:c},"emoji"));!c.consolidateGifsStickersEmojis||null==(null===(n=c.gifs)||void 0===n?void 0:n.button)&&null==(null===(o=c.stickers)||void 0===o?void 0:o.button)&&null==(null===(i=c.emojis)||void 0===i?void 0:i.button)||null!=S||w.push((0,r.jsx)(Oh.Z,{disabled:s,type:c},"expression"))
;null!=(null===(a=c.submit)||void 0===a?void 0:a.button)&&((null===(l=c.submit)||void 0===l?void 0:l.ignorePreference)||b)&&w.push((0,r.jsx)(jb,{onClick:p,disabled:s||0===E.length&&y&&!g},"submit"));return 0===w.length?null:(0,r.jsx)("div",{className:ap().buttons,children:w})}const Lb=o.memo(Zb);var Rb=n(573485),Db=n(510472);function kb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ub(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Fb(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Bb(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Ub(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){kb(e,t,n[t])}))}return e}({},(0,Iy.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:u,fill:l,
d:"M19.8401 5.39392C20.1229 4.73405 19.6389 4 18.921 4H17.1231C16.7417 4 16.3935 4.21695 16.2254 4.55933L13.3297 10.4581C13.195 10.7324 13.125 11.0339 13.125 11.3394V19C13.125 19.5523 13.5727 20 14.125 20H20C20.5523 20 21 19.5523 21 19V12.875C21 12.3227 20.5523 11.875 20 11.875H17.8208C17.4618 11.875 17.2198 11.508 17.3612 11.178L19.8401 5.39392ZM9.71511 5.39392C9.99791 4.73405 9.51388 4 8.79596 4H6.99809C6.61669 4 6.2685 4.21695 6.10042 4.55933L3.20466 10.4581C3.07001 10.7324 3 11.0339 3 11.3394V19C3 19.5523 3.44772 20 4 20H9.875C10.4273 20 10.875 19.5523 10.875 19V12.875C10.875 12.3227 10.4273 11.875 9.875 11.875H7.69577C7.33681 11.875 7.0948 11.508 7.2362 11.178L9.71511 5.39392Z"})}))}function Gb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Hb(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Vb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Wb(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Vb(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",Hb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gb(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,Iy.Z)(c)),{width:n,height:i,children:(0,r.jsx)("path",{fill:l,className:u,
d:"M5.13525 22.0002V1.99023H13.5743C15.1596 1.99023 16.4356 2.45423 17.4023 3.38224C18.3883 4.31024 18.8813 5.5379 18.8813 7.06523C18.8813 8.2639 18.6009 9.23057 18.0403 9.96524C17.4989 10.6806 16.7933 11.2026 15.9233 11.5312C18.4173 12.1306 19.6643 13.7739 19.6643 16.4612C19.6643 18.3366 19.1036 19.7286 17.9823 20.6372C16.8803 21.5459 15.3143 22.0002 13.2843 22.0002H5.13525ZM12.4143 10.2842C14.4829 10.2842 15.5173 9.3949 15.5173 7.61624C15.5173 6.70757 15.2466 6.0309 14.7053 5.58623C14.1639 5.14157 13.4003 4.91923 12.4143 4.91923H8.49925V10.2842H12.4143ZM12.8493 19.0712C13.8933 19.0712 14.7246 18.8392 15.3433 18.3752C15.9813 17.9112 16.3003 17.1669 16.3003 16.1422C16.3003 15.1176 15.9813 14.3732 15.3433 13.9092C14.7246 13.4452 13.8933 13.2132 12.8493 13.2132H8.49925V19.0712H12.8493Z"})}))}var zb=n(293615);function Yb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Kb(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Xb(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=qb(e,["width","height","color","foreground"]);return(0,
r.jsx)("svg",Kb(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yb(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,Iy.Z)(c)),{width:n,height:i,children:(0,r.jsx)("path",{fill:l,className:u,d:"M21 4V2H11V4H14.461L7.351 20H3V22H13V20H9.539L16.649 4H21Z"})}))}var Qb=n(413297);function Jb(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function em(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function tm(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=em(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",$b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Jb(e,t,n[t])}))}return e}({viewBox:"0 0 24 24"},(0,Iy.Z)(c)),{width:n,height:i,children:[(0,r.jsx)("path",{fill:l,className:u,d:"M22.004 10.8906H2V13.1133H12.002C13.8401 13.1133 15.336 14.6091 15.336 16.4473C15.336 18.2854 13.8401 19.7813 12.002 19.7813H8.668V18.67H6.44533V20.8926C6.44533 21.5061 6.94321 22.004 7.55667 22.004H12.002C15.0659 22.004 17.5587 19.5112 17.5587 16.4473C17.5587 15.1915 17.1241 14.0446 16.4196 13.1133H22.004V10.8906Z"}),(0,r.jsx)("path",{fill:l,className:u,d:"M8.87358 8.668C8.748 8.31904 8.66798 7.94786 8.66798 7.55667C8.66798 5.71852 10.1638 4.22267 12.002 4.22267H14.2246V5.334H16.4473V3.11133C16.4473 2.49788 15.9494 2 15.336 2H12.002C8.93803 2 6.44531 4.49272 6.44531 7.55667C6.44531 7.93674 6.48421 8.30904 6.55756 8.668H8.87358Z"})]}))}var nm=n(971561),rm=n(202990),om=n.n(rm);function im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function am(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function lm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return im(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return im(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cm(e,t){return"type"in e&&"timestamp"===e.type?(0,r.jsx)(sm,lm(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){am(e,t,n[t])}))}return e}({},t),{timestamp:e.parsed})):null}function sm(e){var t,n=e.timestamp,o=e.replace,i=function(e){
var t=e.timestamp,r=e.format,i=null!=t?Math.floor(t.getTime()/1e3):n.timestamp,a=null!=r?r:n.format,l=(0,nm.He)(i,a);o(l)};return(0,r.jsxs)("div",{className:om().container,children:[(0,r.jsx)(y.DateInput,{value:n.parsed,onSelect:function(e){i({timestamp:e.toDate()})}}),(0,r.jsx)(y.TimeInput,{value:n.parsed,onChange:function(e){i({timestamp:e.toDate()})}}),(0,r.jsx)(y.RadioGroup,{options:Object.entries(nm.Qh).map((function(e){var t=um(e,2),r=t[0];return{name:(0,t[1])(n.parsed),value:r}})),value:null!==(t=n.format)&&void 0!==t?t:nm.K_,size:y.RadioGroup.Sizes.SMALL,onChange:function(e){var t=e.value;i({format:t})}})]})}var fm=n(392502),dm=n.n(fm);function pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||bm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e){return function(e){if(Array.isArray(e))return pm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bm(e,t){if(e){if("string"==typeof e)return pm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pm(e,t):void 0}}function mm(e){var t,n=e.editorRef,o=e.options,i=e.iconClassName,l=e.dividerClassName,u=null===(t=n.current)||void 0===t?void 0:t.getSlateEditor();return null==u?null:(0,r.jsxs)("div",{className:dm().buttons,children:[(0,r.jsx)(gm,{slateEditor:u,markdownSyntax:"bold",children:(0,r.jsx)(Wb,{className:a()(dm().icon,i)})}),(0,r.jsx)(gm,{slateEditor:u,markdownSyntax:"italics",children:(0,r.jsx)(Xb,{className:a()(dm().icon,i)})}),(0,r.jsx)(gm,{slateEditor:u,markdownSyntax:"strikethrough",children:(0,r.jsx)(tm,{className:a()(dm().icon,i)})}),(0,r.jsx)("div",{className:a()(dm().divider,l)}),!(null==o?void 0:o.disableBlockQuotes)&&(0,r.jsx)(Om,{slateEditor:u,blockType:"blockQuote",children:(0,r.jsx)(Fb,{className:a()(dm().icon,i)})}),(0,r.jsx)(gm,{slateEditor:u,markdownSyntax:"inlineCode",children:(0,r.jsx)(zb.Z,{className:a()(dm().icon,i)})}),(0,r.jsx)(gm,{
slateEditor:u,markdownSyntax:"spoiler",children:(0,r.jsx)(Qb.Z,{className:a()(dm().icon,i)})})]})}const vm=o.forwardRef((function(e,t){var n,i=e.editorRef,a=e.containerRef,l=e.options,u=o.useRef(null),c=hm(o.useState(!1),2),s=c[0],f=c[1],d=o.useRef(),p=o.useContext(nn.ZP),h=o.useCallback((function(){f(!1);clearTimeout(d.current)}),[]),y=o.useCallback((function(e){var t,n=p.renderWindow;e.target instanceof n.Node&&(null===(t=u.current)||void 0===t?void 0:t.contains(e.target))||h()}),[p,h]),b=o.useCallback((function(e){var t=p.renderWindow;if(e.target instanceof t.Element)if(0!==e.button)h();else{var n,r=e.target instanceof t.Node&&(null===(n=u.current)||void 0===n?void 0:n.contains(e.target));clearTimeout(d.current);d.current=setTimeout((function(){var t,n=null===(t=(0,Tl.uB)(e))||void 0===t?void 0:t.activeElement,o=a.current;f(r||null!=n&&null!=o&&o.contains(n))}),100)}else h()}),[p,a,h]);o.useImperativeHandle(t,(function(){return{hide:h}}),[h]);o.useEffect((function(){
var e=p.renderWindow;e.document.addEventListener("keydown",h);e.document.addEventListener("mousedown",y);e.document.addEventListener("mouseup",b);e.addEventListener("focus",h);e.addEventListener("blur",h);return function(){e.document.removeEventListener("keydown",h);e.document.removeEventListener("mousedown",y);e.document.removeEventListener("mouseup",b);e.removeEventListener("focus",h);e.removeEventListener("blur",h);clearTimeout(d.current)}}),[p,h,y,b]);var m=o.useMemo((function(){var e,t,n,r=null===(e=i.current)||void 0===e?void 0:e.getSlateEditor();if(null==(null==r?void 0:r.selection)||mc.M8.isCollapsed(r.selection)||!s)return{x:null,y:null};var o=Cc.F3.findDocumentOrShadowRoot(r),l=o.getSelection();if(null==l||null==l.focusNode||null==l.anchorNode||l.isCollapsed)return{x:null,y:null};var u=o.createRange();u.setStart(l.focusNode,l.focusOffset);u.setEnd(l.focusNode,l.focusOffset);var c=u.getBoundingClientRect(),f=o.createRange();f.setStart(l.anchorNode,l.anchorOffset)
;f.setEnd(l.anchorNode,l.anchorOffset);var d=f.getBoundingClientRect(),p=o.createRange();p.setStart(l.anchorNode,l.anchorOffset);p.setEnd(l.focusNode,l.focusOffset);var h,y=p.getBoundingClientRect(),b=c.x===d.x,m=b?y.x:Math.min(c.x,d.x),v=b?y.x+y.width:Math.max(c.x,d.x),g=null!==(h=null===(n=null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.y)&&void 0!==h?h:0;return{x:m+(v-m)/2,y:Math.max(g,Math.min(d.y,c.y))}}),[a,s,i]),v=m.x,g=m.y,O=hm(o.useState(0),2),E=O[0],C=O[1],S=hm(o.useState(0),2),j=S[0],_=S[1];o.useLayoutEffect((function(){if(null!=v&&null!=g&&null!=u.current){var e=u.current.getBoundingClientRect();_(e.width/2);C(e.height+12)}}),[v,g]);if(null==v||null==g)return null;var I=null===(n=i.current)||void 0===n?void 0:n.getSlateEditor();return null==I?null:(0,r.jsx)(Gt.ZP,{children:(0,r.jsxs)("div",{id:"slate-toolbar",ref:u,className:dm().toolbar,style:{top:g-E,left:v-j},onMouseDown:function(e){e.stopPropagation()},onMouseUp:function(e){
e.stopPropagation()},children:[(0,r.jsx)(Em,{slateEditor:I}),(0,r.jsx)(mm,{editorRef:i,options:l})]})})}));function gm(e){var t=e.slateEditor,n=e.markdownSyntax,o=e.children,i=!1;if(null!=(null==t?void 0:t.selection)){var a=hm(mc.M8.edges(t.selection),2),l=a[0],u=a[1];i=null!=td(t,l,u).before[n]}return(0,r.jsx)(y.Button,{className:dm().button,innerClassName:dm().buttonInner,color:i?dm().active:dm().inactive,hover:dm().hover,look:y.Button.Looks.FILLED,size:y.Button.Sizes.NONE,onClick:function(){null!=t&&Oc.withSingleEntry(t,(function(){return ad(t,n)}))},children:o})}function Om(e){var t=e.blockType,n=e.slateEditor,o=e.children,i=null!=n?mc.bN.getCurrentBlock(n):null,a=null!=i&&mc.aj.isType(i[0],t);return(0,r.jsx)(y.Button,{className:dm().button,innerClassName:dm().buttonInner,color:a?dm().active:dm().inactive,hover:dm().hover,look:y.Button.Looks.FILLED,size:y.Button.Sizes.NONE,onClick:function(){null!=n&&Oc.withSingleEntry(n,(function(){return function(e,t){var n=e.selection
;if(null!=n){var r=!0,o=!0,i=!1,a=void 0;try{for(var l,u=mc.bN.blocks(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=Jf(l.value,2),s=c[0],f=c[1];"line"!==s.type&&s.type!==t||!mc.M8.includes(n,f)||(r=r&&s.type===t)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}mc.bN.withoutNormalizing(e,(function(){var o=!0,i=!1,a=void 0;try{for(var l,u=mc.bN.blocks(e)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=Jf(l.value,2),s=c[0],f=c[1];mc.M8.includes(n,f)&&(r||"line"!==s.type?r&&s.type===t&&_c.Q.setNodes(e,{type:"line"},{at:f}):_c.Q.setNodes(e,{type:t},{at:f}))}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}));mc.bN.focus(e)}}(n,t)}))},children:o})}function Em(e){var t=e.slateEditor,n=null,r=null;if(null!=(null==t?void 0:t.selection)){var i=ym(mc.bN.nodes(t,{at:t.selection,match:function(e){return mc.bN.isVoid(t,e)}}));if(i.length>0){var a;n=(a=hm(i[0],2))[0],r=a[1]}}var l=o.useCallback((function(e){
null!=(null==t?void 0:t.selection)&&Oc.withSingleEntry(t,(function(){_c.Q.voidToText(t,e,r)}))}),[t,r]);return null==n?null:cm(n,{replace:l})}function Cm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sm(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jm(e){var t,n=e.editorRef,i=e.options,a=e.channel,l=null===(t=n.current)||void 0===t?void 0:t.getSlateEditor(),u=o.useCallback((function(e,t){var r=n.current;null!=e&&null!=r&&r.insertEmoji(e,t,!1);t&&(0,zo._Q)()}),[n]);return null==l?null:(0,r.jsxs)("div",{
id:"slate-toolbar",className:dm().staticToolbar,children:[(0,r.jsx)("div",{className:dm().staticButtons,children:(0,r.jsx)(mm,{editorRef:n,options:i,iconClassName:dm().staticIcon,dividerClassName:dm().staticDivider})}),(0,r.jsx)(y.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(Bo.Z,{persistSearch:!0,channel:a,closePopout:t,onSelectEmoji:function(e,n){u(e,n);n&&t()},pickerIntention:fe.HzX.COMMUNITY_CONTENT})},position:"bottom",animation:y.Popout.Animation.NONE,align:"left",children:function(e,t){var n=t.isShown;return(0,r.jsx)(dh.Z,Sm(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cm(e,t,n[t])}))}return e}({},e),{active:n,className:dm().emojiButton,tabIndex:0}))}})]})}function _m(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Im(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function wm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Im(i,r,o,a,l,"next",e)}function l(e){Im(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Pm(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function xm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pm(e,t,n[t])}))}return e}function Am(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Tm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Nm=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Mm(e,t,i,a){var l=Tm(o.useState(!1),2),u=l[0],c=l[1],s=o.useCallback((function(o,l,f,d,p){var h;if(!u){c(!0);var m,v,g=null!==(m=null===(h=Au.Z.getStickerPreview(a,t.drafts.type))||void 0===h?void 0:h.map((function(e){return e.id})))&&void 0!==m?m:[],O=null!==(v=Mu.Z.getUploads(a,t.drafts.type))&&void 0!==v?v:[];if(null!=l||d||p||!(0,mu.CB)(O,a))e({value:o,uploads:O,stickers:g,command:l,commandOptionValues:f,isGif:d}).then((function(e){var n=e.shouldClear,r=e.shouldRefocus,o=function(e,t){var n,r;return null!==(r=e&&(null===(n=t.submit)||void 0===n?void 0:n.clearOnSubmit))&&void 0!==r&&r
}(n,t),l=null!=i.current;o&&(!function(e){return e!==_t.Z.getChannelId()}(a)?l&&i.current.clearValue():b.Z.saveDraft(a,"",t.drafts.type));if(l){c(!1);(0,zo._Q)();r&&i.current.focus()}}));else{c(!1);(0,y.openModalLazy)(wm((function(){var e,t;return Nm(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(17428)]).then(n.bind(n,117428))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Am(xm({},e),{threadId:a,attachments:O,sendMessage:function(){return s(o,void 0,void 0,void 0,!0)}}))}]}}))})))}}}),[i,e,u,t,a]),f=o.useCallback((function(e){var t;null==i||null===(t=i.current)||void 0===t||t.submit(e)}),[]);return{submitting:u,submit:s,handleSubmit:f}}function Zm(e){var t=e.editorRef,n=e.disabled,r=e.textValue,i=e.channelId,a=e.chatInputType,l=e.submit,u=(0,g.Z)().analyticsLocations;return o.useCallback((function(e,o){var c;if(!n){if((0,me.Hc)(o,r,i,a.drafts.type)){!function(e){
var t=e.sticker,n=e.stickerSelectLocation,r=e.isReplacement,o=e.analyticsLocations;se.default.track(fe.rMx.STICKER_ATTACHED,{replaced:r,source:On(n),sticker_id:t.id,location_stack:o})}({sticker:e,stickerSelectLocation:o,isReplacement:null!=Au.Z.getStickerPreview(i,a.drafts.type),analyticsLocations:u});(0,or.eu)(i,e,a.drafts.type)}else{var s;l({value:"",uploads:void 0,stickers:[e.id]});null===(s=t.current)||void 0===s||s.clearValue()}(0,zo._Q)();null===(c=t.current)||void 0===c||c.focus()}}),[n,r,i,a.drafts.type,t,u,l])}function Lm(e,t){
var n,i,l,c,b,E,C=e.textValue,S=e.richValue,j=e.className,_=e.innerClassName,I=e.disabled,w=e.placeholder,P=e.accessibilityLabel,x=e.channel,A=e.type,T=e.focused,N=e.renderAttachButton,M=e.renderApplicationCommandIcon,Z=e.pendingReply,L=e.onChange,R=e.onResize,D=e.onBlur,k=e.onFocus,U=e.onKeyDown,B=e.onSubmit,F=e.promptToUpload,G=e.highlighted,H=e.canMentionRoles,V=e.canMentionChannels,W=e.maxCharacterCount,z=e.characterCountClassName,Y=e["aria-describedby"],K=e["aria-labelledby"],X=e.setEditorRef,Q=e.autoCompletePosition;s()(null!=A,"chat input type must be set");var J=(0,g.Z)(v.Z.CHANNEL_TEXT_AREA).AnalyticsLocationProvider,$=function(e){var t=o.useRef(null);if(null!=e&&"function"==typeof e)throw Error("Only Ref objects are supported");return null==e?t:e}(t),ee=o.useRef(null),te=o.useRef(null),ne=o.useRef(null),re=o.useRef(null);null==X||X(te.current);var oe=(0,h.cj)([O.Z],(function(){var e,t;return{
activeCommand:(null===(e=A.commands)||void 0===e?void 0:e.enabled)?O.Z.getActiveCommand(x.id):null,activeCommandSection:(null===(t=A.commands)||void 0===t?void 0:t.enabled)?O.Z.getActiveCommandSection(x.id):null}})),ie=oe.activeCommand,ae=oe.activeCommandSection,le=function(e,t,n,r){var o=e.getGuildId(),i=(0,h.e7)([vu.Z],(function(){return null!=o&&vu.Z.isLurking(o)}),[o]),a=(0,h.e7)([jt.ZP,Oe.default],(function(){var e,t,n=Oe.default.getCurrentUser();return null!==(t=null!=o&&null!=n?null===(e=jt.ZP.getMember(o,n.id))||void 0===e?void 0:e.isPending:null)&&void 0!==t&&t})),l=(0,h.cj)([dn.Z],(function(){var o,i,l=e.isPrivate(),u=dn.Z.computePermissions(e),c=p.Z.has(u,fe.Plq.CREATE_PUBLIC_THREADS)||p.Z.has(u,fe.Plq.CREATE_PRIVATE_THREADS),s=(!(null===(o=t.permissions)||void 0===o?void 0:o.requireCreateTherads)||c)&&(!(null===(i=t.permissions)||void 0===i?void 0:i.requireSendMessages)||p.Z.has(u,fe.Plq.SEND_MESSAGES)),f=s&&p.Z.has(u,fe.Plq.ATTACH_FILES),d=null!=n,h=(0,Tu.xl)(e);return{
disabled:r||a||!l&&!s||h,canAttachFiles:!0===t.attachments&&(l||a||f||d),canCreateThreads:c,canEveryoneSendMessages:Lu.ZP.canEveryoneRole(fe.Plq.SEND_MESSAGES,e)}}),[r,e,n]);return xm({isLurking:i,isPendingMember:a},l)}(x,A,ie,I),ue=le.isLurking,ce=le.isPendingMember,se=le.disabled,de=le.canAttachFiles,pe=le.canCreateThreads,he=le.canEveryoneSendMessages,ye=A.toolbarType===sn.O.STATIC,be=!Nr.dN.useSetting()&&!(0,Ru.eL)()&&null!=window.ResizeObserver,me=!be||!(null===(n=A.commands)||void 0===n?void 0:n.enabled)||!T||C!==q.GI,ve=(0,gu.Z)(),ge=(0,h.cj)([m.Z],(function(){return{fontSize:m.Z.fontSize,isSubmitButtonEnabled:m.Z.isSubmitButtonEnabled}})),Ee=ge.isSubmitButtonEnabled,Ce=ge.fontSize,Se=(0,h.e7)([Nu.Z],(function(){return Nu.Z.isEnabled()}));!function(e,t){var n=o.useCallback((function(){t||(0,zo.RO)(ui.X1.EMOJI,e)}),[t,e]),r=o.useCallback((function(){var n;!t&&(null===(n=e.gifs)||void 0===n?void 0:n.allowSending)&&(0,zo.RO)(ui.X1.GIF,e)}),[t,e]),i=o.useCallback((function(){var n
;!t&&(null===(n=e.stickers)||void 0===n?void 0:n.allowSending)&&(0,zo.RO)(ui.X1.STICKER,e)}),[t,e]);(0,Zu.yp)({event:fe.CkL.TOGGLE_EMOJI_POPOUT,handler:n});(0,Zu.yp)({event:fe.CkL.TOGGLE_GIF_PICKER,handler:r});(0,Zu.yp)({event:fe.CkL.TOGGLE_STICKER_PICKER,handler:i})}(A,se);var je=function(e,t,n){var r=Tm(o.useState((function(){return new(u())})),1)[0];o.useEffect((function(){r.emit("text-changed",t,n)}),[t,n,r]);return{eventEmitter:r,handleEditorSelectionChanged:function(t){null!=e.current&&r.emit("selection-changed",t)}}}(te,C,S),_e=je.eventEmitter,Ie=je.handleEditorSelectionChanged,we=Mm(B,A,te,x.id),Pe=we.submitting,xe=we.submit,Ae=we.handleSubmit,Te=function(){var e=o.useRef(null),t=o.useCallback((function(){var t;null===(t=e.current)||void 0===t||t.onMaybeShowAutocomplete()}),[]),n=o.useCallback((function(){var t;null===(t=e.current)||void 0===t||t.onHideAutocomplete()}),[]);return{autocompleteRef:e,handleMaybeShowAutocomplete:t,handleHideAutocomplete:n}
}(),Ne=Te.autocompleteRef,Me=Te.handleMaybeShowAutocomplete,Ze=Te.handleHideAutocomplete,Le=function(e,t,n){return o.useCallback((function(r){var o;if(t===sn.I.CREATE_FORUM_POST){var i;null===(i=n.current)||void 0===i||i.insertGIF(r)}else e(r.url,void 0,void 0,!0);(0,zo._Q)();null===(o=n.current)||void 0===o||o.focus()}),[n,e,t])}(xe,A,te),Re=function(e){return o.useCallback((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.current;null!=t&&null!=o&&o.insertEmoji(t,n,r);n&&(0,zo._Q)()}),[e])}(te),De=Zm({editorRef:te,disabled:se,textValue:C,channelId:x.id,chatInputType:A,submit:B}),ke=o.useCallback((function(){var e;return null==re||null===(e=re.current)||void 0===e?void 0:e.hide()}),[]),Ue=function(e){var t=Tm(o.useState(0),2),n=t[0],r=t[1];return{editorHeight:n,handleResize:o.useCallback((function(t){r(null!=t?t:0);null==e||e(t)}),[e])}}(R),Be=Ue.editorHeight,Fe=Ue.handleResize,Ge=function(e,t,n){var r=o.useCallback((function(){var r,o
;return!(n||!(null===(r=t.current)||void 0===r?void 0:r.onTabOrEnter(!1)))||(null===(o=e.current)||void 0===o?void 0:o.onTabOrEnter(!1))||!1}),[n]),i=o.useCallback((function(){var r,o;return!(n||!(null===(r=t.current)||void 0===r?void 0:r.onTabOrEnter(!0)))||(null===(o=e.current)||void 0===o?void 0:o.onTabOrEnter(!0))||!1}),[n]),a=o.useCallback((function(r){var o,i;return!(n||!(null===(o=t.current)||void 0===o?void 0:o.onMoveSelection(r)))||(null===(i=e.current)||void 0===i?void 0:i.onMoveSelection(r))||!1}),[n]);return{handleTab:r,handleEnter:i,handleMoveSelection:a}}(Ne,ee,me),He=Ge.handleTab,Ve=Ge.handleEnter,We=Ge.handleMoveSelection,ze=function(e,t,n){var r=Tm((0,zo.Iu)((function(e){return[e.activeView,e.activeViewType]}),f.Z),2),i=r[0],a=r[1];o.useEffect((function(){return function(){(0,zo._Q)(e)}}),[e]);var l=o.useCallback((function(e){t.emit("autocomplete-visibility-change",e);e&&(0,zo._Q)()}),[t]),u=o.useCallback((function(){var e
;null==i&&(null===(e=n.current)||void 0===e||e.handleOuterClick())}),[i]);return{expressionPickerView:i,shouldHideExpressionPicker:null==i||null==a||a!==e,handleAutocompleteVisibilityChange:l,handleOuterClick:u}}(A,_e,te),Ye=ze.expressionPickerView,Ke=ze.shouldHideExpressionPicker,qe=ze.handleAutocompleteVisibilityChange,Xe=ze.handleOuterClick;Vu(_e,x.guild_id,x.id);var Qe=null!=Z,Je=se&&!((ue||ce)&&he)||Pe&&(null===(i=A.submit)||void 0===i?void 0:i.useDisabledStylesOnSubmit),$e=null;null!=ie?$e=null==M?void 0:M(ie,ae,ap().attachButton):se&&!pe||($e=null==N?void 0:N(A===sn.I.NORMAL,Qe,ap().attachButton));var et,tt,nt,rt,ot,it,at=be&&null!=S&&!se&&A.showCharacterCount&&null==ie,lt=be&&!__OVERLAY__&&null!=S&&null==ie,ut=function(e,t,n,r){var o,i,a=Nr.up.useSetting(),l=(0,h.e7)([Au.Z],(function(){return Au.Z.getStickerPreview(e.id,t.drafts.type)})),u=null!=l&&l.length>0
;return a&&(null===(o=t.stickers)||void 0===o?void 0:o.autoSuggest)&&!u&&!0!==(null===(i=r.current)||void 0===i?void 0:i.isVisible())&&!__OVERLAY__&&null!=n}(x,A,S,Ne),ct=Bt(x),st=null!=ie||null!=Z||ct;return(0,r.jsx)(Zo,{value:_e,children:(0,r.jsxs)(J,{children:[lt&&ye?(0,r.jsx)(jm,{editorRef:te,options:A.markdown,channel:x}):lt?(0,r.jsx)(vm,{ref:re,editorRef:te,containerRef:ne,options:A.markdown}):null,(0,r.jsxs)("div",{ref:$,className:a()(j,(nt={},Pm(nt,ap().channelTextArea,!0),Pm(nt,ap().channelTextAreaDisabled,Je),Pm(nt,ap().highlighted,G),Pm(nt,ap().textAreaMobileThemed,d.tq),nt)),onMouseDown:Xe,children:[(0,r.jsx)(rh,{type:A,channel:x,activeCommand:ie,pendingReply:Z}),(0,r.jsxs)("div",{ref:ne,onScroll:ke,className:a()(_,(rt={},Pm(rt,ap().scrollableContainer,!0),Pm(rt,ap().webkit,"Blink"===platform.layout),Pm(rt,ap().hasConnectedBar,st),rt)),children:[(0,r.jsx)(wp,{channelId:x.id,chatInputType:A}),A.hideAttachmentArea?null:(0,r.jsx)(Rb.Z,{channelId:x.id,type:A,canAttachFiles:de
}),(0,r.jsxs)("div",{className:a()(ap().inner,(ot={},Pm(ot,ap().innerDisabled,Je),Pm(ot,ap().sansAttachButton,A!==sn.I.FORM&&A!==sn.I.EDIT&&A!==sn.I.RULES_INPUT&&A!==sn.I.PROFILE_BIO_INPUT&&A!==sn.I.FORUM_CHANNEL_GUIDELINES),Pm(ot,ap().sansAttachButtonCreateThread,A===sn.I.THREAD_CREATION),Pm(ot,ap().sansAttachButtonCreatePost,A===sn.I.CREATE_FORUM_POST),ot)),children:[$e,(0,r.jsx)(y.FocusRing,{ringTarget:$,ringClassName:ap().focusRing,children:(0,r.jsx)(Op,{ref:te,focused:T,useSlate:be,textValue:C,richValue:S,disabled:se,placeholder:w,accessibilityLabel:P,isPreviewing:(ue||ce)&&he,channel:x,type:A,canPasteFiles:de,uploadPromptCharacterCount:fe.en1,maxCharacterCount:null!=W?W:ve,"aria-describedby":Y,onChange:L,onResize:Fe,onBlur:D,onFocus:k,onKeyDown:U,onSubmit:xe,onTab:He,onEnter:Ve,onMoveSelection:We,onSelectionChanged:Ie,onMaybeShowAutocomplete:Me,onHideAutocomplete:Ze,promptToUpload:F,fontSize:Ce,spellcheckEnabled:Se,canOnlyUseTextCommands:Qe,className:a()((it={},
Pm(it,ap().textAreaThreadCreation,A===sn.I.THREAD_CREATION),Pm(it,ap().profileBioInput,A===sn.I.PROFILE_BIO_INPUT),it)),"aria-labelledby":K})}),(0,r.jsx)(Lb,{type:A,disabled:se,channel:x,handleSubmit:Ae,isEmpty:0===C.trim().length})]})]}),me?null:(0,r.jsx)(Ot,{ref:ee,channel:x,canOnlyUseTextCommands:Qe}),(0,r.jsx)(_o,{ref:Ne,channel:x,canMentionRoles:H,canMentionChannels:V,useNewSlashCommands:be,canOnlyUseTextCommands:Qe,canSendStickers:null===(l=A.stickers)||void 0===l?void 0:l.allowSending,textValue:C,focused:T,expressionPickerView:Ye,type:A,editorRef:te,onSendMessage:xe,onSendSticker:De,onVisibilityChange:qe,editorHeight:Be,setValue:function(e,t){return null==L?void 0:L(null,e,t)},position:Q}),(0,r.jsx)(xu,{textValue:C,editorHeight:Be}),at?(0,r.jsx)(Db.Z,{type:A,textValue:C,className:z,maxCharacterCount:W}):null,ut?(0,r.jsx)(bu,{editorRef:te,channel:x,isEditorFocused:T,onSelectSticker:De,
submitButtonVisible:(null===(c=A.submit)||void 0===c?void 0:c.button)&&(null!==(et=null===(b=A.submit)||void 0===b?void 0:b.ignorePreference)&&void 0!==et?et:Ee),stickerIconVisible:null!==(tt=null===(E=A.stickers)||void 0===E?void 0:E.button)&&void 0!==tt&&tt}):null]}),Ke?null:(0,r.jsx)(Hl,{positionTargetRef:$,type:A,onSelectGIF:Le,onSelectEmoji:Re,onSelectSticker:De,channel:x})]})})}const Rm=o.memo(o.forwardRef(Lm))},573485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(457217),u=n(247346),c=n(202351),s=n(744564),f=n(567867),d=n(73904),p=n(316878),h=n(106200),y=n(423427),b=n(284610),m=n(255592),v=n(34225),g=n(194212),O=n(945460),E=n(557617),C=n(474717),S=n(873506),j=n(115549),_=n(2590),I=n(518017),w=n.n(I),P=n(712218),x=n.n(P);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){
var t=e.channelId,n=e.option,i=e.keyboardModeEnabled,l=o.useRef(null),u=N(o.useState(!1),2),c=u[0],s=u[1],d=m.Z.getUpload(t,n.name,b.d.ChannelMessage),p=o.useRef(null),h=o.useCallback((function(){s(!0)}),[]),y=o.useCallback((function(){s(!1)}),[]),v=o.useCallback((function(e){var r;s(!1);var o={id:n.name,file:null===(r=e.dataTransfer)||void 0===r?void 0:r.files[0],platform:C.ow.WEB};f.Z.setFile({channelId:t,id:n.name,file:o,draftType:b.d.ChannelMessage})}),[t,n]);o.useEffect((function(){var e=p.current;if(null==d){null==e||e.addEventListener("dragover",h,!1);null==e||e.addEventListener("dragleave",y,!1);null==e||e.addEventListener("drop",v,!1)}return function(){null==e||e.removeEventListener("dragover",h,!1);null==e||e.removeEventListener("dragleave",y,!1);null==e||e.removeEventListener("drop",v,!1)}}),[d,h,y,v]);return null!=d?(0,r.jsx)(j.Z,{channelId:t,upload:d,keyboardModeEnabled:i,draftType:b.d.ChannelMessage,label:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(O.Text,{tag:"span",
variant:"text-md/normal",children:[n.name,": "]}),(0,r.jsx)(O.Text,{tag:"span",variant:"text-md/normal",color:"text-brand",children:d.filename})]}),canEdit:!1}):(0,r.jsxs)(S.Z,{id:n.name,channelId:t,keyboardModeEnabled:i,onKeyDown:function(e){if(e.which===_.yXg.ENTER){var t;e.preventDefault();null===(t=l.current)||void 0===t||t.activateUploadDialogue()}},className:a()(w().emptyOption,T({},w().emptyOptionActive,c)),draftType:b.d.ChannelMessage,ref:p,children:[(0,r.jsx)("span",{className:a()(w().optionName,T({},w().optionNameActive,c)),children:n.name}),(0,r.jsx)(O.Clickable,{className:w().clickContainer,onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.activateUploadDialogue()},children:(0,r.jsxs)("div",{className:w().commandOptionContainer,children:[(0,r.jsx)("img",{src:x(),className:w().optionIcon,alt:""}),(0,r.jsx)(O.Text,{className:w().optionHelp,variant:"text-sm/normal",children:"Drag and drop or click to upload file"}),(0,r.jsx)(E.Z,{ref:l,
onChange:function(e){var r,o;if(null!=t&&null!=(null===(r=e.currentTarget)||void 0===r||null===(o=r.files)||void 0===o?void 0:o[0])){var i={id:n.name,file:e.currentTarget.files[0],platform:C.ow.WEB};f.Z.setFile({channelId:t,id:n.name,file:i,draftType:b.d.ChannelMessage});e.currentTarget.value=""}},multiple:!1,tabIndex:-1,"aria-hidden":!0,className:w().fileInput})]})})]})}var Z=n(503302),L=n.n(Z),R=n(333286),D=n.n(R);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function B(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=[];function V(e){var t=e.channelId,n=e.type,i=(0,c.e7)([p.Z],(function(){return p.Z.keyboardModeEnabled})),O=(0,h.Z)("attachments",u.hy.HORIZONTAL),E=(0,c.e7)([m.Z],(function(){return m.Z.getUploads(t,n.drafts.type)})),C=(0,c.cj)([y.Z],(function(){var e=y.Z.getActiveCommand(t);if(null==e)return{isApplicationCommand:!1,commandOptions:H,commandOptionStates:null};var n=y.Z.getOptionStates(t);return{isApplicationCommand:!0,commandOptions:e.options,commandOptionStates:n}})),S=C.isApplicationCommand,I=C.commandOptions,w=C.commandOptionStates,P=o.useMemo((function(){var e;return null!==(e=null==I?void 0:I.filter((function(e){
var t;return e.type===d.jw.ATTACHMENT&&(null==w||null===(t=w[e.name])||void 0===t?void 0:t.hasValue)})))&&void 0!==e?e:[]}),[I,w]),x=G(o.useState([]),2),A=x[0],T=x[1];o.useEffect((function(){var e=function(){f.Z.clearAll(t,n.drafts.type)};s.Z.subscribe("APPLICATION_COMMAND_SET_ACTIVE_COMMAND",e);return function(){return s.Z.unsubscribe("APPLICATION_COMMAND_SET_ACTIVE_COMMAND",e)}}),[t,n]);var N=o.useCallback((function(){O.focusFirstVisibleItem()}),[O]);(0,g.yp)({event:_.CkL.FOCUS_ATTACHMENT_AREA,handler:N});o.useEffect((function(){if(S){var e=[];A.forEach((function(t){P.some((function(e){return t.name===e.name}))||e.push(t)}));e.forEach((function(e){f.Z.remove(t,e.name,n.drafts.type)}));T(P)}}),[t,P.length,n]);return!S&&0===E.length||S&&0===P.length?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(l.bG,{navigator:O,children:(0,r.jsx)(l.SJ,{children:function(e){var o=e.ref,l=F(e,["ref"]);return(0,r.jsx)("ul",B(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U(e,t,n[t])}))}return e}({ref:o},l),{className:a()(L().channelAttachmentArea,D().scrollbarGhost),children:S?P.map((function(e){return(0,r.jsx)(M,{channelId:t,keyboardModeEnabled:i,option:e},e.name)})):E.map((function(e){return(0,r.jsx)(j.Z,{channelId:t,draftType:n.drafts.type,upload:e,keyboardModeEnabled:i},e.id)}))}))}})}),n.drafts.type===b.d.FirstThreadMessage?null:(0,r.jsx)(v.Z,{})]})}function W(e){var t=e.channelId,n=e.type;return e.canAttachFiles?(0,r.jsx)(V,{channelId:t,type:n}):null}const z=o.memo(W)},893691:(e,t,n)=>{"use strict";n.d(t,{cr:()=>h,HZ:()=>y,cu:()=>b,tM:()=>m,IB:()=>v,lk:()=>g,xi:()=>O,zb:()=>E});var r=n(73904),o=n(49621),i=n(423427),a=n(836296),l=n(855483),u=n(651700),c=n(556635),s=n(1131);function f(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var p=RegExp("([\\p{L}\\p{N}\\p{sc=Deva}\\p{sc=Thai}_-]+):","gu");function h(e){var t=c.bN.richValue(e)[0];return null==t||"applicationCommand"!==t.type?null:[t,s.YD]}function y(e){if(null==e.selection)return null;var t,n,r=null!==(t=c.bN.above(e,{at:e.selection.focus,match:function(e){return c.aj.isType(e,"applicationCommandOption")}}))&&void 0!==t?t:null;return null!=r||c.M8.isCollapsed(e.selection)?r:null!==(n=c.bN.above(e,{at:e.selection.anchor,match:function(e){return c.aj.isType(e,"applicationCommandOption")}}))&&void 0!==n?n:null}function b(e){var t=h(e),n=[],r=null==t?void 0:t[0].children;if(null!=r){var o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;c.aj.isType(s,"applicationCommandOption")&&n.push(s.optionName)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}return n}function m(e,t){var n={};if(null==t.options)return{};var r=h(e),o=Object.fromEntries(t.options.map((function(e){
return[e.name,e]}))),i=null==r?void 0:r[0].children;if(null!=i){var a=!0,l=!1,u=void 0;try{for(var s,f=i[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;if(c.aj.isType(d,"applicationCommandOption")){var p=o[d.optionName];null!=p&&(n[d.optionName]=v(e,p,d))}}}catch(e){l=!0;u=e}finally{try{a||null==f.return||f.return()}finally{if(l)throw u}}}return n}function v(e,t,n){var o=n.children.map((function(t){if(c.LC.isText(t))return{type:"text",text:t.text};if(c.bN.isVoid(e,t)){var n=(0,l.VI)(t);if(null!=n)return n}return{type:"text",text:(0,u.sg)(t,{mode:"raw"})}}));if(t.type!==r.jw.STRING){for(;o.length>0&&"text"===o[0].type&&""===o[0].text.trim();)o.shift();for(;o.length>0&&"text"===o[o.length-1].type&&""===o[o.length-1].text.trim();)o.pop()}return o}function g(e,t,n,r,i){if(null==e.options)return{};var l,u=Object.fromEntries(e.options.map((function(e){return[e.name,a.f(e,null!==(l=r[e.name])&&void 0!==l?l:null,t,n,i)]})));o.VP(n,u);return u}function O(e,t,n,r,l){
var u,c=d(r,1)[0],s=i.Z.getActiveCommand(n),f=null==s||null===(u=s.options)||void 0===u?void 0:u.find((function(e){return e.name===c.optionName}));if(null!=f){var p=v(e,f,c),h=a.f(f,p,t,n,l);o.g7(n,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},c.optionName,{lastValidationResult:h}));return h}}function E(e,t){if(null==t.options||0===t.options.length)return[];var n=c.bN.richValue(e),r=[],o=new Set(b(e)),i={},a=new Set,l=!0,s=!1,f=void 0;try{for(var d,h=t.options[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var y=d.value;i[y.displayName]=y;o.has(y.name)||a.add(y.displayName)}}catch(e){s=!0;f=e}finally{try{l||null==h.return||h.return()}finally{if(s)throw f}}for(var m=null,v=0;v<n.length;v++){var g=n[v];if("line"===g.type||"applicationCommand"===g.type)for(var O=0;O<g.children.length;O++){var E=g.children[O],C=[v,O];if(c.aj.isType(E,"applicationCommandOption")){if(null!=m){var S
;m.valueRange.focus=null!==(S=c.bN.before(e,C))&&void 0!==S?S:c.bN.start(e,[]);m.text=(0,u.sk)(n,{mode:"raw",range:m.valueRange}).trim();r.push(m);m=null}}else if(c.LC.isText(E)){p.lastIndex=0;for(var j=void 0;null!=(j=p.exec(E.text));)if(0===j.index||null!=E.text.charAt(j.index-1).match(/(\t|\s)/)){var _=j[1];if(a.has(_)){a.delete(_);var I=i[_];if(null!=I){var w={path:C,offset:j.index},P={path:C,offset:w.offset+j[0].length},x={path:C,offset:P.offset},A={name:I.name,displayName:I.displayName,type:I.type,keyRange:{anchor:w,focus:P},valueRange:{anchor:x,focus:x},text:""};if(null!=m){m.valueRange.focus=A.keyRange.anchor;m.text=(0,u.sk)(n,{mode:"raw",range:m.valueRange}).trim();r.push(m)}m=A}}}}}}if(null!=m){m.valueRange.focus=c.bN.end(e,[]);m.text=(0,u.sk)(n,{mode:"raw",range:m.valueRange}).trim();r.push(m)}return r}},510472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(153686),s=n(19585),f=n(545758),d=n(473903),p=n(95891),h=n(850841),y=n(61209),b=n(715107),m=n(366007),v=n(652591),g=n(2590),O=n(473708),E=n(761066),C=n.n(E);function S(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}
var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function P(){(0,u.openModalLazy)(j((function(){var e,t;return w(this,(function(o){switch(o.label){case 0:return[4,n.e(14449).then(n.bind(n,14449))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,I({channel:null},e))}]}}))})))}function x(e){var t=e.className,n=e.iconOnly,i=(0,l.e7)([b.Z,y.Z],(function(){var e=y.Z.getChannel(b.Z.getChannelId());return(null==e?void 0:e.isPrivate())?g.ZY5.DM_CHANNEL:g.ZY5.GUILD_CHANNEL})),f=(0,s.Z)(c.Z.PREMIUM_UPSELL).analyticsLocations;o.useEffect((function(){v.default.track(g.rMx.PREMIUM_UPSELL_VIEWED,{type:"longer messages inline",location:{location_page:i,location_section:g.jXE.CHANNEL_TEXT_AREA},location_stack:f})}),[i,f]);return n?(0,r.jsx)(u.Clickable,{className:C().iconOnly,onClick:function(){return P()},children:(0,r.jsx)(u.Tooltip,{text:O.Z.Messages.PREMIUM_MESSAGE_LENGTH_UPSELL_TOOLTIP_WITHOUT_LINK,position:"top",children:function(e){return(0,
r.jsx)(p.Z,I({className:C().premium},e))}})}):(0,r.jsxs)("div",{className:a()(C().root,t),children:[(0,r.jsx)(p.Z,{className:C().premium,color:m.JX.PREMIUM_TIER_2}),(0,r.jsx)(u.Text,{className:C().text,variant:"text-sm/normal",children:O.Z.Messages.PREMIUM_MESSAGE_LENGTH_UPSELL_TOOLTIP.format({onLearnMore:P})})]})}var A=n(186195),T=n.n(A);function N(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){N(e,t,n[t])}))}return e}function Z(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function L(e){var t,n=e.type,o=e.textValue,i=e.maxCharacterCount,y=e.className,b=(0,l.e7)([d.default],(function(){return h.ZP.canUseIncreasedMessageLength(d.default.getCurrentUser())})),m=(0,f.Z)(),v=null!=i?i:m,E=null!=i?i:m/10,C=o.length,S=null!=n.upsellLongMessages&&(null!=C?C:0)>g.J6R&&b,j=null!=n.upsellLongMessages&&!b,_=v-C,I=_>E,w=0===_?O.Z.Messages.CHARACTER_COUNT_AT_LIMIT:_>0?O.Z.Messages.CHARACTER_COUNT_CLOSE_TO_LIMIT.format({count:_}):O.Z.Messages.CHARACTER_COUNT_OVER_LIMIT,P=(0,s.Z)(c.Z.CHARACTER_COUNT).AnalyticsLocationProvider;return S&&_>=0||!I||j&&!I?(0,r.jsx)(P,{children:(0,r.jsxs)("div",{className:a()(y,T().characterCount,N({},T().error,_<0)),children:[(0,r.jsxs)("div",{className:T().flairContainer,
children:[S&&_>=0?(0,r.jsx)(u.Tooltip,{text:O.Z.Messages.PREMIUM_MESSAGE_LENGTH_CHATBOX_FLAIR.format({maxLength:v}),position:"top",children:function(e){return(0,r.jsx)(p.Z,M({className:T().premiumFlair},e))}}):null,I?null:(0,r.jsx)(u.Tooltip,{text:w,position:"top",children:function(e){return(0,r.jsx)("span",Z(M({"aria-hidden":!0},e),{children:_}))}})]}),(0,r.jsx)(u.HiddenVisually,{children:O.Z.Messages.CHARACTER_COUNT_CLOSE_TO_LIMIT.format({count:_})}),j&&!I?(0,r.jsx)(x,{className:T().upsell,iconOnly:(null===(t=n.upsellLongMessages)||void 0===t?void 0:t.iconOnly)||!1}):null]})}):null}},1131:(e,t,n)=>{"use strict";n.d(t,{YD:()=>r,u9:()=>o,nO:()=>i,i$:()=>a,On:()=>l});var r=[0],o=[0,0],i={path:[0,0],offset:0},a=/(\t|\s)/,l=["applicationCommandOption"]},141504:(e,t,n)=>{"use strict";n.r(t);n.d(t,{hasDomParent:()=>u,normalizeDOMPoint:()=>c});var r=n(857793);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=!1;if(!a){r.F3.toSlateRange=function(e,t,n){var o,i,a,l,u,c=n.exactMatch,s=n.suppressThrow;if(function(e){
var t=e&&e.anchorNode&&p(e.anchorNode);return null!=t&&e instanceof t.Selection}(t)){o=t.anchorNode;i=t.anchorOffset;a=t.focusNode;l=t.focusOffset;u=t.isCollapsed}else{o=t.startContainer;i=t.startOffset;a=t.endContainer;l=t.endOffset;u=t.collapsed}if(null==o||null==a||null==i||null==l){if(s)return null;throw new Error("Cannot resolve a Slate range from DOM range")}var f=r.F3.toSlatePoint(e,[o,i],{exactMatch:c,suppressThrow:s}),d=u?f:r.F3.toSlatePoint(e,[a,l],{exactMatch:c,suppressThrow:s});return null!=f&&null!=d?{anchor:f,focus:d}:null};var l=r.F3.toSlatePoint;r.F3.toSlatePoint=function(e,t,n){var r=n.exactMatch,o=n.suppressThrow,i=n.direction;r||(t=c(t,void 0===i?"forward":i));try{return l(e,t,{exactMatch:!0,suppressThrow:o})}catch(e){if(o)return null;throw e}};a=!0}function u(e,t){if(null==t)return!1;for(;null!=e;){if(e===t)return!0;e=e.parentNode}return!1}function c(e,t){var n,r,o=i(e,2),a=o[0],l=o[1];if(!f(a)||0===a.childNodes.length)return e
;"forward"===t&&l===a.childNodes.length&&(t="backward");"backward"===t&&l--;a=(r=i(s(a,l,t),2))[0],n=r[1];"forward"===t&&n<l?t="backward":"backward"===t&&n>l&&(t="forward");l=n;for(;f(a)&&a.childNodes.length>0;){a=s(a,"backward"===t?a.childNodes.length-1:0,t)[0]}return[a,"backward"===t&&null!=a.textContent?a.textContent.length:0]}function s(e,t,n){for(var r,o=e.childNodes,i=o[t],a=t,l=!1,u=!1;(d(r=i)&&8===r.nodeType||f(i)&&0===i.childNodes.length||f(i)&&"false"===i.getAttribute("contenteditable"))&&(!l||!u);)if(a>=o.length){l=!0;a=t-1;n="backward"}else if(a<0){u=!0;a=t+1;n="forward"}else{i=o[a];t=a;a+="forward"===n?1:-1}return[i,t]}function f(e){return d(e)&&1===e.nodeType}function d(e){var t=p(e);return null!=t&&e instanceof t.Node}function p(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null}},651700:(e,t,n)=>{"use strict";n.d(t,{sk:()=>v,sg:()=>O})
;var r=n(441143),o=n.n(r),i=n(773011),a=n(971561),l=n(61209),u=n(567403),c=n(840922),s=n(464187),f=n(473903),d=n(749565),p=n(556635);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var n=null!=t?t:{},r=n.mode,o=n.ignoreTrailingEmptyNodes,i=n.preventEmojiSurrogates,a=m(null!=(null==t?void 0:t.range)?p.M8.edges(t.range):[void 0,void 0],2);return g(e,{mode:r,start:a[0],end:a[1],ignoreTrailingEmptyNodes:o,preventEmojiSurrogates:i})}function g(e,t){
var n,r=null!=t?t:{},o=r.mode,i=r.start,a=r.end,l=r.separator,u=r.ignoreEmptyNodes,c=r.ignoreTrailingEmptyNodes,s=r.preventEmojiSurrogates,f=e.length>0&&!p.LC.isText(e[0]);null==l&&(l=f?"\n":"");var d,h=null!==(n=null==i?void 0:i.path[0])&&void 0!==n?n:0,y=null!==(d=null==a?void 0:a.path[0])&&void 0!==d?d:e.length-1;if(c)for(var b=y;b>=h;b--){var m=e[b];if(p.LC.isText(m)){if(m.text.length>0){y=b;break}}else if(!p.q.isEmpty(m)){y=b;break}if(b===h)return""}for(var v=h>0&&p.aj.isType(e[h-1],"blockQuote"),g=p.aj.isType(e[h],"blockQuote"),E=p.aj.isType(e[y],"blockQuote"),C=[],S=h;S<=y;S++){var j=e[S];if(!u||!p.LC.isText(j)||0!==j.text.length){var _=O(j,{mode:o,start:null!=i&&S===h?{path:i.path.slice(1),offset:i.offset}:void 0,end:null!=a&&S===y?{path:a.path.slice(1),offset:a.offset}:void 0,allowBlockQuotePrefix:null==i||null==a||!v&&(!g||E),preventEmojiSurrogates:s});(!u||_.length>0)&&C.push(_)}}return C.join(l)}function O(e,t){
var n=null!=t?t:{},r=n.mode,h=n.start,m=n.allowBlockQuotePrefix,v=void 0!==m&&m,O=n.preventEmojiSurrogates,E=void 0!==O&&O;if(p.LC.isText(e))return function(e,t){var n,r,i=null!=t?t:{},a=i.start,l=i.end;o()(null==a||0===a.path.length,"Invalid start provided to serializeText");o()(null==l||0===l.path.length,"Invalid end provided to serializeText");return e.substring(null!==(n=null==a?void 0:a.offset)&&void 0!==n?n:0,null!==(r=null==l?void 0:l.offset)&&void 0!==r?r:e.length)}(e.text,t);switch(e.type){case"line":case"testInline":return g(e.children,t);case"testInlineVoid":return"";case"blockQuote":var C=g(e.children,t),S=null!=h&&1===h.path.length&&0===h.path[0]&&0===h.offset;return v&&(null==h||S)?"> ".concat(C):C;case"emoji":var j=e.emoji;return E||null==j.surrogate?j.name:j.surrogate;case"customEmoji":var _=e.emoji;if("raw"===r){var I=_.animated?"a":"",w=_.name.replace(/:/g,"").split("~")[0];return"<".concat(I,":").concat(w,":").concat(_.emojiId,">")}return _.name;case"textMention":
return e.name;case"channelMention":var P="<#".concat(e.channelId,">");if("raw"===r)return P;var x=l.Z.getChannel(e.channelId);return null==x?P:(0,i.F6)(x,f.default,c.Z,!0,!0);case"staticRouteLink":var A="<id:".concat(e.channelId,">");if("raw"===r)return A;var T=l.Z.getChannel(e.channelId);return null==T?A:(0,i.F6)(T,f.default,c.Z,!0,!0);case"roleMention":var N="<@&".concat(e.roleId,">");if("raw"===r)return N;var M=u.Z.getGuild(s.Z.getGuildId()),Z=null==M?void 0:M.roles[e.roleId];return null==Z?N:"@".concat(Z.name);case"userMention":var L="<@".concat(e.userId,">");if("raw"===r)return L;var R=f.default.getUser(e.userId);return null==R?L:"@".concat(d.ZP.getUserTag(R,{decoration:"never"}));case"commandMention":return"</".concat(e.commandName,":").concat(e.commandId,">");case"timestamp":return(0,a.He)(e.parsed.timestamp,e.parsed.format);case"applicationCommand":return g(e.children,b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}({},t),{separator:" ",ignoreEmptyNodes:!0}));case"applicationCommandOption":var D=g(e.children,t);return null==h?"".concat(e.optionDisplayName,":").concat(D):D}}},73948:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(104182),o=n(893691),i=n(556635),a=n(1131);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}
}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},r.YR),{resetSelectionToStart:function(e){r.YR.select(e,i.bN.start(e,[]))},resetSelectionToEnd:function(e){r.YR.select(e,i.bN.end(e,[]))},delete:function(e,t){var n=t.at,o=t.distance,a=t.unit,l=t.reverse,u=void 0!==l&&l,s=t.select,f=void 0!==s&&s,d=t.bounds,p=t.voids;if(null==n){if(null==e.selection)return;n=e.selection}var h=c(i.M8.isRange(n)?i.M8.edges(n):i.bN.edges(e,n),2),y=h[0],b=h[1];if(null!=o||null!=a)if(u){var m,v=null!==(m=i.bN.before(e,y,{distance:o,unit:a}))&&void 0!==m?m:i.bN.start(e,[]);if("character"===a&&1===(null!=o?o:1)&&i.C0.equals(y.path,b.path)){
var g=i.bN.leaf(e,y.path),O=null!=g?g[0].text:"";if(O.length>0&&null!=O[O.length-1].match(/[\u0E00-\u0E7F]/)){var E;v=null!==(E=i.bN.before(e,y,{distance:o,unit:"offset"}))&&void 0!==E?E:i.bN.start(e,[])}}y=v}else{var C;b=null!==(C=i.bN.after(e,b,{distance:o,unit:a}))&&void 0!==C?C:i.bN.end(e,[])}if(null!=d){var S=c(i.M8.edges(d),2),j=S[0],_=S[1];i.Jz.isBefore(y,j)&&(y=j);i.Jz.isAfter(b,_)&&(b=_)}if(!i.Jz.equals(y,b)){r.YR.delete(e,{at:{anchor:y,focus:b},hanging:!0,voids:p});f&&i.bN.hasPath(e,y.path)&&r.YR.select(e,y)}},textToText:function(e,t,n){var o,a=i.bN.getSelectionOverlap(e,n),l=c(i.M8.edges(n),2),u=l[0],s=l[1],f=null!==(o=i.bN.before(e,u))&&void 0!==o?o:i.bN.start(e,[]),p=i.bN.after(e,s);i.M8.isExpanded(n)&&r.YR.delete(e,{at:n,voids:!0});r.YR.insertText(e,t,{at:f});d(e,a,f=null!=f?f:i.bN.start(e,[]),p=null!=p?p:i.bN.end(e,[]),p)},textToVoid:function(e,t,n){var o=i.bN.getSelectionOverlap(e,n),a=i.M8.start(n),l=i.C0.next(a.path),u={path:i.C0.next(l),offset:0};r.YR.delete(e,{at:n,
voids:!0});0===a.offset&&r.YR.insertNodes(e,[{text:""}],{at:a.path});r.YR.insertNodes(e,[t],{at:a});i.bN.hasPath(e,u.path)&&i.LC.isText(i.bN.node(e,u.path)[0])||r.YR.insertNodes(e,[{text:""}],{at:u.path});d(e,o,a,u,u)},textToInline:function(e,t,n){var o=i.bN.getSelectionOverlap(e,n),a=t.children[t.children.length-1],l=i.M8.start(n),u=i.C0.next(l.path),c={path:i.C0.child(u,t.children.length-1),offset:i.LC.isText(a)?a.text.length:0};r.YR.delete(e,{at:n,voids:!0});0===l.offset&&r.YR.insertNodes(e,[{text:""}],{at:l.path});r.YR.insertNodes(e,[t],{at:l});d(e,o,l,c,c)},voidToText:function(e,t,n){var o,a=i.bN.getSelectionOverlap(e,n),l=null!==(o=i.bN.before(e,n))&&void 0!==o?o:i.bN.start(e,[]),u={path:l.path,offset:l.offset+t.length};r.YR.delete(e,{at:n,voids:!0});r.YR.insertText(e,t,{at:l});d(e,a,l,l,u)},removeInline:function(e,t){var n,o=i.bN.getSelectionOverlap(e,t),a=null!==(n=i.bN.before(e,t))&&void 0!==n?n:i.bN.start(e,[]);r.YR.delete(e,{at:t,voids:!0});d(e,o,a,a,a)},
removeInlineChildren:function(e,t){var n=c(t,2),o=n[0],a=n[1],l=i.bN.getSelectionOverlap(e,a),u={path:i.C0.child(a,0),offset:0};i.bN.withoutNormalizing(e,(function(){for(var t=o.children.length-1;t>=0;t--)r.YR.removeNodes(e,{at:i.C0.child(a,t),voids:!0})}));d(e,l,null,u,null)},selectCommandOption:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=o.cr(e);if(null!=a)for(var l=0;l<a[0].children.length;l++){var u=a[0].children[l];if(i.aj.isType(u,"applicationCommandOption")&&u.optionName===t){n?r.YR.select(e,[0,l]):r.YR.select(e,i.bN.end(e,[0,l]));return}}},selectPreviousCommandOption:function(e){if(null!=o.cr(e)){var t=null!=e.selection?e.selection.focus.path:i.bN.end(e,a.YD).path,n=o.HZ(e),l=i.bN.previous(e,{at:t,match:function(e){return e!==(null==n?void 0:n[0])&&i.aj.isType(e,"applicationCommandOption")}});null!=l?r.YR.select(e,l[1]):i.C0.isAfter(t,a.u9)&&r.YR.select(e,i.bN.end(e,a.u9))}},selectNextCommandOption:function(e){if(null!=o.cr(e)){
var t=null!=e.selection?e.selection.focus.path:i.bN.start(e,a.YD).path,n=o.HZ(e),l=i.bN.next(e,{at:t,match:function(e){return e!==(null==n?void 0:n[0])&&i.aj.isType(e,"applicationCommandOption")}});null!=l?r.YR.select(e,l[1]):s.resetSelectionToEnd(e)}},insertCommandOption:function(e,t){s.resetSelectionToEnd(e);s.insertNodes(e,[{type:"applicationCommandOption",optionName:t.name,optionDisplayName:t.displayName,optionType:t.type,children:[{text:""}]}])},keyboardMove:function(e,t){var n=null!=t?t:{},o=n.reverse,a=void 0!==o&&o,l=n.unit,u=void 0===l?"character":l,c=n.edge,s=e.selection;if(null!=s)if(void 0===c&&i.M8.isExpanded(s))r.YR.collapse(e,{edge:a?"start":"end"});else{var f=i.bN.leaf(e,s.anchor.path);if(null!=f){for(var d=a?i.bN.before:i.bN.after,p=s.focus;null!=p;){var h=u;a||s.focus.offset!==f[0].text.length?a&&0===s.focus.offset&&(h="offset"):h="offset";var y=d(e,p,{unit:h});if(null==y||i.Jz.equals(p,y)){p=void 0;break}p=y;if(null==i.bN.getParentVoid(e,p))break}
null!=p&&("focus"===c?r.YR.setSelection(e,{focus:p}):r.YR.setSelection(e,{focus:p,anchor:p}))}}}});function f(e,t,n,r,o){switch(t){case"start":return n;case"inside":return r;case"end":return o}return e}function d(e,t,n,r,o){var i,a;if(null!=t.anchor||null!=t.focus){var l=f(null===(i=e.selection)||void 0===i?void 0:i.anchor,t.anchor,n,r,o),u=f(null===(a=e.selection)||void 0===a?void 0:a.focus,t.focus,n,r,o);if(null!=l&&null!=u){var c={anchor:l,focus:u};s.select(e,c)}}}},556635:(e,t,n)=>{"use strict";n.d(t,{lP:()=>Ae,bN:()=>ge,q:()=>Ee,aj:()=>Oe,C0:()=>Se,Jz:()=>je,M8:()=>_e,Ew:()=>Ie,LC:()=>Ce});var r=n(441143),o=n.n(r),i=n(104182),a=n(857793),l=n(5387),u=n.n(l),c=n(120053),s=n(894012),f=n(296602),d=n(726041),p=n(645842),h=n(757278),y=n(844494);const b=(0,n(260561).B)({id:"2022-12_timestamp_tooltip",label:"Timestamp Tooltip",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]});var m=n(120637),v=(n(455049),
m.Z.listLanguages()),g={},O=!0,E=!1,C=void 0;try{for(var S,j=v[Symbol.iterator]();!(O=(S=j.next()).done);O=!0){var _=S.value;_=_.toLowerCase();var I=m.Z.getLanguage(_);if(null!=I){var w=I.aliases;g[_]=_;if(null!=w){var P=!0,x=!1,A=void 0;try{for(var T,N=w[Symbol.iterator]();!(P=(T=N.next()).done);P=!0){var M=T.value;g[M.toLowerCase()]=_}}catch(e){x=!0;A=e}finally{try{P||null==N.return||N.return()}finally{if(x)throw A}}}}}}catch(e){E=!0;C=e}finally{try{O||null==j.return||j.return()}finally{if(E)throw C}}var Z=/^[a-z0-9_+\-.#]+$/,L=/^[a-z0-9_+\-.#]+$/i;for(var R in g)if(null==R.match(Z))throw new Error("Language name does not match regex: ".concat(R));function D(e){for(var t,n=[],r=/\\|```/g;null!=(t=r.exec(e));)"\\"!==t[0]?n.push(t.index):r.lastIndex+=1;return n}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))}return e}function B(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var F={link:{type:"skip"},highlight:{type:"skip"},blockQuote:{type:"skip"},codeBlock:{type:"skip"},list:{type:"skip"},heading:{type:"skip"},channelOrMessageUrl:{type:"skip"},newline:{type:"verbatim"},br:{type:"verbatim"},paragraph:{type:"verbatim"},text:{type:"verbatim"},emoticon:{type:"verbatim"},mention:{
type:"inlineObject"},roleMention:{type:"inlineObject"},commandMention:{type:"inlineObject"},channelMention:{type:"inlineObject"},emoji:{type:"inlineObject"},customEmoji:{type:"inlineObject"},em:{type:"inlineStyle",before:"*",after:"*"},looseEm:{type:"inlineStyle",before:"*",after:" *"},autolink:{type:"inlineStyle",before:"<",after:">"},strong:{type:"inlineStyle",before:"**",after:"**"},u:{type:"inlineStyle",before:"__",after:"__"},s:{type:"inlineStyle",before:"~~",after:"~~"},escape:{type:"inlineStyle",before:"\\",after:""},inlineCode:{type:"inlineStyle",before:"`",after:"`"},staticRouteLink:{type:"inlineStyle",before:"<id:",after:">"},spoiler:{type:"inlineStyle",before:"||",after:"||"},url:{type:"inlineStyle",before:"",after:""},codeBlockText:{type:"inlineStyle",before:"",after:""},codeBlockSyntax:{type:"inlineStyle",before:"",after:""},codeBlockLang:{type:"inlineStyle",before:"",after:""},timestamp:{type:"inlineObject"}},G=new Set(["*","_","\\"]),H={},V={};for(var W in p.Z.RULES){
if(!(W in F))throw new Error("Slate: Unknown markdown rule: ".concat(W,".  If you have just added a new markdown rule ")+"then you probably need to add it to this file so that the rich chat box understands it.");var z=F[W];"skip"!==z.type&&(H[W]=Y(p.Z.RULES[W]));"skip"!==z.type&&"inlineObject"!==z.type&&(V[W]=Y("text"===W?h.ZP:p.Z.RULES[W]))}function Y(e){o()(null!=e.parse,"Slate: rule must have a parse function");var t=e.parse;return B(U({},e),{parse:function(e,n,r){var o=t.call(this,e,n,r);o instanceof Array||(o.originalMatch=e);return o}})}var K={url:{parse:function(e){return null==(0,d.yw)(e[1])?{type:"text",content:e[0],originalMatch:e}:{type:"link",content:e[1],originalMatch:e}}},autolink:{parse:function(e){return null==(0,d.yw)(e[1])?{type:"text",content:e[0],originalMatch:e}:{type:"autolink",content:e[1],originalMatch:e}}},codeBlockSyntax:{order:c.defaultRules.inlineCode.order-.1,match:function(e){return/^(```)([a-z0-9_+\-.]+$)?/.exec(e)},parse:function(e){
return null!=e[2]&&""!==e[2]&&e[2].toLowerCase()in g?[{type:"codeBlockSyntax",content:e[1],originalMatch:e},{type:"codeBlockLang",content:e[2],originalMatch:e}]:{type:"codeBlockSyntax",content:e[0],originalMatch:e}}}},q=(0,y.Z)([H,K]),X=(0,y.Z)([V,K]),Q=s._p(q),J=s._p(X),$={max:1/0,maxAge:6e4,updateAgeOnGet:!0},ee=new(u())($),te=new(u())($);function ne(e,t,n){var r=[],o={returnMentionIds:!0,disableAutoBlockNewlines:!0,guildId:t},i=n?J:Q,a=n?te:ee,l=a.get(e);if(null!=l)return l;var u=e.replace(/\r\n/g," \n").replace(/[\r\f]/g," ").replace(/\t/g," ")+"\n\n";re(r,u,{originalMatch:{index:0,0:""},type:"paragraph",content:i(u,!1,o)},0,[]);var c=function(e){e=e.filter((function(e){return e.text.length>0}));if(0===e.length)return e;for(var t=[e[0]],n=1;n<e.length;n++){var r=t[t.length-1],o=r.start+r.text.length,i=e[n];i.start===o&&null==r.data&&null==i.data&&r.attributes.join("-")===i.attributes.join("-")?r.text+=i.text:t.push(i)}return t}(r);a.set(e,c);return c}function re(e,t,n,r,i){
var a=n.content,l=n.type,u=n.originalMatch;o()(null!=u,"Slate: originalMatch must be set "+JSON.stringify(n,void 0,2));switch(l){case"newline":case"br":case"paragraph":case"text":case"emoticon":return oe(e,t,a||"",r,i);case"emoji":case"customEmoji":var c=t.substring(r);if(!c.startsWith(u[0])){r=ue(e,t,r,t.length);c=t.substring(r)}if(c.startsWith(u[0]))return ae({result:e,sourceText:t,text:u[0],originalStart:r,attributes:[l],data:n});throw new Error("Slate: Unable to find emoji: ".concat(u[0]," in ").concat(t," at ").concat(r));case"mention":case"roleMention":case"channelMention":case"commandMention":case"staticRouteLink":case"channel":var s=n.text,f=n.id;if(null!=s){o()(s===u[0],"Slate: text mentions must exactly match the regex match");return ae({result:e,sourceText:t,text:s,originalStart:r,attributes:["textMention"],data:{text:s}})}return ae({result:e,sourceText:t,text:u[0],originalStart:r,attributes:[l],data:{id:f}});case"timestamp":return b.getCurrentConfig({},{autoTrackExposure:!1
}).enabled?ae({result:e,sourceText:t,text:u[0],originalStart:r,attributes:[l],data:n}):oe(e,t,u[0],r,i);case"em":case"autolink":case"strong":case"u":case"s":case"escape":case"inlineCode":case"codeBlockSyntax":case"codeBlockLang":case"spoiler":case"url":case"link":var d=function(e,t,n,r){if("inlineCode"===t)return{before:r[1],after:r[1]};if("em"===t&&"_"===e.substring(n,n+1))return{before:"_",after:"_"};var o=F["link"===t?"url":t];if("inlineStyle"===o.type)return o;throw new Error("Slate: rule must be an inlineStyle")}(t,l,r=le(t,r),u),p=d.before,h=d.after;r=ie(e,t,p,r,"syntaxBefore");i.push(l);r=oe(e,t,null!=a?a:"",r,i);i.pop();return le(t,r=ie(e,t,h,r,"syntaxAfter"));default:throw new Error("Slate: Unknown rule type: ".concat(l))}}function oe(e,t,n,r,o){if("string"==typeof n)r=ae({result:e,sourceText:t,text:n,originalStart:r,attributes:o,data:null});else{n instanceof Array||(n=[n]);n.forEach((function(n){r=re(e,t,n,r,o)}))}return le(t,r)}function ie(e,t,n,r,i){if(n.length>0){
var a=t.indexOf(n,r),l=t.substring(r,a+n.length);o()(a>=0,"Slate: Unable to find syntax characters");e.push({text:l,attributes:[i],start:r,data:null});r=a+n.length}return r}function ae(e){for(var t=e.result,n=e.sourceText,r=e.text,o=e.originalStart,i=e.attributes,a=e.data,l=le(n,o);"\n"===r.charAt(0)||" "===r.charAt(0);)r=r.substring(1);var u=n.indexOf(r,l);if(u!==l)l=o=ue(t,n,l,u);else if("\\"===r&&"\\"===n.charAt(u+1)){u++;o=++l}if(u!==l){new f.Z("MarkdownToSlate").error(JSON.stringify({sourceText:n,searchText:r,searchStartsAt:n.substring(l),startPos:l}));throw Error("Slate: Unable to find content in source text!")}var c=l+r.length,s=n.substring(o,c);t.push({text:s,attributes:i.slice(),start:o,data:a});return c}function le(e,t){for(;"\n"===e.charAt(t)||" "===e.charAt(t);)t++;return t}function ue(e,t,n,r){for(;n<r&&G.has(t[n]);)n=le(t,n=ie(e,t,t[n],n,"syntaxBefore"));return n}var ce=n(1131);function se(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fe(e,t,n[t])}))}return e}function pe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function he(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return se(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}n(141504);var me=!1;if(!me){var ve=a.F3.findDocumentOrShadowRoot;a.F3.findDocumentOrShadowRoot=function(e){var t,n;return null!==(n=null===(t=e.windowContext)||void 0===t?void 0:t.renderWindow.document)&&void 0!==n?n:ve(e)};me=!0}var ge=pe(de({},i.ML,a.F3),{richValue:function(e){return e.children},blocks:function(e){return ge.richValue(e).map((function(e,t){return[e,[t]]}))},isBlock:function(e,t){return Ee.isElement(t)&&i.ML.isBlock(e,t)},isInline:function(e,t){return Ee.isElement(t)&&i.ML.isInline(e,t)},isVoid:function(e,t){return Ee.isElement(t)&&i.ML.isVoid(e,t)},isEditorEmpty:function(e){var t=ge.richValue(e);return!(t.length>1)&&(0===t.length||"line"===t[0].type&&Ee.isEmpty(t[0]))},getFirstText:function(e){var t=ge.node(e,ce.u9)
;return Ce.isText(t[0])?t[0]:null},getCurrentBlock:function(e){return null==e.selection?null:this.getParentBlock(e,e.selection)},getCurrentElement:function(e){return null==e.selection?null:this.getParentElement(e,e.selection)},getCurrentInline:function(e){return null==e.selection?null:this.getParentInline(e,e.selection)},getCurrentVoid:function(e){return null==e.selection?null:this.getParentVoid(e,e.selection)},getCurrentText:function(e){var t=null!=e.selection?_e.toPoint(e.selection):null;return null==t?null:ge.node(e,t.path)},getParentBlock:function(e,t){var n;return null!==(n=ge.above(e,{at:t,match:function(t){return Ee.isElement(t)&&ge.isBlock(e,t)},mode:"lowest"}))&&void 0!==n?n:null},getParentElement:function(e,t){var n;return null!==(n=ge.above(e,{at:t,match:function(e){return Ee.isElement(e)},mode:"lowest"}))&&void 0!==n?n:null},getParentInline:function(e,t){var n;return null!==(n=ge.above(e,{at:t,match:function(t){return ge.isInline(e,t)},mode:"lowest"}))&&void 0!==n?n:null},
getParentVoid:function(e,t){var n;return null!==(n=ge.above(e,{at:t,match:function(t){return ge.isVoid(e,t)},mode:"lowest"}))&&void 0!==n?n:null},getSelectedText:function(e,t){var n=null;if(t){var r=a.F3.findDocumentOrShadowRoot(e).getSelection();if(null!=r&&r.rangeCount>0){var o=r.getRangeAt(0);null!=o&&(n=a.F3.toSlateRange(e,o,{exactMatch:!0,suppressThrow:!0}))}}else n=e.selection;return null==n?"":this.getTextFromRange(e,n)},getTextFromRange:function(e,t){var n=he(_e.edges(t),2),r=n[0],o=n[1],i=ge.nodes(e,{at:t,mode:"lowest",match:function(e){return Ce.isText(e)}}),a="",l=!0,u=!1,c=void 0;try{for(var s,f=i[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=he(s.value,2),p=d[0],h=d[1],y=Se.equals(h,r.path)?r.offset:0,b=Se.equals(h,o.path)?o.offset:0;a+=p.text.substring(y,b)}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}return a},withoutNormalizing:function(e,t){var n=ge.isNormalizing(e);ge.setNormalizing(e,!1);try{t()}finally{
ge.setNormalizing(e,n)}!1!==n&&ge.normalize(e)},areStylesDisabled:function(e){var t;if(!e.previewMarkdown)return!0;var n=ge.richValue(e),r=n[0],o="line"===(null==r?void 0:r.type)?r.children[0]:null;if(null==o||!Ce.isText(o))return!1;var i=e.chatInputType,a=o.text;return 1===n.length&&1===r.children.length&&(!0===i.sedReplace&&a.startsWith("s/")||!0===(null===(t=i.autocomplete)||void 0===t?void 0:t.reactions)&&a.startsWith("+"))},focus:function(e){if(!a.F3.isFocused(e)){a.F3.focus(e);a.F3.deselect(e)}},getSelectionOverlap:function(e,t){if(null==e.selection)return{anchor:null,focus:null};if(Se.isPath(t)){var n=ge.range(e,t),r=he(ge.node(e,t),1)[0];if(Ee.isElement(r)){var o=ge.before(e,t),i=ge.after(e,t);t={anchor:null!=o?o:n.anchor,focus:null!=i?i:n.focus}}else t=n}var a=he(_e.edges(t),2),l=a[0],u=a[1],c=null,s=null;je.equals(e.selection.anchor,l)?c="start":je.equals(e.selection.anchor,u)?c="end":_e.includes(t,e.selection.anchor)&&(c="inside")
;je.equals(e.selection.focus,l)?s="start":je.equals(e.selection.focus,u)?s="end":_e.includes(t,e.selection.focus)&&(s="inside");return{anchor:c,focus:s}}}),Oe=pe(de({},i.NB),{isType:function(e,t){return i.W_.isElement(e)&&e.type===t},isInTypes:function(e,t){return i.W_.isElement(e)&&t.has(e.type)}}),Ee=pe(de({},i.W_),{updateElement:function(e,t){var n=ge.node(e,t[1]);o()(!ge.isEditor(t[0]),"Element is the root node");o()(null!=n,"Failed to find element");o()(Ee.isElement(n[0]),"Node at this path is no longer an element");o()(n[0].type===t[0].type,"Node at this path is a different type");return n},markdown:function(e,t,n){var r,o="line"===e.type&&!0===(null===(r=e.codeBlockState)||void 0===r?void 0:r.wasInCodeBlock),i=e.children.map((function(e){return Ce.isText(e)?e.text:" "})),a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=D(e);o.push(e.length);if(1===o.length&&n)return[]
;var i=0,a=n,l=[],u=!0,c=!1,s=void 0;try{for(var f,d=o[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=f.value;if(a)l.push({text:e.substring(i,p),start:i,attributes:["codeBlockText"],data:void 0});else{var h=p===o[o.length-2]?e.substring(p+3):"";p+=3+(null!=h.match(L)?h:"").length;var y=e.substring(i,p);if(""!==y){ne(y,t,r).forEach((function(e){l.push(B(U({},e),{start:e.start+i}))}))}}a=!a;i=p}}catch(e){c=!0;s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}return l}(i.join(""),null!=t?t:null,o,n);return{entries:a,serializedChildren:i}},isEmpty:function(e){if(e.children.length>1)return!1;if(0===e.children.length)return!0;var t=e.children[0];return Ce.isText(t)&&0===t.text.length}}),Ce=de({},i.xv),Se=pe(de({},i.y$),{isFirstEditorBlock:function(e){return Se.equals(e,ce.YD)},isFirstEditorText:function(e){return Se.equals(e,ce.u9)},isFirstChild:function(e,t){return Se.equals(t,Se.child(e,0))},child:function(e,t){return ye(e).concat([t])}}),je=pe(de({},i.E9),{
start:function(e){var t=he(e,2)[1];return{path:Se.child(t,0),offset:0}},end:function(e){var t=he(e,2),n=t[0],r=t[1],o=n.children[n.children.length-1];return{path:Se.child(r,n.children.length-1),offset:Ce.isText(o)?o.text.length:0}},isAtStart:function(e,t){return je.equals(e,this.start(t))},isAtEnd:function(e,t){return je.equals(e,this.end(t))},clamp:function(e,t){var n=he(_e.edges(t),2),r=n[0],o=n[1];je.isBefore(e,r)&&(e=r);je.isAfter(e,o)&&(e=o);return e}}),_e=pe(de({},i.e6),{toPoint:function(e){return null==e||_e.isExpanded(e)?null:e.anchor},children:function(e){var t=he(e,2),n=t[0],r=t[1],o=n.children[n.children.length-1];return{anchor:{path:Se.child(r,0),offset:0},focus:{path:Se.child(r,n.children.length-1),offset:Ce.isText(o)?o.text.length:0}}},clamp:function(e,t){var n=he(_e.edges(e),2),r=n[0],o=n[1],i=he(_e.edges(t),2),a=i[0],l=i[1];je.isBefore(r,a)&&(r=a);je.isAfter(o,l)&&(o=l);return _e.isForward(e)?{anchor:r,focus:o}:{anchor:o,focus:r}}}),Ie={equals:function(e,t){
return null==e&&null==t||null!=e&&null!=t&&_e.equals(e,t)},isValid:function(e,t){if(null==t)return!1;var n=t.anchor,r=t.focus;if(!ge.hasPath(e,n.path)||!ge.hasPath(e,r.path))return!1;var o=he(ge.node(e,n.path),1)[0],i=he(ge.node(e,r.path),1)[0];return Ce.isText(o)&&Ce.isText(i)&&n.offset<=o.text.length&&r.offset<=i.text.length}},we=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Pe=function(e,t,n){var r=ge.toDOMRange(e,t).getBoundingClientRect(),o=ge.toDOMRange(e,n).getBoundingClientRect();return we(r,o)&&we(o,r)},xe=function(e,t,n,r){for(var o={anchor:t,focus:t},i=0,a=n.length,l=Math.floor((i+a)/2);l!==i;){var u={anchor:n[l],focus:n[l]};Pe(e,u,o)?r?a=l:i=l:r?i=l:a=l;l=Math.floor((i+a)/2);if(!r&&l===n.length-2&&a===n.length-1){var c=n[n.length-1];Pe(e,{anchor:c,focus:c},o)&&(l=a)}}return n[l]},Ae={getLineStart:function(e,t,n){var r,o=ge.getParentElement(e,t);if(null==o)return null;var i=ge.previous(e,{at:t,match:function(t){
return ge.isInline(e,t)&&!ge.isVoid(e,t)&&t!==o[0]}});null!=i&&(r=ge.after(e,i[1]));null==r&&(r=ge.start(e,o[1]));var a={anchor:r,focus:t},l=Array.from(ge.positions(e,{at:a})),u=xe(e,t,l,!0);if(n&&je.equals(t,u)&&!je.isAtEnd(t,o)){var c=ge.after(e,t);if(null==c)return u;u=xe(e,c,l,!0)}return u},getLineEnd:function(e,t,n){var r,o=ge.getParentElement(e,t);if(null==o)return null;var i=ge.next(e,{at:t,match:function(t){return ge.isInline(e,t)&&!ge.isVoid(e,t)&&t!==o[0]}});null!=i&&(r=ge.before(e,i[1]));null==r&&(r=ge.end(e,o[1]));var a={anchor:t,focus:r},l=Array.from(ge.positions(e,{at:a})),u=xe(e,t,l,!1);if(n&&je.equals(t,u)&&!je.isAtEnd(t,o)){var c=ge.after(e,t);if(null==c)return u;u=xe(e,c,l,!1)}return u},getLineActionRange:function(e,t){var n=_e.toPoint(e.selection);if(null==n)return null;if(t){var r=Ae.getLineStart(e,n,!1);return null==r?null:{anchor:r,focus:n}}var o=Ae.getLineEnd(e,n,!0);return null==o?null:{anchor:n,focus:o}}}},754693:(e,t,n)=>{"use strict";n.d(t,{eL:()=>oe,
h6:()=>ie,sS:()=>ue,jv:()=>ae,C1:()=>ee,A9:()=>se,Tm:()=>ne,em:()=>F,eU:()=>W,yi:()=>V,T1:()=>H,yl:()=>z,QM:()=>Y});var r=n(744564),o=n(306472),i=n(448758),a=n(306263),l=n(341765),u=n(177570),c=n(736818),s=n(604945),f=n(69660),d=n(652591),p=n(120415),h=n(716118),y=n(335072),b=n(69085),m=n(671723),v=n(407561),g=n(102921);function O(){var e,t=u.Z.getStreamerActiveStreamMetadata(),n=null==t?void 0:t.pid,r=null==t?void 0:t.sourceName;if(null!=n&&null==r){var o;r=null===(o=m.ZP.getGameForPID(n))||void 0===o?void 0:o.name}var i=Object.keys(v.Z.getVoiceStatesForChannel(null!==(e=b.Z.getChannelId())&&void 0!==e?e:""));return{id:g.Z.fromTimestamp(Date.now()),name:"Clip - ".concat((new Date).toLocaleString()),gameName:null!=r?r:"Unknown",users:i,clipMethod:"manual",length:0,thumbnail:""}}function E(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){E(i,r,o,a,l,"next",e)}function l(e){E(i,r,o,a,l,"throw",e)}a(void 0)}))}}var S=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},j=null;function _(e){return null!=j?j:j=e.object().required().keys({id:e.string().required(),name:e.string().required(),gameName:e.string().required(),users:e.array().items(e.string()).required(),filepath:e.string().required(),length:e.number().required(),thumbnail:e.string().required().allow(""),editMetadata:e.object().keys({start:e.number(),end:e.number(),applicationAudio:e.boolean(),voiceAudio:e.boolean()}),clipMethod:e.string().allow("auto","manual").required()})}function I(e){return w.apply(this,arguments)}function w(){w=C((function(e){var t,r;return S(this,(function(o){switch(o.label){case 0:return[4,n.e(54533).then(n.t.bind(n,197683,23))];case 1:t=o.sent().default;r=_(t);try{t.assert(e,r);return[2,e]}catch(e){return[2,null]}return[2]}}))}));return w.apply(this,arguments)}function P(e,t,n,r,o,i,a){try{
var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,l,"next",e)}function l(e){P(i,r,o,a,l,"throw",e)}a(void 0)}))}}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function T(e){return N.apply(this,arguments)}function N(){return(N=x((function(e){var t,n;return A(this,(function(r){switch(r.label){case 0:if(null==e)return[2,""];t=new Blob([e],{type:"image/jpeg"});return[4,new Promise((function(e){var n=new FileReader;n.onloadend=function(){e(n.result)};n.readAsDataURL(t)}))];case 1:if("string"!=typeof(n=r.sent()))throw new Error("Thumbnail creation failed");return[2,n]}}))}))).apply(this,arguments)}var M=n(453790),Z=n(2590);function L(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function R(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,l,"next",e)}function l(e){L(i,r,o,a,l,"throw",e)}a(void 0)}))}}function D(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){D(e,t,n[t])}))}return e}function U(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var B=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function F(e){return G.apply(this,arguments)}function G(){return(G=R((function(e){return B(this,(function(t){switch(t.label){case 0:return[4,r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{clipsEnabled:e}})];case 1:t.sent();return[2]}}))}))).apply(this,arguments)}function H(e){r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{storageLocation:e}})}function V(e){r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{clipsQuality:e}})}function W(e){r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{clipsLength:e}})}function z(e){r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{viewerClipsEnabled:e}})}function Y(e){r.Z.dispatch({type:"CLIPS_SETTINGS_UPDATE",settings:{viewerConnectivity:e}})}var K=/[<>:"/\\|?*]/g;function q(e){return e.replaceAll(K,"").trim().replaceAll(" ","_")}function X(){
var e=c.default.getId(),t=u.Z.getActiveStreamForUser(e,null),n=null!=t?f.Z.getRTCConnection((0,a.V9)(t)):null;return{rtcConnectionId:null==n?void 0:n.getRTCConnectionId(),mediaSessionId:null==n?void 0:n.getMediaSessionId(),parentMediaSessionId:null==n?void 0:n.parentMediaSessionId,guildId:null==t?void 0:t.guildId,channelId:null==t?void 0:t.channelId}}function Q(e,t){var n,r,o,a,u,c,f,p,h,b=e.rtcConnectionId,m=e.mediaSessionId,v=e.parentMediaSessionId,g=e.guildId,O=e.channelId,E=new Map;for(var C in t.framesEncodedByEncoder){var S,j=t.framesEncodedByEncoder[C],_=(0,i.lG)(C),I=null!==(S=E.get(_))&&void 0!==S?S:0;E.set(_,I+j)}var w={guild_id:g,channel_id:O,rtc_connection_id:b,media_session_id:m,parent_media_session_id:v,frames_encoded_nvidia_cuda:null!==(n=E.get(i.Su.NVIDIA_CUDA))&&void 0!==n?n:0,frames_encoded_nvidia_direct3d:null!==(r=E.get(i.Su.NVIDIA_DIRECT_3D))&&void 0!==r?r:0,frames_encoded_openh264:null!==(o=E.get(i.Su.OPENH264))&&void 0!==o?o:0,
frames_encoded_videotoolbox:null!==(a=E.get(i.Su.VIDEOTOOLBOX))&&void 0!==a?a:0,frames_encoded_amd_direct3d:null!==(u=E.get(i.Su.AMD_DIRECT_3D))&&void 0!==u?u:0,frames_encoded_intel:null!==(c=E.get(i.Su.INTEL))&&void 0!==c?c:0,frames_encoded_intel_direct3d:null!==(f=E.get(i.Su.INTEL_DIRECT_3D))&&void 0!==f?f:0,frames_encoded_uncategorized:null!==(p=E.get(i.Su.UNCATEGORIZED))&&void 0!==p?p:0,frames_encoded_unknown:null!==(h=E.get(i.Su.UNKNOWN))&&void 0!==h?h:0,frames_submitted:t.framesSubmitted,frames_submitted_during_clip:t.framesSubmittedDuringClip,frames_encoded:t.framesEncoded,frames_encoded_during_clip:t.framesEncodedDuringClip,frames_dropped:t.framesDropped,frames_dropped_during_clip:t.framesDroppedDuringClip,clip_hardware_encode_setting:s.Z.getHardwareClipEncode(),clip_duration_setting:y.Z.getSettings().clipsLength,clip_duration:t.clipDuration,clip_resolution_width:t.clipResolutionWidth,clip_resolution_height:t.clipResolutionHeight,min_fps:t.minFps,max_fps:t.maxFps,
submitted_fps:t.submittedFps,target_fps:l.Z.getState().fps,audio_track_count:t.audioTrackCount,clip_save_time_ms:t.clipSaveTimeMs,clip_size_bytes:t.clipSizeBytes};d.default.track(Z.rMx.CLIP_SAVED,w)}function J(){return $.apply(this,arguments)}function $(){return($=R((function(){var e,t,n,r,i,a,l,u,c,f,d,p,h;return B(this,(function(b){switch(b.label){case 0:e=y.Z.getSettings();t=e.storageLocation;n=O();r=q("".concat(n.gameName.substring(0,20),"_").concat(n.id,".mp4"));i=o.Z.fileManager.join(t,r);a=s.Z.getMediaEngine();l=X();return[4,a.saveClip(i,JSON.stringify(n))];case 1:u=b.sent(),c=u.duration,f=u.thumbnail,d=u.clipStats;Q(l,d);return[4,T(f)];case 2:p=b.sent();n.thumbnail=p;n.length=c;M.jF.info("Clip save succeeded with ".concat(c,"ms and thumbnail ").concat(null!==(h=null==p?void 0:p.length)&&void 0!==h?h:0," bytes thumbnail."));return[4,a.updateClipMetadata(i,JSON.stringify(n))];case 3:b.sent();return[2,U(k({},n),{filepath:i})]}}))}))).apply(this,arguments)}function ee(){
return te.apply(this,arguments)}function te(){return(te=R((function(){var e,t;return B(this,(function(n){switch(n.label){case 0:if(y.Z.getIsSavingClip()||!y.Z.getSettings().clipsEnabled)return[2];r.Z.dispatch({type:"CLIPS_SAVE_CLIP_START"});(0,h.GN)("clip_save",1);e=performance.now();n.label=1;case 1:n.trys.push([1,3,,4]);return[4,J()];case 2:t=n.sent();r.Z.dispatch({type:"CLIPS_SAVE_CLIP",clip:t});return[3,4];case 3:n.sent();r.Z.dispatch({type:"CLIPS_SAVE_CLIP_ERROR"});return[3,4];case 4:M.jF.info("".concat(y.Z.getSettings().clipsLength/1e3,"s clip save took ").concat(Math.round(performance.now()-e),"ms"));return[2]}}))}))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=R((function(e,t){var n,o;return B(this,(function(i){switch(i.label){case 0:n=y.Z.getClips().find((function(t){return t.id===e}));if(null==n)return[2];o=k({},n,t);return[4,s.Z.getMediaEngine().updateClipMetadata(o.filepath,JSON.stringify(o))];case 1:i.sent();r.Z.dispatch({
type:"CLIPS_UPDATE_METADATA",clip:o});return[2]}}))}))).apply(this,arguments)}function oe(){r.Z.dispatch({type:"CLIPS_CLEAR_CLIPS_SESSION"})}function ie(){r.Z.dispatch({type:"CLIPS_CLEAR_NEW_CLIPS_COUNT"})}function ae(e){return le.apply(this,arguments)}function le(){return(le=R((function(e){var t,n,i,a,l,u,c,s,f,d,h;return B(this,(function(y){switch(y.label){case 0:return(0,p.nI)()&&null!=(null===(t=o.Z.clips)||void 0===t?void 0:t.loadClipsDirectory)?[4,o.Z.clips.loadClipsDirectory(e)]:[2];case 1:n=y.sent();i=[];a=!0,l=!1,u=void 0;y.label=2;case 2:y.trys.push([2,7,8,9]);c=n[Symbol.iterator]();y.label=3;case 3:return(a=(s=c.next()).done)?[3,6]:[4,I(U(k({},(f=s.value).metadata),{filepath:f.filepath}))];case 4:null!=(d=y.sent())&&i.push(d);y.label=5;case 5:a=!0;return[3,3];case 6:return[3,9];case 7:h=y.sent();l=!0;u=h;return[3,9];case 8:try{a||null==c.return||c.return()}finally{if(l)throw u}return[7];case 9:r.Z.dispatch({type:"CLIPS_LOAD_DIRECTORY_SUCCESS",clips:i});return[2]}}))
}))).apply(this,arguments)}function ue(e){return ce.apply(this,arguments)}function ce(){return(ce=R((function(e){var t;return B(this,(function(n){switch(n.label){case 0:return(0,p.nI)()&&null!=(null===(t=o.Z.clips)||void 0===t?void 0:t.deleteClip)?[4,o.Z.clips.deleteClip(e)]:[2];case 1:n.sent();r.Z.dispatch({type:"CLIPS_DELETE_CLIP",filepath:e});return[2]}}))}))).apply(this,arguments)}function se(e){return fe.apply(this,arguments)}function fe(){return(fe=R((function(e){return B(this,(function(t){switch(t.label){case 0:return[4,r.Z.dispatch({type:"MEDIA_ENGINE_SET_HARDWARE_CLIP_ENCODE",enabled:e})];case 1:t.sent();return[2]}}))}))).apply(this,arguments)}},541421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(785893),o=n(667294),i=n(824390),a=n.n(i),l=n(202351),u=n(945460),c=n(306472),s=n(102921),f=n(335072),d=n(294184),p=n.n(d),h=n(730381),y=n.n(h),b=n(940405),m=n(473903),v=n(993137),g=n(472034),O=n(813749),E=n(72580),C=n(15649),S=n.n(C);function j(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){var t=e.clip,n=e.onDelete,o=e.onClick,i=(0,l.Wu)([m.default],(function(){return t.users.map((function(e){return m.default.getUser(e)})).filter(E.lm)})),a=y().duration(t.length),c="".concat(a.seconds()).padStart(2,"0");return(0,r.jsxs)(u.Clickable,{onClick:function(){return null==o?void 0:o(t)},className:p()(S().clipItem,j({},S().clickable,null!=o)),children:[(0,r.jsxs)(v.Z,{aspectRatio:16/9,className:S().clipThumbContainer,children:[(0,r.jsx)("img",{alt:"",src:t.thumbnail,className:S().clipThumb}),(0,r.jsx)(u.Text,{className:S().clipDuration,variant:"text-xs/normal",color:"always-white",children:"".concat(a.minutes(),":").concat(c)}),(0,r.jsx)("div",{className:S().editContainer,children:(0,r.jsx)(g.Z,{className:S().editIcon})})]}),(0,r.jsxs)("div",{className:S().clipFooter,children:[(0,r.jsx)(u.Heading,{color:"text-normal",variant:"heading-deprecated-12/normal",
children:t.gameName}),(0,r.jsx)(u.Heading,{className:S().clipName,color:"header-primary",variant:"heading-deprecated-12/medium",children:t.name}),(0,r.jsxs)("div",{className:S().usersAndDelete,children:[(0,r.jsx)(b.Z,{maxUsers:4,users:i}),null!=n&&(0,r.jsx)(u.Button,{color:u.Button.Colors.PRIMARY,onClick:function(e){e.stopPropagation();n(t)},className:S().deleteButton,size:u.Button.Sizes.NONE,look:u.Button.Looks.BLANK,children:(0,r.jsx)(O.Z,{className:S().deleteIcon})})]})]})]})}var I=n(754693),w=n(190186),P=n(189865),x=n(473708),A=n(819731),T=n.n(A);function N(e){var t=e.filterQuery,n=e.setFilterQuery,o=e.onClose,i=e.sortOrder,a=e.setSortOrder;return(0,r.jsxs)("div",{className:T().root,children:[(0,r.jsx)(w.Z,{autoFocus:!0,size:w.Z.Sizes.LARGE,placeholder:x.Z.Messages.SEARCH,className:T().queryInput,query:t,onChange:n,onClear:function(){return n("")}}),(0,r.jsx)(u.Select,{placeholder:x.Z.Messages.CLIPS_SORT_PLACEHOLDER,className:T().sortInput,options:[{value:"descending",
label:x.Z.Messages.CLIPS_SORT_RECENT},{value:"ascending",label:x.Z.Messages.CLIPS_SORT_OLDEST}],isSelected:function(e){return e===i},select:a,serialize:function(e){return e}}),(0,r.jsx)(u.Button,{size:u.Button.Sizes.NONE,className:T().buttonReset,look:u.Button.Looks.BLANK,onClick:o,children:(0,r.jsx)(P.Z,{className:T().closeIcon})})]})}var M=n(997800),Z=n.n(M);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,l,"next",e)}function l(e){R(i,r,o,a,l,"throw",e)}a(void 0)}))}}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){k(e,t,n[t])}))}return e}function B(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function H(e){var t=e.closePopout,i=function(e){var t;if(null==(null===(t=c.Z.clips)||void 0===t?void 0:t.loadClip))return window.open("https://www.youtube.com/watch?v=blpe_sGnnP4");(0,u.openModalLazy)(D((function(){var t,o;return G(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(23344)]).then(n.bind(n,223344))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,B(U({},t),{clip:e}))}]}}))})))},d=F(o.useState(""),2),p=d[0],h=d[1],y=F(o.useState("descending"),2),b=y[0],m=y[1],v=F(o.useState(!1),2),g=v[0],O=v[1],E=o.useDeferredValue(p),C=(0,l.e7)([f.Z],(function(){return f.Z.getClips()})),S=(0,l.e7)([f.Z],(function(){return f.Z.getSettings().storageLocation}));o.useEffect((function(){(0,I.h6)()}),[]);var j=o.useMemo((function(){return C.filter((function(e){if(""===E.trim())return!0;var t=E.toLowerCase();return a()(t,e.name.toLowerCase())||a()(t,e.gameName.toLowerCase())})).sort((function(e,t){return"ascending"===b?s.Z.compare(e.id,t.id):"descending"===b?s.Z.compare(t.id,e.id):0}))}),[C,E,b]);o.useEffect((function(){function e(){return(e=D((function(){return G(this,(function(e){switch(e.label){case 0:O(!0);e.label=1;case 1:e.trys.push([1,,3,4]);return[4,I.jv(S)];case 2:e.sent();return[3,4];case 3:O(!1)
;return[7];case 4:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S]);return(0,r.jsxs)("div",{className:Z().root,children:[(0,r.jsx)(N,{onClose:t,filterQuery:p,setFilterQuery:h,sortOrder:b,setSortOrder:m}),(0,r.jsx)(u.Scroller,{className:Z().clipGrid,children:g?(0,r.jsx)(u.Spinner,{}):j.map((function(e){return(0,r.jsx)(_,{onClick:i,clip:e,onDelete:function(){return function(e){(0,u.openModalLazy)(D((function(){var t,o;return G(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(18079)]).then(n.bind(n,718079))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,U({clip:e},t))}]}}))})))}(e)}},e.id)}))})]})}},983088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(202351),o=n(744564);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){
l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function u(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var p={use_topic_dividers_in_chat:"Use summary topics as divider content in chat instead of string formatted dates."},h={};var y=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=d(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getUserAgnosticState=function(){return{toggleStates:h}};r.initialize=function(e){for(var t in p){var n,r,o=null!==(r=null==e||null===(n=e.toggleStates)||void 0===n?void 0:n[t])&&void 0!==r&&r;h[t]=o}};r.get=function(e){var t;return null!==(t=h[e])&&void 0!==t&&t};r.set=function(e,t){h[e]=t;return t};r.all=function(){return h};r.allWithDescriptions=function(){return Object.entries(h).map((function(e){var t=s(e,2),n=t[0];return[n,t[1],p[n]]}))};r.__getLocalVars=function(){return{toggleStates:h}};return n}(r.ZP.DeviceSettingsStore);y.displayName="DevToolsDesignTogglesStore";y.persistKey="DevToolsDesignTogglesStore";const b=new y(o.Z,{DEV_TOOLS_DESIGN_TOGGLE_WEB_SET:function(e){
h[e.toggle]=e.value}})},937119:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var r=n(23279),o=n.n(r),i=n(281110),a=n(744564),l=n(612831),u=n(2590);function c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}var s,f,d=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0
;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},p=o()((f=(s=function(e){var t;return d(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_START"});return[4,i.Z.get({url:u.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{type:l.C2.GUILD_SCHEDULED_EVENT}})];case 1:t=n.sent();a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:t.body});return[3,3];case 2:n.sent();a.Z.dispatch({type:"EVENT_DIRECTORY_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function i(e){c(o,n,r,i,a,"next",e)}function a(e){c(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e){
return f.apply(this,arguments)}),200)},826945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),l=n(269300),u=n(848285),c=n(612831);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function y(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return
;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}
var v=!1,g={},O={},E={},C=function(e){E[e.guild_scheduled_event.id]=new u.Z(e.guild_scheduled_event.guild);O[e.guild_scheduled_event.id]=e.guild_scheduled_event;return{channelId:e.directory_channel_id,scheduledEventId:e.entity_id,type:c.C2.GUILD_SCHEDULED_EVENT,authorId:e.author_id,createdAt:e.created_at}};var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=m(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isFetching=function(){return v};r.getEventDirectoryEntries=function(e){if(null!=e)return g[e]};r.getCachedGuildByEventId=function(e){var t;return null!==(t=E[e])&&void 0!==t?t:void 0};r.getCachedGuildScheduledEventById=function(e){var t;return null!==(t=O[e])&&void 0!==t?t:void 0};r.__getLocalVars=function(){return{fetching:v,eventDirectoryEntries:g,
cachedGuildScheduledEvents:O,cachedGuildByEvents:E,eventDirectoryEntryFromServer:C}};return n}(i.ZP.Store);S.displayName="EventDirectoryStore";const j=new S(a.Z,{EVENT_DIRECTORY_FETCH_START:function(){v=!0},EVENT_DIRECTORY_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.entries;v=!1;var r=o().sortBy(y(n),[function(e){return(0,l.CQ)(e.guild_scheduled_event)}]),i=o().map(r,C);g[t]=i},EVENT_DIRECTORY_FETCH_FAILURE:function(){v=!1}})},921603:(e,t,n)=>{"use strict";n.d(t,{c$:()=>b,YZ:()=>m,bF:()=>v,kx:()=>O,Rq:()=>E,So:()=>C,Dr:()=>S,Su:()=>j,_Q:()=>_});var r=n(23279),o=n.n(r),i=n(999357),a=n(281110),l=n(744564),u=n(801809),c=n(878033),s=n(612831),f=n(2590);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))}}var h,y=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=o()((h=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_START"});return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_ENTRIES(e),query:{category_id:t}})];case 1:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_SUCCESS",channelId:e,entries:n.body});return[3,3];case 2:r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"});return[3,3];case 3:return[2]}}))})),function(e,t){return h.apply(this,arguments)}),200),m=o()(function(){var e=p((function(e){var t;return y(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_CATEGORY_COUNTS(e)})];case 1:t=n.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS",channelId:e,counts:t.body});return[3,3];case 2:n.sent();return[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),200);function v(e,t,n){
return g.apply(this,arguments)}function g(){g=p((function(e,t,n){var r,o,a=arguments;return y(this,(function(c){switch(c.label){case 0:r=a.length>3&&void 0!==a[3]?a[3]:s.AR.UNCATEGORIZED;return[4,u.Z.post({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r},trackedActionData:{event:i.a9.DIRECTORY_GUILD_ENTRY_CREATE,properties:{directory_channel_id:e,guild_id:t,primary_category_id:r}}})];case 1:o=c.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_CREATE",channelId:e,entry:o.body});return[2]}}))}));return g.apply(this,arguments)}function O(e,t){u.Z.delete({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),trackedActionData:{event:i.a9.DIRECTORY_GUILD_ENTRY_DELETE,properties:{directory_channel_id:e,guild_id:t}}});l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_DELETE",channelId:e,guildId:t})}var E=o()(function(){var e=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:if(!c.Z.shouldFetch(e,t)){l.Z.dispatch({type:"GUILD_DIRECTORY_CACHED_SEARCH",
channelId:e,query:t});return[2]}r.label=1;case 1:r.trys.push([1,3,,4]);l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_START",channelId:e,query:t});return[4,a.Z.get({url:f.ANM.DIRECTORY_ENTRIES_SEARCH(e),query:{query:t}})];case 2:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_SUCCESS",channelId:e,query:t,results:n.body});return[3,4];case 3:r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_FETCH_FAILURE"});return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),200),C=function(e){l.Z.dispatch({type:"GUILD_DIRECTORY_SEARCH_CLEAR",channelId:e})},S=function(){var e=p((function(e,t,n){var r,o,i=arguments;return y(this,(function(u){switch(u.label){case 0:r=i.length>3&&void 0!==i[3]?i[3]:s.AR.UNCATEGORIZED;return[4,a.Z.patch({url:f.ANM.DIRECTORY_CHANNEL_ENTRY(e,t),body:{description:n,primary_category_id:r}})];case 1:o=u.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ENTRY_UPDATE",channelId:e,entry:o.body});return[2]}}))}));return function(t,n,r){
return e.apply(this,arguments)}}(),j=function(e,t){l.Z.dispatch({type:"GUILD_DIRECTORY_CATEGORY_SELECT",channelId:e,categoryId:t})},_=function(){var e=p((function(e,t){var n;return y(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,a.Z.get({url:f.ANM.DIRECTORY_CHANNEL_LIST_BY_ID(e),query:{entity_ids:t}})];case 1:n=r.sent();l.Z.dispatch({type:"GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS",channelId:e,entries:n.body});return[3,3];case 2:r.sent();return[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()},612831:(e,t,n)=>{"use strict";n.d(t,{C2:()=>r,VX:()=>o,sE:()=>i,AR:()=>a,C1:()=>d,b7:()=>p,Pp:()=>h});var r,o,i,a,l=n(940060),u=n(563135),c=n(2590),s=n(473708);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}!function(e){e[e.GUILD=0]="GUILD";e[e.GUILD_SCHEDULED_EVENT=1]="GUILD_SCHEDULED_EVENT"}(r||(r={}));!function(e){e.GUILD_TEMPLATES="guild-templates"
;e.CUSTOMIZE_NEW_GUILD="customize-new-guild";e.CHOOSE_GUILD="choose-guild";e.CUSTOMIZE_EXISTING_GUILD="customize-existing-guild";e.CONFIRMATION="confirmation"}(o||(o={}));!function(e){e.CREATE="CREATE";e.HUB_SCHOOL_CLUB="HUB_SCHOOL_CLUB";e.HUB_STUDY="HUB_STUDY";e.HUB_CLASS="HUB_CLASS";e.HUB_SOCIAL="HUB_SOCIAL";e.HUB_MAJOR="HUB_MAJOR";e.HUB_DORM="HUB_DORM"}(i||(i={}));!function(e){e[e.ALL=-1]="ALL";e[e.UNCATEGORIZED=0]="UNCATEGORIZED";e[e.SCHOOL_CLUB=1]="SCHOOL_CLUB";e[e.CLASS=2]="CLASS";e[e.STUDY_SOCIAL=3]="STUDY_SOCIAL";e[e.MISC=5]="MISC"}(a||(a={}));var d="1113200031168729140";function p(e){return"883060064561299456"===e?[{value:a.SCHOOL_CLUB,label:s.Z.Messages.DIRECTORY_CATEGORY_INTERNAL_1},{value:a.CLASS,label:s.Z.Messages.DIRECTORY_CATEGORY_INTERNAL_2},{value:a.STUDY_SOCIAL,label:s.Z.Messages.DIRECTORY_CATEGORY_INTERNAL_3},{value:a.MISC,label:s.Z.Messages.DIRECTORY_CATEGORY_INTERNAL_5}]:e===d?[{value:a.SCHOOL_CLUB,label:s.Z.Messages.DIRECTORY_CATEGORY_TOWN_HALL_1},{value:a.CLASS,
label:s.Z.Messages.DIRECTORY_CATEGORY_TOWN_HALL_2},{value:a.STUDY_SOCIAL,label:s.Z.Messages.DIRECTORY_CATEGORY_TOWN_HALL_3},{value:a.MISC,label:s.Z.Messages.DIRECTORY_CATEGORY_TOWN_HALL_5}]:[{value:a.SCHOOL_CLUB,label:s.Z.Messages.DIRECTORY_CATEGORY_SCHOOL_CLUB,idealSize:100},{value:a.CLASS,label:s.Z.Messages.DIRECTORY_CATEGORY_CLASS},{value:a.STUDY_SOCIAL,label:s.Z.Messages.DIRECTORY_CATEGORY_STUDY_SOCIAL,idealSize:50},{value:a.MISC,label:s.Z.Messages.DIRECTORY_CATEGORY_MISCELLANEOUS}]}function h(){var e;return f(e={},i.CREATE,{id:i.CREATE,code:"2TffvPucqHkN",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_CREATE,channels:[],system_channel_id:null}),f(e,i.HUB_SCHOOL_CLUB,{id:i.HUB_SCHOOL_CLUB,code:"UMUbvRpRZhS6",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_SCHOOL_CLUB,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_INFORMATION,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_WELCOME_AND_RULES,type:c.d4z.GUILD_TEXT},{
id:"02",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_ANNOUNCEMENTS,type:c.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_RESOURCES,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_TEXT,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_LOUNGE,type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_MEETING_ROOM_1,type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_MEETING_ROOM_2,type:c.d4z.GUILD_VOICE
}],roles:[{id:"00",name:"@everyone",permissions:u.ZP.DEFAULT},{id:"01",name:"officers (example)",mentionable:!0,hoist:!0,permissions:l.Z.combine(u.ZP.DEFAULT,c.Plq.MANAGE_ROLES,c.Plq.MANAGE_CHANNELS,c.Plq.KICK_MEMBERS,c.Plq.BAN_MEMBERS,c.Plq.MANAGE_NICKNAMES,c.Plq.MANAGE_GUILD_EXPRESSIONS,c.Plq.MANAGE_MESSAGES,c.Plq.SEND_TTS_MESSAGES),color:3066993}],system_channel_id:"12"}),f(e,i.HUB_STUDY,{id:i.HUB_STUDY,code:"2JBhzzca2vfT",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_STUDY,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_INFO,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_NOTES_RESOURCES,type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_HELP_QUESTIONS,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_CHAT,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{
id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_LOUNGE,type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"}),f(e,i.HUB_CLASS,{id:i.HUB_CLASS,code:"r86WWBwTGspb",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_CLASS,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_INFO,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_ASSIGNMENTS,type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",
name:s.Z.Messages.GUILD_TEMPLATE_NAME_HELP_QUESTIONS,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_CHAT,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_LOUNGE,type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"}),f(e,i.HUB_SOCIAL,{id:i.HUB_SOCIAL,code:"AvvtXE3mfbCR",
label:s.Z.Messages.GUILD_TEMPLATE_HEADER_SOCIAL,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_CHAT,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"03",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"04",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_MEETUPS,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_COUCHES,type:c.d4z.GUILD_VOICE},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_MOVIE_ROOM,type:c.d4z.GUILD_VOICE},{id:"13",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_UNNUMBERED_STUDY_ROOM,type:c.d4z.GUILD_VOICE}],system_channel_id:"02"}),
f(e,i.HUB_MAJOR,{id:i.HUB_MAJOR,code:"FhmfDR6Arvsc",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_MAJOR,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_INFO,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_RESOURCES,type:c.d4z.GUILD_TEXT},{id:"02",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_HELP_QUESTIONS,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_CHAT,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_LOUNGE,type:c.d4z.GUILD_VOICE
},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:1}),type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_STUDY_ROOM.format({number:2}),type:c.d4z.GUILD_VOICE}],system_channel_id:"12"}),f(e,i.HUB_DORM,{id:i.HUB_DORM,code:"fkq8xHfrGE58",label:s.Z.Messages.GUILD_TEMPLATE_HEADER_DORM,channels:[{id:"00",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_INFO,type:c.d4z.GUILD_CATEGORY},{id:"01",parent_id:"00",name:s.Z.Messages.GUILD_TEMPLATE_NAME_DORM_NEWS,type:c.d4z.GUILD_TEXT},{id:"10",parent_id:null,name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_CHAT,type:c.d4z.GUILD_CATEGORY},{id:"11",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_INTRODUCTIONS,type:c.d4z.GUILD_TEXT},{id:"12",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_GENERAL,type:c.d4z.GUILD_TEXT},{id:"13",parent_id:"10",name:s.Z.Messages.GUILD_TEMPLATE_NAME_OFF_TOPIC,type:c.d4z.GUILD_TEXT},{id:"20",parent_id:null,
name:s.Z.Messages.GUILD_TEMPLATE_NAME_CATEGORY_VOICE,type:c.d4z.GUILD_CATEGORY},{id:"21",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_LOUNGE,type:c.d4z.GUILD_VOICE},{id:"22",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_MOVIE_ROOM,type:c.d4z.GUILD_VOICE},{id:"23",parent_id:"20",name:s.Z.Messages.GUILD_TEMPLATE_NAME_VOICE_COUCHES,type:c.d4z.GUILD_VOICE}],system_channel_id:"12"}),e}},878033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(202351),o=n(744564),i=n(549331);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=12e4,b=[],m={},v={};var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getSearchState=function(e){var t;return null!==(t=m[e])&&void 0!==t?t:{mostRecentQuery:"",fetching:!1}}
;r.getSearchResults=function(e,t){var n,r,o;return null!==(o=null===(n=v[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.results)&&void 0!==o?o:b};r.shouldFetch=function(e,t){var n,r,o=null===(n=v[e])||void 0===n||null===(r=n[t])||void 0===r?void 0:r.lastSearchedAt;return null==o||Date.now()-o>y};r.__getLocalVars=function(){return{CACHE_TIME:y,NO_SEARCH_RESULTS:b,directorySearchState:m,directorySearchResults:v}};return n}(r.ZP.Store);g.displayName="GuildDirectorySearchStore";const O=new g(o.Z,{GUILD_DIRECTORY_SEARCH_START:function(e){var t=e.channelId,n=e.query;m[t]={fetching:!0,mostRecentQuery:n}},GUILD_DIRECTORY_SEARCH_SUCCESS:function(e){var t=e.channelId,n=e.query,r=e.results;m[t]=s(c({},m[t]),{fetching:!1});var o=[];r.forEach((function(e){var t=(0,i.MQ)(e);o.push(t)}));v[t]=s(c({},v[t]),l({},n,{results:(0,i.Th)(o),lastSearchedAt:Date.now()}))},GUILD_DIRECTORY_SEARCH_FAILURE:function(e){var t=e.channelId;m[t]=s(c({},m[t]),{fetching:!1})},
GUILD_DIRECTORY_SEARCH_CLEAR:function(e){var t=e.channelId;m[t]={fetching:!1,mostRecentQuery:""}},GUILD_DIRECTORY_CACHED_SEARCH:function(e){var t=e.channelId,n=e.query;m[t]={fetching:!1,mostRecentQuery:n}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n=e.channelId,r=e.guildId,o=null===(t=m[n])||void 0===t?void 0:t.mostRecentQuery;if(null!=o){var i=v[n][o];if(null!=i){var a=i.results.filter((function(e){return e.guildId!==r}));v[n]=s(c({},v[n]),l({},m[n].mostRecentQuery,s(c({},i),{results:a})))}}}})},876186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(202351),o=n(744564),i=n(549331),a=n(612831);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return p(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var b=Object.freeze({}),m=!1,v={},g={},O={},E={},C={};var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=y(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.isFetching=function(){return m}
;r.getCurrentCategoryId=function(e){var t;return null!==(t=g[e])&&void 0!==t?t:a.AR.ALL};r.getDirectoryEntries=function(e,t){var n;return null!=t?null===(n=O[e])||void 0===n?void 0:n[t]:v[e]};r.getDirectoryEntry=function(e,t){var n;return null===(n=v[e])||void 0===n?void 0:n[t]};r.getDirectoryAllEntriesCount=function(e){var t;return Object.keys(null!==(t=v[e])&&void 0!==t?t:{}).length};r.getDirectoryCategoryCounts=function(e){var t;return null!==(t=E[e])&&void 0!==t?t:b};r.getAdminGuildEntryIds=function(e){return C[e]};r.__getLocalVars=function(){return{EMPTY_CATEGORY_COUNTS:b,fetching:m,guildDirectoryEntries:v,currentCategoryId:g,channelCategoryDirectoryEntries:O,categoryEntryCounts:E,adminGuildEntryIds:C}};return n}(r.ZP.Store);S.displayName="GuildDirectoryStore";const j=new S(o.Z,{GUILD_DIRECTORY_FETCH_START:function(){m=!0},GUILD_DIRECTORY_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.entries;m=!1;var r={},o={};n.forEach((function(e){var t=(0,i.MQ)(e);r[t.guildId]=t
;null!=o[t.primaryCategoryId]?o[t.primaryCategoryId][t.guildId]=t:o[t.primaryCategoryId]=u({},t.guildId,t)}));v[t]=r;O[t]=o},GUILD_DIRECTORY_FETCH_FAILURE:function(){m=!1},GUILD_DIRECTORY_ENTRY_CREATE:function(e){var t,n,r=e.channelId,o=e.entry,l=(0,i.MQ)(o);if(null!=l&&null==(null===(t=v[r])||void 0===t?void 0:t[l.guildId])){v[r]=f(s({},v[r]),u({},l.guildId,l));var c,d=null!==(c=l.primaryCategoryId)&&void 0!==c?c:a.AR.UNCATEGORIZED;O[r]=f(s({},O[r]),u({},d,f(s({},null===(n=O[r])||void 0===n?void 0:n[d]),u({},l.guildId,l))));if(null!=E[r]){var p,h,y=null!==(h=null===(p=E[r])||void 0===p?void 0:p[d])&&void 0!==h?h:0;E[r]=f(s({},E[r]),u({},d,y+1))}}},GUILD_DIRECTORY_ENTRY_DELETE:function(e){var t,n,r=e.channelId,o=e.guildId,i=null===(t=v[r])||void 0===t?void 0:t[o];if(null!=i){var a=i.primaryCategoryId,l=Object.assign({},v[r]);delete l[o];null===(n=C[r])||void 0===n||n.delete(o);C[r]=new Set(C[r]);v[r]=l;var c=Object.assign({},O[r][a]);delete c[o];O[r]=f(s({},O[r]),u({},a,c))
;if(null!=E[r]){var d=E[r][a]-1;E[r]=f(s({},E[r]),u({},a,d>=0?d:0))}}},GUILD_DIRECTORY_ENTRY_UPDATE:function(e){var t,n,r,o,l=e.channelId,c=e.entry,d=(0,i.MQ)(c),p=null===(t=v[l])||void 0===t?void 0:t[d.guildId];v[l]=f(s({},v[l]),u({},d.guildId,s({},p,d)));var h,y,b=null!==(o=null==p?void 0:p.primaryCategoryId)&&void 0!==o?o:a.AR.UNCATEGORIZED,m=null!==(h=d.primaryCategoryId)&&void 0!==h?h:a.AR.UNCATEGORIZED,g=Object.assign({},null===(n=O[l])||void 0===n?void 0:n[b]);null!=p&&b!==m&&delete g[d.guildId];O[l]=f(s({},O[l]),(u(y={},b,g),u(y,m,f(s({},null===(r=O[l])||void 0===r?void 0:r[m]),u({},d.guildId,s({},p,d)))),y));if(m!==b&&null!=E[l]){var C,S,j,_,I;E[l]=f(s({},E[l]),(u(I={},b,(null===(C=E[l])||void 0===C?void 0:C[b])>0?(null===(S=E[l])||void 0===S?void 0:S[b])-1:0),u(I,m,(null!==(_=null===(j=E[l])||void 0===j?void 0:j[m])&&void 0!==_?_:0)+1),I))}},GUILD_DIRECTORY_CATEGORY_SELECT:function(e){var t=e.channelId,n=e.categoryId;g[t]=n},GUILD_DIRECTORY_COUNTS_FETCH_SUCCESS:function(e){
var t=e.channelId,n=e.counts;E[t]=n},GUILD_DIRECTORY_ADMIN_ENTRIES_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.entries,r=new Set;n.forEach((function(e){var t=(0,i.MQ)(e);r.add(t.guildId)}));C[t]=r}})},549331:(e,t,n)=>{"use strict";n.d(t,{MQ:()=>u,_N:()=>c,Th:()=>s,Lz:()=>f,TR:()=>d,gX:()=>p});var r=n(441143),o=n.n(r),i=n(496486),a=n.n(i),l=n(612831);function u(e){var t,n,r,i,a,u,c;o()(e.type===l.C2.GUILD,"Directory entries must be connected to a guild!");return{channelId:e.directory_channel_id,guildId:e.entity_id,type:e.type,authorId:e.author_id,createdAt:e.created_at,description:e.description,primaryCategoryId:e.primary_category_id,name:null===(t=e.guild)||void 0===t?void 0:t.name,icon:null===(n=e.guild)||void 0===n?void 0:n.icon,splash:null===(r=e.guild)||void 0===r?void 0:r.splash,features:new Set(null===(i=e.guild)||void 0===i?void 0:i.features),approximateMemberCount:null===(a=e.guild)||void 0===a?void 0:a.approximate_member_count,
approximatePresenceCount:null===(u=e.guild)||void 0===u?void 0:u.approximate_presence_count,featurableInDirectory:null===(c=e.guild)||void 0===c?void 0:c.featurable_in_directory}}var c=5;function s(e){return a().orderBy(e,[function(e){return e.approximateMemberCount}],["desc"])}function f(e){return function(e){return a().orderBy(e,[function(e){return e.createdAt}],["desc"])}(e.filter((function(e){return e.featurableInDirectory&&p(e)}))).slice(0,c)}function d(e){return s(e)}function p(e){var t;return(null!==(t=e.approximateMemberCount)&&void 0!==t?t:0)>=5}},34183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,G:()=>c});var r=n(202351),o=n(61209),i=n(567403),a=n(682776),l=n(2590);function u(e){var t=(0,r.e7)([i.Z],(function(){return i.Z.getGuild(e.guildId)})),n=(0,r.e7)([o.Z],(function(){return o.Z.getChannel(e.channelId)})),u=(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.ADMINISTRATOR,t)})),c=(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.MANAGE_MESSAGES,n)}));return{isEntryAdmin:u,
canEdit:u||c,canRemove:u||c}}function c(e){return(0,r.e7)([a.Z],(function(){return a.Z.can(l.Plq.SEND_MESSAGES,e)}))}},156342:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>g});var r=n(785893),o=n(667294),i=n(945460),a=n(971402),l=n(112897),u=n(424871),c=n(528334),s=n(921603),f=n(34183),d=n(473708);function p(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)}))}}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function g(e){var t=e.entry,p=e.onSelect,y=e.closePopout,g=e.forceLightTheme,O=e.hideEditButton,E=void 0!==O&&O,C=function(){(0,a.Zy)();null==y||y()},S=(0,f.Z)(t),j=S.isEntryAdmin,_=S.canEdit,I=S.canRemove,w=(0,l.Z)({id:t.guildId,label:d.Z.Messages.COPY_ID_GUILD,onSuccess:y});o.useEffect((function(){_||I||null!=w||(0,a.Zy)()}));var P=function(){
s.kx(t.channelId,t.guildId)};return(0,r.jsxs)(i.Menu,{className:g?"theme-light":null,navId:"guild-entry-context",onClose:C,"aria-label":d.Z.Messages.GUILD_ACTIONS_MENU_LABEL,onSelect:p,children:[(0,r.jsxs)(i.MenuGroup,{children:[_&&!E?(0,r.jsx)(i.MenuItem,{id:"update-entry",label:d.Z.Messages.HUB_ENTRY_UPDATE,action:function(){(0,i.openModalLazy)(h((function(){var e,o;return v(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(62439)]).then(n.bind(n,162439))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,m(b({},e),{entry:t}))}]}}))})));C()}}):null,I?(0,r.jsx)(i.MenuItem,{id:"remove-from-hub",label:d.Z.Messages.HUB_ENTRY_REMOVE,action:function(){(0,i.openModal)((function(e){return(0,r.jsx)(i.ConfirmModal,m(b({header:d.Z.Messages.HUB_ENTRY_REMOVE,confirmText:d.Z.Messages.REMOVE,cancelText:d.Z.Messages.CANCEL,onConfirm:P},e),{children:(0,r.jsx)(i.Text,{variant:"text-md/normal",children:d.Z.Messages.HUB_ENTRY_REMOVE_BODY.format({
guildName:t.name})})}))}));C()},color:"danger"}):null,j?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.MenuItem,{id:"report-server-listing",label:d.Z.Messages.REPORT_SERVER_NO_NAME,action:function(){if(null!=t){(0,u.sq)(t);C()}},icon:c.Z,color:"danger"})})]}),(0,r.jsx)(i.MenuGroup,{children:w})]})}},977085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(785893),o=(n(667294),n(945460)),i=n(156342);const a=function(e){var t=e.entry,n=e.forceLightTheme,a=e.hideEditButton,l=e.children,u=e.onRequestOpen,c=e.onRequestClose;return(0,r.jsx)(o.Popout,{onRequestOpen:u,onRequestClose:c,animation:o.Popout.Animation.NONE,position:"bottom",spacing:4,align:"right",renderPopout:function(e){var o=e.closePopout;return(0,r.jsx)(i.default,{entry:t,closePopout:o,forceLightTheme:n,hideEditButton:a})},children:l})}},590070:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(202351),o=n(473419),i=n(256764),a=n(259556);function l(e){var t=(0,a.i)([e]),n=(0,r.e7)([o.Z],(function(){var e
;return null===(e=o.Z.settings.userContent)||void 0===e?void 0:e.dismissedContents}));return 0===t.length||null!=n&&(0,i.jl)(n,e)}},516659:(e,t,n)=>{"use strict";n.d(t,{au:()=>y,_g:()=>b,dy:()=>m,op:()=>v,c:()=>g,hs:()=>O});var r=n(667294),o=n(202351),i=n(744564),a=n(674748),l=n(188344),u=n(351330),c=n(671723),s=n(618887),f=n(622816),d=n(99827),p=n(293078),h=n(483255);function y(e){var t=f.a.useExperiment({});if(null==e)return null;var n,r,o=(0,p.BS)(e);if(null==o)return null;if(o.dropsQuestId===h.oL){n=f.a;r=t}else{n=null;r=null}return null==n||null==r?null:{experiment:n,config:r,drop:o}}function b(e){var t,n=(0,o.e7)([d.Z],(function(){return d.Z.serverEligibleByQuestIds})),a=y(e),l=function(e){var t=(0,o.Wu)([c.ZP],(function(){return c.ZP.getGamesSeen(!1)})),n=r.useMemo((function(){return(0,p.R9)()}),[]);return(0,p.YK)(e,t,n)}(e),u=null!=a&&n[a.drop.dropsQuestId];null!=a&&u&&l&&a.experiment.trackExposure({},{location:"ELIGIBILITY_ENROLLMENT_TOOLTIP"})
;var f=null==a||null===(t=a.config)||void 0===t?void 0:t.dropsEnabled,h=null==a?void 0:a.drop,b=null==h||(0,p.hM)(h);r.useEffect((function(){f&&!b&&l&&null!=h&&i.Z.wait((function(){null==u&&(0,s.Vt)(h.dropsQuestId)}))}),[u,h,f,b,l]);return!(null==h||!f||b)&&(u&&l)}function m(){var e=y(h.X2.FORTNITE);return null==e?void 0:e.config.dropsEnabled}function v(e){var t=y(e),n=null==t?void 0:t.drop,i=(0,o.e7)([d.Z],(function(){return null!=n&&d.Z.serverEligibleByQuestIds[n.dropsQuestId]})),a=(0,o.e7)([d.Z],(function(){return d.Z.hasInitialProgressFetched}));r.useEffect((function(){null!=n&&i&&!a&&(0,s.Vb)(n.dropsQuestId)}),[n,i,a])}function g(e,t,n,r){var i,a=y(e),c=null==a?void 0:a.drop,s=(0,o.e7)([d.Z],(function(){return null!=c&&d.Z.serverEligibleByQuestIds[c.dropsQuestId]})),f=(0,o.e7)([d.Z],(function(){return d.Z.getIsPartnerGameQuestComplete(e)})),h=(0,p.wj)(null==t?void 0:t.name,null!==(i=null==c?void 0:c.gameSearchTerm)&&void 0!==i?i:[]),b=(0,l.ot)([n,r]),m=(0,u.wE)(r),v=null==c||(0,
p.hM)(c);return{partnerGame:Boolean(null!=c&&!v&&h&&(null==a?void 0:a.config.dropsEnabled)&&s)?e:null,dropsActivityPanelExperienceBlocked:b,showDropsSparkles:!f&&!m}}function O(e,t,n){var r=(0,p.BS)(e);(0,a.Z)({type:t,name:n,properties:{drops_quest_id:null==r?void 0:r.dropsQuestId,game_id:null==r?void 0:r.dropsGameId}})}},955521:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>m,Kq:()=>h,Ot:()=>y,jz:()=>b});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(896656),u=n(2590),c=n(214436),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function h(e){var t,n=e.locked,o=void 0!==n&&n,a=e.channelType;return(0,r.jsx)("div",{className:i()(s().emptyChannelIcon,(t={},f(t,s().locked,o),f(t,s().voiceChat,a===u.d4z.GUILD_VOICE||a===u.d4z.GUILD_STAGE_VOICE),t))})}function y(e){var t=e.children,n=e.className;return(0,r.jsx)(a.Heading,{"aria-hidden":"true",className:i()(n,s().header),variant:"heading-xxl/extrabold",children:t})}function b(e){var t=e.children;return(0,r.jsx)(a.Text,{variant:"text-md/normal",color:"none",className:s().description,
children:t})}const m=function(e){var t=e.className,n=e.channelId,o=e.children,a=p(e,["className","channelId","children"]);return(0,r.jsx)("div",d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({className:i()(t,s().container),id:(0,l.p)(n,n)},a),{children:o}))}},940405:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(945460),s=n(971402),f=n(707906),d=n(749565),p=n(983403),h=n.n(p);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function C(e){var t=e.className,i=e.maxUsers,l=e.users,p=e.guildId,y=function(){return(0,r.jsx)(c.Dialog,{className:h().popoutWrapper,children:(0,r.jsx)(c.Scroller,{className:h().scroller,children:l.map((function(e){return(0,r.jsx)(f.Z,{guildId:p,user:e,nick:d.ZP.getName(e),
onContextMenu:function(t){return(0,s.jW)(t,m((function(){var t,o;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,g(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}({},t),{user:e}))}]}}))})),{onClose:function(){return S(!1)}})}},e.id)}))})})},b=O(o.useState(!1),2),C=b[0],S=b[1];return l.length<=0?null:(0,r.jsx)("div",{className:a()(t,h().avatars),children:function(){var e=u()(l).take(i).map((function(e){var t=d.ZP.getName(e);return(0,r.jsx)(c.TooltipContainer,{text:t,className:h().avatar,children:(0,r.jsx)(c.Avatar,{src:e.getAvatarURL(p,24),"aria-label":t,
size:c.AvatarSizes.SIZE_24})},e.id)})).value(),t=l.length-i;t>0&&(e[e.length-1]=(0,r.jsx)(c.Popout,{renderPopout:y,shouldShow:C,position:"bottom",onRequestClose:function(){return S(!1)},children:function(){return(0,r.jsxs)(c.Button,{className:a()(h().avatar,h().overflow),onClick:function(){return S(!0)},look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,children:["+",t+1]})}},"overflow"));return e}()})}},672886:(e,t,n)=>{"use strict";n.d(t,{i:()=>ne,Z:()=>re});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(989824),u=n(853158),c=n(202351),s=n(418705),f=n(945460),d=n(502526),p=n(396043),h=n(333398),y=n(4361),b=n(496486),m=n.n(b),v=n(15970),g=n(791707),O=n(736818),E=n(61209),C=n(5544),S=n(27851),j=n(567403),_=n(50433),I=n(352980),w=n(682776),P=n(102921),x=n(2590);function A(e){return(0,c.e7)([C.ZP],(function(){var t=function(t){return null!=e&&P.Z.extractTimestamp(t.channel.id)-P.Z.extractTimestamp(e.id)>500},n=C.ZP.getChannels(null==e?void 0:e.id),r=n[C.Zb]
;return n[C.sH].some(t)||r.some(t)}),[e])}function T(e){var t=(0,c.e7)([E.Z],(function(){return E.Z.getChannel(null==e?void 0:e.systemChannelId)})),n=(0,c.Wu)([I.Z],(function(){return null!=t?I.Z.getMessages(t.id).toArray():[]}));return(0,c.e7)([S.Z],(function(){var t,r=null!==(t=S.Z.getMemberCount(null==e?void 0:e.id))&&void 0!==t?t:0,o=n.some((function(e){return e.type===x.uaV.USER_JOIN}));return r>1||o}),[e,n])}function N(e){var t=(0,c.e7)([_.Z],(function(){return _.Z.hasLayers()})),n=(0,c.e7)([j.Z],(function(){return j.Z.getGuild(null==e?void 0:e.id)}));return null!=(null==n?void 0:n.icon)&&!t}function M(e){var t=(0,c.e7)([E.Z],(function(){return null!=e?E.Z.getMutableBasicGuildChannelsForGuild(e.id):null}));return function(e){var t=(0,c.e7)([O.default],(function(){return O.default.getId()}));return(0,c.e7)([I.Z],(function(){return m().some(e,(function(e){var n=I.Z.getMessages(e.id).toArray();return m().some(n,(function(e){return e.author.id===t&&!(0,g.Z)(e)}))}))}))
}(o.useMemo((function(){return null==t?[]:m().values(t)}),[t]))}var Z=n(703790),L=n(425902),R=n(917019),D=n(473903),k=n(718831),U=n(621329),B=n(930948),F=n(348592),G=n(120415),H=n(955521),V=n(909647),W=n(473708),z=n(713230),Y=n.n(z);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,l,"next",e)}function l(e){q(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q(e,t,n[t])}))}return e}function $(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ne(e){var t=e.className,n=e.iconUrl,i=e.icon,l=e.header,u=e.completed,c=e.onClick,s=ee(o.useState(!1),2),p=s[0],h=s[1],y=(0,d.Z)(u);o.useEffect((function(){if(null!=y&&u!==y){h(!0);setTimeout((function(){return h(!1)}),1e3)}}),[u,y]);return(0,r.jsxs)(f.Clickable,{className:a()(t,Y().card,Q({},Y().completed,u)),onClick:c,children:[null!=i?i:(0,r.jsx)("div",{className:Y().icon,style:{backgroundImage:"url('".concat(n,"')")}}),(0,r.jsx)(f.Text,{
color:"header-primary",className:a()(Y().cardTextContainer,Y().cardHeader),variant:"text-sm/normal",children:l}),u?(0,r.jsx)(U.Z,{className:a()(Y().checkmark,Q({},Y().animate,p))}):(0,r.jsx)(k.Z,{className:Y().arrow,direction:k.Z.Directions.RIGHT})]})}function re(e){var t,i=e.channel,d=(0,c.e7)([j.Z],(function(){return null!=i?j.Z.getGuild(i.getGuildId()):null}),[i]),b=null!=d&&P.Z.extractTimestamp(d.id)<Date.now()-x._8R,m=(0,c.e7)([O.default],(function(){return(null==d?void 0:d.ownerId)===O.default.getId()}),[d]),g=function(e,t){return(0,c.cj)([w.Z],(function(){return{canInvite:(0,v.b)(w.Z,t,e),canManageGuild:null!=t&&w.Z.can(x.Plq.MANAGE_GUILD,t),canMessage:null!=e&&w.Z.can(x.Plq.SEND_MESSAGES,e),canCreateChannel:null!=t&&w.Z.can(x.Plq.MANAGE_CHANNELS,t)}}),[t,e])}(i,d),E=g.canInvite,C=g.canManageGuild,S=g.canMessage,_=(0,c.e7)([D.default],(function(){var e,t
;return!0===(null===(e=D.default.getCurrentUser())||void 0===e?void 0:e.desktop)||!0===(null===(t=D.default.getCurrentUser())||void 0===t?void 0:t.mobile)})),I=function(e){return{guildPopulated:T(e),guildMessaged:M(e),guildPersonalized:N(e),guildChannelCreated:A(e)}}(d),k=I.guildPopulated,U=I.guildMessaged,z=I.guildPersonalized,K=function(e){return{handleInvite:o.useCallback((function(){p.ZP.trackWithMetadata(x.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.INVITE});null!=e&&(0,f.openModalLazy)(X((function(){var t,o;return te(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,$(J({},t),{guild:e,source:x.t4x.CHANNEL_WELCOME,analyticsLocation:{section:x.jXE.CHANNEL_WELCOME_CTA}}))}]}}))})))}),[e]),handleMessage:o.useCallback((function(){p.ZP.trackWithMetadata(x.rMx.SERVER_SETUP_CTA_CLICKED,{
setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.SEND_MESSAGE});B.S.dispatch(x.CkL.TEXTAREA_FOCUS,{highlight:!0})}),[]),handlePersonalize:o.useCallback((function(){p.ZP.trackWithMetadata(x.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.PERSONALIZE_SERVER});null!=e&&Z.Z.open(e.id,x.pNK.OVERVIEW,{section:x.jXE.CHANNEL_WELCOME_CTA})}),[e]),handleDownload:o.useCallback((function(){p.ZP.trackWithMetadata(x.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.DOWNLOAD});(0,f.openModalLazy)(X((function(){var e,t;return te(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,908056))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,J({source:x.jXE.CHANNEL_WELCOME_CTA},e))}]}}))})))}),[]),handleAddApplication:o.useCallback((function(){if(null!=e){p.ZP.trackWithMetadata(x.rMx.SERVER_SETUP_CTA_CLICKED,{setup_type:V.Ft.CHANNEL_WELCOME,action:V.j7.ADD_APP});(0,f.openModalLazy)(X((function(){var t,o,i
;return te(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(80664)]).then(n.bind(n,580664))];case 1:t=a.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,$(J({guildId:null!==(i=e.id)&&void 0!==i?i:""},t),{analyticsType:s.z$.APP_DIRECTORY_SERVER_SETUP_UPSELL_MODAL}))}]}}))})));(0,R.w9)(s.z$.APP_DIRECTORY_COACH_MARK)}}),[e])}}(d),q=K.handleInvite,ee=K.handleMessage,re=K.handlePersonalize,oe=K.handleDownload,ie=K.handleAddApplication,ae=!(_||k||U||z),le=function(e){var t=(0,l.Z)((function(){return new u.Z.Value(0)})),n=(0,l.Z)((function(){return new u.Z.Value(0)})),r=[];r.push((0,l.Z)((function(){return new u.Z.Value(0)})));r.push((0,l.Z)((function(){return new u.Z.Value(0)})));r.push((0,l.Z)((function(){return new u.Z.Value(0)})));r.push((0,l.Z)((function(){return new u.Z.Value(0)})));o.useEffect((function(){u.Z.stagger(300,[u.Z.parallel([u.Z.timing(n,{toValue:1,duration:450}),u.Z.timing(t,{toValue:1,duration:450})]),u.Z.stagger(100,[u.Z.timing(r[0],{
toValue:1,duration:300}),u.Z.timing(r[1],{toValue:1,duration:300}),u.Z.timing(r[2],{toValue:1,duration:300}),u.Z.timing(r[3],{toValue:1,duration:300})])]).start()}),[n,t,r]);return{titleAnimatedStyle:e?{transform:[{translateY:t.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}],opacity:n}:{},opacities:r}}(ae),ue=le.titleAnimatedStyle,ce=le.opacities,se=(0,y.Sh)(null!==(t=null==d?void 0:d.id)&&void 0!==t?t:"",C),fe=C&&null!=se&&!0===se.showNewServerChecklistRec,de=(0,c.e7)([h.Z],(function(){return h.Z.getGuildApplications(null==d?void 0:d.id)})),pe=void 0!==de&&de.length>0;o.useEffect((function(){if(fe){var e;(0,L.i)(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:"")}}),[d,fe]);if(null==d)return null;var he=[];if(!b){E&&he.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ae?{opacity:ce[he.length]}:{},children:(0,r.jsx)(ne,{iconUrl:n(930519),header:W.Z.Messages.WELCOME_CTA_INVITE_TITLE,completed:k,onClick:q})},"invite"));C&&he.push((0,r.jsx)(u.Z.div,{
className:Y().cardWrapper,style:ae?{opacity:ce[he.length]}:{},children:(0,r.jsx)(ne,{iconUrl:n(157862),header:W.Z.Messages.WELCOME_CTA_PERSONALIZE_TITLE,completed:z,onClick:re})},"customize"));S&&he.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ae?{opacity:ce[he.length]}:{},children:(0,r.jsx)(ne,{iconUrl:n(747048),header:W.Z.Messages.WELCOME_CTA_MESSAGE_TITLE,completed:U,onClick:ee})},"message"));(0,G.$L)()&&he.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ae?{opacity:ce[he.length]}:{},children:(0,r.jsx)(ne,{iconUrl:n(932568),header:W.Z.Messages.WELCOME_CTA_DOWNLOAD_TITLE,completed:_,onClick:oe})},"download"));fe&&he.push((0,r.jsx)(u.Z.div,{className:Y().cardWrapper,style:ae?{opacity:ce[he.length]}:{},children:(0,r.jsx)(ne,{iconUrl:n(467314),header:W.Z.Messages.WELCOME_CTA_APPS_RECOMMENDATION_TITLE,completed:pe,onClick:ie})},"addapp"))}var ye=m?W.Z.Messages.WELCOME_CTA_SUBTITLE_OWNER:W.Z.Messages.WELCOME_CTA_SUBTITLE_MEMBER
;b&&(ye=W.Z.Messages.WELCOME_CTA_SUBTITLE_EXISTING_SERVER);var be,me="".concat(F.Z.getArticleURL(x.BhN.GUILD_GETTING_STARTED),"?utm_source=discord&utm_medium=blog&utm_campaign=2020-06_help-new-user&utm_content=--t%3Apm");return(0,r.jsx)(H.ZP,{channelId:i.id,children:(0,r.jsx)("div",{className:Y().container,children:(0,r.jsxs)("div",{className:Y().inner,children:[(0,r.jsxs)(u.Z.div,{style:ue,children:[(0,r.jsx)(f.Heading,{className:Y().titleName,variant:"heading-xxl/semibold",children:W.Z.Messages.WELCOME_CTA_TITLE.format({guildName:d.name})}),(0,r.jsxs)(f.Text,{color:"header-secondary",className:a()((be={},Q(be,Y().subtitle,!0),Q(be,Y().noChildren,0===he.length),be)),variant:"text-sm/normal",children:[ye," ",he.length>0?W.Z.Messages.WELCOME_CTA_SUBTITLE_ACTION_WITH_GUIDE.format({guideURL:me}):null]})]}),he]})})})}},495085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(202351),o=n(61209),i=n(602397),a=n(419051),l=n(2590);function u(e){return(0,r.cj)([i.ZP,o.Z,a.Z],(function(){
if(e!==l.I_8)return i.ZP.getVoiceStates(e);var t=a.Z.getFavoriteChannels(),n={};for(var r in t){var u=o.Z.getChannel(r);null!=u&&(n[r]=i.ZP.getVoiceStatesForChannel(u))}return n}),[e])}},234503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f=new Set;var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(f=new Set(e))};r.hasHidden=function(e){return f.has(e)};r.getState=function(){return f};r.__getLocalVars=function(){return{hiddenChannels:f}};return n}(r.ZP.PersistedStore);d.displayName="ForumChannelAdminOnboardingGuideStore";d.persistKey="ForumChannelAdminOnboardingGuideStore";const p=new d(o.Z,{
ADMIN_ONBOARDING_GUIDE_HIDE:function(e){var t=e.channelId;e.hide?f.add(t):f.delete(t)}})},793998:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(730381),o=n.n(r),i=n(842227),a=function(e){var t=i.default.extractTimestamp(e);return!o()().isBefore(o()(t).add(o().duration(15,"days")))}},122590:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(202351),o=n(736818),i=n(407561),a=n(409125);function l(){var e=(0,r.e7)([o.default],(function(){return o.default.getId()})),t=(0,r.e7)([a.Z],(function(){return a.Z.getRemoteSessionId()}));return(0,r.e7)([i.Z],(function(){var n;return null!==(n=i.Z.getVoiceStateForSession(e,t))&&void 0!==n?n:void 0}))}},774209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(202351),o=n(629223),i=n(72580),a=n(2590);function l(){return(0,r.Wu)([o.Z],(function(){return[o.Z.getAccount(null,a.ABu.XBOX),o.Z.getAccount(null,a.ABu.PLAYSTATION),o.Z.getAccount(null,a.ABu.PLAYSTATION_STAGING)].filter(i.lm)}))}},292571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m})
;var r=n(785893),o=n(667294),i=n(468811),a=n.n(i),l=n(633878);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
function p(e){var t=e.width,n=void 0===t?16:t,i=e.height,u=void 0===i?16:i,p=e.color,h=void 0===p?"currentColor":p,y=e.foreground,b=f(e,["width","height","color","foreground"]),m=d(o.useState((function(){return a().v4()})),1)[0];return(0,r.jsxs)("svg",s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({},(0,l.Z)(b)),{width:n,height:u,viewBox:"0 0 24 24",children:[(0,r.jsx)("g",{clipPath:"url(".concat(m,")"),children:(0,r.jsx)("path",{className:y,fillRule:"evenodd",clipRule:"evenodd",d:"M4.83075 2H13.2444C14.817 2 16.0751 3.13475 15.9965 4.55319V11H14.5025V4.69504H3.57264V18.8085H6V22H4.83075C3.25811 22 2 20.8652 2 19.4468V4.55319C2 3.13475 3.25811 2 4.83075 2Z",fill:h})}),(0,r.jsx)("path",{
d:"M10.5646 13H19.4354C20.5365 13 21.4507 13.7808 21.5303 14.7893L21.9965 20.6997C22.0492 21.3677 21.5021 21.9485 20.7746 21.9968C20.7429 21.9989 20.7111 22 20.6792 22C19.8442 22 19.1157 21.4795 18.9105 20.7363L18.5495 19.4286H11.4504L11.0894 20.7363C10.8842 21.4795 10.1557 22 9.3207 22C8.5913 22 8 21.4571 8 20.7873C8 20.7581 8.00115 20.7289 8.00345 20.6997L8.46966 14.7893C8.5492 13.7808 9.46342 13 10.5646 13Z",className:y,fill:h}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:m,children:(0,r.jsx)("rect",{width:"14",height:"21",fill:h,transform:"translate(2 2)"})})})]}))}var h=n(423871),y=n(753724),b=n(550677);function m(e){return null!=e?e===b.YE.XBOX?y.Z:h.Z:p}},302123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(785893),o=(n(667294),n(318715)),i=n(945460),a=n(497842),l=n(202351),u=n(567403),c=n(682776),s=n(407561),f=n(176758),d=n(520453);var p=n(69085),h=n(441143),y=n.n(h),b=n(656645),m=n(116404),v=n(604945),g=n(520436),O=n(919694)
;var E=n(122590),C=n(774209),S=n(292571),j=n(2590),_=n(473708);function I(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,l,"next",e)}function l(e){I(i,r,o,a,l,"throw",e)}a(void 0)}))}}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}function A(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function N(e,t){return e===j.ABu.XBOX?t?_.Z.Messages.TRANSFER_VOICE_TO_XBOX:_.Z.Messages.JOIN_ON_XBOX:e===j.ABu.PLAYSTATION?t?_.Z.Messages.CONSOLE_PLAYSTATION_TRANSFER_VOICE:_.Z.Messages.CONSOLE_PLAYSTATION_JOIN_VOICE:e===j.ABu.PLAYSTATION_STAGING?t?_.Z.Messages.CONSOLE_PLAYSTATION_STAGING_TRANSFER_VOICE:_.Z.Messages.CONSOLE_PLAYSTATION_STAGING_JOIN_VOICE:void 0}function M(e){var t=(0,o.ZP)([p.Z],(function(){return p.Z.getChannelId()===e.id})),h=(0,E.Z)(),I=(null==h?void 0:h.channelId)===e.id,P=function(e){return(0,l.e7)([c.Z],(function(){return null==e||!c.Z.can(d.Pl.CONNECT,e)}),[e])
}(e)&&!e.isPrivate(),M=function(e){return(0,l.e7)([s.Z,u.Z],(function(){return(0,f.rY)(e,s.Z,u.Z)}))}(e),Z=!(0,o.ZP)([s.Z],(function(){return s.Z.isInChannel(e.id)}))&&M||P,L=(0,C.Z)();if(!I&&0===L.length)return null;return(0,r.jsx)(r.Fragment,{children:I?(0,r.jsx)(i.MenuItem,{label:_.Z.Messages.TRANSFER_VOICE_TO_DEVICE,id:"handoff",action:function(){!function(e,t){var n,r=null!==(n=e.sessionId)&&void 0!==n?n:"";(0,g._)(r);(0,g.s6)();var o=null!=t?t:e.channelId;y()(null!=o,"attempted to transfer to unknown channel");e.selfMute!==v.Z.isSelfMute()&&b.Z.toggleSelfMute();e.selfDeaf!==v.Z.isSelfDeaf()&&b.Z.toggleSelfDeaf();(0,O.Z)(o,"discord_client",r);m.default.selectVoiceChannel(o,!1)}(h)},icon:(0,S.Z)(void 0),disabled:Z}):L.map((function(o){return(0,r.jsx)(i.MenuItem,{id:"transfer-".concat(o.type,"-").concat(o.id),label:N(o.type,t),action:function(){return function(t){t.twoWayLink&&!t.revoked?t.type===j.ABu.XBOX?(0,i.openModalLazy)(w((function(){var t,o;return T(this,(function(i){
switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(1653),n.e(6834)]).then(n.bind(n,106834))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,A(x({},t),{channel:e}))}]}}))}))):t.type!==j.ABu.PLAYSTATION&&t.type!==j.ABu.PLAYSTATION_STAGING||(0,i.openModalLazy)(w((function(){var o,i;return T(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(20188)]).then(n.bind(n,720188))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,A(x({},n),{platform:t.type,channel:e}))}]}}))}))):(0,a.Z)(t.type,"Console Transfer Item")}(o)},icon:(0,S.Z)(o.type),disabled:Z},o.id)}))})}},503857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(202351),o=n(736818),i=n(361298),a=n(69660),l=n(77643),u=n(295652),c=n(72580),s=n(2590),f=n(473708);function d(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var p;!function(e){e.PACKET_LOSS="Packet Loss";e.FRAME_RATE_INPUT="Frame Rate Encode"
;e.FRAME_RATE_NETWORK="Frame Rate Decode";e.SOUNDSHARE_FAILED="Soundshare Failed";e.BAD_CONNECTION="Bad Connection"}(p||(p={}));function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e<=5?3:e<=15?10:15}function y(e,t){var n={packetsSentOrReceived:0,packetsLost:0,packetLossRate:0,frameRate:0,resolution:0,numDatapoints:0},r=e.slice(-1*t).filter(c.lm);if(0===r.length)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){d(e,t,n[t])}))}return e}({type:"streamer"},n);r.forEach((function(e,t,r){n.packetsSentOrReceived+=t>0?r[t].packetsSentOrReceived-r[t-1].packetsSentOrReceived:0;n.packetsLost+=t>0?r[t].packetsLost-r[t-1].packetsLost:0;n.frameRate+=e.frameRate;n.resolution+=e.resolution}))
;var o=r[0].type,i=r.length;return{type:o,packetsSentOrReceived:n.packetsSentOrReceived,packetsLost:n.packetsLost,packetLossRate:n.packetsLost/(n.packetsLost+n.packetsSentOrReceived),frameRate:n.frameRate/i,resolution:n.resolution/i,numDatapoints:i}}var b=(0,u.oH)((function(e,t){return{message:e,errorType:t}}));function m(e,t){if("streamer"===e.type){if(100*e.packetLossRate>10)return b(f.Z.Messages.STREAM_BAD_STREAMER,p.PACKET_LOSS);if(e.frameRate<=h(t))return b(f.Z.Messages.STREAM_BAD_STREAMER,p.FRAME_RATE_INPUT)}else{if(100*e.packetLossRate>10)return b(f.Z.Messages.STREAM_BAD_SPECTATOR,p.PACKET_LOSS);if(e.frameRate<=h(t))return b(f.Z.Messages.STREAM_BAD_SPECTATOR,p.FRAME_RATE_NETWORK)}return null}function v(e){var t=(0,l.Wc)(e),n=e.stream.guildId,u=e.stream.ownerId;return(0,r.e7)([a.Z,i.Z,o.default],(function(){return null!=u?function(e,t,n,r){if(n)return b(f.Z.Messages.STREAM_SOUNDSHARE_FAILED,p.SOUNDSHARE_FAILED);if(null!=t){var o=y(t,5),i=y(t,30);if(i.numDatapoints>=5){var a
;return null!==(a=m(o,null==r?void 0:r.maxFrameRate))&&void 0!==a?a:m(i,null==r?void 0:r.maxFrameRate)}}return e===s.IE4.BAD?b(f.Z.Messages.STREAM_NETWORK_QUALITY_ERROR,p.BAD_CONNECTION):null}(a.Z.getQuality(),a.Z.getStatsHistory(n,u,u===o.default.getId()),u===o.default.getId()&&null!=i.Z.getHookError(s.K3D.SOUND),t):null}),[t,n,u])}},974760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(473708),o=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g;function i(e){var t=r.Z.Messages.ACTIVITY_PANEL_GO_LIVE;null!=e&&null!=e.sourceName&&e.sourceName.length>0&&(t=e.sourceName);return{sanitizedTitle:t.replace(o,""),title:t}}},538272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(306263),o=n(924066),i=n(2590),a=n(473708);function l(e,t,n,l){return null==t||t.state===i.jm8.ENDED||(0,r.V9)(t)!==(0,r.V9)(e)?(0,o.P9)(l):t.ownerId===n?a.Z.Messages.WATCH_STREAM_STREAMING:a.Z.Messages.WATCH_STREAM_WATCHING}},216299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(547308),u=n(542231),c=n(211482),s=n(133310),f=n.n(s);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=[1752220,3066993,3447003,10181046,15277667,15844367];function y(e){return(0,l.Rf)(h[function(e){var t=5381,n=0;for(;n<e.length;)t=33*t^e.charCodeAt(n++);return t>>>0}(e)%h.length])}function b(e){var t,n=e.title,i=e.className,l=p(o.useState(y(n)),2),s=l[0],d=l[1];o.useEffect((function(){d(y(n))}),[n]);return(0,r.jsxs)("div",{className:f().wrapper,children:[(0,r.jsx)(c.ZP,{mask:c.ZP.Masks.STATUS_SCREENSHARE,width:32,height:32,children:(0,r.jsx)("div",{className:a()(f().icon,i),style:{backgroundColor:s},children:null!==(t=n[0])&&void 0!==t?t:"?"})}),(0,r.jsx)(u.Z,{className:f().badge})]})}},246549:(e,t,n)=>{"use strict";n.d(t,{c:()=>h,Z:()=>y});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(180172),s=n(107364),f=n(473708),d=n(627375),p=n.n(d);function h(e){
var t=e.isLoading,n=e.noText,o=e.className;return(0,r.jsx)(s.Z,{className:a()(p().emptyPreviewContainer,o),direction:s.Z.Direction.VERTICAL,align:s.Z.Align.CENTER,justify:s.Z.Justify.CENTER,children:t?(0,r.jsx)(u.Spinner,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:p().emptyPreviewImage}),n?null:(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"none",className:p().emptyPreviewText,children:f.Z.Messages.STREAM_NO_PREVIEW})]})})}function y(e){var t=e.stream,n=e.className,i=e.noText,u=void 0!==i&&i,s=(0,l.cj)([c.Z],(function(){return{url:c.Z.getPreviewURL(t.guildId,t.channelId,t.ownerId),isLoading:c.Z.getIsPreviewLoading(t.guildId,t.channelId,t.ownerId)}})),f=s.url,d=s.isLoading,y=o.useRef(d?null:f);o.useEffect((function(){d||(y.current=f)}),[f,d]);var b=null==f||d?y.current:f;return null==b?(0,r.jsx)(h,{className:n,isLoading:d,noText:u}):(0,r.jsx)("div",{className:a()(n,p().root),children:(0,r.jsx)("img",{src:b,alt:"",className:p().image})})}},544475:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>Y});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(712861),c=n(202351),s=n(336194),f=n(945460),d=n(579581),p=n(19585),h=n(736626),y=n(473903),b=n(95891),m=n(531441),v=n(977005),g=n(652591),O=n(850841),E=n(77643),C=n(503857),S=n(2590),j=n(203600),_=n(473708),I=n(233635),w=n.n(I),P=n(2019),x=n.n(P);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,l,"next",e)}function l(e){T(i,r,o,a,l,"throw",e)}a(void 0)}))}}function M(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){M(e,t,n[t])}))}return e}function L(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},k=(0,u.Mg)(x().borderRadius),U={opacity:0,transform:"translate3d(100%, 0, 0)"},B={opacity:1,transform:"translate3d(0%, 0, 0)"},F={opacity:0},G={opacity:1},H={borderRadius:"".concat(k,"px ").concat(k,"px ").concat(k,"px ").concat(k,"px")},V={borderRadius:"0px ".concat(k,"px ").concat(k,"px 0px")},W={mass:1,tension:500,friction:18,clamp:!0
},z=function(e){var t,i,l=e.participant,u=e.isUpsellEnabled,h=e.shape,I=e.size,P=e.didTrackUpsellViewed,x=e.setDidTrackUpsellViewed,A=e.className,T=(0,E.Wc)(l),R=(0,p.Z)().analyticsLocations,k=null!=(0,C.Z)(l);try{t=(0,E.nG)(T)}catch(e){t=!1}try{i=(0,E.tR)(T)}catch(e){i=!1}var U=t||i,B=(0,d.O)().location,F=(0,c.e7)([y.default],(function(){return y.default.getCurrentUser()})),G=u&&!O.ZP.isPremium(F,j.p9.TIER_1)&&!O.ZP.canStreamMidQuality(F),H=o.useCallback((function(){G&&U&&(0,f.openModalLazy)(N((function(){var e,t;return D(this,(function(o){switch(o.label){case 0:return[4,n.e(23850).then(n.bind(n,123850))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,L(Z({},e),{analyticsSource:B}))}]}}))})))}),[G,U,B]);o.useEffect((function(){if(!P&&U){g.default.track(S.rMx.PREMIUM_UPSELL_VIEWED,{type:j.cd.STREAM_QUALITY_INDICATOR,has_premium_stream_fps:t,has_premium_stream_resolution:i,location_stack:R});x(!0)}}),[t,i,U,P,x,R]);if(null==T)return null;var V=(0,r.jsx)(f.Tooltip,{
text:k?_.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_REDUCED:U?_.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_PREMIUM:_.Z.Messages.SCREENSHARE_QUALITY_TOOLTIP_NORMAL,position:"bottom",color:f.Tooltip.Colors.GREY,children:function(e){return(0,r.jsxs)(f.Clickable,L(Z({},e),{onClick:H,className:a()(w().qualityIndicator,I,v.eE[h],k?w().qualityIndicatorLowQuality:w().qualityIndicatorFullQuality,M({},w().clickable,G&&U)),children:[U?(0,r.jsx)(b.Z,{className:w().premiumStreamIcon}):null,(0,r.jsx)("span",{className:w().qualityResolution,children:(0,E.ml)(T.maxResolution)}),(0,r.jsx)("span",{children:(0,E.bp)(T.maxFrameRate)})]}))}});return(0,r.jsx)(m.IG,{text:V,className:a()(A,w().qualityIndicatorBadge),color:s.Z.unsafe_rawColors.PRIMARY_500.css,shape:h})};const Y=function(e){var t=e.participant,n=e.showQuality,i=e.isUpsellEnabled,u=void 0===i||i,c=e.size,s=e.className,d=R(o.useState(!1),2),p=d[0],y=d[1],b=(0,E.Wc)(t),g=o.useContext(f.AccessibilityPreferencesContext).reducedMotion,O=n&&null!=b
;o.useEffect((function(){(0,h.Z)(t.stream.ownerId,t.user.getAvatarURL(t.stream.guildId,80),{dispatchWait:!0})}),[t]);var C=(0,l.useTransition)(O,{enter:{from:g.enabled?F:U,to:g.enabled?G:B},leave:g.enabled?F:U,config:W}),S=(0,l.useSpring)({to:O?V:H,config:W});return function(e){var n=e.className,o=e.popoutProps;return(0,r.jsxs)("div",L(Z({className:a()(w().streamQualityIndicator,n)},o),{children:[C((function(e,n){return n?(0,r.jsx)(l.animated.div,{style:e,children:(0,r.jsx)(z,{className:w().liveQualityIndicator,participant:t,size:c,shape:m.Dv.ROUND_LEFT,isUpsellEnabled:u,didTrackUpsellViewed:p,setDidTrackUpsellViewed:y})}):null})),(0,r.jsx)(l.animated.div,{style:S,className:w().liveIndicator,children:(0,r.jsx)(v.ZP,{look:v.jZ.RED,size:c,shape:O?m.Dv.ROUND_RIGHT:m.Dv.ROUND})})]}))}({className:s})}},944514:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(226810);function o(e,t){if(__OVERLAY__){var n=t.getGame(),o=(0,r.QF)();return null==n||null==o?null:{id:n.id,pid:o,pidPath:[],
nativeProcessObserverId:0,hidden:!1,elevated:!1,name:n.name,lastFocused:0,exePath:"",exeName:"",cmdLine:"",processName:"",distributor:null,windowHandle:null}}return e.getVisibleGame()}},614948:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>g,gS:()=>O,ww:()=>E});var r=n(667294),o=n(318715),i=n(734691),a=n(19585),l=n(482139),u=n(784686),c=n(736818),s=n(21372),f=n(567403),d=n(682776),p=n(464187),h=n(36058),y=n(2590),b=n(589677),m=n(131559),v=n(473708);function g(e){return(0,o.ZP)([c.default,s.ZP],(function(){if(null==e)return!1;var t=c.default.getId();return(0,h.EY)(s.ZP.getMember(e,t))}),[e])}function O(e){return(0,o.cj)([c.default,s.ZP,p.Z,f.Z],(function(){var t={nick:void 0,bio:void 0},n=p.Z.getGuildId(),r=null!=e?e:n,o=f.Z.getGuild(r);if(null==o||null==r)return t;var i=c.default.getId(),a=s.ZP.getMember(r,i),l=(0,h.Ow)(null==a?void 0:a.flags);if(0===l.size)return t;if(l.has(b.q.AUTOMOD_QUARANTINED_USERNAME_OR_GUILD_NICKNAME))if(null==e){var u
;t.nick=[v.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_USERNAME_IN_GUILD.format({guildName:null!==(u=o.name)&&void 0!==u?u:""})]}else t.nick=[v.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_USERNAME];l.has(b.q.AUTOMOD_QUARANTINED_BIO)&&(t.bio=[v.Z.Messages.GUILD_AUTOMOD_PROFILE_ERROR_QUARANTINE_BIO]);return t}),[e])}function E(e){var t=e.guildId,n=e.scrollPosition,c=e.analyticsLocation,s=e.analyticsLocations,p=e.openWithoutBackstack,h=(0,a.Z)().analyticsLocations,b=(0,u.rW)(),v=(0,o.ZP)([f.Z],(function(){return f.Z.getGuild(t)}),[t]),g=(0,o.ZP)([d.Z],(function(){return null!=v&&d.Z.can(y.Plq.CHANGE_NICKNAME,v)}),[v]);return[r.useCallback((function(){if(null!=v){var e=y.oAB.PROFILE_CUSTOMIZATION,t=m.NB.GUILD;if(g)(0,l.Fq)(v,null!=s?s:h);else{t=m.NB.USER_PROFILE;if(!b){e=y.oAB.ACCOUNT;t=null}}i.Z.open(e,t,{scrollPosition:n,analyticsLocation:c,analyticsLocations:s,openWithoutBackstack:p})}}),[g,b,n,c,s,p,v,h]),g]}},945549:(e,t,n)=>{"use strict";n.d(t,{X:()=>a})
;var r=n(842227),o=n(496916),i=n(290679),a=function(e){(0,o.Ju)(e,i.W.GUILD_HOME,r.default.fromTimestamp(Date.now()))}},153771:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(281110),o=n(744564),i=n(886391),a=n(201615),l=n(2590);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}var s,f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},d=(s=c((function(e){var t,n,u,c,s,d,p,h,y,b,m,v,g;return f(this,(function(f){switch(f.label){case 0:t=e.guildId,n=e.status,u=void 0===n?i.wB.SUBMITTED:n,c=e.before,s=e.after,d=e.limit,p=void 0===d?i.tB:d;o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_FETCH_START"});f.label=1;case 1:f.trys.push([1,3,,4]);return[4,r.Z.get({url:l.ANM.GUILD_JOIN_REQUESTS(t),
query:{status:u,limit:p,before:c,after:s}})];case 2:h=f.sent();y=h.body.total;m=null!==(b=h.body.guild_join_requests)&&void 0!==b?b:[];v=m.map(a.j);o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_FETCH_SUCCESS",status:u,requests:v,total:y,limit:p,guildId:t});return[2,h];case 3:g=f.sent();o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_FETCH_FAILURE"});throw g;case 4:return[2]}}))})),function(e){return s.apply(this,arguments)}),p=function(){var e=c((function(e){var t;return f(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,r.Z.delete({url:l.ANM.GUILD_MEMBER_REQUEST_TO_JOIN(e)})];case 1:t=n.sent();o.Z.dispatch({type:"USER_GUILD_JOIN_REQUEST_UPDATE",guildId:e,request:null});return[2,t];case 2:throw n.sent();case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=c((function(e,t){return f(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,3,4]);return[4,r.Z.post({url:l.ANM.GUILD_JOIN_REQUEST_ACK(e,t)})];case 1:return[2,n.sent()]
;case 2:n.sent();return[3,4];case 3:o.Z.dispatch({type:"ACK_APPROVED_GUILD_JOIN_REQUEST",id:t,guildId:e});return[7];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=c((function(e,t){var n,a,u,c=arguments;return f(this,(function(s){switch(s.label){case 0:n=c.length>2&&void 0!==c[2]?c[2]:i.wB.APPROVED,a=c.length>3?c[3]:void 0;return[4,r.Z.patch({url:l.ANM.GUILD_JOIN_REQUEST(e,t),body:{action:n,rejection_reason:a}})];case 1:u=s.sent();o.Z.dispatch({type:"GUILD_JOIN_REQUEST_UPDATE",guildId:e,status:u.body.application_status,request:u.body});return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=c((function(e,t){var n;return f(this,(function(i){switch(i.label){case 0:return[4,r.Z.patch({url:l.ANM.GUILD_JOIN_REQUESTS(e),body:{action:t}})];case 1:n=i.sent();o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_BULK_ACTION",guildId:e,action:t});return[2,n.body]}}))}));return function(t,n){return e.apply(this,arguments)}
}(),m=function(){var e=c((function(e){var t,n;return f(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,r.Z.post({url:l.ANM.GUILD_MEMBER_REQUEST_TO_JOIN(e)})];case 1:t=i.sent();n=t.body;o.Z.dispatch({type:"USER_GUILD_JOIN_REQUEST_UPDATE",guildId:e,request:n});return[2,n];case 2:throw i.sent();case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=c((function(){var e;return f(this,(function(t){switch(t.label){case 0:return[4,r.Z.get({url:l.ANM.USER_JOIN_REQUEST_GUILDS})];case 1:e=t.sent();o.Z.dispatch({type:"USER_JOIN_REQUEST_GUILDS_FETCH",guilds:e.body});return[2]}}))}));return function(){return e.apply(this,arguments)}}();const g={fetchGuildJoinRequests:d,ackUserGuildJoinRequest:h,removeGuildJoinRequest:p,updateGuildJoinRequest:y,actionAllPendingJoinRequests:b,resetGuildJoinRequest:m,fetchRequestToJoinGuilds:v,setSelectedApplicationStatus:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_APPLICATION_STATUS",
guildId:e,applicationStatus:t})},setSelectedSortOrder:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_SORT_ORDER",guildId:e,sortOrder:t})},setSelectedGuildJoinRequest:function(e,t){o.Z.dispatch({type:"GUILD_JOIN_REQUESTS_SET_SELECTED",guildId:e,request:t})}}},145202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(318715),o=n(61209),i=n(661123),a=n(202351),l=n(744564),u=n(897196);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y={},b={};var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;y=null!==(t=null==e?void 0:e.selectedResourceChannelIdByGuildId)&&void 0!==t?t:{}};r.getState=function(){return{selectedResourceChannelIdByGuildId:y}};r.getSelectedResourceChannelId=function(e){
return null==e?null:y[e]};r.getHomeNavigationChannelId=function(e){return null==e?null:null!==(t=y[e])&&void 0!==t?t:b[e];var t};r.__getLocalVars=function(){return{selectedResourceChannelIdByGuildId:y,selectedTodoChannelIdByGuildId:b}};return n}(a.ZP.PersistedStore);m.displayName="GuildOnboardingHomeNavigationStore";m.persistKey="GuildOnboardingHomeNavigationStore";const v=new m(l.Z,{CHANNEL_SELECT:function(e){var t=e.channelId,n=e.guildId;if(null!=n&&t!==u.oC.GUILD_HOME){var r=o.Z.getChannel(t),i=y[n],a=b[n];if(!(null==r?void 0:r.isThread())||null==(null==r?void 0:r.parent_id)||![a,i].includes(null==r?void 0:r.parent_id)){t!==i&&delete y[n];t!==a&&delete b[n]}}},SELECT_HOME_RESOURCE_CHANNEL:function(e){var t=e.channelId,n=e.guildId;null==t?delete b[n]:y[n]=t;delete b[n]},SELECT_NEW_MEMBER_ACTION_CHANNEL:function(e){var t=e.channelId,n=e.guildId;delete y[n];b[n]=t}});var g=n(848465);function O(e){var t,n=(0,r.ZP)([o.Z],(function(){return o.Z.getChannel(e)})),a=null!=n&&(0,
i.yE)(n.flags,u.zZ.IS_GUILD_RESOURCE_CHANNEL),l=(0,r.ZP)([v],(function(){return v.getSelectedResourceChannelId(null==n?void 0:n.guild_id)})),c=(0,g.g)(null!==(t=null==n?void 0:n.guild_id)&&void 0!==t?t:"");return null!=n&&c&&a&&l===n.id}},406665:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,Z:()=>f});var r=n(785893),o=(n(667294),n(77413)),i=n(318715),a=n(489617),l=n(135855);var u=n(8370),c=n.n(u),s={SMALL:c().small,MEDIUM:c().medium,LARGE:c().large};function f(e){var t=e.emojiId,n=e.emojiName,u=e.defaultComponent,c=e.size,f=void 0===c?s.MEDIUM:c,d=function(e,t){return{customEmoji:(0,i.ZP)([a.Z],(function(){return null!=e?a.Z.getCustomEmojiById(e):null}),[e]),unicodeEmoji:null!=t?l.ZP.getByName(l.ZP.convertSurrogateToName(t,!1)):null}}(t,n),p=d.customEmoji,h=d.unicodeEmoji;return null==p&&null==h?(0,r.jsx)(r.Fragment,{children:u}):(0,r.jsx)(o.Z,{emojiName:null!=p?null==p?void 0:p.name:n,animated:null!=p&&p.animated,emojiId:null==p?void 0:p.id,autoplay:!0,className:f})}},920803:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>L});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(853158),u=n(318715),c=n(945460),s=n(316878),f=n(773011),d=n(239813),p=n(61209),h=n(21372),y=n(177001),b=n(436622),m=n(83623),v=n(347005),g=n(185161),O=n(661123),E=n(386531),C=n(689175),S=n(745623),j=n(589677);var _=n(848465),I=n(406665),w=n(473708),P=n(98932),x=n.n(P);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){var t=e.action,n=(0,u.ZP)([p.Z],(function(){return p.Z.getChannel(t.channelId)})),o=(0,f.ZP)(n,!0);return null==n?(0,r.jsx)(c.Text,{variant:"text-xxs/normal",color:"header-secondary",children:w.Z.Messages.IN_CHANNEL.format({channelName:w.Z.Messages.UNKNOWN_CHANNEL_PLACEHOLDER})}):(0,r.jsx)(c.Text,{variant:"text-xxs/normal",color:"header-secondary",children:w.Z.Messages.IN_CHANNEL.format({channelName:o})})}function M(e){var t,n=e.channelId,o=e.emojiId,i=e.emojiName,a=(0,u.ZP)([p.Z],(function(){return p.Z.getChannel(n)}));if(null==a)return null;var l=null!==(t=(0,d.KS)(a))&&void 0!==t?t:b.Z;return(0,r.jsx)(I.Z,{
emojiId:o,emojiName:i,size:I.R.MEDIUM,defaultComponent:(0,r.jsx)(l,{className:x().channelIcon})})}function Z(e){var t,n,i,f,d=e.guildId,p=e.channel,h=e.className,b=function(e,t){var n,r=(0,S.Z)(e),o=(0,u.ZP)([E.Z],(function(){return E.Z.getNewMemberActions(e)})),i=(0,u.ZP)([C.Z],(function(){return C.Z.getCompletedActions(e)}));if(!r)return{};var a=null!==(n=null==o?void 0:o.findIndex((function(e){return e.channelId===t.id})))&&void 0!==n?n:0,l=a>=0&&null!=o?o[a]:null;return{channelAction:l,completed:null!=l&&!0===(null==i?void 0:i[l.channelId])}}(d,p),O=b.channelAction,j=b.completed,_=function(e,t){var n=(0,u.ZP)([E.Z],(function(){return E.Z.getNewMemberActions(e)})),r=(0,u.ZP)([C.Z],(function(){return C.Z.getCompletedActions(e)}));return null==n?void 0:n.find((function(e){return!0!==(null==r?void 0:r[e.channelId])&&e.channelId!==t}))}(d,null==O?void 0:O.channelId),I=(0,u.ZP)([s.Z],(function(){return s.Z.useReducedMotion
})),P=(null==O?void 0:O.actionType)===g.oi.VIEW,A=T(o.useState(!1),2),Z=A[0],L=A[1],R=T(o.useState(new l.Z.Value(0)),1)[0],D=T(o.useState(new l.Z.Value(0)),1)[0];o.useEffect((function(){j?l.Z.timing(R,{toValue:0,duration:I?1:350,easing:l.Z.Easing.quad,delay:P?0:500}).start((function(){return L(!0)})):l.Z.timing(R,{toValue:1,duration:I?1:350,easing:l.Z.Easing.quad,delay:400}).start()}),[j,R,P,I]);o.useEffect((function(){j&&Z&&l.Z.timing(D,{toValue:1,duration:I?0:350,easing:l.Z.Easing.quad,delay:400}).start()}),[j,D,Z,I]);var k=o.useCallback((function(){null!=_&&(0,v.gp)(d,_.channelId)}),[d,_]);return null==O||P&&!Z?null:(0,r.jsx)("div",{className:a()(x().container,h),children:Z&&null!=_?(0,r.jsx)(l.Z.div,{style:{marginBottom:D.interpolate({inputRange:[0,1],outputRange:[-60,0]})},children:(0,r.jsxs)(c.Clickable,{className:a()(x().banner,x().clickable),onClick:k,children:[(0,r.jsx)(M,{channelId:_.channelId,emojiId:null===(t=_.emoji)||void 0===t?void 0:t.id,
emojiName:null==_||null===(n=_.emoji)||void 0===n?void 0:n.name}),(0,r.jsxs)("div",{className:x().text,children:[(0,r.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:w.Z.Messages.MEMBER_ACTIONS_NEXT_STEP.format({step:_.title})}),(0,r.jsx)(N,{action:_})]}),(0,r.jsx)("div",{className:x().iconCircle,children:(0,r.jsx)(y.Z,{width:16,height:16,className:x().nextIcon})})]})}):(0,r.jsxs)(l.Z.div,{className:x().banner,style:{marginBottom:R.interpolate({inputRange:[0,1],outputRange:[-60,0]})},children:[(0,r.jsx)(M,{channelId:O.channelId,emojiId:null===(i=O.emoji)||void 0===i?void 0:i.id,emojiName:null==O||null===(f=O.emoji)||void 0===f?void 0:f.name}),(0,r.jsxs)("div",{className:x().text,children:[(0,r.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:O.title}),(0,r.jsx)(c.Text,{variant:"text-xxs/normal",color:"text-muted",children:w.Z.Messages.MEMBER_ACTION_CHAT})]}),j?(0,r.jsx)(m.Z,{className:x().completed,backgroundColor:"#fff",width:20,height:20
}):null]})})}function L(e){var t=e.guildId,n=e.channel,o=e.className,i=(0,_.g)(t),a=(0,u.ZP)([h.ZP],(function(){var e;return!0===(null===(e=h.ZP.getSelfMember(t))||void 0===e?void 0:e.isPending)})),l=function(e){var t,n=(0,u.ZP)([h.ZP],(function(){return h.ZP.getSelfMember(e)}));return(0,O.yE)(null!==(t=null==n?void 0:n.flags)&&void 0!==t?t:0,j.q.COMPLETED_HOME_ACTIONS)}(t);return l||a||!i?null:(0,r.jsx)(Z,{guildId:t,channel:n,className:o})}},909647:(e,t,n)=>{"use strict";n.d(t,{Rg:()=>r,j7:()=>o,Ft:()=>i});var r,o,i;!function(e){e.INVITE="member_joined";e.CHANNEL="create_channel";e.AVATAR="avatar";e.MESSAGE="send_message";e.COMPLETED="completed";e.DISMISSED="dismissed"}(r||(r={}));!function(e){e.PERSONALIZE_SERVER="Personalize Server";e.INVITE="Invite Friends";e.CREATE_CHANNEL="Create Channel";e.SEND_MESSAGE="Send Message";e.DOWNLOAD="Download";e.ADD_APP="Add App";e.DISMISS_GUILD_PROGRESS="Dismiss Guild Progress";e.DISCORD_OVERVIEW_VIDEO="Discord Overview Video"
;e.JOIN_GUILD="Join Guild";e.CONTACT_SYNC="Sync Contacts";e.DISMISS="Dismiss"}(o||(o={}));!function(e){e.CHANNEL_WELCOME="Channel Welcome CTA";e.GUILD_PROGRESS="Guild Progress";e.HUB_PROGRESS="Hub Progress"}(i||(i={}))},116433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(202351),o=n(744564),i=n(709992);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var d,p=null,h=!1,y=!1;var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getRecommendedGuilds=function(){return p};r.getLoadId=function(){return d};r.isFetching=function(){return h};r.failed=function(){return y};r.__getLocalVars=function(){return{recommendations:p,loadId:d,fetching:h,failed:y}};return n}(r.ZP.Store)
;b.displayName="GuildRecommendationsStore";const m=new b(o.Z,{GUILD_RECOMMENDATION_FETCH:function(){h=!0},GUILD_RECOMMENDATION_FETCH_SUCCESS:function(e){p=e.recommendedGuilds.map(i.PP);d=e.loadId;h=!1},GUILD_RECOMMENDATION_FETCH_FAILURE:function(){y=!0;h=!1}})},543491:(e,t,n)=>{"use strict";n.d(t,{ab:()=>a,JE:()=>l,iG:()=>u,rC:()=>c,lL:()=>s});var r=n(856744),o=n(203600),i=n(473708);function a(e){return"roles"in e?"emoji-".concat(e.id):"".concat(e.ref_type,"-").concat(e.emoji_id,"-").concat(e.name,"-").concat(e.ref_id)}function l(e){var t=e.interval,n=e.interval_count;return function(e){switch(e){case o.rV.DAY:return i.Z.Messages.DAY;case o.rV.MONTH:return i.Z.Messages.MONTH;case o.rV.YEAR:return i.Z.Messages.YEAR}}(t).format({count:n})}function u(e){var t=e.interval,n=e.interval_count;switch(t){case o.rV.DAY:return n>0&&n%7==0?i.Z.Messages.DURATION_WEEKS_CAPITALIZE.format({weeks:n/7}):i.Z.Messages.DURATION_DAYS_CAPITALIZE.format({days:n});case o.rV.MONTH:
return i.Z.Messages.DURATION_MONTHS_CAPITALIZE.format({months:n});case o.rV.YEAR:return i.Z.Messages.DURATION_YEARS_CAPITALIZE.format({years:n})}}function c(e){return e.ref_type===r.Qs.CHANNEL}function s(e){return e.ref_type===r.Qs.INTANGIBLE}},547721:(e,t,n)=>{"use strict";n.d(t,{tT:()=>v,Xf:()=>g,ix:()=>O,_k:()=>E,jO:()=>C,YN:()=>S,GG:()=>j,qi:()=>_,sp:()=>I,r4:()=>w,_1:()=>P,HQ:()=>x,YB:()=>A,QV:()=>T,Yl:()=>N,JH:()=>M,oC:()=>Z});var r=n(667294),o=n(202351),i=n(251295),a=n(652555),l=n(704230),u=n(840249),c=n(633440);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)}))}}function p(e,t){return function(e){
if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return s(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}var b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},m=[],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.refetchOnMount,i=void 0!==n&&n,c=t.includeSoftDeleted,s=void 0===c||c,f=t.countryCode,d=t.dontFetchWhileTrue,p=(0,o.e7)([a.Z],(function(){return a.Z.isConnected()})),h=(0,o.e7)([u.Z],(function(){return null!=e?u.Z.getSubscriptionGroupListingsForGuildFetchState(e):u.M.FETCHED})),y=r.useRef(i);r.useEffect((function(){if(null!=e&&p&&!0!==d){var t=u.Z.getSubscriptionGroupListingsForGuildFetchState(e);if(i||t===u.M.NOT_FETCHED){y.current=!1;l.FP(e,{includeSoftDeleted:s,countryCode:f})}}}),[p,e,s,i,f,d]);return{listingsLoaded:h===u.M.FETCHED&&!0!==y.current}},g=function(){
var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=(e=d((function(e,t){var n;return b(this,(function(r){switch(r.label){case 0:o(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,l.uw(e,t)];case 2:return[2,r.sent()];case 3:n=r.sent();u(n);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n){return e.apply(this,arguments)});return{loading:n,createSubscriptionGroupListing:c,error:a}},O=function(){var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=r.useCallback((e=d((function(e,t,n){var r;return b(this,(function(i){switch(i.label){case 0:o(!0);u(null);i.label=1;case 1:i.trys.push([1,3,4,5]);return[4,l.AD(e,t,n)];case 2:return[2,i.sent()];case 3:r=i.sent();u(r);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n,r){return e.apply(this,arguments)}),[]);return{loading:n,updateSubscriptionGroupListing:c,error:a}},E=function(e){
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeSoftDeleted,r=void 0!==n&&n,i=t.includeUnpublished,a=void 0===i||i;return(0,o.Wu)([u.Z],(function(){if(null==e)return[];var t=u.Z.getSubscriptionGroupListing(e);if(null==t)return[];var n=[],o=!0,i=!1,l=void 0;try{for(var c,s=t.subscription_listings_ids[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var f=c.value,d=u.Z.getSubscriptionListing(f);null!=d&&(d.soft_deleted&&!r||(d.published||a)&&n.push(d))}}catch(e){i=!0;l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return n}),[e,r,a])},C=function(e){return(0,o.e7)([u.Z],(function(){return null!=e?u.Z.getSubscriptionListing(e):null}))},S=function(e){return(0,o.e7)([u.Z],(function(){return null!=e?u.Z.getSubscriptionGroupListing(e):null}))},j=function(e){return(0,o.e7)([u.Z],(function(){return null!=e?u.Z.getSubscriptionGroupListingsForGuild(e):m}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{
includeSoftDeleted:!1,sortDeletedListingsLast:!1};v(e);return(0,o.Wu)([u.Z],(function(){var n=null!=e?u.Z.getSubscriptionGroupListingsForGuild(e):m,r=[],o=!0,i=!1,a=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value,f=!0,d=!1,p=void 0;try{for(var y,b=s.subscription_listings_ids[Symbol.iterator]();!(f=(y=b.next()).done);f=!0){var v=y.value,g=u.Z.getSubscriptionListing(v);null==g||!t.includeSoftDeleted&&g.soft_deleted||r.push(g)}}catch(e){d=!0;p=e}finally{try{f||null==b.return||b.return()}finally{if(d)throw p}}}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return t.includeSoftDeleted&&t.sortDeletedListingsLast?h(r.filter((function(e){return!e.soft_deleted}))).concat(h(r.filter((function(e){return e.soft_deleted})))):r}))},I=function(e){var t=p(r.useState(!1),2),n=t[0],i=t[1],a=r.useMemo((function(){return e.map(c.W)}),[e]),s=(0,o.Wu)([u.Z],(function(){return a.filter((function(e){
return!u.Z.getDidFetchListingForSubscriptionPlanId(e)}))}),[a]);r.useEffect((function(){if(!n&&s.length>0){i(!0);Promise.all(s.map((function(e){return l.vY(e)}))).catch((function(){})).then((function(){i(!1)}))}}),[n,s]);return{loading:n}},w=function(){var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=(e=d((function(e,t,n){var r;return b(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,3,4]);o(!0);u(null);return[4,l._d(e,t,n)];case 1:i.sent();return[2,!0];case 2:r=i.sent();u(r);return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),function(t,n,r){return e.apply(this,arguments)});return{error:a,submitting:n,deleteSubscriptionListing:c}},P=function(){var e=p((0,i.Z)(l.AE),2),t=e[0],n=e[1],r=n.loading;return{error:n.error,submitting:r,archiveSubscriptionListing:t}},x=function(){var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=(e=d((function(e){var t,n,r,i;return b(this,(function(a){switch(a.label){case 0:
t=e.guildId,n=e.groupListingId,r=e.listingId;a.label=1;case 1:a.trys.push([1,3,4,5]);o(!0);u(null);return[4,l.O0({guildId:t,groupListingId:n,listingId:r,data:{published:!0}})];case 2:a.sent();return[2,!0];case 3:i=a.sent();u(i);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t){return e.apply(this,arguments)});return{error:a,submitting:n,publishSubscriptionListing:c}},A=function(e){return(0,o.e7)([u.Z],(function(){return null!=e?u.Z.getSubscriptionSettings(e):void 0}))},T=function(){var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=r.useCallback((e=d((function(e,t){var n;return b(this,(function(r){switch(r.label){case 0:o(!0);u(null);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,l.W2(e,t)];case 2:r.sent();return[3,5];case 3:n=r.sent();u(n);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t,n){return e.apply(this,arguments)}),[]);return{loading:n,updateSubscriptionsSettings:c,error:a}},N=function(){
var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],u=i[1],c=(e=d((function(e,t){var n;return b(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);o(!0);u(null);return[4,l.J6(e,t)];case 1:return[2,r.sent()];case 2:n=r.sent();u(n);return[3,4];case 3:o(!1);return[7];case 4:return[2]}}))})),function(t,n){return e.apply(this,arguments)});return{error:a,submitting:n,deleteSubscriptionGroupListing:c}},M=function(){var e,t=p(r.useState(!1),2),n=t[0],o=t[1],i=p(r.useState(null),2),a=i[0],c=i[1],s=(e=d((function(e){var t;return b(this,(function(n){switch(n.label){case 0:if(null!=u.Z.getSubscriptionSettings(e))return[2];o(!0);c(null);n.label=1;case 1:n.trys.push([1,3,4,5]);return[4,l.Qb(e)];case 2:n.sent();return[3,5];case 3:t=n.sent();c(t);return[3,5];case 4:o(!1);return[7];case 5:return[2]}}))})),function(t){return e.apply(this,arguments)});return{loading:n,fetchSubscriptionsSettings:s,error:a}},Z=function(e){return(0,o.e7)([u.Z],(function(){
return null!=e?u.Z.getSubscriptionTrial(e):null}))}},154146:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,n:()=>u});var r,o=n(38736);function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}!function(e){e[e.ALL_CHANNELS_ACCESS=0]="ALL_CHANNELS_ACCESS";e[e.SOME_CHANNELS_ACCESS=1]="SOME_CHANNELS_ACCESS"}(r||(r={}));var u=(0,o.Z)((function(e){return{listings:{},setListing:function(t,n){return e((function(e){return{listings:l(a({},e.listings),i({},t,n(e.listings[t])))}}))},editStateIdsForGroup:{},setEditStateIdsForGroup:function(t,n){return e((function(e){return{editStateIdsForGroup:l(a({},e.editStateIdsForGroup),i({},t,n(e.editStateIdsForGroup[t])))}}))}}}))},341095:(e,t,n)=>{"use strict";n.d(t,{GM:()=>ie,GP:()=>Y,UE:()=>q,Xo:()=>fe,PK:()=>G,B7:()=>de,Lo:()=>re,d9:()=>H,R7:()=>Q,_T:()=>B,mR:()=>F,qs:()=>W,Ek:()=>z,p9:()=>V,H9:()=>oe,XZ:()=>ee,TT:()=>te,F2:()=>ne})
;var r=n(667294),o=n(441143),i=n.n(o),a=n(496486),l=n(468811),u=n.n(l),c=n(547308),s=n(202351),f=n(91500),d=n(327499),p=n(489617),h=n(534681),y=n(543491),b=n(704230),m=n(547721),v=n(840249),g=n(523347),O=n(844793),E=n(84124),C=n(121052),S=n(2590),j={id:"0",name:"",mentionable:!1,position:0,hoist:!1,permissions:S.Plq.SEND_MESSAGES,color:0,colorString:"0",icon:null,unicodeEmoji:null,flags:0},_=n(154146),I=n(856744),w=n(203600);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T(e,t,n[t])}))}return e}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}var D=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function k(e,t,n){var o=(0,_.n)((function(e){return e.setListing})),i=r.useCallback((function(r){o(e,(function(e){var o,i=null!==(o=null==e?void 0:e[t])&&void 0!==o?o:n,a="function"==typeof r?r(i):r;return Object.assign({},e,T({},t,a))}))}),[o,e,t,n]),a=(0,_.n)((function(n){var r;return null===(r=n.listings[e])||void 0===r?void 0:r[t]}));return[void 0!==a?a:n,i]}function U(e,t){var n=(0,s.e7)([v.Z],(function(){return v.Z.getSubscriptionListing(e)}));return r.useMemo((function(){return t(n)}),[n])}function B(e){var t;return k(e,"name",U(e,(function(e){return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""})))}function F(e){return k(e,"priceTier",U(e,(function(e){var t;return null===(t=null==e?void 0:e.subscription_plans[0])||void 0===t?void 0:t.price})))}function G(e){var t
;return k(e,"description",U(e,(function(e){return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""})))}function H(e,t){return k(e,"image",U(e,(function(e){if(null!=e)return(0,h._W)(e.application_id,e.image_asset,t)})))}function V(e,t){var n,o,i=(0,E.Z)(t,e);return k(e,"roleIcon",r.useMemo((function(){return{icon:null!==(n=null==i?void 0:i.icon)&&void 0!==n?n:void 0,unicodeEmoji:null!==(o=null==i?void 0:i.unicodeEmoji)&&void 0!==o?o:void 0}}),[i]))}function W(e,t){var n=(0,E.Z)(t,e),o=(0,_.n)((function(t){var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleColor})),i=(0,_.n)((function(t){var n;return null===(n=t.listings[e])||void 0===n?void 0:n.roleIcon}));return r.useMemo((function(){var e=N({},null!=n?n:j);if(void 0!==i){var t,r;e.icon=null!==(t=i.icon)&&void 0!==t?t:"";e.unicodeEmoji=null!==(r=i.unicodeEmoji)&&void 0!==r?r:""}if(void 0!==o){e.color=o;e.colorString=(0,c.Rf)(o)}return e}),[n,i,o])}function z(e,t){var n,o=(0,E.Z)(t,e)
;return k(e,"roleColor",r.useMemo((function(){return null!==(n=null==o?void 0:o.color)&&void 0!==n?n:S.p6O}),[o]))}function Y(e,t){var n=(0,E.Z)(t,e);return k(e,"channelAccessFormat",r.useMemo((function(){return null==n?_.I.SOME_CHANNELS_ACCESS:(0,g.MT)(n)?_.I.ALL_CHANNELS_ACCESS:_.I.SOME_CHANNELS_ACCESS}),[n]))}var K=[];function q(e){return k(e,"channelBenefits",U(e,(function(e){return null==e?K:e.role_benefits.benefits.filter(y.rC)})))}var X=[];function Q(e){return k(e,"intangibleBenefits",U(e,(function(e){return null==e?X:e.role_benefits.benefits.filter(y.lL)})))}var J=new Set;function $(e,t){if(0===e.length)return J;var n=e.filter((function(e){return e.roles.includes(t)}));return new Set(n.map((function(e){return e.id})))}function ee(e,t){var n=(0,E.Z)(t,e),o=(0,s.Wu)([p.Z],(function(){return p.Z.getGuildEmoji(t)}),[t]);return k(e,"tierEmojiIds",r.useMemo((function(){return null==n?J:$(o,n.id)}),[o,n]))}function te(e){var t,n=(0,m.oC)(e),r=(0,
C.Z)(null!==(t=null==n?void 0:n.active_trial)&&void 0!==t?t:null).selectedOption;return k(e,"trialInterval",null!=r?r:null)}function ne(e){var t,n=(0,m.oC)(e);return k(e,"trialLimit",null!==(t=null==n?void 0:n.max_num_active_trial_users)&&void 0!==t?t:null)}function re(e){return(0,_.n)((function(t){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(void 0!==t.listings[l])return!0}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!1}))}function oe(e){var t,n,o,i,a,l=U(e,(function(e){return null==e?void 0:e.subscription_plans[0]})),u=Z(k(e,"priceTier",void 0),1)[0];return[r.useMemo((function(){return{price:null!==(t=null!=u?u:null==l?void 0:l.price)&&void 0!==t?t:0,currency:null!==(n=null==l?void 0:l.currency)&&void 0!==n?n:S.pKx.USD,interval:null!==(o=null==l?void 0:l.interval)&&void 0!==o?o:w.rV.MONTH,interval_count:null!==(i=null==l?void 0:l.interval_count)&&void 0!==i?i:1,
id:null!==(a=null==l?void 0:l.id)&&void 0!==a?a:""}}),[l,u])]}function ie(e){t="nonexistantEditStateId",n=e,_.n.setState((function(e){return{listings:M(N({},e.listings),T({},n,e.listings[t]))}}));var t,n}function ae(e){return le.apply(this,arguments)}function le(){return(le=A((function(e){var t,n,r,o,l,u,c,s,h,y,m,g,O,E,C,S,j,I;return D(this,(function(w){switch(w.label){case 0:t=e.guildId,n=e.editStateId;r=v.Z.getSubscriptionListing(n);i()(null!=r,"listing doesnt exist");o=r.role_id;l=r.id;u=_.n.getState().listings[n];i()(null!=u,"edit state does not exist");c=u.roleColor,s=u.roleIcon,h=u.trialLimit,y=u.trialInterval,m=u.tierEmojiIds;return void 0===c&&void 0===s?[3,2]:[4,d.Z.updateRole(t,o,{color:c,icon:null==s?void 0:s.icon,unicodeEmoji:null==s?void 0:s.unicodeEmoji})];case 1:w.sent();w.label=2;case 2:g=v.Z.getSubscriptionTrial(l);return null!=h||null!=y||null!=g&&null==y?[4,b.I1(t,l,{trial:y,max_num_active_trial_users:h})]:[3,4];case 3:w.sent();w.label=4;case 4:
if(void 0===m)return[3,6];O=p.Z.getGuildEmoji(t);E=$(O,o);C=(0,a.difference)(L(m),L(E));S=(0,a.difference)(L(E),L(m));j=C.map((function(e){return p.Z.getCustomEmojiById(e)})).map((function(e){if(null!=e)return(0,f.dv)({guildId:t,emojiId:e.id,roles:L(e.roles).concat([o])})}));I=S.map((function(e){return p.Z.getCustomEmojiById(e)})).map((function(e){if(null!=e){var n=e.roles.filter((function(e){return e!==o}));return n.length>0?(0,f.dv)({guildId:t,emojiId:e.id,roles:n}):(0,f.RE)(t,e.id)}}));return[4,Promise.all(L(j).concat(L(I)))];case 5:w.sent();w.label=6;case 6:return[2]}}))}))).apply(this,arguments)}function ue(e){var t,n=e.guildId,r=e.editStateId,o=e.groupListingId,l=v.Z.getSubscriptionListing(r);i()(null!=l,"listing doesnt exist");var u=r,c=_.n.getState().listings[u];i()(null!=c,"edit state does not exist");var s=c.name,f=c.description,d=c.channelBenefits,p=c.intangibleBenefits,h=c.priceTier,m=c.image,g=c.channelAccessFormat,O={};s!==l.name&&(O.name=s)
;f!==l.description&&(O.description=f);h!==(null===(t=l.subscription_plans[0])||void 0===t?void 0:t.price)&&(O.priceTier=h);null!=m&&(O.image=m);null!=g&&(O.can_access_all_channels=g===_.I.ALL_CHANNELS_ACCESS);if(null!=d||null!=p){var E=l.role_benefits.benefits.filter(y.rC),C=l.role_benefits.benefits.filter(y.lL),S=L(null!=d?d:E).concat(L(null!=p?p:C));O.benefits=S}return(0,a.isEmpty)(O)?l:b.O0({guildId:n,groupListingId:o,listingId:u,data:O})}function ce(e){return se.apply(this,arguments)}function se(){return(se=A((function(e){var t,n,r,o,a,l,u,c,s,f,d,p,h,y,m,v,g;return D(this,(function(E){switch(E.label){case 0:t=e.guildId,n=e.editStateId,r=e.groupListingId,o=e.onBeforeDispatchNewListing;a=_.n.getState().listings[n];i()(null!=a,"edit state does not exist");l=a.name,u=a.description,c=a.channelBenefits,s=a.intangibleBenefits,f=a.priceTier,d=a.image,p=a.channelAccessFormat;i()(null!=l,"no name provided");i()(null!=u,"no description provided");i()(null!=f,"no priceTier provided")
;i()(null!=d,"no image provided");h=p===_.I.ALL_CHANNELS_ACCESS;return null!=(y=r)?[3,2]:[4,b.uw(t,{})];case 1:m=E.sent();y=m.id;E.label=2;case 2:return null!=c&&c.length>0?[4,(0,O.r4)(t,c)]:[3,4];case 3:E.sent();E.label=4;case 4:v=L(null!=c?c:[]).concat(L(null!=s?s:[]));g=(0,O.yL)(n,t);return[2,b.dA({guildId:t,groupListingId:y,data:{can_access_all_channels:h,image:d,name:l,description:u,benefits:v,priceTier:f},analyticsContext:g,onBeforeDispatchNewListing:o})]}}))}))).apply(this,arguments)}function fe(){var e,t=Z(r.useState(!1),2),n=t[0],o=t[1],a=Z(r.useState(),2),l=a[0],u=a[1],c=r.useCallback((e=A((function(e){var t,n,r,a,l,c,s,f,d,p;return D(this,(function(h){switch(h.label){case 0:t=e.guildId,n=e.editStateId,r=e.groupListingId,a=e.onBeforeDispatchNewListing,l=e.onAfterDispatchNewListing;c=n;s=v.Z.getSubscriptionListing(c);f=null!=s;h.label=1;case 1:h.trys.push([1,7,8,9]);o(!0);u(void 0);if(!f)return[3,3];i()(null!=r,"groupListingId is null");return[4,ue({guildId:t,editStateId:c,
groupListingId:r})];case 2:h.sent();return[3,5];case 3:return[4,ce({guildId:t,editStateId:c,groupListingId:r,onBeforeDispatchNewListing:a})];case 4:d=h.sent();c=d.id;y=n,b=c,_.n.setState((function(e){var t;return{listings:M(N({},e.listings),(t={},T(t,b,e.listings[y]),T(t,y,void 0),t))}}));null==l||l(d);h.label=5;case 5:return[4,ae({guildId:t,editStateId:c})];case 6:h.sent();ie(c);return[2,!0];case 7:if(!("getAnyErrorMessage"in(p=h.sent())))throw p;u(p);return[3,9];case 8:o(!1);return[7];case 9:return[2]}var y,b}))})),function(t){return e.apply(this,arguments)}),[]);return{loading:n,error:l,handleCreateOrUpdateFromEditState:c}}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{includeSoftDeleted:!1},o=(0,m._k)(e,n),i=(0,_.n)((function(e){return e.editStateIdsForGroup[t]})),a=(0,_.n)((function(e){return e.setEditStateIdsForGroup})),l=(0,_.n)((function(e){return e.setListing})),c=r.useMemo((function(){return L(o.map((function(e){return e.id
}))).concat(L(null!=i?i:[]))}),[i,o]),s=r.useCallback((function(){var e=u().v4();a(t,(function(t){return L(null!=t?t:[]).concat([e])}))}),[t,a]),f=r.useCallback((function(e){var n=u().v4();a(t,(function(e){return L(null!=e?e:[]).concat([n])}));e.listings.forEach((function(t){l(n,(function(){return{name:t.name,description:t.description,priceTier:t.price_tier,image:t.image,intangibleBenefits:t.additional_perks,channelBenefits:t.channels.map((function(e){return{ref_id:e.id,ref_type:I.Qs.CHANNEL,description:e.description,name:e.name,emoji_name:e.emoji_name}})),roleIcon:{unicodeEmoji:void 0,icon:t.image},roleColor:t.role_color,usedTemplate:e.category}}))}));return n}),[t,a,l]),d=r.useCallback((function(e){a(t,(function(t){return(null!=t?t:[]).filter((function(t){return t!==e}))}))}),[t,a]);return{editStateIds:c,addNewEditStateId:s,addNewEditStateFromTemplate:f,removeEditStateId:d}}},401598:(e,t,n)=>{"use strict";n.d(t,{d5:()=>r,X$:()=>d,MO:()=>p,$D:()=>h,H2:()=>y})
;var r,o=n(202351),i=n(603927),a=n(198895),l=n(682776),u=n(473903),c=n(142926),s=n(2590);!function(e){e[e.NONE=0]="NONE";e[e.WAITLIST_ONLY=1]="WAITLIST_ONLY";e[e.NEEDS_COMMUNITY=2]="NEEDS_COMMUNITY";e[e.VISIBLE=3]="VISIBLE"}(r||(r={}));function f(e){if(e.guild.hasFeature(s.oNc.CREATOR_MONETIZABLE_DISABLED))return r.NONE;if(function(e){var t=e.guild,n=e.isOwner,r=e.canManageGuildRoleSubscriptions,o=e.isGuildEligibleForRoleSubscriptions,i=e.isExpeditedMonetizationOnboardingGuild,a=e.isUserInCreatorMonetizationEligibleCountry,l=e.shouldRestrictUpdatingRoleSubscriptionSettings;return!!t.hasFeature(s.oNc.COMMUNITY)&&!(!o&&!i)&&!!r&&!(l&&!n)&&(!(!t.hasFeature(s.oNc.CREATOR_MONETIZABLE)&&!t.hasFeature(s.oNc.CREATOR_MONETIZABLE_PROVISIONAL))||n&&a)}(e))return r.VISIBLE;var t=e.guild,n=e.isOwner,o=e.isUserInCreatorMonetizationEligibleCountry,i=e.isMonetizationWaitlistEnabledForGuild,a=e.isGuildEligibleForRoleSubscriptions,l=e.isExpeditedMonetizationOnboardingGuild
;return n&&!o&&i?r.WAITLIST_ONLY:n&&i&&(a||l)&&!t.hasFeature(s.oNc.COMMUNITY)?r.NEEDS_COMMUNITY:r.NONE}function d(e){return f(e)!==r.NONE}function p(e){var t=(0,c.Bt)(null==e?void 0:e.id),n=(0,i.Ob)(e),l=(0,i.gS)(null==e?void 0:e.id),s=h(e),d=(0,o.e7)([u.default],(function(){var t=u.default.getCurrentUser();return null!=t&&!0===(null==e?void 0:e.isOwner(t))})),p=(0,i.Sd)(),y=(0,a.pS)(null==e?void 0:e.id).shouldRestrictUpdatingRoleSubscriptionSettings;return null==e?r.NONE:f({guild:e,isOwner:d,canManageGuildRoleSubscriptions:s,isGuildEligibleForRoleSubscriptions:t,isMonetizationWaitlistEnabledForGuild:l,isExpeditedMonetizationOnboardingGuild:n,isUserInCreatorMonetizationEligibleCountry:p,shouldRestrictUpdatingRoleSubscriptionSettings:y})}function h(e){return(0,o.e7)([l.Z],(function(){return y(e)}),[e])}function y(e){return null!=e&&l.Z.can(s.Plq.ADMINISTRATOR,e)}},633440:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,V:()=>a});var r=n(441143),o=n.n(r);function i(e){var t=e.items
;o()(1===t.length,"more than 1 subscription item for role subscription");return t[0].planId}function a(e){var t,n=null==e||null===(t=e.renewalMutations)||void 0===t?void 0:t.items;if(null!=n){o()(n.length<=1,"more than 1 renewal mutation for role subscription");return null==n?void 0:n[0].planId}}},106004:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(202351),o=n(744564),i=n(382060),a=n(61209);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}var f=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p={},h={};var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=d(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getTemplates=function(e){return p[e]};r.getTemplateWithCategory=function(e,t){var n;return null===(n=p[e])||void 0===n?void 0:n.find((function(e){
return e.category===t}))};r.getChannel=function(e){return h[e]};r.__getLocalVars=function(){return{tierTemplates:p,templateChannels:h}};return n}(r.ZP.Store);y.displayName="GuildRoleSubscriptionTierTemplatesStore";const b=new y(o.Z,{GUILD_ROLE_SUBSCRIPTIONS_STASH_TEMPLATE_CHANNELS:function(e){var t=e.selectedTemplate,n=e.guildId,r=Object.values(a.Z.getMutableGuildChannelsForGuild(n));t.listings.forEach((function(e){e.channels.forEach((function(e){var t=r.find((function(t){return t.name===e.name}));if(void 0!==t)e.id=t.id;else if(!(e.id in h)){var n=(0,i.kt)(e);h[e.id]=n}}))}))},GUILD_ROLE_SUBSCRIPTIONS_FETCH_TEMPLATES:function(e){var t=e.templates,n=e.guildId;p[n]=t}})},844793:(e,t,n)=>{"use strict";n.d(t,{m7:()=>O,g4:()=>E,be:()=>S,GN:()=>j,r4:()=>_,yL:()=>w,sO:()=>P});var r=n(229392),o=n.n(r),i=n(318715),a=n(744564),l=n(985462),u=n(61209),c=n(142926),s=n(840249),f=n(154146),d=n(401598),p=n(106004),h=n(2590),y=n(897196);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){
n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}var v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};o().shim();var g={};function O(e){var t=(0,i.ZP)([u.Z],(function(){return u.Z.getChannel(e)})),n=(0,i.ZP)([p.Z],(function(){return p.Z.getChannel(e)}));return null!=t?t:n}function E(e,t,n){var r=(0,i.ZP)([s.Z],(function(){return s.Z.getSubscriptionListingsForGuild(e)})),o=(0,f.n)((function(t){return t.editStateIdsForGroup[e]})),a=(0,f.n)((function(e){return e.listings}));if(void 0===n||void 0===t)return null;var l=r.filter((function(e){return!e.soft_deleted&&!e.archived})).map((function(e){return e.subscription_plans[0].price})),u=[];void 0!==o&&o.forEach((function(e){var t=a[e],n=null==t?void 0:t.priceTier;null!=n&&u.push(n)}));var c=new Set(u.concat(l))
;if(!c.has(n))return null;var d=t.indexOf(n);if(-1===d)return null;for(var p=[],h=d+1;h<t.length;h++){c.has(t[h])||p.push(t[h]);if(3===p.length)return p}return p}function C(e){var t=f.n.getState().editStateIdsForGroup[e],n=f.n.getState().listings,r=new Set;null!=t&&t.forEach((function(e){var t,o=null===(t=n[e])||void 0===t?void 0:t.channelBenefits;null==o||o.forEach((function(e){null!=p.Z.getChannel(e.ref_id)&&r.add(e.ref_id)}))}));var o=[],i=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,d=p.Z.getChannel(s);if(null!=d){var h=d.set("guild_id",e);o.push(h)}}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return o}function S(e){var t=C(e);g[e]=t;t.forEach((function(e){var t=e.set("flags",y.zZ.IS_ROLE_SUBSCRIPTION_TEMPLATE_PREVIEW_CHANNEL);a.Z.dispatch({type:"CHANNEL_CREATE",channel:t})}))}function j(e){var t;(null!==(t=g[e])&&void 0!==t?t:C(e)).forEach((function(e){a.Z.dispatch({type:"CHANNEL_DELETE",
channel:e})}))}function _(e,t){return I.apply(this,arguments)}function I(){return(I=m((function(e,t){var n,r;return v(this,(function(o){switch(o.label){case 0:n=[];r=[];t.forEach((function(t){var o=p.Z.getChannel(t.ref_id);if(null!=o){n.push(l.Z.createRoleSubscriptionTemplateChannel(e,o.name,o.type,o.topic));r.push(o)}}));return 0===n.length?[2]:[4,Promise.allSettled(n)];case 1:o.sent().forEach((function(n,o){var i=r[o].id;if("fulfilled"===n.status){var a=n.value.body,l=f.n.getState().editStateIdsForGroup[e],u=f.n.getState().listings;null!=l&&l.forEach((function(e){var t,n=null===(t=u[e])||void 0===t?void 0:t.channelBenefits;null==n||n.forEach((function(e){e.ref_id===i&&(e.ref_id=a.id)}))}))}else if(null!=t){var c=t.findIndex((function(e){return e.ref_id===i}));-1!==c&&(null==t||t.splice(c,1))}}));return[2]}}))}))).apply(this,arguments)}function w(e,t){var n,r,o=f.n.getState().listings[e],i=null==o?void 0:o.usedTemplate;if(null==i)return{templateCategory:null,hasChangeFromTemplate:null
};var a=p.Z.getTemplateWithCategory(t,i);if(null==a)return{templateCategory:null,hasChangeFromTemplate:null};var l=a.listings[0];if((null==o?void 0:o.name)!==l.name||(null==o?void 0:o.description)!==l.description||(null==o?void 0:o.priceTier)!==l.price_tier||(null==o?void 0:o.image)!==l.image||(null==o?void 0:o.roleColor)!==l.role_color)return{templateCategory:a.category,hasChangeFromTemplate:!0};if((null==o||null===(n=o.channelBenefits)||void 0===n?void 0:n.length)!==l.channels.length||(null==o||null===(r=o.intangibleBenefits)||void 0===r?void 0:r.length)!==l.additional_perks.length)return{templateCategory:a.category,hasChangeFromTemplate:!0};for(var u=0;u<l.channels.length;u++){var c=o.channelBenefits[u],s=l.channels[u];if(c.name!==s.name||c.description!==s.description||c.emoji_name!==s.emoji_name)return{templateCategory:a.category,hasChangeFromTemplate:!0}}for(var d=0;d<l.additional_perks.length;d++){var h=o.intangibleBenefits[d],y=l.additional_perks[d]
;if(h.name!==y.name||h.description!==y.description||h.emoji_name!==y.emoji_name)return{templateCategory:a.category,hasChangeFromTemplate:!0}}return{templateCategory:a.category,hasChangeFromTemplate:!1}}function P(e){return(0,d.H2)(e)&&e.hasFeature(h.oNc.ROLE_SUBSCRIPTIONS_ENABLED)&&(0,c.$F)()&&(0,c.hQ)(e.id)}},506847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(667294),o=n(202351),i=n(810978),a=n(551778),l=n(536392),u=n(840249),c=n(633440),s=n(2590);function f(e){var t=(0,o.e7)([l.Z],(function(){return l.Z.getSubscriptions()})),n=r.useMemo((function(){if(null==t)return{};var e={},n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.type===s.NYc.GUILD){e[(0,c.W)(l)]=l}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}),[t]),f=(0,o.cj)([u.Z],(function(){
var t,r,o=null,i=null!=e?u.Z.getSubscriptionGroupListing(e):null,a=null!==(r=null==i?void 0:i.subscription_listings_ids)&&void 0!==r?r:[],l=!0,c=!1,s=void 0;try{for(var f,d=a[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var p=f.value,h=u.Z.getSubscriptionListing(p),y=null==h?void 0:h.subscription_plans[0].id;if(null!=y){var b=n[y];if(null!=b){o=b;t=h;break}}}}catch(e){c=!0;s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}return{activeSubscription:o,activeSubscriptionListing:t}})),d=f.activeSubscription,p=f.activeSubscriptionListing,h=null==p?void 0:p.subscription_plans[0],y=null==h?void 0:h.id,b=null==h?void 0:h.sku_id,m=(0,o.e7)([a.Z],(function(){return null!=y?a.Z.get(y):null})),v=null==p?void 0:p.soft_deleted;r.useEffect((function(){null!=m||null==b||a.Z.isFetchingForSKU(b)||(0,i.GZ)(b,void 0,void 0,v)}),[m,b,v]);return{activeSubscription:d,activeSubscriptionListing:p,activeSubscriptionPlanFromStore:m}}},345623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u})
;var r=n(667294),o=n(202351),i=n(489617),a=n(104627),l=[];function u(e){var t=(0,o.e7)([i.Z],(function(){return i.Z.getGuildEmoji(e)}),[e]);return r.useMemo((function(){return null==t?l:t.filter((function(t){return(0,a.Kt)(t,e)}))}),[t,e])}},84124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(202351),o=n(567403),i=n(547721);function a(e,t){var n=(0,r.e7)([o.Z],(function(){return o.Z.getGuild(e)}),[e]),a=(0,i.jO)(t);return null==n||null==a?null:n.roles[a.role_id]}},805537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(667294),o=n(202351),i=n(396043),a=n(19585),l=n(784426),u=n(652591),c=n(547721),s=n(840249),f=n(506847),d=n(2590);function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){var t,n=e.guildId,h=e.groupListingId,y=e.location,b=e.relevantSubscriptionListingIds,m=(0,c.tT)(n,{refetchOnMount:!1}).listingsLoaded,v=null!=(0,f.Z)(h).activeSubscription,g=(0,o.Wu)([s.Z],(function(){
return(null!=b?b:[]).filter((function(e){var t;return!0===(null===(t=s.Z.getSubscriptionListing(e))||void 0===t?void 0:t.published)}))}),[b]),O=(0,a.Z)(null!==(t=(0,l.DR)())&&void 0!==t?t:[]).analyticsLocations,E=r.useRef(!1);r.useEffect((function(){if(m&&null!=h&&null!=g&&!E.current){E.current=!0;u.default.track(d.rMx.ROLE_SUBSCRIPTION_LISTING_UPSELL_PAGE_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}({role_subscription_group_listing_id:h,role_subscription_listing_ids:g,is_premium_member:v,location_stack:O,location:y},(0,i.hH)(n)))}}),[n,h,m,y,g,v,O])}},121052:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(667294),o=n(543491),i=n(856744),a=n(203600),l=n(473708);function u(e){
return r.useMemo((function(){var t,n=i.DN.map((function(e){return{value:e,label:e.interval===a.rV.DAY&&7===e.interval_count?l.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_TRIAL_TIME_LIMIT_DEFAULT_OPTION.format({defaultLimit:(0,o.iG)(e)}):(0,o.iG)(e),isDefault:e.interval===a.rV.DAY&&7===e.interval_count}})),r=null!=e?null===(t=n.find((function(t){return null!=t.value&&t.value.interval===e.interval&&t.value.interval_count===e.interval_count})))||void 0===t?void 0:t.value:e;return{options:n,selectedOption:r}}),[e])}},719511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(202351),o=n(61209);function i(e){return(0,r.Wu)([o.Z],(function(){return e.filter((function(e){return o.Z.hasChannel(e.ref_id)}))}),[e])}},22572:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(77413),l=n(202351),u=n(489617);const c=function(e,t){return(0,l.e7)([u.Z],(function(){if(null==t)return null;var n,r=u.Z.getDisambiguatedEmojiContext(e)
;return null!==(n=r.getById(t))&&void 0!==n?n:r.getByName(t)}),[e,t])};var s=n(124296),f=n(142412),d=n.n(f);function p(e){var t,n=e.guildId,o=e.emojiId,l=e.emojiName,u=e.className,f=c(n,o);return null!=f||null!=l?(0,r.jsx)(a.Z,{emojiId:null==f?void 0:f.id,emojiName:null!=l?l:null==f?void 0:f.name,animated:null!==(t=null==f?void 0:f.animated)&&void 0!==t&&t,className:i()(d().emojiIcon,u)}):(0,r.jsx)(s.Z,{className:i()(d().emojiIcon,u),useGradient:!0})}},922799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(945460)),i=n(959468),a=n(239813),l=n(296047),u=n(72580),c=n(844793),s=n(856744),f=n(473708),d=n(983739),p=n.n(d);function h(e){var t=e.channelId,n=(0,c.m7)(t);if(null==n)return(0,r.jsx)(r.Fragment,{children:"[".concat(f.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_TIER_DELETED_CHANNEL_LABEL,"]")});var u=n.isMediaChannel()?l.Z:(0,a.Th)(n.type);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.HiddenVisually,{children:(0,i.Z)({channel:n})}),(0,r.jsxs)("div",{
"aria-hidden":!0,children:[null!=u&&(0,r.jsx)(u,{className:p().icon,"aria-hidden":!0}),n.name]})]})}function y(e){switch(e.ref_type){case s.Qs.CHANNEL:return(0,r.jsx)(h,{channelId:e.ref_id});case s.Qs.INTANGIBLE:return e.name;default:(0,u.vE)(e)}}},217131:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(837162),c=n(649536),s=n(358624),f=n(219369),d=n(473903),p=n(773148),h=n(463473),y=n(2590),b=n(473708),m=n(803596),v=n.n(m);function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e){var t,n=e.guildId,i=e.role,m=e.theme,E=e.content,C=void 0===E?b.Z.Messages.GUILD_ROLE_SUBSCRIPTION_SETUP_FLAIR_PREVIEW_MESSAGE_TEXT:E,S=e.className,j=(0,l.e7)([d.default],(function(){return d.default.getCurrentUser()})),_=p.Z.useName(n,null,j),I=(0,u.Kz)(i),w=o.useMemo((function(){return(0,c.e5)(O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},(0,s.ZP)({channelId:"0",content:C,tts:void 0,type:void 0,messageReference:void 0,allowedMentions:void 0,author:j})),{state:y.yb.SENT,id:"0"}))}),[j,C]),P={nick:_,colorString:null!==(t=i.colorString)&&void 0!==t?t:void 0};return(0,r.jsx)("div",{className:a()((0,
h.Q)(m),v().container,S),children:(0,r.jsx)(f.Z,{hideTimestamp:!0,author:P,roleIcon:I,message:w,isGroupStart:!0,disableInteraction:!0})})}},383163:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(289283),u=n(945460),c=n(142926),s=n(473708),f=n(274522),d=n.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=e.text,n=e.hasScrolled;return(0,r.jsxs)("div",{className:a()(d().container,h({},d().containerHide,n)),children:[(0,r.jsx)("div",{className:d().notice,children:(0,r.jsx)(u.Text,{className:d().label,variant:"text-md/medium",color:"header-primary",children:t})}),(0,r.jsx)("div",{className:d().noticeArrow})]})}var m=n(508038),v=n.n(m);function g(e){var t=e.guildId,n=e.children,i=e.className,f=function(e){var t=y(o.useState(),2),n=t[0],i=t[1],a=y(o.useState(),2),l=a[0],u=a[1],f=y(o.useState(!1),2),d=f[0],p=f[1],h=y(o.useState(!1),2),m=h[0],v=h[1],g=(0,
c.s1)(e).enabled;o.useEffect((function(){p(!(!g||null==n||null==l)&&n<l)}),[g,n,l]);return{horizontalScrollNotice:o.useMemo((function(){return d?(0,r.jsx)(b,{text:s.Z.Messages.GUILD_ROLE_SUBSCRIPTION_LISTINGS_SCROLLABLE_NOTICE,hasScrolled:m}):null}),[d,m]),handleScroll:function(){return v(!0)},handleSetScrollerRef:function(e){var t;return u(null===(t=null==e?void 0:e.getScrollerState())||void 0===t?void 0:t.scrollWidth)},handleSetContainerRef:function(e){return i(null==e?void 0:e.clientWidth)}}}(t),d=f.horizontalScrollNotice,p=f.handleScroll,h=f.handleSetScrollerRef,m=f.handleSetContainerRef,g=(0,r.jsx)("div",{className:v().tierPreviewsContainer,children:(0,r.jsx)("div",{className:a()(v().tierPreviews,i),children:n})});l.tq||(g=(0,r.jsxs)(r.Fragment,{children:[d,(0,r.jsx)(u.AdvancedScroller,{className:v().scroller,orientation:"horizontal",ref:h,onScroll:p,children:g})]}));return(0,r.jsx)("div",{className:v().carouselMaxWidth,ref:m,children:g})}},772040:(e,t,n)=>{"use strict";n.d(t,{
Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o
}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=l(e,["width","height"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(s)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{
d:"M17.225 6.06504C17.3227 6.00866 17.4362 5.98608 17.548 6.00084C17.6598 6.0156 17.7637 6.06686 17.8434 6.14665C17.9232 6.22645 17.9744 6.33037 17.9892 6.44225C18.0039 6.55413 17.9813 6.66772 17.925 6.76548L15.65 10.2551L21.9875 11.581C21.9875 11.7185 21.9875 11.8562 21.9875 11.9937C21.9875 12.1313 21.9875 12.2689 21.9875 12.4065L15.65 13.7323L17.925 17.222C17.9939 17.3117 18.0313 17.4216 18.0313 17.5347C18.0313 17.6478 17.9939 17.7577 17.925 17.8474C17.8281 17.9424 17.6982 17.9962 17.5625 17.9975C17.466 17.996 17.3714 17.9702 17.2875 17.9224L13.8125 15.646L12.4125 22H11.5875L10.2625 15.6585L6.77501 17.935C6.69176 17.9843 6.59672 18.0102 6.49997 18.01C6.43455 18.0098 6.3699 17.9963 6.30977 17.9705C6.24964 17.9447 6.1953 17.9072 6.15001 17.8599C6.06977 17.7789 6.01879 17.6734 6.0052 17.5601C5.99162 17.4468 6.01621 17.3323 6.07501 17.2345L8.36253 13.7449L2 12.4065C2 12.2689 2 12.1313 2 11.9937C2 11.8562 2 11.7185 2 11.581L8.35002 10.2551L6.0625 6.76548C6.0037 6.66774 5.97918 6.55315 5.99277 6.43988C6.00635 6.32661 6.05726 6.22113 6.1375 6.14009C6.21731 6.05781 6.32295 6.00542 6.43672 5.99176C6.5505 5.97809 6.6655 6.00399 6.7625 6.06504L10.25 8.34148L11.575 2H12.4L13.7375 8.34148L17.225 6.06504Z",
fill:"white"}),(0,r.jsx)("path",{
d:"M22 12.4065C21.8956 14.9141 20.8533 17.2908 19.0798 19.0654C17.3062 20.8401 14.931 21.883 12.425 21.9875L13.7625 15.646L17.2375 17.9224C17.3214 17.9702 17.416 17.996 17.5125 17.9975C17.6481 17.9962 17.7781 17.9424 17.875 17.8474C17.9439 17.7577 17.9813 17.6478 17.9813 17.5347C17.9813 17.4216 17.9439 17.3117 17.875 17.222L15.6 13.7323L22 12.4065ZM13.7625 8.34148L17.2375 6.06504C17.3352 6.00866 17.4487 5.98608 17.5605 6.00084C17.6723 6.0156 17.7762 6.06686 17.8559 6.14665C17.9357 6.22645 17.9869 6.33037 18.0017 6.44225C18.0164 6.55413 17.9938 6.66772 17.9375 6.76548L15.6625 10.2551L22 11.581C21.8956 9.07342 20.8533 6.69669 19.0798 4.92206C17.3062 3.14742 14.931 2.10449 12.425 2L13.7625 8.34148ZM10.275 8.34148L11.6 2C9.09402 2.10449 6.71878 3.14742 4.94525 4.92206C3.17172 6.69669 2.12945 9.07342 2.02502 11.581L8.37497 10.2551L6.08752 6.76548C6.02873 6.66774 6.00413 6.55315 6.01772 6.43988C6.0313 6.32661 6.08228 6.22113 6.16252 6.14009C6.24233 6.05781 6.34797 6.00542 6.46175 5.99176C6.57552 5.97809 6.69052 6.00399 6.78752 6.06504L10.275 8.34148ZM6.16252 17.8474C6.08228 17.7663 6.0313 17.6609 6.01772 17.5476C6.00413 17.4343 6.02873 17.3197 6.08752 17.222L8.37497 13.7323L2 12.4065C2.10442 14.9141 3.1467 17.2908 4.92023 19.0654C6.69376 20.8401 9.06899 21.883 11.575 21.9875L10.25 15.646L6.7625 17.9224C6.67925 17.9718 6.58428 17.9977 6.48753 17.9975C6.35971 17.9937 6.23848 17.9398 6.15001 17.8474H6.16252Z",
fill:"url(#paint0_linear_3793:27920)"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_3793:27920",x1:"2",y1:"21.9875",x2:"21.9875",y2:"1.98749",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#11A574"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#169DD8"})]})})]}))}},340562:(e,t,n)=>{"use strict";n.d(t,{c:()=>dt,Z:()=>ht});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(333568),s=n(861426),f=n(615796),d=n(223430),p=n(443812),h=n(377463),y=n(58838),b=n(386991),m=n(775173),v=n(543491),g=n(142926),O=n(547721),E=n(341095),C=n(506847);var S=n(345623),j=n(84124),_=n(719511),I=n(133028),w=n(217131),P=n(22572),x=n(922799),A=n(959468),T=n(14096),N=n(784426),M=n(61209),Z=n(407561),L=n(414306),R=n(2590);function D(e,t){var n=(0,l.e7)([M.Z],(function(){return M.Z.getChannel(t)})),r=(0,L.Z)(null==n?void 0:n.id).needSubscriptionToAccess;if(null==n||r)return null;var o=n.isGuildVocal();return{navigateToChannel:function(){
o?T.Z.handleVoiceConnect({channel:n,connected:Z.Z.isInChannel(n.id),needSubscriptionToAccess:!1,routeDirectlyToChannel:!0}):(0,N.uL)(R.Z5c.CHANNEL(e,n.id))},ariaLabel:(0,A.Z)({channel:n})}}var k=n(575103),U=n.n(k);function B(e){var t=e.benefit,n=e.guildId,o=D(n,t.ref_id),i=(0,r.jsx)(P.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name}),l=null!=o?(0,r.jsx)(u.Clickable,{className:U().channelLink,onClick:o.navigateToChannel,"aria-label":o.ariaLabel,role:"link",children:(0,r.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:a()(U().name,U().linkedName),children:(0,x.Z)(t)})}):(0,r.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:U().name,children:(0,x.Z)(t)});return(0,r.jsxs)("div",{className:U().container,children:[(0,r.jsxs)("div",{className:U().infoContainer,children:[l,(0,r.jsx)(u.Text,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,r.jsx)("div",{className:U().emojiContainer,children:i})]})}
var F=n(336194),G=n(531441),H=n(249052),V=n(712861),W=n(856744),z=n(873954),Y=n.n(z),K=(0,V.Mg)(Y().tierImageSize),q=(0,V.Mg)(Y().tierImageSizeMobile);function X(){return(0,c.Z)(W.iP)?q:K}var Q=n(473708);function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(e){var t=e.listingName;return(0,r.jsx)(u.Heading,{variant:"text-md/normal",color:"interactive-active",className:Y().tierName,children:t})};function te(e){var t=e.image;return null==t?null:(0,r.jsx)("img",{src:t,alt:"",className:Y().tierImage})}var ne=function(){return(0,r.jsx)(G.IG,{color:F.Z.unsafe_rawColors.YELLOW_300.css,text:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_MANAGEMENT_DRAFT_LABEL,className:Y().draftBadge})},re=function(e){var t=e.listingId,n=e.isListingPublished,o=X(),i=$(E._T(t),1)[0],a=$(E.d9(t,o),1)[0],l=$(E.H9(t),1)[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee,{listingName:i}),(0,r.jsx)(te,{image:a}),!n&&(0,r.jsx)("div",{className:Y().draftBadgeContainer,children:(0,r.jsx)(ne,{})}),(0,r.jsx)(u.Text,{variant:"heading-xl/semibold",className:Y().tierPrice,tag:"div",
children:(0,H.T4)(l.price,l.currency)}),(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"interactive-normal",className:Y().tierPeriod,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,v.JE)({interval:l.interval,interval_count:l.interval_count})})})]})},oe=n(84619),ie=n.n(oe);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ue=function(e){var t=e.listingId,n=e.isListingPublished,o=e.expanded,i=e.onToggleExpanded,a=X(),l=le(E._T(t),1)[0],c=le(E.d9(t,a),1)[0],s=le(E.H9(t),1)[0];return(0,r.jsxs)("div",{className:ie().container,children:[(0,r.jsx)(te,{image:c}),(0,r.jsxs)("div",{className:ie().tierTextInfoContainer,children:[(0,r.jsx)(ee,{listingName:l}),(0,r.jsxs)("div",{className:ie().tierPriceContainer,children:[!n&&(0,r.jsx)(ne,{}),(0,r.jsxs)(u.Text,{variant:"text-xs/normal",className:ie().tierPrice,children:[(0,H.T4)(s.price,s.currency)," ",Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_AMOUNT_PER_PERIOD.format({period:(0,v.JE)({interval:s.interval,interval_count:s.interval_count})})]})]})]}),(0,
r.jsx)(u.Clickable,{onClick:i,children:o?(0,r.jsx)(y.Z,{className:ie().toggleButton}):(0,r.jsx)(h.Z,{className:ie().toggleButton})})]})},ce=n(441143),se=n.n(ce),fe=n(730381),de=n.n(fe),pe=n(744564),he=n(810978),ye=n(19585),be=n(276985),me=n(886391),ve=n(201615),ge=n(716371),Oe=n(944522),Ee=n(753557),Ce=n(551778),Se=n(348592),je=n(633440),_e=n(447930);function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ae=function(){var e,t,n=Pe(o.useState(!1),2),r=n[0],i=n[1],a=Pe(o.useState(null),2),l=a[0],u=a[1],c=o.useCallback((t=(e=function(e,t,n){var r;return xe(this,(function(o){switch(o.label){case 0:i(!0);u(null);o.label=1;case 1:o.trys.push([1,3,4,5]);return[4,(0,_e.LB)(e,t,n)];case 2:return[2,o.sent()];case 3:r=o.sent();u(r);return[3,5];case 4:i(!1);return[7];case 5:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){we(i,r,o,a,l,"next",e)}function l(e){we(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(e,n,r){return t.apply(this,arguments)}),[]);return{loading:r,error:l,getTrialPurchaseEligibility:c}},Te=n(845882),Ne=n(567403);var Me=["a","b","c","d"],Ze=function(e){return e};function Le(e,t){for(var n=function(n){r[Me[n]]=function(r,o){return t(e[n],o)}},r={},o=Math.min(e.length,Me.length),i=0;i<o;++i)n(i);return r}var Re=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.items=t}var t=e.prototype;t.asString=function(){return this.transformed(Ze)};t.isEmpty=function(){return 0===this.items.length};t.transformed=function(e){switch(this.items.length){case 0:return"";case 1:return e(this.items[0],"");case 2:return Q.Z.Messages.GENERIC_FORMATTED_LIST_TWO.format(Le(this.items,e));case 3:return Q.Z.Messages.GENERIC_FORMATTED_LIST_THREE.format(Le(this.items,e));default:
return Q.Z.Messages.GENERIC_FORMATTED_LIST_FOUR.format(Le(this.items,e))}};return e}();var De=n(879581),ke=n.n(De),Ue=function(e){var t=e.onClose,n=e.listing,i=e.guildId,a=(0,l.e7)([Ne.Z],(function(){return Ne.Z.getGuild(i)}),[i]),c=function(e){var t=e.includeFlairAsBenefit,n=e.listing,r=e.guildId,i=0,a=0,l=!0,u=!1,c=void 0;try{for(var s,f=n.role_benefits.benefits[Symbol.iterator]();!(l=(s=f.next()).done);l=!0){var d=s.value;(0,v.rC)(d)?i+=1:(0,v.lL)(d)&&(a+=1)}}catch(e){u=!0;c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}var p=n.role_id,h=(0,S.Z)(r).filter((function(e){return e.roles.includes(p)})).length;return o.useMemo((function(){var e=[];!0===t&&e.push(Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_BENEFIT_VISUAL_FLAIR);0!==i&&e.push(Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EXCLUSIVE_CHANNELS_SUBTITLE.format({channelCount:i}));0!==a&&e.push(Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_BENEFITS_SUBTITLE.format({
benefitCount:a}));0!==h&&e.push(Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_EMOJI_SUBTITLE.format({emojiCount:h}));return new Re(e)}),[i,a,h,t])}({listing:n,guildId:i});return(0,r.jsxs)("div",{className:ke().confirmationContainer,children:[(0,r.jsx)(u.Heading,{className:ke().confirmationHeader,variant:"heading-lg/extrabold",children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_TITLE.format({serverName:null==a?void 0:a.toString(),tierName:n.name})}),!c.isEmpty()&&(0,r.jsx)(u.Text,{className:ke().confirmationSubtitle,variant:"text-sm/normal",color:"header-secondary",children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_SUBTITLE.format({benefits:c.asString()})}),(0,r.jsx)(u.Button,{className:ke().openDiscordButton,onClick:function(){return(0,Te.Z)("role_sub_mweb_success_modal")},children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_OPEN_DISCORD_BUTTON}),(0,r.jsx)(u.Button,{
className:ke().doneButton,look:u.Button.Looks.BLANK,onClick:function(){return t(!0)},children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_LITE_DONE_BUTTON})]})},Be=n(77413),Fe=n(83471),Ge=n(189865),He=n(534681),Ve=n(718831),We=n(778381),ze=n.n(We);function Ye(e){var t=e.benefit,n=e.guildId,o=e.onClick,i=D(n,t.ref_id),a=(0,r.jsx)(P.Z,{guildId:n,emojiId:t.emoji_id,emojiName:t.emoji_name});return(0,r.jsxs)(u.Clickable,{className:ze().container,onClick:function(){null==i||i.navigateToChannel();o()},"aria-label":null==i?void 0:i.ariaLabel,role:"link",children:[(0,r.jsx)("div",{className:ze().emojiContainer,children:a}),(0,r.jsxs)("div",{className:ze().infoContainer,children:[(0,r.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:ze().name,children:(0,x.Z)(t)}),(0,r.jsx)(u.Text,{color:"interactive-normal",variant:"text-sm/normal",children:t.description})]}),(0,r.jsx)(Ve.Z,{direction:Ve.Z.Directions.RIGHT,className:ze().caret})]})}
var Ke=n(328589),qe=n.n(Ke);function Xe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Qe=function(e){var t=e.onClose,n=e.listing,o=e.step,i=e.guildId,l=(0,O.YB)(i),s=(0,c.Z)(W.Xy);return(0,r.jsxs)("div",{className:a()(qe().headerContainer,Xe({},qe().headerEmpty,s)),children:[function(){var e;if(s)return null;var t=null!=(null==l||null===(e=l.cover_image_asset)||void 0===e?void 0:e.application_id)?(0,He._W)(l.cover_image_asset.application_id,l.cover_image_asset,440):void 0;return(0,r.jsx)("img",{src:t,alt:"",className:qe().headerImage})}(),function(){if(o!==Fe.h8.CONFIRM)return null;var e=(0,He._W)(n.application_id,n.image_asset,80);return(0,r.jsx)("div",{className:qe().tierImageContainer,children:(0,r.jsx)("img",{src:e,alt:"",className:qe().tierImage})})}(),(0,r.jsx)(u.Clickable,{className:qe().closeContainer,onClick:function(){return t(!1)},"aria-label":Q.Z.Messages.CLOSE,children:(0,r.jsx)(Ge.Z,{
className:qe().closeIcon})})]})},Je=function(e){var t=e.onClose,n=e.listing,o=e.guildId,i=(0,l.e7)([Ne.Z],(function(){return Ne.Z.getGuild(o)}),[o]),a=(0,S.Z)(o).filter((function(e){return e.roles.includes(n.role_id)})),c=n.role_benefits.benefits.filter(v.rC).slice(0,null===a.length?4:3),s=(0,_.Z)(c).slice(0,null===a.length?4:3);return(0,r.jsxs)("div",{className:qe().confirmationContainer,children:[(0,r.jsx)(u.Heading,{className:qe().confirmationHeader,variant:"heading-xl/semibold",color:"header-secondary",children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_TITLE.format({serverName:null==i?void 0:i.toString()})}),(0,r.jsx)(u.Text,{className:qe().confirmationSubtitle,variant:"text-md/normal",color:"header-secondary",children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_SUBTITLE.format({tier:n.name})}),s.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Text,{variant:"text-xs/normal",color:"header-secondary",
className:qe().confirmationSectionLabel,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_CHANNEL_PREVIEW}),(0,r.jsx)("div",{className:qe().confirmationBenefits,children:s.map((function(e){return(0,r.jsx)(Ye,{benefit:e,guildId:o,onClick:function(){return t(!0)}},(0,v.ab)(e))}))})]}),function(){if(0===a.length)return null;var e,t=a[0];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Text,{variant:"text-xs/medium",color:"header-secondary",className:qe().confirmationSectionLabel,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_PREVIEW_TITLE}),(0,r.jsxs)("div",{className:qe().emojiBenefitsRow,children:[(0,r.jsx)(Be.Z,{emojiId:t.id,emojiName:t.name,animated:null!==(e=t.animated)&&void 0!==e&&e,className:qe().emojiImage}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.Text,{variant:"text-md/medium",color:"header-primary",className:qe().emojiName,
children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_TEXT}),(0,r.jsx)(u.Text,{color:"interactive-normal",variant:"text-sm/normal",children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_PREMIUM_EMOJI_BENEFIT_DESCRIPTION.format({count:a.length})})]})]})]})}(),(0,r.jsx)(u.Button,{className:qe().confirmationButton,onClick:function(){return t(!0)},children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_PURCHASE_MODAL_CONFIRMATION_DONE_BUTTON})]})};function $e(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$e(i,r,o,a,l,"next",e)}function l(e){$e(i,r,o,a,l,"throw",e)}a(void 0)}))}}var tt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const nt=function(e,t,n,i){var a,u=(0,l.e7)([Oe.Z],(function(){
return Oe.Z.isLurking(t)})),s=(0,ge.J)(t),f=(0,l.e7)([ve.Z],(function(){return null!=t?ve.Z.getRequest(t):null})),d=(null==f?void 0:f.applicationStatus)===me.wB.SUBMITTED,p=null==e?void 0:e.subscription_plans[0],h=null==p?void 0:p.id,y=!0===(null==e?void 0:e.published),b=null==p?void 0:p.sku_id,m=(0,l.e7)([Ce.Z],(function(){return null!=h?Ce.Z.get(h):null})),E=(0,C.Z)(n),S=E.activeSubscription,j=E.activeSubscriptionPlanFromStore,_=null==S||null!=j,I=(0,O._k)(n,{includeSoftDeleted:!0}).map((function(e){return e.subscription_plans[0].id})),w=(0,je.V)(S),P=null!=w,x=null!=(null==S?void 0:S.trialId),A=Ae(),T=A.loading,N=A.getTrialPurchaseEligibility,M=(0,g.oM)(t),Z=(0,O.oC)(null==e?void 0:e.id),L=(0,ye.Z)().analyticsLocations,D=(null==S?void 0:S.paymentGateway)===R.gg$.APPLE_PARTNER,k=!u&&null!=m&&_&&!d&&!P&&!x&&!D;d||u&&!s?a=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_REQUIRE_APPROVED_MEMBER:w===h?a=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION_TO_CURRENT_LISTING.format({
changeDate:null!=S?de()(S.currentPeriodEnd).format("MMM DD, YYYY"):""}):P?a=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_HAS_PENDING_MUTATION:x?a=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IN_TRIAL:D&&(a=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_CHANGE_TIER_DISABLED_IF_IAP);var U=(0,c.Z)(W.iP);o.useEffect((function(){y&&null!=b&&pe.Z.wait((function(){(0,he.GZ)(b)}))}),[y,b]);var B=o.useCallback(et((function(){var n,o,a,l;return tt(this,(function(u){switch(u.label){case 0:se()(null!=e,"No subscription listing");se()(null!=p,"No subscription plan");se()(y,"Cannot purchase this unpublished plan");return null!=(null==Z?void 0:Z.active_trial)&&M?[4,N(t,e.id,Z.active_trial.id)]:[3,2];case 1:!0===(null==(a=u.sent())?void 0:a.is_eligible)?n=null==Z||null===(l=Z.active_trial)||void 0===l?void 0:l.id:o=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_INELIGIBLE_TRIAL_DISCLAIMER;u.label=2;case 2:(0,Ee.Z)({activeSubscription:S,analyticsSubscriptionType:R.NYc.GUILD,trialId:n,
trialFooterMessageOverride:null!=(null==Z?void 0:Z.active_trial)?Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_RENEWAL_FOOTER.format({trialInterval:(0,v.iG)(Z.active_trial),days:1,contactLink:R.EYA.CONTACT,helpdeskArticle:Se.Z.getArticleURL(R.BhN.ROLE_SUBSCRIPTION_TRIAL)}):void 0,analyticsLocations:L,analyticsLocation:i,renderHeader:function(n,o,i){return(0,r.jsx)(Qe,{onClose:o,listing:e,step:i,guildId:t})},initialPlanId:p.id,skuId:p.sku_id,planGroup:I,renderPurchaseConfirmation:function(n,o){return U?(0,r.jsx)(Ue,{listing:e,onClose:o,guildId:t}):(0,r.jsx)(Je,{listing:e,onClose:o,guildId:t})},reviewWarningMessage:o});return[2]}}))})),[y,e,p,S,I,t,L,i,N,M,Z,U]),F=o.useCallback((function(){(0,be.hk)(t)}),[t]);return{openModal:s?F:B,canOpenModal:k,cannotOpenReason:a,isCheckingTrialEligibility:T}};var rt=n(508987),ot=n.n(rt);function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){at(e,t,n[t])}))}return e}function ut(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st=function(e){
var t=e.benefits,n=e.header,i=e.guildId,a=ct(o.useState(!1),2),l=a[0],c=a[1],s=l?t:t.slice(0,5),f=t.length>5,h=t.length-5,y=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION_WITH_ITEMS.format({numTruncated:h}),b=(0,p.Dt)();return 0===t.length?null:(0,r.jsxs)("div",{className:ot().benefitsSection,children:[(0,r.jsx)(u.Heading,{variant:"text-xs/bold",color:"header-secondary",className:ot().sectionHeader,id:b,children:n}),(0,r.jsx)(d.Z,{size:12}),(0,r.jsx)("ul",{className:ot().benefitsList,"aria-labelledby":b,children:s.map((function(e,t){return(0,r.jsx)("li",{children:(0,r.jsx)(B,{guildId:i,benefit:e},(0,v.ab)(e))},t)}))}),f&&(0,r.jsx)(pt,{isViewAll:l,onToggle:function(){return c((function(e){return!e}))},showMoreText:y})]})},ft=function(e){var t,n=e.guildId,o=e.listingId,i=function(e){return m.ZP.getEmojiURL({id:e.id,animated:e.animated,size:24})},a=(0,S.Z)(n),l=ct(E.XZ(o,n),1)[0],c=a.filter((function(e){return l.has(e.id)}));return 0===c.length?null:(0,r.jsxs)("div",{
className:ot().benefitsSection,children:[(0,r.jsx)(u.Heading,{variant:"text-xs/bold",color:"header-secondary",className:ot().sectionHeader,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EMOJI_SECTION_TITLE.format({count:c.length})}),(0,r.jsx)(d.Z,{size:12}),(0,r.jsx)("div",{className:ot().emojiList,children:c.map((function(e,n){return(0,r.jsx)(u.Tooltip,{text:e.name,"aria-label":!1,children:function(t){return(0,r.jsx)("img",ut(lt({},t),{className:ot().emojiListEmoji,src:i(e),width:24,height:24,alt:e.name}))}},null!==(t=e.id)&&void 0!==t?t:n)}))})]})},dt=function(e){var t=e.listingId,n=e.guildId,o=e.className,i=(0,j.Z)(n,t),l=ct(E.UE(t),1)[0],c=(0,_.Z)(l),s=ct(E.R7(t),1)[0],f=E.qs(t,n),p=ct(E.XZ(t,n),1)[0];return null==i&&0===c.length&&0===s.length&&0===p.size?null:(0,r.jsxs)("div",{className:a()(ot().subscriptionPerks,o),children:[null!=i&&(0,r.jsxs)(u.HeadingLevel,{component:(0,r.jsx)(u.Heading,{variant:"text-xs/bold",color:"header-secondary",className:ot().sectionHeader,
children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_MEMBER_PREVIEW}),children:[(0,r.jsx)(d.Z,{size:8}),(0,r.jsx)(w.Z,{role:f,guildId:n,className:ot().roleMessagePreview})]}),(0,r.jsx)(st,{header:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_EXCLUSIVE_CHANNELS_SECTION_TITLE,benefits:c,guildId:n}),(0,r.jsx)(st,{header:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_ADDITIONAL_BENEFITS_SECTION_TITLE,benefits:s,guildId:n}),(0,r.jsx)(ft,{guildId:n,listingId:t})]})},pt=function(e){var t,n=e.onToggle,o=e.isViewAll,i=e.showMoreText;t=o?(0,r.jsxs)(r.Fragment,{children:[Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_LESS_DESCRIPTION,(0,r.jsx)(y.Z,{className:ot().toggleTruncationButtonIcon})]}):(0,r.jsxs)(r.Fragment,{children:[i,(0,r.jsx)(h.Z,{className:ot().toggleTruncationButtonIcon})]});return(0,r.jsx)(u.Button,{look:u.Button.Looks.BLANK,size:u.Button.Sizes.NONE,className:ot().toggleTruncationButton,innerClassName:ot().toggleTruncationButtonInner,onClick:n,children:t})};const ht=function(e){
var t,n=e.listingId,i=e.guildId,p=e.groupListingId,h=e.analyticsLocation,y=(0,O.jO)(n),m=nt(y,i,p,h),S=m.openModal,j=m.canOpenModal,_=m.cannotOpenReason,w=m.isCheckingTrialEligibility,P=(0,l.e7)([f.Z],(function(){return f.Z.isSyncing})),x=(0,C.Z)(p),A=x.activeSubscription,T=x.activeSubscriptionListing,N=(null==T?void 0:T.id)===n,M=(null==A?void 0:A.status)===R.O0b.CANCELED,Z=ct(o.useState(!1),2),L=Z[0],D=Z[1],k=ct(o.useState(!1),2),U=k[0],B=k[1],F=o.useCallback((function(e){var t=!1;null!=e&&(t=e.scrollHeight-e.clientHeight>1);B(t)}),[]),G=ct(E._T(n),1)[0],H=ct(E.PK(n),1)[0],V=ct(E.TT(n),1)[0],z=ct(E.F2(n),1)[0],Y=function(e,t){var n=(0,O.oC)(t);return o.useMemo((function(){return null!=n&&(null==n.max_num_active_trial_users||n.max_num_active_trial_users>(null!==(e=n.num_active_trial_users)&&void 0!==e?e:0));var e}),[n])}(0,n),K=(0,g.oM)(i)&&null!=V&&null==A&&Y,q=(0,c.Z)(W.iP),X=ct(o.useState(!1),2),J=X[0],$=X[1],ee=J||!q,te=(0,l.e7)([s.Z],(function(){
return s.Z.isViewingSubscriptionRoles(i)})),ne=!0===(null==y?void 0:y.published),oe=!0===(null==y?void 0:y.soft_deleted),ie=Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_SHOW_MORE_DESCRIPTION;return!ne&&!te||oe?null:(0,r.jsxs)("article",{className:ot().container,"aria-label":G,children:[K&&(0,r.jsxs)("div",{className:a()(ot().tierTrialIndicator,ot().tierTopIndicator),children:[Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_PERIOD.format({trialPeriodDuration:(0,v.iG)({interval:V.interval,interval_count:V.interval_count})}),(0,r.jsx)(u.Tooltip,{clickableOnMobile:!0,text:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TRIAL_DISCLAIMER.format({activeTrialUserLimit:null!=z?z:0}),children:function(e){return(0,r.jsx)(b.Z,lt({className:ot().tierTrialIndicatorIcon},e))}})]}),(0,r.jsxs)("div",{className:K?void 0:ot().cardContainerWithoutTopIndicator,children:[(0,r.jsxs)("div",{className:ot().tierInfoContainer,children:[q?(0,r.jsx)(ue,{listingId:n,isListingPublished:ne,expanded:ee,onToggleExpanded:function(){
return $((function(e){return!e}))}}):(0,r.jsx)(re,{listingId:n,isListingPublished:ne}),ee&&(0,r.jsxs)(r.Fragment,{children:[q&&(0,r.jsx)("div",{className:ot().divider}),N?(0,r.jsx)(u.Button,{fullWidth:!0,look:u.Button.Looks.OUTLINED,color:u.Button.Colors.PRIMARY,disabled:!0,children:M?Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_CANCELED_LABEL:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBED_LABEL}):(0,r.jsx)(u.Tooltip,{text:j?null:_,"aria-label":null!==(t=j&&_)&&void 0!==t&&t,children:function(e){return(0,r.jsx)(I.Z,ut(lt({},e),{fullWidth:!0,disabled:!j||P,submitting:w,onClick:S,children:Q.Z.Messages.GUILD_ROLE_SUBSCRIPTION_TIER_REVIEW_SUBSCRIBE_LABEL}))}}),(0,r.jsx)(d.Z,{size:16}),(0,r.jsx)(u.Text,{variant:"text-sm/normal",color:"text-normal",className:a()((!U||!L)&&ot().tierDescriptionTruncate),children:(0,r.jsx)("div",{ref:F,children:H})}),U&&(0,r.jsx)(pt,{isViewAll:L,onToggle:function(){return D((function(e){return!e}))},showMoreText:ie})]})]}),ee&&(0,
r.jsx)(u.HeadingLevel,{children:(0,r.jsx)(dt,{listingId:n,guildId:i})})]})]})}},877116:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(736818),o=n(682776),i=n(602397),a=n(563135),l=n(269300),u=n(79522);function c(e){if(!e.isGuildVoice())return!1;if(l.ZP.getGuildScheduledEventsByIndex(l.bN.CHANNEL_EVENT_ACTIVE(e.id)).length<1)return!1;if(!o.Z.can(u.AN,e))return!1;var t=new Set(i.ZP.getVoiceStatesForChannel(e).map((function(e){return e.user.id}))),n=r.default.getId(),c=!0,s=!1,f=void 0;try{for(var d,p=t[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value;if(h!==n&&a.ZP.can({permission:u.AN,user:h,context:e}))return!1}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}return!0}},678545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(667294),o=n(202351),i=n(700183),a=n(5544),l=n(567403),u=n(682776),c=n(2590);const s=function(e,t){var n=(0,o.e7)([l.Z],(function(){return l.Z.getGuild(e)}),[e]),s=(0,
i.q5)(n),f=s.canCreateGuildEvent,d=s.canManageAllEvents,p=(0,o.e7)([a.ZP],(function(){return a.ZP.getChannels(e)[a.Zb]}),[e]),h=r.useMemo((function(){return null!=t?p.filter((function(e){return e.channel.type===t})):p}),[p,t]),y=(0,o.e7)([u.Z],(function(){if(u.Z.can(c.Plq.ADMINISTRATOR,n))return!0;if(f||d)return!0;var e=!0,t=!1,r=void 0;try{for(var o,a=h[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var l=o.value.channel,s=(0,i.h4)(l),p=s.canCreateGuildEvent,y=s.canManageAllEvents;if(p||y)return!0}}catch(e){t=!0;r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}return!1}),[h,n,f,d]);return y}},201441:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>v,qY:()=>g,gM:()=>O,k5:()=>E,u1:()=>C,eF:()=>S,sz:()=>j});var r=n(667294),o=n(202351),i=n(826945),a=n(61209),l=n(5544),u=n(567403),c=n(682776),s=n(72580),f=n(269300),d=n(371188),p=n(3155),h=n(2590);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=[];function v(e,t){return(0,o.Wu)([u.Z,i.Z,f.ZP,c.Z,a.Z,l.ZP],(function(){var n=u.Z.getGuild(e);if(null==n)return m
;if(n.hasFeature(h.oNc.HUB)){var r,o,d=null===(r=l.ZP.getDefaultChannel(n.id))||void 0===r?void 0:r.id;return(null!==(o=i.Z.getEventDirectoryEntries(d))&&void 0!==o?o:[]).map((function(e){var t=e.scheduledEventId,n=f.ZP.getGuildScheduledEvent(t);return null!=n?n:i.Z.getCachedGuildScheduledEventById(t)})).filter(s.lm)}return f.ZP.getGuildScheduledEventsByIndex(null!=t?t:f.bN.GUILD_EVENT_UPCOMING(n.id)).filter((function(e){var t=e.channel_id;if(null==t)return!0;var n=a.Z.getChannel(t);return c.Z.can(h.Plq.VIEW_CHANNEL,n)}))}),[e])}function g(e){return(0,o.e7)([f.ZP,a.Z,c.Z],(function(){var t=a.Z.getChannel(e);if(!c.Z.can(h.Plq.VIEW_CHANNEL,t))return null;if(null==(null==t?void 0:t.guild_id))return null;var n=f.ZP.getGuildScheduledEventsByIndex(f.bN.CHANNEL_EVENT_ACTIVE(e));return n.length>0?n[0]:null}),[e])}function O(e){var t=(0,o.Wu)([f.ZP],(function(){return f.ZP.getGuildScheduledEventsForGuild(e)}),[e]);return r.useMemo((function(){var e=new Map;t.forEach((function(t){
var n=t.channel_id;null!=n&&e.set(n,t)}));return e}),[t])}function E(e){return(0,o.e7)([f.ZP,a.Z,c.Z],(function(){return f.ZP.getGuildScheduledEventsByIndex(f.bN.GUILD_EVENT_ACTIVE(e)).find((function(e){if(e.entity_type===p.WX.NONE||!(0,f.xt)(e))return!1;if(null==e.channel_id)return!0;var t=a.Z.getChannel(e.channel_id);return c.Z.can(h.Plq.VIEW_CHANNEL,t)}))}),[e])}function C(e){return(0,o.e7)([f.ZP],(function(){return f.ZP.getGuildScheduledEventsByIndex(f.bN.CHANNEL_EVENT_UPCOMING(e))}),[e])}function S(e){return(0,o.e7)([a.Z,f.ZP],(function(){var t=f.ZP.getGuildScheduledEventsByIndex(f.bN.GUILD_EVENT_ACTIVE(e)).find((function(e){return null!=a.Z.getChannel(e.channel_id)}));return a.Z.getChannel(null==t?void 0:t.channel_id)}),[e])}function j(e){var t=b(r.useState((function(){return Date.now()})),2),n=t[0],i=t[1];r.useEffect((function(){var e=setInterval((function(){i(Date.now())}),9e5);return function(){return clearInterval(e)}}),[]);var a=(0,o.e7)([f.ZP],(function(){
return f.ZP.getGuildScheduledEventsByIndex(f.bN.CHANNEL_EVENT_UPCOMING(e))}),[e,n]);return r.useMemo((function(){return a.filter((function(e){return e.status!==p.p1.ACTIVE&&(0,d.ub)(e.scheduled_start_time,e.scheduled_end_time).withinStartWindow}))}),[a])}},197307:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=(0,n(38736).Z)((function(e){return{canCloseModal:!0,onUpdateCanCloseModal:function(t){e({canCloseModal:t})}}}))},194026:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(136317),u=n(473708),c=n(782777),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){var t=e.className,n=e.iconContainerClassName,o=e.icon,c=e.color,d=e.title,p=e.description,h=e.userCount,y=e.onClick,b=e.highlight;return(0,r.jsxs)(a.Clickable,{className:i()(s().container,t,null!=b&&f({},s().pulse,b)),onClick:y,children:[(0,r.jsx)("div",{style:{backgroundColor:c},
className:i()(s().icon,n),children:o}),(0,r.jsxs)("div",{className:s().textContainer,children:[(0,r.jsx)(a.Heading,{variant:"heading-md/semibold",children:d}),(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:s().inline,children:p}),null!=h&&h>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:s().dot,children:"•"}),(0,r.jsx)(a.Text,{variant:"text-xs/normal",color:"header-secondary",className:s().inline,children:u.Z.Messages.GUILD_EVENT_INTERESTED.format({count:h})})]}):null]}),(0,r.jsx)(l.Z,{height:16,width:16,className:s().caret})]})}},311569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=(n(667294),n(202351)),i=n(336194),a=n(945460),l=n(700183),u=n(61209),c=n(570202),s=n(382840),f=n(201441),d=n(371188),p=n(194026),h=n(473708),y=n(769539),b=n.n(y);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){
return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function C(e){var t=e.channelId,y=function(e){j(e)?(0,a.openModalLazy)(v((function(){var t,o;return E(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(40706),n.e(74544)]).then(n.bind(n,874544))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},t),{event:e}))}]}}))}))):(0,s.bO)({eventId:e.id,parentGuildId:e.guild_id})},m=(0,o.e7)([u.Z],(function(){return u.Z.getChannel(t)}),[t]),C=(0,f.sz)(t),S=null!=(0,f.qY)(t),j=(0,l.q5)(m).canManageGuildEvent;return C.length<1||S?null:(0,r.jsx)(r.Fragment,{children:C.map((function(e){return(0,r.jsx)(p.Z,{icon:(0,r.jsx)(c.Z,{height:20,width:20}),color:i.Z.unsafe_rawColors.GREEN_360.css,title:(j(e)?h.Z.Messages.GUILD_EVENT_START_PROMPT:h.Z.Messages.GUILD_EVENT_UPCOMING_PROMPT).format({eventName:e.name}),
description:h.Z.Messages.GUILD_EVENT_START_PROMPT_DESCRIPTION.format({startTime:(0,d.ub)(e.scheduled_start_time).startDateTimeString}),onClick:function(){return y(e)},userCount:e.user_count,className:b().eventPrompt},e.id)}))})}},360703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(945460),o=n(26468),i=n(197307),a=n(2590),l="guild-event-modal";const u=function(){var e=(0,o.bp)()===a.IlC.POPOUT?r.POPOUT_MODAL_CONTEXT:r.DEFAULT_MODAL_CONTEXT;return{modalKey:l,contextKey:e,onCloseRequest:function(){i.l.getState().canCloseModal&&(0,r.closeModal)(l,e)}}}},572475:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,pO:()=>f});var r=n(667294),o=n(202351),i=n(74535),a=n(61209),l=n(362660);const u={"😀":"#E67E22","😃":"#E67E22","😄":"#E67E22","😁":"#E67E22","😆":"#E67E22","😅":"#E67E22","🤣":"#F1C40F","😂":"#E67E22","🙂":"#F1C40F","🙃":"#F1C40F","🫠":"#F1C40F","😉":"#F1C40F","😊":"#F1C40F","😇":"#3498DB","🥰":"#F1C40F","😍":"#E67E22","🤩":"#E67E22","😘":"#F1C40F","😗":"#F1C40F","☺️":"#607D8B",
"😚":"#F1C40F","😙":"#F1C40F","🥲":"#F1C40F","😋":"#F1C40F","😛":"#F1C40F","😜":"#F1C40F","🤪":"#E67E22","😝":"#F1C40F","🤑":"#F1C40F","🤗":"#E67E22","🤭":"#F1C40F","🫢":"#F1C40F","🫣":"#F1C40F","🤫":"#F1C40F","🤔":"#F1C40F","🫡":"#F1C40F","🤐":"#F1C40F","🤨":"#F1C40F","😐":"#F1C40F","😑":"#F1C40F","😶":"#F1C40F","🫥":"#F1C40F","😶‍🌫️":"#9B59B6","😏":"#F1C40F","😒":"#F1C40F","🙄":"#E67E22","😬":"#9B59B6","😮‍💨":"#F1C40F","🤥":"#F1C40F","😌":"#F1C40F","😔":"#F1C40F","😪":"#F1C40F","🤤":"#F1C40F","😴":"#F1C40F","😷":"#9B59B6","🤒":"#E67E22","🤕":"#9B59B6","🤢":"#E67E22","🤮":"#11806A","🤧":"#9B59B6","🥵":"#E67E22","🥶":"#3498DB","🥴":"#F1C40F","😵":"#F1C40F","😵‍💫":"#F1C40F","🤯":"#E67E22","🤠":"#E67E22","🥳":"#F1C40F","🥸":"#E67E22","😎":"#11806A","🤓":"#E67E22","🧐":"#F1C40F","😕":"#F1C40F","🫤":"#F1C40F","😟":"#F1C40F","🙁":"#F1C40F","☹️":"#F1C40F","😮":"#F1C40F","😯":"#F1C40F","😲":"#F1C40F","😳":"#E67E22","🥺":"#F1C40F","🥹":"#F1C40F","😦":"#F1C40F","😧":"#F1C40F","😨":"#5865F2",
"😰":"#E67E22","😥":"#F1C40F","😢":"#F1C40F","😭":"#F1C40F","😱":"#9B59B6","😖":"#F1C40F","😣":"#F1C40F","😞":"#F1C40F","😓":"#F1C40F","😩":"#F1C40F","😫":"#F1C40F","🥱":"#F1C40F","😤":"#F1C40F","😡":"#E67E22","😠":"#F1C40F","🤬":"#992D22","😈":"#9B59B6","👿":"#9B59B6","💀":"#9B59B6","☠️":"#9B59B6","💩":"#992D22","🤡":"#9B59B6","👹":"#E74C3C","👺":"#E74C3C","👻":"#9B59B6","👽":"#9B59B6","👾":"#9B59B6","🤖":"#607D8B","😺":"#E67E22","😸":"#E67E22","😹":"#E67E22","😻":"#E67E22","😼":"#E67E22","😽":"#E67E22","🙀":"#E67E22","😿":"#E67E22","😾":"#E67E22","🙈":"#E67E22","🙉":"#E67E22","🙊":"#E67E22","💋":"#992D22","💌":"#9B59B6","💘":"#3498DB","💝":"#E91E63","💖":"#E91E63","💗":"#E91E63","💓":"#E91E63","💞":"#E91E63","💕":"#E91E63","💟":"#9B59B6","❣️":"#E74C3C","💔":"#E74C3C","❤️‍🔥":"#E74C3C","❤️‍🩹":"#9B59B6","❤️":"#E74C3C","🧡":"#E67E22","💛":"#F1C40F","💚":"#11806A","💙":"#3498DB","💜":"#9B59B6","🤎":"#992D22","🖤":"#607D8B","🤍":"#9B59B6","💯":"#992D22","💢":"#E74C3C","💥":"#E74C3C",
"💫":"#F1C40F","💦":"#9B59B6","💨":"#9B59B6","🕳️":"#9B59B6","💣":"#11806A","💬":"#9B59B6","👁️‍🗨️":"#11806A","🗨️":"#206694","🗯️":"#9B59B6","💭":"#9B59B6","💤":"#206694","👋":"#F1C40F","🤚":"#F1C40F","🖐️":"#F1C40F","✋":"#F1C40F","🖖":"#F1C40F","🫱":"#F1C40F","🫲":"#F1C40F","🫳":"#F1C40F","🫴":"#F1C40F","👌":"#F1C40F","🤌":"#F1C40F","🤏":"#E67E22","✌️":"#F1C40F","🤞":"#F1C40F","🫰":"#F1C40F","🤟":"#F1C40F","🤘":"#F1C40F","🤙":"#F1C40F","👈":"#F1C40F","👉":"#F1C40F","👆":"#F1C40F","🖕":"#F1C40F","👇":"#E67E22","☝️":"#F1C40F","🫵":"#F1C40F","👍":"#F1C40F","👎":"#F1C40F","✊":"#F1C40F","👊":"#E67E22","🤛":"#F1C40F","🤜":"#E67E22","👏":"#F1C40F","🙌":"#F1C40F","🫶":"#E67E22","👐":"#F1C40F","🤲":"#F1C40F","🤝":"#F1C40F","🙏":"#F1C40F","✍️":"#607D8B","💅":"#F1C40F","🤳":"#9B59B6","💪":"#F1C40F","🦾":"#11806A","🦿":"#9B59B6","🦵":"#E67E22","🦶":"#F1C40F","👂":"#F1C40F","🦻":"#F1C40F","👃":"#F1C40F","🧠":"#9B59B6","🫀":"#E74C3C","🫁":"#E74C3C","🦷":"#9B59B6","🦴":"#9B59B6","👀":"#9B59B6",
"👁️":"#9B59B6","👅":"#9B59B6","👄":"#E74C3C","🫦":"#E74C3C","👶":"#F1C40F","🧒":"#F1C40F","👦":"#F1C40F","👧":"#F1C40F","🧑":"#F1C40F","👱":"#F1C40F","👨":"#F1C40F","🧔":"#F1C40F","🧔‍♂️":"#F1C40F","🧔‍♀️":"#E67E22","👨‍🦰":"#F1C40F","👨‍🦱":"#F1C40F","👨‍🦳":"#F1C40F","👨‍🦲":"#F1C40F","👩":"#F1C40F","👩‍🦰":"#E67E22","🧑‍🦰":"#F1C40F","👩‍🦱":"#F1C40F","🧑‍🦱":"#F1C40F","👩‍🦳":"#F1C40F","🧑‍🦳":"#F1C40F","👩‍🦲":"#F1C40F","🧑‍🦲":"#F1C40F","👱‍♀️":"#F1C40F","👱‍♂️":"#F1C40F","🧓":"#F1C40F","👴":"#F1C40F","👵":"#F1C40F","🙍":"#F1C40F","🙍‍♂️":"#206694","🙍‍♀️":"#F1C40F","🙎":"#F1C40F","🙎‍♂️":"#F1C40F","🙎‍♀️":"#E67E22","🙅":"#9B59B6","🙅‍♂️":"#3498DB","🙅‍♀️":"#992D22","🙆":"#9B59B6","🙆‍♂️":"#206694","🙆‍♀️":"#992D22","💁":"#F1C40F","💁‍♂️":"#F1C40F","💁‍♀️":"#F1C40F","🙋":"#F1C40F","🙋‍♂️":"#F1C40F","🙋‍♀️":"#9B59B6","🧏":"#F1C40F","🧏‍♂️":"#206694","🧏‍♀️":"#E67E22","🙇":"#F1C40F","🙇‍♂️":"#206694","🙇‍♀️":"#992D22","🤦":"#9B59B6","🤦‍♂️":"#206694","🤦‍♀️":"#992D22",
"🤷":"#E67E22","🤷‍♂️":"#F1C40F","🤷‍♀️":"#992D22","🧑‍⚕️":"#9B59B6","👨‍⚕️":"#F1C40F","👩‍⚕️":"#9B59B6","🧑‍🎓":"#F1C40F","👨‍🎓":"#F1C40F","👩‍🎓":"#E67E22","🧑‍🏫":"#E67E22","👨‍🏫":"#E67E22","👩‍🏫":"#E67E22","🧑‍⚖️":"#F1C40F","👨‍⚖️":"#F1C40F","👩‍⚖️":"#E67E22","🧑‍🌾":"#992D22","👨‍🌾":"#E67E22","👩‍🌾":"#992D22","🧑‍🍳":"#E67E22","👨‍🍳":"#E67E22","👩‍🍳":"#E67E22","🧑‍🔧":"#5865F2","👨‍🔧":"#206694","👩‍🔧":"#5865F2","🧑‍🏭":"#F1C40F","👨‍🏭":"#F1C40F","👩‍🏭":"#F1C40F","🧑‍💼":"#F1C40F","👨‍💼":"#F1C40F","👩‍💼":"#F1C40F","🧑‍🔬":"#9B59B6","👨‍🔬":"#9B59B6","👩‍🔬":"#9B59B6","🧑‍💻":"#9B59B6","👨‍💻":"#9B59B6","👩‍💻":"#9B59B6","🧑‍🎤":"#1ABC9C","👨‍🎤":"#206694","👩‍🎤":"#9B59B6","🧑‍🎨":"#E67E22","👨‍🎨":"#E67E22","👩‍🎨":"#E67E22","🧑‍✈️":"#992D22","👨‍✈️":"#F1C40F","👩‍✈️":"#992D22","🧑‍🚀":"#9B59B6","👨‍🚀":"#9B59B6","👩‍🚀":"#9B59B6","🧑‍🚒":"#992D22","👨‍🚒":"#992D22","👩‍🚒":"#992D22","👮":"#F1C40F","👮‍♂️":"#F1C40F","👮‍♀️":"#F1C40F","🕵️":"#992D22",
"🕵️‍♂️":"#992D22","🕵️‍♀️":"#992D22","💂":"#E67E22","💂‍♂️":"#E67E22","💂‍♀️":"#E67E22","🥷":"#11806A","👷":"#F1C40F","👷‍♂️":"#F1C40F","👷‍♀️":"#F1C40F","🫅":"#E67E22","🤴":"#F1C40F","👸":"#F1C40F","👳":"#F1C40F","👳‍♂️":"#9B59B6","👳‍♀️":"#F1C40F","👲":"#992D22","🧕":"#206694","🤵":"#F1C40F","🤵‍♂️":"#992D22","🤵‍♀️":"#E67E22","👰":"#F1C40F","👰‍♂️":"#F1C40F","👰‍♀️":"#F1C40F","🤰":"#9B59B6","🫃":"#E67E22","🫄":"#9B59B6","🤱":"#992D22","👩‍🍼":"#992D22","👨‍🍼":"#E67E22","🧑‍🍼":"#E67E22","👼":"#F1C40F","🎅":"#9B59B6","🤶":"#9B59B6","🧑‍🎄":"#E67E22","🦸":"#E67E22","🦸‍♂️":"#E67E22","🦸‍♀️":"#E67E22","🦹":"#F1C40F","🦹‍♂️":"#F1C40F","🦹‍♀️":"#E67E22","🧙":"#992D22","🧙‍♂️":"#992D22","🧙‍♀️":"#992D22","🧚":"#E67E22","🧚‍♂️":"#E67E22","🧚‍♀️":"#3498DB","🧛":"#F1C40F","🧛‍♂️":"#607D8B","🧛‍♀️":"#E67E22","🧜":"#206694","🧜‍♂️":"#E67E22","🧜‍♀️":"#9B59B6","🧝":"#11806A","🧝‍♂️":"#F1C40F","🧝‍♀️":"#9B59B6","🧞":"#206694","🧞‍♂️":"#3498DB","🧞‍♀️":"#9B59B6","🧟":"#11806A",
"🧟‍♂️":"#11806A","🧟‍♀️":"#11806A","🧌":"#992D22","💆":"#F1C40F","💆‍♂️":"#F1C40F","💆‍♀️":"#F1C40F","💇":"#F1C40F","💇‍♂️":"#F1C40F","💇‍♀️":"#F1C40F","🚶":"#206694","🚶‍♂️":"#206694","🚶‍♀️":"#206694","🧍":"#9B59B6","🧍‍♂️":"#992D22","🧍‍♀️":"#F1C40F","🧎":"#E67E22","🧎‍♂️":"#F1C40F","🧎‍♀️":"#E67E22","🧑‍🦯":"#206694","👨‍🦯":"#206694","👩‍🦯":"#206694","🧑‍🦼":"#11806A","👨‍🦼":"#992D22","👩‍🦼":"#992D22","🧑‍🦽":"#11806A","👨‍🦽":"#11806A","👩‍🦽":"#206694","🏃":"#F1C40F","🏃‍♂️":"#206694","🏃‍♀️":"#3498DB","💃":"#F1C40F","🕺":"#992D22","🕴️":"#607D8B","👯":"#E67E22","👯‍♂️":"#992D22","👯‍♀️":"#E67E22","🧖":"#9B59B6","🧖‍♂️":"#9B59B6","🧖‍♀️":"#F1C40F","🧗":"#9B59B6","🧗‍♂️":"#9B59B6","🧗‍♀️":"#9B59B6","🤺":"#9B59B6","🏇":"#992D22","⛷️":"#992D22","🏂":"#206694","🏌️":"#9B59B6","🏌️‍♂️":"#607D8B","🏌️‍♀️":"#E67E22","🏄":"#E67E22","🏄‍♂️":"#F1C40F","🏄‍♀️":"#9B59B6","🚣":"#E74C3C","🚣‍♂️":"#E74C3C","🚣‍♀️":"#E74C3C","🏊":"#9B59B6","🏊‍♂️":"#9B59B6","🏊‍♀️":"#9B59B6","⛹️":"#E67E22",
"⛹️‍♂️":"#206694","⛹️‍♀️":"#E67E22","🏋️":"#E67E22","🏋️‍♂️":"#E67E22","🏋️‍♀️":"#992D22","🚴":"#11806A","🚴‍♂️":"#11806A","🚴‍♀️":"#992D22","🚵":"#9B59B6","🚵‍♂️":"#9B59B6","🚵‍♀️":"#992D22","🤸":"#F1C40F","🤸‍♂️":"#206694","🤸‍♀️":"#F1C40F","🤼":"#E67E22","🤼‍♂️":"#E67E22","🤼‍♀️":"#E67E22","🤽":"#E67E22","🤽‍♂️":"#E67E22","🤽‍♀️":"#E67E22","🤾":"#9B59B6","🤾‍♂️":"#E67E22","🤾‍♀️":"#E67E22","🤹":"#E67E22","🤹‍♂️":"#F1C40F","🤹‍♀️":"#E67E22","🧘":"#F1C40F","🧘‍♂️":"#E67E22","🧘‍♀️":"#F1C40F","🛀":"#9B59B6","🛌":"#9B59B6","🧑‍🤝‍🧑":"#9B59B6","👭":"#F1C40F","👫":"#F1C40F","👬":"#E67E22","💏":"#9B59B6","👩‍❤️‍💋‍👨":"#9B59B6","👨‍❤️‍💋‍👨":"#9B59B6","👩‍❤️‍💋‍👩":"#9B59B6","💑":"#9B59B6","👩‍❤️‍👨":"#9B59B6","👨‍❤️‍👨":"#9B59B6","👩‍❤️‍👩":"#9B59B6","👪":"#F1C40F","👨‍👩‍👦":"#206694","👨‍👩‍👧":"#F1C40F","👨‍👩‍👧‍👦":"#F1C40F","👨‍👩‍👦‍👦":"#F1C40F","👨‍👩‍👧‍👧":"#F1C40F","👨‍👨‍👦":"#206694","👨‍👨‍👧":"#F1C40F","👨‍👨‍👧‍👦":"#206694","👨‍👨‍👦‍👦":"#206694",
"👨‍👨‍👧‍👧":"#F1C40F","👩‍👩‍👦":"#E67E22","👩‍👩‍👧":"#E67E22","👩‍👩‍👧‍👦":"#E67E22","👩‍👩‍👦‍👦":"#F1C40F","👩‍👩‍👧‍👧":"#E67E22","👨‍👦":"#F1C40F","👨‍👦‍👦":"#206694","👨‍👧":"#206694","👨‍👧‍👦":"#F1C40F","👨‍👧‍👧":"#F1C40F","👩‍👦":"#F1C40F","👩‍👦‍👦":"#F1C40F","👩‍👧":"#F1C40F","👩‍👧‍👦":"#F1C40F","👩‍👧‍👧":"#F1C40F","🗣️":"#607D8B","👤":"#607D8B","👥":"#607D8B","🫂":"#607D8B","👣":"#11806A","🐵":"#E67E22","🐒":"#E67E22","🦍":"#206694","🦧":"#992D22","🐶":"#9B59B6","🐕":"#E67E22","🦮":"#E67E22","🐕‍🦺":"#992D22","🐩":"#9B59B6","🐺":"#9B59B6","🦊":"#E67E22","🦝":"#992D22","🐱":"#F1C40F","🐈":"#9B59B6","🐈‍⬛":"#11806A","🦁":"#E67E22","🐯":"#F1C40F","🐅":"#992D22","🐆":"#E67E22","🐴":"#992D22","🐎":"#992D22","🦄":"#9B59B6","🦓":"#206694","🦌":"#E67E22","🦬":"#992D22","🐮":"#9B59B6","🐂":"#E74C3C","🐃":"#992D22","🐄":"#9B59B6","🐷":"#9B59B6","🐖":"#9B59B6","🐗":"#992D22","🐽":"#9B59B6","🐏":"#9B59B6","🐑":"#9B59B6","🐐":"#9B59B6","🐪":"#E67E22","🐫":"#E67E22",
"🦙":"#9B59B6","🦒":"#E67E22","🐘":"#9B59B6","🦣":"#992D22","🦏":"#9B59B6","🦛":"#9B59B6","🐭":"#9B59B6","🐁":"#9B59B6","🐀":"#9B59B6","🐹":"#9B59B6","🐰":"#9B59B6","🐇":"#9B59B6","🐿️":"#992D22","🦫":"#992D22","🦔":"#992D22","🦇":"#992D22","🐻":"#992D22","🐻‍❄️":"#9B59B6","🐨":"#9B59B6","🐼":"#11806A","🦥":"#992D22","🦦":"#992D22","🦨":"#9B59B6","🦘":"#E67E22","🦡":"#9B59B6","🐾":"#11806A","🦃":"#992D22","🐔":"#E74C3C","🐓":"#9B59B6","🐣":"#F1C40F","🐤":"#F1C40F","🐥":"#F1C40F","🐦":"#9B59B6","🐧":"#E67E22","🕊️":"#9B59B6","🦅":"#992D22","🦆":"#9B59B6","🦢":"#9B59B6","🦉":"#992D22","🦤":"#E67E22","🪶":"#992D22","🦩":"#E74C3C","🦚":"#11806A","🦜":"#11806A","🐸":"#11806A","🐊":"#11806A","🐢":"#11806A","🦎":"#11806A","🐍":"#992D22","🐲":"#F1C40F","🐉":"#992D22","🦕":"#206694","🦖":"#11806A","🐳":"#3498DB","🐋":"#9B59B6","🐬":"#3498DB","🦭":"#9B59B6","🐟":"#3498DB","🐠":"#F1C40F","🐡":"#E67E22","🦈":"#9B59B6","🐙":"#992D22","🐚":"#9B59B6","🪸":"#E74C3C","🐌":"#E67E22","🦋":"#11806A",
"🐛":"#992D22","🐜":"#992D22","🐝":"#607D8B","🪲":"#11806A","🐞":"#992D22","🦗":"#992D22","🪳":"#992D22","🕷️":"#11806A","🕸️":"#9B59B6","🦂":"#992D22","🦟":"#992D22","🪰":"#E67E22","🪱":"#E74C3C","🦠":"#11806A","💐":"#F1C40F","🌸":"#9B59B6","💮":"#9B59B6","🪷":"#9B59B6","🏵️":"#E67E22","🌹":"#992D22","🥀":"#9B59B6","🌺":"#E91E63","🌻":"#F1C40F","🌼":"#F1C40F","🌷":"#E74C3C","🌱":"#11806A","🪴":"#11806A","🌲":"#11806A","🌳":"#11806A","🌴":"#11806A","🌵":"#11806A","🌾":"#E67E22","🌿":"#11806A","☘️":"#11806A","🍀":"#11806A","🍁":"#992D22","🍂":"#992D22","🍃":"#11806A","🪹":"#992D22","🪺":"#3498DB","🍇":"#992D22","🍈":"#9B59B6","🍉":"#E74C3C","🍊":"#E67E22","🍋":"#F1C40F","🍌":"#9B59B6","🍍":"#992D22","🥭":"#E67E22","🍎":"#E74C3C","🍏":"#11806A","🍐":"#E67E22","🍑":"#E74C3C","🍒":"#E74C3C","🍓":"#992D22","🫐":"#206694","🥝":"#F1C40F","🍅":"#E74C3C","🫒":"#992D22","🥥":"#9B59B6","🥑":"#F1C40F","🍆":"#992D22","🥔":"#992D22","🥕":"#E67E22","🌽":"#992D22","🌶️":"#E74C3C","🫑":"#11806A",
"🥒":"#F1C40F","🥬":"#11806A","🥦":"#11806A","🧄":"#9B59B6","🧅":"#E67E22","🍄":"#E74C3C","🥜":"#E67E22","🫘":"#992D22","🌰":"#992D22","🍞":"#E67E22","🥐":"#E67E22","🥖":"#F1C40F","🫓":"#9B59B6","🥨":"#E74C3C","🥯":"#E67E22","🥞":"#F1C40F","🧇":"#E67E22","🧀":"#F1C40F","🍖":"#992D22","🍗":"#992D22","🥩":"#992D22","🥓":"#E74C3C","🍔":"#E67E22","🍟":"#F1C40F","🍕":"#E67E22","🌭":"#E67E22","🥪":"#F1C40F","🌮":"#F1C40F","🌯":"#9B59B6","🫔":"#E67E22","🥙":"#E67E22","🧆":"#992D22","🥚":"#9B59B6","🍳":"#11806A","🥘":"#E67E22","🍲":"#9B59B6","🫕":"#992D22","🥣":"#3498DB","🥗":"#11806A","🍿":"#E74C3C","🧈":"#F1C40F","🧂":"#9B59B6","🥫":"#E74C3C","🍱":"#992D22","🍘":"#992D22","🍙":"#9B59B6","🍚":"#9B59B6","🍛":"#9B59B6","🍜":"#9B59B6","🍝":"#F1C40F","🍠":"#E74C3C","🍢":"#E67E22","🍣":"#E74C3C","🍤":"#E67E22","🍥":"#9B59B6","🥮":"#992D22","🍡":"#9B59B6","🥟":"#F1C40F","🥠":"#E67E22","🥡":"#9B59B6","🦀":"#E74C3C","🦞":"#992D22","🦐":"#E74C3C","🦑":"#E74C3C","🦪":"#9B59B6","🍦":"#E67E22",
"🍧":"#9B59B6","🍨":"#9B59B6","🍩":"#992D22","🍪":"#E67E22","🎂":"#9B59B6","🍰":"#9B59B6","🧁":"#E67E22","🥧":"#E67E22","🍫":"#E74C3C","🍬":"#9B59B6","🍭":"#9B59B6","🍮":"#9B59B6","🍯":"#F1C40F","🍼":"#9B59B6","🥛":"#9B59B6","☕":"#9B59B6","🫖":"#9B59B6","🍵":"#9B59B6","🍶":"#9B59B6","🍾":"#992D22","🍷":"#9B59B6","🍸":"#9B59B6","🍹":"#F1C40F","🍺":"#E67E22","🍻":"#E67E22","🥂":"#9B59B6","🥃":"#9B59B6","🫗":"#9B59B6","🥤":"#E74C3C","🧋":"#E67E22","🧃":"#9B59B6","🧉":"#992D22","🧊":"#3498DB","🥢":"#992D22","🍽️":"#9B59B6","🍴":"#9B59B6","🥄":"#607D8B","🔪":"#9B59B6","🫙":"#9B59B6","🏺":"#992D22","🌍":"#F1C40F","🌎":"#206694","🌏":"#F1C40F","🌐":"#3498DB","🗺️":"#3498DB","🗾":"#3498DB","🧭":"#9B59B6","🏔️":"#11806A","⛰️":"#11806A","🌋":"#11806A","🗻":"#9B59B6","🏕️":"#992D22","🏖️":"#E67E22","🏜️":"#992D22","🏝️":"#3498DB","🏞️":"#3498DB","🏟️":"#9B59B6","🏛️":"#9B59B6","🏗️":"#F1C40F","🧱":"#992D22","🪨":"#11806A","🪵":"#992D22","🛖":"#992D22","🏘️":"#9B59B6","🏚️":"#9B59B6",
"🏠":"#9B59B6","🏡":"#11806A","🏢":"#9B59B6","🏣":"#9B59B6","🏤":"#9B59B6","🏥":"#9B59B6","🏦":"#9B59B6","🏨":"#9B59B6","🏩":"#9B59B6","🏪":"#607D8B","🏫":"#9B59B6","🏬":"#607D8B","🏭":"#9B59B6","🏯":"#206694","🏰":"#9B59B6","💒":"#9B59B6","🗼":"#992D22","🗽":"#607D8B","⛪":"#9B59B6","🕌":"#E67E22","🛕":"#E67E22","🕍":"#E67E22","⛩️":"#992D22","🕋":"#992D22","⛲":"#9B59B6","⛺":"#E74C3C","🌁":"#9B59B6","🌃":"#206694","🏙️":"#206694","🌄":"#9B59B6","🌅":"#E67E22","🌆":"#E67E22","🌇":"#E67E22","🌉":"#206694","♨️":"#992D22","🎠":"#9B59B6","🛝":"#206694","🎡":"#992D22","🎢":"#E67E22","💈":"#9B59B6","🎪":"#9B59B6","🚂":"#992D22","🚃":"#607D8B","🚄":"#9B59B6","🚅":"#206694","🚆":"#607D8B","🚇":"#11806A","🚈":"#206694","🚉":"#206694","🚊":"#11806A","🚝":"#206694","🚞":"#9B59B6","🚋":"#11806A","🚌":"#3498DB","🚍":"#607D8B","🚎":"#206694","🚐":"#9B59B6","🚑":"#11806A","🚒":"#11806A","🚓":"#11806A","🚔":"#11806A","🚕":"#E67E22","🚖":"#992D22","🚗":"#9B59B6","🚘":"#E74C3C","🚙":"#3498DB",
"🛻":"#206694","🚚":"#E67E22","🚛":"#11806A","🚜":"#F1C40F","🏎️":"#E74C3C","🏍️":"#11806A","🛵":"#E67E22","🦽":"#11806A","🦼":"#992D22","🛺":"#F1C40F","🚲":"#11806A","🛴":"#607D8B","🛹":"#11806A","🛼":"#3498DB","🚏":"#9B59B6","🛣️":"#11806A","🛤️":"#992D22","🛢️":"#992D22","⛽":"#E74C3C","🛞":"#11806A","🚨":"#E74C3C","🚥":"#9B59B6","🚦":"#11806A","🛑":"#9B59B6","🚧":"#607D8B","⚓":"#206694","🛟":"#9B59B6","⛵":"#992D22","🛶":"#992D22","🚤":"#9B59B6","🛳️":"#9B59B6","⛴️":"#206694","🛥️":"#9B59B6","🚢":"#9B59B6","✈️":"#3498DB","🛩️":"#9B59B6","🛫":"#206694","🛬":"#206694","🪂":"#992D22","💺":"#607D8B","🚁":"#E74C3C","🚟":"#9B59B6","🚠":"#992D22","🚡":"#F1C40F","🛰️":"#206694","🚀":"#9B59B6","🛸":"#206694","🛎️":"#992D22","🧳":"#992D22","⌛":"#9B59B6","⏳":"#9B59B6","⌚":"#992D22","⏰":"#9B59B6","⏱️":"#9B59B6","⏲️":"#9B59B6","🕰️":"#9B59B6","🕛":"#9B59B6","🕧":"#9B59B6","🕐":"#9B59B6","🕜":"#9B59B6","🕑":"#9B59B6","🕝":"#9B59B6","🕒":"#9B59B6","🕞":"#9B59B6","🕓":"#9B59B6","🕟":"#9B59B6",
"🕔":"#9B59B6","🕠":"#9B59B6","🕕":"#9B59B6","🕡":"#9B59B6","🕖":"#9B59B6","🕢":"#9B59B6","🕗":"#9B59B6","🕣":"#9B59B6","🕘":"#9B59B6","🕤":"#9B59B6","🕙":"#9B59B6","🕥":"#9B59B6","🕚":"#9B59B6","🕦":"#9B59B6","🌑":"#11806A","🌒":"#11806A","🌓":"#11806A","🌔":"#11806A","🌕":"#F1C40F","🌖":"#11806A","🌗":"#11806A","🌘":"#11806A","🌙":"#F1C40F","🌚":"#206694","🌛":"#F1C40F","🌜":"#F1C40F","🌡️":"#9B59B6","☀️":"#F1C40F","🌝":"#F1C40F","🌞":"#F1C40F","🪐":"#E67E22","⭐":"#9B59B6","🌟":"#9B59B6","🌠":"#206694","🌌":"#9B59B6","☁️":"#9B59B6","⛅":"#9B59B6","⛈️":"#9B59B6","🌤️":"#9B59B6","🌥️":"#9B59B6","🌦️":"#F1C40F","🌧️":"#9B59B6","🌨️":"#9B59B6","🌩️":"#9B59B6","🌪️":"#607D8B","🌫️":"#9B59B6","🌬️":"#9B59B6","🌀":"#206694","🌈":"#1ABC9C","🌂":"#206694","☂️":"#9B59B6","☔":"#5865F2","⛱️":"#F1C40F","⚡":"#F1C40F","❄️":"#3498DB","☃️":"#9B59B6","⛄":"#9B59B6","☄️":"#E67E22","🔥":"#E67E22","💧":"#3498DB","🌊":"#9B59B6","🎃":"#E67E22","🎄":"#11806A","🎆":"#9B59B6","🎇":"#992D22","🧨":"#992D22",
"✨":"#F1C40F","🎈":"#E74C3C","🎉":"#E67E22","🎊":"#E67E22","🎋":"#E67E22","🎍":"#E67E22","🎎":"#206694","🎏":"#E67E22","🎐":"#9B59B6","🎑":"#11806A","🧧":"#E74C3C","🎀":"#9B59B6","🎁":"#E67E22","🎗️":"#F1C40F","🎟️":"#E74C3C","🎫":"#F1C40F","🎖️":"#F1C40F","🏆":"#E67E22","🏅":"#F1C40F","🥇":"#F1C40F","🥈":"#9B59B6","🥉":"#992D22","⚽":"#9B59B6","⚾":"#9B59B6","🥎":"#F1C40F","🏀":"#E67E22","🏐":"#9B59B6","🏈":"#E74C3C","🏉":"#E67E22","🎾":"#F1C40F","🥏":"#3498DB","🎳":"#9B59B6","🏏":"#F1C40F","🏑":"#9B59B6","🏒":"#E67E22","🥍":"#206694","🏓":"#E74C3C","🏸":"#E67E22","🥊":"#E74C3C","🥋":"#9B59B6","🥅":"#992D22","⛳":"#11806A","⛸️":"#9B59B6","🎣":"#607D8B","🤿":"#11806A","🎽":"#3498DB","🎿":"#3498DB","🛷":"#992D22","🥌":"#11806A","🎯":"#9B59B6","🪀":"#11806A","🪁":"#206694","🎱":"#11806A","🔮":"#9B59B6","🪄":"#9B59B6","🧿":"#206694","🪬":"#206694","🎮":"#11806A","🕹️":"#11806A","🎰":"#9B59B6","🎲":"#9B59B6","🧩":"#1ABC9C","🧸":"#E67E22","🪅":"#9B59B6","🪩":"#9B59B6","🪆":"#E67E22",
"♠️":"#607D8B","♥️":"#607D8B","♦️":"#607D8B","♣️":"#607D8B","♟️":"#607D8B","🃏":"#9B59B6","🀄":"#9B59B6","🎴":"#992D22","🎭":"#992D22","🖼️":"#F1C40F","🎨":"#E67E22","🧵":"#E67E22","🪡":"#206694","🧶":"#E67E22","🪢":"#206694","👓":"#9B59B6","🕶️":"#607D8B","🥽":"#9B59B6","🥼":"#9B59B6","🦺":"#E74C3C","👔":"#3498DB","👕":"#3498DB","👖":"#206694","🧣":"#992D22","🧤":"#1ABC9C","🧥":"#E67E22","🧦":"#9B59B6","👗":"#1ABC9C","👘":"#E67E22","🥻":"#E67E22","🩱":"#11806A","🩲":"#11806A","🩳":"#E67E22","👙":"#9B59B6","👚":"#9B59B6","👛":"#9B59B6","👜":"#E74C3C","👝":"#992D22","🛍️":"#9B59B6","🎒":"#E74C3C","🩴":"#3498DB","👞":"#992D22","👟":"#9B59B6","🥾":"#992D22","🥿":"#206694","👠":"#E74C3C","👡":"#9B59B6","🩰":"#9B59B6","👢":"#E67E22","👑":"#E67E22","👒":"#E67E22","🎩":"#11806A","🎓":"#992D22","🧢":"#3498DB","🪖":"#11806A","⛑️":"#992D22","📿":"#992D22","💄":"#E74C3C","💍":"#9B59B6","💎":"#3498DB","🔇":"#11806A","🔈":"#11806A","🔉":"#607D8B","🔊":"#11806A","📢":"#9B59B6","📣":"#992D22",
"📯":"#E74C3C","🔔":"#992D22","🔕":"#992D22","🎼":"#9B59B6","🎵":"#11806A","🎶":"#11806A","🎙️":"#11806A","🎚️":"#9B59B6","🎛️":"#9B59B6","🎤":"#9B59B6","🎧":"#9B59B6","📻":"#E67E22","🎷":"#E67E22","🪗":"#992D22","🎸":"#E74C3C","🎹":"#607D8B","🎺":"#E67E22","🎻":"#992D22","🪕":"#9B59B6","🥁":"#E74C3C","🪘":"#992D22","📱":"#607D8B","📲":"#607D8B","☎️":"#E74C3C","📞":"#11806A","📟":"#11806A","📠":"#9B59B6","🔋":"#11806A","🪫":"#9B59B6","🔌":"#11806A","💻":"#607D8B","🖥️":"#11806A","🖨️":"#607D8B","⌨️":"#9B59B6","🖱️":"#9B59B6","🖲️":"#11806A","💽":"#9B59B6","💾":"#11806A","💿":"#9B59B6","📀":"#9B59B6","🧮":"#992D22","🎥":"#11806A","🎞️":"#9B59B6","📽️":"#206694","🎬":"#11806A","📺":"#992D22","📷":"#11806A","📸":"#11806A","📹":"#607D8B","📼":"#11806A","🔍":"#11806A","🔎":"#11806A","🕯️":"#9B59B6","💡":"#9B59B6","🔦":"#607D8B","🏮":"#E74C3C","🪔":"#992D22","📔":"#F1C40F","📕":"#992D22","📖":"#206694","📗":"#E67E22","📘":"#206694","📙":"#E67E22","📚":"#11806A","📓":"#9B59B6","📒":"#F1C40F",
"📃":"#9B59B6","📜":"#9B59B6","📄":"#9B59B6","📰":"#9B59B6","🗞️":"#9B59B6","📑":"#9B59B6","🔖":"#9B59B6","🏷️":"#F1C40F","💰":"#E67E22","🪙":"#206694","💴":"#9B59B6","💵":"#9B59B6","💶":"#9B59B6","💷":"#9B59B6","💸":"#9B59B6","💳":"#9B59B6","🧾":"#9B59B6","💹":"#9B59B6","✉️":"#9B59B6","📧":"#9B59B6","📨":"#9B59B6","📩":"#9B59B6","📤":"#3498DB","📥":"#3498DB","📦":"#E67E22","📫":"#206694","📪":"#3498DB","📬":"#607D8B","📭":"#11806A","📮":"#E74C3C","🗳️":"#3498DB","✏️":"#E67E22","✒️":"#11806A","🖋️":"#11806A","🖊️":"#11806A","🖌️":"#206694","🖍️":"#E74C3C","📝":"#9B59B6","💼":"#992D22","📁":"#9B59B6","📂":"#9B59B6","🗂️":"#E67E22","📅":"#E74C3C","📆":"#9B59B6","🗒️":"#9B59B6","🗓️":"#9B59B6","📇":"#9B59B6","📈":"#9B59B6","📉":"#9B59B6","📊":"#9B59B6","📋":"#9B59B6","📌":"#E74C3C","📍":"#E74C3C","📎":"#9B59B6","🖇️":"#9B59B6","📏":"#9B59B6","📐":"#9B59B6","✂️":"#9B59B6","🗃️":"#11806A","🗄️":"#206694","🗑️":"#9B59B6","🔒":"#E67E22","🔓":"#E67E22","🔏":"#9B59B6","🔐":"#E67E22",
"🔑":"#F1C40F","🗝️":"#11806A","🔨":"#9B59B6","🪓":"#992D22","⛏️":"#9B59B6","⚒️":"#11806A","🛠️":"#11806A","🗡️":"#9B59B6","⚔️":"#11806A","🔫":"#1ABC9C","🪃":"#E74C3C","🏹":"#9B59B6","🛡️":"#9B59B6","🪚":"#9B59B6","🔧":"#206694","🪛":"#1ABC9C","🔩":"#9B59B6","⚙️":"#9B59B6","🗜️":"#607D8B","⚖️":"#607D8B","🦯":"#9B59B6","🔗":"#206694","⛓️":"#9B59B6","🪝":"#E67E22","🧰":"#E74C3C","🧲":"#E74C3C","🪜":"#992D22","⚗️":"#9B59B6","🧪":"#11806A","🧫":"#9B59B6","🧬":"#3498DB","🔬":"#9B59B6","🔭":"#9B59B6","📡":"#9B59B6","💉":"#9B59B6","🩸":"#E74C3C","💊":"#F1C40F","🩹":"#9B59B6","🩼":"#9B59B6","🩺":"#11806A","🩻":"#3498DB","🚪":"#992D22","🛗":"#3498DB","🪞":"#E67E22","🪟":"#992D22","🛏️":"#992D22","🛋️":"#3498DB","🪑":"#E74C3C","🚽":"#9B59B6","🪠":"#E74C3C","🚿":"#9B59B6","🛁":"#9B59B6","🪤":"#F1C40F","🪒":"#9B59B6","🧴":"#9B59B6","🧷":"#9B59B6","🧹":"#992D22","🧺":"#992D22","🧻":"#9B59B6","🪣":"#206694","🧼":"#1ABC9C","🫧":"#9B59B6","🪥":"#9B59B6","🧽":"#F1C40F","🧯":"#E74C3C","🛒":"#9B59B6",
"🚬":"#9B59B6","⚰️":"#992D22","🪦":"#9B59B6","⚱️":"#E67E22","🗿":"#206694","🪧":"#9B59B6","🪪":"#9B59B6","🏧":"#3498DB","🚮":"#9B59B6","🚰":"#9B59B6","♿":"#9B59B6","🚹":"#3498DB","🚺":"#9B59B6","🚻":"#607D8B","🚼":"#E67E22","🚾":"#9B59B6","🛂":"#9B59B6","🛃":"#9B59B6","🛄":"#9B59B6","🛅":"#9B59B6","⚠️":"#F1C40F","🚸":"#F1C40F","⛔":"#9B59B6","🚫":"#E74C3C","🚳":"#11806A","🚭":"#E74C3C","🚯":"#E74C3C","🚱":"#E74C3C","🚷":"#E74C3C","📵":"#E74C3C","🔞":"#607D8B","☢️":"#E67E22","☣️":"#E67E22","⬆️":"#607D8B","↗️":"#607D8B","➡️":"#607D8B","↘️":"#607D8B","⬇️":"#607D8B","↙️":"#607D8B","⬅️":"#607D8B","↖️":"#607D8B","↕️":"#607D8B","↔️":"#607D8B","↩️":"#607D8B","↪️":"#607D8B","⤴️":"#607D8B","⤵️":"#607D8B","🔃":"#607D8B","🔄":"#607D8B","🔙":"#11806A","🔚":"#11806A","🔛":"#11806A","🔜":"#206694","🔝":"#11806A","🛐":"#9B59B6","⚛️":"#9B59B6","🕉️":"#9B59B6","✡️":"#9B59B6","☸️":"#9B59B6","☯️":"#9B59B6","✝️":"#9B59B6","☦️":"#9B59B6","☪️":"#9B59B6","☮️":"#9B59B6","🕎":"#9B59B6","🔯":"#9B59B6",
"♈":"#9B59B6","♉":"#9B59B6","♊":"#9B59B6","♋":"#9B59B6","♌":"#9B59B6","♍":"#9B59B6","♎":"#9B59B6","♏":"#9B59B6","♐":"#9B59B6","♑":"#9B59B6","♒":"#9B59B6","♓":"#9B59B6","⛎":"#9B59B6","🔀":"#607D8B","🔁":"#607D8B","🔂":"#607D8B","▶️":"#607D8B","⏩":"#607D8B","⏭️":"#607D8B","⏯️":"#607D8B","◀️":"#607D8B","⏪":"#607D8B","⏮️":"#607D8B","🔼":"#607D8B","⏫":"#607D8B","🔽":"#607D8B","⏬":"#607D8B","⏸️":"#607D8B","⏹️":"#607D8B","⏺️":"#607D8B","⏏️":"#607D8B","🎦":"#607D8B","🔅":"#F1C40F","🔆":"#F1C40F","📶":"#9B59B6","📳":"#F1C40F","📴":"#9B59B6","♀️":"#607D8B","♂️":"#607D8B","⚧️":"#607D8B","✖️":"#11806A","➕":"#11806A","➖":"#11806A","➗":"#11806A","🟰":"#9B59B6","♾️":"#607D8B","‼️":"#607D8B","⁉️":"#E74C3C","❓":"#992D22","❔":"#9B59B6","❕":"#9B59B6","❗":"#992D22","〰️":"#11806A","💱":"#206694","💲":"#206694","⚕️":"#607D8B","♻️":"#11806A","⚜️":"#992D22","🔱":"#E67E22","📛":"#9B59B6","🔰":"#F1C40F","⭕":"#992D22","✅":"#11806A","☑️":"#206694","✔️":"#11806A","❌":"#E74C3C","❎":"#11806A","➰":"#11806A",
"➿":"#206694","〽️":"#F1C40F","✳️":"#11806A","✴️":"#9B59B6","❇️":"#11806A","©️":"#607D8B","®️":"#607D8B","™️":"#607D8B","#️⃣":"#607D8B","*️⃣":"#607D8B","0️⃣":"#607D8B","1️⃣":"#607D8B","2️⃣":"#607D8B","3️⃣":"#607D8B","4️⃣":"#607D8B","5️⃣":"#607D8B","6️⃣":"#607D8B","7️⃣":"#607D8B","8️⃣":"#607D8B","9️⃣":"#607D8B","🔟":"#607D8B","🔠":"#607D8B","🔡":"#607D8B","🔢":"#607D8B","🔣":"#607D8B","🔤":"#607D8B","🅰️":"#E74C3C","🆎":"#E74C3C","🅱️":"#9B59B6","🆑":"#E74C3C","🆒":"#607D8B","🆓":"#607D8B",ℹ️:"#9B59B6","🆔":"#9B59B6","Ⓜ️":"#9B59B6","🆕":"#607D8B","🆖":"#607D8B","🅾️":"#E74C3C","🆗":"#607D8B","🅿️":"#3498DB","🆘":"#9B59B6","🆙":"#607D8B","🆚":"#9B59B6","🈁":"#607D8B","🈂️":"#3498DB","🈷️":"#9B59B6","🈶":"#9B59B6","🈯":"#9B59B6","🉐":"#9B59B6","🈹":"#9B59B6","🈚":"#9B59B6","🈲":"#9B59B6","🉑":"#9B59B6","🈸":"#9B59B6","🈴":"#E74C3C","🈳":"#9B59B6","㊗️":"#9B59B6","㊙️":"#9B59B6","🈺":"#9B59B6","🈵":"#9B59B6","🔴":"#992D22","🟠":"#F1C40F","🟡":"#F1C40F","🟢":"#11806A","🔵":"#206694",
"🟣":"#9B59B6","🟤":"#992D22","⚫":"#607D8B","⚪":"#9B59B6","🟥":"#E74C3C","🟧":"#E67E22","🟨":"#F1C40F","🟩":"#11806A","🟦":"#3498DB","🟪":"#9B59B6","🟫":"#9B59B6","⬛":"#11806A","⬜":"#9B59B6","◼️":"#607D8B","◻️":"#9B59B6","◾":"#607D8B","◽":"#9B59B6","▪️":"#607D8B","▫️":"#607D8B","🔶":"#F1C40F","🔷":"#206694","🔸":"#E67E22","🔹":"#206694","🔺":"#E74C3C","🔻":"#E74C3C","💠":"#3498DB","🔘":"#206694","🔳":"#9B59B6","🔲":"#607D8B","🏁":"#9B59B6","🚩":"#992D22","🎌":"#9B59B6","🏴":"#11806A","🏳️":"#9B59B6","🏳️‍🌈":"#E67E22","🏳️‍⚧️":"#9B59B6","🏴‍☠️":"#11806A","🇦🇨":"#206694","🇦🇩":"#206694","🇦🇪":"#E74C3C","🇦🇫":"#E74C3C","🇦🇬":"#992D22","🇦🇮":"#206694","🇦🇱":"#992D22","🇦🇲":"#E74C3C","🇦🇴":"#607D8B","🇦🇶":"#206694","🇦🇷":"#3498DB","🇦🇸":"#9B59B6","🇦🇹":"#9B59B6","🇦🇺":"#206694","🇦🇼":"#3498DB","🇦🇽":"#206694","🇦🇿":"#E91E63","🇧🇦":"#F1C40F","🇧🇧":"#206694","🇧🇩":"#E74C3C","🇧🇪":"#F1C40F","🇧🇫":"#11806A","🇧🇬":"#992D22","🇧🇭":"#9B59B6","🇧🇮":"#11806A",
"🇧🇯":"#E74C3C","🇧🇱":"#9B59B6","🇧🇲":"#992D22","🇧🇳":"#F1C40F","🇧🇴":"#11806A","🇧🇶":"#206694","🇧🇷":"#F1C40F","🇧🇸":"#3498DB","🇧🇹":"#E67E22","🇧🇻":"#E74C3C","🇧🇼":"#3498DB","🇧🇾":"#11806A","🇧🇿":"#206694","🇨🇦":"#992D22","🇨🇨":"#11806A","🇨🇩":"#E74C3C","🇨🇫":"#11806A","🇨🇬":"#F1C40F","🇨🇭":"#9B59B6","🇨🇮":"#E67E22","🇨🇰":"#206694","🇨🇱":"#E74C3C","🇨🇲":"#E74C3C","🇨🇳":"#992D22","🇨🇴":"#206694","🇨🇵":"#206694","🇨🇷":"#206694","🇨🇺":"#206694","🇨🇻":"#206694","🇨🇼":"#206694","🇨🇽":"#11806A","🇨🇾":"#9B59B6","🇨🇿":"#992D22","🇩🇪":"#E74C3C","🇩🇬":"#9B59B6","🇩🇯":"#11806A","🇩🇰":"#992D22","🇩🇲":"#E67E22","🇩🇴":"#206694","🇩🇿":"#11806A","🇪🇦":"#F1C40F","🇪🇨":"#F1C40F","🇪🇪":"#9B59B6","🇪🇬":"#9B59B6","🇪🇭":"#9B59B6","🇪🇷":"#11806A","🇪🇸":"#F1C40F","🇪🇹":"#11806A","🇪🇺":"#206694","🇫🇮":"#206694","🇫🇯":"#3498DB","🇫🇰":"#206694","🇫🇲":"#3498DB","🇫🇴":"#3498DB","🇫🇷":"#206694","🇬🇦":"#11806A","🇬🇧":"#206694","🇬🇩":"#11806A",
"🇬🇪":"#E74C3C","🇬🇫":"#11806A","🇬🇬":"#9B59B6","🇬🇭":"#11806A","🇬🇮":"#9B59B6","🇬🇱":"#992D22","🇬🇲":"#11806A","🇬🇳":"#F1C40F","🇬🇵":"#F1C40F","🇬🇶":"#11806A","🇬🇷":"#9B59B6","🇬🇸":"#206694","🇬🇹":"#3498DB","🇬🇺":"#206694","🇬🇼":"#F1C40F","🇬🇾":"#E67E22","🇭🇰":"#992D22","🇭🇲":"#206694","🇭🇳":"#9B59B6","🇭🇷":"#206694","🇭🇹":"#E91E63","🇭🇺":"#11806A","🇮🇨":"#206694","🇮🇩":"#992D22","🇮🇪":"#11806A","🇮🇱":"#206694","🇮🇲":"#992D22","🇮🇳":"#9B59B6","🇮🇴":"#9B59B6","🇮🇶":"#607D8B","🇮🇷":"#992D22","🇮🇸":"#9B59B6","🇮🇹":"#992D22","🇯🇪":"#9B59B6","🇯🇲":"#11806A","🇯🇴":"#E74C3C","🇯🇵":"#9B59B6","🇰🇪":"#E74C3C","🇰🇬":"#E74C3C","🇰🇭":"#992D22","🇰🇮":"#E74C3C","🇰🇲":"#11806A","🇰🇳":"#E74C3C","🇰🇵":"#206694","🇰🇷":"#9B59B6","🇰🇼":"#1ABC9C","🇰🇾":"#206694","🇰🇿":"#1ABC9C","🇱🇦":"#E74C3C","🇱🇧":"#9B59B6","🇱🇨":"#3498DB","🇱🇮":"#206694","🇱🇰":"#E74C3C","🇱🇷":"#E74C3C","🇱🇸":"#9B59B6","🇱🇹":"#11806A","🇱🇺":"#E74C3C","🇱🇻":"#992D22",
"🇱🇾":"#E74C3C","🇲🇦":"#992D22","🇲🇨":"#9B59B6","🇲🇩":"#206694","🇲🇪":"#992D22","🇲🇫":"#206694","🇲🇬":"#E74C3C","🇲🇭":"#206694","🇲🇰":"#992D22","🇲🇱":"#F1C40F","🇲🇲":"#F1C40F","🇲🇳":"#206694","🇲🇴":"#11806A","🇲🇵":"#9B59B6","🇲🇶":"#206694","🇲🇷":"#E74C3C","🇲🇸":"#206694","🇲🇹":"#9B59B6","🇲🇺":"#E74C3C","🇲🇻":"#11806A","🇲🇼":"#992D22","🇲🇽":"#9B59B6","🇲🇾":"#9B59B6","🇲🇿":"#E67E22","🇳🇦":"#E74C3C","🇳🇨":"#E67E22","🇳🇪":"#11806A","🇳🇫":"#9B59B6","🇳🇬":"#9B59B6","🇳🇮":"#5865F2","🇳🇱":"#206694","🇳🇴":"#E74C3C","🇳🇵":"#992D22","🇳🇷":"#206694","🇳🇺":"#F1C40F","🇳🇿":"#206694","🇴🇲":"#11806A","🇵🇦":"#206694","🇵🇪":"#9B59B6","🇵🇫":"#992D22","🇵🇬":"#E74C3C","🇵🇭":"#992D22","🇵🇰":"#11806A","🇵🇱":"#E74C3C","🇵🇲":"#206694","🇵🇳":"#206694","🇵🇷":"#992D22","🇵🇸":"#9B59B6","🇵🇹":"#E74C3C","🇵🇼":"#F1C40F","🇵🇾":"#9B59B6","🇶🇦":"#9B59B6","🇷🇪":"#E74C3C","🇷🇴":"#F1C40F","🇷🇸":"#206694","🇷🇺":"#992D22","🇷🇼":"#F1C40F","🇸🇦":"#11806A",
"🇸🇧":"#11806A","🇸🇨":"#11806A","🇸🇩":"#9B59B6","🇸🇪":"#F1C40F","🇸🇬":"#E74C3C","🇸🇭":"#206694","🇸🇮":"#E74C3C","🇸🇯":"#E74C3C","🇸🇰":"#992D22","🇸🇱":"#9B59B6","🇸🇲":"#9B59B6","🇸🇳":"#F1C40F","🇸🇴":"#3498DB","🇸🇷":"#11806A","🇸🇸":"#E74C3C","🇸🇹":"#E67E22","🇸🇻":"#9B59B6","🇸🇽":"#E74C3C","🇸🇾":"#992D22","🇸🇿":"#992D22","🇹🇦":"#206694","🇹🇨":"#206694","🇹🇩":"#F1C40F","🇹🇫":"#206694","🇹🇬":"#11806A","🇹🇭":"#992D22","🇹🇯":"#E91E63","🇹🇰":"#F1C40F","🇹🇱":"#E74C3C","🇹🇲":"#11806A","🇹🇳":"#992D22","🇹🇴":"#992D22","🇹🇷":"#E74C3C","🇹🇹":"#992D22","🇹🇻":"#607D8B","🇹🇼":"#3498DB","🇹🇿":"#11806A","🇺🇦":"#F1C40F","🇺🇬":"#607D8B","🇺🇲":"#E74C3C","🇺🇳":"#3498DB","🇺🇸":"#E74C3C","🇺🇾":"#9B59B6","🇺🇿":"#1ABC9C","🇻🇦":"#9B59B6","🇻🇨":"#F1C40F","🇻🇪":"#206694","🇻🇬":"#206694","🇻🇮":"#9B59B6","🇻🇳":"#992D22","🇻🇺":"#11806A","🇼🇫":"#E74C3C","🇼🇸":"#E74C3C","🇽🇰":"#206694","🇾🇪":"#E74C3C","🇾🇹":"#9B59B6","🇿🇦":"#E67E22","🇿🇲":"#11806A",
"🇿🇼":"#11806A","🏴󠁧󠁢󠁥󠁮󠁧󠁿":"#992D22","🏴󠁧󠁢󠁳󠁣󠁴󠁿":"#206694","🏴󠁧󠁢󠁷󠁬󠁳󠁿":"#11806A"};var c="#607D8B";function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.cj)([a.Z],(function(){var n;return{iconEmoji:t?null:null===(n=a.Z.getChannel(e))||void 0===n?void 0:n.iconEmoji}})).iconEmoji;if(!t)return null!=n?n:void 0}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,i.ZP)(),f=(0,o.cj)([a.Z],(function(){var e;return{themeColor:null===(e=a.Z.getChannel(t))||void 0===e?void 0:e.themeColor}})).themeColor;return r.useMemo((function(){var t=null!=f?"#".concat(f.toString(16)):null;null==t&&(t=null!=e&&null!=u[e]?u[e]:c);return n?t:(0,l.Cj)(t,"dark"===s?.2:.16)}),[f,s,e,n])}},630203:(e,t,n)=>{"use strict";n.d(t,{_:()=>H,Z:()=>V})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(457217),u=n(202351),c=n(945460),s=n(77413),f=n(218190),d=n(245802),p=n(621647),h=n(773011),y=n(239813),b=n(201521),m=n(883064),v=n(491260),g=n(788169),O=n(473903),E=n(319086),C=n(971611),S=n(652591),j=n(310126),_=n(572475),I=n(2590),w=n(411325),P=n.n(w);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){A(e,t,n[t])}))}return e}function N(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function M(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var D={SELECTED:P().modeSelected,CONNECTED:P().modeConnected,UNREAD_HIGHLIGHT:P().modeUnread,UNREAD:P().modeUnreadNormal,MUTED:P().modeMuted,LOCKED:P().modeLocked};function k(e){e.stopPropagation()}function U(e){switch(e){case I.d4z.GUILD_STAGE_VOICE:case I.d4z.GUILD_VOICE:return P().typeVoice;case I.d4z.ANNOUNCEMENT_THREAD:case I.d4z.PUBLIC_THREAD:case I.d4z.PRIVATE_THREAD:return P().typeThread;case I.d4z.GUILD_ANNOUNCEMENT:case I.d4z.GUILD_TEXT:case I.d4z.GUILD_STORE:case I.d4z.GUILD_FORUM:case I.d4z.GUILD_MEDIA:default:return P().typeDefault}}var B=j.default.getEnableHardwareAcceleration()?c.AnimatedAvatar:c.Avatar;function F(e){var t=e.channel;return(0,r.jsx)(B,{src:(0,p.x)(t),"aria-hidden":!0,size:c.AvatarSizes.SIZE_20})}function G(e){var t=e.channel,n=(0,u.e7)([O.default],(function(){return O.default.getUser(null==t?void 0:t.recipients[0])})),o=(0,
u.e7)([g.Z],(function(){return null!=n&&null!=t&&!t.isMultiUserDM()&&null!=g.Z.getTypingUsers(null==t?void 0:t.id)[null==n?void 0:n.id]})),i=(0,u.cj)([v.Z],(function(){return null==n||null==t||t.isMultiUserDM()?{status:null,isMobile:!1}:{status:v.Z.getStatus(n.id),isMobile:v.Z.isMobileOnline(n.id)}})),a=i.status,l=i.isMobile;return(0,r.jsx)(B,{size:c.AvatarSizes.SIZE_20,src:null==n?void 0:n.getAvatarURL(void 0,40),status:a,isMobile:l,isTyping:o,"aria-label":null==n?void 0:n.username,statusTooltip:!0})}var H=function(e){var t=e.className,n=e.channel,o=e.guild,i=e.locked,l=e.hasActiveThreads,u=function(e,t,n){switch(e.type){case I.d4z.DM:return function(){return(0,r.jsx)(G,{channel:e})};case I.d4z.GROUP_DM:return function(){return(0,r.jsx)(F,{channel:e})};default:return(0,y.KS)(e,t,n)}}(n,o,{locked:i,hasActiveThreads:l});if(null==u)return null;var s=(0,y.bT)(n,o,i,l);return(0,r.jsx)(c.Tooltip,{text:s,delay:500,children:function(e){return(0,r.jsx)("div",N(T({},e),{role:"img",
className:P().iconContainer,children:(0,r.jsx)(u,{className:a()(P().icon,t)})}))}})};function V(e){var t,n,i,u,p=e.channel,y=e.name,v=e.muted,g=e.selected,O=e.connected,j=e.unread,w=e.canHaveDot,x=e.mentionCount,R=e.relevant,B=e.locked,F=e.hasActiveThreads,G=e.onClick,V=e.onMouseDown,W=e.onMouseUp,z=e.onContextMenu,Y=e.connectDragPreview,K=e.className,q=e.iconClassName,X=e.subtitle,Q=e.subtitleColor,J=e.channel.type,$=e.onMouseEnter,ee=e.onMouseLeave,te=e["aria-label"],ne=e.children,re=e.guild,oe=e.channelTypeOverride,ie=e.forceInteractable,ae=e.isFavoriteSuggestion,le=(0,l.JA)(p.id),ue=(le.role,M(le,["role"])),ce=o.useRef(null),se=o.useRef(null),fe=(0,b.Z)(p),de=I.Z5c.CHANNEL(fe,p.id),pe=(0,h.ZP)(p),he=p.isGuildVocal(),ye=he&&!O,be=f.G.useExperiment({},{autoTrackExposure:!1}),me=be.enabled,ve=be.left,ge=o.useContext(c.AccessibilityPreferencesContext).reducedMotion.enabled,Oe=Z(o.useState([]),2),Ee=Oe[0],Ce=Oe[1];n=Ee.length,i=500,u=function(){Ce([])},o.useLayoutEffect((function(){
var e=null;if(n>0){clearTimeout(e);e=setTimeout((function(){u();clearTimeout(e)}),4*i)}return function(){return clearTimeout(e)}}),[n,i,u]);var Se=null===(t=(0,_.ZP)(p.id,!me))||void 0===t?void 0:t.name,je=null!=Se?(0,r.jsx)(s.Z,{emojiName:Se,className:P().twemoji}):null,_e=(0,_.pO)(Se,p.id),Ie=d.Z.useExperiment({guildId:null!=fe?fe:""},{autoTrackExposure:!0}).enabled,we=null;if(p.isGuildVoice()&&Ie&&null!==p.topic&&""!==p.topic){S.default.track(I.rMx.VOICE_CHANNEL_TOPIC_VIEWED,{topic:we});we=(0,r.jsx)("div",{className:P().topicDiv,children:(0,r.jsx)(c.Text,{variant:"text-xs/medium",className:P().topicText,children:m.Z.parse(p.topic,!0,{channelId:p.id})})})}var Pe,xe,Ae=(0,r.jsxs)("div",{className:a()(P().content,A({},P().favoriteSuggestion,ae)),ref:se,children:[me&&null!=je&&(0,r.jsx)("div",{className:P().emojiColorFill,style:{backgroundColor:_e,opacity:g?1:0}}),(0,r.jsxs)(E.Z,N(T({role:ye?"button":"link",href:he?void 0:de,ref:ce,
className:a()(P().mainContent,A({},P().mainContentWithChannelEmoji,null!=je)),onMouseDown:function(e){me&&0===e.button&&function(e){if(!ge){var t=e.currentTarget.getBoundingClientRect(),n=t.width>t.height?t.width:t.height,r={x:e.pageX-t.x-n/2,y:e.pageY-t.y-n/2,size:n};Ce(L(Ee).concat([r]))}}(e)},onClick:function(){return null==G?void 0:G(p)}},ue),{"aria-label":te,focusProps:{enabled:!1},children:[null!=je&&ve&&(0,r.jsx)("div",{className:a()(P().channelEmoji,P().channelEmojiLeftOfIcon),style:{backgroundColor:_e},children:je}),(0,r.jsx)(H,{className:q,channel:p,guild:re,hasActiveThreads:F,locked:B}),null!=je&&!ve&&(0,r.jsx)("div",{className:a()(P().channelEmoji,P().channelEmojiRightOfIcon),style:{backgroundColor:_e},children:je}),(0,r.jsxs)(C.Z,{className:a()(P().name,P().channelName),"aria-hidden":!0,children:[null==y?pe:y,null!=X&&""!==X?(0,r.jsx)(c.Text,{color:null!=Q?Q:"text-muted",variant:"text-xs/medium",className:P().subtitle,children:X}):null,we]})]})),o.Children.count(ne)>0?(0,
r.jsx)("div",{onClick:k,className:P().children,children:ne}):null,me&&Ee.length>0&&Ee.map((function(e,t){return(0,r.jsx)("span",{className:P().ripple,style:{top:e.y,left:e.x,width:e.size,height:e.size,backgroundColor:_e,animationDuration:"".concat(500,"ms"),opacity:.36}},"ripple-".concat(t))}))]}),Te=null!=G||null!=W||null!=V||ie;return(0,r.jsx)(c.FocusRing,{focusTarget:ce,ringTarget:se,offset:{top:2,bottom:2,right:4},children:(0,r.jsxs)("div",{className:a()(K,Te?P().wrapper:P().notInteractive,(xe=null!=Se,g&&!xe?D.SELECTED:O?D.CONNECTED:B?D.LOCKED:v?D.MUTED:j?R||null!=x&&x>0?D.UNREAD_HIGHLIGHT:D.UNREAD:null),U(null!=oe?oe:J)),onMouseUp:function(e){return null==W?void 0:W(e,p)},onMouseDown:function(e){return null==V?void 0:V(e,p)},onContextMenu:function(e){return null==z?void 0:z(e,p)},onMouseEnter:$,onMouseLeave:ee,children:[v||!w||!j||g&&!he?null:(0,r.jsx)("div",{className:a()(P().unread,(R||(null!=x?x:0)>0)&&P().unreadRelevant)}),null!==(Pe=null==Y?void 0:Y(Ae))&&void 0!==Pe?Pe:Ae]
})})}},125680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(641277),u=n(639115),c=n.n(u);function s(e){var t=e.className,n=e.embeddedApps;if(n.length<=0)return null;if(1===n.length)return(0,r.jsx)("div",{className:i()(c().container,t),children:(0,r.jsx)(l.Z,{game:n[0].application,className:c().icon24px})});var o=n.length-1;return(0,r.jsxs)("div",{className:i()(c().container,t),children:[(0,r.jsx)(l.Z,{game:n[0].application,className:c().icon20px}),2===n.length?(0,r.jsx)(l.Z,{game:n[1].application,className:c().icon20px}):(0,r.jsx)(a.Text,{className:c().overflow,variant:"text-xs/bold",color:"interactive-active",children:"+".concat(o)})]})}},507802:(e,t,n)=>{"use strict";n.d(t,{j:()=>Wu,E:()=>zu})
;var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(798159),u=n(457217),c=n(202351),s=n(945460),f=n(216151),d=n(217458),p=n(213276),h=n(316878),y=n(153686),b=n(19585),m=n(294184),v=n.n(m),g=n(248088),O=n(971402),E=n(396043),C=n(703790),S=n(682776),j=n(718831),_=n(930865),I=n(421281),w=n(744564);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return A(e)}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e,t){M=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return M(e,t)}var Z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var R={},D=function(e){var t=e.guildId,n=e.premiumCount;R=T(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}({},R),x({},t,n))},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&M(e,t)}(n,e);var t=L(n);function n(){P(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(R=e)};r.getState=function(){return R};r.getCountForGuild=function(e){return R[e]};r.__getLocalVars=function(){return{state:R,handlePremiumCountUpdate:D}};return n}(c.ZP.PersistedStore);k.displayName="GuildBoostingProgressBarPersistedStore";k.persistKey="PremiumGuildProgressBarPersistedStore"
;const U=new k(w.Z,{APPLIED_GUILD_BOOST_COUNT_UPDATE:D});var B=n(596801),F=n(72982),G=n(2590),H=n(473708),V=n(628438),W=n.n(V);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function K(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){K(e,t,n[t])}))}return e}function X(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},$=(0,I.Mg)(W().conditionalBottomMargin),ee=function(e){var t,n,i=e.guild,a=e.onSelect,l=Q(o.useState(i.premiumProgressBarEnabled),2),u=l[0],f=l[1],d=Q(o.useState(!1),2),p=d[0],h=d[1],y=(0,c.e7)([S.Z],(function(){return S.Z.can(G.Plq.MANAGE_GUILD,i)})),b=(n=(t=function(){return J(this,(function(e){switch(e.label){case 0:if(!y)return[2];h(!0);return[4,C.Z.saveGuild(i.id,{premiumProgressBarEnabled:!u})];case 1:e.sent();f(!u);h(!1);return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Y(i,r,o,a,l,"next",e)}function l(e){Y(i,r,o,a,l,"throw",e)}a(void 0)}))}),function(){return n.apply(this,arguments)});return(0,r.jsx)(s.Menu,{navId:"progress-bar-context",onClose:O.Zy,
"aria-label":H.Z.Messages.PROGRESS_BAR_ACTIONS_MENU_LABEL,onSelect:a,children:(0,r.jsx)(s.MenuCheckboxItem,{id:"progress-bar-enabled",label:H.Z.Messages.GUILD_ENABLE_PROGRESS_BAR,checked:u,disabled:p,action:b})})},te=57+$,ne={tension:180,friction:80};const re=function(e){var t,n=e.guild,i=e.withMargin,a=(0,b.Z)(y.Z.GUILD_BOOSTING_SIDEBAR_DISPLAY).analyticsLocations,l=n.premiumSubscriberCount,u=n.id,f=(0,_.rF)(l,u),d=(0,_.FZ)(f,n.id),p=null==d,m=null!=d?d:f,C=(0,c.e7)([U],(function(){return null!==(t=U.getCountForGuild(u))&&void 0!==t?t:0})),I=(0,c.e7)([h.Z],(function(){return h.Z.useReducedMotion})),P=(0,c.e7)([S.Z],(function(){return S.Z.can(G.Plq.MANAGE_GUILD,n)}));o.useEffect((function(){C!==l&&(e=u,t=l,w.Z.wait((function(){w.Z.dispatch({type:"APPLIED_GUILD_BOOST_COUNT_UPDATE",guildId:e,premiumCount:t})})));var e,t}),[u,C,l]);var x="".concat(Math.min(100,l/(0,_.vn)(n.id)[m]*100),"%"),A=o.useRef(x).current,T={from:{width:C===l?A:"0%"},to:{width:x},config:ne,immediate:I},N=Q((0,
g.useSpring)((function(){return T})),2),M=N[0],Z=N[1],L=function(){(0,E.yw)(G.rMx.PREMIUM_GUILD_PROMOTION_OPENED,{location:{section:G.jXE.PREMIUM_GUILD_PROGRESS_BAR},guild_id:u,location_stack:a});(0,B.Z)({analyticsLocations:a,analyticsSourceLocation:{page:G.ZY5.GUILD_CHANNEL,section:G.jXE.PREMIUM_GUILD_PROGRESS_BAR,object:G.qAy.TOOLTIP},guild:n,perks:(0,F.VF)(),perkIntro:H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_PROGRESS_BAR_HEADER})},R=H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_GOAL.format({levelName:(0,_.e9)(m)}),D=H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_BLURB.format({numBoosts:l,numTotal:(0,_.vn)(n.id)[m]});if(p){R=(0,_.e9)(m);D=H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_COMPLETED_BLURB.format({numBoosts:l})}return(0,r.jsx)(s.Tooltip,{text:p?H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP_COMPLETE:H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP.format({levelName:(0,_.nW)(m)}),color:s.Tooltip.Colors.BLACK,position:"top",delay:200,
hideOnClick:!0,children:function(e){return(0,r.jsxs)(s.Clickable,X(q({},e),{onClick:L,onMouseEnter:function(){var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e);Z(T)},className:v()(W().container,K({},W().containerWithMargin,i)),onContextMenu:function(e){P&&(0,O.vq)(e,(function(e){return(0,r.jsx)(ee,X(q({},e),{guild:n}))}))},children:[(0,r.jsxs)("div",{className:W().textArea,children:[(0,r.jsx)("div",{className:W().goalTextContainer,children:(0,r.jsx)(s.Text,{className:W().goalText,color:"interactive-active",variant:"text-xs/bold",children:R})}),(0,r.jsxs)("div",{className:W().progressFraction,children:[(0,r.jsx)(s.Text,{color:"interactive-normal",variant:"text-xs/normal",children:D}),(0,r.jsx)(j.Z,{className:W().count,height:16,width:16,direction:j.Z.Directions.RIGHT})]})]}),(0,r.jsxs)("div",{className:v()(W().progressBarContainer,K({},W().progressBarContainerComplete,p)),children:[(0,r.jsx)(g.animated.div,{className:W().progressBar,style:M}),p?(0,r.jsx)("span",{
"aria-label":H.Z.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_TADA_ICON_ALT_TEXT,role:"img",className:W().tadaIcon,children:"🎉"}):null]})]}))}})};var oe=n(784426),ie=n(363582),ae=n(897196),le=n(267682),ue=n.n(le),ce=n(411325),se=n.n(ce);function fe(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){fe(i,r,o,a,l,"next",e)}function l(e){fe(i,r,o,a,l,"throw",e)}a(void 0)}))}}function pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function he(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var ye=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}
if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function be(e){var t=e.guild,i=e.selected,a=o.useCallback((function(){(0,oe.uL)(G.Z5c.CHANNEL(t.id,ae.oC.MEMBER_SAFETY))}),[t.id]),l=o.useCallback((function(e){(0,O.jW)(e,de((function(){var e,o;return ye(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(93087)]).then(n.bind(n,93087))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,he(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pe(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))}),[t]);return(0,r.jsx)("div",{
className:v()(ue().containerDefault,pe({},ue().selected,i)),children:(0,r.jsx)("div",{className:v()(ue().iconVisibility,se().wrapper,pe({},se().modeSelected,i)),children:(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,{className:se().mainContent,onClick:a,onContextMenu:l,children:[(0,r.jsx)("div",{className:se().iconContainer,children:(0,r.jsx)(ie.Z,{className:se().icon})}),(0,r.jsx)("div",{className:se().name,children:H.Z.Messages.MEMBER_SAFETY_CHANNEL_TITLE})]})})})})}var me=n(198325),ve=n(995247),ge=n(364269),Oe=n(419051),Ee=n(61209),Ce=n(602397),Se=n(72580),je=n(664806),_e=n(82274),Ie=n(808194);function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){var t=e.voiceState,n=e.userNick;return{user:e.user,voiceState:t,nick:n,comparator:(0,Ce.sQ)(t,n)}}var Ae=n(361925),Te=n(382060),Ne=n(953727),Me=n(5544),Ze=n(717091),Le=n(464187),Re=n(443812),De=n(576122),ke=n(978868),Ue=n(4207),Be=n(433932),Fe=n(925369),Ge=n(557415),He=n(386531),Ve=n(848465),We=n(745623),ze=n(365637),Ye=n(350403),Ke=n(678545),qe=n(201441)
;var Xe=n(966554);function Qe(e){var t=(0,Be.N2)(e),n=function(e){var t=(0,Ke.Z)(null==e?void 0:e.id),n=(0,qe.ZP)(null==e?void 0:e.id),r=(0,Ye.Z)(null==e?void 0:e.id),o=null==e?void 0:e.hasFeature(G.oNc.COMMUNITY);return!r&&(o&&t||n.length>0)}(e),r=(0,Fe.W)(e.id),o=(0,ze.m)(e.id),i=(0,Ve.g)(e.id),a=He.Z.getNewMemberActions(e.id),l=(0,We.Z)(e.id),u=(0,Ge.n2)(e.id,!0),c=[],s=e.hasFeature(G.oNc.HUB),f=e.hasFeature(G.oNc.COMMUNITY);s&&c.push(Xe.f.GUILD_HUB_HEADER_OPTIONS);i&&l&&null!=a&&a.length>0?c.push(Xe.f.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR):e.premiumProgressBarEnabled&&c.push(Xe.f.GUILD_PREMIUM_PROGRESS_BAR);s||!t&&!i||c.push(Xe.f.GUILD_HOME);n&&c.push(Xe.f.GUILD_SCHEDULED_EVENTS);f&&c.push(Xe.f.CHANNELS_AND_ROLES);o&&c.push(Xe.f.GUILD_ROLE_SUBSCRIPTIONS);r&&c.push(Xe.f.GUILD_MEMBER_APPLICATIONS);u&&c.push(Xe.f.GUILD_MOD_DASH_MEMBER_SAFETY);return c}
var Je=n(786522),$e=n(791216),et=n(660177),tt=n(630631),nt=n(327499),rt=n(910878),ot=n(777158),it=n(963985),at=n(968968),lt=n(877475),ut=n(567403),ct=n(90692);function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){return null!=e&&null!=t&&(e===t||(0,Te.r8)(e)&&(0,
Te.r8)(t)||(0,Te.bw)(e)&&(0,Te.bw)(t))}function pt(e,t,n,r){var o=-1;r.find((function(e,n){if(e.channel.id===t){o=n;return!0}return!1}));if(o<0)return null;for(var i=o;i>=0&&i<r.length;i+=e){var a=r[i];if(dt(a.channel.type,n))return a}return null}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return 0;var r=null;t.filter((function(t){var r=t.channel.type;return null!=e&&(n||dt(e.type,r))})).find((function(t,n){var o=t.channel.id;if(null!=e&&o===e.id){r=n;return!0}return!1}));return r}function yt(e){return{referenceId:e.id,parentId:e.parent_id}}function bt(e,t,n,r,o){if(null==e||null==n)return null;var i=G.d4z.GUILD_CATEGORY;return e.type===i?r===t||r<t&&e.type===n.type?yt(n):r>t?function(e,t,n){var r,o=G.d4z.GUILD_CATEGORY,i=n[(null!==(r=ht(t,n,!0))&&void 0!==r?r:0)+1],a=pt(-1,t.id,e.type,n);return null==a||a.channel.id===e.id?null:null==i||i.channel.type===o?{referenceId:a.channel.id,parentId:null}:null
}(e,n,o):null:dt(e.type,n.type)?yt(n):r<t?n.type===i?function(e,t,n){var r,o=n[(null!==(r=ht(t,n,!0))&&void 0!==r?r:0)-1],i=pt(1,t.id,e.type,n);if(null==o)return{referenceId:null,parentId:null};if(null!=i){if(dt(o.channel.type,e.type)||e.isGuildVocal()&&(0,Te.r8)(o.channel.type))return{referenceId:i.channel.id,parentId:o.channel.parent_id};if(o.channel.isCategory())return{referenceId:i.channel.id,parentId:o.channel.id}}return null}(e,n,o):function(e,t,n){var r,o=n[(null!==(r=ht(t,n,!0))&&void 0!==r?r:0)-1],i=pt(1,t.id,e.type,n);return null!=o||e.isGuildVocal()?(0,Te.r8)(e.type)&&null!=i&&((0,Te.r8)(o.channel.type)||o.channel.isCategory())?{referenceId:i.channel.id,parentId:t.parent_id}:null:{referenceId:null!=i?i.channel.id:null,parentId:null}}(e,n,o):n.type===i?function(e,t,n){var r,o=n[(null!==(r=ht(t,n,!0))&&void 0!==r?r:0)+1],i=pt(-1,t.id,e.type,n);if(null!=i){if(null==o)return{referenceId:i.channel.id,parentId:t.id};if(dt(o.channel.type,e.type)||(0,
Te.r8)(e.type)&&o.channel.isGuildVocal())return{referenceId:i.channel.id,parentId:o.channel.parent_id};if(o.channel.isCategory())return{referenceId:i.channel.id,parentId:t.id}}return null}(e,n,o):function(e,t,n){var r,o=n[(null!==(r=ht(t,n,!0))&&void 0!==r?r:0)+1],i=pt(-1,t.id,e.type,n);if(null==i)return null;if(e.isGuildVocal()){if(null==o||o.channel.isCategory())return{referenceId:i.channel.id,parentId:t.parent_id};if(o.channel.isGuildVocal())return{referenceId:i.channel.id,parentId:o.channel.parent_id}}return e.isCategory()&&(null==o||o.channel.isCategory())?{referenceId:i.channel.id,parentId:null}:null}(e,n,o)}var mt=n(563135);function vt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vt(i,r,o,a,l,"next",e)}function l(e){vt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ot(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ot(e,t,n[t])}))}return e}function Ct(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var St=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},jt="DRAGGABLE_GUILD_CHANNEL"
;function _t(e,t){if(null==e||null==t)return null;if(e!==G.I_8)return Ee.Z.getChannel(t);var n,r,o=Me.ZP.getChannels(e),i=null!==(r=null!==(n=o[Me.sH].find((function(e){return e.channel.id===t})))&&void 0!==n?n:o[Me.Zb].find((function(e){return e.channel.id===t})))&&void 0!==r?r:o[G.d4z.GUILD_CATEGORY].find((function(e){return e.channel.id===t}));return null==i?void 0:i.channel}function It(e){return(0,$e.G)(jt,{drop:function(e,t){var n=Le.Z.getGuildId(),o=t.getItem(),i=bt(_t(n,o.id),o.position,e.channel,e.position,o.channelList);if(null!=i){var a=_t(n,o.id);if(null!=a){var l=lt.Z.getCategories(n),u=ut.Z.getGuild(n);if(null!=u){var c=function(e,t,n,r){var o,i,a=[],l=[],u=r._categories,c=function(t){var n;n=null!=o&&null!=i&&function(e,t,n,r){return null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n]}(e,o,i,t)?ct.ZP.moveItemFromTo(t,o,i):ft(t);a=a.concat(ct.ZP.calculatePositionDeltas({oldOrdering:t,newOrdering:n,idGetter:function(e){return e.channel.id},
existingPositionGetter:function(e){return e.channel.position}}));return n};if(e.isCategory()){var s=ft(u).slice(1);o=ht(e,s);i=ht(t,s);(l=c(s)).unshift(u[0])}if((0,Te.r8)(e.type)||e.isCategory()){var f=(0,ot.Z)(l.length>0?l:u,r,(function(e){var t=e.channel.type;return(0,Te.r8)(t)}));o=ht(e,f);i=ht(t,f);c(f)}if(e.isGuildVocal()||e.isCategory()){var d=(0,ot.Z)(l.length>0?l:u,r,(function(e){return e.channel.isGuildVocal()}));o=ht(e,d);i=ht(t,d);c(d)}if(e.parent_id!==n){var p=!1;a.find((function(t){if(t.id===e.id){t.parent_id=n;return p=!0}return!1}));p||a.push({id:e.id,parent_id:n})}return a}(a,_t(n,i.referenceId),i.parentId,l);if(0!==c.length)if(n!==G.I_8){c=c.filter((function(e){var t=e.id,n=Ee.Z.getChannel(t);if(null==n)return!1;var r=Ee.Z.getChannel(n.parent_id);return n.type===G.d4z.GUILD_CATEGORY||null==r?S.Z.can(G.Plq.MANAGE_CHANNELS,u):S.Z.can(G.Plq.MANAGE_CHANNELS,r)}));var f;a.parent_id!==i.parentId&&c.find((function(e){if(e.id!==a.id)return!1;var t=Ee.Z.getChannel(e.parent_id)
;if(!(null!=t&&S.Z.can(G.Plq.MANAGE_ROLES,a)&&S.Z.can(G.Plq.MANAGE_ROLES,t)))return!0;var n=mt.ZP.areChannelsLocked(a,t),r=mt.ZP.areChannelsLocked(a,Ee.Z.getChannel(a.parent_id));(null==a.parent_id&&!n||r&&!n)&&(f=e);return!0}));if(null!=f){var d=Ee.Z.getChannel(f.parent_id);null!=d&&(0,s.openModal)((function(e){return(0,r.jsx)(rt.default,Ct(Et({},e),{channel:a,category:d,onConfirm:function(){if(null!=f){f.lock_permissions=!0;nt.Z.batchChannelUpdate(n,c)}},onCancel:function(){null!=f&&nt.Z.batchChannelUpdate(n,c)}}))}))}else nt.Z.batchChannelUpdate(n,c)}else(0,it.s3)(c)}}}},canDrop:function(e,t){var n=t.getItem(),r=Ee.Z.getChannel(n.id);if(null==r)return!1;var o=bt(Ee.Z.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null==o)return!1;if(Le.Z.getGuildId()===G.I_8)return!0;var i=ut.Z.getGuild(n.guildId);if(null==i)return!1
;var a=Ee.Z.getChannel(o.parentId),l=Ee.Z.getChannel(r.parent_id),u=S.Z.can(G.Plq.MANAGE_CHANNELS,i),c=null!=l?S.Z.can(G.Plq.MANAGE_CHANNELS,l):u,s=null!=a?S.Z.can(G.Plq.MANAGE_CHANNELS,a):u;return c&&s}},(function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parentId:null}}))((0,et.E)(jt,{canDrag:function(e){var t=e.channel;if(Le.Z.getGuildId()===G.I_8)return!0;var o=ut.Z.getGuild(t.getGuildId());if(null==o)return!1;if((0,ge.r1)(o.id)&&S.Z.can(G.Plq.MANAGE_CHANNELS,o)){"true"===tt.Z.get("doNotShowReorderModal")||(0,s.openModalLazy)(gt((function(){var e,t;return St(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(18359)]).then(n.bind(n,518359))];case 1:e=o.sent(),
t=e.default;return[2,function(e){return(0,r.jsx)(t,Et({},e))}]}}))})));return!1}if(t.type===G.d4z.GUILD_CATEGORY)return S.Z.can(G.Plq.MANAGE_CHANNELS,o)&&!(0,ge.r1)(o.id);var i=Ee.Z.getChannel(t.parent_id);return null!=i&&S.Z.can(G.Plq.MANAGE_CHANNELS,i)||null==i&&S.Z.can(G.Plq.MANAGE_CHANNELS,o)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,o=t.guild_id,i=t.type,a=e.position,l=Le.Z.getGuildId(),u=lt.Z.getCategories(l),c=(0,ot.Z)(u._categories,u,(function(e){var t=e.channel;return t.type===G.d4z.GUILD_CATEGORY&&null!=u[t.id]&&0===u[t.id].length?l===G.I_8||S.Z.can(G.Plq.MANAGE_CHANNELS,t)&&S.Z.can(G.Plq.VIEW_CHANNEL,t):!at.Z.isCollapsed(t.parent_id)}));return{isChannelDrag:!0,id:n,position:a,parentId:r,type:i,channelList:c,guildId:o}}},(function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}))(e))}var wt=n(9430),Pt=n(971611),xt=n(127661),At=n(613665),Tt=n(795909),Nt=n(796938),Mt=n(202237),Zt=n(627001);var Lt=n(559836),Rt=n.n(Lt)
;function Dt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dt(i,r,o,a,l,"next",e)}function l(e){Dt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ut(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ut(e,t,n[t])}))}return e}function Ft(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Ht=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Vt(e){e.stopPropagation()}const Wt=It(o.memo((function(e){var t,i=e.channel,a=e.connectChannelDragSource,l=e.connectChannelDropTarget,f=e.disableManageChannels,d=e.position,p=e.sortingPosition,h=e.hideIcon,y=e.children,b=(0,c.e7)([wt.Z],(function(){
return wt.Z.isChannelMuted(i.getGuildId(),i.id)})),m=(0,c.e7)([at.Z],(function(){return at.Z.isCollapsed(i.id)})),g=(0,c.e7)([S.Z],(function(){return S.Z.can(G.Plq.MANAGE_CHANNELS,i)}));t=null!=p?d>p?Rt().containerDragAfter:Rt().containerDragBefore:Rt().containerDefault;var E,C=o.useCallback((function(){m?(0,Je.mJ)(i.id):(0,Je.c4)(i.id)}),[i.id,m]),j=o.useCallback((function(e){if("null"!==i.id){var t=ut.Z.getGuild(i.getGuildId());null!=t&&(0,O.jW)(e,kt((function(){var e,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,n.e(96006).then(n.bind(n,696006))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ft(Bt({},e),{channel:i,guild:t}))}]}}))})))}}),[i]),_=o.useCallback((function(){var e=i.type===G.d4z.GUILD_CATEGORY?null:i.type,t=i.getGuildId();null!=t&&(0,s.openModalLazy)(kt((function(){var o,a;return Ht(this,(function(l){switch(l.label){case 0:return[4,Promise.all([n.e(40532),n.e(57645),n.e(14929)]).then(n.bind(n,957645))];case 1:o=l.sent(),a=o.default
;return[2,function(n){return(0,r.jsx)(a,Ft(Bt({},n),{channelType:e,guildId:t,categoryId:"null"!==i.id?i.id:null}))}]}}))})))}),[i]),I=(0,u.JA)(i.id),w=(I.role,I.tabIndex),P=Gt(I,["role","tabIndex"]),x=o.useRef(null),A=o.useRef(null),T=(0,r.jsxs)("li",{className:t,"data-dnd-name":i.name,children:[(0,r.jsx)(s.FocusRing,{focusTarget:x,ringTarget:A,offset:{left:4,right:4},children:(0,r.jsxs)("div",{ref:A,className:v()(Rt().iconVisibility,Rt().wrapper,(E={},Ut(E,Rt().collapsed,m),Ut(E,Rt().muted,b),Ut(E,Rt().clickable,!0),E)),onContextMenu:j,children:[(0,r.jsxs)(s.Clickable,Ft(Bt({innerRef:x,className:Rt().mainContent,tabIndex:w},P),{onClick:C,"aria-label":H.Z.Messages.CATEGORY_A11Y_LABEL.format({categoryName:i.name}),"aria-expanded":!m,focusProps:{enabled:!1},children:[h?null:(0,r.jsx)(At.Z,{className:Rt().icon}),(0,r.jsx)(Mt.Z,{className:Rt().name,children:(0,r.jsx)(Pt.Z,{children:i.name})})]})),(0,r.jsx)("div",{onClick:Vt,className:Rt().children,children:g&&!f?(0,r.jsx)(s.Tooltip,{
text:H.Z.Messages.CREATE_CHANNEL,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave;return(0,r.jsx)(s.Button,{"aria-label":H.Z.Messages.CREATE_CHANNEL,look:s.Button.Looks.BLANK,size:s.Button.Sizes.NONE,className:v()(Rt().addButton,Rt().forceVisible),onClick:_,onMouseEnter:t,onMouseLeave:n,tabIndex:w,focusProps:{offset:{top:-3,right:-4,bottom:-3,left:-4}},children:(0,r.jsx)(Tt.Z,{className:Rt().addButtonIcon})})}}):null})]})}),y]});return null!=l&&null!=a?l(a(T)):T})));var zt=o.memo((function(e){var t=e.name,n=e.onDismiss,o=e.className;return(0,r.jsx)("li",{className:v()(o,Rt().containerDefault),children:(0,r.jsxs)("div",{className:v()(Rt().iconVisibility,Rt().wrapperStatic),children:[(0,r.jsx)("div",{className:Rt().mainContent,children:(0,r.jsx)(Mt.Z,{className:Rt().name,children:(0,r.jsx)(Pt.Z,{children:t})})}),null!=n?(0,r.jsx)(s.TooltipContainer,{text:H.Z.Messages.CLEAR_RECENT_CHANNELS,className:Rt().dismissWrapper,children:(0,r.jsx)(s.Clickable,{
className:Rt().dismissButton,onClick:n,children:(0,r.jsx)(xt.Z,{className:Rt().dismiss})})}):null]})})})),Yt=o.memo((function(e){var t=e.category,n=(0,c.e7)([Zt.Z],(function(){return Zt.Z.isVoiceCategoryCollapsed(t.guild.id)})),i=o.useCallback((function(){n?(e=t.guild.id,w.Z.dispatch({type:"VOICE_CATEGORY_EXPAND",guildId:e,expand:!0})):function(e){w.Z.dispatch({type:"VOICE_CATEGORY_COLLAPSE",guildId:e,expand:!1})}(t.guild.id);var e}),[t.guild.id,n]);return n?(0,r.jsxs)(s.Clickable,{className:Rt().voiceChannelsButton,onClick:i,children:[(0,r.jsx)(Nt.Z,{className:Rt().voiceChannelsToggleIcon,width:16,height:16}),(0,r.jsx)(s.Text,{variant:"text-sm/medium",children:H.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_EXPAND})]}):(0,r.jsxs)(s.Clickable,{className:Rt().voiceChannelsButton,onClick:i,children:[(0,r.jsx)(Nt.Z,{className:Rt().voiceChannelsToggleIcon,width:16,height:16}),(0,r.jsx)(s.Text,{variant:"text-sm/medium",children:H.Z.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_COLLAPSE})]})
})),Kt=o.memo((function(e){var t=e.category,n=e.channel,o=(0,c.e7)([Zt.Z],(function(){return Zt.Z.isVoiceCategoryCollapsed(t.guild.id)}));return o||null==n||n.record.type===G.d4z.GUILD_CATEGORY?o?(0,r.jsx)("li",{className:v()(Rt().containerDefault),children:(0,r.jsx)("div",{className:v()(Rt().iconVisibility,Rt().wrapperStatic),children:(0,r.jsx)(Mt.Z,{className:Rt().name,children:(0,r.jsx)(Pt.Z,{children:H.Z.Messages.VOICE_CHANNELS_CATEGORY_HEADER})})})}):null:(0,r.jsx)("div",{style:{height:16}})})),qt=o.memo((function(e){var t=e.channel;return(0,r.jsx)("li",{className:v()(Rt().containerDefault),children:(0,r.jsx)("div",{className:v()(Rt().iconVisibility,Rt().wrapperStatic),children:(0,r.jsx)(Mt.Z,{className:Rt().name,children:(0,r.jsx)(Pt.Z,{children:t.name})})})})})),Xt=n(736543),Qt=n(37689),Jt=34,$t=32,en={origin:{x:-36,y:7},targetWidth:232,targetHeight:40,offset:{x:0,y:0}},tn=n(797323),nn=n.n(tn);function rn(e,t,n){if(e===De.zm)return 12
;if(e===De.wd)return t.hasFeature(G.oNc.HUB)?0:12;if(e===n.voiceChannelsSectionNumber){var r,o=n.getCategoryFromSection(e);if(null==o||o.isEmpty())return 0;if(o.isCollapsed)return 52;var i=null===(r=n.getChannelFromSectionRow(e,0))||void 0===r?void 0:r.channel;return null==i||i.record.type===G.d4z.GUILD_CATEGORY?12:28}return 40}function on(e,t){switch(e){case De.zm:return"hoisted-spacer";case De.wd:return"uncategorized-spacer";case De.p2:return"favorites";case t.recentsSectionNumber:return"recents-header";case t.voiceChannelsSectionNumber:return"voice-channels-header";default:var n=t.getNamedCategoryFromSection(e);return null!=n?"category-".concat(n.id):"section-".concat(e)}}const an=o.memo((function(e){var t=e.sectionIndex,n=e.guild,i=e.guildChannels,a=e.guildChannelsVersion,l=e.selectedChannelId,u=e.disableManageChannels,c=o.useCallback((function(){var e=i.getCategoryFromSection(i.recentsSectionNumber);if(null!=e){var t=null,r=e.getShownChannelAndThreadIds()
;null!=l&&r.includes(l)&&(t=(0,ve.KY)(i));(0,ve.Uo)(n.id,r,t)}}),[n.id,l,i,a]);switch(t){case De.zm:return(0,r.jsx)("div",{style:{height:12}});case De.wd:return n.hasFeature(G.oNc.HUB)?null:(0,r.jsx)("div",{style:{height:12}});case De.p2:return(0,r.jsx)(zt,{name:H.Z.Messages.FAVORITES});case i.recentsSectionNumber:return(0,r.jsx)(zt,{name:H.Z.Messages.RECENTS_CATEGORY_HEADER,onDismiss:c});case i.voiceChannelsSectionNumber:var s,f=i.getCategoryFromSection(i.voiceChannelsSectionNumber);if(null==f||f.isEmpty())return null;var d=null===(s=i.getChannelFromSectionRow(t,0))||void 0===s?void 0:s.channel;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:nn().sectionDivider}),(0,r.jsx)(Kt,{category:f,channel:d})]});case De.wF:var p=i.getNamedCategoryFromSection(t);return null==p?null:(0,r.jsx)(Wt,{channel:p.record,position:p.position,disableManageChannels:u,children:(0,r.jsx)(Xt.Z,{inlineSpecs:en,arrowAlignment:Qt.cy.TOP,tutorialId:"organize-by-topic",position:"right"})})
;default:var h=i.getNamedCategoryFromSection(t);return null==h?null:(0,r.jsx)(Wt,{channel:h.record,position:h.position,disableManageChannels:u})}}));var ln=n(96606),un=n(176758);function cn(e,t,n){return!function(e,t){if(t===De.zm){var n=e.getCommunitySection().getRows();return 1===n.length&&n[0]===Xe.f.GUILD_PREMIUM_PROGRESS_BAR||e.getCommunitySection().isEmpty()}return 0===e.getSections()[t]}(e,n)&&(n===De.zm||!!t&&(n===De.p2||n!==De.wd&&(n===e.recentsSectionNumber||(e.voiceChannelsSectionNumber,!1))))}function sn(e,t){return!(t===De.zm||t===De.p2||t===De.wd||t===e.recentsSectionNumber||t===e.voiceChannelsSectionNumber)}function fn(e,t,n){return{hasDivider:cn(e,t,n),canHaveVoiceSummary:sn(e,n)}}function dn(e){var t=e.category,n=e.voiceStates,r=function(e){var t=e.category,n=e.voiceStates,r=e.selectedChannelId,o=e.selectedVoiceChannelId;return!0!==at.Z.isCollapsed(t.record.id)?[]:t.getChannelRecords().filter((function(e){if(!S.Z.can(G.Plq.VIEW_CHANNEL,e))return!1
;var t,i=null!==(t=n[e.id])&&void 0!==t?t:[];return e.id!==o&&e.id!==r&&i.length>0}))}({category:t,selectedChannelId:e.selectedChannelId,selectedVoiceChannelId:e.selectedVoiceChannelId,voiceStates:n});return r.length>0}var pn=o.memo((function(e){var t=e.guildChannels,n=e.guildChannelsVersion,i=o.useMemo((function(){return t.getCategoryFromSection(t.voiceChannelsSectionNumber)}),[t,n]);return null==i?null:(0,r.jsx)(Yt,{category:i})}));function hn(e){var t=e.sectionIndex,n=e.guildChannels,r=e.voiceStates,o=e.selectedChannelId,i=e.selectedVoiceChannelId,a=e.optInEnabled;if(t===n.voiceChannelsSectionNumber)return 44;var l=fn(n,a,t),u=l.hasDivider?12:0;if(!l.canHaveVoiceSummary)return u;if(t===De.zm)return u;var c=n.getNamedCategoryFromSection(t);return null==c?u:dn({category:c,selectedChannelId:o,selectedVoiceChannelId:i,voiceStates:r})?Jt+u:u}function yn(e,t,n){if(e===t.voiceChannelsSectionNumber)return"voice-channels-button";var r=fn(t,n,e),o=r.hasDivider,i=r.canHaveVoiceSummary
;return"section-footer-".concat(e).concat(o?"-divider":"").concat(i?"-voice-summary":"")}const bn=o.memo((function(e){var t=e.sectionIndex,n=e.guildChannels,i=e.guildChannelsVersion,a=e.voiceStates,l=e.guildId,u=e.selectedChannelId,c=e.selectedVoiceChannelId,s=e.optInEnabled,f=o.useMemo((function(){return fn(n,s,t)}),[n,s,t,i]),d=f.hasDivider,p=f.canHaveVoiceSummary,h=o.useMemo((function(){return t===De.zm?null:n.getCategoryFromSection(t)}),[n,t,i]),y=o.useMemo((function(){return null!=h&&h.isCollapsed?(0,un.c4)({channels:h.getChannelRecords(),selectedChannelId:u,selectedVoiceChannelId:c,voiceStates:a}):[]}),[h,u,c,a]);if(t===n.voiceChannelsSectionNumber)return(0,r.jsx)(pn,{guildChannels:n,guildChannelsVersion:i});var b=d?(0,r.jsx)("div",{className:nn().sectionDivider}):null;return p&&0!==y.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:nn().voiceUserSummary,children:(0,r.jsx)(ln.Z,{renderIcon:!0,users:y,max:8,showUserPopout:!0,guildId:l})}),b]}):b}))
;var mn=n(87127),vn=n(269300),gn=n(15970),On=n(347834),En=n(766496),Cn=n(177570),Sn=n(621329),jn=n(189865),_n=n(466317),In=n(226919);function wn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Pn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wn(i,r,o,a,l,"next",e)}function l(e){wn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tn(e){Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Tn(e)}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){An(e,t,n[t])}))}return e}function Mn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Zn(e,t){return!t||"object"!==Rn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e,t){Ln=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ln(e,t)}var Rn=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Tn(e);if(t){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}var kn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Un(e,t,n){return!(null==t||!t)&&!dt(n,e.type)}function Bn(e,t){return null==t?ue().containerDefault:e>t?ue().containerDragAfter:ue().containerDragBefore}function Fn(e){var t=e.channel,n=e.disableManageChannels,o=e.tabIndex,i=e.forceShowButtons,a=function(){mn.ZP.open(t.id)};return(0,c.e7)([S.Z,Le.Z],(function(){
return n||Le.Z.getGuildId()===G.I_8||!S.Z.can(G.Plq.MANAGE_CHANNELS,t)&&!S.Z.can(G.Plq.MANAGE_ROLES,t)&&!S.Z.can(G.Plq.MANAGE_WEBHOOKS,t)||(0,Te.r8)(t.type)&&!S.Z.can(G.Plq.VIEW_CHANNEL,t)||t.isGuildVocal()&&!S.Z.can(G.Plq.CONNECT,t)||!Te.dF.has(t.type)}))?null:(0,r.jsx)(s.Tooltip,{text:H.Z.Messages.EDIT_CHANNEL,spacing:2,children:function(e){var t=e.onMouseEnter,n=e.onMouseLeave,l=e.onFocus,u=e.onBlur;return(0,r.jsx)(s.Clickable,{className:v()(ue().iconItem,i?ue().alwaysShown:void 0),onClick:a,tabIndex:o,"aria-label":H.Z.Messages.EDIT_CHANNEL,onMouseEnter:t,onMouseLeave:n,onFocus:l,onBlur:u,children:(0,r.jsx)(_n.Z,{width:16,height:16,className:ue().actionIcon})})}})}function Gn(e){var t=e.channel,o=e.isDefaultChannel,i=void 0!==o&&o,a=e.locked,l=e.tabIndex,u=e.forceShowButtons,f=function(){if(null!=d){var e=Cn.Z.getAllActiveStreams().filter((function(e){return e.state!==G.jm8.ENDED&&e.channelId===t.id}));(0,s.openModalLazy)(Pn((function(){var o,i;return kn(this,(function(a){
switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,Mn(Nn({},n),{guild:d,channel:t,streamUserId:1===e.length?e[0].ownerId:null,source:G.t4x.GUILD_CHANNELS,guildScheduledEvent:h}))}]}}))})))}},d=(0,c.e7)([ut.Z],(function(){return ut.Z.getGuild(t.getGuildId())})),p=(0,c.e7)([En.Z],(function(){return En.Z.getStageInstanceByChannel(t.id)}),[t.id]),h=(0,c.e7)([vn.ZP],(function(){return vn.ZP.getActiveEventByChannel(t.id)}),[t.id]),y=(0,c.e7)([S.Z],(function(){return(0,gn.b)(S.Z,d,t,p)})),b=(0,c.e7)([S.Z],(function(){return S.Z.can(G.Plq.CREATE_INSTANT_INVITE,t)?H.Z.Messages.CREATE_INSTANT_INVITE:H.Z.Messages.INVITE_TO_SERVER}));if(a||!y)return null;var m=(0,r.jsx)(In.Z,{width:16,height:16,className:ue().actionIcon,"aria-hidden":!0});i&&(m=(0,r.jsx)(Xt.Z,{tutorialId:"instant-invite",position:"left",children:(0,r.jsx)("div",{children:m})}));return(0,
r.jsx)(s.Tooltip,{text:b,spacing:2,children:function(e){return(0,r.jsx)(s.Clickable,Mn(Nn({className:v()(ue().iconItem,u?ue().alwaysShown:void 0)},e),{onClick:f,tabIndex:l,"aria-label":b,children:m}))}})}function Hn(e){var t=e.channel,n=function(){(0,On._U)(t.guild_id,t.id)};return(0,r.jsx)(s.Tooltip,{text:H.Z.Messages.REMOVE_FAVORITE_SUGGESTION,spacing:2,children:function(e){return(0,r.jsx)(s.Clickable,Mn(Nn({className:ue().iconItem},e),{onClick:n,"aria-label":H.Z.Messages.REMOVE_FAVORITE_SUGGESTION,children:(0,r.jsx)(jn.Z,{width:16,height:16,className:ue().actionIcon})}))}})}function Vn(e){var t=e.channel,n=function(){(0,On.dM)(t.guild_id,t.id,!0,{section:G.jXE.CHANNEL_LIST})};return(0,r.jsx)(s.Tooltip,{text:H.Z.Messages.ADD_FAVORITE,spacing:2,children:function(e){return(0,r.jsx)(s.Clickable,Mn(Nn({className:ue().iconItem},e),{onClick:n,"aria-label":H.Z.Messages.ADD_FAVORITE,children:(0,r.jsx)(Sn.Z,{width:16,height:16,className:ue().actionIcon})}))}})}var Wn=function(e){
!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ln(e,t)}(n,e);var t=Dn(n);function n(){xn(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderEditButton=function(){return(0,r.jsx)(Fn,Nn({},this.props))};o.renderInviteButton=function(){return(0,r.jsx)(Gn,Nn({},this.props))};o.renderRemoveSuggestionButton=function(){return(0,r.jsx)(Hn,Nn({},this.props))};o.renderAcceptSuggestionButton=function(){return(0,r.jsx)(Vn,Nn({},this.props))};o.getClassName=function(){var e=this.props;return Bn(e.position,e.sortingPosition)};o.isDisabled=function(){var e=this.props;return Un(e.channel,e.sorting,e.sortingType)};return n}(o.PureComponent);Wn.defaultProps={isDefaultChannel:!1};var zn=n(630203);function Yn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}
function Kn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yn(i,r,o,a,l,"next",e)}function l(e){Yn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function qn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Qn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this
}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var Jn=It((function(e){
var t=e.guild,i=e.selectedChannelId,a=e.position,l=e.disableManageChannels,u=e.sorting,s=e.sortingType,f=e.sortingPosition,d=e.connectChannelDragSource,p=e.connectChannelDropTarget,h=e.tabIndex,y=(0,c.e7)([Ee.Z,Me.ZP],(function(){var e=Me.ZP.getDirectoryChannelIds(t.id);return 0===e.length?null:Ee.Z.getChannel(e[0])})),b=(0,c.e7)([Ee.Z],(function(){return Ee.Z.getChannel(null==y?void 0:y.parent_id)})),m=i===(null==y?void 0:y.id),g=(0,c.e7)([S.Z],(function(){return null!=b?S.Z.can(G.Plq.MANAGE_CHANNELS,b):null!=t&&S.Z.can(G.Plq.MANAGE_CHANNELS,t)})),E=o.useCallback((function(e){null!=y&&(0,O.jW)(e,Kn((function(){var e,t;return Qn(this,(function(o){switch(o.label){case 0:return[4,n.e(14284).then(n.bind(n,914284))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Xn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){qn(e,t,n[t])}))}return e}({},e),{channel:y}))}]}}))})))}),[y]);if(null==y)return null;var C,j=Bn(a,f),_=Un(y,u,s),I=(0,r.jsx)("div",{className:v()(j,(C={},qn(C,ue().disabled,_),qn(C,ue().selected,m),C)),"data-dnd-name":y.name,children:(0,r.jsxs)(zn.Z,{className:ue().iconVisibility,channel:y,guild:t,selected:m,onContextMenu:E,forceInteractable:!0,children:[(0,r.jsx)(Gn,{channel:y,tabIndex:h}),(0,r.jsx)(Fn,{channel:y,disableManageChannels:l,tabIndex:h})]})});g&&(I=p(d(I)));return I}));const $n=Jn;var er=n(318715),tr=n(418705),nr=n(336194),rr=n(351330),or=n(404741),ir=n(977997),ar=n(353886),lr=(n(232100),n(531441)),ur=n(102921),cr=n(290679),sr=n(795589),fr=n.n(sr);function dr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pr(e){
return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dr(i,r,o,a,l,"next",e)}function l(e){dr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function hr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var br=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i
;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function mr(e){var t=e.guild,i=e.selected,a=(0,ir.Z)(t),l=(0,rr.wE)(tr.z$.CHANNEL_BROWSER_NEW_BADGE_NUX),u=(0,er.ZP)([Ze.ZP],(function(){
return Ze.ZP.hasUnread(t.id,cr.W.GUILD_ONBOARDING_QUESTION)})),c=(0,er.ZP)([or.Z,Ze.ZP],(function(){var e=or.Z.lastFetchedAt(t.id),n=Ze.ZP.lastMessageId(t.id,cr.W.GUILD_ONBOARDING_QUESTION);if(null==n)return!1;var r=ur.Z.extractTimestamp(n);return null!=e&&e>r})),f=!l||u,d=o.useCallback((function(){(0,oe.uL)(G.Z5c.CHANNEL(t.id,a?ae.oC.CUSTOMIZE_COMMUNITY:ae.oC.CHANNEL_BROWSER))}),[t.id,a]),p=o.useCallback((function(e){(0,O.jW)(e,pr((function(){var e,o;return br(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(93087)]).then(n.bind(n,93087))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,yr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hr(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))
})))}),[t]),h=null;!f||i||c||(h=(0,r.jsx)(lr.IG,{color:nr.Z.unsafe_rawColors.BRAND_260.css,text:H.Z.Messages.NEW,className:fr().newChannel}));return(0,r.jsx)("div",{className:v()(ue().containerDefault,hr({},ue().selected,i)),children:(0,r.jsx)("div",{className:v()(ue().iconVisibility,se().wrapper,hr({},se().modeSelected,i)),children:(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,{className:se().mainContent,onClick:d,onContextMenu:p,children:[(0,r.jsx)("div",{className:se().iconContainer,children:(0,r.jsx)(ar.Z,{className:se().icon})}),(0,r.jsx)("div",{className:se().name,children:a?H.Z.Messages.CHANNELS_AND_ROLES:H.Z.Messages.CHANNEL_BROWSER_TITLE}),h]})})})})}var vr=n(761953),gr=n(945549),Or=n(83527),Er=n(409005);function Cr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cr(e,t,n[t])}))}return e}function jr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _r(e){var t=e.guild,n=e.selected,i=(0,u.JA)("home-tab-".concat(t.id)),a=Be.bO.useExperiment({},{autoTrackExposure:!1}).showBadge;o.useEffect((function(){Be.bO.trackExposure({})}),[]);var l,f=(0,Ve.g)(t.id),d=(0,c.e7)([Ze.ZP],(function(){return Ze.ZP.hasUnread(t.id,cr.W.GUILD_HOME)&&a}),[t.id,a]);return(0,
r.jsxs)("div",{className:v()(ue().iconVisibility,se().wrapper,(l={},Cr(l,se().modeSelected,n),Cr(l,se().modeUnread,d),l)),children:[d&&!n&&(0,r.jsx)("div",{className:v()(se().unread,se().unreadRelevant)}),(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,jr(Sr({},i),{className:se().mainContent,onClick:function(){(0,gr.X)(t.id);(0,oe.uL)(G.Z5c.CHANNEL(t.id,ae.oC.GUILD_HOME))},onMouseDown:function(){vr.Z.preload(t.id,ae.oC.GUILD_HOME)},children:[(0,r.jsx)("div",{className:se().iconContainer,children:f?(0,r.jsx)(Er.Z,{className:se().icon}):(0,r.jsx)(Or.Z,{className:se().icon})}),(0,r.jsx)("div",{className:se().name,children:f?H.Z.Messages.SERVER_GUIDE:H.Z.Messages.GUILD_HOME})]}))})]})}var Ir=n(120306);function wr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pr(e){var t=e.guild,n=e.selected;return(0,r.jsx)("div",{className:v()(ue().containerDefault,wr({},ue().selected,n)),children:(0,
r.jsx)("div",{className:v()(ue().iconVisibility,se().wrapper,wr({},se().modeSelected,n)),children:(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,{className:se().mainContent,onClick:function(){(0,oe.uL)(G.Z5c.CHANNEL(t.id,ae.oC.MEMBER_APPLICATIONS))},children:[(0,r.jsx)("div",{className:se().iconContainer,children:(0,r.jsx)(Ir.Z,{className:se().icon,width:24,height:24})}),(0,r.jsx)("div",{className:se().name,children:H.Z.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS})]})})})})}var xr=n(795470),Ar=n(689175),Tr=n(133998),Nr=n.n(Tr);function Mr(e,t){return(0,r.jsx)(s.Text,{variant:"text-xs/bold",color:"text-normal",children:e},t)}var Zr=o.memo((function(e){var t=e.guild,n=(0,c.e7)([He.Z],(function(){return He.Z.getNewMemberActions(t.id)})),i=(0,c.e7)([Ar.Z],(function(){return Ar.Z.getCompletedActions(t.id)})),a=o.useMemo((function(){if(null==n||null==i)return 0;var e=0;n.forEach((function(t){null!=i[t.channelId]&&e++}));return e}),[i,n]),l=null==n?0:n.length
;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Clickable,{className:Nr().progressBarContainer,onClick:function(){(0,oe.uL)(G.Z5c.CHANNEL(t.id,ae.oC.GUILD_HOME))},children:[(0,r.jsxs)("div",{className:Nr().progressBarText,children:[(0,r.jsx)(s.Heading,{variant:"heading-sm/bold",children:H.Z.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_GET_STARTED}),(0,r.jsxs)("div",{className:Nr().rightContainer,children:[(0,r.jsx)(s.Text,{variant:"text-xs/medium",color:"text-muted",className:Nr().rightText,children:H.Z.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_COUNTER.format({numberHook:Mr,total:l.toString(),completed:a.toString()})}),(0,r.jsx)(j.Z,{className:Nr().arrow,width:16,height:16,direction:j.Z.Directions.RIGHT})]})]}),(0,r.jsx)(s.Progress,{className:Nr().progressBar,foregroundGradientColor:[(0,xr.Lq)(G.Ilk.GREEN_300),(0,xr.Lq)(G.Ilk.GREEN_230)],percent:a/l*100+3,animate:!0})]}),(0,r.jsx)("div",{role:"separator",className:Nr().divider})]})})),Lr=n(772040),Rr=n(366007)
;function Dr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dr(i,r,o,a,l,"next",e)}function l(e){Dr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ur(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Br(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Fr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],
ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Gr(e){
var t=e.guild,o=e.selected;return(0,r.jsx)("div",{className:v()(ue().containerDefault,Ur({},ue().selected,o)),children:(0,r.jsx)("div",{className:v()(ue().iconVisibility,se().wrapper,Ur({},se().modeSelected,o)),children:(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,{className:se().mainContent,onClick:function(){(0,oe.uL)(G.Z5c.CHANNEL(t.id,ae.oC.ROLE_SUBSCRIPTIONS))},onContextMenu:function(e){null!=t&&(0,O.jW)(e,kr((function(){var e,o;return Fr(this,(function(i){switch(i.label){case 0:return[4,n.e(27314).then(n.bind(n,727314))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Br(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ur(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))},
children:[(0,r.jsx)("div",{className:se().iconContainer,children:(0,r.jsx)(Lr.Z,{className:se().icon,color:o?Rr.JX.CREATOR_REVENUE:void 0})}),(0,r.jsx)("div",{className:se().name,children:H.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_CHANNEL_LABEL})]})})})})}var Hr=n(487685),Vr=n(367406),Wr=n(407561);function zr(e){return null!=e&&e>0}var Yr=n(708258),Kr=n(542231),qr=n(883825),Xr=n.n(qr);function Qr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jr(e){var t,n=e.total,o=e.users,i=e.videoLimit;return(0,r.jsxs)("div",{className:Xr().wrapper,children:[(0,r.jsxs)("span",{className:v()(Xr().users,(t={},Qr(t,Xr().video,i),Qr(t,Xr().extraLong,o>=100),t)),children:[i?(0,r.jsx)(Kr.Z,{className:Xr().videoIcon}):null,o.toString().padStart(2,"0")]}),(0,r.jsx)("span",{className:v()(Xr().total,Qr({},Xr().extraLong,n>=100)),children:n.toString().padStart(2,"0")})]})}function $r(e){var t=e.channel,n=e.video,o=e.userCount,i=(0,
Yr.Z)(t).limit,a=-1,l=!1;t.userLimit>0&&(a=t.userLimit);if(n&&i>0){l=a<0||i<a;a=a>0?Math.min(a,i):i}return(0,r.jsx)(Jr,{users:o,total:a,videoLimit:l})}var eo=n(550744),to=n.n(eo);function no(e){var t=e.mentionsCount;return(0,r.jsx)("div",{className:to().mentionsBadge,"aria-hidden":!0,children:(0,r.jsx)(lr.mA,{count:t})})}var ro=n(973198),oo=n(379364),io=n(948025),ao=n.n(io);function lo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function uo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lo(i,r,o,a,l,"next",e)}function l(e){lo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function co(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){co(e,t,n[t])}))}return e}function fo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function po(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var ho=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function yo(e){var t,i=e.thread,a=e.isSelectedChannel,l=e.isSelectedVoice,f=e.isLast,d=(0,c.e7)([Ce.ZP],(function(){return Ce.ZP.getVoiceStatesForChannel(i)}),[i]),p=(0,c.e7)([Wr.Z],(function(){return Wr.Z.hasVideo(i.id)})),h=(0,c.cj)([Ze.ZP],(function(){return{unread:Ze.ZP.hasUnread(i.id),mentionCount:Ze.ZP.getMentionCount(i.id)}})),y=h.unread,b=h.mentionCount,m=(0,c.e7)([Hr.Z],(function(){return Hr.Z.isMuted(i.id)})),g=o.useCallback((function(e){(0,Vr.ok)(i,!e.shiftKey,oo.on.CHANNEL_LIST)}),[i]),E=o.useCallback((function(){vr.Z.preload(i.guild_id,i.id)}),[i.guild_id,i.id]),C=o.useCallback((function(e){var t=Ee.Z.getChannel(i.id);null!=t&&(0,O.jW)(e,uo((function(){var e,o;return ho(this,(function(i){switch(i.label){case 0:return[4,n.e(81580).then(n.bind(n,881580))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,
r.jsx)(o,fo(so({},e),{channel:t}))}]}}))})))}),[i.id]),S=null==d?0:d.length,j=(0,u.JA)(i.id),_=j.role,I=po(j,["role"]),w=o.useRef(null),P=o.useRef(null),x=b>0?H.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS.format({channelName:i.name,mentionCount:b}):y?H.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS.format({channelName:i.name}):H.Z.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL.format({channelName:i.name});return(0,r.jsxs)("li",{role:_,className:v()(ue().containerDefault,co({},ue().selected,a)),children:[(0,r.jsx)(bo,{}),f?null:(0,r.jsx)(bo,{style:{transform:"rotateX(180deg) translateY(-9px)"}}),(0,r.jsx)(s.FocusRing,{focusTarget:w,ringTarget:P,offset:{top:2,bottom:2,right:4},children:(0,r.jsxs)("div",{className:v()(ue().iconVisibility,se().wrapper,se().typeThread,(t={},co(t,se().modeSelected,a),co(t,se().modeMuted,!a&&m),co(t,se().modeUnread,!m&&!a&&y),t)),onMouseDown:E,onContextMenu:C,children:[!y||m||a?null:(0,r.jsx)("div",{
className:v()(se().unread,se().unreadRelevant)}),(0,r.jsx)("div",{className:se().content,ref:P,children:(0,r.jsxs)(s.Clickable,fo(so({innerRef:w,className:v()(se().mainContent,se().threadMainContent),onClick:g},I),{"aria-label":x,focusProps:{enabled:!1},children:[(0,r.jsx)(Pt.Z,{className:v()(se().name,se().channelName),"aria-hidden":!0,children:i.name}),(0,r.jsxs)("div",{className:se().children,children:[S>0&&i.userLimit>0?(0,r.jsx)($r,{userCount:S,video:p,channel:i}):null,zr(b)?(0,r.jsx)(no,{mentionsCount:b}):null]})]}))})]})}),(0,r.jsx)(ro.Z,{channel:i,collapsed:!l,collapsedMax:6,voiceStates:d,location:G.Sbl.GUILD_CHANNEL_LIST})]})}function bo(e){var t=e.style;return(0,r.jsx)("svg",{className:ao().spine,width:"12",height:"11",viewBox:"0 0 12 11",fill:"none","aria-hidden":!0,style:t,children:(0,r.jsx)("path",{d:"M11 9H4C2.89543 9 2 8.10457 2 7V1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1V7C0 9.20914 1.79086 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9Z",
fill:"currentColor"})})}const mo=o.memo(yo);function vo(e){var t=e.channel,n=e.selectedChannel,o=e.selectedVoiceChannelId,i=e.sortedThreadIds,a=(0,c.Wu)([Ee.Z],(function(){return i.map((function(e){return Ee.Z.getChannel(e)})).filter(Se.lm)}),[i]),l=(0,c.e7)([Ce.ZP],(function(){var e=a[a.length-1];if(null==e)return 0;var t=Ce.ZP.getVoiceStates(e.guild_id)[e.id];return null==t||0===t.length?0:o!==e.id?40:32*t.length+8}));return(0,r.jsx)("li",{className:ao().container,children:(0,r.jsxs)("ul",{role:"group","aria-label":H.Z.Messages.THREAD_GROUP_A11Y_LABEL.format({channelName:t.name}),children:[(0,r.jsx)("div",{className:ao().spineBorder,style:{bottom:24+l}}),a.map((function(e,t){return(0,r.jsx)(mo,{thread:e,isSelectedChannel:(null==n?void 0:n.id)===e.id,isSelectedVoice:o===e.id,isLast:t===a.length-1},e.id)}))]})})}const go=o.memo(vo)
;var Oo=n(247250),Eo=n(387927),Co=n(959468),So=n(276985),jo=n(716371),_o=n(414306),Io=n(84441),wo=n(852626),Po=n(426797),xo=n(746477),Ao=n(473903),To=n(58118),No=n(415788),Mo=n.n(No);function Zo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Lo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zo(i,r,o,a,l,"next",e)}function l(e){Zo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ro(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ro(e,t,n[t])}))}return e}function ko(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Uo,Bo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e[e.VOICE=0]="VOICE"}(Uo||(Uo={}));const Fo=function(e){var t=e.type,o=e.guildId,i=e.closePopout,a=(0,Re.Dt)(),l=(0,c.e7)([xo.Z],(function(){return xo.Z.getCheck(o)}),[o]),u=l.notClaimed,f=l.notEmailVerified,d=l.notPhoneVerified,p=l.newAccount,h=l.newMember,y=t===Uo.VOICE?H.Z.Messages.GUILD_VERIFICATION_VOICE_HEADER:null,b=null,m=null;if(t===Uo.VOICE)if(u){b=H.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_CLAIMED;m=H.Z.Messages.CLAIM_ACCOUNT}else if(d){
b=H.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_PHONE_VERIFIED;m=H.Z.Messages.VERIFY_PHONE}else if(f){b=H.Z.Messages.GUILD_VERIFICATION_VOICE_NOT_VERIFIED;m=H.Z.Messages.RESEND_VERIFICATION_EMAIL}else if(h){b=H.Z.Messages.GUILD_VERIFICATION_VOICE_MEMBER_AGE.format({min:G.fDV.MEMBER_AGE});m=H.Z.Messages.OKAY}else if(p){b=H.Z.Messages.GUILD_VERIFICATION_VOICE_ACCOUNT_AGE.format({min:G.fDV.ACCOUNT_AGE});m=H.Z.Messages.OKAY}if(null==y||null==b)return null;return(0,r.jsxs)(s.Dialog,{className:Mo().container,"aria-labelledby":a,children:[(0,r.jsx)("img",{alt:"",className:Mo().image,src:n(522873)}),(0,r.jsxs)("div",{className:Mo().content,children:[(0,r.jsx)(s.Heading,{variant:"heading-md/semibold",id:a,children:y}),(0,r.jsx)(s.Text,{color:"header-secondary",variant:"text-sm/normal",children:b}),(0,r.jsxs)("div",{className:Mo().buttonContainer,children:[null!=m?(0,r.jsx)(s.Button,{onClick:function(){if(u)wo.j();else if(d)(0,s.openModalLazy)(Lo((function(){var e,t;return Bo(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(11177)]).then(n.bind(n,411177))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Do({reason:Po.L.GUILD_PHONE_REQUIRED},e))}]}}))})),{modalKey:To.M});else if(f){Io.Z.verifyResend();(0,s.openModal)((function(e){var t;return(0,r.jsx)(s.ConfirmModal,ko(Do({header:H.Z.Messages.VERIFICATION_EMAIL_TITLE,confirmText:H.Z.Messages.OKAY,confirmButtonColor:s.Button.Colors.BRAND},e),{children:(0,r.jsx)(s.Text,{variant:"text-md/normal",children:H.Z.Messages.VERIFICATION_EMAIL_BODY.format({email:null===(t=Ao.default.getCurrentUser())||void 0===t?void 0:t.email})})}))}))}i()},className:Mo().primaryButton,children:m}):null,u||d||f?(0,r.jsx)(s.Button,{onClick:i,look:s.Button.Looks.BLANK,className:Mo().cancel,children:H.Z.Messages.NEVERMIND}):null]})]})]})};var Go=n(451458),Ho=n(915840),Vo=n(442812),Wo=n(713717),zo=n(736818),Yo=n(933022);var Ko,qo=n(455771);!function(e){e[e.NORMAL=0]="NORMAL";e[e.START_EVENT=1]="START_EVENT"
}(Ko||(Ko={}));function Xo(e){var t=(0,qo.Z)(e),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.cj)([Yo.ZP,zo.default],(function(){var n=zo.default.getId();return Yo.ZP.getPermissionsForUser(n,e,t)}),[e,t])}(e,!0).moderator;return!t&&n?Ko.START_EVENT:Ko.NORMAL}var Qo=n(980617),Jo=n(921122),$o=n(933954),ei=n(438355),ti=n(358969),ni=n(124296),ri=n(957361),oi=n.n(ri);function ii(e){var t=e.locked;return(0,r.jsx)("div",{className:v()(ue().iconItem,oi().premiumChannelIcon),children:(0,r.jsx)(ni.Z,{className:ue().actionIcon,useGradient:t})})}var ai=n(18882),li=n(913302);function ui(e){var t=e.channel,n=e.locked,r=e.video,o=e.selected,i=(0,Yr.Z)(t).limit,a=-1;t.userLimit>0&&(a=t.userLimit);r&&i>0&&(a=a>0?Math.min(a,i):i);return a>0&&!n&&!o}var ci=n(125680);function si(e){
var t,n,o=e.channel,i=e.highlighted,a=e.isChannelSelected,l=e.isChannelCollapsed,u=e.voiceStates,f=e.enableConnectedUserLimit,d=e.enableActivities,p=e.isSubscriptionGated,h=e.needSubscriptionToAccess,y=e.isNewChannel,b=e.muted,m=(0,c.e7)([Ze.ZP],(function(){return Ze.ZP.getMentionCount(o.id)})),v=(0,$o.ZP)(o),g=(0,c.e7)([S.Z],(function(){return!S.Z.can(G.Plq.CONNECT,o)})),O=(0,c.e7)([Wr.Z],(function(){return Wr.Z.hasVideo(o.id)})),E=(0,Wo.PK)(o.id)&&o.isGuildStageVoice(),C=ui({channel:o,locked:g,video:O||E,selected:a}),j=(0,c.e7)([ai.Z],(function(){return ai.Z.getNewThreadCount(o.guild_id,o.id)})),_=(0,ti.n2)(o.guild_id,o.id),I=(0,c.e7)([ut.Z],(function(){var e;return null!==(t=null===(e=ut.Z.getGuild(o.guild_id))||void 0===e?void 0:e.hasFeature(G.oNc.COMMUNITY))&&void 0!==t&&t}));if(zr(m))return(0,r.jsx)(no,{mentionsCount:m});if(y)return(0,r.jsx)(lr.IG,{text:H.Z.Messages.NEW,color:nr.Z.unsafe_rawColors.BRAND_260.css,className:fr().newChannel});if(i)return(0,r.jsx)(ei.Z,{width:16,
height:16});if(!b&&o.isForumLikeChannel()&&null!=j&&j>0)return(0,r.jsx)(s.Text,{variant:"text-xs/semibold",color:"text-brand",children:H.Z.Messages.CHANNEL_NEW_POSTS_LABEL.format({count:(0,lr.NG)(j)})});if(!b&&o.isForumLikeChannel()&&null!=_&&_>0)return(0,r.jsx)(s.Text,{variant:"text-xs/semibold",color:"text-muted",children:(0,lr.NG)(_)});var w=null!==(n=null==u?void 0:u.length)&&void 0!==n?n:0;return null!=f&&f&&C?(0,r.jsx)($r,{userCount:w,video:O||E,channel:o}):l&&(0,li.a)(u)&&I?(0,r.jsx)(lr.IG,{text:H.Z.Messages.LIVE,color:nr.Z.unsafe_rawColors.RED_400.css}):null!=d&&d&&function(e){return e.length>0}(v)?(0,r.jsx)(ci.Z,{embeddedApps:v}):p?(0,r.jsx)(ii,{locked:h}):null}var fi=n(485911),di=n(314824),pi=n.n(di);function hi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){hi(i,r,o,a,l,"next",e)}function l(e){
hi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vi(e){vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return vi(e)}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){mi(e,t,n[t])}))}return e}function Oi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ei(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ci(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Si(e,t){Si=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Si(e,t)}var ji=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _i(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ci(this,n)}}var Ii=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Si(e,t)}(o,e);var t=_i(o);function o(){bi(this,o);var e;(e=t.apply(this,arguments)).state={shouldShowGuildVerificationPopout:!1};e.closeGuildVerificationPopout=function(){e.setState({shouldShowGuildVerificationPopout:!1})};e.handleClick=function(){
var t=e.props,n=t.channel,r=t.locked,o=t.connected,i=t.unverifiedAccount,a=n.getGuildId();null!=a&&(0,jo.n)(a)&&(0,So.hk)(a);i&&e.setState({shouldShowGuildVerificationPopout:!0});r||o||n.isRoleSubscriptionTemplatePreviewChannel()||(0,Ho.Cq)(n);__OVERLAY__||(0,Go.Kh)(n.id)};e.handleClickChat=function(){var t=e.props,n=t.channel,r=t.locked;__OVERLAY__||r||(0,Go.Kh)(n.id)};e.handleContextMenu=function(t){var o=e.props.channel,i=ut.Z.getGuild(o.getGuildId());null!=i&&(0,O.jW)(t,yi((function(){var e,t;return Ii(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(37472)]).then(n.bind(n,37472))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Oi(gi({},e),{channel:o,guild:i}))}]}}))})))};e.renderPopout=function(){var t=e.props.channel;if(e.state.shouldShowGuildVerificationPopout)return(0,r.jsx)(Fo,{type:Uo.VOICE,guildId:t.guild_id,closePopout:e.closeGuildVerificationPopout})
;throw new Error("VoiceChannel.renderPopout: There must always be something to render")};e.renderOpenChatButton=function(){var t=e.props,n=t.channel,o=t.locked,i=t.forceShowButtons;if(n.isGuildStageVoice()&&(0,Qo.Og)(n.guild_id)&&!o)return(0,r.jsx)(s.Tooltip,{text:H.Z.Messages.OPEN_CHAT,spacing:2,children:function(t){var o=t.onMouseEnter,a=t.onMouseLeave,l=t.onFocus,u=t.onBlur;return(0,r.jsx)(s.Clickable,{className:v()(ue().iconItem,ue().openChatIconItem,i?ue().alwaysShown:null),onClick:function(){Oo.Z.updateChatOpen(n.id,!0);e.handleClickChat()},"aria-label":H.Z.Messages.OPEN_CHAT,onMouseEnter:o,onMouseLeave:a,onFocus:l,onBlur:u,children:(0,r.jsx)(Jo.Z,{width:16,height:16,className:ue().actionIcon})})}})};e.getTooltipText=function(){var t=e.props.connected;return e.isFull()&&!t?H.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL:null};return e}var i=o.prototype;i.getVoiceStatesCount=function(){var e,t=this.props.voiceStates;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0}
;i.isFull=function(){var e=this.props.channel;return(0,un.rY)(e,Wr.Z,ut.Z)};i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?ue().containerUserOver:null!=n?t>n?ue().containerDragAfter:ue().containerDragBefore:ue().containerDefault};i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.collapsed,o=e.tabIndex,i=e.speakerVoiceStates,a=e.numAudience;return(0,r.jsx)(ro.Z,{channel:t,voiceStates:i,collapsed:n,tabIndex:o,location:G.Sbl.GUILD_CHANNEL_LIST,numAudience:a})};i.renderChannelInfo=function(){return this.props.channelInfo};i.render=function(){
var e=this,t=this.props,n=t.channel,o=t.selected,i=t.connected,a=t.locked,l=t.connectChannelDropTarget,u=t.connectChannelDragSource,c=t.connectUserDropTarget,f=t.connectDragPreview,d=t.canReorderChannel,p=t.canMoveMembers,h=t.stageInstance,y=t.isSubscriptionGated,b=t.needSubscriptionToAccess,m=t.unread,g=t.mentionCount,O=t.isFavoriteSuggestion,E=this.state.shouldShowGuildVerificationPopout,C=this.getVoiceStatesCount(),S=(0,r.jsxs)("li",{className:v()(this.getModeClass(),mi({},ue().disabled,this.isDisabled())),"data-dnd-name":n.name,children:[(0,r.jsx)(s.Popout,{position:"right",renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:E,children:function(){return(0,r.jsx)(s.Tooltip,{text:e.getTooltipText(),children:function(t){var l=t.onClick,u=t.onContextMenu,c=Ei(t,["onClick","onContextMenu"]);return(0,r.jsxs)(zn.Z,Oi(gi({className:ue().iconVisibility,iconClassName:v()(mi({},pi().iconLive,null!=h)),channel:n,selected:!O&&o,connected:i,
unread:i?m:void 0,mentionCount:g,locked:a,onClick:function(){e.handleClick();null==l||l()},onContextMenu:function(t){e.handleContextMenu(t);null==u||u()},connectDragPreview:f,subtitle:null==h?void 0:h.topic,isFavoriteSuggestion:O,"aria-label":(0,Co.Z)({channel:n,unread:m,mentionCount:g,userCount:C,isSubscriptionGated:y,needSubscriptionToAccess:b})},c),{children:[O&&e.renderAcceptSuggestionButton(),O&&e.renderRemoveSuggestionButton(),!O&&e.renderOpenChatButton(),!O&&e.renderInviteButton(),!O&&e.renderEditButton(),!O&&e.renderChannelInfo()]}))}})}}),this.renderVoiceUsers()]});p&&(S=c(S));d&&(S=l(u(S)));return S};return o}(Wn),Pi=It((0,Eo.Q)(wi));function xi(e){var t=e.guild,n=e.channel,o=e.disableSorting,i=e.isFavoriteCategory,a=e.collapsed,l=e.voiceStates,u=(0,c.cj)([Ze.ZP],(function(){return{unread:Ze.ZP.hasUnread(n.id),mentionCount:Ze.ZP.getMentionCount(n.id)}})),s=(0,c.cj)([Ee.Z,xo.Z,S.Z],(function(){var e=Ee.Z.getChannel(n.parent_id),r=xo.Z.getCheck(n.guild_id);return{
canManageChannel:null!=t&&S.Z.can(G.Plq.MANAGE_CHANNELS,n),canReorderChannel:!0!==o&&(t.id===fi._||(null!=e?S.Z.can(G.Plq.MANAGE_CHANNELS,e):S.Z.can(G.Plq.MANAGE_CHANNELS,t))),canMoveMembers:S.Z.can(G.Plq.MOVE_MEMBERS,n),locked:!S.Z.can(G.Plq.CONNECT,n),bypassLimit:S.Z.can(G.Plq.MOVE_MEMBERS,n),unverifiedAccount:!r.canChat}})),f=(0,c.e7)([at.Z],(function(){return at.Z.isCollapsed(n.parent_id)})),d=Xo(n.id),p=(0,c.e7)([En.Z],(function(){return En.Z.getStageInstanceByChannel(n.id)}),[n.id]),h=(0,Vo.Rk)(n.id,Ie.pV.AUDIENCE),y=(0,_o.Z)(n.id),b=y.isSubscriptionGated,m=y.needSubscriptionToAccess,v=(0,c.e7)([wt.Z],(function(){return wt.Z.isFavorite(t.id,n.id)})),g=(0,Wo.xJ)(n.id),O=si({channel:n,highlighted:!1,isChannelSelected:!1,isChannelCollapsed:a,voiceStates:l,isSubscriptionGated:b,needSubscriptionToAccess:m,enableConnectedUserLimit:g||n.userLimit>0&&n.userLimit<G.xGv}),E=e.connected&&null==O;return(0,r.jsx)(Pi,Oi(gi({categoryCollapsed:f,connectAction:d,numAudience:h,stageInstance:p,
isSubscriptionGated:b,needSubscriptionToAccess:m},u,s,e),{isFavoriteSuggestion:i&&!v,forceShowButtons:E,channelInfo:O}))}function Ai(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ai(i,r,o,a,l,"next",e)}function l(e){Ai(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zi(e){Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Zi(e)}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Mi(e,t,n[t])}))}return e}function Ri(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Di(e,t){return!t||"object"!==Ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ki(e,t){ki=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ki(e,t)}var Ui=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Zi(e);if(t){var o=Zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Di(this,n)}}var Fi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,
o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Gi(e){var t=e.getGuildId();if(null==t)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");(0,oe.uL)(G.Z5c.CHANNEL(t,e.id),{state:{analyticsSource:{page:G.ZY5.GUILD_CHANNEL,section:G.jXE.CHANNEL_LIST,object:G.qAy.CHANNEL}}})}function Hi(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId")
;vr.Z.preload(n,t.id)}var Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ki(e,t)}(o,e);var t=Bi(o);function o(){Ni(this,o);var e;(e=t.apply(this,arguments)).handleContextMenu=function(t){var o=e.props.channel,i=ut.Z.getGuild(o.getGuildId());null!=i&&(0,O.jW)(t,Ti((function(){var e,t;return Fi(this,(function(a){switch(a.label){case 0:return[4,n.e(48372).then(n.bind(n,848372))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ri(Li({},e),{channel:o,guild:i}))}]}}))})))};e.handleClick=function(e){Gi(e)};return e}o.prototype.render=function(){var e=this.props,t=e.channel,n=e.selected,o=e.connectChannelDropTarget,i=e.connectChannelDragSource,a=e.connectDragPreview,l=e.canReorderChannel,u=(0,r.jsx)("li",{className:v()(this.getClassName(),Mi({},ue().disabled,this.isDisabled())),
"data-dnd-name":t.name,children:(0,r.jsxs)(zn.Z,{className:ue().iconVisibility,channel:t,selected:n,onClick:this.handleClick,onMouseDown:Hi,onContextMenu:this.handleContextMenu,connectDragPreview:l?a:null,"aria-label":(0,Co.Z)({channel:t}),children:[this.renderInviteButton(),this.renderEditButton()]})});return l?o(i(u)):u};return o}(Wn),Wi=It(Vi);const zi=o.memo((function(e){var t=e.channel,n=e.guild,o=e.disableSorting,i=(0,c.cj)([Ee.Z,S.Z],(function(){var e=Ee.Z.getChannel(t.parent_id);return{canManageChannel:S.Z.can(G.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==o&&null!=e?S.Z.can(G.Plq.MANAGE_CHANNELS,e):S.Z.can(G.Plq.MANAGE_CHANNELS,n)}}));return(0,r.jsx)(Wi,Li({},i,e))}));function Yi(e){if(null==e)return null;switch(e.type){case"embedded-activities":case"event":return{subtitle:e.name};case"go-live":return{subtitle:H.Z.Messages.GO_LIVE_SUBTITLE}}return null}var Ki=n(327566),qi=n(289716),Xi=n(225386),Qi=n(385028),Ji=n(202561),$i=n(775173),ea=n(327311),ta=n.n(ea)
;function na(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){na(i,r,o,a,l,"next",e)}function l(e){na(i,r,o,a,l,"throw",e)}a(void 0)}))}}function oa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var ia=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function aa(e){var t=e.channel,i=(0,c.Wu)([ai.Z,Ze.ZP,S.Z],(function(){var e=ai.Z.getActiveJoinedRelevantThreadsForParent(t.guild_id,t.id);return a()(ai.Z.getActiveJoinedThreadsForParent(t.guild_id,t.id)).values().map((function(e){return e.channel})).concat(a().values(ai.Z.getActiveUnjoinedThreadsForParent(t.guild_id,t.id))).filter((function(t){return!(t.id in e)&&S.Z.can(G.Plq.VIEW_CHANNEL,t)})).sort((function(e,t){var n=Ze.ZP.lastMessageId(e.id),r=Ze.ZP.lastMessageId(t.id)
;return ur.Z.compare(n,r)})).reverse().value()})),l=t.isForumLikeChannel()?5:3;o.useEffect((function(){(0,Ji.q)()}),[]);return(0,r.jsxs)("div",{className:ta().popout,children:[(0,r.jsx)(s.Text,{className:ta().title,variant:"text-xs/bold",color:"header-secondary",children:t.isForumLikeChannel()?H.Z.Messages.ACTIVE_THREADS_POPOUT_HEADER_FORUM:H.Z.Messages.ACTIVE_THREADS_POPOUT_HEADER}),i.slice(0,t.isForumLikeChannel()?i.length:l).map((function(e){return(0,r.jsx)(la,{thread:e},e.id)})).filter((function(e){return o.isValidElement(e)})).slice(0,l),(0,r.jsx)(s.Clickable,{className:ta().more,onClick:function(){t.isForumLikeChannel()?(0,Go.Kh)(t.id):(0,s.openModalLazy)(ra((function(){var e,o;return ia(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(21588)]).then(n.bind(n,321588))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){oa(e,t,n[t])}))}return e}({channel:t},e))}]}}))})))},children:(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"none",children:H.Z.Messages.ACTIVE_THREADS_POPOUT_LINK})})]})}function la(e){var t=e.thread,n=(0,c.e7)([Ao.default],(function(){return Ao.default.getUser(t.ownerId)})),o=(0,Ji.Ok)(t);return(0,r.jsxs)(s.Clickable,{className:ta().row,onClick:function(e){(0,Vr.ok)(t,t.isForumPost()?e.shiftKey:!e.shiftKey,oo.on.POPOUT)},children:[null==n?(0,r.jsx)("img",{className:ta().avatar,src:$i.ZP.getDefaultAvatarURL(void 0,void 0),alt:""}):(0,r.jsx)(Qi.Z,{className:ta().avatar,user:n,size:s.AvatarSizes.SIZE_16}),(0,r.jsx)(s.Text,{className:ta().name,variant:"text-sm/normal",color:"none",children:t.name}),(0,r.jsxs)(s.Text,{className:ta().timestamp,variant:"text-sm/normal",color:"none",
children:[(0,r.jsx)("span",{className:ta().bullet,children:"•"}),(0,Ji.Ye)(o)]})]})}function ua(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ca(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ua(i,r,o,a,l,"next",e)}function l(e){ua(i,r,o,a,l,"throw",e)}a(void 0)}))}}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function da(e){da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return da(e)}function pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fa(e,t,n[t])}))}return e}function ha(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ya(e,t){return!t||"object"!==ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ba(e,t){ba=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ba(e,t)}var ma=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function va(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ya(this,n)}}var ga=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0]
;continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Oa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ba(e,t)}(o,e);var t=va(o);function o(){sa(this,o);var e;(e=t.apply(this,arguments)).state={shouldShowThreadsPopout:!1};e.enterTimer=0;e.exitTimer=0;e.handleMouseEnter=function(){if(e.props.canShowThreadPreviewForUser){e.resetThreadPopoutTimers();e.enterTimer=setTimeout((function(){e.setState({
shouldShowThreadsPopout:!0})}),200)}};e.handleMouseLeave=function(){e.resetThreadPopoutTimers();e.exitTimer=setTimeout((function(){e.state.shouldShowThreadsPopout&&e.setState({shouldShowThreadsPopout:!1})}),250)};e.handleThreadsPopoutClose=function(){e.resetThreadPopoutTimers();e.setState({shouldShowThreadsPopout:!1})};e.handleMouseDown=function(){e.handleThreadsPopoutClose();var t=e.props,n=t.channel,r=t.highlighted,o=n.getGuildId();vr.Z.preload(null!=o?o:G.ME,n.id,r)};e.renderThreadsPopout=function(t){return(0,r.jsx)(aa,ha(pa({},t),{channel:e.props.channel}))};e.handleContextMenu=function(t){var o=e.props.channel;if(o.type!==G.d4z.GROUP_DM)if(o.type!==G.d4z.DM){var i=ut.Z.getGuild(o.getGuildId());null!=i&&(0,O.jW)(t,ca((function(){var e,t;return ga(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(11261)]).then(n.bind(n,811261))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ha(pa({},e),{channel:o,guild:i}))}]}}))})))
}else{var a=Ao.default.getUser(o.getRecipientId());null!=a&&(0,O.jW)(t,ca((function(){var e,t;return ga(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(50865)]).then(n.bind(n,550865))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ha(pa({},e),{user:a,channel:o,showModalItems:!1}))}]}}))})))}else(0,O.jW)(t,ca((function(){var e,t;return ga(this,(function(i){switch(i.label){case 0:return[4,n.e(13035).then(n.bind(n,413035))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,ha(pa({},e),{channel:o,selected:!0}))}]}}))})))};return e}var i=o.prototype;i.componentWillUnmount=function(){this.resetThreadPopoutTimers()};i.resetThreadPopoutTimers=function(){clearTimeout(this.enterTimer);clearTimeout(this.exitTimer)};i.renderChannelInfo=function(){var e=this.props.channelInfo;return null==e?null:(0,r.jsx)("div",{className:ue().channelInfo,children:e})};i.render=function(){
var e,t=this,n=this.props,o=n.channel,i=n.guild,a=n.selected,l=n.muted,u=n.unread,c=n.canHaveDot,f=n.relevant,d=n.hasActiveThreads,p=n.hasMoreActiveThreads,h=n.mentionCount,y=n.connectChannelDropTarget,b=n.connectChannelDragSource,m=n.connectDragPreview,g=n.canReorderChannel,O=n.isSubscriptionGated,E=n.isFavoriteSuggestion,C=n.subtitle,S=n.forceTopLevelThread,j=p,_=Yi(C),I=(0,r.jsx)("li",{className:v()(this.getClassName(),(e={},fa(e,ue().disabled,this.isDisabled()),fa(e,ue().selected,a),e)),"data-dnd-name":o.name,onMouseEnter:j?this.handleMouseEnter:void 0,onMouseLeave:j?this.handleMouseLeave:void 0,children:(0,r.jsx)(s.Popout,{position:"right",renderPopout:this.renderThreadsPopout,onRequestClose:this.handleThreadsPopoutClose,spacing:0,shouldShow:j&&this.state.shouldShowThreadsPopout,children:function(){return(0,r.jsxs)(zn.Z,{className:ue().iconVisibility,channel:o,guild:i,selected:!E&&a,muted:l,unread:u,canHaveDot:c,relevant:f,mentionCount:h,hasActiveThreads:d,
subtitle:null==_?void 0:_.subtitle,subtitleColor:null==_?void 0:_.color,onMouseDown:t.handleMouseDown,onContextMenu:t.handleContextMenu,connectDragPreview:g?m:null,isFavoriteSuggestion:E,channelTypeOverride:S?G.d4z.GUILD_TEXT:void 0,"aria-label":(0,Co.Z)({channel:o,unread:u,mentionCount:h,isSubscriptionGated:O}),children:[E&&t.renderAcceptSuggestionButton(),E&&t.renderRemoveSuggestionButton(),!E&&t.renderInviteButton(),!E&&t.renderEditButton(),!E&&t.renderChannelInfo()]})}})});return g?y(b(I)):I};return o}(Wn),Ea=It(Oa);function Ca(e){var t=e.channel,n=e.guild,o=e.disableSorting,i=e.isFavoriteCategory,a=e.muted,l=e.selected,u=(0,Xi.JQ)(t),s=u.hasActiveThreads,f=u.hasMoreActiveThreads,d=(0,c.cj)([Ze.ZP],(function(){return{ackMessageId:Ze.ZP.ackMessageId(t.id),unread:Ze.ZP.hasUnread(t.id),mentionCount:Ze.ZP.getMentionCount(t.id)}})),p=(0,c.e7)([Ze.ZP],(function(){return Ze.ZP.hasNotableUnread(t.id)})),h=(0,c.cj)([Ee.Z,S.Z],(function(){var e=Ee.Z.getChannel(t.parent_id);return{
canManageChannel:S.Z.can(G.Plq.MANAGE_CHANNELS,t),canReorderChannel:!0!==o&&(n.id===fi._||(null!=e?S.Z.can(G.Plq.MANAGE_CHANNELS,e):S.Z.can(G.Plq.MANAGE_CHANNELS,n)))}})),y=(0,c.e7)([wt.Z],(function(){return wt.Z.isChannelRelevant(t)})),b=(0,ge.sk)(t.guild_id),m=(0,Ki.rd)(t.id,d.ackMessageId).length>0,v=!(!b||!d.unread)&&m,g=(0,c.e7)([qi.Z],(function(){return qi.Z.shouldIndicateNewChannel(n.id,t.id)})),O=(0,_o.Z)(t.id),E=O.needSubscriptionToAccess,C=O.isSubscriptionGated,j=(0,c.e7)([wt.Z],(function(){return wt.Z.isFavorite(n.id,t.id)})),_=(0,c.e7)([Ao.default],(function(){var e=Ao.default.getCurrentUser();return null!=e&&(!t.isNSFW()||e.nsfwAllowed)}),[t]),I=si({channel:t,highlighted:v,isChannelCollapsed:!1,isChannelSelected:l,isSubscriptionGated:C,needSubscriptionToAccess:E,isNewChannel:g,muted:a});return(0,r.jsx)(Ea,ha(pa({},d,h,e),{highlighted:v,canHaveDot:p,hasActiveThreads:s,hasMoreActiveThreads:f,relevant:y,isSubscriptionGated:C,needSubscriptionToAccess:E,
isNewChannel:g&&e.canBeNewChannel,isFavoriteSuggestion:i&&!j,canShowThreadPreviewForUser:_,channelInfo:I}))}var Sa=n(495085),ja=n(901654),_a=n(294162),Ia=n(377463),wa=n(58838);function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(e){Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Aa(e)}function Ta(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Na(e,t){Na=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Na(e,t)}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Za,La=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Aa(e);if(t){var o=Aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}!function(e){e.HIDDEN="hidden";e.UNREAD="unread";e.MENTIONS="mentions";e.VOICE_CHANNELS="voice-channels"}(Za||(Za={}));var Da={mode:Za.HIDDEN,mentionCount:0,targetChannelId:null},ka={topBar:Da,bottomBar:Da},Ua={},Ba={};function Fa(e){var t=Ee.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&!t.isGuildVocal()&&(!(t.isThread()?Hr.Z.isMuted(t.id):wt.Z.isChannelMuted(t.getGuildId(),t.id))&&Ze.ZP.hasRelevantUnread(t))}function Ga(e){var t=Ee.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=wt.Z.isGuildCollapsed(n),o=wt.Z.isChannelMuted(n,t.id);return(!r||!o)&&Ze.ZP.getMentionCount(e)>0}function Ha(e){
return e.isGuildStageVoice()?_e.Z.getMutableParticipants(e.id,Ie.pV.SPEAKER).length>0:Ce.ZP.getVoiceStatesForChannel(e).length>0}function Va(e){var t,n=ke.Z.getGuildWithoutChangingCommunityRows(e).guildChannels,r=n.getChannels(null!==(t=Ba[e])&&void 0!==t?t:[]);if(null==r||0===r.length)return!1;for(var o,i=null,l=null,u=null,c=null,s=!0,f=!0,d=!1,p=n.getCategoryFromSection(n.voiceChannelsSectionNumber),h=null!==(o=null==p?void 0:p.getShownChannelIds())&&void 0!==o?o:[],y=Ma(n.getSlicedChannels(r),3),b=y[0],m=y[1],v=y[2],g=0;g<m.length;g++){var O=m[g];(Fa(O.id)||a().some(O.threadIds,Fa))&&(f=!1);(Ga(O.id)||a().some(O.threadIds,Ga))&&(s=!1);h.includes(O.id)&&(d=!0);if(!f&&!s&&d)break}var E=0,C=!1,S=0,j=!1;if(f||s)for(var _=b.length-1;_>=0;_--){var I=b[_];if(Fa(I.id)||a().some(I.threadIds,Fa)){null==l&&(l=I.id);C=!0}if(Ga(I.id)||a().some(I.threadIds,Ga)){null==i&&(i=I.id);E+=Ze.ZP.getMentionCount(I.id);E+=a().sumBy(I.threadIds,Ze.ZP.getMentionCount)}}if(f||s)for(var w=0;w<v.length;w++){
var P=v[w];if(!f&&!s)break;if(Fa(P.id)||a().some(P.threadIds,Fa)){null==c&&(c=P.id);j=!0}if(Ga(P.id)||a().some(P.threadIds,Ga)){null==u&&(u=P.id);S+=Ze.ZP.getMentionCount(P.id);S+=a().sumBy(P.threadIds,Ze.ZP.getMentionCount)}}var x,A=null,T=null,N=null!==(x=null==p?void 0:p.getChannelRecords())&&void 0!==x?x:[];s&&S>0?A={mode:Za.MENTIONS,mentionCount:S,targetChannelId:u}:!d&&a().some(N,Ha)?A={mode:Za.VOICE_CHANNELS,mentionCount:0,targetChannelId:null}:f&&j&&(A={mode:Za.UNREAD,mentionCount:0,targetChannelId:c});s&&E>0?T={mode:Za.MENTIONS,mentionCount:E,targetChannelId:i}:f&&C&&(T={mode:Za.UNREAD,mentionCount:0,targetChannelId:l});var M=null!=T&&(null==A||A.mode!==Za.MENTIONS&&T.mode===Za.MENTIONS),Z=null!=A&&(A.mode===Za.MENTIONS||!M);Ua[e]={topBar:M&&null!=T?T:Da,bottomBar:Z&&null!=A?A:Da};return!0}var Wa=a().throttle(Va,200);function za(e){var t=e.guildId,n=ut.Z.getGuild(t);return!(null==n||!n.hasFeature(G.oNc.COMMUNITY))&&Wa(t)}function Ya(e){var t=e.id,n=Ee.Z.getChannel(t)
;if(null==n)return!1;var r=ut.Z.getGuild(n.guild_id);return!(null==r||!r.hasFeature(G.oNc.COMMUNITY))&&Wa(n.guild_id)}function Ka(e){var t=e.channel,n=Ee.Z.getChannel(t.id);if(null==n)return!1;var r=ut.Z.getGuild(t.guild_id);return!(null==r||!r.hasFeature(G.oNc.COMMUNITY))&&Wa(n.guild_id)}function qa(e){var t=e.channelId,n=Ee.Z.getChannel(t);if(null==n)return!1;var r=ut.Z.getGuild(n.guild_id);return!(null==r||!r.hasFeature(G.oNc.COMMUNITY))&&(Le.Z.getGuildId()===n.guild_id&&Wa(n.guild_id))}var Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Na(e,t)}(n,e);var t=Ra(n);function n(){xa(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(ke.Z,Ze.ZP,wt.Z,Hr.Z,Ce.ZP,Le.Z,ut.Z)};r.getUnreadStateForGuildId=function(e){var t;return null!==(t=Ua[e])&&void 0!==t?t:ka}
;r.__getLocalVars=function(){return{EMPTY_BAR:Da,EMPTY_STATE:ka,unreadStatesByGuildId:Ua,visibleChannelIdsByGuildId:Ba,recalculate:Wa}};return n}(c.ZP.Store);Xa.displayName="ChannelListUnreadsStore";const Qa=new Xa(w.Z,{UPDATE_CHANNEL_LIST_DIMENSIONS:function(e){var t=e.guildId,n=e.channelIds,r=ut.Z.getGuild(t);if(null==r||!r.hasFeature(G.oNc.COMMUNITY)||null==n)return!1;if(!a().isEqual(Ba[t],n)){Ba[t]=n;return Va(t)}return!1},BULK_ACK:function(e){var t=e.channels,n=!1;a()(t).map((function(e){var t,n=e.channelId;return null===(t=Ee.Z.getChannel(n))||void 0===t?void 0:t.guild_id})).filter(Se.lm).uniq().forEach((function(e){var t=ut.Z.getGuild(e);null!=t&&t.hasFeature(G.oNc.COMMUNITY)&&Wa(e)&&(n=!0)}));return n},CHANNEL_ACK:qa,CHANNEL_DELETE:Ka,CHANNEL_LOCAL_ACK:qa,MESSAGE_ACK:qa,MESSAGE_CREATE:qa,MESSAGE_DELETE_BULK:qa,MESSAGE_DELETE:qa,PASSIVE_UPDATE_V1:function(e){var t=ut.Z.getGuild(e.guildId);return!(null==e.channels||null==t||!t.hasFeature(G.oNc.COMMUNITY))&&Wa(e.guildId)},
RESORT_THREADS:qa,THREAD_CREATE:Ka,THREAD_DELETE:Ka,THREAD_LIST_SYNC:za,THREAD_MEMBER_UPDATE:Ya,THREAD_MEMBERS_UPDATE:Ya,THREAD_UPDATE:Ka,BULK_CLEAR_RECENTS:za,CATEGORY_COLLAPSE_ALL:za,CATEGORY_EXPAND_ALL:za,VOICE_STATE_UPDATES:function(e){var t=e.voiceStates,n=Le.Z.getGuildId();if(null==n)return!1;if(!new Set(t.map((function(e){return e.guildId}))).has(n))return!1;var r=Ua[n];return null!=r&&r.bottomBar.mode===Za.VOICE_CHANNELS&&Wa(n)},USER_GUILD_SETTINGS_CHANNEL_UPDATE:function(e){var t=e.guildId,n=e.channelId;if(null==t||null==n)return!1;var r=Ba[t];return null!=r&&(!!r.includes(n)&&Wa(t))}});var Ja=n(57937),$a=n.n(Ja);function el(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var tl={friction:30,tension:300};function nl(e){var t,n=e.guildChannels,i=e.jumpToVoiceChannels,a=n.getCategoryFromSection(n.voiceChannelsSectionNumber),l=(0,Sa.Z)(n.id),u=o.useCallback((function(e){e.preventDefault();e.stopPropagation();i()
}),[i]),c=null!==(t=null==a?void 0:a.getChannelRecords())&&void 0!==t?t:[],f=(0,un.c4)({channels:c,selectedChannelId:null,selectedVoiceChannelId:null,voiceStates:l});return(0,r.jsxs)(s.Clickable,{className:v()($a().bar),onClick:u,children:[(0,r.jsx)(Nt.Z,{className:$a().voiceChannelsIcon,width:14,height:14,color:nr.Z.unsafe_rawColors.GREEN_330.css}),(0,r.jsx)(s.Text,{variant:"text-xs/semibold",color:"text-positive",className:$a().barText,children:H.Z.Messages.VOICE_CHANNEL_BAR_ACTIVE.format({count:f.length})}),(0,r.jsx)(_a.Z,{guildId:n.id,className:$a().voiceChannelsUsers,users:f.slice(0,4),renderMoreUsers:function(){return null},max:4,size:s.AvatarSizes.SIZE_16})]})}function rl(e){var t,n=e.position,i=e.guildChannels,a=e.guildChannelsVersion,l=e.jumpToVoiceChannels,u=e.jumpToChannel,f=(0,c.cj)([Qa],(function(){return Qa.getUnreadStateForGuildId(i.id)})),d=f.bottomBar,p=f.topBar,y=(0,c.e7)([h.Z],(function(){return h.Z.useReducedMotion})),b=(0,c.e7)([ja.Z],(function(){
return ja.Z.isFocused()})),m="bottom"===n?d:p,O=m.mode,E=m.mentionCount,C=m.targetChannelId,S=O===Za.HIDDEN,j="bottom"===n?"translateY(180%)":"translateY(-180%)",_=(0,g.useSpring)({to:{transform:S?j:"translateY(0%)"},config:tl,immediate:y||!b}),I=o.useCallback((function(e){e.preventDefault();e.stopPropagation();null!=C&&u(C)}),[u,C]);return(0,r.jsx)("div",{className:v()($a().container,(t={},el(t,$a().top,"top"===n),el(t,$a().bottom,"bottom"===n),t)),children:(0,r.jsx)(g.animated.div,{className:$a().containerPadding,style:_,"aria-hidden":S,children:O===Za.HIDDEN?(0,r.jsx)("div",{className:v()($a().bar,$a().emptyBar)}):O===Za.UNREAD?(0,r.jsxs)(s.Clickable,{className:$a().bar,onClick:I,children:["bottom"===n?(0,r.jsx)(Ia.Z,{className:$a().unreadIcon,height:14,width:14}):(0,r.jsx)(wa.Z,{className:$a().unreadIcon,height:14,width:14}),(0,r.jsx)(s.Text,{variant:"text-xs/semibold",color:"interactive-normal",className:$a().barText,children:H.Z.Messages.NEW_UNREADS})]}):O===Za.MENTIONS?(0,
r.jsx)(s.Clickable,{className:v()($a().bar,$a().mentionsBar),onClick:I,children:(0,r.jsx)(s.Text,{variant:"text-xs/semibold",color:"status-danger-text",className:$a().barText,children:H.Z.Messages.NEW_MENTIONS_COUNT.format({count:E})})}):O===Za.VOICE_CHANNELS?(0,r.jsx)(nl,{jumpToVoiceChannels:l,guildChannels:i,guildChannelsVersion:a}):void 0})})}var ol=n(487517),il=n(633997);function al(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ll(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ul(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function cl(e){var t=Ee.Z.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!(t.isThread()?Hr.Z.isMuted(t.id):wt.Z.isChannelMuted(t.getGuildId(),t.id))&&Ze.ZP.hasRelevantUnread(t))}function sl(e){var t=Ee.Z.getChannel(e);if(null==t)return!1;var n=t.getGuildId();if(null==n)return!1;var r=wt.Z.isGuildCollapsed(n),o=wt.Z.isChannelMuted(n,t.id);return(!r||!o)&&Ze.ZP.getMentionCount(e)>0}const fl=o.forwardRef((function(e,t){var n=e.guildId,o=e.guildChannels,i=e.guildChannelsVersion,a=ul(e,["guildId","guildChannels","guildChannelsVersion"]),l=(0,ol.T)(n,o,i,!1,{ignoreRecents:!0}),u=(0,c.e7)([ja.Z],(function(){return ja.Z.isFocused()}));return(0,
r.jsx)(il.Z,ll(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){al(e,t,n[t])}))}return e}({ref:t},a),{isUnread:cl,isMentioned:sl,items:l,animate:u}))}));var dl=n(570202);function pl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function hl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pl(i,r,o,a,l,"next",e)}function l(e){pl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function yl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){yl(e,t,n[t])}))}return e}function ml(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var vl=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function gl(e){var t,n=e.selected,o=e.showUnread,i=e.handleClick,a=e.handleContextMenu,l=e.eventsMuted,u=e.rowLabel,c=e.mentionCount,f=e.listItemProps;return(0,r.jsx)("li",{
className:v()(ue().containerDefault,yl({},ue().selected,n)),children:(0,r.jsxs)("div",{className:v()(ue().iconVisibility,se().wrapper,(t={},yl(t,se().modeSelected,n),yl(t,se().modeUnread,o),t)),children:[o&&(0,r.jsx)("div",{className:v()(se().unread,se().unreadRelevant)}),(0,r.jsx)("div",{className:se().content,children:(0,r.jsxs)(s.Clickable,ml(bl({},f),{className:se().mainContent,onContextMenu:a,onClick:function(){i()},children:[(0,r.jsx)("div",{className:se().iconContainer,children:(0,r.jsx)(dl.Z,{className:se().icon})}),(0,r.jsx)("div",{className:se().name,children:u}),!l&&c>0&&(0,r.jsx)(lr.mA,{className:se().numberBadge,disableColor:!0,count:c})]}))})]})})}function Ol(e){var t=e.guild,o=e.selected,i=(0,c.cj)([Ze.ZP],(function(){return{hasUnread:Ze.ZP.hasUnread(t.id,cr.W.GUILD_EVENT),mentionCount:Ze.ZP.getMentionCount(t.id,cr.W.GUILD_EVENT)}}),[t.id]),a=i.hasUnread,l=i.mentionCount,f=(0,c.e7)([wt.Z],(function(){return wt.Z.isMuteScheduledEventsEnabled(t.id)})),d=(0,
u.JA)("upcoming-events-".concat(t.id));function p(){p=hl((function(){return vl(this,(function(e){switch(e.label){case 0:return[4,(0,s.openModalLazy)(hl((function(){var e,o;return vl(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(40706),n.e(89853)]).then(n.bind(n,389853))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ml(bl({},e),{guildId:t.id}))}]}}))})))];case 1:e.sent();(0,rr.EW)(tr.z$.GUILD_HEADER_EVENT_UPSELL);return[2]}}))}));return p.apply(this,arguments)}var h=(0,qe.ZP)(t.id),y=h.length>0?H.Z.Messages.GUILD_EVENTS_PLURAL.format({number:h.length}):H.Z.Messages.GUILD_EVENTS,b=a&&!f;return(0,r.jsx)(gl,{selected:o,showUnread:b,handleClick:function(){return p.apply(this,arguments)},handleContextMenu:function(e){(0,O.jW)(e,hl((function(){var e,o;return vl(this,(function(i){switch(i.label){case 0:return[4,n.e(28008).then(n.bind(n,28008))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,ml(bl({},e),{guildId:t.id
}))}]}}))})))},eventsMuted:f,rowLabel:y,mentionCount:l,listItemProps:d})}var El=n(513328);function Cl(e){var t=e.channel,n=e.embeddedApps;if(t.type!==G.d4z.GUILD_VOICE);else if(null!=n&&n.length>0){var r=n.map((function(e){return e.application.name}));return H.Z.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_DESCRIBED_BY_LABEL_ACTIVITIES.format({activeActivities:r.join(", ")})}}var Sl=n(773011),jl=n(14096),_l=n(122590),Il=n(968449),wl=n(616679),Pl=n(357088),xl=n(545580),Al=n(71854),Tl=n(542517),Nl=n(884615),Ml=n(239813),Zl=n(181763),Ll=n(491260),Rl=n(954979),Dl=n(754953),kl=n(802467),Ul=n(3564),Bl=n(749565),Fl=n(238871),Gl=n.n(Fl);function Hl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}
return o}var Vl=ln.u.SIZE_24;function Wl(e){var t,n=e.activity,i=e.user,a=e.embeddedApp,l=e.onOpenSpotifyAlbum,u=n.assets,c=n.application_id;if(null==u||null==u.large_image&&null==u.small_image)return null!=a?function(e){var t=$i.ZP.getApplicationIconURL({id:e.application.id,icon:e.application.icon}),n=e.application.name;return(0,r.jsx)(s.Tooltip,{text:n,position:"top",children:function(){return(0,r.jsx)("img",{alt:n,src:t,className:Gl().applicationLargeImage})}})}(a):null;var f,d=null!==(t=u.large_image)&&void 0!==t?t:u.small_image,p=(0,Tl.Z)(n),h=p?Gl().spotifyLargeImage:Gl().applicationLargeImage,y=null!=d?(0,r.jsx)("img",{alt:null!==(f=u.large_text)&&void 0!==f?f:"",src:(0,Ul.xF)(c,d,[128,128]),className:h}):null;if(p){y=(0,r.jsx)(s.Clickable,{className:Gl().clickable,onClick:function(){l(n,i.id)},children:y});return(0,r.jsx)(s.Tooltip,{text:null!=u.large_text?u.large_text:null,position:"top",children:function(e){e.onClick;var t=Hl(e,["onClick"])
;return null!=y?o.cloneElement(y,t):null}})}return y}function zl(e){var t=e.activity,n=e.embeddedApp,o=e.onOpenSpotifyTrack,i=t.details,a=t.name,l=a;if(null!=n)l=n.application.name;else{if(!(0,Tl.Z)(t)||null==t.sync_id||null==i)return null;a=i;l=(0,r.jsx)(s.Clickable,{className:Gl().headerLink,onClick:function(){o(t)},children:i})}return(0,r.jsx)(kl.Z,{title:a,className:Gl().header,children:l})}function Yl(e){var t=e.activity,n=e.user,o=e.onOpenSpotifyArtist,i=t.details,a=t.state,l=i;(0,Tl.Z)(t)&&null!=a&&(l=[(0,r.jsx)(Dl.Z,{artists:a,linkClassName:Gl().bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:function(e){o(t,n.id,e)}},a)]);return null==l||""===l?null:(0,r.jsx)("div",{className:v()(Gl().ellipsisRow,Gl().colorHeaderSecondary,Gl().bodyTextSize),children:l})}function Kl(e){var t=e.activity,n=t.state;return null==n||""===n||(0,Tl.Z)(t)?null:(0,r.jsx)("div",{className:v()(Gl().ellipsisRow,Gl().colorHeaderSecondary,Gl().bodyTextSize,Gl().activity),children:n})}function ql(e){
var t=e.activity;if(!(0,Tl.Z)(t))return null;var n=t.timestamps;if(null==(null==n?void 0:n.start)||null==(null==n?void 0:n.end))return null;var o=n.start,i=n.end;return(0,r.jsx)(Rl.Z,{start:o,end:i,className:Gl().timeBar,themed:!0,singleLine:!0})}function Xl(e){var t=e.activity,n=e.embeddedApp,i=e.user,a=e.channel,l=e.sortedVoiceStates,u=e.onOpenSpotifyTrack,f=e.onOpenSpotifyArtist,d=e.onOpenSpotifyAlbum,p=[];null!=n?p=Array.from(n.embeddedActivity.connections.keys()):(0,Tl.Z)(t)&&(p=l.map((function(e){return e.user.id})));var h=(0,c.Wu)([Ao.default],(function(){return p.map((function(e){return Ao.default.getUser(e)})).filter(Se.lm)})),y=null!=n||(0,Tl.Z)(t),b=o.useMemo((function(){var e=new Map;y&&l.forEach((function(t){var n=t.member;null!=n&&e.set(t.user.id,n)}));return e}),[l,y]);if(!y)return null;return(0,r.jsxs)("div",{className:Gl().flexColumn,children:[(0,r.jsxs)("div",{className:Gl().flexRow,children:[(0,r.jsx)(Wl,{activity:t,user:i,embeddedApp:n,onOpenSpotifyAlbum:d}),(0,
r.jsxs)("div",{className:Gl().detailsAndAvatarsContainer,children:[(0,r.jsx)(zl,{activity:t,embeddedApp:n,onOpenSpotifyTrack:u}),(0,r.jsx)(Yl,{activity:t,user:i,onOpenSpotifyArtist:f}),(0,r.jsx)(Kl,{activity:t}),p.length>0&&(0,r.jsx)(ln.Z,{className:Gl().usersSummary,guildId:a.guild_id,users:h,size:Vl,max:7,renderUser:function(e){if(null==e)return null;var t,n=b.get(e.id),o=null!==(t=null==n?void 0:n.nick)&&void 0!==t?t:Bl.ZP.getName(e);return(0,r.jsx)(s.TooltipContainer,{text:o,position:"bottom",children:(0,r.jsx)("img",{src:e.getAvatarURL(a.guild_id,Vl),alt:o,className:Gl().avatar},e.id)},e.id)}})]})]}),(0,r.jsx)(ql,{activity:t})]})}var Ql=n(758338),Jl=n.n(Ql);function $l(e){var t=e.userCount;return(0,r.jsxs)("div",{className:Jl().container,children:[(0,r.jsx)(ie.Z,{width:12,height:12,className:Jl().peopleIcon}),(0,r.jsx)(s.Text,{variant:"text-sm/normal",color:"header-secondary",className:Jl().userCountText,children:t})]})}var eu=n(99354),tu=n.n(eu);function nu(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ru(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ou(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ru(i,r,o,a,l,"next",e)}function l(e){ru(i,r,o,a,l,"throw",e)}a(void 0)}))}}function iu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){iu(e,t,n[t])}))}return e}function lu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function uu(e){return function(e){if(Array.isArray(e))return nu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cu=function(e,t){
var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1]
;return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function su(e){var t=e.guildId,n=e.member,o=e.className,i=null!=n.member?(0,$i.CA)(n.member):null;return(0,r.jsx)(s.Tooltip,{text:n.nick,position:"bottom",children:function(e){return(0,r.jsx)(s.Avatar,au({src:null!=i?i:n.user.getAvatarURL(t,16),size:s.AvatarSizes.SIZE_16,className:v()(tu().partyAvatar,o),"aria-label":n.nick},e))}})}function fu(e){var t=e.members,n=e.guildId;return(0,r.jsx)(_a.Z,{className:tu().partyMembers,guildId:n,users:t,max:6,renderUser:function(e,t,o){return(0,r.jsx)(su,{guildId:n,member:e,className:t},o)},renderMoreUsers:function(e,t,n){return(0,r.jsx)("div",{className:v()(tu().morePartyMembers,t),children:e},n)}})}function du(e){var t=e.channel,i=e.guild,a=e.onAction,l=e.voiceStates,u=e.isChannelSelected,f=e.shouldShowSettingNudge;!function(e,t){var n=o.useMemo((function(){return null==t||t.length>50?{}:iu({},e.getGuildId(),null!==(n=t.map((function(e){return e.user.id})))&&void 0!==n?n:[]);var n}),[e,t]);(0,
Pl.$)(n)}(t,l);var d,p=(0,$o.ZP)(t),h=new Map;p.forEach((function(e){h.set(e.application.id,e)}));var y,b=null!==(d=null==l?void 0:l.filter(Se.lm))&&void 0!==d?d:[],m=function(e){return function(t){return[G.IIU.PLAYING,G.IIU.WATCHING].includes(t.type)&&(null!=t.assets||null!=t.state||null!=t.details||null!=t.party)&&(null==t.session_id||t.session_id===e.voiceState.sessionId)||t.type===G.IIU.LISTENING}},v=(0,c.e7)([Ll.Z],(function(){var e=new Map(h);b.forEach((function(t){var n=Ll.Z.findActivity(t.user.id,m(t));if(null!=n&&(0,Al.Z)(n)){var r=null!=n.application_id?e.get(n.application_id):null;null!=r&&null!=n.application_id&&e.set(n.application_id,lu(au({},r),{embeddedActivity:lu(au({},n),{application_id:r.embeddedActivity.application_id,connections:r.embeddedActivity.connections,url:r.embeddedActivity.url,guildId:r.embeddedActivity.guildId,channelId:r.embeddedActivity.channelId})}))}}));return e}),[b,h],c.pF),g=(0,c.e7)([Ll.Z],(function(){var e={};b.forEach((function(t){
var n=Ll.Z.findActivity(t.user.id,m(t));if(null!=n&&!(0,Al.Z)(n)){var r,o,i,a,l="".concat(null!==(o=n.application_id)&&void 0!==o?o:"",":").concat(null!==(i=null===(r=n.party)||void 0===r?void 0:r.id)&&void 0!==i?i:t.user.id),u=null!==(a=e[l])&&void 0!==a?a:{members:[],activity:n};u.members.push(t);(0,xl.Z)(u.activity,G.xjy.JOIN)||(u.activity=n);e[l]=u}}));return Object.values(e)}),[b],c.pF),O=uu(Array.from(v.values()).map((function(e){return{members:b,activity:e.embeddedActivity}}))).concat(uu(g));return 0===O.length?null:(0,r.jsxs)(s.Scroller,{className:tu().container,children:[(0,r.jsx)(hu,{channel:t,isChannelSelected:u,voiceStatesCount:null!==(y=null==l?void 0:l.length)&&void 0!==y?y:0}),(0,r.jsx)("div",{className:tu().headerDivider}),O.map((function(e,n){var o=e.members,i=e.activity,l=i.application_id,u=null!=l?v.get(l):void 0;return(0,r.jsx)(pu,{activity:i,embeddedApp:u,channel:t,members:o,onAction:a},n)})),f&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{
className:tu().headerDivider}),(0,r.jsx)("div",{className:tu().settingNudgeText,children:(0,r.jsx)(s.Text,{variant:"text-xs/normal",tag:"span",children:H.Z.Messages.VOICE_CHANNEL_ACTIVITY_STATUS_REDIRECT.format({onClick:function(){(0,s.openModalLazy)(ou((function(){var e,t;return cu(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(24561)]).then(n.bind(n,124561))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,lu(au({},e),{guild:i}))}]}}))})))}})})})]})]})}var pu=function(e){var t=e.channel,n=e.activity,o=e.members,i=e.embeddedApp,a=e.onAction,l=null!=i,u=l?Array.from(i.embeddedActivity.connections.keys()):[],s=(0,c.e7)([Ao.default,zo.default],(function(){if(o.length<=0)return null;if(l){var e,t;return null!==(t=null===(e=o.find((function(e){return e.voiceState.sessionId===(null==n?void 0:n.session_id)})))||void 0===e?void 0:e.user)&&void 0!==t?t:Ao.default.getUser(u[0])}var r,i;return null!==(i=null===(r=o.find((function(e){
return e.user.id!==zo.default.getId()})))||void 0===r?void 0:r.user)&&void 0!==i?i:o[0].user}));if(null==s)return null;var f=l||(0,Tl.Z)(n);return(0,r.jsxs)("div",{className:tu().activity,children:[(0,r.jsx)("div",{className:tu().channelActivityContainer,children:f?(0,r.jsx)(Xl,{activity:n,embeddedApp:i,user:s,channel:t,sortedVoiceStates:o,onOpenSpotifyTrack:Zl.aG,onOpenSpotifyArtist:Zl.d$,onOpenSpotifyAlbum:Zl.Z5}):(0,r.jsx)(wl.Z,{type:wl.P.VOICE_CHANNEL,activity:n,user:s,guildId:t.getGuildId(),channelId:t.id,renderHeaderAccessory:function(){return(0,r.jsx)(fu,{guildId:t.guild_id,members:o})},isEmbedded:l})}),(0,r.jsx)("div",{className:tu().activityActionsContainer,children:(0,r.jsx)(Nl.Z,{type:wl.P.VOICE_CHANNEL,activity:n,user:s,guildId:t.getGuildId(),channelId:t.id,color:tu().button,onAction:a,isEmbedded:l})})]})};function hu(e){var t=e.channel,n=e.isChannelSelected,o=e.voiceStatesCount,i=(0,c.e7)([S.Z],(function(){return!S.Z.can(G.Plq.CONNECT,t)})),a=(0,c.e7)([Wr.Z],(function(){
return Wr.Z.hasVideo(t.id)})),l=ui({channel:t,locked:i,video:a,selected:n}),u=(0,c.e7)([ut.Z],(function(){return ut.Z.getGuild(t.guild_id)})),f=(0,Ml.KS)(t,u);return null==f?null:(0,r.jsxs)("div",{className:tu().popoutHeaderContainer,children:[(0,r.jsxs)("div",{className:tu().channelNameContainer,children:[(0,r.jsx)(f,{className:tu().channelIcon}),(0,r.jsx)(s.Text,{variant:"text-md/semibold",color:"interactive-normal",className:tu().channelName,children:t.name})]}),l?(0,r.jsx)($r,{userCount:o,video:a,channel:t}):(0,r.jsx)($l,{userCount:o})]})}function yu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function bu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yu(i,r,o,a,l,"next",e)}function l(e){yu(i,r,o,a,l,"throw",e)}a(void 0)}))}}function mu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vu(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gu(e){gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return gu(e)}function Ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vu(e,t,n[t])}))}return e}function Eu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cu(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Su(e,t){return!t||"object"!==_u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ju(e,t){ju=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ju(e,t)}var _u=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=gu(e);if(t){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Su(this,n)}}var wu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ju(e,t)}(o,e);var t=Iu(o);function o(){mu(this,o);var e;(e=t.apply(this,arguments)).state={shouldShowActivities:!1,shouldShowGuildVerificationPopout:!1};e.activitiesHideTimeout=new El.V7;e.closeGuildVerificationPopout=function(){e.setState({shouldShowGuildVerificationPopout:!1})};e.handleVoiceConnect=function(){
var t=e.props,n=t.locked,r=t.connected,o=t.channel,i=t.unverifiedAccount,a=t.needSubscriptionToAccess;i&&e.setState({shouldShowGuildVerificationPopout:!0});jl.Z.handleVoiceConnect({channel:o,connected:r,needSubscriptionToAccess:a,locked:n})};e.handleContextMenu=function(t){var o=e.props.channel,i=ut.Z.getGuild(o.getGuildId());null!=i&&(0,O.jW)(t,bu((function(){var e,t;return wu(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(37472)]).then(n.bind(n,37472))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Eu(Ou({},e),{channel:o,guild:i}))}]}}))})))};e.handleMouseEnter=function(){e.activitiesHideTimeout.stop();e.setState({shouldShowActivities:!0})};e.handleMouseLeave=function(){e.activitiesHideTimeout.start(100,(function(){return e.setState({shouldShowActivities:!1})}))};e.closePopout=function(){e.activitiesHideTimeout.stop();e.setState({shouldShowActivities:!1})};e.handleClick=function(){var t=e.props.channel.getGuildId()
;null!=t&&(0,jo.n)(t)&&(0,So.hk)(t);e.handleVoiceConnect()};e.renderPopout=function(){var t=e.props,n=t.channel,o=t.voiceStates,i=t.sorting,a=t.isUserOver,l=t.selected,u=t.guild,c=e.state,s=c.shouldShowActivities,f=c.shouldShowGuildVerificationPopout;if(s&&!i&&!a&&!f){var d=Il.SE.getSetting().includes(u.id);return(0,r.jsx)(du,{onAction:e.closePopout,guild:u,channel:n,voiceStates:o,isChannelSelected:l,shouldShowSettingNudge:d})}if(f)return(0,r.jsx)(Fo,{type:Uo.VOICE,guildId:n.guild_id,closePopout:e.closeGuildVerificationPopout});throw new Error("VoiceChannel.renderPopout: There must always be something to render")};e.renderOpenChatButton=function(){var t=e.props,n=t.channel,o=t.locked,i=t.forceShowButtons;if(!o)return(0,r.jsx)(s.Tooltip,{text:H.Z.Messages.OPEN_CHAT,spacing:2,children:function(e){var t=e.onMouseEnter,o=e.onMouseLeave,a=e.onFocus,l=e.onBlur;return(0,r.jsx)(s.Clickable,{className:v()(ue().iconItem,ue().openChatIconItem,i?ue().alwaysShown:null),onClick:function(){
Oo.Z.updateChatOpen(n.id,!0);(0,Go.Kh)(n.id)},"aria-label":H.Z.Messages.OPEN_CHAT,onMouseEnter:t,onMouseLeave:o,onFocus:a,onBlur:l,children:(0,r.jsx)(Jo.Z,{width:16,height:16,className:ue().actionIcon})})}})};e.getTooltipText=function(){var t=e.props.connected;return e.isFull()&&!t?H.Z.Messages.UNABLE_TO_JOIN_CHANNEL_FULL:null};return e}var i=o.prototype;i.componentWillUnmount=function(){this.activitiesHideTimeout.stop()};i.getVoiceStatesCount=function(){var e,t=this.props.voiceStates;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0};i.isFull=function(){var e=this.props.channel;return(0,un.rY)(e,Wr.Z,ut.Z)};i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?ue().containerUserOver:null!=n?t>n?ue().containerDragAfter:ue().containerDragBefore:ue().containerDefault};i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,o=e.collapsed,i=e.tabIndex;return(0,r.jsx)(ro.Z,{channel:t,collapsed:o,collapsedMax:6,
voiceStates:n,tabIndex:i,location:G.Sbl.GUILD_CHANNEL_LIST})};i.renderChannelInfo=function(){var e=this.props.channelInfo;return null==e?null:(0,r.jsx)("div",{className:ue().channelInfo,children:e})};i.render=function(){var e=this,t=this.props,n=t.channel,o=t.selected,i=t.connected,a=t.unread,l=t.mentionCount,u=t.locked,c=t.sorting,f=t.isUserOver,d=t.connectChannelDropTarget,p=t.connectChannelDragSource,h=t.connectUserDropTarget,y=t.connectDragPreview,b=t.canReorderChannel,m=t.canMoveMembers,g=t.showTutorial,O=t.hasActiveEvent,E=t.subtitle,C=t.embeddedApps,S=t.isSubscriptionGated,j=t.isFavoriteSuggestion,_=this.state,I=_.shouldShowActivities,w=_.shouldShowGuildVerificationPopout,P=this.getVoiceStatesCount(),x=(0,r.jsxs)("li",{className:v()(this.getModeClass(),vu({},ue().disabled,this.isDisabled())),"data-dnd-name":n.name,children:[(0,r.jsx)("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,r.jsx)(s.Popout,{position:"right",
renderPopout:this.renderPopout,spacing:0,onRequestClose:this.closeGuildVerificationPopout,shouldShow:I&&!c&&!f&&!w||w,children:function(){return(0,r.jsx)(s.Tooltip,{text:e.getTooltipText(),children:function(t){var c,s=t.onClick,f=t.onContextMenu,d=Cu(t,["onClick","onContextMenu"]);return(0,r.jsxs)(zn.Z,Eu(Ou({className:ue().iconVisibility,iconClassName:v()(vu({},ue().iconLive,O)),channel:n,selected:!j&&o,connected:i,unread:i?a:void 0,mentionCount:l,locked:u,subtitle:null===(c=Yi(E))||void 0===c?void 0:c.subtitle,onClick:function(){e.handleClick();null==s||s()},onContextMenu:function(t){e.handleContextMenu(t);null==f||f()},connectDragPreview:y,isFavoriteSuggestion:j,"aria-label":(0,Co.Z)({channel:n,unread:a,mentionCount:l,userCount:P,embeddedActivitiesCount:C.length,isSubscriptionGated:S}),"aria-describedby":Cl({channel:n,embeddedApps:C})},d),{
children:[j&&e.renderAcceptSuggestionButton(),j&&e.renderRemoveSuggestionButton(),!j&&e.renderOpenChatButton(),!j&&e.renderInviteButton(),!j&&e.renderEditButton(),!j&&e.renderChannelInfo()]}))}})}})}),this.renderVoiceUsers()]});m&&(x=h(x));b&&(x=d(p(x)));g&&(x=(0,r.jsx)(Xt.Z,{tutorialId:"voice-conversations",position:"right",offsetX:-20,children:x}));return x};return o}(Wn),xu=It((0,Eo.Q)(Pu));function Au(e){var t,n,o=e.guild,i=e.channel,a=e.disableSorting,l=e.isFavoriteCategory,u=e.selected,s=e.collapsed,f=e.voiceStates,d=(0,c.cj)([Ze.ZP],(function(){return{unread:Ze.ZP.hasUnread(i.id),mentionCount:Ze.ZP.getMentionCount(i.id)}})),p=(0,c.cj)([Ee.Z,xo.Z,S.Z],(function(){var e=Ee.Z.getChannel(i.parent_id),t=xo.Z.getCheck(i.guild_id);return{canManageChannel:S.Z.can(G.Plq.MANAGE_CHANNELS,i),canReorderChannel:!0!==a&&(o.id===fi._||(null!=e?S.Z.can(G.Plq.MANAGE_CHANNELS,e):S.Z.can(G.Plq.MANAGE_CHANNELS,o))),canMoveMembers:S.Z.can(G.Plq.MOVE_MEMBERS,i),locked:!S.Z.can(G.Plq.CONNECT,i),
bypassLimit:S.Z.can(G.Plq.MOVE_MEMBERS,i),unverifiedAccount:!t.canChat}})),h=(0,c.e7)([Wr.Z],(function(){return Wr.Z.hasVideo(i.id)})),y=(0,$o.ZP)(i),b=(0,Sl.ZP)(i),m=(0,qe.qY)(i.id),v=(0,_o.Z)(i.id),g=v.isSubscriptionGated,O=v.needSubscriptionToAccess,E=(0,_l.Z)(),C=(0,c.e7)([wt.Z],(function(){return wt.Z.isFavorite(o.id,i.id)})),j=e.connected||(null==E?void 0:E.channelId)===i.id,_=si({channel:i,highlighted:!1,isChannelSelected:u,isChannelCollapsed:s,voiceStates:f,isSubscriptionGated:g,needSubscriptionToAccess:O,enableConnectedUserLimit:!0,enableActivities:!0}),I=j&&null==_;return(0,r.jsx)(xu,Eu(Ou({channelName:b,embeddedApps:y,embeddedActivityType:null===(t=y[0])||void 0===t||null===(n=t.embeddedActivity)||void 0===n?void 0:n.type,video:h,hasActiveEvent:null!=m,isSubscriptionGated:g,needSubscriptionToAccess:O},d,p,e),{connected:j,isFavoriteSuggestion:l&&!C,forceShowButtons:I,channelInfo:_}))}function Tu(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zu(e){Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Zu(e)}function Lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Mu(e,t,n[t])}))}return e}function Ru(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Du(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ku(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uu(e,t){Uu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Uu(e,t)}function Bu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Zu(e);if(t){var o=Zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ku(this,n)}}var Hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Uu(e,t)}(n,e);var t=Gu(n);function n(){Nu(this,n);var e;(e=t.apply(this,arguments))._list=null;e.unreadTopRef=o.createRef();e.unreadBottomRef=o.createRef();e.state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null};e.setListRef=function(t){var n;e.context.ref.current=null!==(n=null==t?void 0:t.getScrollerNode())&&void 0!==n?n:null;e._list=t}
;e.jumpToVoiceChannels=function(){for(var t,n,r,o=e.props,i=o.guildChannels,a=o.voiceStates,l=0,u=null!==(r=null===(t=i.getCategoryFromSection(i.voiceChannelsSectionNumber))||void 0===t?void 0:t.getShownChannelIds())&&void 0!==r?r:[],c=0;c<u.length-1;c++){var s;if((null!==(s=a[u[c]])&&void 0!==s?s:[]).length>0){l=c+1;break}}null===(n=e._list)||void 0===n||n.scrollToIndex({section:i.voiceChannelsSectionNumber,row:l,animate:!0,padding:8})};e.jumpToChannel=function(t){return e.scrollToChannel(t,!0,32)};e.jumpToChannelWithMentionsAndUnreads=function(t,n){var r=Bu(n,2),o=r[0],i=r[1];return e.scrollToChannel(t,!0,null!=o&&null!=i?32:8)};e.isChannelVisible=function(t,n){var r=e.getSectionRowsFromChannel(t),o=e._list;if(null==o)return!1;var i=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value,f=s.row,d=s.section,p=Bu(o.getScrollPosition(d,f),2),h=p[0],y=p[1],b=o.getScrollerState();if(n&&h+y<b.scrollTop+b.offsetHeight)return!0
;if(!n&&h>b.scrollTop)return!0}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return!1};e.getVisibleChannels=function(){var t=e._list;if(null==t)return[];for(var n=t.getItems(),r=t.getScrollerState(),o=[],i=0;i<n.length;i++){var a=n[i];if((0,s.isListItemRow)(a)&&a.section>=e.props.guildChannels.favoritesSectionNumber){var l=e.props.guildChannels.getChannelFromSectionRow(a.section,a.row),u=Bu(t.getScrollPosition(a.section,a.row),2),c=u[0],f=u[1];null!=l&&c+f<r.scrollTop+r.offsetHeight&&c>r.scrollTop&&o.push(l.channel.id)}}return o};e.handleResize=function(){var t,n,r=e.props.showNewUnreadsBar,o=null!==(n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState())&&void 0!==n?n:null;e.setState({isUnreadVisible:e.isUnreadVisible()});if(r&&null!=o){var i=o.scrollTop;e.updateChannelListScroll(i)}};e.handleListScroll=function(){var t,n,r=e.props.onScroll,o=null!==(n=null===(t=e._list)||void 0===t?void 0:t.getScrollerState())&&void 0!==n?n:null;if(null!=o){
var i=o.scrollTop;null!=r&&r(o);e.updateChannelListScroll(i)}null!=e.unreadTopRef.current&&e.unreadTopRef.current.calculateState();null!=e.unreadBottomRef.current&&e.unreadBottomRef.current.calculateState()};e.handleUnreadCalculate=function(t,n,r){var o=e.isUnreadVisible();r?e.setState({isUnreadVisible:o,bottomUnread:n,bottomMention:t}):e.setState({isUnreadVisible:o,topUnread:n,topMention:t})};e.updateChannelListScroll=a().throttle((function(t){f.Z.updateChannelListScroll(e.props.guildId,t,e.getVisibleChannels())}),100);e.getSectionHeight=function(t){var n=e.props;return rn(t,n.guild,n.guildChannels)};e.getSectionFooterHeight=function(t){var n=e.props,r=n.guildChannels,o=n.voiceStates,i=n.selectedVoiceChannelId,a=n.selectedChannelId,l=n.optInEnabled;return hn({sectionIndex:t,guildChannels:r,guildChannelsVersion:n.guildChannelsVersion,voiceStates:o,selectedChannelId:a,selectedVoiceChannelId:i,optInEnabled:l})};e.getRowHeight=function(t,n){
var r=e.props,o=r.guildChannels,i=r.voiceStates,a=r.stageChannelSpeakerVoiceStates,l=r.selectedVoiceChannelId,u=Jt;if(t===De.zm){var c=o.getCommunitySection();if(c.isEmpty())return 0;if(c.getRow(n)===Xe.f.GUILD_PREMIUM_PROGRESS_BAR){return c.getRows().length>1?te:57}return u}if(o.isPlaceholderRow(t,n))return 0;var s=o.getChannelFromSectionRow(t,n);if(null==s)return 0;var f=s.channel,d=s.category;if(f.record.type===G.d4z.GUILD_CATEGORY)return 40;var p=!0,h=!1,y=void 0;try{for(var b,m=f.threadIds[Symbol.iterator]();!(p=(b=m.next()).done);p=!0){var v=b.value;u+=Jt;var g=i[f.id];if(null!=g&&g.length>0){u+=l===v?g.length*$t:$t;u+=8}}}catch(e){h=!0;y=e}finally{try{p||null==m.return||m.return()}finally{if(h)throw y}}if(f.record.isGuildVoice()){var O=i[f.id];if(null!=O&&O.length>0){var E=O.length*$t;(f.isCollapsed||d.isCollapsed)&&(E=$t);u+=E+8}}null!=f.subtitle&&(u+=16);if(f.record.isGuildStageVoice()){var C,S,j=null!==(C=i[f.id])&&void 0!==C?C:[],_=null!==(S=a[f.id])&&void 0!==S?S:[]
;if(null!=j&&j.length>0){var I=_.length*$t;f.isCollapsed||d.isCollapsed?I=Math.ceil(I/5):I+=$t;u+=I+8}}return u};e.dismissRecents=function(){var t=e.props,n=t.guild,r=t.guildChannels,o=t.selectedChannelId,i=r.getCategoryFromSection(r.recentsSectionNumber);if(null!=i){var a=null,l=i.getShownChannelAndThreadIds();null!=o&&l.includes(o)&&(a=(0,ve.KY)(r));(0,ve.Uo)(n.id,l,a)}};e.renderSection=function(t){var n=t.section,o=e.props,i=o.guildChannels,a=o.guildChannelsVersion,l=o.guild,u=o.selectedChannelId,c=o.disableManageChannels;return(0,r.jsx)(an,{sectionIndex:n,guild:l,guildChannels:i,guildChannelsVersion:a,selectedChannelId:u,disableManageChannels:c},on(n,i))};e.renderRow=function(t){var n=t.section,i=t.row,a=e.props,l=a.guild,u=a.selectedChannel,c=a.selectedChannelId,s=a.selectedVoiceChannel,f=a.selectedVoiceChannelId,d=a.guildChannels,p=a.voiceStates,h=a.disableManageChannels,y=a.stageChannelSpeakerVoiceStates,b=a.optInEnabled;if(n===De.zm){var m=d.getCommunitySection(),v=m.getRow(i)
;if(null==v)return null;switch(v){case Xe.f.GUILD_HUB_HEADER_OPTIONS:return(0,r.jsx)(me.Z,{guild:l,channel:Me.ZP.getDefaultChannel(l.id)},Xe.f.GUILD_HUB_HEADER_OPTIONS);case Xe.f.GUILD_PREMIUM_PROGRESS_BAR:var g=m.getRows();return(0,r.jsx)(re,{guild:l,withMargin:g.length>1},Xe.f.GUILD_PREMIUM_PROGRESS_BAR);case Xe.f.GUILD_HOME:return(0,r.jsx)(_r,{guild:l,selected:c===ae.oC.GUILD_HOME},Xe.f.GUILD_HOME);case Xe.f.GUILD_SCHEDULED_EVENTS:return(0,r.jsx)(Ol,{guild:l,selected:c===Xe.f.GUILD_SCHEDULED_EVENTS},Xe.f.GUILD_SCHEDULED_EVENTS);case Xe.f.GUILD_ROLE_SUBSCRIPTIONS:return(0,r.jsx)(Gr,{guild:l,selected:c===ae.oC.ROLE_SUBSCRIPTIONS},Xe.f.GUILD_ROLE_SUBSCRIPTIONS);case Xe.f.GUILD_MEMBER_APPLICATIONS:return(0,r.jsx)(Pr,{guild:l,selected:c===ae.oC.MEMBER_APPLICATIONS},Xe.f.GUILD_MEMBER_APPLICATIONS);case Xe.f.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR:return(0,r.jsx)(Zr,{guild:l});case Xe.f.CHANNELS_AND_ROLES:return(0,r.jsx)(mr,{guild:l,
selected:c===ae.oC.CHANNEL_BROWSER||c===ae.oC.CUSTOMIZE_COMMUNITY},Xe.f.CHANNELS_AND_ROLES);case Xe.f.GUILD_DIRECTORY:return(0,r.jsx)($n,{guild:l,selectedChannelId:c,disableManageChannels:h},Xe.f.GUILD_DIRECTORY);case Xe.f.GUILD_MOD_DASH_MEMBER_SAFETY:return(0,r.jsx)(be,{guild:l,selected:c===ae.oC.MEMBER_SAFETY},Xe.f.GUILD_MOD_DASH_MEMBER_SAFETY);default:return null}}if(d.isPlaceholderRow(n,i))return null;var O=d.getChannelFromSectionRow(n,i);if(null==O)return null;var E=O.category,C=O.channel,S=E instanceof De.VR,j=C.record,_="".concat(n).concat(C.id);switch(j.type){case G.d4z.GUILD_ANNOUNCEMENT:case G.d4z.GUILD_TEXT:case G.d4z.GUILD_FORUM:case G.d4z.GUILD_MEDIA:case G.d4z.DM:case G.d4z.GROUP_DM:return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ca,{channel:j,guild:l,position:C.position,selected:c===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:b&&n===d.recentsSectionNumber,isFavoriteCategory:S}),C.threadCount>0?(0,r.jsx)(go,{channel:j,
sortedThreadIds:C.threadIds,selectedChannel:null==u||u.id!==C.id&&u.parent_id!==j.id?null:u,selectedVoiceChannelId:(null==s?void 0:s.parent_id)===j.id?f:null}):null]},_);case G.d4z.GUILD_STAGE_VOICE:var I,w;return(0,r.jsx)(xi,{channel:j,guild:l,position:C.position,selected:c===C.id,connected:f===C.id,collapsed:C.isCollapsed||E.isCollapsed,voiceStates:null!==(I=p[C.id])&&void 0!==I?I:[],speakerVoiceStates:null!==(w=y[C.id])&&void 0!==w?w:[],disableManageChannels:h,isFavoriteCategory:S},_);case G.d4z.GUILD_VOICE:return(0,r.jsx)(Au,{channel:j,guild:l,position:C.position,selected:c===C.id,connected:f===C.id,collapsed:C.isCollapsed||E.isCollapsed,voiceStates:p[C.id],subtitle:C.subtitle,disableManageChannels:h,showTutorial:C.isFirstVoiceChannel,isFavoriteCategory:S},_);case G.d4z.GUILD_STORE:return(0,r.jsx)(zi,{channel:j,guild:l,position:C.position,selected:c===C.id},_);case G.d4z.GUILD_CATEGORY:return n!==d.voiceChannelsSectionNumber?null:(0,r.jsx)(qt,{channel:j},"readonly-".concat(j.id))
;case G.d4z.PUBLIC_THREAD:case G.d4z.PRIVATE_THREAD:return(0,r.jsx)(Ca,{channel:j,guild:l,position:C.position,selected:c===C.id,muted:C.isMuted,subtitle:C.subtitle,disableManageChannels:h,canBeNewChannel:!1,isFavoriteCategory:!1,forceTopLevelThread:!0},_);default:return null}};e.renderSectionFooter=function(t){var n=t.section,o=e.props,i=o.guildChannels,a=o.guildChannelsVersion,l=o.voiceStates,u=o.selectedChannelId,c=o.selectedVoiceChannelId,s=o.optInEnabled,f=o.guildId;return(0,r.jsx)(bn,{guildId:f,guildChannels:i,guildChannelsVersion:a,sectionIndex:n,voiceStates:l,selectedChannelId:u,selectedVoiceChannelId:c,optInEnabled:s},yn(n,i,s))};e.getAnchorId=function(t,n){var r,o,i=e.props.guildChannels;if(t!==De.zm){if(null==n){var a;return t===De.p2?"favorites-header":t===i.recentsSectionNumber?"recents-header":t===i.voiceChannelsSectionNumber?"voice-channels":t===De.wd?"uncategorized-header":null===(a=i.getNamedCategoryFromSection(t))||void 0===a?void 0:a.id}
if(!i.isPlaceholderRow(t,n))return null===(r=i.getChannelFromSectionRow(t,n))||void 0===r||null===(o=r.channel)||void 0===o?void 0:o.id}};e.testShouldSkipTutorial=function(){if(Ae.Z.shouldShow("voice-conversations")){var t=e.props.guildChannels.getFirstVoiceChannel();if(null!=t){var n=e._list;if(null!=n){var r=e.getSectionRowsFromChannel(t.id),o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,s=c.section,f=c.row;n.isItemVisible(s,f)||d.Z.dismiss("voice-conversations")}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}}else d.Z.dismiss("voice-conversations")}};return e}var i=n.prototype;i.componentDidMount=function(){this.setState({initialized:!0})};i.componentWillUnmount=function(){this.updateChannelListScroll.cancel()};i.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,o=n.guildId,i=n.selectedChannelId,a=this.state.initialized,l=Ne.Z.getGuildDimensions(o).scrollTop;if(null!=r){
this.scrollToChannel(r);f.Z.clearChannelListScrollTo(o)}else o!==e.guildId?null!=l&&this.scrollTo(l):i!==e.selectedChannelId?this.scrollToChannel(i):!t.initialized&&a&&(null==l&&null!=i?this.scrollToChannel(i,!1,8,this.handleListScroll):this.scrollTo(null!=l?l:0,this.handleListScroll));this.testShouldSkipTutorial()};i.getSectionRowsFromChannel=function(e){return this.props.guildChannels.getSectionRowsFromChannel(e)};i.scrollTo=function(e,t){var n;null===(n=this._list)||void 0===n||n.scrollTo({to:e,animate:!1,callback:t})};i.scrollToChannel=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3?arguments[3]:void 0,o=this._list,i=this.getSectionRowsFromChannel(e)[0];if(null!=i&&null!=o)if(null!=i.threadOffset){var a=Bu(o.getScrollPosition(i.section,i.row),1),l=a[0],u=i.threadOffset*Jt;o.scrollIntoViewRect({start:l+u,end:l+u+Jt,padding:n,animate:t,callback:r})}else o.scrollToIndex({
section:i.section,row:i.row,animate:t,padding:n,callback:r})};i.isUnreadVisible=function(){var e=this.props.guildChannels,t=this._list;return null!=t&&t.getItems().some((function(n){if("row"!==n.type)return!1;var r=n.section,o=n.row;if(r<De.wd)return!1;if(e.isPlaceholderRow(r,o))return!1;var i=e.getChannelFromSectionRow(r,o);if(null==i)return!1;var a=i.channel,l=i.category;return!!(0,Te.vc)(a.record.type)&&(!(l.isCollapsed&&l.isMuted||a.isMuted||!t.isItemVisible(r,o,!0))&&Ze.ZP.hasRelevantUnread(a.record))}))};i.renderTopUnread=function(){var e=this.state,t=e.topMention,n=e.bottomUnread,o=e.bottomMention,i=e.isUnreadVisible,a=this.props,l=a.guildId,u=a.guildChannels,c=a.guildChannelsVersion,s=null==t&&(i||null!=n||null!=o);return(0,r.jsx)("div",{className:nn().positionedContainer,children:(0,r.jsx)(fl,{ref:this.unreadTopRef,textUnread:H.Z.Messages.NEW_UNREADS,textMention:H.Z.Messages.NEW_MENTIONS,hide:s,className:nn().unreadTop,barClassName:nn().unreadBar,guildId:l,guildChannels:u,
guildChannelsVersion:c,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})})};i.renderBottomUnread=function(){var e=this.props,t=e.guildId,n=e.guildChannels,o=e.guildChannelsVersion,i=this.state,a=i.bottomMention,l=i.isUnreadVisible,u=null==a&&l;return(0,r.jsx)(fl,{reverse:!0,ref:this.unreadBottomRef,textUnread:H.Z.Messages.NEW_UNREADS,textMention:H.Z.Messages.NEW_MENTIONS,hide:u,className:nn().unreadBottom,barClassName:nn().unreadBar,guildId:t,guildChannels:n,guildChannelsVersion:o,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannelWithMentionsAndUnreads,onCalculate:this.handleUnreadCalculate})};i.renderList=function(){var e=this,t=this.props,n=t.guildChannels,o=t.guild,i=t.guildBanner,a=t.hasGuildSubheader,l=this.context,u=(l.ref,Du(l,["ref"])),c=0;null!=i?c=84:o.hasCommunityInfoSubheader()&&!a&&(c=16);return(0,r.jsx)(s.FocusJumpSection,{children:function(t){return(0,r.jsx)(s.List,Lu({ref:e.setListRef,
className:nn().scroller,fade:!0,customTheme:!0,sectionHeight:e.getSectionHeight,footerHeight:e.getSectionFooterHeight,rowHeight:e.getRowHeight,paddingTop:c,paddingBottom:12,renderSection:e.renderSection,renderFooter:e.renderSectionFooter,renderRow:e.renderRow,onScroll:e.handleListScroll,onResize:e.handleResize,onContentResize:e.handleResize,sections:n.getSections(),innerAriaLabel:H.Z.Messages.CHANNELS,innerTag:"ul",getAnchorId:e.getAnchorId},u,t),"guild-channels")}})};i.render=function(){var e=this,t=this.props,n=t.guildChannels,i=t.guildChannelsVersion,a=t.showNewUnreadsBar;return(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(Re.FG,{children:function(t){return(0,r.jsx)(s.HeadingLevel,{component:(0,r.jsx)(s.HiddenVisually,{children:(0,r.jsx)(s.H,{id:t,children:H.Z.Messages.CHANNELS})}),children:a?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:nn().positionedContainer,children:(0,r.jsx)(rl,{position:"top",guildChannels:n,guildChannelsVersion:i,
jumpToVoiceChannels:e.jumpToVoiceChannels,jumpToChannel:e.jumpToChannel})}),e.renderList(),(0,r.jsx)(rl,{position:"bottom",guildChannels:n,guildChannelsVersion:i,jumpToVoiceChannels:e.jumpToVoiceChannels,jumpToChannel:e.jumpToChannel})]}):(0,r.jsxs)(o.Fragment,{children:[e.renderTopUnread(),e.renderList(),e.renderBottomUnread()]})})}})})};return n}(o.PureComponent);Hu.contextType=u.qB;var Vu=function(e){var t=e.guildId,n=e.selectedChannelId,i=e.selectedVoiceChannelId,a=(0,c.e7)([h.Z],(function(){return h.Z.keyboardModeEnabled})),s=(0,b.Z)(y.Z.GUILD_CHANNEL_LIST).AnalyticsLocationProvider,f=(0,c.e7)([Ee.Z],(function(){return Ee.Z.getChannel(n)})),d=(0,c.e7)([Ee.Z],(function(){return Ee.Z.getChannel(i)})),m=(0,c.e7)([Le.Z],(function(){return Le.Z.getGuildId()})),v=(0,ge.DM)(t),g=o.useRef(null),O=o.useCallback((function(e,t){var n=g.current;if(null!=n)if(G.Xyh.test(t)||(0,ae.AB)(t))n.scrollToChannel(t,!1,16,(function(){requestAnimationFrame((function(){var t
;return null===(t=document.querySelector(e))||void 0===t?void 0:t.focus()}))}));else{var r;null===(r=document.querySelector(e))||void 0===r||r.focus()}}),[]),E=o.useCallback((function(){return new Promise((function(e){var t=g.current;if(null==t)return e();t.scrollTo(0,(function(){return requestAnimationFrame((function(){return e()}))}))}))}),[]),C=o.useCallback((function(){return new Promise((function(e){var t=g.current;if(null==t)return e();t.scrollTo(Number.MAX_SAFE_INTEGER,(function(){return requestAnimationFrame((function(){return e()}))}))}))}),[]),S=(0,l.ZP)({id:"channels",defaultFocused:null!=n?n:void 0,isEnabled:a,setFocus:O,scrollToStart:E,scrollToEnd:C}),j=S.setFocus;o.useEffect((function(){null!=n&&j(n)}),[n,j]);var _=function(e){return Pe((0,c.e7)([_e.Z,Ee.Z,Oe.Z],(function(){var t;return[(t=e===G.I_8?Object.keys(Oe.Z.getFavoriteChannels()).map((function(e){return Ee.Z.getChannel(e)})).filter(Se.lm).filter((function(e){return e.isGuildStageVoice()
})):_e.Z.getChannels(e)).reduce((function(e,t){var n=_e.Z.getMutableParticipants(t.id,Ie.pV.SPEAKER);e[t.id]=n.filter((function(e){return e.type===Ie.Ui.VOICE})).map(xe);return e}),{}),t.reduce((function(e,t){var n=t.id;return e+_e.Z.getParticipantsVersion(n)}),0)]}),[e],je.Q),1)[0]}(t);return(0,r.jsx)(s,{children:(0,r.jsx)(p.Z,{section:G.jXE.GUILD_CHANNEL_LIST,children:(0,r.jsx)(u.bG,{navigator:S,children:(0,r.jsx)(Hu,Ru(Lu({},e),{listNavigator:S,ref:g,selectedChannel:f,selectedVoiceChannel:d,stageChannelSpeakerVoiceStates:_,selectedGuildId:m,optInEnabled:v}))})})})};function Wu(e){var t=(0,Ue.o)();return(0,r.jsx)(Vu,Ru(Lu({},e),{guildChannels:t,guildChannelsVersion:0}))}function zu(e){var t=Qe(e.guild),n=(0,c.cj)([ke.Z],(function(){return ke.Z.getGuild(e.guildId,t)}));return(0,r.jsx)(Vu,Lu({},e,n))}},63054:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>x})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(289283),c=n(945460),s=n(491379),f=n(968449),d=n(386991),p=n(755284),h=n(775173),y=n(393299),b=n(2590),m=n(485911),v=n(473708),g=n(273413),O=n.n(g);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){var t,n=e.guild,o=e.controller,i=e.guildBanner,c=e.animate,s=o.springs.value,d=f.QK.getSetting();return(0,r.jsx)(l.animated.div,{className:O().animatedContainer,style:{opacity:s,transform:s.to((function(e){return"translateY(-".concat(90*(1-e),"px)")}))},children:(0,r.jsx)(l.animated.div,{className:a()(O().bannerImage,C({},O().bannerImgFullWidth,u.tq)),style:{transform:s.to((function(e){return d?"translateY(".concat(60*(1-e),"px) scale(").concat(1+.2*(1-e),")"):"translateY(".concat(90*(1-e),"px)")}))},children:(0,r.jsx)("img",{className:a()(O().bannerImg,C({},O().bannerImgFullWidth,u.tq)),src:null!==(t=h.ZP.getGuildBannerURL({id:n.id,banner:i},c))&&void 0!==t?t:"",alt:"",height:135,width:240,"aria-hidden":!0})})})}function w(e){
var t=e.guild,n=e.controller,o=e.hasBanner,i=e.hasSubheader,u=n.springs.value,s=t.hasFeature(b.oNc.DISCOVERABLE),f=(0,r.jsx)("div",{className:O().communityInfo,children:s&&(0,r.jsx)(c.Tooltip,{text:v.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC_INFO,position:"right",children:function(e){return(0,r.jsxs)("div",j(S({className:O().communityInfoPill},e),{children:[(0,r.jsx)(p.Z,{width:12,height:12,className:O().communityIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"none",children:v.Z.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC})]}))}})});return i?(0,r.jsx)("div",{className:a()(O().communityInfoContainer,O().hasSubheader),children:f}):(0,r.jsx)(l.animated.div,{className:O().communityInfoContainer,style:o?{opacity:u}:{height:u.to((function(e){return"".concat(20*e,"px")}))},children:f})}function P(e){return e.guild.id===m._?(0,r.jsx)(c.Tooltip,{text:"Super-duper alpha! This may break, change, or be removed at any time. One day real users can use this. :')",children:function(e){
return(0,r.jsx)(d.Z,S({className:O().favoritesInfo},e))}}):null}const x=o.memo((function(e){var t=e.bannerVisible,n=e.controller,i=e.className,l=e.onClick,d=e.onContextMenu,p=e.onMouseDown,m=e.disableBannerAnimation,g=e["aria-expanded"],E=e["aria-controls"],S=e.guild,j=e.guildBanner,x=e.animationOverlayHeight,A=e.children,T=e.headerClassName,N=e.communityInfoVisible,M=e.hasSubheader,Z=S.hasFeature(b.oNc.ANIMATED_BANNER),L=(0,s.Z)(S),R=!L&&S.hasCommunityInfoSubheader(),D=!L&&N,k=(0,h.xR)(j)&&Z&&!m,U=_(o.useState(!1),2),B=U[0],F=U[1],G=o.useRef(),H=o.useRef(null),V=o.useRef(),W=f.QK.getSetting();o.useEffect((function(){if(k&&t&&!G.current&&W){F(!0);V.current=setTimeout((function(){F(!1)}),5e3);return function(){clearTimeout(V.current)}}}),[k,t,W]);o.useEffect((function(){G.current=t}),[t]);var z,Y,K=function(){var t=e.renderBanner;return null!=e.guildBanner&&!t};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:H,className:a()(i,(Y={},C(Y,O().container,!0),
C(Y,O().clickable,null!=l),C(Y,O().selected,null!=l&&g),C(Y,O().hasBanner,K()),C(Y,O().bannerVisible,t),C(Y,O().communityInfoVisible,D||M&&R),Y)),onMouseDown:p,onContextMenu:d,onClick:l,children:[(0,r.jsxs)("header",{className:a()(O().header,T,C({},O().themedHeaderMobile,u.tq)),children:[(0,r.jsxs)("div",{className:a()(O().headerContent,O().primaryInfo),children:[(0,r.jsx)(y.Z,{guild:S,isBannerVisible:t}),(0,r.jsxs)(c.Text,{color:"none",variant:"text-md/semibold",lineClamp:1,className:O().name,children:[S.toString(),(0,r.jsx)(P,{guild:S})]}),null!=l&&(0,r.jsx)(c.Clickable,{className:O().headerButton,"aria-controls":E,"aria-expanded":g,focusProps:{ringTarget:H,offset:4},onClick:l,onContextMenu:d,"aria-label":v.Z.Messages.GUILD_SIDEBAR_ACTIONS_BUTTON.format({guildName:null!==(z=null==S?void 0:S.toString())&&void 0!==z?z:""})}),(0,r.jsx)("div",{className:O().headerChildren,children:A})]}),R&&(0,r.jsx)(w,{guild:S,controller:n,hasBanner:null!=j,hasSubheader:null!=M&&M})]}),null!=j?(0,
r.jsx)(I,{guild:S,controller:n,guildBanner:j,animate:B}):null]}),k&&K()?(0,r.jsx)("div",{className:O().animatedBannerHoverLayer,onMouseEnter:function(){F(!0);clearTimeout(V.current)},onMouseLeave:function(){return F(!1)},style:{height:x}}):null]})}))},973198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ye});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(513328),c=n(473664),s=n(258104),f=n(28661),d=n(895462),p=n(177570),h=n(736818),y=n(21372),b=n(604945),m=n(682776),v=n(679450),g=n(377128),O=n(91717),E=n(945460),C=n(247250),S=n(971402),j=n(116404),_=n(481008),I=n(387927),w=n(409125),P=n(550677),x=n(473708);function A(e){switch(e){case P.YE.XBOX:return x.Z.Messages.XBOX_REMOTE_CONNECTED_RAW;case P.YE.PLAYSTATION:return x.Z.Messages.PLAYSTATION_REMOTE_CONNECTED_RAW}}var T=n(306263),N=n(924066),M=n(88329),Z=n(616679),L=n(357088),R=n(884615),D=n(567403),k=n(491260),U=n(407561),B=n(700223),F=n(652591),G=n(179678),H=n(538272),V=n(246549),W=n(2590),z=n(811693),Y=n.n(z)
;function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Q(e){Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Q(e)}function J(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{}
;var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ee(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e,t){te=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return te(e,t)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){
if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}
var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&te(e,t)}(n,e);var t=oe(n);function n(){q(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.user,n=e.streamApplication;F.default.track(W.rMx.OPEN_POPOUT,{type:"Stream Preview",other_user_id:t.id,application_id:null!=n?n.id:null,application_name:null!=n?n.name:null,game_id:null!=n?n.id:null,is_streaming:!0})};o.renderPreview=function(e){var t=this.props,n=t.onWatch,o=t.activeStream,i=t.currentUserId,a=t.canWatch,l=t.unavailableReason;return(0,r.jsxs)(E.Clickable,{onClick:n,className:Y().previewContainer,children:[(0,r.jsx)(V.Z,{className:Y().previewImage,stream:e}),a?(0,r.jsx)("div",{className:Y().previewHover,children:(0,r.jsx)(E.Text,{variant:"text-sm/normal",color:"none",className:Y().white,
children:(0,H.Z)(e,o,i,l)})}):null]})};o.render=function(){var e=this.props,t=e.activity,n=e.user,o=e.stream,i=e.previewIsOpen;return null==o?null:(0,r.jsx)("div",{className:a()(Y().streamPreviewWrapper,X({},Y().mounted,i)),children:(0,r.jsxs)("div",{className:Y().streamPreview,children:[this.renderPreview(o),(0,r.jsxs)("div",{className:Y().body,children:[null!=t?(0,r.jsx)(Z.Z,{hideHeader:!0,type:Z.P.STREAM_PREVIEW,activity:t,user:n,guildId:o.guildId,channelId:o.channelId}):(0,r.jsx)(R.Z,{type:Z.P.STREAM_PREVIEW,applicationStream:o,user:n,guildId:o.guildId,channelId:o.channelId,className:Y().activityActions,color:Y().watchButton}),(0,r.jsx)(B.Z,{type:B.Z.Types.INLINE,className:Y().protip,children:__OVERLAY__?x.Z.Messages.WATCH_STREAM_IN_APP:x.Z.Messages.WATCH_STREAM_TIP})]})]})})};return n}(o.PureComponent);function ae(e){var t=e.user,n=e.channel,i=$(e,["user","channel"]),a=ne((0,l.Wu)([U.Z,D.Z,m.Z,w.Z],(function(){return(0,N.p9)(n,U.Z,D.Z,m.Z,w.Z)})),2),u=a[0],c=a[1],s=(0,
l.e7)([p.Z],(function(){return p.Z.getStreamForUser(t.id,n.getGuildId())})),f=(0,l.e7)([p.Z],(function(){return p.Z.getActiveStreamForApplicationStream(s)})),d=(0,l.e7)([h.default],(function(){return h.default.getId()})),y=(0,l.e7)([k.Z],(function(){return(0,G.L2)(s,k.Z)})),b=(0,l.e7)([k.Z],(function(){return(0,G.Um)(s,k.Z)})),v=o.useMemo((function(){return X({},n.guild_id,[t.id])}),[n.guild_id,t.id]);(0,L.$)(v);return(0,r.jsx)(ie,J(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){X(e,t,n[t])}))}return e}({},i),{canWatch:u,unavailableReason:c,user:t,streamApplication:y,stream:s,activeStream:f,currentUserId:d,activity:b}))}var le=n(736626),ue=n(197045),ce=n(23727),se=n(443132),fe=n(104891),de=n.n(fe);function pe(e,t,n,r,o,i,a){try{
var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function he(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pe(i,r,o,a,l,"next",e)}function l(e){pe(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ve(e){ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ve(e)}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){me(e,t,n[t])}))}return e}function Oe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ce(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e,t){Se=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Se(e,t)}var je=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}var Ie=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},
trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function we(e){
var t=e.numUsers;return(0,r.jsx)("div",{className:de().moreContainer,children:(0,r.jsxs)(E.Text,{color:"text-muted",variant:"text-sm/medium",children:["+",t]})})}function Pe(e){var t=e.numAudience,n=e.collapsed,o=n?t:x.Z.Messages.LISTENING_COUNT.format({count:t});return(0,r.jsxs)("div",{className:a()(de().audienceContainer,me({},de().audienceContainerCollapsed,n)),children:[(0,r.jsx)("div",{className:de().audienceIconContainer,children:(0,r.jsx)(ce.Z,{className:de().audienceIcon})}),(0,r.jsx)(E.Text,{color:"text-muted",variant:"text-sm/medium",children:o})]})}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Se(e,t)}(i,e);var t=_e(i);function i(){ye(this,i);var e;(e=t.apply(this,arguments)).domElementRef=o.createRef();e.state={userPopoutOpen:!1};e.handleClickUser=function(){e.setState({
userPopoutOpen:!e.state.userPopoutOpen})};e.handleCloseUserPopout=function(){e.setState({userPopoutOpen:!1})};e.handleHidePreview=function(){var t=e.props,n=t.hidePreview,r=t.isStreaming,o=t.user;r&&(null==n||n(o.id))};e.handleMouseEnter=function(){var t=e.props,n=t.user,r=t.showPreview;t.isStreaming&&(null==r||r(n.id))};e.handleWatchStream=function(){var t=e.props,n=t.user,r=t.channel,o=t.isWatching,i=t.hidePreview;if(e.canWatchStream){var a={streamType:se.lo.GUILD,ownerId:n.id,channelId:r.id,guildId:r.guild_id};h.default.getId()!==n.id&&j.default.selectVoiceChannel(r.id);if(o){(0,M.Z)(a);C.Z.selectParticipant(a.channelId,(0,T.V9)(a))}else(0,_.iV)(a);null==i||i(n.id)}};e.handleUserContextMenu=function(t){var o=e.props,i=o.channel,a=o.user;(0,S.jW)(t,he((function(){var e,t;return Ie(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,
r.jsx)(t,Oe(ge({},e),{user:a,guildId:i.guild_id,channel:i,showMediaItems:!0,showStageChannelItems:i.isGuildStageVoice()}))}]}}))})))};e.renderUserPopout=function(t){var n=e.props,o=n.channel,i=n.user,a=o.getGuildId();return(0,r.jsx)(ue.Z,ge({userId:i.id,guildId:null!=a?a:void 0,channelId:o.id},t))};e.renderStreamPopout=function(){var t=e.props,n=t.user,o=t.channel,i=t.previewIsOpen,a=t.location;return(0,r.jsx)(ae,{user:n,channel:o,onWatch:e.handleWatchStream,previewIsOpen:i,location:a})};e.renderUser=function(t){var n=e.props,o=n.isSelfOnOtherClient,i=n.otherClientSessionType,l=n.shouldShowPreview,u=n.mute,c=n.localMute,s=n.localVideoDisabled,f=n.speaking,d=n.user,p=n.deaf,h=n.priority,y=n.collapsed,b=n.isStreaming,m=n.isGuest,v=n.nick,g=n.video,C=n.serverMute,S=n.serverDeaf,j=n.tabIndex,_=n.embeddedApplication,I=n.channel,w=e.state.userPopoutOpen,T=P.al.has(null!=i?i:""),N={user:d,speaking:f,mute:u,localMute:c,localVideoDisabled:s,isStreaming:b,isGuest:m,video:g,priority:h,deaf:p,
nick:v,collapsed:y,overlap:y,serverMute:C,serverDeaf:S,tabIndex:j,otherClientSessionType:i,embeddedApplication:_,avatarContainerClass:a()(me({},de().userAvatar,!0)),disabled:o&&!T,selected:w,onClick:T?void 0:e.handleClickUser,onDoubleClick:e.handleWatchStream,onContextMenu:e.handleUserContextMenu,guildId:I.guild_id};if(o){var M;return(0,r.jsx)(E.Tooltip,{text:null!==(M=A(i))&&void 0!==M?M:x.Z.Messages.CONNECTED_ON_ANOTHER_CLIENT,children:function(e){e.onClick,e.onContextMenu;var t=Ee(e,["onClick","onContextMenu"]);return(0,r.jsx)(O.Z,ge({},N,t))}})}return(0,r.jsx)(E.Popout,{position:"right",renderPopout:e.renderStreamPopout,shouldShow:l&&!w,onRequestClose:e.handleHidePreview,spacing:0,children:function(){return(0,r.jsx)(O.Z,Oe(ge({},N),{onMouseDown:t.onMouseDown,onKeyDown:t.onKeyDown}))}})};return e}i.prototype.render=function(){var e=this,t=this.state.userPopoutOpen,n=this.props,o=n.connectUserDragSource,i=n.canDrag,a=n.isSelfOnOtherClient,l=n.user,u=n.channel,c=(0,r.jsx)("div",{
className:de().draggable,"data-dnd-name":u.name,onMouseEnter:a?void 0:this.handleMouseEnter,onMouseLeave:a?void 0:this.handleHidePreview,children:(0,r.jsx)(E.Popout,{preload:function(){return(0,le.Z)(l.id,l.getAvatarURL(u.guild_id,80),{guildId:u.guild_id,channelId:u.id})},position:"right",renderPopout:this.renderUserPopout,shouldShow:t,onRequestClose:this.handleCloseUserPopout,children:function(t){return e.renderUser(t)}})});return i?o(c):c};!function(e,t,n){t&&be(e.prototype,t);n&&be(e,n)}(i,[{key:"canWatchStream",get:function(){var e=this.props,t=e.channel;return e.isStreaming&&(0,N.p9)(t,U.Z,D.Z,m.Z,w.Z)[0]}}]);return i}(o.PureComponent);xe.defaultProps={isSelfOnOtherClient:!1};const Ae=(0,I.$)(xe);var Te=n(69540),Ne=n(742213),Me=n.n(Ne);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function De(e){De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return De(e)}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Re(e,t,n[t])}))}return e}function Ue(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Be(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e,t){Fe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fe(e,t)}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}var We=o.memo((function(e){var t,n=e.mute,o=e.deaf,i=e.user.id,a=e.channel,u=e.sessionId,m=(0,l.e7)([h.default],(function(){return h.default.getId()===i}),[i]),O=Ge((0,l.Wu)([b.Z],(function(){
return m?[!b.Z.isSupported()||b.Z.isSelfMute()||b.Z.isSelfMutedTemporarily(),b.Z.isSelfDeaf(),!1]:[!b.Z.isSupported()||b.Z.isLocalMute(i),!1,b.Z.isLocalVideoDisabled(i)]}),[m,i]),3),E=O[0],C=O[1],S=O[2],j=(0,l.e7)([g.Z],(function(){return g.Z.isPrioritySpeaker(i)})),_=(0,c.Z)({userId:i,checkSoundSharing:!0}),I=(0,l.e7)([y.ZP],(function(){return y.ZP.isGuestOrLurker(a.guild_id,i)})),w=(0,l.e7)([s.ZP],(function(){return s.ZP.getEmbeddedActivitiesForChannel(a.id).find((function(e){return e.connections.has(i)}))}),[i,a.id]),P=(0,f.Z)(null!=w?[w.application_id]:[]),x=Ge((0,l.Wu)([p.Z],(function(){return[p.Z.getStreamForUser(i,a.getGuildId()),p.Z.getActiveStreamForUser(i,a.getGuildId())]}),[i]),2),A=x[0],T=x[1],N=(0,l.e7)([v.Z],(function(){return v.Z.getSessionById(u)}));return(0,r.jsx)(d.Z,{shakeLocation:Te.oZ.VOICE_USER,isShaking:_,children:(0,r.jsx)(Ae,Ue(ke({},e),{canDrag:e.canDrag&&!I,otherClientSessionType:null==N||null===(t=N.clientInfo)||void 0===t?void 0:t.os,localMute:E&&!m,
localVideoDisabled:S,mute:n||E,deaf:o||C,speaking:_,priority:j,embeddedApplication:P[0],isStreaming:null!=A&&A.channelId===a.id,isWatching:null!=T&&T.state!==W.jm8.ENDED,isGuest:I}))})}));We.displayName="ConnectedVoiceUser";var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fe(e,t)}(n,e);var t=Ve(n);function n(){Le(this,n);var e;(e=t.apply(this,arguments)).showPreview=new u.sW(50,(function(){e.setState({previewUserId:e.previewUserIdAfterDelay});e.previewUserIdAfterDelay=null}));e.hidePreview=new u.sW(175,(function(){e.setState({previewUserId:null})}));e.previewUserIdAfterDelay=null;e.state={previewUserId:null,previewIsOpen:!1};e.handleShowPreview=function(t){if(e.props.allowPreviews){e.setState({previewIsOpen:!0});e.hidePreview.cancel();e.previewUserIdAfterDelay=t;e.showPreview.delay()}}
;e.handleHidePreview=function(t){if(e.props.allowPreviews){var n=e.state.previewUserId;e.showPreview.cancel();if(n===t){e.setState({previewIsOpen:!1});e.hidePreview.delay()}}};return e}var o=n.prototype;o.renderVoiceUsers=function(){var e=this,t=this.props,n=t.channel,o=t.allowDragging,i=t.voiceStates,a=t.collapsed,l=t.collapsedMax,u=void 0===l?6:l,c=t.tabIndex,s=t.location,f=t.numAudience,d=this.state,p=d.previewUserId,y=d.previewIsOpen;if(null==i||0===i.length)return null;var b=(a&&i.length>u+1?i.slice(0,u):i).map((function(t){var i,l=t.user,u=t.nick,f=t.voiceState;return(0,r.jsx)(We,{user:l,nick:u,isSelfOnOtherClient:h.default.getId()===l.id&&f.sessionId!==h.default.getSessionId(),mute:f.isVoiceMuted(),deaf:f.isVoiceDeafened(),video:f.selfVideo,serverMute:f.mute,serverDeaf:f.deaf,sessionId:null!==(i=f.sessionId)&&void 0!==i?i:"",channel:n,collapsed:a,canDrag:o&&m.Z.can(W.Plq.MOVE_MEMBERS,n),showPreview:e.handleShowPreview,hidePreview:e.handleHidePreview,previewIsOpen:y,
shouldShowPreview:p===l.id,tabIndex:c,location:s},l.id)}));null!=f&&f>0?b.push((0,r.jsx)(Pe,{collapsed:a,numAudience:f})):a&&i.length>u+1&&b.push((0,r.jsx)(we,{numUsers:i.length-u}));return b};o.render=function(){var e=this.renderVoiceUsers(),t=this.props,n=t.collapsed,o=t.className,i=t.children;return null==e&&null==i?null:(0,r.jsxs)(O.e,{className:a()(o,Me().list,Re({},Me().collapsed,n)),collapsed:n,children:[e,i]})};return n}(o.Component);ze.defaultProps={allowPreviews:!0,allowDragging:!0};const Ye=ze},169071:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var r=n(751615),o=n(628486),i=n(2590);function a(){var e=(0,o.Z)((function(e){return e.guildId})),t=(0,r.TH)().pathname,n=t.startsWith(i.Z5c.GUILD_DISCOVERY),a=t.startsWith(i.Z5c.GUILD_MEMBER_VERIFICATION("")),l=t.startsWith(i.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));return null==e&&!(n||a||l)}},913921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ma})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(973935),s=n(751615),f=n(457217),d=n(809784),p=n(202351),h=n(199731),y=n(513328),b=n(945460),m=n(216151),v=n(106200),g=n(566706),O=n(825252),E=n(31914),C=(n(340974),n(567403)),S=n(671723);n(652591),n(116433);const j=(0,n(260561).B)({kind:"user",id:"2022-01_server_recommendations_rollout",label:"Rollout experiment for server recommendations.",defaultConfig:{showRecs:!1},treatments:[{id:1,label:"Show server recommendations",config:{showRecs:!0}}]});var _=n(2590),I=n(594697);var w=n(944522),P=n(628486),x=n(953727),A=n(21372),T=n(107218),N=n(473903),M=n(120415),Z=n(463473),L=n(896812),R=n(656793),D=n(780861),k=n(813869),U=n(66768),B=n(744564);function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e){G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return G(e)}function H(e,t){
return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){V=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return V(e,t)}var W=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}var Y={};var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&V(e,t)}(n,e);var t=z(n);function n(){F(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(Y[e]=t[e])}))};r.getState=function(){return Y};r.hasViewed=function(e){return null!=Y[e]};r.__getLocalVars=function(){return{lastViewed:Y}};return n}(p.ZP.PersistedStore);K.displayName="ViewHistoryStore";K.persistKey="ViewHistoryStore";const q=new K(B.Z,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;Y[t]=Date.now()}});var X=n(901654),Q=n(633997),J=n(295652),$=n(473708);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ne(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function re(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}
var oe="app-download-item",ie="add-server-item";function ae(e){var t;if(!(0,R.c)())return!1;var n=k.Z.getMutableGuildStates();return e!==oe&&e!==ie&&(null===(t=n[null!=e?e:"null"])||void 0===t?void 0:t.unread)}function le(e){var t,n=k.Z.getMutableGuildStates();return e===_.x8Z.SERVER_DISCOVERY_BADGE&&!q.hasViewed(_.x8Z.SERVER_DISCOVERY_BADGE)||e!==oe&&e!==ie&&(null===(t=n[null!=e?e:"null"])||void 0===t?void 0:t.mentionCount)>0}var ue=(0,J.oH)((function(e,t,n){return["null"].concat(re(t),re(e),[ie,_.x8Z.E3_SERVER_DISCOVERY_BADGE,oe])}));const ce=o.forwardRef((function(e,t){var n=(0,p.Wu)([T.Z,U.Z,k.Z],(function(){return ue(T.Z.getGuildFolders(),U.Z.getUnreadPrivateChannelIds(),k.Z.getStoreChangeSentinel())})),o=(0,p.e7)([X.Z],(function(){return X.Z.isFocused()})),i=(0,p.e7)([D.Z],(function(){return D.Z.getExpandedFolders()}));return(0,r.jsx)(Q.Z,ne(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){te(e,t,n[t])}))}return e}({},e),{ref:t,items:n,isUnread:ae,textUnread:$.Z.Messages.NEW,textMention:$.Z.Messages.NEW,isMentioned:le,animate:o,expandedFolders:i}))}));var se=n(443660),fe=n(29891),de=n(61209),pe=n(69085),he=n(248088),ye=n(971402),be=n(621647),me=n(773011),ve=n(177570),ge=n(717091),Oe=n(715107),Ee=n(315850),Ce=n(531441),Se=n(421281),je=n(984187),_e=n.n(je);function Ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Ie(e,t,n[t])}))}return e}function Pe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Ae=[18,18,16,16,14,12,10];const Te=function(e){
var t,n,i=e.children,l=e.icon,u=e.name,c=e.ariaLabel,f=e.className,d=e.style,p=e.to,h=e.onClick,y=e.selected,m=void 0!==y&&y,v=xe(e,["children","icon","name","ariaLabel","className","style","to","onClick","selected"]),g=(0,s.k6)();null==l&&null!=u&&(n=function(e){var t;return null!==(t=Ae[e.length-1])&&void 0!==t?t:Ae[Ae.length-1]}(t=(0,Se.Zg)(u)));var O=o.useCallback((function(e){if(null==p);else if("string"==typeof p)g.push(p);else{var t=p.pathname,n=void 0===t?"":t,r=p.state;g.push(n,r)}null!=h&&h(e)}),[g,p,h]);return(0,r.jsxs)(b.Clickable,Pe(we({},v),{onClick:O,className:a()(f,_e().wrapper,Ie({},_e().selected,m)),"aria-label":null!=c&&""!==c?c:null!=u?u:"",style:Pe(we({},d),{fontSize:n}),focusProps:{enabled:!1},children:[null!=t?(0,r.jsx)("div",{className:a()(_e().childWrapper,_e().acronym),"aria-hidden":!0,children:t}):null,null!=l?(0,r.jsx)("img",{className:_e().icon,src:l,alt:" ",width:48,height:48,"aria-hidden":!0}):null,null!=i?(0,r.jsx)("div",{className:_e().childWrapper,
children:i}):null]}))};var Ne=n(671232),Me=n.n(Ne);function Ze(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ze(e,t,n[t])}))}return e}function Re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function De(e){
var t=e.children,n=e.text,i=e.color,l=e.disableWrapper,u=void 0!==l&&l,c=e.disabled,s=void 0!==c&&c,f=e.hideOnClick,d=void 0===f||f,p=e.shouldShow,h=e.forceOpen,y=e.selected,m=void 0!==y&&y,v=e.tooltipClass;return(0,r.jsx)(b.Tooltip,{shouldShow:p,forceOpen:h,spacing:20,hideOnClick:d,text:s?null:n,position:"right",color:i,"aria-label":!1,tooltipClassName:a()(Me().listItemTooltip,v),children:function(e){return u?o.cloneElement(o.Children.only(t),Le({},e)):(0,r.jsx)("div",Re(Le({className:a()(Me().listItemWrapper,Ze({},Me().selected,m))},e),{children:t}))}})}var ke=n(445547),Ue=n.n(ke);function Be(e,t){return(0,r.jsx)("div",{className:Ue().listItem,ref:t,children:e})}var Fe=n(77413),Ge=n(795470),He=n(886391),Ve=n(436160),We=n(690934),ze=n(3219),Ye=n(570202),Ke=n(542231),qe=n(621329),Xe=n(189865),Qe=n(449401),Je=n(425454),$e=n(472034),et=n(108206),tt=n(796938),nt=n(516909),rt=n(38004);function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r
}function it(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function at(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){
a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function ct(e){var t=e.emoji,n=e.channelId,i=e.messageId,l=lt(o.useState(!0),2),u=l[0],c=l[1],s=lt(o.useState([]),2),f=s[0],d=s[1],p=o.useMemo((function(){if(!(null==f||f.length<1)){var e=(0,We.Zn)(t,f[0],n,{emojiSize:Ve.M.NORMAL,messageId:i});return(0,r.jsx)(Ve.Z,{emojiSize:Ve.M.NORMAL,className:Ue().effect,effect:e,onComplete:function(){return c(!1)}})}}),[f,t,n,i]);o.useEffect((function(){var e,n,r=!1;c(!0);(n=(e=function(){var e;return ut(this,(function(n){switch(n.label){case 0:return[4,(0,rt.B6)(t)];case 1:e=n.sent();Array.isArray(e)&&e.length>0&&(r||d(e));return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){it(i,r,o,a,l,"next",e)}function l(e){it(i,r,o,a,l,"throw",e)}a(void 0)}))}),
function(){return n.apply(this,arguments)})();return function(){r=!0}}),[t]);return(0,r.jsxs)("div",{children:[p,(0,r.jsx)(Fe.Z,{className:a()(Ue().serverEmoji,at({},Ue().hideEmoji,u)),emojiId:t.id,emojiName:t.name,animated:t.animated,size:"reaction"})]})}function st(e,t){return(0,r.jsx)(Ce.mA,{count:e,color:t})}function ft(e){var t,n=e.audio,r=e.video,o=e.screenshare,i=e.participating,a=e.liveStage,l=e.hasActiveEvent,u=e.participatingInStage,c=e.activity;if(!l||i||u)if(a&&!i||u)t=nt.Z;else if(c)t=et.Z;else if(o)t=Je.Z;else if(r)t=Ke.Z;else{if(!n)return null;t=tt.Z}else t=Ye.Z;return pt({icon:t,participating:i||u})}function dt(e){var t=lt(function(e){switch(e){case He.wB.SUBMITTED:return[void 0,Qe.Z];case He.wB.REJECTED:return[_.Ilk.RED_400,Xe.Z];case He.wB.APPROVED:return[_.Ilk.GREEN_360,qe.Z];default:return[void 0,$e.Z]}}(e.guildJoinRequestStatus),2),n=t[0];return pt({icon:t[1],color:n})}function pt(e){var t=e.icon,n=e.color,o=e.participating,i=null==n?{disableColor:!0}:{color:(0,
Ge.Lq)(n)};return(0,r.jsx)(Ce.G2,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){at(e,t,n[t])}))}return e}({icon:t,className:a()(Ue().iconBadge,at({},Ue().participating,o))},i))}var ht=n(170010),yt=n.n(ht);function bt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function mt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bt(i,r,o,a,l,"next",e)}function l(e){bt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function Ot(e){Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ot(e)}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gt(e,t,n[t])}))}return e}function Ct(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function St(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e,t){jt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return jt(e,t)}var _t=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}var wt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){
return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Pt={friction:28,tension:600};function xt(e){switch(e){case"height":case"opacity":return Et({duration:150},Pt);case"scale":return Et({},Pt);default:
throw new Error("DirectMessage: getSpringConfigs() - Invalid spring ".concat(String(e)))}}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&jt(e,t)}(i,e);var t=It(i);function i(){vt(this,i);var e;(e=t.apply(this,arguments)).state={hovered:!1,animating:!0,controller:new he.Controller({scale:0,height:0,opacity:0,config:xt})};e.handleContextMenu=function(t){var o=e.props.channel,i=o.type===_.d4z.DM?N.default.getUser(o.getRecipientId()):null;null!=i?(0,ye.jW)(t,mt((function(){var e,t;return wt(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(50865)]).then(n.bind(n,550865))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ct(Et({},e),{channel:o,user:i}))}]}}))}))):(0,ye.jW)(t,mt((function(){var e,t;return wt(this,(function(i){switch(i.label){
case 0:return[4,n.e(13035).then(n.bind(n,413035))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ct(Et({},e),{channel:o,selected:!1}))}]}}))})))};return e}var a=i.prototype;a.componentWillEnter=function(e){var t=this,n=this.state.controller;e();n.update({immediate:!X.Z.isFocused(),height:1,opacity:1,scale:1,config:xt}).start().then((function(){return t.setState({animating:!1})}))};a.componentWillAppear=function(e){this.state.controller.update({immediate:!0,scale:1,opacity:1,height:1,config:xt}).start().then(e)};a.componentWillLeave=function(e){var t=this.state.controller;this.setState({animating:!0},(function(){return t.update({immediate:!X.Z.isFocused(),height:0,opacity:0,scale:0,config:xt}).start().then(e)}))};a.componentWillUnmount=function(){this.state.controller.dispose()};a.getAnimatedStyle=function(){var e=this.state.controller.springs,t=e.opacity,n=e.height,r=e.scale;return{opacity:t,height:n.to([0,1],[0,56]),transform:r.to([0,1],[.5,1]).to((function(e){
return"scale(".concat(e,")")}))}};a.getChannelIcon=function(){var e=this.props.channel,t=e.type===_.d4z.DM?N.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL(void 0,48,!1):(0,be.x)(e)};a.render=function(){var e=this,t=this.props,n=t.channel,i=t.channelName,a=t.selected,l=t.badge,u=t.audio,c=t.video,s=t.stream,d=t.isCurrentUserInThisDMCall,p=t.unread,h=this.state,y=h.hovered,m=h.animating;return(0,r.jsx)(he.animated.div,{style:this.getAnimatedStyle(),children:Be((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ee.Z,{hovered:!m&&y,selected:!m&&a,unread:!m&&p,className:yt().pill}),(0,r.jsx)(De,{text:null!=i?i:"",selected:a,children:(0,r.jsx)(b.BlobMask,{selected:a||y,lowerBadge:l>0?st(l):null,upperBadge:ft({audio:u,video:c,screenshare:s,participating:d}),lowerBadgeWidth:(0,Ce.OV)(l),children:(0,r.jsx)(f.mh,{id:n.id,children:function(t){return(0,r.jsx)(Te,Et({to:_.Z5c.CHANNEL(_.ME,n.id),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){
return e.setState({hovered:!1})},icon:e.getChannelIcon(),selected:a||y,ariaLabel:null!=i?i:"",onContextMenu:e.handleContextMenu},t))}})})})]}))})};return i}(o.PureComponent);At.defaultProps={badge:0,audio:!1,video:!1,isCurrentUserInThisDMCall:!1};const Tt=o.forwardRef((function(e,t){var n=e.channel.id,o=(0,me.ZP)(e.channel),i=(0,p.e7)([pe.Z],(function(){return pe.Z.getChannelId()}),[]),a=(0,p.e7)([g.Z],(function(){return null!=i?g.Z.getMode(i):_.WtW.VOICE}),[i]),l=(0,p.e7)([ve.Z],(function(){return ve.Z.getAllApplicationStreamsForChannel(n).length>0})),u=(0,p.e7)([Oe.Z],(function(){return Oe.Z.getChannelId()}),[]),c=(0,p.e7)([ge.ZP],(function(){return ge.ZP.getMentionCount(n)}),[n]),s=i===n,f=!1,d=!1;if(s){f=a===_.WtW.VOICE;d=a===_.WtW.VIDEO}return(0,r.jsx)(At,Ct(Et({},e),{ref:t,channelName:o,unread:c>0,selected:u===n,badge:c,audio:f,video:d,stream:l,isCurrentUserInThisDMCall:s}))}));function Nt(){(0,p.e7)([de.Z],(function(){return de.Z.getPrivateChannelsVersion()}))
;var e=de.Z.getMutablePrivateChannels(),t=(0,p.Wu)([U.Z],(function(){return U.Z.getUnreadPrivateChannelIds()})),n=(0,p.cj)([pe.Z],(function(){return{selectedVoiceGuildId:pe.Z.getGuildId(),selectedVoiceChannelId:pe.Z.getChannelId()}})),i=n.selectedVoiceGuildId,a=n.selectedVoiceChannelId,l=t.map((function(t){var n=e[t];return null==n||n.id===a?null:(0,r.jsx)(Tt,{channel:n},n.id)})),u=null==i&&null!=a?e[a]:null,c=(0,fe.Dd)(null==u?void 0:u.id);null==u||c||l.unshift((0,r.jsx)(Tt,{channel:u},u.id));return(0,r.jsx)(se.Z,{component:o.Fragment,children:l})}var Mt=n(898652),Zt=n(202772),Lt=n.n(Zt);function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Dt(e,t,n[t])}))}return e}function Ut(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ft=o.forwardRef((function(e,t){var n=e.id,i=e.onClick,l=e.onContextMenu,u=e.icon,c=e.selected,s=e.tooltip,d=e.upperBadge,p=e.lowerBadge,h=e.lowerBadgeWidth,y=e.showPill,m=void 0===y||y,v=e.className,g=e["aria-label"],O=e.children,E=e.onMouseEnter,C=e.onMouseLeave,S=e.onMouseDown,j=(0,f.Ie)(n),_=Bt(o.useState(!1),2),I=_[0],w=_[1],P="string"==typeof s&&null==g?s:g;return Be((0,r.jsxs)(r.Fragment,{children:[m?(0,r.jsx)("div",{
className:Lt().pill,children:(0,r.jsx)(Ee.Z,{hovered:I,selected:c})}):null,(0,r.jsx)(De,{text:s,selected:c,children:(0,r.jsx)(b.BlobMask,{className:Lt().circleButtonMask,selected:c||I,upperBadge:d,lowerBadge:p,lowerBadgeWidth:h,children:(0,r.jsx)(b.Clickable,Ut(kt({innerRef:t,onMouseEnter:function(){null==E||E();w(!0)},onMouseLeave:function(){null==C||C();w(!1)},onMouseDown:S,className:a()(Lt().circleIconButton,v,Dt({},Lt().selected,c||I)),onClick:i,"aria-label":P,onContextMenu:l,focusProps:{enabled:!1}},j),{children:null!=u&&(0,r.jsx)(u,{className:Lt().circleIcon})}))})}),O]}))}));function Gt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gt(i,r,o,a,l,"next",e)}function l(e){Gt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Vt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}var Wt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)
}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},zt="DOWNLOAD_APPS";function Yt(){var e=(0,b.useModalsStore)((function(e){return(0,b.hasModalOpenSelector)(e,zt)}));return(0,r.jsx)(Ft,{id:"app-download-button",onClick:function(){(0,b.openModalLazy)(Ht((function(){var e,t;return Wt(this,(function(o){switch(o.label){case 0:return[4,Promise.resolve().then(n.bind(n,908056))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Vt(e,t,n[t])}))}return e}({source:"Guilds"},e))}]}}))})),{modalKey:zt})},selected:e,tooltip:$.Z.Messages.DOWNLOAD_APPS,icon:Mt.Z})}
var Kt=n(875700),qt=n(116404),Xt=n(481008),Qt=n(907078),Jt=n(983512),$t=n(87931),en=n(736818),tn=n(959207),nn=n(464187),rn=n(436154),on=n(443812),an=n(707073),ln=n(775173),un=n(749565),cn=n(285361),sn=n.n(cn);function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||hn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){if(e){if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}function yn(){var e=(0,p.e7)([Jt.Z],(function(){return Jt.Z.getBroadcasts()})),t=(0,p.e7)([rn.Z],(function(){return rn.Z.getBroadcast()})),n=o.useMemo((function(){return e.map((function(e){return e.applicationId}))}),[e]),i=o.useMemo((function(){var n=pn(e);null!=t&&n.unshift(t);return n}),[e,t]);o.useEffect((function(){Kt.Z.fetchApplications(n)}),[n]);return(0,r.jsxs)("div",{className:sn().broadcastList,children:[(0,
r.jsx)(b.Heading,{variant:"eyebrow",color:"header-secondary",children:$.Z.Messages.LIVE_BROADCASTS}),i.map((function(e){return(0,r.jsx)(bn,{userId:e.userId,applicationId:e.applicationId,channelId:e.channelId,streamKey:e.streamKey},e.userId)}))]})}function bn(e){var t=e.userId,n=e.applicationId,o=e.channelId,i=e.streamKey,l=(0,p.e7)([en.default],(function(){return en.default.getId()})),u=(0,p.e7)([N.default],(function(){return N.default.getUser(t)})),c=(0,p.e7)([tn.Z],(function(){return tn.Z.getGame(n)})),s=un.ZP.useName(u);if(null==u||null==s)return null;var f=u.id===l,d=function(e,t,n){var o=un.ZP.getName(e),i=function(){return(0,r.jsxs)(b.Text,{variant:"text-sm/medium",className:a()(sn().broadcastRowText,sn().textSpacing),children:[(0,r.jsx)(b.Avatar,{size:b.AvatarSizes.SIZE_16,src:e.getAvatarURL(null,16),"aria-label":o,className:sn().textSpacing}),!n&&o]})},l=function(){if(null==t)return null;var e=ln.ZP.getApplicationIconURL({id:t.id,icon:t.icon,size:16});return(0,r.jsxs)(b.Text,{
variant:"text-sm/medium",className:a()(sn().broadcastRowText,sn().textSpacing,sn().applicationName),children:[(0,r.jsx)("img",{src:e,alt:"",width:16,height:16,className:sn().applicationIcon}),t.name]})},u=function(e){return!n&&(0,r.jsx)(b.Button,{size:b.ButtonSizes.TINY,look:b.ButtonLooks.LINK,className:sn().button,children:e})};return n?$.Z.Messages.YOU_ARE_BROADCASTING_APPLICATION.format({userHook:i,applicationHook:l}):null!=(null==t?void 0:t.name)?$.Z.Messages.USER_IS_BROADCASTING_APPLICATION.format({userHook:i,applicationHook:l,watchHook:u}):$.Z.Messages.USER_IS_BROADCASTING.format({userHook:i,watchHook:u})}(u,c,f);return(0,r.jsx)(b.Clickable,{onClick:f?void 0:function(){(0,Xt.W1)(o,i)},className:sn().broadcastRow,children:(0,r.jsx)(b.Text,{variant:"text-sm/normal",color:"text-muted",className:sn().broadcastRowText,children:d})})}function mn(){var e=(0,on.Dt)(),t=dn(o.useState(!1),2),n=t[0],i=t[1],a=Qt.Z.useExperiment({},{autoTrackExposure:!1}).canViewBroadcasts,l=(0,
p.e7)([Jt.Z],(function(){return Jt.Z.getBroadcasts()})),u=dn((0,p.Wu)([nn.Z,Oe.Z,de.Z],(function(){return[de.Z.getChannel(Oe.Z.getVoiceChannelId()),nn.Z.getGuildId(),Oe.Z.getCurrentlySelectedChannelId(null)]})),3),c=u[0],s=u[1],f=u[2],d=null==c?void 0:c.isBroadcastChannel(),h=d&&s===(null==c?void 0:c.guild_id)&&f===(null==c?void 0:c.id);if(0===l.length&&!d||!a)return null;Qt.Z.trackExposure({});var y=function(){d&&null!=c&&qt.default.selectPrivateChannel(c.id)};return(0,r.jsx)("div",{onMouseEnter:function(){i(!0)},onMouseLeave:function(){setTimeout((function(){i(!1)}),250)},children:(0,r.jsx)(b.Popout,{position:"right",renderPopout:function(){return(0,r.jsx)(yn,{})},onRequestClose:function(){i(!1)},spacing:0,shouldShow:n,children:function(){return(0,r.jsx)(Ft,{id:e,onClick:y,icon:an.Z,lowerBadge:l.length>0?st(l.length,$t.Z.BACKGROUND_ACCENT):null,selected:h})}})})}
var vn=n(19585),gn=n(454011),On=n(288634),En=n(549069),Cn=n(736543),Sn=n(933850),jn=n(441143),_n=n.n(jn),In=n(306012),wn=n(327499),Pn=n(565283),xn=n.n(Pn);function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e){var t=o.useRef(null),n=e.map((function(e){return e[0]}));o.useLayoutEffect((function(){var n=requestAnimationFrame((function(){var n=t.current;if(null!=n){var r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=Tn(a.value,2),c=u[0],s=u[1];c?n.classList.add(s):n.classList.remove(s)}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}));return function(){return cancelAnimationFrame(n)}}),n);return t}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_n()(t.type!==L.eD.ROOT,"[GuildDropTarget] Tried using a root node as a drop target.");return{accept:e,canDrop:function(e){
return e.nodeId!==t.id&&((!r||e.type!==L.eD.FOLDER||t.type!==L.eD.FOLDER)&&(e.type!==L.eD.FOLDER||null==t.parentId))},drop:function(e){var o=e.nodeId;wn.Z.moveById(o,t.id,n,r)},collect:function(e){return{canDrop:e.canDrop(),isOver:e.isOver()}}}}function Zn(e){var t=e.name,n=e.targetNode,i=e.combine,l=e.below,u=o.useMemo((function(){return Mn([L.eD.GUILD,L.eD.FOLDER],n,l,i)}),[n,l,i]),c=Tn((0,In.L)(u),2),s=c[0],f=s.canDrop,d=s.isOver,p=c[1],h=Nn([[f,xn().autoPointerEvents],[d,xn().dragOver]]);return(0,r.jsx)("div",{ref:function(e){h.current=e;p(e)},"data-dnd-name":$.Z.Messages.DND_DROP_ABOVE.format({itemName:t}),className:a()(xn().target)})}function Ln(e){var t=e.name,n=e.targetNode,i=e.onDragOverChanged,l=Tn((0,In.L)((function(){return Mn([L.eD.GUILD],n,!0,!0)})),2),u=l[0],c=u.canDrop,s=u.isOver,f=l[1];o.useEffect((function(){null==i||i(s)}),[i,s]);var d=Nn([[c,xn().autoPointerEvents],[s,xn().dragOver]]);return(0,r.jsx)(De,{text:t,shouldShow:s,forceOpen:s,disableWrapper:!0,
tooltipClass:xn().centerTargetTooltip,children:(0,r.jsx)("div",{ref:function(e){d.current=e;f(e)},"data-dnd-name":$.Z.Messages.DND_DROP_COMBINE.format({itemName:t}),className:a()(xn().centerTarget,{})})})}const Rn=o.memo((function(e){var t=e.name,n=e.targetNode,o=e.noCombine,i=void 0!==o&&o,a=e.below,l=void 0!==a&&a,u=e.onDragOverChanged,c=!i&&null==n.parentId;return(0,r.jsxs)("div",{className:xn().wrapper,"aria-hidden":!0,children:[(0,r.jsx)(Zn,{name:t,targetNode:n,below:l}),c?(0,r.jsx)(Ln,{name:t,targetNode:n,onDragOverChanged:u}):null]})}));function Dn(e){var t=e.name,n=e.targetNode,o=Tn((0,In.L)((function(){return Mn([L.eD.GUILD],n,!0,!0)})),2),i=o[0],l=i.canDrop,u=i.isOver,c=o[1],s=Nn([[u,xn().wrapperOver]]),f=Nn([[u,xn().dragOver],[l,xn().autoPointerEvents]]);return(0,r.jsx)("div",{ref:s,className:a()(xn().folderEndWrapper),"aria-hidden":!0,children:(0,r.jsx)("div",{className:xn().folderTarget,children:(0,r.jsx)("div",{ref:function(e){f.current=e;c(e)},
"aria-label":"At end of ".concat(t),className:a()(xn().target)})})})}function kn(e){var t=e.children,n=Tn((0,In.L)({accept:[]}),2)[1];return(0,r.jsx)("div",{ref:n,children:t})}var Un=n(416625);function Bn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bn(i,r,o,a,l,"next",e)}function l(e){Bn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Gn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var Hn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Vn={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function Wn(e){(0,ye.jW)(e,Fn((function(){var e,t;return Hn(this,(function(o){switch(o.label){case 0:return[4,n.e(60625).then(n.bind(n,360625))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,
r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Gn(e,t,n[t])}))}return e}({},e))}]}}))})))}function zn(e){var t=e.disableTooltip,n=e.lastTargetNode,i=(0,p.e7)([C.Z],(function(){return C.Z.getGuilds()})),a=o.useMemo((function(){return Object.values(i)}),[i]),l=(0,p.e7)([N.default],(function(){return N.default.getCurrentUser()})),u=o.useMemo((function(){return a.some((function(e){return e.isOwner(l)}))}),[a,l]),c=(0,b.useModalsStore)((function(e){return(0,b.hasModalOpenSelector)(e,Un.P)})),s=(0,vn.Z)().analyticsLocations,f=(0,r.jsx)(Ft,{showPill:!1,id:"create-join-button",onClick:function(){(0,On.yU)()?(0,En.Z)({analyticsSource:{page:_.Sbl.CREATE_JOIN_GUILD_MODAL},analyticsLocation:{page:_.Sbl.CREATE_JOIN_GUILD_MODAL,
section:_.jXE.GUILD_CAP_UPSELL_MODAL},analyticsLocations:s}):gn.Z.openCreateGuildModal({location:"Guild List"})},selected:c,onContextMenu:Wn,tooltip:$.Z.Messages.ADD_A_SERVER,icon:Sn.Z});return t?f:(0,r.jsx)("div",{className:Ue().tutorialContainer,children:(0,r.jsxs)(Cn.Z,{tutorialId:u?"create-more-servers":"create-first-server",inlineSpecs:Vn,position:"right",children:[f,null!=n&&(0,r.jsx)(Rn,{name:$.Z.Messages.DND_END_OF_LIST,targetNode:n,below:!0,noCombine:!0})]})})}var Yn=n(761953),Kn=n(258104),qn=n(419051),Xn=n(682776),Qn=n(520453);var Jn=n(82274),$n=n(808194),er=n(602397),tr=n(23727),nr=n(81308),rr=n(96606),or=n(72580),ir=n(866016),ar=n.n(ir),lr=n(212515),ur=n.n(lr);function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dr(e){return function(e){if(Array.isArray(e))return cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){return 0===t.length?null:(0,r.jsxs)("div",{className:ar().row,children:[(0,r.jsx)(e,{className:ar().activityIcon}),(0,r.jsx)(rr.Z,{guildId:void 0,users:t,max:6})]})}function hr(){var e,t,n=(0,p.Wu)([qn.Z,de.Z],(function(){return Object.keys(qn.Z.getFavoriteChannels()).map((function(e){return de.Z.getChannel(e)})).filter(or.lm)})),o=n.map((function(e){return e.id})),i=n.filter((function(e){return e.type===_.d4z.GUILD_VOICE})),a=n.filter((function(e){return e.type===_.d4z.GUILD_STAGE_VOICE})).map((function(e){return e.id})),l=(0,p.Wu)([er.ZP],(function(){return u().flatMap(i,(function(e){return er.ZP.getVoiceStatesForChannel(e).map((function(e){return e.user}))}))}),[i]),c=(0,p.Wu)([Jn.Z],(function(){return u().flatMap(a,(function(e){return Jn.Z.getMutableParticipants(e,$n.pV.SPEAKER).filter((function(e){
return e.type===$n.Ui.VOICE})).map((function(e){return e.user}))}))})),s=(0,p.e7)([Jn.Z],(function(){var e=0,t=!0,n=!1,r=void 0;try{for(var o,i=a[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;e+=Jn.Z.getParticipantCount(l,$n.pV.AUDIENCE)}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e})),f=(0,p.Wu)([ve.Z],(function(){return ve.Z.getAllApplicationStreams().filter((function(e){return o.includes(e.channelId)})).map((function(e){return e.ownerId}))}),[o]),d=(0,p.Wu)([Kn.ZP],(function(){var e=Kn.ZP.getEmbeddedActivitiesByChannel(),t=[],n=!0,r=!1,i=void 0;try{for(var a,l=o[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u,c,s,f=a.value;(u=t).push.apply(u,dr(null!==(s=null===(c=e.get(f))||void 0===c?void 0:c.flatMap((function(e){return Array.from(e.connections.keys())})))&&void 0!==s?s:[]))}}catch(e){r=!0;i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}return t}),[o]),h=(0,p.Wu)([N.default],(function(){
return d.map((function(e){return N.default.getUser(e)}))}),[d]),y=(0,p.Wu)([N.default],(function(){return f.map((function(e){return N.default.getUser(e)}))}),[f]),m=pr(tt.Z,l.filter((function(e){return!f.includes(e.id)&&!d.includes(e.id)}))),v=(t=s,0===(e=c).length?null:(0,r.jsxs)("div",{className:ar().row,children:[(0,r.jsx)(nt.Z,{className:ar().activityIcon}),(0,r.jsx)(rr.Z,{guildId:void 0,users:e,max:3}),(0,r.jsxs)("div",{className:ar().stageListenerPill,children:[(0,r.jsx)(tr.Z,{width:16,height:16}),(0,r.jsx)(b.Text,{className:ar().stageListenerCount,color:"text-normal",variant:"text-xs/medium",children:t})]})]})),g=pr(nr.Z,y.filter((function(e){return null!=e&&!d.includes(e.id)}))),O=pr(et.Z,h);return(0,r.jsxs)(r.Fragment,{children:[v,m,g,O]})}function yr(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a()(ar().row,ar().rowGuildName),children:(0,r.jsx)("span",{className:a()(ar().guildNameText,ar().guildNameTextLimitedSize),
children:$.Z.Messages.FAVORITES_GUILD_NAME})}),(0,r.jsx)(hr,{})]})}function br(e){var t=e["aria-label"],n=void 0!==t&&t,o=e.children;return(0,r.jsx)(b.Tooltip,{hideOnClick:!0,spacing:20,position:"right",text:(0,r.jsx)(yr,{}),"aria-label":n,tooltipClassName:ur().listItemTooltip,children:function(e){return(0,r.jsx)("div",fr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sr(e,t,n[t])}))}return e}({},e),{children:o}))}})}var mr=n(407561),vr=n(71236),gr=n(893263),Or=n(961355),Er=n.n(Or);function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function jr(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Sr(i,r,o,a,l,"next",e)}function l(e){Sr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_r(e,t,n[t])}))}return e}function wr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e){return function(e){if(Array.isArray(e))return Cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ar(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}var Tr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++
;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Nr={analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.CHANNEL_LIST,object:_.qAy.CHANNEL}};function Mr(){var e=(0,f.Ie)("favorites"),t=Pr(o.useState(!1),2),i=t[0],a=t[1],l=(0,p.cj)([qn.Z],(function(){return{favoriteChannels:qn.Z.getFavoriteChannels(),favoriteServerMuted:qn.Z.favoriteServerMuted}})),u=l.favoriteServerMuted,c=l.favoriteChannels,s=(0,p.e7)([Oe.Z],(function(){return Oe.Z.getChannelId(_.I_8)})),d=(0,p.e7)([de.Z],(function(){return de.Z.getChannel(s)})),h=(0,
P.Z)((function(e){return e.guildId}))===_.I_8,y=function(e){return(0,p.cj)([de.Z,ge.ZP,Xn.Z],(function(){return Object.keys(e).reduce((function(e,t){var n=de.Z.getChannel(t),r=null==n?void 0:n.isGuildVocal();e.badge=e.badge+ge.ZP.getMentionCount(t);e.unread=e.unread||!r&&Xn.Z.can(Qn.Pl.VIEW_CHANNEL,n)&&ge.ZP.hasUnread(t);return e}),{badge:0,unread:!1})}))}(c),m=y.badge,v=y.unread,g=function(e){var t=(0,p.e7)([Oe.Z],(function(){return Oe.Z.getVoiceChannelId()})),n=null!=t&&null!=e[t],r=(0,p.e7)([ve.Z],(function(){if(!n)return!1;var t=ve.Z.getCurrentUserActiveStream();return null!=t&&null!=e[t.channelId]})),o=(0,p.e7)([ve.Z],(function(){return ve.Z.getAllApplicationStreams().some((function(t){return null!=e[t.channelId]}))})),i=(0,p.e7)([mr.Z],(function(){return n&&null!=t&&mr.Z.hasVideo(t)}),[n,t]),a=(0,p.Wu)([Kn.ZP],(function(){return Object.keys(e).reduce((function(e,t){var n;(n=e).push.apply(n,xr(Kn.ZP.getEmbeddedActivitiesForChannel(t)));return e}),[])})),l=(0,
p.e7)([Kn.ZP],(function(){return Array.from(Kn.ZP.getSelfEmbeddedActivities().values()).some((function(t){var n=t.channelId;return null!=e[n]}))})),u=a.length>0,c=!1,s=!1,f=!1,d=!1;if(n){c=!i;s=i;f=r;d=l}else{f=o;d=u}return ft({audio:c,video:s,screenshare:f,liveStage:!1,participating:n,participatingInStage:!1,activity:d})}(c),O=m>0?(0,gr.Ne)(m):null;return Be((0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ee.Z,{selected:h,hovered:i,unread:v&&!u,className:Er().pill}),(0,r.jsx)(br,{children:(0,r.jsx)(b.BlobMask,{selected:h||i,upperBadge:g,lowerBadge:O,children:(0,r.jsx)(Te,wr(Ir({},e),{ariaLabel:$.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:$.Z.Messages.FAVORITES_GUILD_NAME,mentions:m}),to:{pathname:_.Z5c.CHANNEL(_.I_8,s),state:Nr},selected:h||i,onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onMouseDown:function(){null!=d&&Yn.Z.preload(d.guild_id,d.id)},onContextMenu:function(e){(0,ye.jW)(e,jr((function(){var e,t;return Tr(this,(function(o){
switch(o.label){case 0:return[4,n.e(29375).then(n.bind(n,429375))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ir({},e))}]}}))})))},children:(0,r.jsx)(vr.Z,{className:Er().favoriteIcon,width:20,height:20})}))})})]}))}var Zr=n(106750),Lr=n(784426),Rr=n(794547);function Dr(){if(window.location.pathname.startsWith(_.Z5c.GUILD_DISCOVERY)){(0,Zr.AQ)();(0,Zr.uY)(I.Hk,!0)}var e=(0,Lr.s1)().location.search;(0,Lr.uL)(_.Z5c.GUILD_DISCOVERY,{search:e})}const kr=o.forwardRef((function(e,t){var n=e.selected,o=e.tooltip;return(0,r.jsx)(Ft,{id:"guild-discover-button",ref:t,onClick:Dr,selected:n,tooltip:null!=o?o:$.Z.Messages.GUILD_DISCOVERY_TOOLTIP,icon:Rr.Z})}));var Ur=n(630631),Br=n(576725),Fr=n(544488),Gr=n(840922),Hr=n(432065),Vr=n(493221),Wr=n(713094),zr=n(454708),Yr=n(336117),Kr=n(954419),qr=n(716118),Xr=n(169071),Qr=n(203600),Jr=n(980341),$r=n.n(Jr);function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function to(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){to(e,t,n[t])}))}return e}function ro(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var io={origin:{x:-16,y:0},targetWidth:48,targetHeight:48,offset:{x:0,y:0}};function ao(e){
var t=e.selected,n=e.user,i=e.badge,a=e.link,l=e.showProgressBadge,u=oo(o.useState(!1),2),c=u[0],s=u[1],d=oo(o.useState(!1),2),p=d[0],h=d[1],y=oo(o.useState(null),2),m=y[0],v=y[1],g=oo(o.useState(0),2),O=g[0],E=g[1],C=(0,f.Ie)("home"),S=function(){v(null);E(0);clearTimeout(m)};if(null==n)return null;var j=$.Z.Messages.DIRECT_MESSAGES;p&&(j=Ur.Z.get(_.wli)?$.Z.Messages.DISCODO_ENABLED:$.Z.Messages.DISCODO_DISABLED);return(0,r.jsx)("div",{className:$r().tutorialContainer,children:(0,r.jsx)(Cn.Z,{inlineSpecs:io,tutorialId:"friends-list",position:"right",children:Be((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ee.Z,{selected:t,hovered:c,className:$r().pill}),(0,r.jsx)(De,{color:b.Tooltip.Colors.PRIMARY,hideOnClick:!0,text:j,selected:t,children:(0,r.jsx)(b.BlobMask,{selected:t||c,lowerBadge:i>0?st(i):null,upperBadge:!t&&l?(0,r.jsx)(Br.Z,{className:$r().downloadProgress,determineOwnVisibility:!1}):null,lowerBadgeWidth:(0,Ce.OV)(i),children:(0,r.jsx)(Te,ro(no({onMouseEnter:function(){
return s(!0)},onMouseLeave:function(){return s(!1)},onClick:function(){if(!__OVERLAY__){null!=m&&clearTimeout(m);v(setTimeout(S,500));E(O+1);if(15===O){S();var e=!Ur.Z.get(_.wli);Ur.Z.set(_.wli,e);e?(0,qr.GN)("discodo"):(0,qr.GN)("user_leave");h(!0);setTimeout((function(){h(!1)}),1e3)}}},selected:t||c,ariaLabel:$.Z.Messages.DIRECT_MESSAGES},C),{to:{pathname:a,state:{analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.NAVIGATION,object:_.qAy.BUTTON_HOME}}},children:(0,r.jsx)(Yr.Z,{className:$r().homeIcon})}))})})]}))})})}function lo(){var e=(0,Xr.n)(),t=(0,p.e7)([zr.Z,Wr.Z],(function(){var e=(0,Br.E)(zr.Z.activeItems,Wr.Z),t=Kr.lK(e),n=t.total,r=t.progress,o=Kr.xI(r,n);return o>0&&o<100})),n=(0,p.e7)([Gr.Z],(function(){return Gr.Z.getPendingCount()})),o=Object.keys(Qr.nG),i=(0,p.e7)([Hr.Z],(function(){return Hr.Z.getUnacknowledgedOffers(o).length})),a=(0,p.e7)([N.default],(function(){return N.default.getCurrentUser()})),l=n+i+(0,Fr.q)();return(0,r.jsx)(ao,{selected:e,user:a,
selectedChannelId:Oe.Z.getChannelId(_.ME),badge:l,link:Vr.Z.getHomeLink(),showProgressBadge:t})}var uo=n(848285),co=n(757753),so=n(348311),fo=n(97641),po=n(318715),ho=n(944010),yo=n(934870),bo=n(336194),mo=n(124251),vo=n(211482),go=n(954938),Oo=n.n(go);function Eo(e){var t=e.className;return(0,r.jsx)(vo.ZP,{mask:vo.ZP.Masks.SQUIRCLE,className:a()(t,Oo().placeholderMask),width:48,height:48,style:{display:"block"},children:(0,r.jsx)("div",{className:Oo().dragInner})})}var Co=n(550262),So=n.n(Co);function jo(e){var t=e.guild,n=e.show,o=e.active,i=e.onAnimationStart,l=e.onAnimationRest,u={},c={};u.transform="translate3d(10px, 10px, 0) scale3d(3, 3, 1)";c.transform="translate3d(0, 0, 0) scale3d(1, 1, 1)";var s=(0,b.useToken)(bo.Z.unsafe_rawColors.BRAND_500).hex(),f=(0,b.useToken)(bo.Z.unsafe_rawColors.PRIMARY_630).hex();if(o&&null==t.icon){u.backgroundColor=s;c.backgroundColor=f}var d=(0,he.useTransition)(n,{from:u,enter:c,leave:u,config:{duration:100},onStart:i,onRest:l});return(0,
r.jsx)(r.Fragment,{children:d((function(e,n,o){return n&&(0,r.jsx)("div",{className:a()(So().folder,So().hover),children:(0,r.jsx)("div",{className:So().folderIconWrapper,children:(0,r.jsxs)("div",{className:So().closedFolderIconWrapper,children:[(0,r.jsx)(he.animated.div,{className:So().folderIconPreview,style:e,children:(0,r.jsx)(mo.Z,{guild:t,size:mo.Z.Sizes.SMOL,className:So().guildIcon})}),(0,r.jsx)(Eo,{className:So().miniPlaceholder})]})})},o.key)}))})}var _o=n(385563),Io=n(912665),wo=n.n(Io);function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Ao(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){xo(i,r,o,a,l,"next",e)}function l(e){xo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function To(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function No(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){To(e,t,n[t])}))}return e}function Mo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ro={analyticsSource:{page:_.ZY5.GUILD_CHANNEL,section:_.jXE.CHANNEL_LIST,
object:_.qAy.CHANNEL}};function Do(e,t){(0,ye.jW)(e,Ao((function(){var e,o;return Lo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(92224),n.e(46194),n.e(27979),n.e(47956),n.e(5683),n.e(57253),n.e(77357),n.e(57037),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Mo(No({},e),{guild:t}))}]}}))})))}const ko=o.memo((function(e){var t,n,i,l=e.guildNode,u=e.setRef,c=e.onDragStart,s=e.onDragEnd,d=e.route,p=e.guild,h=e.animatable,m=e.selected,v=void 0!==m&&m,g=e.unread,O=void 0!==g&&g,E=e.muted,C=void 0!==E&&E,S=e.mediaState,j=e.unavailable,I=void 0!==j&&j,w=e.badge,P=void 0===w?0:w,x=e.contextMenu,N=void 0===x?Do:x,M=e.draggable,Z=void 0!==M&&M,D=e.sorting,k=void 0!==D&&D,U=e.preloadOnClick,B=void 0===U||U,F=e.guildJoinRequestStatus,G=e.burstData,H=e.handleClearBurstData,V=l.id,W=l.parentId,z=!1,Y=null!==(t=e.upperBadge)&&void 0!==t?t:I?(0,r.jsx)(Ce.G2,{icon:ze.Z,disableColor:!0,
className:Ue().unavailableBadge}):null!=S?ft(S):void 0,K=null!==(n=e.lowerBadge)&&void 0!==n?n:void 0;if(null==K&&P>0){var q;K=null!==(q=st(P))&&void 0!==q?q:void 0}else if(null==K&&null!=F){var X;K=null!==(X=dt({guildJoinRequestStatus:F}))&&void 0!==X?X:void 0}else if(null==K&&void 0!==G){K=(0,r.jsx)(ct,No({},G));z=!0}var Q=null!==(i=e.lowerBadgeWidth)&&void 0!==i?i:(0,Ce.OV)(P),J=Zo((0,fo.c)({type:L.eD.GUILD,item:function(){requestAnimationFrame((function(){null==c||c()}));return{type:l.type,nodeId:l.id}},end:function(){null==s||s();(0,ho.V1)(T.Z.getCompatibleGuildFolders())},collect:function(e){return{dragging:e.isDragging()}}}),2),ee=J[0].dragging,te=J[1],ne=(0,f.Ie)(null!=V?V:""),re=Zo(o.useState(!1),2),oe=re[0],ie=re[1],ae=!k&&oe,le=Zo(o.useState(!1),2),ue=le[0],ce=le[1],se=Zo(o.useState(!1),2),fe=se[0],de=se[1],pe=Zo(o.useState((function(){return new y.sW(70,(function(){return de(!0)}))})),1)[0];o.useEffect((function(){return function(){return pe.cancel()}}),[pe])
;var he=o.useCallback((function(){if(null!=G&&z){(0,Lr.uL)(_.Z5c.CHANNEL(V,G.channelId,G.messageId),{navigationReplace:!0});null==H||H()}else null==d?(0,yo.X)(V,{state:Ro}):(0,Lr.uL)(d,{state:Ro})}),[G,V,H,d,z]),ye=o.useCallback((function(){if(null==d&&null!=p&&!I&&B){var e=(0,yo.V)(p.id);null!=e&&Yn.Z.preload(p.id,e)}}),[d,p,I,B]),be=(0,po.ZP)([A.ZP],(function(){return A.ZP.isCurrentUserGuest(V)})),me=o.useCallback((function(e){null==p||be||N(e,p)}),[p,N,be]),ve=o.useCallback((function(e){if("ArrowLeft"===e.key&&null!=W){var t;null===(t=document.querySelector("[aria-owns=folder-items-".concat(W,"]")))||void 0===t||t.focus()}}),[W]),ge=o.useCallback((function(e){if(e)pe.delay();else{pe.cancel();de(!1)}}),[pe]),Oe=o.useCallback((function(e){null==u||u(V,e)}),[V,u]);if(null==p)return null;var Se,je=fe||ue?(0,r.jsx)(jo,{guild:p,show:fe,active:v,onAnimationStart:function(){ce(fe)},onAnimationRest:function(){!fe&&ce(!1)}}):(0,r.jsx)(Te,Mo(No({
ariaLabel:$.Z.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({guildName:p.toString(),mentions:P}),name:p.toString(),onClick:he,onMouseEnter:function(){!k&&ie(!0)},onMouseLeave:function(){!k&&ie(!1)},onMouseDown:ye,onContextMenu:me,onKeyDown:ve,icon:p.getIconURL(96,ae&&h),selected:v||ae},ne),{role:"treeitem"})),_e=ee?(0,r.jsx)(kn,{children:(0,r.jsx)(Eo,{})}):(0,r.jsx)("div",{ref:Z?te:void 0,"data-dnd-name":p.toString(),className:a()(wo().blobContainer,(Se={},To(Se,wo().sorting,k),To(Se,wo().wobble,fe),To(Se,wo().selected,fe||v),Se)),children:(0,r.jsx)(b.BlobMask,{selected:fe||v||ae,innerClassName:C&&(0,R.c)()?wo().muted:void 0,upperBadge:Y,lowerBadge:K,lowerBadgeWidth:Q,children:je})});return Be((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ee.Z,{hovered:!ee&&ae,selected:!ee&&v,unread:!ee&&O,className:wo().pill}),(0,r.jsx)(_o.Z,{guild:p,disabled:k,children:_e}),Z?(0,r.jsx)(Rn,{name:p.name,targetNode:l,onDragOverChanged:ge}):null]}),Oe)}));function Uo(e){
var t=e.guild,n=e.invite,i=o.useMemo((function(){return(0,L.Mg)(t.id)}),[t.id]),a=(0,p.e7)([X.Z],(function(){return X.Z.isFocused()}));return null==t?null:(0,r.jsx)(ko,{guildNode:i,guild:t,animatable:a,draggable:!1,contextMenu:function(){},selected:!0,route:_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(t.id,n.code)})}function Bo(e){var t,n=e.isOnHubVerificationRoute,o=(0,s.LX)(null!==(t=window.location.pathname)&&void 0!==t?t:"",{path:_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId",":inviteCode")}),i=(0,p.e7)([co.Z],(function(){if(null==o)return null;var e=o.params.inviteCode;return null!=e?co.Z.getInvite(e):null})),a=null!=(null==i?void 0:i.guild)?new uo.Z(null==i?void 0:i.guild):null;return n?null!=a&&null!=i?(0,r.jsx)(Uo,{guild:a,invite:i}):(0,r.jsx)(Ft,{tooltip:$.Z.Messages.HUB_DISCORD_HUBS,id:"guild-hub-button",icon:so.Z}):null}var Fo=n(853168),Go=n.n(Fo);function Ho(){return Be((0,r.jsx)("div",{className:Go().guildSeparator}))}var Vo=n(112184),Wo=n(837067),zo=n(911345),Yo=n.n(zo)
;function Ko(){var e=(0,p.e7)([Wo.Z,C.Z],(function(){return Wo.Z.unavailableGuilds.filter((function(e){return null==C.Z.getGuild(e)})).length}));return e>0?Be((0,r.jsx)(De,{text:$.Z.Messages.PARTIAL_OUTAGE.format({count:e}),color:b.Tooltip.Colors.RED,children:(0,r.jsx)(b.Anchor,{href:(0,Vo.Z)(_.RK.TWITTER),target:"_blank",className:Yo().guildsError,"aria-label":$.Z.Messages.PARTIAL_OUTAGE_A11Y.format({count:e}),children:(0,r.jsx)("span",{"aria-hidden":!0,className:Yo().errorInner,children:"!"})})})):null}var qo=n(547308),Xo=n(9430),Qo=n(551069);function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$o(e,t,n[t])}))}return e}function ti(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ni(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oi=(0,
Se.Mg)(So().animationDuration),ii=(0,Se.Mg)(So().guildIconSize);function ai(e){var t=e.guildId,n=e.animate,o=(0,p.e7)([C.Z],(function(){return C.Z.getGuild(t)}),[t]),i=(0,p.e7)([Xo.Z],(function(){return Xo.Z.isMuted(t)}));return null==o?(0,r.jsx)("div",{className:So().guildIconUnavailable,children:"!"}):(0,r.jsx)(mo.Z,{guild:o,animate:n,size:mo.Z.Sizes.SMOL,className:a()(So().guildIcon,i&&(0,R.c)()&&So().guildIconMuted),tabIndex:-1})}function li(e){var t,n,i=e.folderNode,a=e.hovered,l=e.expanded,u=i.color,c=i.children,s=null!=u?u:_.Wyy,f=c.map((function(e){return e.id})),d=ri(o.useState(!1),2),p=d[0],h=d[1],y=ri(o.useState(l),2),b=y[0],m=y[1],v=l?0:-ii,g=(0,he.useSpring)({transform:"translate3d(0, ".concat(v,"px, 0)"),config:{duration:oi},onStart:function(){h(!0);m(l)},onRest:function(){h(!1);m(l)}}),O=p?g:void 0;(p||b)&&(t=(0,r.jsx)(he.animated.div,{style:O,className:So().expandedFolderIconWrapper,children:(0,r.jsx)(Qo.Z,{style:{color:(0,qo.Rf)(s)}})}));!p&&b||(n=(0,
r.jsx)(he.animated.div,{style:O,className:So().closedFolderIconWrapper,children:f.slice(0,4).map((function(e){return(0,r.jsx)(ai,{guildId:e,animate:a},e)}))}));return(0,r.jsxs)("div",{"aria-hidden":!0,style:l?void 0:{backgroundColor:(0,qo.br)(s,.4)},className:So().folderIconWrapper,children:[t,n]})}function ui(e){var t=e.folderNode,n=e.forceCircular,i=e.expanded,l=e.sorting,u=e.mediaState,c=e.mentionCount,s=void 0===c?0:c,f=e.tooltipName,d=e.folderGroupId,p=e.folderIconContent,h=e.onClick,y=e.onContextMenu,m=e.onHoverChange,v=e.onKeyDown,g=e.treeItemProps.onFocus,O=ni(e.treeItemProps,["onFocus"]),E=ri(o.useState(!1),2),C=E[0],S=E[1],j=o.useCallback((function(){!l&&S(!0);null==m||m(!0)}),[l,m]),_=o.useCallback((function(){!l&&S(!1);null==m||m(!1)}),[l,m]),I=i||null==u?null:ft(u),w=!i&&s>0?st(s):null;return(0,r.jsx)(b.BlobMask,{selected:!n,upperBadge:I,lowerBadge:w,lowerBadgeWidth:(0,Ce.OV)(s),children:(0,r.jsx)(b.Clickable,ti(ei({className:a()(So().folder,$o({},So().hover,C)),onClick:h,
onContextMenu:y,onMouseEnter:j,onMouseLeave:_,onKeyDown:v,onFocus:g,"aria-label":$.Z.Messages.GUILD_FOLDER_TOOLTIP_A11Y_LABEL.format({folderName:f,mentions:s}),"aria-expanded":i,"aria-owns":d,focusProps:{enabled:!1}},O),{role:"treeitem",children:null!=p?(0,r.jsx)("div",{className:So().expandedFolderIconWrapper,children:p}):(0,r.jsx)(li,{folderNode:t,hovered:C,expanded:i})}))})}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function si(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var di=(0,Se.Mg)(So().animationDuration),pi=(0,Se.Mg)(So().guildIconSize),hi=(0,Se.Mg)(So().guildIconMargin);function yi(e){
var t=e.folderNode,n=e.setNodeRef,i=e.selected,l=e.expanded,u=e.mediaState,c=e.mentionCount,s=void 0===c?0:c,d=e.unread,p=void 0!==d&&d,h=e.defaultFolderName,y=e.useCircleMask,b=void 0!==y&&y,m=e.draggable,v=void 0!==m&&m,g=e.sorting,O=void 0!==g&&g,E=e.onDragStart,C=e.onDragEnd,S=e.onExpandCollapse,j=e.onContextMenu,_=e.renderChildNode,I=e.folderIconContent,w=t.id,P=t.name,x=t.children,A=fi(o.useState(!1),2),N=A[0],M=A[1],Z=fi(o.useState(!1),2),R=Z[0],D=Z[1],k=N||R;o.useEffect((function(){O&&M(!1)}),[O]);var U,B=fi((0,fo.c)({type:L.eD.FOLDER,item:function(){null==E||E();return{type:L.eD.FOLDER,nodeId:t.id}},end:function(){null==C||C();(0,ho.V1)(T.Z.getCompatibleGuildFolders())},collect:function(e){return{dragging:e.isDragging()}}}),2),F=B[0].dragging,G=B[1],H=o.useCallback((function(e){D(e)}),[]),V=o.useCallback((function(e){("ArrowRight"===e.key&&!l||"ArrowLeft"===e.key&&l)&&S()}),[S,l]),W=null!=P&&""!==P?P:null!=h&&""!==h?h:$.Z.Messages.SERVER_FOLDER_PLACEHOLDER,z=(0,
f.Ie)("".concat(w)),Y="folder-items-".concat(w),K=x.length*(pi+hi),q=(0,he.useTransition)(!F&&l,{from:{height:0},enter:{height:1},leave:{height:0},config:{duration:di}}),X=o.useCallback((function(e){return null==n?void 0:n(w,e)}),[n,w]),Q=Be((0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Ee.Z,{disabled:F||l,hovered:N,selected:i,unread:p,className:wo().pill}),(0,r.jsx)(De,{text:W,disabled:O,selected:i,disableWrapper:!0,children:(0,r.jsx)("div",{ref:v?G:void 0,className:a()(si({},wo().wobble,!F&&R&&!l)),"data-dnd-name":W,children:F?(0,r.jsx)(Eo,{}):(0,r.jsx)(ui,{folderNode:t,expanded:l,forceCircular:b,sorting:O,mediaState:u,mentionCount:s,tooltipName:W,folderGroupId:Y,onClick:S,onContextMenu:j,onHoverChange:M,onKeyDown:V,treeItemProps:z,folderIconContent:I})})}),v?(0,r.jsx)(Rn,{name:W,targetNode:t,onDragOverChanged:H}):null]}));return(0,r.jsxs)("div",{ref:X,className:So().wrapper,children:[!F&&(0,r.jsx)("span",{className:a()(So().expandedFolderBackground,(U={},si(U,So().collapsed,!l),
si(U,So().hover,k),U))}),Q,q((function(e,t,n){var o=n.key;return t&&(0,r.jsx)(he.animated.ul,{id:Y,style:{height:e.height.to((function(e){return e*K}))},className:So().expandedGuilds,role:"group",children:x.map(_)},o)})),v&&l?(0,r.jsx)(Dn,{name:W,targetNode:t}):null]})}function bi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bi(i,r,o,a,l,"next",e)}function l(e){bi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function vi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){vi(e,t,n[t])}))}return e}function Oi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ei(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Ci=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};const Si=o.memo((function(e){
var t=e.folderNode,i=Ei(e,["folderNode"]),a=t.id,l=t.name,u=t.color,c=t.children.map((function(e){return e.id})),s=(0,P.Z)((function(e){return e.guildId})),f=(0,p.e7)([D.Z],(function(){return D.Z.isFolderExpanded(a)})),d=function(e){var t=e.children.map((function(e){var t=e.id,n=C.Z.getGuild(t);return null!=n?n.name:null})).filter(or.lm),n=2*_.dYL,r=[],o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.length<n||0===r.length){r.push(c);n-=c.length}}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return"".concat(r.join(", ")).concat(r.length<t.length?", ...":"")}(t),h=function(e){var t,n=(0,p.e7)([pe.Z],(function(){return pe.Z.getGuildId()})),r=e.children.map((function(e){return e.id})),i=null!=n&&r.includes(n),a=!1,l=!1,u=!1,c=(0,p.e7)([pe.Z],(function(){return pe.Z.getChannelId()})),s=(0,p.e7)([de.Z],(function(){return de.Z.getChannel(c)}),[c]),f=(0,p.e7)([mr.Z],(function(){
return null!=c&&mr.Z.hasVideo(c)}),[c]),d=(0,p.e7)([ve.Z],(function(){return ve.Z.getCurrentUserActiveStream()}));if(i){a=!f;l=f;u=null!=d&&null!=d.guildId&&r.includes(d.guildId);t=null==s?void 0:s.type}return o.useMemo((function(){return{audio:a,video:l,screenshare:u,currentActiveVoiceType:t}}),[a,l,u,t])}(t),y=(0,p.cj)([k.Z],(function(){return{mentionCount:c.map((function(e){return k.Z.getMentionCount(e)})).reduce((function(e,t){return e+t}),0),unread:c.some((function(e){return k.Z.hasUnread(e)}))}})),b=y.mentionCount,m=y.unread,v=o.useCallback((function(){wn.Z.toggleGuildFolderExpand(a)}),[a]),g=o.useCallback((function(e){(0,ye.jW)(e,mi((function(){var e,t;return Ci(this,(function(o){switch(o.label){case 0:return[4,n.e(3824).then(n.bind(n,103824))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Oi(gi({},e),{folderId:a,folderName:l,folderColor:u,unread:m||b>0}))}]}}))})))}),[a,l,u,m,b]);return(0,r.jsx)(yi,Oi(gi({},i),{folderNode:t,expanded:f,
selected:null!=s&&c.includes(s),mentionCount:b,unread:m,mediaState:h,defaultFolderName:d,onExpandCollapse:v,onContextMenu:g}))}));var ji=n(885073),_i=n(85039),Ii=n(833589),wi=n(163082),Pi=n(633878);function xi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ai(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ti(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ni(e){var t=e.width,n=void 0===t?48:t,o=e.height,i=void 0===o?48:o,a=e.color,l=void 0===a?"currentColor":a,u=Ti(e,["width","height","color"]);return(0,r.jsxs)("svg",Ai(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){xi(e,t,n[t])}))}return e}({},(0,Pi.Z)(u)),{width:n,height:i,fill:l,viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M19 6H13C11.9 6 11 6.9 11 8V40C11 41.1 11.9 42 13 42H19C20.1 42 21 41.1 21 40V8C21 6.9 20.1 6 19 6Z",fill:"white"}),(0,r.jsx)("path",{
d:"M35 6H29C27.9 6 27 6.9 27 8V40C27 41.1 27.9 42 29 42H35C36.1 42 37 41.1 37 40V8C37 6.9 36.1 6 35 6Z",fill:"white"})]}))}var Mi=n(201441),Zi=n(886077),Li=n(499219);function Ri(e){var t,n,r=(0,p.e7)([Xo.Z],(function(){return Xo.Z.isMuted(e)})),i=(null===(t=(0,Zi.ZP)(e))||void 0===t?void 0:t.length)>0,a=null!=(0,Mi.k5)(e),l=(null===(n=(0,Li.Z)())||void 0===n?void 0:n.guild_id)===e,u=(0,p.e7)([en.default],(function(){return en.default.getId()})),c=(0,p.cj)([pe.Z],(function(){return{selectedVoiceGuildId:pe.Z.getGuildId(),selectedVoiceChannelId:pe.Z.getChannelId()}})),s=c.selectedVoiceGuildId,f=c.selectedVoiceChannelId,d=s===e,h=(0,p.e7)([ve.Z],(function(){return!!d&&null!=ve.Z.getActiveStreamForUser(u,e)})),y=(0,p.e7)([ve.Z],(function(){return ve.Z.getAllApplicationStreams().some((function(t){return t.guildId===e}))})),b=(0,p.e7)([mr.Z],(function(){return d&&null!=f&&mr.Z.hasVideo(f)}),[d,f]),m=(0,p.e7)([Kn.ZP],(function(){return Kn.ZP.getEmbeddedActivitiesForGuild(e)})),v=(0,
p.e7)([Kn.ZP],(function(){return Array.from(Kn.ZP.getSelfEmbeddedActivities().values()).some((function(t){return t.guildId===e}))})),g=m.length>0,O=!1,E=!1,C=!1,S=!1;if(d){O=!b;E=b;C=h;S=v}else{C=!r&&y;S=!r&&g}return o.useMemo((function(){return{audio:O,video:E,screenshare:C,liveStage:i,hasActiveEvent:a,participating:d,participatingInStage:l,activity:S}}),[i,d,a,l,O,E,C,S])}var Di=n(827694),ki=n.n(Di);function Ui(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
const Fi=o.memo((function(e){var t=e.guildNode,n=e.lowerBadge,i=t.id,a=(0,p.e7)([C.Z],(function(){return C.Z.getGuild(i)})),l=(0,ji.E)(i),u=(0,p.e7)([X.Z],(function(){return X.Z.isFocused()})),c=(0,p.e7)([Wo.Z],(function(){return Wo.Z.isUnavailable(i)})),s=(0,p.e7)([Xo.Z],(function(){return Xo.Z.isMuted(i)})),f=(0,P.Z)((function(e){return e.guildId})),d=(0,p.cj)([Ii.Z],(function(){return{burstPreviewData:Ii.Z.getBurstedPreviewData(i)}})).burstPreviewData,h=Ri(i),y=(0,p.cj)([k.Z],(function(){return{badge:k.Z.getMentionCount(i),unread:k.Z.hasUnread(i)}})),b=y.badge,m=y.unread,v=(0,_i.Ij)(a)&&0===b,g=o.useMemo((function(){return null!=n?n:v?(0,r.jsx)("div",{className:ki().pauseBackground,children:(0,r.jsx)(Ni,{className:ki().pause,width:10,height:10})}):null}),[n,v]);return(0,r.jsx)(ko,Bi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ui(e,t,n[t])}))}return e}({},e),{guild:a,unavailable:c,animatable:u,selected:f===i,badge:b,burstData:d,handleClearBurstData:function(){return(0,wi.DF)(i)},lowerBadge:g,unread:m,muted:s,mediaState:h,guildJoinRequestStatus:l}))}));var Gi,Hi=n(153771),Vi=n(201615),Wi=n(279309);!function(e){e[e.PENDING_JOIN_REQUESTS_FOLDER=1]="PENDING_JOIN_REQUESTS_FOLDER"}(Gi||(Gi={}));function zi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zi(i,r,o,a,l,"next",e)}function l(e){zi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ki(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function qi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Xi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break
;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Qi(e,t){(0,ye.jW)(e,Yi((function(){var e,o;return Xi(this,(function(i){switch(i.label){case 0:return[4,n.e(63411).then(n.bind(n,963411))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,qi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ki(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))}function Ji(e){var t=e.guildNode,n=t.id,o=(0,ji.E)(n),i=(0,p.e7)([Vi.Z],(function(){return Vi.Z.getJoinRequestGuild(n)}),[n]),a=(0,p.e7)([X.Z],(function(){return X.Z.isFocused()})),l=(0,p.e7)([nn.Z],(function(){return nn.Z.getGuildId()}));return null==i?null:(0,r.jsx)(ko,{guildNode:t,guild:i,animatable:a,draggable:!1,selected:n===l,preloadOnClick:!1,contextMenu:Qi,lowerBadge:null!=o?dt({guildJoinRequestStatus:o}):void 0,route:_.Z5c.GUILD_MEMBER_VERIFICATION(n)})}var $i=n(793055),ea=n.n($i);function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(){var e=na(o.useState(!1),2),t=e[0],n=e[1],i=(0,p.e7)([nn.Z],(function(){return nn.Z.getGuildId()})),a=(0,p.e7)([Vi.Z],(function(){return Vi.Z.hasFetchedRequestToJoinGuilds})),l=(0,p.Wu)([Vi.Z,C.Z],(function(){var e=Vi.Z.computeGuildIds(),t=C.Z.getGuilds();return e.filter((function(e){return null==t[e]}))})),u=o.useMemo((function(){var e=(0,L.qQ)({
folderId:Gi.PENDING_JOIN_REQUESTS_FOLDER,folderName:$.Z.Messages.MEMBER_VERIFICATION_FOLDER_NAME,expanded:t,guildIds:[]}),n=!0,r=!1,o=void 0;try{for(var i,a=l[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value;e.children.push((0,L.Mg)(u,e.id))}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}),[l,t]);o.useEffect((function(){t&&!a&&Hi.Z.fetchRequestToJoinGuilds()}),[t,a]);if(0===l.length)return null;var c=null!=i&&l.includes(i);return(0,r.jsx)(yi,{folderNode:u,expanded:t,useCircleMask:!t&&!c,selected:c,draggable:!1,sorting:!1,onExpandCollapse:function(){return n(!t)},folderIconContent:(0,r.jsx)("div",{className:ea().expandedFolderIconWrapper,children:(0,r.jsx)(Wi.Z,{width:24,height:24,className:ea().pendingIcon})}),renderChildNode:function(e){return e.type!==L.eD.GUILD?null:(0,r.jsx)(Ji,{guildNode:e})}})}function oa(e){var t=e.guildId,n=o.useMemo((function(){return(0,L.Mg)(t)}),[t]),i=(0,p.e7)([C.Z],(function(){return C.Z.getGuild(t)
})),a=(0,p.e7)([X.Z],(function(){return X.Z.isFocused()})),l=t===(0,P.Z)((function(e){return e.guildId})),u=Ri(t);return null==i?null:(0,r.jsx)(ko,{guildNode:n,guild:i,animatable:a,selected:l,draggable:!1,mediaState:u})}var ia=n(174866),aa=n.n(ia);function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ua(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ua(e,t,n[t])}))}return e}function sa(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function fa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return la(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pa=(0,M.ED)()?4:(0,M.id)()?0:12,ha=pa+10,ya=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.guildsTree=t;this.setScrolling=n;this.onScroll=r;this.scrollerRef=o.createRef();this.guildDiscoveryRef=o.createRef();this.nodeRefs={};this.timeout=new y.V7;this.isScrolling=!1;this.scrollToGuild=function(e,t){var n=i.scrollerRef.current
;if(null!=n)if(null==e&&window.location.pathname.startsWith(_.Z5c.GUILD_DISCOVERY)||e===_.x8Z.SERVER_DISCOVERY_BADGE||e===_.x8Z.E3_SERVER_DISCOVERY_BADGE){var r=(0,c.findDOMNode)(i.guildDiscoveryRef.current);(0,d.k)(r,HTMLElement)?n.scrollIntoViewNode({node:r,animate:t,padding:8}):n.scrollTo({to:0,animate:t})}else if(null!=e){for(var o=i.nodeRefs[e];null==o;){var a=i.guildsTree.getNode(e);if(null==(null==a?void 0:a.parentId))break;o=i.nodeRefs[a.parentId]}null!=o&&(0,d.k)(o)?n.scrollIntoViewNode({node:o,animate:t,padding:8}):n.scrollTo({to:0,animate:t})}else n.scrollTo({to:0,animate:t})};this.handleJumpToGuild=function(e){i.scrollToGuild(e,!0)};this.scrollTo=function(e){var t;null===(t=i.scrollerRef.current)||void 0===t||t.scrollTo(e)};this.isItemVisible=function(e,t,n){var r=i.scrollerRef.current;if(null==r)return!1;var o=n.findIndex((function(t){return"string"==typeof t||null==t?t===e:t.includes(e)}));if(o<0)return!1;var a=56*o+ha;t||(a+=40);var l=r.getScrollerState()
;return!!(!t&&a>=l.scrollTop||t&&a+56<=l.scrollTop+l.offsetHeight)};this.handleScroll=function(){i.isScrolling||i.setScrolling(!0);i.timeout.start(200,(function(){return i.setScrolling(!1)}));i._handleScroll()};this._handleScroll=u().debounce((function(){var e=i.scrollerRef.current;if(null!=e){var t=e.getScrollerState().scrollTop;m.Z.updateGuildListScrollTo(t);i.onScroll()}}),200);this.setNodeRef=function(e,t){i.nodeRefs[e]=t}}e.prototype.setGuildsTree=function(e){this.guildsTree=e};return e}();function ba(e){var t=e.disableAppDownload,n=void 0===t?M.FB:t,i=e.isOverlay,l=void 0!==i&&i,u=e.className,c=e.themeOverride,d=da((0,p.Wu)([T.Z],(function(){var e=T.Z.getGuildsTree();return[e,e.version]})),1)[0],h=(0,p.e7)([w.Z],(function(){return w.Z.lurkingGuildIds()})),m=o.useMemo((function(){return l?[]:h}),[h,l]),v=(0,p.Wu)([C.Z,A.ZP],(function(){return Object.keys(C.Z.getGuilds()).filter((function(e){return A.ZP.isCurrentUserGuest(e)}))})),I=m.concat(v),R=(0,p.e7)([N.default],(function(){
var e;return null===(e=N.default.getCurrentUser())||void 0===e?void 0:e.isStaff()})),D=(0,p.e7)([g.Z],(function(){return g.Z.isFullscreenInContext()})),k=da(o.useState(!1),2),U=k[0],B=k[1],F=o.useCallback((function(){return B(!0)}),[]),G=o.useCallback((function(){return B(!1)}),[]),H=o.useRef(!1),V=da(o.useState((function(){return new y.V7})),1)[0],W=o.useRef(null),z=o.useRef(null),Y=(0,f.OP)(),K=Y.ref,q=fa(Y,["ref"]),X=(0,b.useFocusJumpSection)(),Q=da(o.useState(!1),2),J=Q[0],ee=Q[1],te=da(o.useState((function(){return new ya(d,ee,(function(){var e,t;null===(e=W.current)||void 0===e||e.calculateState();null===(t=z.current)||void 0===t||t.calculateState()}))})),1),ne=te[0],re=(0,s.TH)().pathname,oe=re.startsWith(_.Z5c.GUILD_DISCOVERY),ie=re.startsWith(_.Z5c.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));o.useLayoutEffect((function(){if(!H.current&&0!==d.size){if(oe)ne.scrollToGuild(null,!1);else{var e=x.Z.getGuildListDimensions().scrollTop;ne.scrollTo({to:e,animate:!1})}H.current=!0
;return function(){return V.stop()}}}),[]);o.useEffect((function(){ne.setGuildsTree(d);if(!H.current&&0!==d.size){var e=P.Z.getState().guildId;ne.scrollToGuild(e,!1);var t=null,n=P.Z.subscribe((function(e){var n=e.guildId;if(n!==t){t=n;ne.scrollToGuild(t,!1)}}));return n}}),[d,ne]);var ae,le,ue,se,fe,de=(ae=(0,p.e7)([C.Z],(function(){return C.Z.getGuildCount()})),le=(0,p.e7)([S.ZP],(function(){return S.ZP.getGamesSeen(!1).filter((function(e){return(0,S.Zs)(e)})).length}),[]),ue=(0,p.e7)([E.Z],(function(){return E.Z.hasConsented(_.pjP.PERSONALIZATION)})),se=j.useExperiment({},{autoTrackExposure:!1}).showRecs,ue&&se&&ae<4&&le>=2),pe=d.getRoots(),he=(0,O.Z)();return(0,r.jsx)("nav",{className:a()(aa().wrapper,u,(0,Z.Q)(c),ua({},aa().hidden,D)),"aria-label":$.Z.Messages.GUILDS_BAR_A11Y_LABEL,children:(0,r.jsxs)("ul",sa(ca({ref:K},q,X),{role:"tree",className:aa().tree,children:[(0,r.jsx)(ce,{ref:W,isVisible:ne.isItemVisible,onJumpTo:ne.handleJumpToGuild,
className:aa().unreadMentionsIndicatorTop,barClassName:aa().unreadMentionsBar}),(0,r.jsxs)(b.AdvancedScrollerNone,{className:a()((fe={},ua(fe,aa().scroller,!0),ua(fe,aa().scrolling,J),fe)),ref:ne.scrollerRef,onScroll:ne.handleScroll,children:[(0,r.jsx)(lo,{}),he?(0,r.jsx)(Mr,{}):null,(0,r.jsx)(mn,{}),(0,r.jsx)(Bo,{isOnHubVerificationRoute:ie}),(0,r.jsx)(Nt,{}),I.map((function(e){return(0,r.jsx)(oa,{guildId:e},e)})),R?(0,r.jsx)(ra,{}):null,!l&&de?(0,r.jsx)(kr,{ref:ne.guildDiscoveryRef,selected:oe,tooltip:$.Z.Messages.GUILD_DISCOVERY_TOOLTIP}):null,(0,r.jsx)(Ho,{}),(0,r.jsx)("div",{"aria-label":$.Z.Messages.SERVERS,children:pe.map((function e(t){switch(t.type){case L.eD.FOLDER:return(0,r.jsx)(Si,{folderNode:t,setNodeRef:ne.setNodeRef,draggable:!0,sorting:U,onDragStart:F,onDragEnd:G,renderChildNode:e},t.id);case L.eD.GUILD:return(0,r.jsx)(Fi,{guildNode:t,setRef:ne.setNodeRef,draggable:!0,sorting:U,onDragStart:F,onDragEnd:G},t.id);default:return null}}))}),l?null:(0,r.jsx)(zn,{
disableTooltip:m.length>0,lastTargetNode:pe[pe.length-1]}),l||de?null:(0,r.jsx)(kr,{ref:ne.guildDiscoveryRef,selected:oe}),(0,r.jsx)(Ko,{}),n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ho,{}),(0,r.jsx)(Yt,{})]})]}),(0,r.jsx)(ce,{reverse:!0,ref:z,isVisible:ne.isItemVisible,onJumpTo:ne.handleJumpToGuild,className:aa().unreadMentionsIndicatorBottom,barClassName:aa().unreadMentionsBar})]}))})}const ma=o.memo((function(e){var t=(0,v.Z)("guildsnav");return(0,r.jsx)(f.bG,{navigator:t,children:(0,r.jsx)(ba,ca({},e))})}),(function(e,t){return!1===t.isVisible||(0,h.Z)(e,t)}))},893263:(e,t,n)=>{"use strict";n.d(t,{Ne:()=>i});var r=n(785893),o=(n(667294),n(294184),n(795470),n(886391),n(3219),n(570202),n(542231),n(621329),n(189865),n(449401),n(425454),n(472034),n(796938),n(516909),n(531441));n(2590),n(212515);function i(e){return(0,r.jsx)(o.mA,{count:e})}},25410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S})
;var r=n(785893),o=n(667294),i=n(202351),a=n(945460),l=n(201459),u=n(9430),c=n(312682),s=n(105538),f=n(373438),d=n(930948),p=n(140567),h=n(2590),y=n(473708),b=n(180362),m=n.n(b);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=e.channel,n=C((0,i.Wu)([u.Z],(function(){return[u.Z.isChannelMuted(t.getGuildId(),t.id),u.Z.resolvedMessageNotifications(t)]}),[t]),2),b=n[0],v=n[1],g=C(o.useState(!1),2),S=g[0],j=g[1];o.useEffect((function(){var e=function(){return j(!0)};d.S.subscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){d.S.unsubscribe(h.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var _=function(e){e.shiftKey?l.Z.updateChannelOverrideSettings(t.guild_id,t.id,{muted:!b}):j((function(e){return!e}))},I=y.Z.Messages.NOTIFICATION_SETTINGS;return(0,r.jsx)(a.Popout,{shouldShow:S,animation:a.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:function(){return j(!1)},renderPopout:function(e){return(0,r.jsx)(p.Z,E(O({},e),{channel:t,navId:"channel-context",
label:y.Z.Messages.CHANNEL_ACTIONS_MENU_LABEL}))},children:function(e,t){var n=t.isShown;return(0,r.jsx)(f.ZP.Icon,E(O({},e),{onClick:_,tooltip:n?null:I,icon:b||v!==h.bL.ALL_MESSAGES?s.Z:c.Z,foreground:b?m().strikethrough:null,"aria-label":I,selected:n}))}})}},684412:(e,t,n)=>{"use strict";n.d(t,{MA:()=>lt,TS:()=>at,ud:()=>nt,v0:()=>ot});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(77413),s=n(503370),f=n(491260),d=n(749565),p=n(310126),h=n(539116),y=n.n(h);function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var v=p.default.getEnableHardwareAcceleration()?u.AnimatedStatus:u.Status;const g=l.ZP.connectStores([f.Z],(function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?f.Z.getStatus(t,null,n):null,streaming:null!=t&&(0,s.Z)(f.Z.getActivities(t))}}))((function(e){var t=e.streaming,n=e.status,o=e.hideTooltip,i=e.className,l=e.style,c=e.isMobile,s=e.size,f=e.defaultStatus,p=e.position,h=void 0===p?"top":p,g=t?u.StatusTypes.STREAMING:null!=n?n:f;return(0,r.jsx)(u.Tooltip,{text:o?null:(0,d.u5)(g),position:h,children:function(e){return(0,r.jsx)("div",m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}({},e),{
className:a()(i,y().disableFlex),style:l,children:(0,r.jsx)(v,{isMobile:c,status:g,size:s})}))}})}));var O=n(621647),E=n(773011),C=n(469023),S=n(572475),j=n(784426),_=n(736626),I=n(784686),w=n(840922),P=n(464187),x=n(793461),A=n(473903),T=n(609853),N=n(124251),M=n(496486),Z=n.n(M),L=n(357920),R=n(924417),D=n(21372),k=n(567403),U=n(971611),B=n(553480),F=n(531441),G=n(373438),H=n(96606),V=n(295652),W=n(72580),z=n(2590),Y=n(960412),K=n(473708),q=n(119617),X=n.n(q);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.generateNicknameGuildPairs=(0,V.oH)((function(e){var t,n=Z()(D.ZP.getNicknameGuildsMapping(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:o.userId)).toPairs().map((function(e){var t=J(e,2);return[t[0],t[1].map((function(e){var t;return null===(t=k.Z.getGuild(e))||void 0===t?void 0:t.name})).filter(W.lm)]})).value();return n}));this.renderMoreAvatars=function(){return(0,
r.jsx)(u.TooltipContainer,{text:K.Z.Messages.AKA_MORE_AVATARS_OVERFLOW,position:"bottom",children:(0,r.jsx)(u.Clickable,{className:X().moreAvatars,onClick:o.handleClick,children:(0,r.jsx)(B.Z,{className:X().plusIcon})})},"more-avatars")};this.handleClick=function(){(0,R.m)({userId:o.userId,section:Y.oh.MUTUAL_GUILDS,analyticsLocation:{section:z.jXE.CHANNEL_HEADER}})};this.userId=t;this.user=n}var t=e.prototype;t.updateData=function(e,t){this.userId=e;this.user=t};t.getNicknameGuildPairs=function(){return this.generateNicknameGuildPairs(this.user)};t.renderNicknamePairs=function(){var e=this;return this.getNicknameGuildPairs().map((function(t,n){var i=J(t,2),a=i[0],l=i[1],c=(0,r.jsx)(u.Clickable,{tag:"span",onClick:e.handleClick,children:a});l.length>0&&(c=(0,r.jsx)(u.TooltipContainer,{className:X().tooltip,text:l.join(", "),position:"bottom",children:c}));return(0,r.jsxs)(o.Fragment,{children:[0!==n?", ":null,c]},n)}))};return e}();function ee(e){var t=e.channel.getRecipientId(),n=(0,
L.gc)(t),i=new Array(n.length).fill(null),a=function(e){var t=(0,l.e7)([A.default],(function(){return A.default.getUser(e)}),[e]),n=J(o.useState((function(){return new $(e,null!=t?t:void 0)})),1)[0];n.updateData(e,null!=t?t:void 0);return n}(t);return 0===a.getNicknameGuildPairs().length&&0===n.length?(0,r.jsx)("div",{className:X().spacer}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(G.iz,{}),(0,r.jsx)(F.IG,{text:K.Z.Messages.AKA,disableColor:!0,className:X().akaBadge}),n.length>0?(0,r.jsx)(H.Z,{size:16,users:i,showUserPopout:!1,renderUser:function(e,t,o){var i,l=a.user,c=n[o];return null==c||null==l?null:(0,r.jsx)(u.TooltipContainer,{text:null===(i=k.Z.getGuild(c))||void 0===i?void 0:i.name,position:"bottom",children:(0,r.jsx)("img",{alt:"",className:X().avatar,onClick:a.handleClick,src:l.getAvatarURL(c,16),"aria-hidden":!0})},c[1])},renderMoreUsers:a.renderMoreAvatars,guildId:void 0,max:3,className:X().avatars}):null,a.getNicknameGuildPairs().length>0?(0,r.jsx)(U.Z,{position:"bottom",
className:X().nicknames,children:a.renderNicknamePairs()}):null]})}var te=n(761953),ne=n(619941),re=n.n(ne);function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e){ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ie(e)}function ae(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e,t){le=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return le(e,t)}var ue=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ae(this,n)}}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&le(e,t)}(n,e);var t=ce(n);function n(){oe(this,n);var e;(e=t.apply(this,arguments)).inputRef=o.createRef();e.state={focused:!1,lastGoodValue:e.props.value,value:e.props.value};e.handleChange=function(t){var n=e.props.onChange;e.setState({value:t.currentTarget.value});null==n||n(t)};e.handleFocus=function(t){var n=e.props.onFocus;e.setState({focused:!0,lastGoodValue:t.currentTarget.value});null==n||n(t)};e.handleBlur=function(t){if(fe("",e.props,e.state)){e.setState({focused:!1});var n=e.props.onBlur;null==n||n(t)}else e.setState({focused:!1,value:e.state.lastGoodValue})};e.handleKeyPress=function(t){
if(t.which===z.yXg.ENTER){var n;null===(n=e.inputRef.current)||void 0===n||n.blur()}};return e}var i=n.prototype;i.componentDidUpdate=function(e,t){if(t.focused!==this.state.focused&&this.state.focused){var n;null===(n=this.inputRef.current)||void 0===n||n.focus()}null!==this.props.value&&this.props.value!==e.value&&this.props.value!==this.state.value&&fe(this.props.value,this.props,this.state)&&this.setState({value:this.props.value})};i.render=function(){var e,t=this.props,n=t.className,o=t.name,i=t.autoComplete,l=t.maxLen,u={position:"absolute",left:0,width:"100%",opacity:1};this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:u.opacity=0;return(0,r.jsx)("div",{className:a()(re().outer,n),children:(0,r.jsxs)("div",{className:re().container,children:[(0,r.jsx)("input",{type:"text",className:re().input,ref:this.inputRef,style:u,value:this.state.value,name:o,maxLength:l,autoComplete:i,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,
onBlur:this.handleBlur}),(0,r.jsx)("div",{className:re().input,style:e,children:this.state.value})]})})};return n}(o.Component);function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=""!==e?e:null!=n.value&&""!==n.value?n.value:"";return!(null!=t.minLen&&r.length<t.minLen||null!=t.maxLen&&r.length>t.maxLen)}var de=n(29891),pe=n(483701),he=n.n(pe);const ye=function(e){var t=e.channel,n=(0,E.ZP)(t),o=(0,de.Dd)(t.id);return(0,r.jsx)("div",{className:he().container,onDoubleClick:function(e){return e.stopPropagation()},children:o?(0,r.jsx)("div",{className:he().channelName,children:n}):(0,r.jsx)(se,{minLen:1,maxLen:z.HN8,className:he().channelName,name:"channel_name",autoComplete:"off",value:null!=n?n:"",onBlur:function(e){n!==e.currentTarget.value&&te.Z.setName(t.id,e.currentTarget.value)}})})};var be=n(809784),me=n(971402),ve=n(107364),ge=n(214468),Oe=n.n(ge);function Ee(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Se(e){Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Se(e)}function je(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ie(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e,t){we=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return we(e,t)}var Pe=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return Ie(this,n)}}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&we(e,t)}(n,e);var t=xe(n);function n(){Ee(this,n);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();e.handleScroll=function(){var t=e.scrollerRef.current;if(null!=t){var n,r;null===(r=(n=e.props).onScroll)||void 0===r||r.call(n,t)}};return e}n.prototype.render=function(){var e,t=this,n=this.props,o=n.renderFooter,i=n.selectable,l=n.renderHeader,c=n.className,s=n.onClose,f=n.children;null!=o&&(e=(0,r.jsx)(u.ModalFooter,{direction:ve.Z.Direction.HORIZONTAL,children:o()}));return(0,r.jsx)(u.Modal,{onCloseRequest:s,renderModal:function(n){var o=n.onClose,d=_e(n,["onClose"]);return(0,r.jsxs)(u.ModalRoot,je(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ce(e,t,n[t])}))}return e}({className:Oe().modal},d),{children:[(0,r.jsxs)(u.ModalHeader,{align:ve.Z.Justify.BETWEEN,separator:!1,children:[l(),(0,r.jsx)(ve.Z.Child,{grow:0,children:(0,r.jsx)(u.ModalCloseButton,{onClick:function(){null!=s&&s();o()}})})]}),(0,r.jsx)(u.ModalContent,{className:a()(c,Oe().content,{selectable:i}),scrollerRef:t.scrollerRef,onScroll:t.handleScroll,children:f}),e]}))}})};return n}(o.PureComponent);Ae.defaultProps={selectable:!1};const Te=Ae;var Ne=n(883064),Me=n(283099),Ze=n(146186),Le=n.n(Ze);function Re(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,l,"next",e)}function l(e){
Re(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Be(e){Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Be(e)}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ue(e,t,n[t])}))}return e}function Ge(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function He(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e,t){Ve=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ve(e,t)}var We=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return He(this,n)}}var Ye=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e]
;r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Ke(e){var t=e.channel,n=e.onClose,o=e.transitionState,i=(0,E.ZP)(t,!0);return(0,r.jsx)(u.ModalRoot,{transitionState:o,"aria-label":K.Z.Messages.FORM_LABEL_CHANNEL_TOPIC,children:(0,r.jsx)(u.ModalContent,{children:(0,r.jsx)(Te,{selectable:!0,onClose:n,renderHeader:function(){return(0,r.jsx)(u.Heading,{variant:"heading-lg/semibold",children:i})},children:(0,r.jsx)(u.Text,{selectable:!0,variant:"text-md/normal",className:Le().content,children:Ne.Z.parseTopic(t.topic,!0,{channelId:t.id})})})})})}function qe(e){return e.matches("a")||"highlight"===e.className||e.className.includes("mention")}const Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ve(e,t)}(i,e);var t=ze(i);function i(){ke(this,i);var e
;(e=t.apply(this,arguments))._mouseDown=!1;e._mouseUp=!1;e.handleOpenTopic=function(t){var n=t.target;if((0,be.k)(n)){if(qe(n))return;var o=n.parentNode;if((0,be.k)(o)&&qe(o))return}(0,u.openModal)((function(t){return(0,r.jsx)(Ke,Fe({},t,e.props))}))};e.onMouseDown=function(){e._mouseDown=!0};e.onMouseMove=function(){e._mouseDown&&(e._mouseDown=!1)};e.onMouseUp=function(t){e._mouseDown&&t.button!==z.AeJ.SECONDARY&&e.handleOpenTopic(t);e._mouseUp=!0;e._mouseDown=!1};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.guild;(0,me.jW)(t,De((function(){var e,t;return Ye(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(59295)]).then(n.bind(n,359295))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ge(Fe({},e),{channel:i,guild:a,includeTopic:!0}))}]}}))})))};e.handleClick=function(t){e._mouseUp?e._mouseUp=!1:e.handleOpenTopic(t)};return e}i.prototype.render=function(){var e=this.props.channel
;return e.isMultiUserDM()||null==e.topic||0===e.topic.length?null:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(Me.Z.Divider,{}),(0,r.jsxs)("div",{className:a()(Le().topic,Le().expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu,onClick:this.handleClick,children:[(0,r.jsx)(u.Clickable,{onClick:this.handleClick,"aria-label":K.Z.Messages.OPEN_CHANNEL_TOPIC,className:Le().topicClickTarget}),Ne.Z.parseTopic(e.topic,!0,{channelId:e.id})]})]})};return i}(o.Component);var Qe=n(318715),Je=n(258875),$e=n.n(Je);function et(e){var t=e.channel.getRecipientId(),n=e.channel.isSystemDM(),o=(0,Qe.ZP)([A.default],(function(){return A.default.getUser(t)})),i=(0,Qe.ZP)([f.Z],(function(){return f.Z.getStatus(t)})),a=(0,Qe.ZP)([f.Z],(function(){return f.Z.isMobileOnline(t)})),l=(0,Qe.ZP)([w.Z],(function(){return w.Z.getNickname(t)})),c=d.ZP.useUserTag(o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.HiddenVisually,{
children:K.Z.Messages.DIRECT_MESSAGE}),null!=o&&!n&&(0,r.jsx)("div",{children:(0,r.jsx)(u.Avatar,{status:i,isMobile:a,className:$e().avatar,size:u.AvatarSizes.SIZE_24,"aria-label":d.ZP.getName(o),src:o.getAvatarURL(void 0,24)})}),(0,r.jsx)(Me.Z.Title,{level:e.level,onClick:e.handleClick,onContextMenu:e.handleContextMenu,className:null!=e.handleClick?$e().cursorPointer:null,children:(0,r.jsx)(u.TooltipContainer,{text:c,position:"bottom",children:null!=l?l:d.ZP.getName(o)})})]})}function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nt(e){var t=e.channel,n=e.channelName,i=e.parentChannel,l=e.guild,c=e.isMobile,s=void 0!==c&&c,f=e.inSidebar,d=void 0!==f&&f,p=e.handleClick,h=e.handleContextMenu,y=e.handleParentClick,b=e.handleParentContextMenu,m=e.renderFollowButton,v=e.emoji,S=e.channelEmojiLeftOfIcon,j=(0,C.Z)(t,l),_=function(e,t){switch(e){case z.d4z.DM:return{prefix:K.Z.Messages.DIRECT_MESSAGE,level:1}
;case z.d4z.GROUP_DM:return{prefix:K.Z.Messages.GROUP_DM,level:1};case z.d4z.GUILD_DIRECTORY:var n;return{prefix:null!==(n=null==t?void 0:t.name)&&void 0!==n?n:"",level:1};case z.d4z.GUILD_ANNOUNCEMENT:case z.d4z.GUILD_TEXT:case z.d4z.GUILD_FORUM:case z.d4z.GUILD_MEDIA:case z.d4z.GUILD_STAGE_VOICE:case z.d4z.GUILD_VOICE:var r;return{prefix:null!==(r=null==t?void 0:t.name)&&void 0!==r?r:"",level:1};case z.d4z.ANNOUNCEMENT_THREAD:case z.d4z.PUBLIC_THREAD:case z.d4z.PRIVATE_THREAD:return{prefix:K.Z.Messages.THREAD,level:2};default:return{prefix:null,level:1}}}(t.type,l),P=_.prefix,T=_.level,N=(0,r.jsxs)(r.Fragment,{children:[null!=P?(0,r.jsxs)(u.HiddenVisually,{children:[P,":"]}):null," ",n]}),M=null!=v&&(0,r.jsx)(lt,{emoji:v,channelEmojiLeftOfIcon:S,channel:t});switch(t.type){case z.d4z.DM:var Z,L;if((0,I.IR)())return(0,r.jsx)(et,{level:T,channel:t,handleClick:p,handleContextMenu:h})
;var R=t.getRecipientId(),D=t.isSystemDM(),k=x.Z.hidePersonalInformation?null===(Z=A.default.getUser(R))||void 0===Z?void 0:Z.username:null===(L=A.default.getUser(R))||void 0===L?void 0:L.tag,U=null!=w.Z.getNickname(R)?k:null,B=(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,className:null!=p?$e().cursorPointer:null,children:N});return(0,r.jsxs)(r.Fragment,{children:[it(j,K.Z.Messages.DIRECT_MESSAGE),null!=U?(0,r.jsx)(u.TooltipContainer,{text:U,position:"bottom",children:B}):B,D?null:(0,r.jsx)(g,{size:10,userId:R,className:$e().status,isMobile:s,position:"bottom"},R)]});case z.d4z.GROUP_DM:return t.isManaged()?N:(0,I.IR)()?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(u.HiddenVisually,{children:K.Z.Messages.GROUP_DM}),(0,r.jsx)("div",{children:(0,r.jsx)(u.Avatar,{"aria-hidden":!0,className:$e().avatar,size:u.AvatarSizes.SIZE_24,src:(0,O.x)(t,80,!1)})}),(0,r.jsx)(ye,{channel:t},"channel-".concat(t.id))]}):(0,r.jsxs)(o.Fragment,{children:[it(j,K.Z.Messages.GROUP_DM),(0,r.jsx)(ye,{
channel:t},"channel-".concat(t.id))]});case z.d4z.GUILD_ANNOUNCEMENT:case z.d4z.GUILD_TEXT:case z.d4z.GUILD_FORUM:case z.d4z.GUILD_MEDIA:return(0,r.jsxs)(o.Fragment,{children:[S&&M,it(j,t.type===z.d4z.GUILD_ANNOUNCEMENT?K.Z.Messages.NEWS_CHANNEL:K.Z.Messages.TEXT_CHANNEL),!S&&M,(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,children:N}),null!=m?m():null]});case z.d4z.GUILD_VOICE:return(0,r.jsxs)(o.Fragment,{children:[S&&M,it(j,K.Z.Messages.VOICE_CHANNEL),!S&&M,(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,children:N})]});case z.d4z.GUILD_STAGE_VOICE:return(0,r.jsxs)(o.Fragment,{children:[S&&M,it(j,K.Z.Messages.STAGE_CHANNEL),!S&&M,(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,children:N})]});case z.d4z.ANNOUNCEMENT_THREAD:case z.d4z.PUBLIC_THREAD:case z.d4z.PRIVATE_THREAD:var F=null;if(!d&&null!=i){var G=(0,C.Z)(i,l);F=(0,r.jsxs)(o.Fragment,{children:[it(G,K.Z.Messages.TEXT_CHANNEL),(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:b,onClick:y,
className:a()($e().parentChannelName,$e().cursorPointer),children:(0,E.F6)(i,A.default,w.Z)}),(0,r.jsx)(Me.Z.Caret,{})]})}var H,V=null!=(null==i?void 0:i.type)&&z.TPd.GUILD_THREADS_ONLY.has(i.type);return(0,r.jsxs)(o.Fragment,{children:[F,it(V?null:j,K.Z.Messages.THREAD),(0,r.jsx)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,className:a()((H={},tt(H,$e().cursorPointer,d),tt(H,$e().forumPostTitle,V),H)),children:N})]});case z.d4z.GUILD_DIRECTORY:var W=(null==l?void 0:l.hasFeature(z.oNc.HUB))?K.Z.Messages.HUB_DIRECTORY_CHANNEL_TITLE.format({guildName:n}):n;return(0,r.jsxs)(o.Fragment,{children:[null!==j?(0,r.jsx)(Me.Z.Icon,{iconClassName:$e().icon,icon:j,"aria-hidden":!0}):null,(0,r.jsxs)(Me.Z.Title,{level:T,onContextMenu:h,onClick:p,children:[null!=P?(0,r.jsxs)(u.HiddenVisually,{children:[P,":"]}):null," ",W]})]});default:return null}}var rt=function(e){var t=e.channel,n=(0,l.e7)([A.default],(function(){return A.default.getCurrentUser()})),i=(0,l.e7)([A.default],(function(){
return A.default.getUser(t.getRecipientId())}));o.useEffect((function(){(null==n?void 0:n.isStaff())&&(0,_.Z)(i.id,i.getAvatarURL(void 0,80),{dispatchWait:!0,withMutualGuilds:!0,withMutualFriendsCount:!0})}),[n,i]);return t.isDM()&&(null==n?void 0:n.isStaff())&&(null==i?void 0:i.isStaff())?(0,r.jsx)(T.Z,{type:T.Z.Types.STAFF_ONLY_DM}):null};function ot(e,t){switch(e.type){case z.d4z.DM:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rt,{channel:e}),(0,r.jsx)(ee,{channel:e},e.id)]});case z.d4z.GUILD_ANNOUNCEMENT:case z.d4z.GUILD_TEXT:case z.d4z.GUILD_VOICE:case z.d4z.GUILD_STAGE_VOICE:case z.d4z.GROUP_DM:return null!=t?(0,r.jsx)(Xe,{channel:e,guild:t},e.id):null;default:return null}}function it(e,t){return(0,r.jsxs)(r.Fragment,{children:[null!==e&&(0,r.jsx)(Me.Z.Icon,{iconClassName:$e().icon,icon:e,"aria-hidden":!0}),(0,r.jsx)(u.HiddenVisually,{children:t})]})}function at(e){var t=e.guild,n=e.channel;if((0,l.e7)([P.Z],(function(){return P.Z.getGuildId()}))!==z.I_8)return null
;if(null==t)return null;return(0,r.jsxs)("div",{className:$e().guildBreadcrumbContainer,children:[(0,r.jsx)(Me.Z.Caret,{direction:"left"}),(0,r.jsx)(N.Z,{guild:t,size:N.Z.Sizes.SMALLER,className:$e().guildBreadcrumbIcon,active:!0}),(0,r.jsx)(Me.Z.Title,{onClick:function(){(0,j.XU)(t.id,n.id)},className:a()($e().parentChannelName,$e().cursorPointer),children:t.name})]})}var lt=o.memo((function(e){var t=e.emoji,n=e.channelEmojiLeftOfIcon,o=e.channel,i=(0,S.pO)(t,null==o?void 0:o.id);return(0,r.jsx)("div",{className:a()($e().channelEmoji,n?$e().channelEmojiLeftOfIcon:$e().channelEmojiRightOfIcon),style:{backgroundColor:i},children:(0,r.jsx)(c.Z,{className:$e().twemoji,emojiName:t})})}))},76107:(e,t,n)=>{"use strict";n.d(t,{Z:()=>We});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(730381),s=n.n(c),f=n(289283),d=n(842227),p=n(202351),h=n(945460),y=n(744564),b=n(997244),m=n(761953),v=n(299192),g=n(419156);const O=function(e,t){y.Z.dispatch({
type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:e,channelId:t})},E=function(e){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY",query:"",channelId:e})},C=function(e){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT",row:e})},S=function(e){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_ADD_USER",userId:e})},j=function(e){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER",userId:e})},_=function(e){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN",channelId:e})},I=function(){y.Z.dispatch({type:"PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE"})};var w=n(560923),P=n(72831),x=n(650332),A=n(26468),T=n(396043),N=n(29891),M=n(621647),Z=n(773011),L=n(625751),R=n(784426),D=n(382060),k=n(61209),U=n(869160),B=n(876296),F=n(69085),G=n(717091),H=n(840922),V=n(793461),W=n(473903),z=n(107364),Y=n(443812),K=n(633878);function q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function X(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function J(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=Q(e,["width","height","color","foreground"])
;return(0,r.jsx)("svg",X(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){q(e,t,n[t])}))}return e}({},(0,K.Z)(c)),{width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:u,fill:l,fillRule:"evenodd",clipRule:"evenodd",d:"M20.998 0V3H23.998V5H20.998V8H18.998V5H15.998V3H18.998V0H20.998ZM2.99805 20V24L8.33205 20H14.998C16.102 20 16.998 19.103 16.998 18V9C16.998 7.896 16.102 7 14.998 7H1.99805C0.894047 7 -0.00195312 7.896 -0.00195312 9V18C-0.00195312 19.103 0.894047 20 1.99805 20H2.99805Z"})}))}var $=n(226919),ee=n(373438),te=n(652591),ne=n(691797),re=n(930948),oe=n(72580);const ie=(0,n(260561).B)({kind:"user",id:"2021-04_longer_group_dm_invites",label:"Longer Group DM Invites",defaultConfig:{inviteMaxAgeSeconds:86400},
treatments:[{id:1,label:"Makes group DM invites expire after 1 week.",config:{inviteMaxAgeSeconds:604800}}]});var ae=n(457217),le=n(334835),ue=n(657539),ce=n(491260),se=n(749565),fe=n(603258),de=n.n(fe);function pe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function he(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ye(e){var t=e.user,n=e.row,o=e.hideDiscriminator,i=e.comparator,l=e.selected,u=e.checked,c=e.onClick,s=e.onMouseEnter,f=e["aria-setsize"],d=e["aria-posinset"],y=(0,p.e7)([ce.Z],(function(){
return ce.Z.getStatus(t.id)})),b=(0,ae.JA)(String(t.id));return(0,r.jsx)(h.Clickable,he(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){pe(e,t,n[t])}))}return e}({id:"user-row-".concat(n),className:de().friendWrapper,onClick:function(){null!=c&&c(t.id)},onMouseEnter:function(){null!=s&&s(n)}},b),{role:"option","aria-selected":u,"aria-setsize":f,"aria-posinset":d,children:(0,r.jsxs)(z.Z,{align:z.Z.Align.CENTER,className:a()(de().friend,pe({},de().friendSelected,l)),children:[(0,r.jsx)(ue.Z,{user:t,status:y,className:de().avatar}),(0,r.jsxs)(z.Z,{className:de().match,align:z.Z.Align.BASELINE,children:[(0,r.jsx)(h.Text,{tag:"strong",className:de().nickname,"aria-hidden":!0,variant:"text-md/medium",
children:null!=i&&i===t.tag?se.ZP.getName(t):null!=i&&""!==i?i:se.ZP.getName(t)}),(0,r.jsx)(le.Z,{user:t,hideDiscriminator:o,className:de().discordTag,usernameClass:de().weightMedium,discriminatorClass:de().weightMedium,forceUsername:!0})]}),(0,r.jsx)(h.Checkbox,{displayOnly:!0,size:22,value:u,className:de().checkbox})]})}))}var be=n(2590),me=n(473708),ve=n(64704),ge=n.n(ve),Oe=n(103468),Ee=n.n(Oe),Ce=n(518280),Se=n.n(Ce);function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function we(e){we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return we(e)}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ie(e,t,n[t])}))}return e}function xe(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ae(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Te(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e,t){Ne=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ne(e,t)}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e){return function(e){
if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Le=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Re(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}var ke=(0,Y.hQ)(),Ue=(0,Y.hQ)();function Be(e){var t=e.className,n=e.children;return(0,r.jsxs)(z.Z,{align:z.Z.Align.CENTER,justify:z.Z.Justify.CENTER,direction:z.Z.Direction.VERTICAL,className:a()(ge().errorState,t),children:[(0,r.jsx)("div",{className:a()(ge().errorStateIcon,Se().marginBottom20)}),n]})}var Fe=function(e){var t,n,o=e.channel,i=e.onClose,a=null!==(t=(0,Z.ZP)(o))&&void 0!==t?t:"",l=(0,p.e7)([G.ZP],(function(){return null!==(n=G.ZP.lastMessageId(o.id))&&void 0!==n?n:o.id}));return(0,r.jsx)(h.Clickable,{onClick:function(){(0,R.XU)(be.ME,o.id);i()},children:(0,r.jsxs)("div",{className:ge().confirmChannelItemContainer,children:[(0,r.jsx)(h.Avatar,{src:(0,M.x)(o),size:h.AvatarSizes.SIZE_24,"aria-label":a}),(0,r.jsx)("span",{className:ge().confirmChannelName,children:a}),(0,r.jsx)("span",{className:ge().lastActiveTimestamp,
children:s()(d.default.extractTimestamp(l)).fromNow()})]})})},Ge=function(e){var t=e.onConfirm,n=e.channelIds,o=Ae(e,["onConfirm","channelIds"]),i=(0,p.e7)([k.Z],(function(){return Array.from(n).map(k.Z.getChannel)}),[n]);return(0,r.jsxs)(h.ConfirmModal,xe(Pe({header:me.Z.Messages.GROUP_DM_INVITE_CONFIRM,confirmText:me.Z.Messages.GROUP_DM_INVITE_CONFIRM_BUTTON,cancelText:me.Z.Messages.CANCEL,onConfirm:t,confirmButtonColor:h.Button.Colors.BRAND},o),{children:[(0,r.jsx)(h.Text,{variant:"text-md/normal",children:me.Z.Messages.GROUP_DM_INVITE_CONFIRM_DESCRIPTION}),(0,r.jsx)(h.FormTitle,{className:ge().selectExistingFormHeader,children:me.Z.Messages.GROUP_DM_INVITE_SELECT_EXISTING}),(0,r.jsx)(h.Scroller,{className:ge().confirmInviteScroller,children:i.filter(oe.lm).sort((function(e,t){var n,r,o=null!==(n=e.lastMessageId)&&void 0!==n?n:e.id,i=null!==(r=t.lastMessageId)&&void 0!==r?r:t.id;return d.default.compare(i,o)})).map((function(e){return(0,r.jsx)(Fe,{onClose:o.onClose,channel:e},e.id)
}))})]}))},He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ne(e,t)}(n,e);var t=De(n);function n(){_e(this,n);var e;(e=t.apply(this,arguments)).state={separator:!1,copied:!1};e.scrollerRef=o.createRef();e.searchBarRef=o.createRef();e._mobileCloseRef=o.createRef();e.scrollPageUp=function(){var t;null===(t=e.scrollerRef.current)||void 0===t||t.scrollPageUp({animate:!0})};e.scrollPageDown=function(){var t;null===(t=e.scrollerRef.current)||void 0===t||t.scrollPageDown({animate:!0})};e.renderMobileCloseButton=function(){return(0,r.jsx)("div",{className:a()(ge().mobileToolsContainer),ref:e._mobileCloseRef,children:(0,r.jsx)(h.FocusRingScope,{containerRef:e._mobileCloseRef,children:(0,r.jsx)("div",{children:(0,r.jsx)(P.Z,{className:ge().mobileToolsCloseIcon,closeAction:e.props.onClose,keybind:"ESC"})})})})}
;e.getRowHeight=function(t,n){return t>0?0:null!=e.props.results[n]?42:0};e.renderRow=function(t){var n=t.section,o=t.row;if(n>0)return null;var i=e.props,a=i.results,l=i.selectedUsers,u=i.selectedRow,c=i.hideDiscriminator,s=a[o];if(null==s)return null;var f=s.user,d=s.comparator,p=l.has(f.id);return(0,r.jsx)(ye,{row:o,user:f,hideDiscriminator:c,comparator:d,checked:p,selected:o===u,onClick:e.handleClick,onMouseEnter:e.focusResult,"aria-posinset":o+1,"aria-setsize":a.length},f.id)};e.forceFocus=function(){var t=e.searchBarRef.current;null==t||t.focus()};e.focusResult=function(e){C(e)};e.handleSelect=function(t,n){var r=e.props,o=r.results,i=r.channel;null==n?E(null==i?void 0:i.id):null!=o&&e.handleClick(o[n].user.id)};e.handleSelectionChange=function(t,n){C(n);var r=e.scrollerRef.current;null!=r&&r.scrollToIndex({section:t,row:n,padding:8})};e.handleQueryChange=function(t){var n=e.props.channel;O(t,null==n?void 0:n.id)};e.handleRemoveUser=function(t){
var n=Array.from(e.props.selectedUsers);j(n[t]);e.forceFocus()};e.handleClick=function(t){var n=e.props,r=n.selectedUsers,o=n.query,i=n.channel;if(!r.has(t)){S(t);o.length>0&&E(null==i?void 0:i.id)}else j(t);e.forceFocus()};e.handleAddFriendNavigation=function(){(0,R.uL)(be.Z5c.FRIENDS);v.Z.setSection(be.pJs.ADD_FRIEND);e.props.onClose()};e.handleScroll=function(){var t=e.scrollerRef.current;null!=t&&e.setState({separator:!t.isScrolledToTop()})};e.createNewDM=function(e){m.Z.openPrivateChannel(e,!1,!1,"New Group DM")};e.pushToExistingDM=function(e,t){var n=F.Z.getChannelId()===e.id;m.Z.addRecipients(e.id,t,be.Sbl.ADD_FRIENDS_TO_DM).then((function(r){n&&(e.isDM()&&r!==e.id?b.Z.call(r,!1,!0):b.Z.ring(r,t))}))};e.handleInviteUsers=function(){var t=e.props,n=t.channel,o=t.selectedUsers,i=t.onClose,a=Array.from(o);if(null!=n){var l=ze(Array.from(new Set(Ze(n.recipients).concat(Ze(a)))));l.size>0?(0,h.openModal)((function(t){return(0,r.jsx)(Ge,xe(Pe({},t),{onConfirm:function(){
return e.pushToExistingDM(n,a)},channelIds:l}))}),{},(0,h.modalContextFromAppContext)(e.context.appContext)):e.pushToExistingDM(n,a)}else{var u=ze(a);a.length>1&&u.size>0?(0,h.openModal)((function(t){return(0,r.jsx)(Ge,xe(Pe({},t),{onConfirm:function(){return e.createNewDM(a)},channelIds:u}))}),{},(0,h.modalContextFromAppContext)(e.context.appContext)):e.createNewDM(a)}i()};e.handleCopyInvite=function(t){var n=e.props,r=n.channel,o=n.invite;null!=o&&(0,ne.JG)(t);null!=e.copyTimeout&&clearTimeout(e.copyTimeout);e.setState({copied:!0});e.copyTimeout=setTimeout((function(){e.setState({copied:!1})}),1e3);te.default.track(be.rMx.COPY_INSTANT_INVITE,{server:null,channel:null!=r?r.id:null,channel_type:null!=r?r.type:null,location:be.Sbl.ADD_FRIENDS_TO_DM,code:null!=o?o.code:null})};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props.channel;y.Z.wait((function(){return _(null==e?void 0:e.id)}));var t=(0,T.v_)(e)
;null!=e?e.isDM()?te.default.track(be.rMx.OPEN_POPOUT,xe(Pe({},t),{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):te.default.track(be.rMx.OPEN_POPOUT,xe(Pe({},t),{type:"Add Friends to DM",source:"Group DM"})):te.default.track(be.rMx.OPEN_POPOUT,xe(Pe({},t),{type:"New Group DM",source:"Friends List"}));re.S.subscribe(be.CkL.SCROLL_PAGE_UP,this.scrollPageUp);re.S.subscribe(be.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown)};i.componentWillUnmount=function(){re.S.unsubscribe(be.CkL.SCROLL_PAGE_UP,this.scrollPageUp);re.S.unsubscribe(be.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown);null!=this.copyTimeout&&clearTimeout(this.copyTimeout);y.Z.wait((function(){return I()}))};i.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!H.Z.isFriend(t)};i.createInvite=function(){var e=this.props.channel;if(null!=e&&e.isMultiUserDM()&&!this.isPartyFull()){
var t=ie.getCurrentConfig({},{autoTrackExposure:!1}).inviteMaxAgeSeconds;g.Z.createInvite(e.id,{max_age:t},be.t4x.GROUP_DM)}};i.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()};i.getMaxParticipants=function(){var e=this.props.channel,t=W.default.getCurrentUser();return null!=t&&t.isStaff()?be.p3w:null!=e&&e.userLimit>0?e.userLimit:be.pAY};i.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-r};i.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=this.getRemaining(),i=null!=t&&0===n.size||o<0,a=n.size>1?me.Z.Messages.CREATE_GROUP_DM:me.Z.Messages.CREATE_DM;return(0,r.jsx)(h.Button,{fullWidth:!0,disabled:i,onClick:this.handleInviteUsers,children:a})};i.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var o=this.getRemaining(),i=0===n.size||o<0
;return(0,r.jsx)("div",{className:ge().addButton,children:(0,r.jsx)(h.Button,{size:h.Button.Sizes.SMALL,disabled:i,onClick:this.handleInviteUsers,children:me.Z.Messages.ADD})})}};i.renderSubtitle=function(){if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var e=this.getRemaining(),t=e<=0?me.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()}):me.Z.Messages.GROUP_DM_INVITE_REMAINING.format({number:e});return(0,r.jsx)(h.Text,{variant:"text-xs/normal",className:a()(ge().subtitle,Ie({},ge().subtitleWarning,e<0),Se().marginTop4),children:t})};i.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,o=e.results,i=e.selectedRow,l=e.selectedUsers;if(!n||this.isNotFriends())return null;var u,c=[];l.forEach((function(e){var t=W.default.getUser(e);null!=t&&c.push(t.username)}));return(0,r.jsxs)(z.Z,{className:a()(ge().searchBar,Se().marginTop20),children:[(0,r.jsx)(x.ZP,{ref:this.searchBarRef,className:ge().searchBarComponent,
autoFocus:!0,placeholder:0===l.size?me.Z.Messages.GROUP_DM_SEARCH_PLACEHOLDER:void 0,disabled:this.isPartyFull(),size:x.ZP.Sizes.MEDIUM,query:t,selectedRow:i,sections:[null!==(u=null==o?void 0:o.length)&&void 0!==u?u:0],tags:c,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,inputProps:{"aria-labelledby":ke,"aria-controls":Ue,"aria-expanded":!0,"aria-activedescendant":"user-row-".concat(i)}}),this.renderAddUsersButton()]})};i.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?me.Z.Messages.GROUP_DM_ADD_FRIENDS:me.Z.Messages.GROUP_DM_HEADER;return(0,r.jsxs)(h.ModalHeader,{direction:z.Z.Direction.VERTICAL,align:z.Z.Align.STRETCH,className:ge().header,separator:e,children:[f.tq?this.renderMobileCloseButton():null,(0,r.jsx)(h.Heading,{id:ke,variant:"heading-lg/semibold",children:t}),this.renderSubtitle(),this.renderSearchBar()]})}
;i.renderBody=function(){var e=this,t=this.props,n=t.channel,o=t.hasFriends,i=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var u=W.default.getUser(l),c=null!=u?u.username:"",s=null!=u&&H.Z.getRelationshipType(u.id)===be.OGo.PENDING_OUTGOING;return(0,r.jsxs)(Be,{className:ge().notFriends,children:[(0,r.jsx)("div",{children:me.Z.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:c})}),(0,r.jsx)(h.Button,{disabled:s,size:h.Button.Sizes.SMALL,onClick:function(){return null!=u?e.handleAddFriend(u):null},className:Se().marginTop20,children:s?me.Z.Messages.ADD_FRIEND_BUTTON_AFTER:me.Z.Messages.ADD_FRIEND_BUTTON})]})}return o?this.isPartyFull()?(0,r.jsxs)(Be,{className:ge().partyFull,children:[(0,r.jsx)("div",{children:me.Z.Messages.GROUP_DM_INVITE_FULL_MAIN}),(0,r.jsx)("div",{children:me.Z.Messages.GROUP_DM_INVITE_FULL_SUB2.format({number:this.getMaxParticipants()})})]}):0===i.length?(0,r.jsx)(Be,{
className:a()(ge().noResults,Se().marginBottom20),children:(0,r.jsx)("div",{children:me.Z.Messages.GROUP_DM_INVITE_EMPTY})}):(0,r.jsx)(h.List,{ref:this.scrollerRef,sections:[i.length],className:ge().scroller,renderRow:this.renderRow,rowHeight:this.getRowHeight,renderSection:this.renderSection,sectionHeight:0,onScroll:this.handleScroll,paddingTop:0,paddingBottom:14,fade:!0,role:void 0,innerRole:"listbox",innerId:Ue,innerAriaMultiselectable:!0,innerAriaOrientation:"vertical"}):(0,r.jsxs)(Be,{className:ge().noFriends,children:[(0,r.jsx)("div",{children:me.Z.Messages.GROUP_DM_INVITE_NO_FRIENDS}),(0,r.jsx)(h.Button,{autoFocus:!0,color:h.Button.Colors.GREEN,fullWidth:!0,size:h.Button.Sizes.SMALL,onClick:this.handleAddFriendNavigation,className:Se().marginTop20,children:me.Z.Messages.ADD_FRIEND})]})};i.renderSection=function(){return null};i.renderInviteLink=function(){var e=this,t=this.props,n=t.channel,i=t.invite,l=t.hideInstantInvites,u=this.state.copied
;if(null==n||!n.isMultiUserDM()||this.isPartyFull())return null;var c=null!=i?(0,L.Z)(i.code):"";return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(h.FormTitle,{tag:"h5",className:Se().marginBottom8,children:me.Z.Messages.GROUP_DM_INVITE_LINK_TITLE}),(0,r.jsxs)(z.Z,{className:a()(Ee().input,Ie({},Ee().success,u)),justify:z.Z.Justify.BETWEEN,align:z.Z.Align.CENTER,children:[c.length>0?(0,r.jsx)(h.TextInput,{className:ge().copyInput,name:"invite",value:l?me.Z.Messages.INSTANT_INVITE_HIDDEN:c,editable:!1,inputClassName:ge().noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}):(0,r.jsx)(h.TextInput,{className:ge().copyInput,name:"invite",value:c,placeholder:(0,L.Z)(me.Z.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:ge().noBorder,spellCheck:"false",onClick:function(){return e.createInvite()}}),ne.wS&&c.length>0?(0,r.jsx)(h.Button,{size:h.Button.Sizes.SMALL,color:u?h.Button.Colors.GREEN:h.Button.Colors.BRAND,className:ge().copyButton,
onClick:function(){return e.handleCopyInvite(c)},children:u?me.Z.Messages.INVITE_COPIED:me.Z.Messages.COPY}):null,0===c.length?(0,r.jsx)(h.Button,{size:h.Button.Sizes.SMALL,color:h.Button.Colors.BRAND,className:ge().copyButton,onClick:function(){return e.createInvite()},children:me.Z.Messages.GROUP_DM_INVITE_LINK_CREATE}):null]}),c.length>0?(0,r.jsx)(h.Text,{variant:"text-xs/normal",className:a()(Se().marginTop8,ge().footerText),children:me.Z.Messages.INVITE_EXPIRES_HOURS.format({numHours:"".concat(24)})}):null]})};i.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var i=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=i?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:ge().footerSeparator}),(0,r.jsx)(z.Z,{direction:z.Z.Direction.VERTICAL,className:ge().footer,children:i})]}):void 0};i.render=function(){var e=this.props.transitionState;return(0,
r.jsxs)(h.ModalRoot,{transitionState:null!=e?e:h.ModalTransitionState.ENTERED,className:ge().popout,children:[this.renderHeader(),this.renderBody(),this.renderFooter()]})};i.handleAddFriend=function(e){this.props.onClose();w.Z.sendRequest(e.tag,{location:"Group DM"})};return n}(o.PureComponent);He.contextType=A.ZP;var Ve=p.ZP.connectStores([B.Z,U.Z,V.Z],(function(e){var t,n=e.channel;null!=n&&null!=(t=U.Z.getInvite(n.id))&&t.isExpired()&&(t=null);return xe(Pe({},B.Z.getState()),{invite:t,hideDiscriminator:V.Z.hidePersonalInformation,hideInstantInvites:V.Z.hideInstantInvites})}))(He);function We(e){var t=e.channel,n=e.iconClassName,i=e.icon,a=e.tooltip,l=e.tooltipPosition,u=void 0===l?"bottom":l,c=e.popoutPosition,s=void 0===c?"bottom":c,f=e.popoutAlign,d=void 0===f?"right":f,p=e.subscribeToGlobalHotkey,y=void 0!==p&&p,b=Me(o.useState(null!=t&&t.isGroupDM()&&0===t.recipients.length),2),m=b[0],v=b[1],g=(0,N.Dd)(null==t?void 0:t.id),O=o.useCallback((function(){return v((function(e){
return!e}))}),[]);o.useEffect((function(){y&&re.S.subscribe(be.CkL.TOGGLE_DM_CREATE,O);return function(){re.S.unsubscribe(be.CkL.TOGGLE_DM_CREATE,O)}}),[y,O]);return g?null:(0,r.jsx)(h.Popout,{renderPopout:function(e){return(0,r.jsx)(Ve,xe(Pe({},e),{onClose:e.closePopout,channel:t}))},position:s,shouldShow:m,align:d,onRequestClose:function(){return v(!1)},animation:h.Popout.Animation.NONE,children:function(e){return(0,r.jsx)(ee.ZP.Icon,xe(Pe({},e),{onClick:O,icon:null!=i?i:null==t?J:$.Z,className:n,iconClassName:n,tooltip:a,tooltipPosition:u}))}})}function ze(e){var t=Ye(e);return new Set(u()(k.Z.getMutablePrivateChannels()).values().filter((function(e){return(0,D.bc)(e.type)})).filter((function(e){return Ye(e.recipients)===t})).map((function(e){return e.id})).value())}function Ye(e){return JSON.stringify(e.sort())}},172028:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"guild",id:"2021-11_hub_events",label:"Hub Events",defaultConfig:{showHubEventsList:!1},
treatments:[{id:1,label:"Show Hub Events List",config:{showHubEventsList:!0}}]})},350403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(202351),o=n(567403),i=n(2590);function a(e){return(0,r.e7)([o.Z],(function(){if(null==e)return!1;var t,n=o.Z.getGuild(e);return null!==(t=null==n?void 0:n.hasFeature(i.oNc.HUB))&&void 0!==t&&t}),[e])}},198325:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(785893),o=n(667294),i=n(202351),a=n(945460),l=n(201441),u=n(893263),c=n(784426),s=n(715107),f=n(570202),d=n(794547),p=n(226919),h=n(933850),y=n(651034),b=n(172028),m=n(842227),v=n(876186),g=n(549331),O=n(717091);var E=n(2590),C=n(473708),S=n(670331),j=n.n(S);function _(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,l,"next",e)}function l(e){_(i,r,o,a,l,"throw",e)}a(void 0)}))}}function w(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},T=[{icon:(0,r.jsx)(f.Z,{
className:j().icon}),key:"EVENTS",getName:function(e){var t=e.numEvents;return t>0?C.Z.Messages.GUILD_EVENTS_PLURAL.format({number:t}):C.Z.Messages.GUILD_EVENTS},handler:function(e){return(0,a.openModalLazy)(I((function(){var t,o;return A(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(40706),n.e(89853)]).then(n.bind(n,389853))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,x(P({},t),{guildId:e.id}))}]}}))})))}},{icon:(0,r.jsx)(d.Z,{className:j().icon}),key:"JOIN_SERVERS",getName:function(){return C.Z.Messages.HUB_SIDEBAR_JOIN_SERVERS},handler:function(e,t){return(0,c.XU)(e.id,t.id)}},{icon:(0,r.jsx)(h.Z,{className:j().icon}),key:"ADD_SERVERS",getName:function(){return C.Z.Messages.HUB_SIDEBAR_ADD_SERVERS},handler:function(e,t){return(0,a.openModalLazy)(I((function(){var o,i;return A(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(95599),n.e(47035)]).then(n.bind(n,647035))];case 1:o=a.sent(),i=o.default
;return[2,function(n){return(0,r.jsx)(i,x(P({},n),{directoryGuildName:e.name,directoryGuildId:e.id,directoryChannelId:t.id}))}]}}))})))}},{icon:(0,r.jsx)(p.Z,{className:j().icon}),key:"INVITE_MEMBERS",getName:function(){return C.Z.Messages.HUB_SIDEBAR_INVITE_MEMBERS},handler:function(e,t){return(0,a.openModalLazy)(I((function(){var o,i;return A(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:o=a.sent(),i=o.default;return[2,function(n){return(0,r.jsx)(i,x(P({},n),{guild:e,channel:t,source:E.t4x.HUB_SIDEBAR}))}]}}))})))}}];const N=function(e){var t=e.guild,n=e.channel,a=(0,l.ZP)(t.id);o.useEffect((function(){b.Z.trackExposure({guildId:t.id})}),[t.id]);var c=b.Z.useExperiment({guildId:t.id},{autoTrackExposure:!1}).showHubEventsList,f=(0,i.e7)([s.Z],(function(){return null!=n&&s.Z.getChannelId()===n.id})),d=o.useMemo((function(){return{numEvents:a.length}}),[a.length]),p=function(e){return(0,
i.e7)([v.Z,O.ZP],(function(){if(null==e)return 0;var t,n=O.ZP.ackMessageId(e.id);if(null==n)return 0;var r=Object.values(null!==(t=v.Z.getDirectoryEntries(e.id))&&void 0!==t?t:{}).filter((function(e){var t=m.default.fromTimestamp(new Date(e.createdAt).getTime());return(0,g.gX)(e)&&t>n}));return Math.min(g._N,r.length)}),[e])}(n);return(0,r.jsx)("div",{children:T.map((function(e){if(!c&&"EVENTS"===e.key)return null;var o=f&&"JOIN_SERVERS"===e.key;return(0,r.jsx)(y.Z,{avatar:e.icon,name:e.getName(d),focusProps:{offset:{right:4,top:1,bottom:1}},onClick:function(){return function(e){if(null!=n){var r=T.find((function(t){return t.key===e}));null==r||r.handler(t,n)}}(e.key)},selected:o,className:j().optionItem,selectedClassName:j().selected,innerClassName:j().itemInner,avatarClassName:j().avatar,children:"JOIN_SERVERS"===e.key&&p>0?(0,u.Ne)(p):null},e.key)}))})}},15970:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(2590);function o(e,t,n,o){var i=null!=n?n:t
;return null!=i&&e.can(r.Plq.CREATE_INSTANT_INVITE,i)||null!=t&&null!=t.vanityURLCode||null!=(null==o?void 0:o.invite_code)}},668403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ve});var r=n(785893),o=n(667294),i=n(945460),a=n(744564),l=n(301928),u=n(294184),c=n.n(u),s=n(441143),f=n.n(s),d=n(496486),p=n.n(d),h=n(853158),y=n(202351),b=n(443660),m=n(344524),v=n(442921),g=n(241166),O=n(316878),E=n(930948),C=n(716118),S=n(2590),j=n(814873),_=n.n(j);function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return P(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}
});t&&T(e,t)}function A(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var Z=function(){return!0},L=function(){return!0},R=function(){return(0,r.jsxs)("div",{className:_().symbol,children:[(0,r.jsx)("div",{className:_().symbolBackground}),(0,
r.jsx)("img",{alt:"",src:n(492137)})]},"symbol")},D=140,k=function(e){x(o,e);var t=M(o);function o(){I(this,o);var e;(e=t.apply(this,arguments))._renderSecondaryTimeout=null;e._doneTimeout=null;e.state={animating:!1,renderSecondary:!1,scale:p().random(.6,1,!0),offsetX:p().random(0,D,!1)-70,offsetY:p().random(0,D,!1)-70};e.done=function(){e.props.onAnimationComplete(e.props.componentId)};return e}var i=o.prototype;i.componentDidMount=function(){var e=this;this.setState({animating:!0});this._renderSecondaryTimeout=setTimeout((function(){e.setState({renderSecondary:!0})}),120);this._doneTimeout=setTimeout(this.done,1e3);Z()};i.componentDidUpdate=function(e,t){this.state.renderSecondary&&!t.renderSecondary&&L()};i.componentWillUnmount=function(){clearTimeout(this._renderSecondaryTimeout);clearTimeout(this._doneTimeout)};i.renderPrimary=function(){return(0,r.jsxs)("div",{className:_().primaryExplosion,children:[(0,r.jsx)("img",{alt:"",className:_().circleInner,src:n(800193),width:70,
height:69}),(0,r.jsx)("img",{alt:"",className:_().circleOuter,src:n(537687),width:96,height:95}),(0,r.jsx)("img",{alt:"",className:_().linesSecondary,src:n(806956),width:183,height:104}),(0,r.jsx)("img",{alt:"",className:_().linesMain,src:n(138e3),width:69,height:180})]},"primary-explosion")};i.renderSecondary=function(e,t){return(0,r.jsxs)("div",{className:_().secondaryExplosion,style:{top:t,left:e},children:[(0,r.jsx)("img",{alt:"",className:_().circleInner,src:n(166682),width:61,height:58},"circle-inner"),(0,r.jsx)("img",{alt:"",className:_().circleOuter,src:n(532958),width:85,height:85},"circle-outer"),(0,r.jsx)("img",{alt:"",className:_().linesSecondary,src:n(94672),width:162,height:173},"lines-secondary"),(0,r.jsx)("img",{alt:"",className:_().linesMain,src:n(529753),width:156,height:306},"lines-main")]},"secondary-explosion")};i.render=function(){var e=this.state,t=e.renderSecondary,n=e.offsetX,o=e.offsetY,i=e.animating,a=e.scale,l=[this.renderPrimary()]
;t&&l.push(this.renderSecondary(n,o));return(0,r.jsx)("div",{className:c()(_().container,w({},_().animate,i)),style:{top:this.props.top,left:this.props.left,transform:"scale(".concat(a,")")},children:l})};return o}(o.PureComponent);const U=function(e){x(n,e);var t=M(n);function n(){I(this,n);var e;(e=t.apply(this,arguments))._timeouts=[];e.children=[];e.state={explosions:0,visible:!1};e.setTimeout=function(t,n){var r=setTimeout(t,n);e._timeouts.push(r);return r};e.removeExplosion=function(t){var n=e.children,r=n.findIndex((function(e){if(e.type!==k)return!1;var n=e.props;return null!=n.componentId&&n.componentId===t}));r>=0&&n.splice(r,1);e.forceUpdate()};e.createExplosion=function(){var t=e.children,n=window.innerWidth/2>>0,o=window.innerHeight/2>>0;if(e.state.explosions<8){var i="expl-".concat(e.state.explosions);t.push((0,r.jsx)(k,{componentId:i,top:p().random(o-100,o+100,!1),left:p().random(n-200,n+200,!1),onAnimationComplete:e.removeExplosion},i))
;e.setTimeout(e.createExplosion,240);e.setState({explosions:e.state.explosions+1})}else e.setTimeout(e.addSymbol,750)};e.addSymbol=function(){e.children=[(0,r.jsx)(R,{},"symbol")];e.forceUpdate();e.setTimeout(e.delayedClose,3e3)};e.delayedClose=function(){e.props.onClose()};return e}var o=n.prototype;o.componentDidMount=function(){var e=this;this.setTimeout((function(){e.setState({visible:!0});E.S.dispatch(S.CkL.SHAKE_APP,{duration:2400})}),1800);this.setTimeout(this.createExplosion,1800)};o.componentWillUnmount=function(){g.Z.enable();this.children.length=0;var e=!0,t=!1,n=void 0;try{for(var r,o=this._timeouts[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;clearTimeout(i)}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}};o.render=function(){return(0,r.jsx)("div",{className:c()(_().ragingDemon,w({},_().visible,this.state.visible)),children:this.children})};return n}(o.PureComponent);var B=n(473708),F=n(539430),G=n.n(F);function H(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function z(e){z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return z(e)}function Y(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e,t){K=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return K(e,t)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X,Q=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}!function(e){e.UP="UP";e.DOWN="DOWN";e.LEFT="LEFT";e.RIGHT="RIGHT"}(X||(X={}));var $,ee=100,te=(W($={},X.UP,p().throttle((function(){return(0,C.GN)("ddr-up")}),ee)),W($,X.DOWN,p().throttle((function(){return(0,C.GN)("ddr-down")}),ee)),W($,X.LEFT,p().throttle((function(){return(0,C.GN)("ddr-left")}),ee)),W($,X.RIGHT,p().throttle((function(){return(0,C.GN)("ddr-right")}),ee)),$),ne=p()((0,m.Rv)()).groupBy((function(e){return e.group})).value();function re(e){switch(e.keyCode){case S.yXg.ARROW_UP:return X.UP;case S.yXg.ARROW_DOWN:return X.DOWN;case S.yXg.ARROW_LEFT:return X.LEFT;case S.yXg.ARROW_RIGHT:return X.RIGHT;default:return null}}var oe=1e3/60;function ie(){var e=[m.Q2.MESSAGE,m.Q2.NAVIGATION,m.Q2.VOICE_AND_VIDEO,m.Q2.CHAT,m.Q2.MISCELLANEOUS];return(0,r.jsx)("div",{className:G().keyboardShortcutList,children:e.map((function(t,n){
var o=n===e.length-1,a=0===n,l=ne[t],u=(0,m.UD)(t),s=(0,m.U6)(t);return(0,r.jsxs)("div",{className:c()(G().keyboardShortcutListGroup,W({},G().firstGroup,a)),children:[(0,r.jsxs)("div",{className:c()(G().keybindGroup),children:[(0,r.jsx)(i.Heading,{variant:"heading-md/semibold",children:u}),null!=s&&(0,r.jsx)(i.Text,{className:G().keybindGroupDescription,variant:"text-sm/normal",children:s})]},t),l.map((function(e,t){var n;return!1===(null===(n=e.predicate)||void 0===n?void 0:n.call(e))?null:(0,r.jsxs)("div",{className:c()(G().keybindGroup),children:[(0,r.jsx)("div",{className:G().keybindDescription,children:e.description}),(0,r.jsx)("div",{className:"keybind-shortcuts",children:e.binds.map((function(e){return(0,r.jsx)(i.KeyCombo,{className:G().keybindKey,shortcut:e},e)}))})]},t)})),!o&&(0,r.jsx)(i.FormDivider,{className:G().keybindGroupDivider})]},t)}))})}var ae=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&K(e,t)}(n,e);var t=J(n);function n(){V(this,n);var e;(e=t.apply(this,arguments)).state={UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new h.Z.Value(1),scaleX:new h.Z.Value(1),scaleY:new h.Z.Value(0),animating:!1};e.scrollerRef=o.createRef();e.lastInputedKeys=[];e.scrollPageUp=function(){var t=e.scrollerRef.current;f()(null!=t,"Scroller is pagedUp when not mounted");t.scrollPageUp({animate:!0})};e.scrollPageDown=function(){var t=e.scrollerRef.current;f()(null!=t,"Scroller is pagedDown when not mounted");t.scrollPageDown({animate:!0})};e.arrowUp=function(t){var n=t.direction;e.setState(W({},n,!1))};e.arrowDown=function(t){var n=t.direction;te[n]();e.setState(W({},n,!0))};e.componentWillLeave=function(t){e.setState({animating:!0});e.state.opacity.setValue(1);e.state.scaleX.setValue(.5)
;e.state.scaleY.setValue(1);h.Z.sequence([h.Z.timing(e.state.opacity,{toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.opacity,{delay:300,toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:.7,duration:2*oe}),h.Z.timing(e.state.opacity,{toValue:1,duration:2*oe}),h.Z.timing(e.state.scaleY,{delay:100,toValue:.005,duration:8*oe,easing:h.Z.Easing.in(h.Z.Easing.ease)}),h.Z.parallel([h.Z.timing(e.state.scaleX,{toValue:1,duration:10*oe,easing:h.Z.Easing.out(h.Z.Easing.ease)}),h.Z.timing(e.state.opacity,{toValue:0,duration:200})])]).start(t)}
;e.toggleOpacity=function(){1===e.state.opacity._value?e.state.opacity.setValue(0):e.state.opacity.setValue(1)};e.getStyles=function(){return{opacity:e.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:e.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:e.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}};e.handleKeyDown=function(t){e.lastInputedKeys.push(t.keyCode);e.lastInputedKeys=e.lastInputedKeys.slice(-5);e.lastInputedKeys[0]===S.yXg.H&&e.lastInputedKeys[1]===S.yXg.H&&e.lastInputedKeys[2]===S.yXg.ARROW_RIGHT&&e.lastInputedKeys[3]===S.yXg.N&&e.lastInputedKeys[4]===S.yXg.K&&e.props.activateRagingDemon();if(!e.props.keyboardModeEnabled){var n=re(t);if(null!==n){t.stopPropagation();t.preventDefault();e.arrowDown({direction:n})}}};e.handleKeyUp=function(t){if(!e.props.keyboardModeEnabled){var n=re(t);if(null!==n){t.stopPropagation();t.preventDefault();e.arrowUp({direction:n})}}};e.onArrowClick=function(t){
e.arrowDown({direction:t})};return e}var a=n.prototype;a.componentDidMount=function(){this.lastInputedKeys=[];E.S.subscribe(S.CkL.SCROLL_PAGE_UP,this.scrollPageUp);E.S.subscribe(S.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown);window.addEventListener("keydown",this.handleKeyDown,{capture:!0});window.addEventListener("keyup",this.handleKeyUp,{capture:!0})};a.componentWillUnmount=function(){E.S.unsubscribe(S.CkL.SCROLL_PAGE_UP,this.scrollPageUp);E.S.unsubscribe(S.CkL.SCROLL_PAGE_DOWN,this.scrollPageDown);window.removeEventListener("keydown",this.handleKeyDown,{capture:!0});window.removeEventListener("keyup",this.handleKeyUp,{capture:!0})};a.render=function(){var e=this.state,t=e.UP,n=e.DOWN,o=e.LEFT,a=e.RIGHT;return(0,r.jsxs)(h.Z.div,{className:G().keyboardShortcutsModal,style:this.getStyles(),children:[(0,r.jsxs)(i.H,{className:G().modalTitle,children:[(0,r.jsx)("div",{className:G().content,children:B.Z.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE}),(0,r.jsx)(i.KeyCombo,{shortcut:"mod+/"})]
}),(0,r.jsx)("div",{className:G().modalSubtitle,children:B.Z.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE}),(0,r.jsxs)("div",{className:G().ddrArrows,children:[(0,r.jsx)(le,{arrow:X.LEFT,isActive:o,className:G().left,children:"left"}),(0,r.jsx)(le,{arrow:X.DOWN,isActive:n,className:G().down,children:"down"}),(0,r.jsx)(le,{arrow:X.UP,isActive:t,className:G().up,children:"up"}),(0,r.jsx)(le,{arrow:X.RIGHT,isActive:a,className:G().right,children:"right"})]}),(0,r.jsx)(i.AdvancedScrollerAuto,{ref:this.scrollerRef,fade:!0,children:(0,r.jsx)(i.HeadingLevel,{children:(0,r.jsx)(ie,{})})})]})};return n}(o.PureComponent);function le(e){var t=e.isActive,n=e.arrow,a=e.className,l=e.children,u=q(o.useState(t),2),s=u[0],f=u[1],d=o.useCallback((function(){te[n]();f(!0)}),[n]);o.useEffect((function(){if(s){var e=setTimeout((function(){return f(!1)}),500);return function(){return clearTimeout(e)}}}),[s]);return(0,r.jsx)(i.Clickable,{onClick:d,className:c()(G().arrow,a,W({},G().active,t||s)),children:l})
}function ue(e){var t=e.transitionState,n=e.onClose,a=q(o.useState(!1),2),l=a[0],u=a[1],s=o.useMemo((function(){return __OVERLAY__?(0,v.Zg)():(0,m.Rv)()}),[]),f=(0,y.e7)([O.Z],(function(){return O.Z.keyboardModeEnabled}));return(0,r.jsx)(i.ModalRoot,{className:c()(G().noBackground,W({},G().noShadow,l)),size:i.ModalSize.DYNAMIC,"aria-label":B.Z.Messages.KEYBINDS,transitionState:t,children:(0,r.jsx)(b.Z,{component:"div",children:l?(0,r.jsx)(U,{onClose:n},"raging-demo"):(0,r.jsx)(ae,{content:s,keyboardModeEnabled:f,activateRagingDemon:function(){g.Z.disable();u(!0)}},"modal")})})}var ce=n(162341);function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function de(e){de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return de(e)}function pe(e,t){
return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t){he=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return he(e,t)}var ye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&he(e,t)}(n,e);var t=be(n);function n(){se(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){a.Z.subscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts);a.Z.subscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)};o._terminate=function(){a.Z.unsubscribe("SHOW_KEYBOARD_SHORTCUTS",this.showKeyboardShortcuts);a.Z.unsubscribe("HIDE_KEYBOARD_SHORTCUTS",this.hideKeyboardShortcuts)};o.showKeyboardShortcuts=function(){(0,i.openModal)((function(e){return(0,r.jsx)(ue,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){fe(e,t,n[t])}))}return e}({},e))}),{modalKey:ce.J})};o.hideKeyboardShortcuts=function(){(0,i.closeModal)(ce.J)};o.__getLocalVars=function(){
return{}};return n}(l.Z);const ve=new me},522678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(413675),o=n(744564),i=n(736818),a=(n(318715),n(61209));function l(e,t){if(e!==t)return!1;var n=a.Z.getChannel(t);if(null==n||!n.isForumPost())return!1;var r=a.Z.getChannel(n.parent_id);return!0===(null==r?void 0:r.isMediaChannel())}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var h=new Set;var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.shouldDisplayPrompt=function(e){return h.has(e)};r.__getLocalVars=function(){return{threadsToShowPromptFor:h}};return n}(r.Z.Store);y.displayName="MediaPostSharePromptStore";const b=new y(o.Z,{CONNECTION_OPEN:function(){h=new Set},MESSAGE_CREATE:function(e){
if(!e.isPushNotification){var t=e.message;i.default.getId()===t.author.id&&l(t.id,t.channel_id)&&h.add(e.message.id)}},DISMISS_MEDIA_POST_SHARE_PROMPT:function(e){var t=e.threadId;h.delete(t)},LOGOUT:function(e){h.clear()}})},562205:(e,t,n)=>{"use strict";n.d(t,{e4:()=>f,qR:()=>p,hi:()=>m,Xy:()=>h,gN:()=>y,r_:()=>b});var r,o=n(281110),i=n(744564),a=n(84441);!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED";e[e.PENDING=1]="PENDING";e[e.ACCEPTED=2]="ACCEPTED";e[e.REJECTED=3]="REJECTED"}(r||(r={}));var l=n(2590);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function f(e){return d.apply(this,arguments)}function d(){return(d=c((function(e){
return s(this,(function(t){switch(t.label){case 0:return[4,o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.ACCEPTED}})];case 1:t.sent();i.Z.dispatch({type:"MESSAGE_REQUEST_ACCEPT_OPTIMISTIC",channelId:e});return[2]}}))}))).apply(this,arguments)}function p(e){return o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.UNSPECIFIED}})}function h(e){return o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e),body:{consent_status:r.PENDING}})}function y(e){return o.Z.delete({url:l.ANM.CHANNEL_RECIPIENT_CONSENT(e)})}function b(e){return o.Z.put({url:l.ANM.CHANNEL_RECIPIENT_REJECT_BATCH(),body:{channel_ids:e}})}function m(){a.Z.getLocationMetadata()}},234594:(e,t,n)=>{"use strict";n.d(t,{t9:()=>o,cl:()=>r,WN:()=>a,oi:()=>l,t$:()=>u,pS:()=>i});var r,o="Message Request Accept Confirmation";!function(e){e[e.ACCEPT=0]="ACCEPT";e[e.REJECT=1]="REJECT";e[e.ACCEPT_CONFIRMATION_PROMPT=2]="ACCEPT_CONFIRMATION_PROMPT"
;e[e.DISMISS_CONFIRMATION_PROMPT=3]="DISMISS_CONFIRMATION_PROMPT";e[e.ACCEPT_HAM_CONFIRMATION_PROMPT=4]="ACCEPT_HAM_CONFIRMATION_PROMPT";e[e.DISMISS_HAM_CONFIRMATION_PROMPT=5]="DISMISS_HAM_CONFIRMATION_PROMPT"}(r||(r={}));var i,a=73,l=26,u=100;!function(e){e.REQUESTS="REQUESTS";e.SPAM="SPAM"}(i||(i={}))},206932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(202351),o=n(744564),i=n(649536),a=n(473903),l=n(996344),u=n(48315);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){y=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return y(e,t)}function b(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var g={},O=new Set;function E(e){
return l.Z.isMessageRequest(e)||u.Z.isSpam(e)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(E(e)&&(null==t||e===(null==t?void 0:t.channel_id))){var r=null==t?null:(0,i.e5)(t);g[e]={loaded:!0,error:n,message:r}}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&y(e,t)}(n,e);var t=v(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,u.Z,a.default)};r.shouldLoadMessageRequestPreview=function(e){return!O.has(e)};r.getMessageRequestPreview=function(e){e in g||(g[e]={loaded:!1,error:!1,message:null});return g[e]};r.__getLocalVars=function(){return{messageRequestPreviews:g,shouldReceivePreviewStateFromGateway:O}};return n}(r.ZP.Store);S.displayName="MessageRequestPreviewStore";const j=new S(o.Z,{
CONNECTION_OPEN:function(){g={};O.clear()},CHANNEL_CREATE:function(e){var t=e.channel;E(t.id)&&O.add(t.id)},CHANNEL_UPDATES:function(e){var t=e.channels,n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(!E(l.id)){O.delete(l.id);delete g[l.id]}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},CHANNEL_DELETE:function(e){var t=e.channel;O.delete(t.id);delete g[t.id]},MESSAGE_CREATE:function(e){if(e.isPushNotification)return!1;C(e.message.channel_id,e.message)},MESSAGE_UPDATE:function(e){var t=e.message.channel_id;if(null==t)return!1;var n=g[t];if(null==n)return!1;if(null==n.message)return!1;g[t]=p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
f(e,t,n[t])}))}return e}({},n),{message:(0,i.wi)(n.message,e.message)})},MESSAGE_DELETE:function(e){if(!E(e.channelId))return!1;g[e.channelId]={loaded:!0,error:!1,message:null}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS:function(e){var t=e.requestedChannelIds,n=e.supplementalData,r=new Set(b(t));n.forEach((function(e){C(e.channel_id,e.message_preview);r.delete(e.channel_id)}));var o=!0,i=!1,a=void 0;try{for(var l,u=Array.from(r)[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){C(l.value,null)}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}},LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR:function(e){e.requestedChannelIds.forEach((function(e){C(e,null,!0)}))}})},652119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(667294),o=n(202351),i=n(473903),a=n(562205),l=n(996344),u=new Set(["GB"]);function c(){var e=(0,o.e7)([l.Z],(function(){return l.Z.getUserCountryCode()})),t=!1===(0,o.e7)([i.default],(function(){var e
;return null===(e=i.default.getCurrentUser())||void 0===e?void 0:e.nsfwAllowed}));r.useEffect((function(){null==e&&(0,a.hi)()}),[e]);return!(null==e||!u.has(e.alpha2))&&!!t}},525008:(e,t,n)=>{"use strict";n.d(t,{m:()=>P});var r=n(667294),o=n(8400),i=n.n(o),a=n(347365),l=n(424871),u=n(90459),c=n(736626),s=n(968449),f=n(652591),d=n(562205),p=n(785893),h=n(945460),y=n(234594),b=n(2590);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}
if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};var C=n(652119);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,l,"next",e)}function l(e){j(i,r,o,a,l,"throw",e)}a(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function P(e){var t,o=e.user,m=e.onAcceptSuccess,g=e.onRejectSuccess,S=e.onError,j=(0,
C.Z)(),P=I(r.useState(!1),2),x=P[0],A=P[1],T=I(r.useState(!1),2),N=T[0],M=T[1],Z=I(r.useState(!1),2),L=Z[0],R=Z[1],D=I(r.useState(!1),2),k=D[0],U=D[1],B=I(r.useState(!1),2),F=B[0],G=B[1],H=x||N||L,V=r.useCallback((t=_((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:if(H)return[2];A(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,d.e4)(e)];case 2:r.sent();U(!0);null==m||m();return[3,5];case 3:t=r.sent();n=new a.Hx(t);null==S||S(n);return[3,5];case 4:A(!1);return[7];case 5:return[2]}}))})),function(e){return t.apply(this,arguments)}),[H,m,S]),W=r.useCallback(function(){var e=_((function(e){var t,n;return w(this,(function(r){switch(r.label){case 0:if(H)return[2];M(!0);r.label=1;case 1:r.trys.push([1,3,4,5]);return[4,(0,d.gN)(e)];case 2:r.sent();G(!0);null==g||g();return[3,5];case 3:t=r.sent();n=new a.Hx(t);null==S||S(n);return[3,5];case 4:M(!1);return[7];case 5:return[2]}}))}));return function(t){return e.apply(this,arguments)}
}(),[H,g,S]),z=r.useCallback(function(){var e=_((function(e){var t,n,r,o,l,u,c,s,f,p;return w(this,(function(h){switch(h.label){case 0:if(H)return[2];M(!0);t=i()(e,y.t$);h.label=1;case 1:h.trys.push([1,10,11,12]);n=!0,r=!1,o=void 0;h.label=2;case 2:h.trys.push([2,7,8,9]);l=t[Symbol.iterator]();h.label=3;case 3:if(n=(u=l.next()).done)return[3,6];c=u.value;return[4,(0,d.r_)(c)];case 4:h.sent();h.label=5;case 5:n=!0;return[3,3];case 6:return[3,9];case 7:s=h.sent();r=!0;o=s;return[3,9];case 8:try{n||null==l.return||l.return()}finally{if(r)throw o}return[7];case 9:G(!0);null==g||g();return[3,12];case 10:f=h.sent();p=new a.Hx(f);null==S||S(p);return[3,12];case 11:M(!1);return[7];case 12:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[H,g,S]),Y=r.useCallback(function(){var e=_((function(e){var t,r;return w(this,(function(i){switch(i.label){case 0:if(H)return[2];if(null==o||null!=u.Z.getMutualGuilds(o.id))return[3,5];R(!0);i.label=1;case 1:i.trys.push([1,3,4,5])
;return[4,(0,c.Z)(o.id,o.getAvatarURL(void 0,80),{withMutualGuilds:!0,withMutualFriendsCount:!0})];case 2:i.sent();return[3,5];case 3:i.sent();return[3,5];case 4:R(!1);return[7];case 5:t=function(){var t,n=null!=o?null===(t=u.Z.getMutualGuilds(o.id))||void 0===t?void 0:t.map((function(e){return e.guild.id})):[];f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.DISMISS_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=n?n:[],other_user_id:null==o?void 0:o.id})};r=function(){var t=_((function(){var t,n;return w(this,(function(r){switch(r.label){case 0:n=null!=o?null===(t=u.Z.getMutualGuilds(o.id))||void 0===t?void 0:t.map((function(e){return e.guild.id})):[];f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.ACCEPT_CONFIRMATION_PROMPT,channel_id:e,mutual_guild_ids:null!=n?n:[],other_user_id:null==o?void 0:o.id});return[4,V(e)];case 1:r.sent();return[2]}}))}));return function(){return t.apply(this,arguments)}}();!function(e){
var t=e.channelId,r=e.onConfirm,o=e.onCancel;f.default.track(b.rMx.OPEN_MODAL,{type:y.t9,channel_id:t});(0,h.openModalLazy)(v((function(){var e,t;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(26719)]).then(n.bind(n,126719))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,p.jsx)(t,O({onConfirm:r,onDismiss:o},e))}]}}))})))}({channelId:e,onConfirm:r,onCancel:t});return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[V,H,o]),K=r.useCallback((function(e,t){var r=function(n,r){r&&s.kJ.updateSetting(n);n&&null!=t&&(0,l.zd)(t);V(e.id);f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.ACCEPT_HAM_CONFIRMATION_PROMPT,channel_id:e.id,is_dont_show_again_checked:r,non_spam_retraining_opt_in:n})},o=s.kJ.getSetting();null==o?function(e){var t=e.onConfirm,r=e.onCancel;(0,h.openModalLazy)(v((function(){var e,o;return E(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(28746)]).then(n.bind(n,528746))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,p.jsx)(o,O({onConfirm:t,onDismiss:r},e))}]}}))})))}({channel:e,onConfirm:r,onCancel:function(){f.default.track(b.rMx.MESSAGE_REQUEST_ACTION,{action:y.cl.DISMISS_HAM_CONFIRMATION_PROMPT,channel_id:e.id})}}):r(o)}),[V]);return{acceptMessageRequest:j?Y:V,rejectMessageRequest:W,rejectAll:z,markAsNotSpam:K,isAcceptLoading:x,isRejectLoading:N,isUserProfileLoading:L,isOptimisticAccepted:k,isOptimisticRejected:F}}},761465:(e,t,n)=>{"use strict";n.d(t,{a:()=>m});var r=n(496486),o=n.n(r),i=n(202351),a=n(281110),l=n(744564),u=n(352980),c=n(717091),s=n(206932),f=n(2590);function d(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}
a(void 0)}))}}var h=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0
}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},y=new Set,b=null;function m(e){var t=e.id,n=(0,i.cj)([s.Z,u.Z,c.ZP],(function(){var e=c.ZP.lastMessageId(t),n=s.Z.getMessageRequestPreview(t);if(null==n.message&&null!=e){var r=u.Z.getMessage(t,e);if(null!=r)return{loaded:!0,error:!1,message:r}}return n}),[t]),r=n.loaded,o=n.message,a=n.error,l=(0,i.e7)([s.Z],(function(){return s.Z.shouldLoadMessageRequestPreview(t)}),[t]);!r&&null==o&&l&&function(e){y.add(e);null==b&&(b=setTimeout(v,0))}(t);return{loaded:r,error:a,message:o}}function v(){return g.apply(this,arguments)}function g(){return(g=p((function(){return h(this,(function(e){switch(e.label){case 0:e.trys.push([0,,3,4]);return o().isEmpty(y)?[3,2]:[4,O()];case 1:e.sent();return[3,0];case 2:return[3,4];case 3:b=null;return[7];case 4:return[2]}}))}))).apply(this,arguments)}function O(){return E.apply(this,arguments)}function E(){return(E=p((function(){var e,t,n,r,o,i,u,c;return h(this,(function(s){
switch(s.label){case 0:e=Array.from(y).slice(0,25);s.label=1;case 1:s.trys.push([1,3,4,5]);return[4,a.Z.get({url:f.ANM.MESSAGE_REQUESTS_SUPPLEMENTAL_DATA,query:{channel_ids:e}})];case 2:t=s.sent();l.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_SUCCESS",requestedChannelIds:e,supplementalData:t.body});return[3,5];case 3:s.sent();l.Z.dispatch({type:"LOAD_MESSAGE_REQUESTS_SUPPLEMENTAL_DATA_ERROR",requestedChannelIds:e});return[3,5];case 4:n=!0,r=!1,o=void 0;try{for(i=e[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){c=u.value;y.delete(c)}}catch(e){r=!0;o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return[7];case 5:return[2]}}))}))).apply(this,arguments)}},132167:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(202351),o=n(841800),i=n(804185);function a(){var e=(0,r.e7)([i.ZP],(function(){return i.ZP.getSidebarState(i.uZ)})),t=(null==e?void 0:e.type)===o.t.VIEW_MESSAGE_REQUEST?e:null;return{channelId:null==t?void 0:t.channelId,
hasSingleMessageRequest:null!=(null==t?void 0:t.details)&&t.details.type===o.F.MESSAGE_REQUEST&&t.details.hasSingleMessageRequest}}},544488:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});var r=n(202351),o=n(996344);function i(){return(0,r.e7)([o.Z],(function(){return o.Z.getMessageRequestsCount()}))}},986923:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(945460)),i=n(761953),a=n(424871),l=n(761465),u=n(473708);function c(e){var t=e.channel,n=e.buttonSize,c=void 0===n?o.ButtonSizes.TINY:n,s=e.className,f=e.onReportClick,d=e.onReportSubmit,p=e.onMouseEnter,h=e.onMouseLeave,y=(0,l.a)(t),b=y.message,m=y.error,v=y.loaded;if(null==b&&(v||m))return null;var g=function(){null==d||d();i.Z.closePrivateChannel(t.id)};return(0,r.jsx)(o.Button,{className:s,size:c,color:o.Button.Colors.RED,disabled:null==b,onClick:function(e){e.stopPropagation();null==f||f();null!=b&&(0,a.WL)(b,g)},onMouseEnter:p,onMouseLeave:h,children:u.Z.Messages.REPORT})}},944928:(e,t,n)=>{"use strict";n.d(t,{
g:()=>g});var r=n(120053),o=n.n(r),i=n(156824),a=n(336334),l=n(396043),u=n(489617),c=n(163082),s=n(330768),f=n(968449),d=n(352980),p=n(2590);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=/\\([*?+/])/g,m={tts:{action:function(){return{tts:f.OW.getSetting()}}},me:{action:function(e){return{content:"_".concat(e,"_")}}},tableflip:{action:function(e){return{content:"".concat(e," (╯°□°)╯︵ ┻━┻").trim()}}},unflip:{action:function(e){return{content:"".concat(e," ┬─┬ノ( º _ ºノ)").trim()}}},shrug:{action:function(e){return{content:"".concat(e," ¯\\_(ツ)_/¯").trim()}}},nick:{action:function(e,t){var n=t.channel;if(null!=n.guild_id){i.Z.changeNickname(n.guild_id,n.id,p.ME,e);return{content:""}}}},reaction:{match:o().anyScopeRegex(/^\+:(.+?): *$/),action:function(e,t){var n=t.isEdit,r=t.channel;if(!n&&d.Z.hasPresent(r.id)){var o=d.Z.getMessages(r.id).last();if(null!=o&&null!=o.id){var i=u.Z.getDisambiguatedEmojiContext(r.guild_id).getByName(e.trim().slice(2,-1));if(null!=i){(0,c.rU)(r.id,o.id,(0,s.g1)(i));return{
content:""}}}}}},searchReplace:{match:o().anyScopeRegex(/^s\/((?:.+?)[^\\]|.)\/(.*)/),action:function(e,t){var n=t.isEdit,r=t.channel;if(!n){var o,i=d.Z.getLastEditableMessage(r.id);if(null==i||null==i.id)return{content:""};var l=y(Array.from(null!==(o=e.match(this.match.regex))&&void 0!==o?o:[]),3),u=l[1],c=l[2];u=u.replace(b,(function(e,t){return t}));c=c.replace(b,(function(e,t){return t}));var s=i.content.replace(u,c);null!=s&&""!==s||0!==i.attachments.length?e!==i.content&&a.Z.editMessage(r.id,i.id,{content:s}):a.Z.deleteMessage(r.id,i.id);return{content:""}}}},spoiler:{action:function(e){return{content:(0,p.XmY)(e).trim()}}}};Object.setPrototypeOf(m,null);function v(e,t,n,r){l.ZP.trackWithMetadata(p.rMx.SLASH_COMMAND_USED,{command:e});return t.action(n,r)}function g(e,t){for(var n in m){var r=m[n];if(null==r.match){if(f.dN.getSetting()&&"/"===e[0]){var o=e.split(" ");if(n===o[0].slice(1)&&null!=r.action)return v(n,r,o.slice(1).join(" "),t)}}else{var i
;if(null===(i=r.match.regex)||void 0===i?void 0:i.test(e))return v(n,r,e,t)}}}},896656:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,p:()=>o});var r="chat-messages";function o(e,t){return"".concat(r,"-").concat(e,"-").concat(t)}},771344:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(202351),o=n(352980);function i(e,t){return(0,r.e7)([o.Z],(function(){var n=o.Z.getMessages(e),r=n.findOldest((function(e){return e.author.id===t}));if(null!=r){var i=n.toArray(),a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=c.value;if(f.author.id!==t)break;f.content.length>(null==r?void 0:r.content.length)&&(r=f)}}catch(e){l=!0;u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}return r}}),[e,t])}},715919:(e,t,n)=>{"use strict";n.d(t,{$:()=>u});var r=n(202351),o=n(996344),i=n(352980),a=n(840922),l=n(2590);function u(e){var t=e.isDM()&&!e.isSystemDM()&&!e.rawRecipients.some((function(e){return e.bot})),n=t?e.getRecipientId():null;return(0,
r.e7)([i.Z,o.Z,a.Z],(function(){if(!t)return!1;if(o.Z.isMessageRequest(e.id))return!1;if(null!=n&&a.Z.getRelationshipType(n)===l.OGo.BLOCKED)return!1;var r=i.Z.getMessages(e.id);return r.ready&&!r.hasMoreBefore&&!r.hasMoreAfter&&r.length<25&&!i.Z.hasCurrentUserSentMessage(e.id)}),[e.id,n,t])}},219369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(4361),u=n(508754),c=n(283285),s=n(323725),f=n(545516),d=n(13489),p=n.n(d);function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e){var t,n,o=e.message,i=e.channel,d=e.compact,m=e.className,v=e.isGroupStart,g=e.hideSimpleEmbedContent,O=void 0===g||g,E=e.disableInteraction,C=(0,l.dj)(o.id),S=(0,l.tu)(null!==(t=null==i?void 0:i.guild_id)&&void 0!==t?t:"",o.id),j=(0,c.Z)(o,{hideSimpleEmbedContent:O,allowList:C.showListsAndHeaders||S.showListsAndHeaders,allowHeading:C.showListsAndHeaders||S.showListsAndHeaders,allowLinks:C.showMaskedLinks||S.showMaskedLinks,previewLinkTarget:C.showMaskedLinks||S.showMaskedLinks}).content;return(0,r.jsx)(u.Z,{compact:d,className:a()(m,(n={},
h(n,p().message,!0),h(n,p().cozyMessage,!d),h(n,p().groupStart,v),n)),childrenHeader:(0,f.Z)(b(y({},e),{channel:i,guildId:void 0})),childrenMessageContent:(0,s.Z)(e,j),disableInteraction:E})}const v=o.memo(m)},627027:(e,t,n)=>{"use strict";n.d(t,{Rr:()=>p,aJ:()=>h,ZP:()=>y});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(941498),u=n(2590),c=n(296133),s=n.n(c);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){return{width:a().random(140,400),height:a().random(100,320)}}function h(e){var t=e.compact,n=e.messageGroups,r=e.groupRange,o=e.attachments,i=e.fontSize,c=e.groupSpacing;if(o>n)throw new Error("generateMessageSpecs: too many attachments relative to messageGroups: ".concat(n,", ").concat(o));for(var s=i/u.yqN.FONT_SIZE_DEFAULT,f=t?l.iv:l.pk,d=t?l.Pb:l.XX,h=0,y=new Array(n).fill(null).map((function(){var e=a().random(1,r);h+=c*s;h+=f*s;h+=(e-1)*d*s;return e})),b=y.map((function(e,t){return t})),m=[];m.length<o;){var v=p();m.push([b.splice(a().random(0,b.length-1),1)[0],v]);h+=v.height+l.M9*s}return{messages:y,
attachmentSpecs:m,totalHeight:h,groupSpacing:c}}function y(e){var t=e.compact,n=e.messages,i=e.attachmentSpecs,a=e.totalHeight,u=e.groupSpacing;return o.useMemo((function(){var e=new Array(n.length).fill(void 0),o=!0,c=!1,f=void 0;try{for(var p,h=i[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var y=d(p.value,2),b=y[0],m=y[1];e[b]=m}}catch(e){c=!0;f=e}finally{try{o||null==h.return||h.return()}finally{if(c)throw f}}return(0,r.jsx)("div",{className:s().wrapper,style:{height:a},children:n.map((function(n,o){return(0,r.jsx)(l.ZP,{groupSpacing:u,compact:t,messages:n,attachmentSpecs:e[o]},o)}))})}),[t,n,i,a,u])}},584994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>mu});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(457217),u=n(202351),c=n(945460),s=n(336334),f=n(151650),d=n(316878),p=n(439683),h=n(983088)
;var y=n(385983),b=n(861426),m=n(364269),v=n(79308),g=n(968449),O=n(736818),E=n(481056),C=n(746477),S=n(352980),j=n(682776),_=n(717091),I=n(107403),w=n(473903),P=n(507488),x=n(194212),A=n(916286),T=n(549995),N=n.n(T),M=n(141780),Z=n(70145),L=n(102921),R=n(249132),D=n(349658),k=n(493254),U=n(2590);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){var t,n,r,o=e.channel,i=e.messages,a=e.highlightedMessageIds,l=e.oldestUnreadMessageId,u=e.treatSpam,c=e.summaries,s=e.selectedSummary,f=[],d=N()(a),p=!1,h=0,b=null!=l?L.Z.extractTimestamp(l):null,m=null;i.forEach((function(e){if(null!=c&&c.length>0)for(var a,y=L.Z.extractTimestamp(e.id),v=0;null!==(a=v<(null==c?void 0:c.length))&&void 0!==a&&a;v++)if(null!=c[v]){var g=L.Z.extractTimestamp(c[v].startId),O=L.Z.extractTimestamp(c[v].endId);if(y>=g&&y<=O){if(m===c[v].id)break;f.push({type:U.ys_.DIVIDER,content:c[v].topic,contentKey:c[v].id});m=c[v].id;break}}var E=(0,Z.vc)(e.timestamp,"LL");if(E!==t&&null==m){f.push({type:U.ys_.DIVIDER,content:E,contentKey:E});t=E}
var C=f[f.length-1],S=null,j=(0,D.DQ)(e);p=p||j;var _=function(e,t,n){return M.V.NON_COLLAPSIBLE.has(t.type)?null:t.blocked?U.ys_.MESSAGE_GROUP_BLOCKED:(0,D.P1)(e)&&n?U.ys_.MESSAGE_GROUP_SPAMMER:null}(o,e,j&&u);if(null!==_){var I;I=F(function(e,t,n,r){var o,i=r;if(null==r||r.type!==n){o={type:n,content:[],key:t.id,isHighlight:!1};e.push(o)}else i=(o=r).content[o.content.length-1];return[o,i]}(f,e,_,C),2),S=I[0],C=I[1]}if(l===e.id&&null!=b)if(null!=C&&C.type===U.ys_.DIVIDER){C.unreadId=e.id;b=null}else if(null!==S){!function(e,t,n){n.isFirstMessageInForumPost(t)||e.content.push({type:U.ys_.DIVIDER,unreadId:n.id});e.hasUnread=!0}(S,o,e);b=null}else{e.isFirstMessageInForumPost(o)||f.push({type:U.ys_.DIVIDER,unreadId:e.id});b=null}else if(null!=b&&L.Z.extractTimestamp(e.id)>b){e.isFirstMessageInForumPost(o)||f.push({type:U.ys_.DIVIDER,unreadId:e.id});b=null}var w=(null==C?void 0:C.type)===U.ys_.MESSAGE?r:C;(0,R.J)(o,w,e)&&(n=e.id);var P={
type:e.type===U.uaV.THREAD_STARTER_MESSAGE?U.ys_.THREAD_STARTER_MESSAGE:U.ys_.MESSAGE,content:e,groupId:n,isHighlight:null!=d[e.id]||n!==e.id&&(null==r?void 0:r.isHighlight)};if(n===e.id){r=P;h=f.length}var x=i.jumpSequenceId,A=i.jumpFlash,T=i.jumpTargetId;A&&e.id===T&&null!=x&&(P.flashKey=x);i.jumpTargetId===e.id&&(P.jumpTarget=!0);null!=s&&e.id===s.startId&&s.count>1&&f.push({type:U.ys_.DIVIDER,content:s.topic,contentKey:s.startId,isSummaryDivider:!0});if(null!==S){S.content.push(P);P.jumpTarget&&(S.hasJumpTarget=!0)}else{if(P.isHighlight){r.isHighlight=!0;for(var N=f.length-1;N>h;N--){var B=f[N];(0,k.Yh)(B)&&(B.isHighlight=!0)}}f.push(P)}e.isFirstMessageInForumPost(o)&&f.push({type:U.ys_.FORUM_POST_ACTION_BAR});null!=s&&e.id===s.endId&&s.count>1&&f.push({type:U.ys_.DIVIDER,contentKey:s.endId,isSummaryDivider:!0})}));p&&(0,D.P1)(o)&&y.Z.trackExposure({});return f}var H=n(627027),V=n(798159),W=n(930948),z=n(896656);function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var K=n(496486),q=n.n(K),X=n(809784),Q=n(216151),J=n(496916),$=n(26468),ee=n(784426),te=n(60744),ne=n(953727),re=n(441143),oe=n.n(re),ie=n(4361),ae=n(696978),le=n(438355),ue=n(883650),ce=n(837162),se=n(798808),fe=n(490355),de=n(61209),pe=n(508754),he=n(473291),ye=n(661123),be=n(791707),me=n(550131),ve=n(248088);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){var t=e.children,n=e.className,i=e.flashKey,a=(0,c.useToken)(c.tokens.colors.BACKGROUND_MESSAGE_HIGHLIGHT).spring({opacity:1}),l=(0,c.useToken)(c.tokens.colors.BACKGROUND_MESSAGE_HIGHLIGHT).spring({opacity:0}),u=Oe((0,ve.useSpring)((function(){return{immediate:!0,from:{backgroundColor:a}}})),2),s=u[0],f=u[1];o.useEffect((function(){f({reset:!0,immediate:!0,
to:{backgroundColor:a}});f({delay:1e3,immediate:!1,to:{backgroundColor:l}})}),[i,f]);return(0,r.jsx)(ve.animated.div,{style:s,className:n,children:t})}var Ce=n(834876),Se=n(855395),je=n(944522),_e=n(861951),Ie=n(225386),we=n(367406),Pe=n(21372),xe=n(691797),Ae=n(635012),Te=n(728521),Ne=n(272112);function Me(e){return j.Z.can(U.Plq.MANAGE_MESSAGES,e)}const Ze=function(e,t,n){var r=o.useRef(n);r.current=n;return o.useCallback((function(n){if(r.current&&n.target===n.currentTarget){var o=!(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey),i=n.altKey&&!(n.ctrlKey||n.metaKey||n.shiftKey),a=n.metaKey&&!(n.altKey||n.ctrlKey||n.shiftKey),l=n.shiftKey&&!(n.altKey||n.ctrlKey||n.metaKey),u=S.Z.getMessage(t,e),c=de.Z.getChannel(t);if(null!=u&&null!=c){var f=O.default.getId(),d=u.author.id===f;switch(n.key.toLowerCase()){case"backspace":if(o&&(Me(c)||d)){n.preventDefault();(0,Ne.$Z)(c,u,n)}break;case"c":if(a&&xe.wS){n.preventDefault();(0,xe.JG)(u.content)}break;case"e":if(o&&function(e,t,n){
return!t.isSystemDM()&&(0,Ae.Z)(n,e)}(f,c,u)){n.preventDefault();(0,Ne.Hd)(c,u)}break;case"p":if((o||l)&&function(e,t){return!e.isSystemDM()&&!(0,be.Z)(t)&&(Me(e)||e.isPrivate())}(c,u)){n.preventDefault();(0,Ne.rY)(c,u,n)}break;case"+":if((o||l)&&function(e){var t=null==e.guild_id||C.Z.canChatInGuild(e.guild_id),n=g.nc.getSetting();return!(0,Te.Z)({channel:e,canChat:t,renderReactions:n,canAddNewReactions:t&&j.Z.can(U.Plq.ADD_REACTIONS,e),isLurking:null!=e.guild_id&&je.Z.isLurking(e.guild_id),isGuest:null!=e.guild_id&&Pe.ZP.isCurrentUserGuest(e.guild_id),isActiveChannelOrUnarchivableThread:(0,Ie.RG)(e)}).disableReactionCreates&&n}(c)){n.preventDefault();W.S.dispatchKeyed(U.LPv.TOGGLE_REACTION_POPOUT,u.id,{emojiPicker:!0})}break;case"r":if(o&&(0,_e.Z6)(c,u,j.Z)){n.preventDefault();(0,Ne.HH)(c,u,n)}break;case"t":if(o&&(0,Ie.ki)(c,u)){n.preventDefault();(0,we.R6)(c,u,"Message Shortcut")}else if(u.hasFlag(U.iLy.HAS_THREAD)){var p=de.Z.getChannel(u.id);if(null!=p&&(o||l)){n.preventDefault()
;(0,we.ok)(p,l)}}break;case"enter":if(i){n.preventDefault();(0,Ne.B8)(c,u)}break;case"escape":E.Z.isEditing(c.id,u.id)?s.Z.endEditMessage(c.id):W.S.dispatch(U.CkL.TEXTAREA_FOCUS)}}}}),[e,t])};var Le=n(96812),Re=n(283285),De=n(277600),ke=n(506907),Ue=n.n(ke),Be=n(744564);var Fe=n(202469),Ge=n(348592),He=n(354788),Ve=n(723876),We=n(42028),ze=n(473708),Ye=n(61092),Ke=n.n(Ye),qe=n(913198),Xe=n.n(qe),Qe=n(468482),Je=n.n(Qe);function $e(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var et=o.memo((function(e){var t=e.message,n=e.notice,o=e.compact,i=void 0!==o&&o,l=e.onDismiss;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(Ke().blockedNoticeContainer,$e({},Ke().compact,i)),children:[(0,r.jsx)("div",{className:Ke().blockedNoticeIcon,children:(0,r.jsx)(Fe.Z,{className:Ke().shieldIcon,width:16,height:16})}),(0,r.jsx)("div",{className:Ke().blockedNotice,children:(0,r.jsx)(c.Text,{variant:"text-sm/normal",
color:"interactive-normal",children:n})})]}),(0,r.jsx)("div",{className:a()(Ke().ephemeralAccessories,$e({},Ke().compact,i)),children:(0,r.jsx)(He.Z,{message:t,onDeleteMessage:l,children:(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:"interactive-normal",tag:"span",className:Ke().learnMore,children:ze.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_LEARN_MORE.format({helpUrl:Ge.Z.getArticleURL(U.BhN.GUILD_AUTOMOD_BLOCKED_MESSAGE)})})})})]})}));function tt(e){var t,n,i,l=e.className,c=e.compact,f=e.message,d=e.children,p=e.content,h=e.onUpdate,y=null===(t=f.editedTimestamp)||void 0===t?void 0:t.toString(),b=o.useRef(!1),m=(0,u.e7)([ue.Z],(function(){return ue.Z.getMessage(f.id)}),[f.id]),v=o.useCallback((function(){(null==m?void 0:m.isBlockedEdit)?(e=f.id,Be.Z.dispatch({type:"REMOVE_AUTOMOD_MESSAGE_NOTICE",messageId:e})):s.Z.deleteMessage(f.channel_id,f.id,!0);var e}),[f,m]);o.useLayoutEffect((function(){b.current?null!=h&&h():b.current=!0}),[h,f.content,p,y,d]);return(0,r.jsxs)("div",{
id:(0,Ce.ut)(f),className:a()(l,Xe().markup,(i={},$e(i,Je().messageContent,!0),$e(i,Je().markupRtl,"rtl"===Ue()(f.content)),$e(i,Ke().blockedEdit,null==m?void 0:m.isBlockedEdit),$e(i,Ke().blockedSend,!(null==m?void 0:m.isBlockedEdit)),i)),children:[null!=d?d:(0,Ve.L5)(f,p),(null==m?void 0:m.isBlockedEdit)&&null!=f.timestamp&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(We.Z,{timestamp:f.timestamp,isEdited:!0,isInline:!1,children:(0,r.jsxs)("span",{className:Je().edited,children:["(",ze.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_EDIT_POSTFIX,")"]})})]}),(0,r.jsx)(et,{notice:null!==(n=null==m?void 0:m.errorMessage)&&void 0!==n?n:ze.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE,message:f,compact:c,onDismiss:v})]})}const nt=o.memo(tt,Ve.HR)
;var rt=n(23279),ot=n.n(rt),it=n(418705),at=n(516217),lt=n(552480),ut=n(795470),ct=n(131461),st=n(166076),ft=n(229633),dt=n(489981),pt=n(163082),ht=n(330768),yt=n(967825),bt=n(567403),mt=n(658728),vt=n(431089),gt=n(763933),Ot=n(9506),Et=n(386991),Ct=n(963881),St=n(475825),jt=n(777203),_t=n(264542),It=n(178742),wt=n(186440),Pt=n(472034),xt=n(715173),At=n(156146),Tt=n(256827),Nt=n(890592),Mt=n(600143),Zt=n(383141),Lt=n(813749),Rt=n(668159),Dt=n(652591),kt=n(254082),Ut=n(841150),Bt=n(618738),Ft=n(289283),Gt=n(627342),Ht=n(114689),Vt=n(856450),Wt=n(263725),zt=n(850841),Yt=n(97011),Kt=n(833589),qt=n(349191),Xt=n.n(qt);function Qt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qt(e,t,n[t])}))}return e}function $t(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function en(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function tn(e){
var t,n=e.channel,o=e.message,i=e.togglePopout,a=e.renderEmojiPicker,l=e.shouldShow,s=e.isFocused,f=e.type,d=void 0===f?Ut.O.NORMAL:f,p=(0,at.Qd)(null!==(t=n.getGuildId())&&void 0!==t?t:"",!1).hasTwoButtonEntryPoint,h=(0,u.e7)([Kt.Z],(function(){return Kt.Z.remainingBurstCurrency})),y=(0,u.e7)([w.default],(function(){return w.default.getCurrentUser()})),b=(0,zt.I5)(y),m=d===Ut.O.BURST,v=!p||m;return(0,r.jsx)(Gt.Z,{contentTypes:[],children:function(e){var t=e.visibleContent,u=ze.Z.Messages.ADD_REACTION;m&&(u=b?ze.Z.Messages.ADD_BURST_REACTION:(0,r.jsx)(Ht.X,{tooltipText:ze.Z.Messages.ADD_BURST_REACTION}));var f,d=c.TooltipColors.PRIMARY;if(t===it.z$.BURST_REACTION_BUTTON_SPARKLE)f=!!s&&v;return(0,r.jsx)(c.Popout,{renderPopout:function(e){var t=e.closePopout;return a(n,o,t,m)},shouldShow:l,onRequestClose:i,position:Ft.tq?"top":"left",align:Ft.tq?"center":"top",children:function(e,t){e.onClick;var n=en(e,["onClick"]),o=t.isShown;return(0,r.jsx)(c.Tooltip,{disableTooltipPointerEvents:!1,
text:u,color:d,"aria-label":ze.Z.Messages.ADD_BURST_REACTION_A11Y.format({n:h}),hideOnClick:!0,tooltipClassName:Xt().tooltip,children:function(e){var t=e.onMouseEnter,a=e.onMouseLeave,l=e.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Rt.zx,$t(Jt({onMouseEnter:t,onMouseLeave:a,onClick:function(){i();(0,Yt.r5)(m);null==l||l()},"aria-label":m?ze.Z.Messages.ADD_BURST_REACTION:ze.Z.Messages.ADD_REACTION,selected:o},n),{children:[m?(0,r.jsx)(Wt.Z,{className:Xt().icon}):(0,r.jsx)(Vt.Z,{className:Xt().icon}),f&&(0,r.jsx)(mt.Z,{})]}))})}},m?"add-burst-reaction":"add-reaction")}})}})}var nn=n(301934),rn=n(343557),on=n(749106),an=n(792712),ln=n.n(an);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){cn(e,t,n[t])}))}return e}function fn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function dn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e){e.stopPropagation()}
function yn(){var e=[ze.Z.Messages.CLYDE_USER_RATING_THANKS_1,ze.Z.Messages.CLYDE_USER_RATING_THANKS_2,ze.Z.Messages.CLYDE_USER_RATING_THANKS_3,ze.Z.Messages.CLYDE_USER_RATING_THANKS_4,ze.Z.Messages.CLYDE_USER_RATING_THANKS_5,ze.Z.Messages.CLYDE_USER_RATING_THANKS_6,ze.Z.Messages.CLYDE_USER_RATING_THANKS_7,ze.Z.Messages.CLYDE_USER_RATING_THANKS_8,ze.Z.Messages.CLYDE_USER_RATING_THANKS_9,ze.Z.Messages.CLYDE_USER_RATING_THANKS_10];return e[Math.floor(Math.random()*e.length)]}function bn(e){var t=e.message,n=e.channel,r=e.canReport,o=e.onClose,i=e.updatePosition;return(0,nn.useMessageMenu)({message:t,channel:n,textSelection:"",favoriteableType:null,favoriteableId:null,favoriteableName:null,itemHref:void 0,itemSrc:void 0,itemTextContent:void 0,canReport:r,onHeightUpdate:i,onClose:o,navId:"message-actions",ariaLabel:ze.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL})}function mn(e){
var t=e.label,n=e.ariaLabel,o=e.tooltipText,i=e.tooltipColor,a=e.icon,l=e.iconProps,u=e.channel,s=e.message,f=e.onClick,d=e.key,p=e.disabled,h=e.dangerous,y=e.separator,b=e.sparkle,m=dn(e,["label","ariaLabel","tooltipText","tooltipColor","icon","iconProps","channel","message","onClick","key","disabled","dangerous","separator","sparkle"]);return(0,r.jsx)(c.Tooltip,{text:null!=o?o:t,color:null!=i?i:c.TooltipColors.PRIMARY,"aria-label":t,hideOnClick:!0,tooltipClassName:ln().tooltip,children:function(e){var o=e.onMouseEnter,i=e.onMouseLeave,c=e.onClick;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Rt.zx,fn(sn({onMouseEnter:o,onMouseLeave:i,onClick:function(e){null==c||c();f(u,s,e)},"aria-label":null!=n?n:t,disabled:p,dangerous:h},m),{children:[(0,r.jsx)(a,sn({className:ln().icon},l)),y?(0,r.jsx)(Rt.Z0,{}):null,b&&(0,r.jsx)(mt.Z,{})]}))})}},d)}function vn(e){var t=function(e){
var t=e.channel,n=e.message,r=e.showEmojiPicker,o=e.showEmojiBurstPicker,i=e.showMoreUtilities,a=e.setPopout,l=e.showClydeAiEmbeds,c=e.setShowClydeAiEmbeds,s=e.isFocused,f=n.author,p=(0,u.e7)([bt.Z],(function(){return bt.Z.getGuild(t.guild_id)}),[t.guild_id]),h=(0,u.e7)([O.default],(function(){return O.default.getId()})),y=(0,ct.Z)(lt.t),b=(0,Ie.$R)(t),m=(0,Ie.Gu)(t),v=g.nc.useSetting(),E=g.Sb.useSetting(),S=(0,u.e7)([C.Z],(function(){return null==t.guild_id||C.Z.canChatInGuild(t.guild_id)}),[t]),_=(0,u.cj)([j.Z],(function(){return{canAddNewReactions:S&&j.Z.can(U.Plq.ADD_REACTIONS,t),canManageMessages:j.Z.can(U.Plq.MANAGE_MESSAGES,t)}}),[t,S]),I=_.canManageMessages,w=_.canAddNewReactions,P=(0,_e.Ui)(t,n),x=(0,Ie.NE)(t,n),A=(0,Ie.Ek)(n),T=(0,u.e7)([je.Z],(function(){return null!=t.guild_id&&je.Z.isLurking(t.guild_id)}),[t]),N=(0,u.e7)([Pe.ZP],(function(){return null!=t.guild_id&&Pe.ZP.isCurrentUserGuest(t.guild_id)}),[t]),M=f.id===h,Z=(I||M)&&b&&n.type in U.HfH
;n.type===U.uaV.AUTO_MODERATION_ACTION&&(Z=Z&&I);var L=(0,kt.a4)(n)&&null!=y&&y===on.N.TREATMENT_1,R=(0,Bt.Z)(n,t,I),D=!t.isSystemDM()&&(0,Ae.Z)(n,h)&&b&&!m,k=(0,Te.Z)({channel:t,canChat:S,renderReactions:v,canAddNewReactions:w,isLurking:T,isGuest:N,isActiveChannelOrUnarchivableThread:b}).disableReactionCreates,B=t.type===U.d4z.GUILD_ANNOUNCEMENT&&null!=p&&p.hasFeature(U.oNc.NEWS)&&(M||I)&&n.type===U.uaV.DEFAULT,F=t.getGuildId(),G=null!=F&&(n.type===U.uaV.USER_JOIN||n.type===U.uaV.GUILD_INVITE_REMINDER)&&j.Z.canWithPartialContext(U.Plq.MANAGE_GUILD,{guildId:F}),H=ft.Z.useExperiment({},{autoTrackExposure:!1}).showReminders,V=(0,u.e7)([dt.Z],(function(){return null!=dt.Z.getMessageReminders().find((function(e){return e.messageId===n.id}))})),W=(0,rn.Z)(),z=(0,u.e7)([d.Z],(function(){return d.Z.keyboardModeEnabled})),Y=W&&!z&&!r&&!o&&!i;return{channel:t,message:n,canPin:R,canEdit:D,canDelete:Z,canReport:L,canReply:P,canStartThread:x,canViewThread:A,canCopy:xe.wS,hasDeveloperMode:E,
canReact:!k&&v,hasReactions:n.reactions.length>0,canPublish:B,canConfigureJoin:G,isExpanded:Y,showEmojiPicker:r,showEmojiBurstPicker:o,showMoreUtilities:i,showMessageRemindersActions:H,isMessageReminder:V,setPopout:a,showClydeAiEmbeds:l,setShowClydeAiEmbeds:c,isFocused:s,isGuildInviteReminder:n.type===U.uaV.GUILD_INVITE_REMINDER}}(e),n=t.channel,i=t.message,a=t.canCopy,l=t.canPin,s=t.canDelete,f=t.canReport,p=t.canEdit,h=t.canPublish,y=t.hasReactions,b=t.canReact,m=t.canConfigureJoin,v=t.canReply,E=t.canStartThread,S=t.canViewThread,_=t.isExpanded,I=t.showMoreUtilities,w=t.showEmojiPicker,P=t.showEmojiBurstPicker,x=t.showMessageRemindersActions,A=t.isMessageReminder,T=t.setPopout,N=t.showClydeAiEmbeds,M=t.setShowClydeAiEmbeds,Z=t.hasDeveloperMode,L=t.isGuildInviteReminder,R=t.isFocused,D=pn(o.useState(!1),2),k=D[0],B=D[1],F=pn(o.useState(!1),2),G=F[0],H=F[1],V=o.useCallback((function(){I||Dt.default.track(U.rMx.MESSAGE_POPOUT_MENU_OPENED_DESKTOP,{message_id:i.id,channel:i.channel_id})
;T({moreUtilities:!I})}),[I,T,i]),W=o.useCallback((function(){T({emojiPicker:!w})}),[w,T]),z=o.useCallback((function(){T({emojiBurstPicker:!P})}),[P,T]),Y=(0,at.Qd)(n.getGuildId()),K=Y.enabled,q=Y.hasTwoButtonEntryPoint,X=K&&q,Q=(0,Ie.$R)(n),J=i.hasFlag(U.iLy.CROSSPOSTED);K&&!q&&[].push(it.z$.BURST_REACTION_BUTTON_SPARKLE);return(0,r.jsxs)(r.Fragment,{children:[_?(0,r.jsxs)(r.Fragment,{children:[a&&Z?mn({key:"copy-id",channel:n,message:i,label:ze.Z.Messages.COPY_ID_MESSAGE,icon:gt.Z,onClick:Ne.F4}):null,a&&!L?mn({key:"copy-link",channel:n,message:i,label:ze.Z.Messages.COPY_LINK,icon:Ct.Z,onClick:Ne.fB}):null,m?mn({key:"configure",channel:n,message:i,label:ze.Z.Messages.CONFIGURE,icon:Ot.Z,onClick:Ne.zW}):null,x?mn({key:"mark-reminder",channel:n,message:i,label:A?ze.Z.Messages.MESSAGE_REMINDERS_MARK_AS_DONE:ze.Z.Messages.MESSAGE_REMINDERS_MARK_AS_TODO,icon:A?vt.Z:It.Z,onClick:A?Ne.l9:Ne.W1}):null,Q?mn({key:"mark-unread",channel:n,message:i,label:ze.Z.Messages.MARK_UNREAD,icon:St.Z,
onClick:Ne.B8}):null,l?mn({key:"pin",channel:n,message:i,label:i.pinned?ze.Z.Messages.UNPIN_MESSAGE:ze.Z.Messages.PIN_MESSAGE,icon:xt.Z,onClick:Ne.rY}):null,v&&p?mn({key:"reply-self",channel:n,message:i,label:ze.Z.Messages.MESSAGE_ACTION_REPLY,icon:At.Z,onClick:Ne.HH}):null,y?mn({key:"reactions",channel:n,message:i,label:ze.Z.Messages.VIEW_REACTIONS,icon:_t.Z,onClick:function(e,t){return(0,Ne.op)(e,t)}}):null]}):null,(0,he.cS)(i)?mn({key:"clyde-view-source",channel:n,message:i,label:N?ze.Z.Messages.CLYDE_VIEW_SOURCE_HIDE_TOOLTIP:ze.Z.Messages.CLYDE_VIEW_SOURCE_SHOW_TOOLTIP,icon:Et.Z,onClick:function(){M(!N);Dt.default.track(U.rMx.CLYDE_AI_THOUGHTS_VIEWED,{message_id:i.id})}}):null,i.author.isClyde()?mn({key:"clyde-good",channel:n,message:i,label:ze.Z.Messages.CLYDE_USER_RATING_TOOLTIP_GOOD,icon:Zt.Z,iconProps:{color:k?(0,ut.Lq)(U.Ilk.GREEN_360):void 0},onClick:function(){var e=!k;B(e);H(!1);Dt.default.track(U.rMx.CLYDE_AI_MESSAGE_RATED,{message_id:i.id,rating:e?1:0});e&&(0,
c.showToast)((0,c.createToast)(yn(),c.ToastType.SUCCESS))}}):null,i.author.isClyde()?mn({key:"clyde-bad",channel:n,message:i,label:ze.Z.Messages.CLYDE_USER_RATING_TOOLTIP_BAD,icon:Mt.Z,iconProps:{color:G?(0,ut.Lq)(U.Ilk.RED_360):void 0},onClick:function(){var e=!G;H(e);B(!1);Dt.default.track(U.rMx.CLYDE_AI_MESSAGE_RATED,{message_id:i.id,rating:e?-1:0});e&&(0,c.showToast)((0,c.createToast)(yn(),c.ToastType.SUCCESS))}}):null,b&&!L?(0,r.jsx)(tn,{channel:n,message:i,togglePopout:W,renderEmojiPicker:En,shouldShow:w,isFocused:R}):null,b&&!L&&X?(0,r.jsx)(tn,{channel:n,message:i,togglePopout:z,renderEmojiPicker:En,shouldShow:P,isFocused:R,type:Ut.O.BURST}):null,v&&!p?mn({key:"reply-other",channel:n,message:i,label:ze.Z.Messages.MESSAGE_ACTION_REPLY,icon:At.Z,onClick:Ne.HH}):null,p?mn({key:"edit",channel:n,message:i,label:ze.Z.Messages.EDIT,icon:Pt.Z,onClick:Ne.Hd}):null,E?mn({key:"thread",channel:n,message:i,label:ze.Z.Messages.CREATE_THREAD,icon:Nt.Z,onClick:Ne.gK}):null,!E&&S?mn({
key:"view-thread",channel:n,message:i,label:ze.Z.Messages.VIEW_THREAD,icon:Nt.Z,onClick:Ne.qe}):null,h?mn({key:"publish",channel:n,message:i,label:J?ze.Z.Messages.NEWS_CHANNEL_PUBLISHED:ze.Z.Messages.NEWS_CHANNEL_PUBLISH,icon:jt.Z,onClick:Ne.Xl,disabled:J,separator:!0}):null,s&&(L||_)?mn({key:"delete",channel:n,message:i,label:ze.Z.Messages.DELETE,icon:Lt.Z,onClick:Ne.$Z,dangerous:!0,separator:!_}):null,_&&s?null:(0,r.jsx)(c.Popout,{renderPopout:function(e){var t=e.updatePosition,o=e.closePopout;return(0,r.jsx)(bn,{channel:n,message:i,canReport:f,onClose:o,updatePosition:t})},shouldShow:I,onRequestClose:V,position:"left",align:"top",animation:c.Popout.Animation.NONE,children:function(e,t){e.onClick;var r=dn(e,["onClick"]),o=t.isShown;return mn(sn({key:"more",label:ze.Z.Messages.MORE,icon:wt.Z,channel:n,message:i,selected:o,onClick:V},r))}})]})}function gn(e){var t=e.channel,n=e.message,o=(0,u.e7)([ue.Z],(function(){return null!=ue.Z.getMessage(n.id)
}),[n.id]),i=null==n.interaction||null!=n.interactionData&&(0,st.$s)(n.interactionData),a=!o&&i;return(0,r.jsxs)(r.Fragment,{children:[a&&mn({key:"retry",label:ze.Z.Messages.RETRY,icon:Tt.Z,channel:t,message:n,onClick:Ne.mG}),mn({key:"delete-usent",label:ze.Z.Messages.DELETE,icon:Lt.Z,channel:t,message:n,onClick:Ne.$Z})]})}function On(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null!=e&&(0,pt.rU)(t.id,n.id,(0,ht.g1)(e),void 0,{burst:r})}function En(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=sn({openPopoutType:"message_reaction_emoji_picker"},o&&{openPopoutType:"message_super_reaction_emoji_picker",page:null!=e.getGuildId()?U.ZY5.GUILD_CHANNEL:U.ZY5.DM_CHANNEL,section:(0,ht.s4)(e),object:U.qAy.EMOJI_REACTION_PICKER_POPOUT});return(0,r.jsx)(yt.$,{channel:e,closePopout:n,onSelectEmoji:function(r,o,i){On(r,e,t,i);o&&(i?ot()(n,150)():n())},analyticsOverride:i,isBurstReaction:o,messageId:t.id})}const Cn=o.memo((function(e){
var t,n=e.channel,o=e.message,i=e.isHeader,l=(0,u.e7)([E.Z],(function(){return E.Z.isEditing(n.id,o.id)}),[n.id,o.id]),c=function(e){var t=e.channel,n=e.message;return n.state===U.yb.SEND_FAILED?(0,r.jsx)(gn,{channel:t,message:n}):null}(e),s=function(e){return e.message.state!==U.yb.SEND_FAILED?(0,r.jsx)(vn,sn({},e)):null}(e);return l||null==c&&null==s?null:(0,r.jsx)("div",{className:a()(e.className,(t={},cn(t,ln().container,!0),cn(t,ln().isHeader,i),t)),onClick:hn,onContextMenu:hn,role:"group","aria-label":ze.Z.Messages.MESSAGE_UTILITIES_A11Y_LABEL,children:(0,r.jsxs)(Rt.ZP,{children:[c,s]})})}));var Sn=n(13489),jn=n.n(Sn);function _n(e){var t=e.setPopout,n=e.messagePopouts,o=n.emojiPicker,i=n.emojiBurstPicker,a=n.moreUtilities,l=e.showClydeAiEmbeds,u=e.setShowClydeAiEmbeds,c=e.isFocused,s=e.buttonProps,f=s.message,d=s.channel,p=s.groupId,h=s.compact,y=void 0!==h&&h,b=f.state===U.yb.SENDING,m=f.id===p,v=(0,ye.yE)(f.flags,U.iLy.EPHEMERAL),g=f.state===U.yb.SEND_FAILED
;return b||v&&!g?null:(0,r.jsx)(Cn,{className:jn().buttons,isHeader:!y&&m&&!(0,be.Z)(f),channel:d,message:f,setPopout:t,showEmojiPicker:o,showEmojiBurstPicker:i,showMoreUtilities:a,showClydeAiEmbeds:l,setShowClydeAiEmbeds:u,isFocused:c})}var In=n(112588),wn=n(62994),Pn=o.memo((function(e){var t=e.message,n=e.channel,i=e.compact,a=void 0!==i&&i,l=e.groupId,u=e.isGroupStart,c=e.usernameProfile,s=e.avatarProfile,f=e.setPopout,d=e.author,p=e.repliedMessage,h=e.roleIcon,y=(0,Se.wq)(t.author.id,n.id),b=(0,Se.XO)(t,n,c,f),m=(0,Se.R9)(s,f),v=o.useCallback((function(){return f({usernameProfile:!1,avatarProfile:!1,referencedUsernameProfile:!1})}),[f]);return(0,r.jsx)(In.ZP,{guildId:n.guild_id,message:t,channel:n,repliedMessage:p,author:d,compact:a,subscribeToGroupId:l,showTimestampOnHover:!u&&a&&t.type!==U.uaV.REPLY,renderPopout:wn.Z,showAvatarPopout:s,showUsernamePopout:c,onClickAvatar:m,onClickUsername:b,onContextMenu:y,onPopoutRequestClose:v,roleIcon:h})})),xn=o.memo(We.Z);function An(e){
var t=e.messageProps,n=e.setPopout,o=e.messagePopouts,i=e.replyReference,a=e.author,l=e.repliedMessage,u=e.roleIcon,c=t.message,s=t.compact,f=t.channel,d=t.groupId,p=o.usernameProfile,h=o.avatarProfile;if((0,be.Z)(c))return null;var y=c.id===d;return y||s||null!=i?(0,r.jsx)(Pn,{message:c,channel:f,compact:s,subscribeToGroupId:d,isGroupStart:y,groupId:d,setPopout:n,usernameProfile:p,avatarProfile:h,author:a,repliedMessage:l,roleIcon:u}):(0,r.jsx)(xn,{compact:!0,timestamp:c.timestamp,isInline:!1,id:(0,Ce.Dv)(c),isVisibleOnlyOnHover:!0,cozyAlt:!0})}var Tn=n(913928),Nn=n(281808),Mn=n(656823),Zn=n(944928),Ln=n(30027),Rn=n(39416),Dn=n.n(Rn);function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e){Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Un(e)}function Bn(e,t){return!t||"object"!==Gn(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e,t){Fn=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fn(e,t)}var Gn=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Un(e);if(t){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Vn(e){e.stopPropagation()}var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&Fn(e,t)}(n,e);var t=Hn(n);function n(){kn(this,n);var e;(e=t.apply(this,arguments)).node=o.createRef();e.onClickSave=function(){var t=e.props.textValue;e.onSubmit(t)};e.onSubmit=function(t){var n=e.props,r=n.message,o=n.channel,i=n.onConfirmDelete,a=n.onCancel,l=n.saveMessage,u=n.validateEdit;if(0===t.length){i(o,r);a(o.id);return Promise.resolve({shouldClear:!1,shouldRefocus:!1})}return u({value:t,channel:o}).then((function(n){if(!n.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var r=(0,Zn.g)(t,{channel:o,isEdit:!0});null!=(null==r?void 0:r.content)&&(t=r.content);var i=Ln.ZP.parse(e.props.channel,t);i.content!==e.props.message.content&&l(e.props.channel.id,e.props.message.id,i);a(o.id);return Promise.resolve({shouldClear:!0,shouldRefocus:!0})}))};e.onChange=function(t,n,r){var o=e.props,i=o.channel;(0,o.onChange)(i.id,n,r)};e.onKeyDown=function(t){if(t.keyCode===U.yXg.ESCAPE&&!t.shiftKey){var n=e.props,r=n.channel,o=n.onCancel
;t.preventDefault();t.stopPropagation();o(r.id)}};return e}n.prototype.render=function(){var e=this.props,t=e.className,n=e.textValue,o=e.richValue,i=e.message,a=e.channel,l=e.onCancel,u=e.children;return(0,r.jsxs)("div",{className:t,ref:this.node,onContextMenu:Vn,children:[u({textValue:n,richValue:o,message:i,channel:a,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown}),(0,r.jsx)("div",{className:Dn().operations,children:ze.Z.Messages.EDIT_TEXTAREA_HELP.format({onCancel:function(){return l(a.id)},onSave:this.onClickSave})})]})};return n}(o.PureComponent),zn=n(476770);function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function qn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(e,t)
}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e){var t=e.value,n=e.channel;return(0,zn.v)({type:Nn.I.EDIT,content:t,channel:n,restrictMentions:!1,respectCooldown:!1})}function Jn(e){var t=e.channel,n=e.message,i=t.id,a=n.id,l=t.getGuildId(),c=(0,u.e7)([bt.Z],(function(){return bt.Z.getGuild(l)}),[l]),f=t.type===U.d4z.GUILD_ANNOUNCEMENT,d=null!=c&&c.hasFeature(U.oNc.NEWS),p=f&&d,h=(0,u.cj)([E.Z],(function(){return{editingMessage:E.Z.getEditingMessage(i),editingTextValue:E.Z.getEditingTextValue(i),editingRichValue:E.Z.getEditingRichValue(i)}}),[i,a]),y=h.editingMessage,b=h.editingTextValue,m=h.editingRichValue,v=(0,u.e7)([O.default],(function(){return O.default.getId()})),g=o.useCallback((function(e,n,r){var o=r.content,i=j.Z.can(U.Plq.MANAGE_MESSAGES,t),a=null!=y&&null!=y.author?y.author.id:null;p&&(a===v||i)&&null!=y&&(0,
ye.yE)(y.flags,U.iLy.CROSSPOSTED)?Tn.Z.confirmEdit(e,n,o):s.Z.editMessage(e,n,{content:o});return Promise.resolve()}),[y,p,v,t]),C=o.useCallback((function(e){return(0,o.createElement)($n,qn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Kn(e,t,n[t])}))}return e}({},e),{className:jn().channelTextArea,key:a}))}),[a]);return null!=b&&null!=m?(0,r.jsx)(Wn,{ref:void 0,channel:t,message:n,textValue:b,richValue:m,onCancel:s.Z.endEditMessage,onChange:s.Z.updateEditMessage,onConfirmDelete:Tn.Z.confirmDelete,saveMessage:g,validateEdit:Qn,children:C}):null}function $n(e){var t=e.textValue,n=e.richValue,i=e.message,a=e.channel,l=e.onChange,u=e.onSubmit,c=e.onKeyDown,s=Xn(o.useState(!0),2),f=s[0],d=s[1],p=o.useCallback((function(){return d(!0)
}),[]),h=o.useCallback((function(){return d(!1)}),[]);o.useEffect((function(){W.S.subscribe(U.CkL.TEXTAREA_FOCUS,p);W.S.subscribe(U.CkL.TEXTAREA_BLUR,h);return function(){W.S.unsubscribe(U.CkL.TEXTAREA_FOCUS,p);W.S.unsubscribe(U.CkL.TEXTAREA_BLUR,h)}}),[p,h]);return(0,r.jsx)(Mn.Z,{className:jn().channelTextArea,textValue:t,richValue:n,channel:a,type:Nn.I.EDIT,onChange:l,onSubmit:function(e){var t=e.value;return u(t)},onKeyDown:c,focused:f,onFocus:p,onBlur:h},i.id)}function er(e,t,n){var o=e.message,i=e.channel;return n?(0,r.jsx)(Jn,{channel:i,message:o}):(0,r.jsx)(Ve.ZP,{message:o,content:t})}var tr=n(840922),nr=n(550776),rr=o.memo((function(e){var t,n=e.message,i=e.channel,a=e.compact,l=void 0!==a&&a,c=e.interactionUsernameProfile,s=e.interactionAvatarProfile,f=e.interactionData,d=e.setPopout,p=(0,u.e7)([tr.Z],(function(){return null!=n.interaction&&tr.Z.isBlocked(n.interaction.user.id)}),[n.interaction]),h=(0,Se.wq)(null===(t=n.interaction)||void 0===t?void 0:t.user.id,i.id),y=(0,
Se.Nk)(n.interaction,i,c,d),b=(0,Se.NU)(s,d),m=(0,Se.Xn)(f,d),v=o.useCallback((function(){return d({interactionUsernameProfile:!1,interactionAvatarProfile:!1,interactionData:!1})}),[d]);return(0,r.jsx)(nr.Z,{message:n,channel:i,compact:l,isInteractionUserBlocked:p,showAvatarPopout:s,showUsernamePopout:c,showDataPopout:f,onClickAvatar:b,onClickUsername:y,onClickCommand:m,onUserContextMenu:h,onPopoutRequestClose:v})}));function or(e,t,n){var o=e.message,i=e.channel,a=e.compact,l=n.interactionUsernameProfile,u=n.interactionAvatarProfile,c=n.interactionData;return null!=o.interaction?(0,r.jsx)(rr,{message:o,channel:i,compact:a,setPopout:t,interactionUsernameProfile:l,interactionAvatarProfile:u,interactionData:c}):null}var ir=n(894012),ar=n(45009),lr=n(194934),ur=n(535081),cr=n(763536),sr=n(674301),fr=n(804808),dr=o.memo((function(e){
var t,n=e.baseMessage,i=e.referencedMessage,a=e.channel,l=e.compact,c=void 0!==l&&l,s=e.referencedUsernameProfile,f=e.referencedAvatarProfile,d=e.setPopout,p=i.state===fe.Y.LOADED?i.message:void 0,h=(0,me.Uj)(p),y=(0,ie.dj)(n.id),b=(0,ie.tu)(null!==(t=null==a?void 0:a.guild_id)&&void 0!==t?t:"",n.id),m=o.useMemo((function(){if(null==p)return null;if(p.type===U.uaV.USER_JOIN)return(0,ir.Rp)(sr.Z.getSystemMessageUserJoin(p.id).astFormat({username:null!=h?h.nick:p.author.username,usernameHook:function(e){return e}}));if(p.type===U.uaV.ROLE_SUBSCRIPTION_PURCHASE)return(0,ir.Rp)((0,lr.PA)({username:null!=h?h.nick:p.author.username,guildId:null==a?void 0:a.guild_id,roleSubscriptionData:p.roleSubscriptionData}));if(p.type===U.uaV.GUILD_APPLICATION_PREMIUM_SUBSCRIPTION)return(0,ir.Rp)((0,ar.Y)({application:null==p?void 0:p.application,username:null==h?void 0:h.nick}));if(p.type===U.uaV.PRIVATE_CHANNEL_INTEGRATION_ADDED)return(0,ir.Rp)((0,ur.B2)({application:null==p?void 0:p.application,
username:null==h?void 0:h.nick}));if(p.type===U.uaV.PRIVATE_CHANNEL_INTEGRATION_REMOVED)return(0,ir.Rp)((0,ur.hj)({application:null==p?void 0:p.application,username:null==h?void 0:h.nick}));if(null!=p.content&&""!==p.content){var e=p.isFirstMessageInForumPost(a)?{formatInline:!0,noStyleAndInteraction:!0,allowHeading:!0,allowList:!0,allowLinks:y.showMaskedLinks||b.showMaskedLinks}:{formatInline:!0,allowHeading:y.showListsAndHeaders||b.showListsAndHeaders,allowList:y.showListsAndHeaders||b.showListsAndHeaders,allowLinks:y.showMaskedLinks||b.showMaskedLinks};return(0,fr.ZP)(p,e).content}return null}),[p,h,a,y,b]),v=(0,u.e7)([tr.Z],(function(){return null!=p&&tr.Z.isBlocked(p.author.id)}),[p]),g=(0,Se.wq)(null==p?void 0:p.author.id,a.id),O=(0,Se.$3)(n,p,v),E=(0,Se.Wl)(p,a,s,d),C=(0,Se.rY)(f,d),S=o.useCallback((function(){return d({referencedUsernameProfile:!1,referencedAvatarProfile:!1})}),[d]),j=(0,me.Uj)(n);return(0,r.jsx)(cr.Z,{repliedAuthor:h,baseMessage:n,channel:a,baseAuthor:j,
referencedMessage:i,content:m,compact:c,isReplyAuthorBlocked:v,showAvatarPopout:f,showUsernamePopout:s,renderPopout:wn.Z,onClickAvatar:C,onClickUsername:E,onClickReply:O,onContextMenu:g,onPopoutRequestClose:S})}));function pr(e,t,n,o,i){var a=e.message,l=e.channel,u=e.compact,c=n.referencedUsernameProfile,s=n.referencedAvatarProfile,f=a.type===U.uaV.REPLY&&null!=o&&(0,r.jsx)(dr,{baseMessage:a,replyReference:o,referencedMessage:i,channel:l,compact:u,setPopout:t,referencedUsernameProfile:c,referencedAvatarProfile:s});return(0,r.jsx)(r.Fragment,{children:f})}var hr=n(442053);function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function mr(){mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
;return mr.apply(this,arguments)}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){br(e,t,n[t])}))}return e}function gr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Or(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o
}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e){var t=e.id,n=e.message,i=e.message.id,s=e.channel,f=e.channel.id,p=e.compact,h=void 0!==p&&p,y=e.className,b=e.flashKey,m=e.groupId,v=e.isHighlight,O=e.renderContentOnly;oe()(n.type!==U.uaV.THREAD_STARTER_MESSAGE,"Message must not be a thread starter message");var C,S,j,_=U.OBS.has(n.type)?n.messageReference:void 0,I=(0,l.JA)(null!==(C=e.id)&&void 0!==C?C:""),w=I.onFocus,P=Or(I,["onFocus"]),x=g.RS.useSetting(),A=g.NA.useSetting(),T=x&&A,N=(0,u.e7)([fe.Z],(function(){return fe.Z.getMessageByReference(_)})),M=(0,Le.Z)(n.id,k.d$),Z=M.popouts,L=M.selected,R=M.setPopout,D=(0,Se.qo)(n,s,R),B=(0,Se.Go)(n,s),F=(0,Se.tn)(m,n.author.id,L),G=F.handleMouseEnter,H=F.handleMouseLeave,V=F.hasHovered,W=F.isHovered,z=(0,Se.bb)(w),Y=z.isFocused,K=z.hasFocused,q=z.handleFocus,X=z.handleBlur,Q=(0,u.e7)([E.Z],(function(){
return E.Z.isEditing(f,i)}),[f,i]),J=(0,u.e7)([d.Z],(function(){return d.Z.keyboardModeEnabled})),$=L||Q||J&&Y,ee=$||W,te=(0,u.e7)([de.Z],(function(){return n.hasFlag(U.iLy.HAS_THREAD)&&de.Z.getChannel(n.id)})),ne=n.isFirstMessageInForumPost(s),re=(0,ie.dj)(n.id),ve=(0,ie.tu)(s.guild_id,n.id),ge=(0,Re.Z)(n,{hideSimpleEmbedContent:T,isInteracting:ee,formatInline:!1,allowList:ne||re.showListsAndHeaders||ve.showListsAndHeaders,allowHeading:ne||re.showListsAndHeaders||ve.showListsAndHeaders,allowLinks:re.showMaskedLinks||ve.showMaskedLinks,previewLinkTarget:re.showMaskedLinks||ve.showMaskedLinks}),Oe=ge.content,je=ge.hasSpoilerEmbeds,_e=Ze(i,f,J),Ie=(0,me.ZP)(n),we=(0,u.e7)([se.Z],(function(){return se.Z.getPendingReply(f)})),Pe=function(e){var t=o.useRef(e);o.useEffect((function(){t.current=null!=e?e:t.current}));return null!=e?e:t.current}(b),xe=(0,ce.p9)({guildId:s.guild_id,roleId:Ie.iconRoleId}),Ae=(0,Ce.iG)(n,m),Te=(0,Ce.Gx)(n),Ne=(0,u.e7)([ue.Z],(function(){return ue.Z.getMessage(i)
}),[i]),Me=Er(o.useState(!(0,he.cS)(n)),2),ke=Me[0],Ue=Me[1],Be=null!=Ne,Fe=!Q&&Be?function(e,t){var n=e.message,o=e.compact;return(0,r.jsx)(nt,{message:n,content:t,compact:o})}(e,Oe):er(e,Oe,Q),Ge=n.id===m,He=(0,ae.A)(),Ve=v&&Ge?(0,r.jsxs)("div",{className:jn().highlightContainer,children:[(0,r.jsx)(le.Z,{className:jn().highlightIcon,width:10,height:10}),(0,r.jsx)(c.Text,{style:{color:He},variant:"text-sm/medium",children:ze.Z.Messages.HIGHLIGHT})]}):null,We=(0,r.jsx)(c.FocusRing,{offset:{left:4,right:4},children:(0,r.jsx)("li",{id:t,className:jn().messageListItem,"aria-setsize":-1,children:(0,r.jsx)(pe.Z,gr(vr({},P),{"aria-setsize":-1,"aria-roledescription":ze.Z.Messages.MESSAGE_A11Y_ROLE_DESCRIPTION,"aria-labelledby":Ae,"aria-describedby":Te,onFocus:q,onBlur:X,onContextMenu:D,onKeyDown:_e,onClick:B,compact:h,contentOnly:O,className:a()(y,(S={},br(S,jn().message,!0),br(S,jn().cozyMessage,!h),br(S,jn().mentioned,n.mentioned&&!(0,be.Z)(n)),br(S,jn().highlighted,v),
br(S,jn().ephemeral,(0,ye.yE)(n.flags,U.iLy.EPHEMERAL)),br(S,jn().systemMessage,(0,be.Z)(n)),br(S,jn().groupStart,!O&&(Ge||n.type===U.uaV.REPLY)),br(S,jn().selected,$),br(S,jn().replying,(null==we?void 0:we.message.id)===n.id),br(S,jn().interactionSending,n.isCommandType()&&n.state===U.yb.SENDING),br(S,jn().automodMessage,Be),S)),zalgo:!Q,childrenHighlight:Ve,childrenRepliedMessage:O?void 0:pr(e,R,Z,_,N),childrenExecutedCommand:or(e,R,Z),childrenHeader:O?void 0:An({messageProps:e,setPopout:R,messagePopouts:Z,replyReference:_,author:Ie,repliedMessage:N,roleIcon:xe}),childrenAccessories:(0,De.Z)({channelMessageProps:e,hasSpoilerEmbeds:je,handleContextMenu:D,isInteracting:ee,isAutomodBlockedMessage:Be,showClydeAiEmbeds:ke}),childrenButtons:V||K?_n({buttonProps:e,setPopout:R,messagePopouts:Z,showClydeAiEmbeds:ke,setShowClydeAiEmbeds:Ue,isFocused:W||Y}):void 0,childrenSystemMessage:(0,hr.Z)(e),childrenMessageContent:Fe,onMouseMove:G,onMouseLeave:H,
hasThread:!O&&n.hasFlag(U.iLy.HAS_THREAD)&&null!=te,isSystemMessage:(0,be.Z)(n),hasReply:n.type===U.uaV.REPLY}))})});return null!=Pe?(0,r.jsx)(Ee,{flashKey:Pe,className:a()((j={},br(j,jn().backgroundFlash,!0),br(j,jn().groupStart,!h&&n.id===m),j)),children:We},"bg-flash-".concat(t)):We}function Sr(e){var t,n=e.id,o=e.message,i=e.message.messageReference,c=e.compact,s=void 0!==c&&c,f=e.className;oe()(o.type===U.uaV.THREAD_STARTER_MESSAGE,"Message must be a thread starter message");var d,p=mr({},(0,l.JA)(null!==(t=e.id)&&void 0!==t?t:"")),h=(0,u.e7)([fe.Z],(function(){return fe.Z.getMessageByReference(i)})),y=(0,Le.Z)(o.id,k.d$),b=y.popouts,m=y.setPopout,v=(0,me.ZP)(o),g=(0,Ce.iG)(o),O=(0,Ce.Gx)(o);return o.type===U.uaV.THREAD_STARTER_MESSAGE&&null!=h&&h.state===fe.Y.LOADED?(0,r.jsx)(jr,gr(vr({},e),{message:h.message,groupId:h.message.id})):(0,r.jsx)(pe.Z,gr(vr({},p),{id:n,compact:s,className:a()(f,(d={},br(d,jn().message,!0),br(d,jn().cozyMessage,!s),br(d,jn().systemMessage,!0),
br(d,jn().groupStart,!0),d)),childrenHeader:An({messageProps:e,setPopout:m,messagePopouts:b,replyReference:i,author:v}),childrenSystemMessage:(0,hr.Z)(e),childrenMessageContent:null,"aria-labelledby":g,"aria-describedby":O,hasThread:!1}))}function jr(e){var t,n,i,s,f=e.id,p=e.message,h=e.message,y=h.id,b=h.channel_id,m=e.channel.guild_id,v=e.compact,O=void 0!==v&&v,E=e.className,C=e.groupId,S=p.type===U.uaV.REPLY?p.messageReference:void 0,j=(0,l.JA)(null!==(n=e.id)&&void 0!==n?n:""),_=j.onFocus,I=Or(j,["onFocus"]),w=(0,Se.bb)(_),P=w.isFocused,x=w.handleFocus,A=w.handleBlur,T=(0,Le.Z)(p.id,k.d$),N=T.popouts,M=T.selected,Z=T.setPopout,L=g.RS.useSetting(),R=g.NA.useSetting(),D=L&&R,B=(0,u.e7)([fe.Z],(function(){return fe.Z.getMessageByReference(S)})),F=(0,ie.dj)(p.id),G=(0,ie.tu)(null!==(i=null===(t=e.channel)||void 0===t?void 0:t.guild_id)&&void 0!==i?i:"",p.id),H=(0,Se.tn)(C,p.author.id,M),V=H.handleMouseEnter,W=H.handleMouseLeave,z=H.isHovered,Y=(0,u.e7)([d.Z],(function(){
return d.Z.keyboardModeEnabled})),K=M||Y&&P,q=K||z,X=(0,Re.Z)(p,{hideSimpleEmbedContent:D,isInteracting:q,formatInline:!1,allowList:F.showListsAndHeaders||G.showListsAndHeaders,allowHeading:F.showListsAndHeaders||G.showListsAndHeaders,allowLinks:F.showMaskedLinks||G.showMaskedLinks,previewLinkTarget:F.showMaskedLinks||G.showMaskedLinks}),Q=X.content,J=X.hasSpoilerEmbeds,$=Ze(y,b,Y),te=(0,me.ZP)(p),ne=(0,Ce.iG)(p,C),re=(0,Ce.Gx)(p),oe=er(e,Q,!1),ae=o.useCallback((function(){return(0,ee.XU)(m,b,y)}),[m,b,y]),le=(0,ce.p9)({guildId:m,roleId:te.iconRoleId});return(0,r.jsxs)("div",{className:jn().quotedChatMessage,children:[(0,r.jsx)(c.Clickable,{className:jn().jump,onClick:ae,"aria-label":ze.Z.Messages.JUMP,children:ze.Z.Messages.JUMP}),(0,r.jsx)(pe.Z,gr(vr({},I),{id:f,compact:O,className:a()(E,(s={},br(s,jn().message,!0),br(s,jn().cozyMessage,!O),br(s,jn().mentioned,p.mentioned&&!(0,be.Z)(p)),br(s,jn().ephemeral,(0,ye.yE)(p.flags,U.iLy.EPHEMERAL)),br(s,jn().systemMessage,(0,be.Z)(p)),
br(s,jn().groupStart,p.id===C||p.type===U.uaV.REPLY),br(s,jn().selected,K),s)),zalgo:!0,onKeyDown:$,onFocus:x,onBlur:A,childrenRepliedMessage:pr(e,Z,N,S,B),childrenHeader:An({messageProps:e,setPopout:Z,messagePopouts:N,replyReference:S,author:te,repliedMessage:B,roleIcon:le}),childrenAccessories:(0,De.Z)({channelMessageProps:e,hasSpoilerEmbeds:J,isInteracting:q,renderThreadAccessory:!1,renderComponentAccessory:!1,renderSuppressEmbeds:!1}),childrenSystemMessage:(0,hr.Z)(e),childrenMessageContent:oe,onMouseMove:V,onMouseLeave:W,"aria-labelledby":ne,"aria-describedby":re,hasThread:!1}))]})}const _r=o.memo(Cr);function Ir(e,t){for(var n=e.offsetTop,r=e.offsetParent;null!=r&&r!==t&&(0,X.k)(r,HTMLElement);){var o;n+=null!==(o=r.offsetTop)&&void 0!==o?o:0;r=r.offsetParent}return n}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Tr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e){return function(e){if(Array.isArray(e))return wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){if(e){
if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}function Nr(e){s.Z.jumpToPresent(e.id,U.AQB);var t;(0,ee.XU)(null!==(t=e.getGuildId())&&void 0!==t?t:U.ME,e.id)}function Mr(e){if(null==e.jumpTargetId||!e.ready)return null;var t=e.jumpTargetId,n=e.jumpTargetOffset;if(e.has(t)||!e.hasMoreBefore&&t===e.channelId){if(0===n)return t;var r,o=e.getByIndex(e.indexOf(t)+n);return null!==(r=null==o?void 0:o.id)&&void 0!==r?r:t}var i,a=[t].concat(Ar(e.map((function(e){return e.id})))).sort(L.Z.compare),l=a.indexOf(t),u=null!==(i=a[l+(Math.abs(n)>0?n:1)])&&void 0!==i?i:a[l-1];return null!=u?u:null}var Zr={scrollTop:0,scrollHeight:0,offsetHeight:0},Lr=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")
}(this,e);this.ref=o.createRef();this.automaticAnchor=null;this.messageFetchAnchor=null;this.focusAnchor=null;this.jumping=!1;this.dragging=!1;this.isAtBottom=!1;this.prevScrollTop=null;this.anchorTimeout=null;this.initialScrollTop=null;this.acking=!1;this.scrollCounter=0;this.offsetHeightCache=0;this.scrollHeightCache=0;this.scrollTopCache=-1;this._bottomAnchor=null;this._automaticAnchorCallbacks=[];this._scrollCompleteCallbacks=[];this.updateVisibleMessagesDebounced=q().debounce(te.JR,300);this.handleScroll=function(e){var t;if(n.isInitialized()){var r=n.getScrollerState(),o=n.isScrolledToBottom(r);if(o!==n.isAtBottom)if(o){n.isAtBottom=!0;n.props.handleScrollToBottom()}else{n.isAtBottom=!1;n.props.handleScrollFromBottom()}if(r.offsetHeight!==n.offsetHeightCache||r.scrollHeight!==n.scrollHeightCache){n.scrollCounter=0;clearTimeout(n.anchorTimeout);n.isPinned()||(null==n.automaticAnchor?n.setAutomaticAnchor(n.findAnchor()):n.updateAutomaticAnchor(r.scrollTop,!0))
;clearTimeout(n.anchorTimeout);n.fixScrollPosition(r.offsetHeight,r.scrollHeight);n.scrollTopCache=r.scrollTop}else{if(null!=e&&e.target!==(null===(t=n.ref.current)||void 0===t?void 0:t.getScrollerNode()))return;if(n.scrollTopCache!==r.scrollTop){n.pinned=o;n.scrollCounter=Math.min(n.scrollCounter+1,5);n.pinned?n.cleanAutomaticAnchor():null!=n.automaticAnchor?n.updateAutomaticAnchor(r.scrollTop,!0):n.setAutomaticAnchor(n.findAnchor());n.scrollTopCache=r.scrollTop;clearTimeout(n.anchorTimeout);n.anchorTimeout=setTimeout((function(){n.scrollCounter=0;n.anchorTimeout=null;n.prevScrollTop=null;var e=n.getScrollerState(),t=e.scrollHeight,r=e.offsetHeight;if(n.isHeightChange(r,t))n.handleScroll();else{n.cleanAutomaticAnchor();n.isPinned()||n.setAutomaticAnchor(n.findAnchor())}}),35)}}n.handleFocusAnchorScroll(r.scrollTop,r.offsetHeight);n.updateStoreDimensionsDebounced();if(n.isScrollLoadingDisabled()){n.props.canLoadMore||n.enableAutomaticAck();return n.handleScrollSpeed(r)}
var i=n.isInScrollTriggerLoadingRegion(r);1===i?n.loadMore():2===i?n.loadMore(!0):n.enableAutomaticAck();n.handleScrollSpeed(r)}};this.handleResize=function(e,t){var r=n.offsetHeightCache,o=n.scrollHeightCache;"container"===t?r=e.contentRect.height:"content"===t&&(o=e.contentRect.height);n.isHeightChange(r,o)&&n.fixScrollPosition(r,o)};this.handleMouseDown=function(e){e.target===e.currentTarget&&(n.dragging=!0)};this.handleMouseUp=function(){n.dragging=!1;n.handleScroll()};this.loadMore=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=n.props.messages;if(r){var i=o.last();null!=i&&(t=i.id)}else{var a=o.first();null!=a&&(e=a.id)}n.messageFetchAnchor=n.findFetchAnchor(r);n.loading=!0;s.Z.fetchMessages({channelId:n.props.channel.id,before:e,after:t,limit:U.AQB,truncate:!0})};this.updateStoreDimensionsDebounced=q().debounce(this.updateStoreDimensions,200);this.props=t;this.loading=t.messages.loadingMore;var r=ne.Z.getChannelDimensions(t.channel.id)
;if(null!=t.messages.jumpTargetId)this.pinned=!1;else{var i;this.initialScrollTop=null!==(i=null==r?void 0:r.scrollTop)&&void 0!==i?i:null;this.pinned=null==r}}var t=e.prototype;t.isReady=function(){return this.props.messages.ready};t.isLoading=function(){return this.loading||this.props.messages.loadingMore};t.isPinned=function(){return this.pinned};t.isJumping=function(){return this.jumping};t.isDragging=function(){return this.dragging};t.isInitialized=function(){return void 0===this.initialScrollTop};t.isScrollLoadingDisabled=function(){return this.isLoading()||!this.isInitialized()||this.isJumping()||this.isDragging()||!this.props.canLoadMore};t.isActivelyScrolling=function(){return this.scrollCounter>=5};t.getDocument=function(){var e,t;return null===(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerNode())||void 0===t?void 0:t.ownerDocument};t.getElementFromMessageId=function(e){var t=this.getDocument(),n=this.props.channel.id;return null==t?null:function(e,t,n){
return e.getElementById((0,z.p)(t,n))}(t,n,e)};t.isScrolledToBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getScrollerState(),t=e.scrollTop,n=e.scrollHeight,r=e.offsetHeight;return t>=n-r-k.kQ&&!this.props.messages.hasMoreAfter};t.mergePropsAndUpdate=function(e){this.mergePropsAndUpdate_(e);this.props.messages.ready&&this.enableAutomaticAck()};t.mergePropsAndUpdate_=function(e){var t=this.props.messages,n=this.props.focusId;this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Pr(e,t,n[t])}))}return e}({},e);var r=this.getScrollerState(),o=r.offsetHeight,i=r.scrollHeight,a=this.isHeightChange(o,i);this.offsetHeightCache=o;this.scrollHeightCache=i;this.loading=e.messages.loadingMore
;if(this.isInitialized()||this.isReady())if(this.isInitialized()){if(null!=e.messages.jumpTargetId){if(this.isLoading())return;var l=Mr(e.messages);if(null!=l&&!this.isJumping()&&e.messages.jumpSequenceId!==t.jumpSequenceId){var u,c=t.first();null!=c&&e.messages.last()!==t.last()&&e.messages.first()!==t.first()&&(u=L.Z.extractTimestamp(c.id));this.scrollToMessage(l,!0,u);return}if(this.isJumping()){null!=l?this.scrollToMessage(l,!0):this.jumping=!1;return}}if(e.messages.jumpedToPresent&&t.jumpSequenceId!==e.messages.jumpSequenceId){this.jumping=!0;this.scrollTo(0);this.setScrollToBottom(!0)}else{var s=e.messages.last(),f=t.last();if(null==s||s.state!==U.yb.SENDING||(null==f?void 0:f.id)===s.id){var d=this.props.focusId;if(null!=d&&n!==d){var p=this.getElementFromMessageId(d);if(null!=p){var h;null===(h=this.ref.current)||void 0===h||h.scrollIntoViewNode({node:p,padding:k.kQ,callback:this.handleScroll});return}}a&&this.fixScrollPosition(o,i)}else this.setScrollToBottom()}
}else this.restoreScroll();else null==e.messages.jumpTargetId&&this.scrollTo(Number.MAX_SAFE_INTEGER)};t.getAnchorData=function(e,t,n){var r,o=this.getElementFromMessageId(e),i=null===(r=this.ref.current)||void 0===r?void 0:r.getScrollerNode();if(!(0,X.k)(o)||null==i)return null;var a=o.offsetHeight,l=Ir(o,i),u=l-t;null!=n&&(u=Math.max(-a,Math.min(n,u)));return{id:e,offsetFromTop:u,offsetTop:l,offsetHeight:a,clamped:null!=u}};t.cleanAutomaticAnchor=function(){this.setAutomaticAnchor(null)};t.newMessageBarBuffer=function(){return this.props.channel.isForumPost()?k.R4:k.Eo};t.findAnchor=function(){for(var e=this.props,t=e.messages,n=e.hasUnreads,r=e.channel,o=this.getScrollerState(),i=o.scrollTop,a=n&&i>=this.newMessageBarBuffer()?this.newMessageBarBuffer():0,l=null,u=function(e){var n;return-1===e?r.id:null===(n=t._array[e])||void 0===n?void 0:n.id},c=-1,s=!1;;){var f=u(c);if(null==f)break;var d=this.getAnchorData(f,i);this._bottomAnchor=d
;if(s&&null!=d&&d.offsetTop>i+a+o.offsetHeight)break;if(s)c++;else{if(null!=d&&(d.offsetTop>=i+a||c===t.length-1)){l=d;s=!0}c++}}return l};t.findFetchAnchor=function(e){for(var t=this.props.messages,n=this.getScrollerState().scrollTop,r=e?-1:1,o=null,i=t._array.length-1,a=e?i:0;null!=t._array[a];a+=r){var l=t._array[a],u=this.getAnchorData(l.id,n);if(null!=u){o=u;break}}return o};t.getAnchorFixData=function(){var e=[this.focusAnchor,this.isLoading()?null:this.messageFetchAnchor,this.automaticAnchor],t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(null!=a){var l=this.getElementFromMessageId(a.id);if((0,X.k)(l)){var u=a===this.messageFetchAnchor?a.offsetHeight-l.offsetHeight:0;return{node:l,fixedScrollTop:l.offsetTop-(a.offsetFromTop+u)}}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return null};t.fixAnchorScrollPosition=function(){var e=this.getAnchorFixData();if(null!=e){
var t=e.node,n=e.fixedScrollTop;if(null!=this.focusAnchor){var r;this.isPinned()?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.mergeTo(n,this.handleScroll);null===(r=this.ref.current)||void 0===r||r.scrollIntoViewNode({node:t,padding:k.kQ,callback:this.handleScroll})}else this.mergeTo(n,this.handleScroll);this.isActivelyScrolling()?this.setAutomaticAnchor(null):this.setAutomaticAnchor(this.findAnchor());this.isLoading()||(this.messageFetchAnchor=null)}else this.handleScroll()};t.hasAnchor=function(){return null!=this.focusAnchor||null!=this.messageFetchAnchor||null!=this.automaticAnchor};t.updateFocusAnchor=function(e,t,n){var r=this.focusAnchor=null!=e?this.getAnchorData(e,t):null;null!=r&&(r.offsetFromTop>=n||t>r.offsetTop+r.offsetHeight)&&(this.focusAnchor=null)};t.handleFocusAnchorScroll=function(e,t){var n;this.updateFocusAnchor(null===(n=this.focusAnchor)||void 0===n?void 0:n.id,e,t)};t.updateFetchAnchor=function(e,t,n){
var r,o=null===(r=this.ref.current)||void 0===r?void 0:r.getScrollerNode();null!=this.messageFetchAnchor&&null!=o&&(this.messageFetchAnchor=this.getAnchorData(this.messageFetchAnchor.id,e,this.isInPlaceholderRegion({scrollTop:e,offsetHeight:t,scrollHeight:n})>0?t:void 0))};t.updateAutomaticAnchor=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null===(t=this.ref.current)||void 0===t?void 0:t.getScrollerNode();if(null!=this.automaticAnchor&&null!=r){var o=this.getAnchorData(this.automaticAnchor.id,e);n&&null!=o&&null!=this.automaticAnchor&&(o.offsetFromTop=this.automaticAnchor.offsetFromTop);this.setAutomaticAnchor(o)}};t.setAutomaticAnchor=function(e){var t,n,r=this;this.automaticAnchor=e;null===(t=this._automaticAnchorCallbacks)||void 0===t||t.forEach((function(e){return e(r.automaticAnchor,r._bottomAnchor)}));this.updateVisibleMessagesDebounced(null==e?void 0:e.id,null===(n=this._bottomAnchor)||void 0===n?void 0:n.id)};t.getScrollerState=function(){
var e,t;return null!==(t=null===(e=this.ref.current)||void 0===e?void 0:e.getScrollerState())&&void 0!==t?t:Zr};t.isHeightChange=function(e,t){return e!==this.offsetHeightCache||t!==this.scrollHeightCache};t.isInPlaceholderRegion=function(e){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.props,i=o.messages,a=o.placeholderHeight,l=a,u=r-n-a;return i.hasMoreBefore&&t<l&&r>n?1:i.hasMoreAfter&&t>=u?2:0};t.isInScrollTriggerLoadingRegion=function(e){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.props.messages;return o.hasMoreBefore&&t<=this.getOffsetToTriggerLoading("top",e)&&r>n?1:o.hasMoreAfter&&t>=this.getOffsetToTriggerLoading("bottom",e)?2:0};t.handleScrollSpeed=function(e){if(!this.isJumping()&&!this.isDragging()&&this.props.canLoadMore){var t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight,o=this.prevScrollTop,i=this.props.placeholderHeight;this.prevScrollTop=t;if(null!=o){var a=this.isInPlaceholderRegion(e),l=t-o;if(0!==a)if(1===a&&t+l<=0){this.mergeTo(i-n)
;this.prevScrollTop=i-n}else if(2===a&&t+l>=r-n){this.mergeTo(r-i);this.prevScrollTop=r-i}}}};t.enableAutomaticAck=function(){var e=this;if(this.isInitialized()&&!this.acking){this.acking=!0;this.updateStoreDimensions((function(){(0,J.CZ)(e.props.channel.id,e.props.windowId)}))}};t.fixScrollPosition=function(e,t){this.offsetHeightCache=e;this.scrollHeightCache=t;this.fixJumpTarget();this.isPinned()&&null==this.messageFetchAnchor&&null==this.focusAnchor?this.scrollTo(Number.MAX_SAFE_INTEGER,!1,this.handleScroll):this.fixAnchorScrollPosition()};t.fixJumpTarget=function(){if(this.isJumping()){var e=this.props,t=e.messages,n=e.hasUnreads;if(null!=t.jumpTargetId){var r=Mr(t);if(null==r)return;var o=this.getElementFromMessageId(r);(0,X.k)(o)?this.scrollTo(this.getOffsetOrientationFromNode(o,"middle",n?this.newMessageBarBuffer():k.kQ),!0):this.scrollToNewMessages(!0,"middle")}else this.scrollTo(Number.MAX_SAFE_INTEGER,!0)}};t.scrollToNewMessages=function(){
var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r=arguments.length>2?arguments[2]:void 0,o=this,i=null===(e=this.getDocument())||void 0===e?void 0:e.getElementById(k.j1),a=function(){o.jumping=!1;o.setAutomaticAnchor(o.findAnchor());null!=r&&r();o.handleScroll()};this.pinned=!1;this.jumping=t;null!=i?this.scrollTo(this.getOffsetOrientationFromNode(i,n,this.newMessageBarBuffer()),t,a):this.scrollTo(this.getOffsetToPreventLoading("top"),t,a)};t.getOffsetOrientationFromNode=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=null===(n=this.ref.current)||void 0===n?void 0:n.getScrollerNode();if(null==o)return 0;var i=this.getScrollerState(),a=Ir(e,o);return"middle"===t?Math.min(a-.5*i.offsetHeight+.5*e.offsetHeight-8,a-r):a-r};t.restoreScroll=function(){if(!this.isInitialized()){var e=this.initialScrollTop;this.initialScrollTop=void 0;var t=Mr(this.props.messages)
;null!=t?this.scrollToMessage(t,!1):this.props.hasUnreads&&this.props.channel.type!==U.d4z.GUILD_VOICE&&this.props.channel.type!==U.d4z.GUILD_STAGE_VOICE?this.scrollToNewMessages():null!=e?this.scrollTo(e+this.props.placeholderHeight,!1,this.handleScroll):this.setScrollToBottom()}};t.scrollTo=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;null===(t=this.ref.current)||void 0===t||t.scrollTo({to:e,animate:!d.Z.useReducedMotion&&n,callback:r});this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()};t.mergeTo=function(e,t){var n;null===(n=this.ref.current)||void 0===n||n.mergeTo({to:e,callback:t});this.isPinned()?this.updateStoreDimensions():this.updateStoreDimensionsDebounced()};t.setScrollToBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.props,r=n.messages,o=n.channel;r.hasMoreAfter?Nr(o):this.scrollTo(Number.MAX_SAFE_INTEGER,e,(function(){
t.jumping=!1;t.handleScroll()}))};t.updateStoreDimensions=function(e){if(!this.isJumping()&&this.isInitialized()){var t=this.props.channel;if(this.isPinned())Q.Z.clearChannelDimensions(t.id,e);else{var n=this.props.placeholderHeight,r=this.getScrollerState(),o=r.scrollTop,i=r.scrollHeight,a=r.offsetHeight;Q.Z.updateChannelDimensions(t.id,o-n,i-n,a,e)}}};t.scrollIntoViewRect=function(){};t.scrollPageUp=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageUp({animate:t})};t.scrollPageDown=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.ref.current)||void 0===e||e.scrollPageDown({animate:t})};t.scrollToMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;if(null!=this.ref.current)if(e!==this.props.channel.id){var o=this.getElementFromMessageId(e)
;if(!this.isJumping()&&t&&null!=n&&!d.Z.useReducedMotion){var i=L.Z.extractTimestamp(e);i>n?this.scrollTo(0):this.scrollTo(Number.MAX_SAFE_INTEGER)}this.pinned=!1;this.jumping=!0;var a=function(){r.jumping=!1;(0,X.k)(o)&&d.Z.keyboardModeEnabled&&o.focus({preventScroll:!0});r.scrollCounter=0;r.handleScroll();r._scrollCompleteCallbacks.forEach((function(e){return e()}))};(0,X.k)(o)?this.scrollTo(this.getOffsetOrientationFromNode(o,"middle",this.props.hasUnreads?this.newMessageBarBuffer():k.kQ),t,a):this.scrollToNewMessages(t,"middle",a)}else this.scrollTo(0)};t.getOffsetToTriggerLoading=function(e,t){var n=t.scrollHeight,r=t.offsetHeight,o=this.props,i=o.messages,a=o.hasUnreads,l=o.placeholderHeight;return"top"===e?i.hasMoreBefore?a?l-k.D4-2:l+500:0:i.hasMoreAfter?n-r-l-500:n-r};t.getOffsetToPreventLoading=function(e){var t=this.props.messages,n=0;"top"===e&&t.hasMoreBefore?n=2:"bottom"===e&&t.hasMoreAfter&&(n=-2);return this.getOffsetToTriggerLoading(e,this.getScrollerState())+n}
;t.getSnapshotBeforeUpdate=function(e){if(this.hasAnchor()||null!=e){var t=this.getScrollerState(),n=t.scrollTop,r=t.offsetHeight,o=t.scrollHeight;this.updateFocusAnchor(e,n,r);this.updateFetchAnchor(n,r,o);this.updateAutomaticAnchor(n)}};t.addAutomaticAnchorCallback=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._automaticAnchorCallbacks.push(e);this._automaticAnchorCallbacks=q().uniq(this._automaticAnchorCallbacks);!0===t&&this.setAutomaticAnchor(this.findAnchor())};t.removeAutomaticAnchorCallback=function(e){this._automaticAnchorCallbacks=q().without(this._automaticAnchorCallbacks,e)};t.addScrollCompleteCallback=function(e){this._scrollCompleteCallbacks.push(e);this._scrollCompleteCallbacks=q().uniq(this._scrollCompleteCallbacks)};t.removeScrollCompleteCallback=function(e){this._scrollCompleteCallbacks=q().without(this._scrollCompleteCallbacks,e)};t.cleanup=function(){var e=this;this.acking=!1;this.updateStoreDimensionsDebounced.cancel()
;this._automaticAnchorCallbacks.forEach((function(t){return e.removeAutomaticAnchorCallback(t)}));(0,J.jT)(this.props.channel.id,this.props.windowId)};return e}();var Rr=n(730381),Dr=n.n(Rr),kr=n(625091),Ur=n(396043),Br=n(34225);function Fr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Gr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Hr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Vr=o.forwardRef((function(e,t){var n,o=e.className,i=e.isBeforeGroup,l=void 0!==i&&i,u=Hr(e,["className","isBeforeGroup"]),c=u.children;return(0,r.jsx)(Br.Z,Gr(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Fr(e,t,n[t])}))}return e}({},u),{ref:t,role:"separator","aria-label":"string"==typeof c?c:void 0,className:a()(o,(n={},Fr(n,jn().divider,!0),Fr(n,jn().hasContent,null!=c),Fr(n,jn().beforeGroup,l),n))}))}));const Wr=o.memo(Vr);var zr=n(127661),Yr=n(178392),Kr=n.n(Yr);function qr(e){var t=e.channel,n=e.count,o=e.showRedactedMessages;return(0,
r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Wr,{}),(0,r.jsxs)("div",{className:Kr().redactedMessages,children:[(0,r.jsx)(zr.Z,{className:Kr().redactedMessageIcon}),(0,r.jsx)("div",{className:Kr().redactedMessageText,children:ze.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT.format({count:n})}),(0,r.jsx)(c.Button,{size:c.Button.Sizes.MIN,look:c.Button.Looks.LINK,color:c.Button.Colors.LINK,onClick:function(){Dt.default.track(U.rMx.DM_SAFETY,{channel_id:t.id,channel_type:t.type,safety_prompt:"DMSpamExperiment",response:"show_redacted_messages"});o()},className:Kr().showRedactedMessagesButton,children:ze.Z.Messages.BLOCKED_MESSAGES_SHOW.format({count:n})})]})]})}var Xr=n(773011),Qr=n(1477),Jr=n(145202),$r=n(289903),eo=n(90459),to=n(736626),no=n(784686),ro=n(382060),oo=n(5544),io=n(749565),ao=n(560923),lo=n(48315),uo=n(525008),co=n(132167),so=n(986923),fo=n(190624),po=n(924417),ho=n(804185),yo=n(211482),bo=n(775173),mo=n(761953),vo=n(424871);var go=n(771344);function Oo(e){
var t,n,o=e.otherUserId,i=e.channel,a=e.buttonSize,l=void 0===a?c.ButtonSizes.TINY:a,s=e.className,f=e.buttonText,d=e.navigateAwayOnReportSuccess,p=void 0===d||d,h=e.onReportClick,y=e.onReportSubmit,b=e.onMouseEnter,m=e.onMouseLeave,v=(t=o,(n=(0,u.e7)([tr.Z],(function(){return tr.Z.getRelationshipType(t)}),[t]))===U.OGo.NONE||n===U.OGo.BLOCKED||n===U.OGo.PENDING_INCOMING),g=(0,go.V)(i.id,o);if(!v||null==g)return null;var O=function(){null==y||y();mo.Z.closePrivateChannel(i.id,p)};return(0,r.jsx)(c.Button,{className:s,size:l,color:c.Button.Colors.RED,disabled:null==g,onClick:function(){null==h||h();(0,vo.WL)(g,O)},onMouseEnter:b,onMouseLeave:m,children:null!=f?f:ze.Z.Messages.REPORT_SPAM})}var Eo=n(876986),Co=n(960412),So=n(270395),jo=n.n(So),_o=function(e){var t=e.userId,n=(0,u.e7)([eo.Z],(function(){return eo.Z.getMutualGuilds(t)}),[t]),i=o.useMemo((function(){return null!=n?n.slice(0,3).map((function(e,t){var o=e.guild,i=null!=o?bo.ZP.getGuildIconURL({id:o.id,icon:o.icon,size:24
}):null;if(null==i)return null;var a=t===(n.length>3?3:n.length)-1,l=(0,r.jsx)("img",{src:i,alt:"",className:jo().avatar},t);return a?l:(0,r.jsx)(yo.ZP,{className:jo().avatarMask,mask:yo.ZP.Masks.VOICE_USER_SUMMARY_ITEM,width:24,height:24,children:l},t)})).filter((function(e){return null!=e})):[]}),[n]);if(null==n||0===n.length)return(0,r.jsx)(c.Text,{color:"header-secondary",variant:"text-sm/normal",children:ze.Z.Messages.NO_MUTUAL_GUILDS});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:jo().avatarContainer,children:i}),(0,r.jsx)(c.Clickable,{onClick:function(){(0,po.m)({userId:t,section:Co.oh.MUTUAL_GUILDS,analyticsLocation:{section:U.jXE.DIRECT_MESSAGE}})},children:(0,r.jsx)(c.Text,{className:jo().mutualGuilds,variant:"text-sm/normal",children:ze.Z.Messages.USER_PROFILE_MUTUAL_GUILDS.format({count:n.length})})})]})},Io=function(e){var t,n=e.relationshipType,o=e.userId,i=e.showingBanner,a=null===(t=w.default.getUser(o))||void 0===t?void 0:t.bot,l=function(){
ao.Z.addRelationship({userId:o,context:{location:U.ZY5.DM_CHANNEL}})},u=(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,color:c.Button.Colors.PRIMARY,onClick:function(){ao.Z.addRelationship({userId:o,context:{location:U.ZY5.DM_CHANNEL},type:U.OGo.BLOCKED})},children:ze.Z.Messages.BLOCK});switch(n){case U.OGo.NONE:return(0,r.jsxs)(r.Fragment,{children:[!a&&!i&&(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:l,children:ze.Z.Messages.ADD_FRIEND}),u]});case U.OGo.FRIEND:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:function(){ao.Z.removeFriend(o,{location:U.ZY5.DM_CHANNEL})},color:c.Button.Colors.PRIMARY,children:ze.Z.Messages.REMOVE_FRIEND}),u]});case U.OGo.BLOCKED:return(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:function(){ao.Z.unblockUser(o,{location:U.ZY5.DM_CHANNEL})},color:c.Button.Colors.PRIMARY,children:ze.Z.Messages.UNBLOCK})
;case U.OGo.PENDING_INCOMING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Text,{className:jo().action,color:"header-secondary",variant:"text-sm/normal",children:ze.Z.Messages.FRIEND_REQUEST_RECEIVED}),(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:l,children:ze.Z.Messages.FRIEND_REQUEST_ACCEPT}),(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,color:c.Button.Colors.PRIMARY,onClick:function(){ao.Z.cancelFriendRequest(o,{location:U.ZY5.DM_CHANNEL})},children:ze.Z.Messages.FRIEND_REQUEST_IGNORE}),u]});case U.OGo.PENDING_OUTGOING:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,disabled:!0,children:ze.Z.Messages.ADD_FRIEND_BUTTON_AFTER}),u]});default:return null}},wo=function(e){var t=e.channelId,n=e.otherUserId,i=o.useCallback((function(){(0,c.showToast)((0,c.createToast)(ze.Z.Messages.MESSAGE_REQUESTS_SPAM_REQUEST_ERROR_ALERT_TITLE,c.ToastType.FAILURE))
}),[]),a=o.useCallback((function(){fo.Z.closeChannelSidebar(ho.uZ)}),[]),l=o.useCallback((function(){fo.Z.closeChannelSidebar(ho.uZ)}),[]),u=(0,uo.m)({user:w.default.getUser(n),onError:i,onAcceptSuccess:l,onRejectSuccess:a}),s=u.acceptMessageRequest,f=u.rejectMessageRequest,d=u.isAcceptLoading,p=u.isRejectLoading,h=u.isOptimisticAccepted,y=u.isOptimisticRejected,b=d||p||(h||y);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:function(){return s(t)},disabled:b,submitting:d,children:ze.Z.Messages.MESSAGE_REQUEST_ACCEPT}),(0,r.jsx)(c.Button,{className:jo().action,size:c.Button.Sizes.TINY,onClick:function(){return f(t)},color:c.Button.Colors.PRIMARY,disabled:b,submitting:p,children:ze.Z.Messages.MESSAGE_REQUEST_IGNORE})]})};const Po=function(e){var t=e.userId,n=e.channel,o=e.showingBanner,i=(0,co._)().channelId,a=(0,u.e7)([lo.Z],(function(){return null!=i&&lo.Z.isSpam(i)}),[i]),l=(0,u.e7)([tr.Z],(function(){
return tr.Z.getRelationshipType(t)}),[t]),c=n.id===i;return t===Eo.fL?null:a||c?(0,r.jsxs)("div",{className:jo().mobileContainer,children:[(0,r.jsx)("div",{className:jo().mobileMutualGuilds,children:(0,r.jsx)(_o,{userId:t})}),(0,r.jsxs)("div",{className:jo().mobileButtons,children:[(0,r.jsx)(wo,{channelId:n.id,otherUserId:t}),(0,r.jsx)(so.Z,{channel:n})]})]}):!0===Ft.tq||c?(0,r.jsxs)("div",{className:jo().mobileContainer,children:[(0,r.jsx)("div",{className:jo().mobileMutualGuilds,children:(0,r.jsx)(_o,{userId:t})}),(0,r.jsxs)("div",{className:jo().mobileButtons,children:[(0,r.jsx)(Io,{relationshipType:l,userId:t,showingBanner:o}),!o&&(0,r.jsx)(Oo,{otherUserId:t,channel:n,navigateAwayOnReportSuccess:!1})]})]}):(0,r.jsxs)("div",{className:jo().container,children:[(0,r.jsx)(_o,{userId:t}),(0,r.jsx)("div",{className:jo().divider}),(0,r.jsx)(Io,{relationshipType:l,userId:t,showingBanner:o}),!o&&(0,r.jsx)(Oo,{otherUserId:t,channel:n})]})}
;var xo=n(955521),Ao=n(469023),To=n(358969),No=n(572615),Mo=n(727081),Zo=n(319794),Lo=n.n(Zo);function Ro(e){var t=e.appliedTags,n=e.setAppliedTags,o=null!=n?function(e){if(t.has(e)){t.delete(e);n(new Set(t))}}:void 0;return(0,r.jsx)("div",{className:Lo().tags,children:Array.from(t).map((function(e){return(0,r.jsx)(Mo.ZP,{tag:e,onRemove:o,size:null==o?Mo.ZP.Sizes.SMALL:Mo.ZP.Sizes.MEDIUM},e.id)}))})}var Do=n(143901),ko=n(229261),Uo=n.n(ko);function Bo(e){var t,n=e.channel,o=(0,To.eV)(n),i=(0,u.cj)([No.Z],(function(){return No.Z.getMessage(n.id)})).firstMessage,a=new Set((0,To.kn)(n,o)),l=null!==(t=(0,Ao.Z)(n))&&void 0!==t?t:Do.Z;return(0,r.jsxs)(xo.ZP,{channelId:n.id,className:Uo().container,children:[(0,r.jsx)("div",{className:Uo().iconWrapper,children:(0,r.jsx)(l,{className:Uo().icon,strokeWidth:1.75})}),(0,r.jsx)(xo.Ot,{className:Uo().header,children:n.name}),null==i&&(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",
children:ze.Z.Messages.REPLY_QUOTE_MESSAGE_DELETED}),(0,r.jsx)(Ro,{appliedTags:a})]})}var Fo=n(841379),Go=n(995141),Ho=n(621647);function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vo(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e){var t,n=e.channel,i=e.children,a=e.user,l=Wo(o.useState(!1),2),s=l[0],f=l[1],p=(0,u.e7)([d.Z],(function(){return d.Z.useReducedMotion})),h=null!==(t=(0,Xr.ZP)(n))&&void 0!==t?t:"",y=(0,Fo.Z)({user:a,size:(0,Go.y)(c.AvatarSizes.SIZE_80),canAnimate:s});return(0,r.jsxs)(xo.ZP,{channelId:n.id,onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[(0,r.jsx)(c.Avatar,{"aria-label":h,size:c.AvatarSizes.SIZE_80,src:(0,Ho.x)(n,80,!p&&s),avatarDecoration:y}),(0,r.jsx)(xo.Ot,{children:h}),(0,r.jsx)(xo.jz,{children:i})]})}var Yo=n(940060),Ko=n(547308),qo=n(87127),Xo=n(73904),Qo=n(276190),Jo=n(703790),$o=n(883064),ei=n(363582),ti=n(189865),ni=n(566500),ri=n(534204),oi=n.n(ri);function ii(e){var t,n=e.className,o=e.children,i=e.verified,l=e.roleColor,u=e.roleName;t=i?(0,r.jsx)(ni.Z,{size:12,
color:l,className:oi().linkedRoleColor}):(0,r.jsx)("div",{className:oi().roleColor,style:{backgroundColor:l}});return(0,r.jsxs)("div",{className:a()(n,oi().role),children:[t,u,o]})}var ai=n(166030),li=n.n(ai);function ui(e){var t=e.className,n=e.roleColor,o=e.roleName,i=e.hasRemoveIcon,l=void 0!==i&&i,u=e.onClick,s=e.disabled,f=void 0!==s&&s,d=e.verified,p=void 0!==d&&d;return(0,r.jsx)(c.Button,{className:a()(t,li().button),look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,onClick:u,disabled:f,children:(0,r.jsx)(ii,{className:li().role,roleColor:n,roleName:o,verified:p,children:l&&(0,r.jsx)(ti.Z,{height:6,width:6,className:li().removeRole,foreground:li().removeRoleIcon})})})}var ci=n(563135),si=n(107364),fi=n(475806),di=n.n(fi);function pi(e){var t=e.icon,n=e.onClick,o=e.label;return(0,r.jsx)(c.Button,{look:c.Button.Looks.BLANK,size:c.Button.Sizes.MIN,className:di().button,onClick:n,children:(0,r.jsxs)(si.Z,{align:si.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:di().buttonIcon,
children:t}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"none",children:o})]})})}var hi=n(940405),yi=n(285475),bi=n.n(yi);function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function gi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e){var t=e.channel,n=function(){qo.ZP.open(t.id)},i=Oi(o.useState(!1),2),l=i[0],s=i[1],f=(0,Xr.ZP)(t,!0),d=(0,u.e7)([bt.Z],(function(){return bt.Z.getGuild(t.guild_id)})),p=(0,u.e7)([w.default],(function(){return w.default.getUser(null==d?void 0:d.ownerId)})),h=o.useMemo((function(){
return null!=d?q()(d.roles).sortBy((function(e){return-e.position})).filter((function(e){return e.id!==d.id})).value():[]}),[d]),y=o.useMemo((function(){return q()(h).filter((function(e){if(null==d)return!1;var n=ci.ZP.computePermissionsForRoles({forceRoles:vi({},e.id,e),context:t});return Yo.Z.has(n,U.Plq.ADMINISTRATOR)||Yo.Z.has(n,U.Plq.VIEW_CHANNEL)})).value()}),[t,d,h]),b=(0,u.Wu)([w.default],(function(){var e={};null!=p&&(e[p.id]=p);var n=!0,r=!1,o=void 0;try{for(var i,a=Object.values(t.permissionOverwrites)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;if(l.type===Xo.BN.MEMBER&&null==e[l.id]){var u=w.default.getUser(l.id);null!=u&&(e[u.id]=u)}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return q()(e).filter((function(e){var n,r=ci.ZP.can({permission:U.Plq.ADMINISTRATOR,user:e,context:t}),o=null!==(n=t.permissionOverwrites[e.id])&&void 0!==n?n:ci.ZP.NONE,i=Yo.Z.has(o.allow,U.Plq.VIEW_CHANNEL);return r||i})).value()
}),[t,p]),m=j.Z.can(U.Plq.MANAGE_CHANNELS,t)||j.Z.can(U.Plq.MANAGE_ROLES,t),v=o.useCallback((function(){return s(!1)}),[]);return(0,r.jsxs)(xo.ZP,{channelId:t.id,children:[(0,r.jsx)(xo.Kq,{locked:!0,channelType:t.type}),(0,r.jsx)(xo.Ot,{children:ze.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:f})}),(0,r.jsx)(xo.jz,{children:ze.Z.Messages.BEGINNING_ROLE_REQUIRED_CHANNEL_DESCRIPTION.format({channelName:f,topicHook:function(){return $o.Z.parseTopic(t.topic,!0,{channelId:t.id})}})}),m?(0,r.jsxs)("div",{className:bi().channelSettingButtons,children:[(0,r.jsx)(pi,{label:ze.Z.Messages.CHANNEL_PERMISSIONS_ADD_MEMBERS_TITLE,onClick:function(){return s(!0)},icon:(0,r.jsx)(ei.Z,{width:16,height:16})}),(0,r.jsx)(pi,{label:ze.Z.Messages.EDIT_CHANNEL,onClick:n,icon:(0,r.jsx)(Pt.Z,{width:16,height:16})})]}):null,(0,r.jsxs)("div",{className:bi().members,children:[function(){if(1!==b.length||y.length>0)return(0,r.jsx)(hi.Z,{guildId:t.guild_id,className:bi().avatars,maxUsers:5,users:b})
;var e=b[0],n=io.ZP.getName(e);return(0,r.jsxs)("div",{className:bi().avatars,children:[(0,r.jsx)(c.Avatar,{src:e.getAvatarURL(t.guild_id,24),"aria-label":n,size:c.AvatarSizes.SIZE_24}),(0,r.jsx)(c.Text,{tag:"span",className:bi().singleUserName,variant:"text-md/normal",children:n})," ",(0,r.jsx)(c.Text,{tag:"span",variant:"text-md/normal",color:"text-muted",children:ze.Z.Messages.ROLE_REQUIRED_SINGLE_USER_MESSAGE})]})}(),y.map((function(e,n){var o,i,l=null!==(i=e.colorString)&&void 0!==i?i:(0,Ko.Rf)(U.p6O),u=void 0!==(null===(o=e.tags)||void 0===o?void 0:o.guild_connections);return m?(0,r.jsx)(ui,{className:a()(bi().role,vi({},bi().last,n===y.length-1)),roleName:e.name,roleColor:l,disabled:!m,verified:u,onClick:function(){Jo.Z.open(t.guild_id,U.pNK.MEMBERS);Jo.Z.selectRole(e.id)}},e.id):(0,r.jsx)(ii,{className:a()(bi().role,vi({},bi().last,n===y.length-1)),roleName:e.name,roleColor:l,verified:u},e.id)}))]}),l?(0,r.jsx)(c.Modal,{renderModal:function(e){return(0,
r.jsx)(Qo.default,gi(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){vi(e,t,n[t])}))}return e}({},e),{onClose:function(){v();return e.onClose()},channelId:t.id}))},onCloseRequest:function(){return s(!1)}}):null]})}var Ci=n(859917),Si=n(128181),ji=n(198113),_i=n.n(ji),Ii=n(558504),wi=n.n(Ii),Pi=function(){return(0,r.jsx)("svg",{width:"46",height:"34",viewBox:"0 0 46 34",className:_i().chatBubbleLip,xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M0 33.4637C16.1697 28.954 21.1764 9.59155 19.2146 0L45.681 0.000148089C45.681 0.000148089 44.681 9.14498 40.1914 18.3023C34.4077 30.0996 6.2893 33.1232 0 33.4637Z"})})};function xi(e){var t,n=e.channel,o=null!==(t=(0,Xr.ZP)(n))&&void 0!==t?t:"";return(0,r.jsxs)("div",{id:(0,
z.p)(n.id,n.id),className:_i().headerContainer,children:[(0,r.jsx)("img",{src:wi(),className:_i().wumpusImage,alt:""}),(0,r.jsxs)("div",{className:_i().chatBubbleContainer,children:[(0,r.jsx)(Pi,{}),(0,r.jsxs)("div",{className:_i().chatBubble,children:[(0,r.jsx)(c.Avatar,{"aria-label":o,size:c.AvatarSizes.SIZE_80,src:(0,Ho.x)(n,80,!1)}),(0,r.jsxs)(xo.Ot,{className:_i().emptyMessageHeader,children:[o,(0,r.jsx)(Ci.Z,{className:_i().flowerStar,size:24,children:(0,r.jsx)(Si.Z,{className:_i().verified,width:24,height:24})})]}),(0,r.jsx)(xo.jz,{children:ze.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE})]})]})]})}var Ai=n(500763),Ti=n.n(Ai);function Ni(e){var t=e.channel,n=(0,Xr.ZP)(t,!0),o=(0,u.e7)([j.Z],(function(){return j.Z.can(U.Plq.MANAGE_CHANNELS,t)&&ro.dF.has(t.type)}));return(0,r.jsxs)(xo.ZP,{channelId:t.id,children:[(0,r.jsx)(xo.Kq,{channelType:t.type}),(0,r.jsx)(xo.Ot,{children:ze.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:n})}),(0,r.jsx)(xo.jz,{
children:ze.Z.Messages.BEGINNING_CHANNEL_DESCRIPTION.format({channelName:n,topicHook:function(){return $o.Z.parseTopic(t.topic,!0,{channelId:t.id})}})}),o?(0,r.jsx)("div",{className:Ti().buttonContainer,children:(0,r.jsx)(pi,{label:ze.Z.Messages.EDIT_CHANNEL,onClick:function(){qo.ZP.open(t.id)},icon:(0,r.jsx)(Pt.Z,{width:16,height:16})})}):null]})}var Mi=n(971402),Zi=n(197045),Li=n(500360),Ri=n.n(Li);function Di(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ki(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Di(i,r,o,a,l,"next",e)}function l(e){Di(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ui(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ui(e,t,n[t])}))}return e}function Fi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Gi=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function Hi(e){var t,o,i=e.userId,l=e.channel,s=function(e){if(null==f)return null;(0,Mi.jW)(e,ki((function(){var e,t;return Gi(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(40532),n.e(49244),n.e(78294)]).then(n.bind(n,478294))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Fi(Bi({},e),{user:f,guildId:l.guild_id,channel:l}))}]}}))})))},f=(0,u.e7)([w.default],(function(){return w.default.getUser(i)})),d=(0,u.e7)([Pe.ZP],(function(){return null!=i?Pe.ZP.getMember(l.guild_id,i):null})),p=null!==(o=null!==(t=null==d?void 0:d.nick)&&void 0!==t?t:io.ZP.getName(f))&&void 0!==o?o:"???",h=null==d?void 0:d.colorString;return null==f?(0,r.jsx)("span",{className:a()(Ri().threadCreatorName,Ri().unknownCreatorName),children:p}):(0,r.jsx)(c.Popout,{preload:function(){return(0,to.Z)(f.id,f.getAvatarURL(l.guild_id,80),{guildId:l.guild_id,channelId:l.id})},renderPopout:function(e){return(0,r.jsx)(Zi.Z,Bi({userId:f.id,guildId:l.guild_id,channelId:l.id},e))},position:"right",children:function(e){return(0,r.jsx)(c.Clickable,Fi(Bi({},e),{tag:"span",className:Ri().threadCreatorName,onContextMenu:s,children:(0,
r.jsx)(c.NameWithRole,{name:p,color:null!=h?h:void 0})}))}})}function Vi(e){var t=e.channel;return null==t.threadMetadata?(0,r.jsx)("div",{style:{marginTop:-8}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:(0,r.jsx)("div",{className:Ri().subtitle,children:ze.Z.Messages.THREAD_STARTED_BY.format({usernameHook:function(e,n){return(0,r.jsx)(Hi,{userId:t.ownerId,channel:t},n)}})})}),t.type===U.d4z.PRIVATE_THREAD?(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",children:ze.Z.Messages.EMPTY_MESSAGE_PRIVATE_THREAD_INSTRUCTIONS}):null]})}function Wi(e){var t,n=e.channel,o=null!==(t=(0,Ao.Z)(n))&&void 0!==t?t:Nt.Z;return(0,r.jsxs)(xo.ZP,{channelId:n.id,children:[(0,r.jsx)("div",{className:Ri().iconWrapper,children:(0,r.jsx)(o,{className:Ri().icon})}),(0,r.jsx)(xo.Ot,{children:n.name}),(0,r.jsx)(Vi,{channel:n})]})}var zi=n(672886),Yi=n(518280),Ki=n.n(Yi);function qi(e){var t=e.canManageRoles,n=e.channel,o=t&&(0,
Qr.Yk)(n),i=(0,u.e7)([oo.ZP],(function(){return null!=n.guild_id&&n===oo.ZP.getDefaultChannel(n.guild_id)}),[n]);return(0,Jr.Z)(n.id)?null:n.isForumPost()?(0,r.jsx)(Bo,{channel:n}):ro.Ec.has(n.type)?(0,r.jsx)(Wi,{channel:n}):i?(0,r.jsx)(zi.Z,{channel:n}):o?(0,r.jsx)(Ei,{channel:n}):(0,r.jsx)(Ni,{channel:n})}function Xi(e){var t,n=e.channel,i=e.showingBanner,a=(0,Xr.ZP)(n),l=(0,no.rW)(),s=n.type,f=(0,u.e7)([w.default],(function(){return n.isPrivate()?w.default.getUser(n.getRecipientId()):null})),d=io.ZP.useUserTag(f),p=(0,u.cj)([j.Z],(function(){return{canManageRoles:j.Z.can(U.Plq.MANAGE_ROLES,n),canReadMessageHistory:j.Z.can(U.Plq.READ_MESSAGE_HISTORY,n)}})),h=p.canManageRoles,y=p.canReadMessageHistory,b=(0,u.e7)([eo.Z],(function(){return s===U.d4z.DM?eo.Z.getMutualGuilds(n.getRecipientId()):null}),[n,s]),m=$r.Z.useExperiment({},{autoTrackExposure:null!==(t=n.isSystemDM())&&void 0!==t&&t}).systemDMRedesignEnabled;o.useEffect((function(){
s===U.d4z.DM&&null==b&&null!=f&&Be.Z.wait((function(){return(0,to.Z)(n.getRecipientId(),f.getAvatarURL(null,80),{withMutualGuilds:!0})}))}),[b,s,n,f]);return n.isSystemDM()?m?(0,r.jsx)(xi,{channel:n}):(0,r.jsx)(zo,{channel:n,children:ze.Z.Messages.SYSTEM_DM_EMPTY_MESSAGE}):s===U.d4z.DM?(0,r.jsxs)(zo,{channel:n,user:f,children:[l&&null!=f&&(0,r.jsx)(c.Heading,{variant:"heading-xl/medium",className:Ki().marginBottom20,children:d}),ze.Z.Messages.BEGINNING_DM.format({username:a}),(0,r.jsx)(Po,{userId:n.getRecipientId(),channel:n,showingBanner:i})]}):n.isMultiUserDM()?n.isManaged()?(0,r.jsxs)(xo.ZP,{channelId:n.id,children:[(0,r.jsx)(xo.Ot,{children:ze.Z.Messages.BEGINNING_CHANNEL_WELCOME.format({channelName:a})}),(0,r.jsx)(xo.jz,{children:ze.Z.Messages.BEGINNING_GROUP_DM_MANAGED})]}):(0,r.jsx)(zo,{channel:n,children:ze.Z.Messages.BEGINNING_GROUP_DM.format({name:a})}):y?(0,r.jsx)(qi,{channel:n,canManageRoles:h}):(0,r.jsx)(xo.ZP,{channelId:n.id,children:(0,r.jsx)(xo.jz,{
children:ze.Z.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:a})})})}var Qi=n(482507),Ji=n(677681),$i=n(898302),ea=n(522678),ta=n(318715),na=n(223430),ra=n(176758),oa=n(449353),ia=n(633878);function aa(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function la(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ua(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ca(e){var t=e.width,n=void 0===t?45:t,o=e.height,i=void 0===o?46:o,a=ua(e,["width","height"]);return(0,r.jsxs)("svg",la(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){aa(e,t,n[t])}))}return e}({},(0,ia.Z)(a)),{width:n,height:i,viewBox:"0 0 49 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M29.424 22.375L30.9908 17.9974C31.6183 16.242 32.8917 14.792 34.5514 13.943L46.105 8.03515C47.7328 7.19988 49.3851 9.15697 48.2694 10.6141C47.1536 12.0713 45.1905 13.7662 42.0689 15.0465L45.5563 15.0222C46.9464 15.01 47.4829 16.8268 46.3123 17.5767C44.3247 18.8632 41.3372 19.924 37.4962 18.8144L38.9229 20.1557C39.6728 20.863 39.1119 22.1128 38.0815 22.0397C36.6183 21.9238 34.8746 21.4909 33.6857 20.2106C33.6857 20.2106 32.8992 22.375 30.8201 23.5639C30.0397 24.0089 29.1252 23.2224 29.424 22.375Z",fill:"white"}),(0,r.jsx)("path",{d:"M19.5767 46.8513C20.112 45.2515 18.84 43.3838 16.7357 42.6798C14.6314 41.9757 12.4916 42.7018 11.9563 44.3016C11.421 45.9014 12.6929 47.769 14.7973 48.4731C16.9016 49.1772 19.0414 48.4511 19.5767 46.8513Z",fill:"#66B9FF"}),(0,r.jsx)("path",{
d:"M25.2658 39.551C25.0403 40.2339 24.4915 40.7521 23.7172 41.0996C23.9001 41.6423 23.9184 42.1788 23.7477 42.6848C23.577 43.1909 23.1685 43.6847 22.6198 44.0261C22.7379 44.4329 22.7336 44.8655 22.6076 45.2699C21.9918 47.0929 18.791 47.666 15.456 46.5441C12.121 45.4223 9.90783 43.0384 10.5175 41.2155C10.6648 40.8046 10.9325 40.4476 11.2857 40.1912C11.0662 39.6059 11.0236 39.0206 11.2065 38.478C11.3894 37.9354 11.7186 37.5574 12.1881 37.2342C11.7796 36.4904 11.6576 35.7405 11.8832 35.0637C12.56 33.0457 16.1083 32.4116 19.803 33.6493C23.4978 34.8869 25.9426 37.533 25.2658 39.551Z",fill:"#89D6FF"}),(0,r.jsx)("path",{
d:"M9.76155 19.8454C11.6089 14.3277 19.0166 11.8341 26.2963 14.279C33.5759 16.7238 37.984 23.1743 36.1366 28.692C34.9294 32.2891 31.3628 34.5998 27.0096 35.0998C26.5376 35.1499 26.0849 35.3144 25.6908 35.5789C25.2966 35.8435 24.9729 36.2001 24.7477 36.6179L23.9855 38.0506C23.1686 39.3737 20.6079 39.7517 17.9557 38.8615C15.1146 37.9104 13.2368 35.868 13.694 34.2584L13.9318 33.0207C14.0215 32.5411 13.9898 32.0467 13.8397 31.5824C13.6895 31.1181 13.4257 30.6988 13.0722 30.3625C9.97494 27.3506 8.56657 23.406 9.76155 19.8454Z",fill:"#FFEFA3"}),(0,r.jsx)("path",{
d:"M21.0407 42.2577C19.8335 42.2577 18.5166 42.0321 17.2119 41.5932C15.1755 40.9164 13.4013 39.7763 12.3344 38.4716C12.2837 38.4193 12.2444 38.3572 12.2191 38.289C12.1938 38.2207 12.1829 38.148 12.1872 38.0754C12.1915 38.0027 12.2109 37.9318 12.2441 37.8671C12.2773 37.8023 12.3236 37.7452 12.3801 37.6993C12.4366 37.6535 12.502 37.6199 12.5722 37.6006C12.6423 37.5814 12.7158 37.577 12.7877 37.5877C12.8597 37.5984 12.9287 37.624 12.9902 37.6628C13.0518 37.7016 13.1046 37.7528 13.1453 37.8131C14.0903 38.9654 15.6938 39.9836 17.5411 40.6055C19.2848 41.1908 21.0895 41.3615 22.504 41.0749C22.5736 41.0547 22.6467 41.0491 22.7186 41.0586C22.7905 41.068 22.8597 41.0923 22.9217 41.1298C22.9838 41.1674 23.0374 41.2174 23.0791 41.2767C23.1208 41.336 23.1498 41.4033 23.1642 41.4744C23.1786 41.5455 23.1781 41.6188 23.1627 41.6897C23.1473 41.7605 23.1174 41.8275 23.0748 41.8862C23.0322 41.9449 22.9779 41.9941 22.9154 42.0308C22.8528 42.0675 22.7833 42.0908 22.7113 42.0992C22.1613 42.2092 21.6015 42.2623 21.0407 42.2577V42.2577ZM20.8761 45.0745C21.0147 45.062 21.1429 44.9956 21.233 44.8896C21.3231 44.7835 21.3679 44.6463 21.3577 44.5075C21.3453 44.3693 21.2787 44.2417 21.1725 44.1526C21.0662 44.0635 20.9289 44.0201 20.7907 44.0319C19.5043 44.1416 17.9862 43.9283 16.5229 43.4344C14.9377 42.904 13.5233 42.0931 12.5478 41.1481C12.4458 41.0675 12.3175 41.0276 12.1878 41.0362C12.058 41.0448 11.9361 41.1014 11.8457 41.1948C11.7553 41.2882 11.7029 41.4119 11.6985 41.5419C11.6942 41.6718 11.7383 41.7987 11.8222 41.898C12.9075 42.9528 14.4622 43.849 16.1876 44.4282C17.5228 44.8733 18.858 45.105 20.0957 45.105C20.364 45.105 20.62 45.0928 20.8761 45.0745V45.0745Z",
fill:"#3F96EF"}),(0,r.jsx)("path",{d:"M11.6396 20.8698C13.2065 16.1813 19.4924 14.0657 25.6746 16.1386C31.8568 18.2116 35.5942 23.6865 34.0212 28.375C32.9969 31.4296 29.9729 33.3867 26.2782 33.8074C25.8773 33.851 25.493 33.9914 25.1584 34.2166C24.8238 34.4418 24.549 34.7449 24.3577 35.0999L23.7114 36.3193C23.0163 37.4411 20.8459 37.7642 18.59 37.0082C16.1817 36.1973 14.5844 34.4658 14.9746 33.1001L15.1819 32.0454C15.2562 31.6382 15.2283 31.2189 15.1006 30.8252C14.9729 30.4314 14.7494 30.0756 14.4502 29.7895C11.8164 27.2349 10.6275 23.8877 11.6396 20.8698Z",fill:"url(#paint0_linear_859_60333)"}),(0,r.jsx)("path",{
d:"M18.8521 39.1186C19.1939 39.1973 19.54 39.2563 19.8886 39.2954C21.5042 33.412 23.2053 28.7905 24.7234 26.0652C28.1254 27.1627 29.3875 26.6993 29.8387 26.1018C30.2898 25.5043 30.1374 24.6691 29.3875 23.5838C28.6376 22.4986 27.9121 22.151 27.0341 22.3096C26.1562 22.4681 25.2111 23.2851 24.2539 24.8032C23.3483 24.4754 22.4627 24.0947 21.6018 23.6631C21.7908 21.6572 21.553 20.3098 20.9007 19.5965C20.5105 19.1697 19.7666 18.749 18.468 19.1575C17.1694 19.566 16.9316 20.2305 16.9255 20.7183C16.9072 21.9072 18.5351 23.1997 20.48 24.2545C19.9617 28.0589 18.1571 33.6985 16.4377 38.2041C16.7412 38.3718 17.0547 38.5205 17.3767 38.6492C18.0412 36.8933 18.9801 34.3021 19.8032 31.6073C20.6263 28.9125 21.1994 26.5896 21.4677 24.7605C22.2298 25.1263 22.998 25.4495 23.7174 25.7177C22.9187 27.1688 22.0895 29.0954 21.2421 31.4549C20.6507 33.0949 19.7971 35.6556 18.8521 39.1186ZM27.217 23.3399C27.3816 23.3095 27.8694 23.2241 28.5278 24.1752C29.0766 24.9739 29.0887 25.3641 29.0095 25.4677C28.8022 25.7421 27.6133 25.8579 25.2782 25.1446C25.9854 24.0655 26.6439 23.4375 27.217 23.3399ZM20.6019 23.1204C18.9862 22.1876 17.962 21.2548 17.9681 20.7366C17.9742 20.4439 18.5412 20.2366 18.785 20.1574C19.0013 20.0837 19.2273 20.0426 19.4557 20.0354C19.8825 20.0354 20.0593 20.2244 20.1263 20.3037C20.5653 20.7793 20.6995 21.7791 20.6019 23.1204Z",
fill:"#FFC31A"}),(0,r.jsx)("path",{
d:"M32.5883 3.43255C32.9256 3.21613 33.2127 2.93007 33.4304 2.59358C33.648 2.25708 33.7912 1.87793 33.8503 1.48156L34.0515 0.115857C34.0573 0.0830328 34.0746 0.0533456 34.1003 0.0321176C34.126 0.0108896 34.1584 -0.000490999 34.1918 1.62532e-05C34.2244 -0.000288277 34.256 0.0113057 34.2807 0.032628C34.3054 0.0539503 34.3215 0.0835394 34.3259 0.115857L34.5271 1.48156C34.5862 1.87793 34.7294 2.25708 34.9471 2.59358C35.1647 2.93007 35.4519 3.21613 35.7892 3.43255L35.966 3.54839C35.9867 3.55964 36.004 3.57641 36.0158 3.59685C36.0277 3.6173 36.0336 3.64062 36.033 3.66423C36.0336 3.68785 36.0277 3.71117 36.0158 3.73162C36.004 3.75206 35.9867 3.76883 35.966 3.78007L35.7892 3.90201C35.4524 4.11903 35.1657 4.40525 34.9481 4.74163C34.7305 5.07802 34.587 5.45688 34.5271 5.85301L34.3259 7.21871C34.3216 7.25162 34.3057 7.28194 34.2812 7.30426C34.2566 7.32659 34.2249 7.33948 34.1918 7.34065V7.34065C34.1579 7.33971 34.1254 7.32703 34.0998 7.30479C34.0742 7.28256 34.0572 7.25213 34.0515 7.21871L33.8503 5.85301C33.7905 5.45688 33.647 5.07802 33.4294 4.74163C33.2118 4.40525 32.9251 4.11903 32.5883 3.90201L32.4115 3.78617C32.3918 3.77413 32.3758 3.75702 32.3651 3.73663C32.3543 3.71624 32.3493 3.69334 32.3505 3.67033V3.67033C32.3493 3.64732 32.3543 3.62442 32.3651 3.60403C32.3758 3.58364 32.3918 3.56653 32.4115 3.55449L32.5883 3.43255Z",
fill:"#55EF84"}),(0,r.jsx)("path",{
d:"M39.3804 39.3185C39.7181 39.1011 40.0054 38.8141 40.2231 38.4765C40.4408 38.139 40.5837 37.7588 40.6424 37.3614L40.8497 35.9957C40.8541 35.9634 40.8702 35.9338 40.8949 35.9125C40.9196 35.8912 40.9512 35.8796 40.9838 35.8799V35.8799C41.0165 35.8796 41.0481 35.8912 41.0728 35.9125C41.0974 35.9338 41.1135 35.9634 41.118 35.9957L41.3253 37.3614C41.3851 37.7584 41.5285 38.1382 41.7461 38.4755C41.9636 38.8129 42.2504 39.1003 42.5873 39.3185L42.7641 39.4283C42.7826 39.4415 42.7977 39.4589 42.8083 39.479C42.8189 39.4991 42.8246 39.5214 42.8251 39.5441V39.5563C42.8246 39.5782 42.8189 39.5996 42.8082 39.6187C42.7976 39.6379 42.7825 39.6541 42.7641 39.666L42.5873 39.7819C42.2498 39.9996 41.9627 40.2867 41.7451 40.6242C41.5274 40.9617 41.3843 41.3418 41.3253 41.739L41.118 43.0986C41.1137 43.1315 41.0978 43.1618 41.0733 43.1841C41.0487 43.2065 41.017 43.2194 40.9838 43.2205V43.2205C40.9507 43.2194 40.919 43.2065 40.8944 43.1841C40.8699 43.1618 40.854 43.1315 40.8497 43.0986L40.6424 41.739C40.5845 41.3414 40.4419 40.9609 40.2241 40.6233C40.0064 40.2856 39.7186 39.9987 39.3804 39.7819L39.2035 39.666C39.1852 39.6541 39.1701 39.6379 39.1594 39.6187C39.1488 39.5996 39.143 39.5782 39.1426 39.5563V39.5441C39.143 39.5214 39.1488 39.4991 39.1594 39.479C39.17 39.4589 39.1851 39.4415 39.2035 39.4283L39.3804 39.3185Z",
fill:"#FF78B5"}),(0,r.jsx)("path",{
d:"M26.5035 8.52263C26.7308 8.37742 26.9245 8.18538 27.0717 7.95934C27.2189 7.73329 27.3162 7.47844 27.3571 7.2118L27.4912 6.29118C27.4953 6.2696 27.5065 6.25004 27.5231 6.23565C27.5397 6.22127 27.5607 6.21291 27.5826 6.21192V6.21192C27.6049 6.21172 27.6265 6.21966 27.6433 6.23426C27.6602 6.24885 27.6711 6.26909 27.6741 6.29118L27.8143 7.2118C27.8541 7.47805 27.9503 7.73273 28.0964 7.95879C28.2426 8.18486 28.4353 8.37709 28.6618 8.52263L28.7776 8.60189C28.7914 8.60981 28.8027 8.62143 28.8103 8.63544C28.8178 8.64944 28.8213 8.66527 28.8203 8.68115C28.8208 8.69613 28.8171 8.71096 28.8096 8.72391C28.802 8.73686 28.7909 8.7474 28.7776 8.75431L28.6618 8.83357C28.4353 8.97911 28.2426 9.17135 28.0964 9.39741C27.9503 9.62348 27.8541 9.87815 27.8143 10.1444L27.6741 11.065C27.6711 11.0871 27.6602 11.1074 27.6433 11.1219C27.6265 11.1365 27.6049 11.1445 27.5826 11.1443V11.1443C27.5607 11.1433 27.5397 11.1349 27.5231 11.1206C27.5065 11.1062 27.4953 11.0866 27.4912 11.065L27.3571 10.1444C27.3162 9.87776 27.2189 9.62291 27.0717 9.39686C26.9245 9.17082 26.7308 8.97878 26.5035 8.83357L26.3876 8.75431C26.3752 8.74646 26.3648 8.73571 26.3573 8.72297C26.3499 8.71023 26.3457 8.69588 26.345 8.68115V8.68115C26.3452 8.66548 26.3492 8.6501 26.3566 8.6363C26.364 8.62251 26.3747 8.6107 26.3876 8.60189L26.5035 8.52263Z",
fill:"#89D6FF"}),(0,r.jsx)("path",{
d:"M0.524839 29.6125C0.752168 29.4673 0.945898 29.2752 1.09309 29.0492C1.24028 28.8231 1.33755 28.5683 1.3784 28.3016L1.51253 27.381C1.51663 27.3594 1.52789 27.3399 1.54448 27.3255C1.56108 27.3111 1.58204 27.3027 1.60399 27.3018V27.3018C1.62627 27.3016 1.64786 27.3095 1.6647 27.3241C1.68154 27.3387 1.69247 27.3589 1.69544 27.381L1.83567 28.3016C1.87543 28.5679 1.9716 28.8226 2.11776 29.0486C2.26391 29.2747 2.45667 29.4669 2.68313 29.6125L2.79897 29.6917C2.81276 29.6997 2.82407 29.7113 2.83161 29.7253C2.83915 29.7393 2.84263 29.7551 2.84165 29.771V29.771C2.84218 29.786 2.83846 29.8008 2.8309 29.8138C2.82335 29.8267 2.81228 29.8372 2.79897 29.8442L2.68313 29.9295C2.45667 30.0751 2.26391 30.2673 2.11776 30.4934C1.9716 30.7194 1.87543 30.9741 1.83567 31.2403L1.69544 32.161C1.69247 32.1831 1.68154 32.2033 1.6647 32.2179C1.64786 32.2325 1.62627 32.2404 1.60399 32.2402C1.58204 32.2392 1.56108 32.2309 1.54448 32.2165C1.52789 32.2021 1.51663 32.1825 1.51253 32.161L1.3784 31.2403C1.33755 30.9737 1.24028 30.7189 1.09309 30.4928C0.945898 30.2668 0.752168 30.0747 0.524839 29.9295L0.408999 29.8503C0.396513 29.8424 0.386111 29.8317 0.378679 29.8189C0.371248 29.8062 0.367008 29.7918 0.366321 29.7771V29.7771C0.365528 29.7604 0.369036 29.7438 0.37651 29.7288C0.383983 29.7139 0.39517 29.7011 0.408999 29.6917L0.524839 29.6125Z",
fill:"#3541D6"}),(0,r.jsx)("path",{d:"M14.5781 21.0834L14.8647 16.6449C14.9792 14.8659 14.41 13.1103 13.2734 11.7369L5.37186 2.17094C4.25003 0.823536 2.06735 1.91488 2.49413 3.6159C2.92091 5.31693 3.99396 7.55448 6.2559 9.8591L3.20137 8.51778C1.98809 7.98126 0.829688 9.37135 1.57351 10.4749C2.83556 12.3527 5.05482 14.4135 8.84707 14.8951L7.08508 15.5353C6.15835 15.8706 6.17664 17.1814 7.10946 17.5046C8.43858 17.9618 10.1335 18.2423 11.6638 17.5655C11.6638 17.5655 11.5297 19.7604 12.9076 21.5956C13.4258 22.2845 14.5233 21.9431 14.5781 21.0834Z",fill:"white"}),(0,r.jsx)("path",{d:"M32.7407 25.4545C32.9236 27.1067 32.9663 28.3992 33.6369 28.3261C34.3076 28.2529 35.3441 26.8384 35.1611 25.1862C34.9782 23.5339 33.643 22.2658 32.9724 22.339C32.3017 22.4121 32.5578 23.8022 32.7407 25.4545Z",fill:"white"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"paint0_linear_859_60333",x1:"34.2419",y1:"5.70262",x2:"5.61649",y2:"53.1558",gradientUnits:"userSpaceOnUse",children:[(0,
r.jsx)("stop",{offset:"0.14","stop-color":"#FFE45C"}),(0,r.jsx)("stop",{offset:"0.83","stop-color":"#FFC31A"})]})})]}))}var sa=n(696047),fa=n(563817),da=n.n(fa);function pa(e){var t=e.threadId,n=(0,ta.ZP)([de.Z],(function(){return de.Z.getChannel(t)})),i=(0,ta.ZP)([de.Z],(function(){return de.Z.getChannel(null==n?void 0:n.parent_id)})),a=o.useCallback((function(){if(null!=n&&null!=i){(0,Ur.yw)(U.rMx.MEDIA_POST_SHARE_PROMPT_CLICKED,{media_post_id:n.id});(0,Qi.J)((0,ra.EO)(n,i))}}),[n,i]);return(0,r.jsxs)("div",{className:da().sharePromptContainer,children:[(0,r.jsx)(ca,{}),(0,r.jsxs)("div",{className:da().sharePromptContent,children:[(0,r.jsx)(c.Text,{variant:"text-md/semibold",color:"header-primary",children:ze.Z.Messages.MEDIA_POST_SHARE_PROMPT_TITLE}),(0,r.jsx)(c.Text,{variant:"text-sm/medium",color:"text-normal",children:ze.Z.Messages.MEDIA_POST_SHARE_PROMPT_SUBTITLE.format({helpArticleUrl:sa.S})}),(0,r.jsx)(na.Z,{size:4}),(0,r.jsxs)(c.Button,{className:da().sharePromptCta,
innerClassName:da().ctaContent,onClick:a,children:[(0,r.jsx)(Ct.Z,{height:"16px",width:"16px"}),(0,r.jsx)(c.Text,{variant:"text-sm/medium",color:"always-white",children:ze.Z.Messages.MEDIA_POST_SHARE_PROMPT_CTA})]})]}),(0,r.jsx)(c.Clickable,{className:da().closeButton,onClick:function(){(0,oa.fn)(t)},"aria-label":ze.Z.Messages.REMOVE_MESSAGE_ATTACHMENT,children:(0,r.jsx)(ti.Z,{height:"15px",width:"15px"})})]})}var ha=n(30778),ya=n(103295),ba=n(776009),ma=n(941463),va=n.n(ma),ga=function(){return n.e(61029).then(n.t.bind(n,640002,19)).then((function(e){return e.default}))};function Oa(e){var t=e.channel,n=e.isLastItem,o=(0,u.e7)([d.Z],(function(){return d.Z.useReducedMotion})),i=(0,u.e7)([j.Z],(function(){return j.Z.can(U.Plq.SEND_MESSAGES_IN_THREADS,t)})),a=(0,Ie.Gu)(t),l=(0,u.e7)([O.default],(function(){return O.default.getId()}));return n?i&&!a&&t.ownerId!==l?(0,r.jsxs)("div",{className:va().box,children:[(0,r.jsx)(ba.Z,{importData:ga,shouldAnimate:!o,className:va().animation}),(0,
r.jsxs)("div",{className:va().textContainer,children:[(0,r.jsx)(c.Heading,{variant:"heading-md/semibold",children:ze.Z.Messages.FORUM_START_THE_CONVERSATION_HEADER}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",color:"header-secondary",children:ze.Z.Messages.FORUM_START_THE_CONVERSATION_DESCRIPTION})]})]}):null:(0,r.jsx)("div",{className:va().divider})}const Ea=o.memo(Oa);var Ca=n(652900),Sa=n(203244),ja=n(487685),_a=n(671293),Ia=n(312682),wa=n(621329),Pa=n(234798),xa=n(854602),Aa=n(883069),Ta=n(91655),Na=n.n(Ta),Ma=n(11783),Za=n.n(Ma);function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ra(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ra(e,t,n[t])}))}return e}function ka(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return La(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ba=16;function Fa(e){var t=e.postId,n=e.isFirstMessage,i=e.isLastItem,l=void 0!==i&&i,s=e.parentChannelId,f=(0,Ji.Z)(),d=f.ref,p=f.width,h=Ua(o.useState(3),2),y=h[0],b=h[1],m=Ua(o.useState(!n),2),v=m[0],g=m[1],O=Ua((0,$i.Z)(!1,2e3),2),E=O[0],C=O[1],S=(0,u.e7)([de.Z],(function(){return de.Z.getChannel(t)}),[t]),j=(0,Pa.cl)(S).firstMessage,_=(0,u.e7)([ja.Z],(function(){return ja.Z.hasJoined(t)})),I=(0,ha.Z)(S),w=I.disableReactionUpdates,P=I.disableReactionCreates,x=I.isLurking,A=I.isGuest,T=I.isPendingMember,N=(0,
Aa.xz)(null==S?void 0:S.guild_id),M=(0,u.e7)([de.Z],(function(){return de.Z.getChannel(s)})),Z=(0,To.Bs)(M),L=(0,u.e7)([ea.Z],(function(){return ea.Z.shouldDisplayPrompt(t)&&!0===n}),[t,n]),R=o.useCallback((function(e){var t=e[0];if(null!=t&&n){var r=t.intersectionRect,o=t.boundingClientRect,i=(r.bottom-r.top)/(o.bottom-o.top);g(i<1)}}),[n]);o.useLayoutEffect((function(){var e=d.current;if(null!=e&&n){var t=new IntersectionObserver(R,{threshold:1});t.observe(e);return function(){t.disconnect()}}}));var D=Ua(o.useState(!0),2),k=D[0],B=D[1];o.useEffect((function(){if(null!=p){var e=Math.floor((p-280)/58);b(e);B(!1)}}),[p]);var F=(0,at.Qd)(null==S?void 0:S.guild_id),G=F.enabled,H=F.hasTwoButtonEntryPoint,V=(0,u.e7)([Kt.Z],(function(){return Kt.Z.remainingBurstCurrency}));if(null==S||null==j)return null;var W=j.reactions.length>0,z=function(){_?_a.Z.leaveThread(S,"Forum Toolbar"):_a.Z.joinThread(S,"Forum Toolbar")},Y=function(){(0,xa.B)({postId:S.id,location:{section:U.jXE.CHANNEL_HEADER}
});(0,Qi.J)((0,ra.EO)(S,M));C(!0)},K=_?wa.Z:Ia.Z,q=!W&&!P;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:a()(Na().container,Ra({},Na().header,v)),ref:d,children:[(0,r.jsxs)("div",{className:a()(Na().reactButtons,Ra({},Na().loading,k)),children:[q&&null!=Z&&(0,r.jsx)("div",{className:Za().reactions,children:(0,r.jsx)(Sa.le,{message:j,readOnly:!1,useChatFontScaling:!1,isLurking:x,isGuest:A,isPendingMember:T,emoji:Z,type:Ut.O.NORMAL,hideCount:!0,count:0,me:!1,burst_count:0,me_burst:!1})}),(0,r.jsx)(Ca.Z,{message:j,channel:S,disableReactionCreates:!N||P,disableReactionUpdates:w,isLurking:x,isGuest:A,isPendingMember:T,maxReactions:y,className:Na().reactions,useChatFontScaling:!1,isForumToolbar:!0,forceHideReactionCreates:!0}),!P&&(0,r.jsx)(ya.X,{type:Ut.O.NORMAL,message:j,channel:S,useChatFontScaling:!1,className:Na().addReactButton,isForumToolbar:!0,children:!W&&ze.Z.Messages.FORUM_REACT_TO_POST}),!P&&G&&H&&(0,r.jsx)(ya.X,{type:Ut.O.BURST,remainingBurstCurrency:V,
message:j,channel:S,useChatFontScaling:!1,isForumToolbar:!0,className:Na().addReactButton})]}),(0,r.jsxs)("div",{className:Na().buttons,children:[(0,r.jsx)(c.Tooltip,{text:ze.Z.Messages.FORUM_FOLLOW_TOOLTIP,children:function(e){return(0,r.jsxs)(c.Button,ka(Da({},e),{look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,onClick:z,className:Na().button,innerClassName:a()(Na().buttonInner,Ra({},Na().active,_)),children:[(0,r.jsx)(K,{width:Ba,height:Ba}),_?ze.Z.Messages.FORUM_FOLLOWING_POST:ze.Z.Messages.FOLLOW]}))}}),(0,r.jsx)(c.Tooltip,{text:ze.Z.Messages.COPY_LINK,children:function(e){return(0,r.jsxs)(c.Button,ka(Da({},e),{look:c.Button.Looks.BLANK,size:c.Button.Sizes.SMALL,onClick:Y,className:Na().button,innerClassName:Na().buttonInner,children:[E?(0,r.jsx)(wa.Z,{width:Ba,height:Ba}):(0,r.jsx)(Ct.Z,{width:Ba,height:Ba}),E?ze.Z.Messages.COPIED:null]}))}})]})]}),L&&(0,r.jsx)(pa,{threadId:t}),(0,r.jsx)(Ea,{channel:S,isLastItem:l})]})}var Ga=n(258985),Ha=n(451458),Va=n(842227)
;var Wa=n(86271),za=n(784329),Ya=n(494579),Ka=n(655239),qa=n.n(Ka);function Xa(e){var t=e.summary,n=e.channel,o=null==(0,ta.ZP)([v.Z],(function(){return v.Z.summaryFeedback(t)})),i=function(e,r){e.stopPropagation();(0,za.Z)({summary:t,channel:n,rating:r})},a=(0,ve.useTransition)(o,{enter:{from:{opacity:0},to:{opacity:1}},leave:{opacity:0},config:{mass:1,tension:500,friction:18,clamp:!0}});return(0,r.jsx)(r.Fragment,{children:a((function(e,t){return t?(0,r.jsx)("div",{className:qa().summaryFeedbackWrapper,children:(0,r.jsxs)(ve.animated.div,{style:e,className:qa().summaryFeedback,children:[(0,r.jsx)(c.Text,{variant:"text-xs/medium",color:"interactive-normal",children:ze.Z.Messages.SUMMARY_FEEDBACK}),(0,r.jsx)(c.Clickable,{onClick:function(e){return i(e,Ya.aZ.GOOD)},children:(0,r.jsx)(Zt.Z,{className:qa().thumbIcon,width:12,height:12})}),(0,r.jsx)(c.Clickable,{onClick:function(e){return i(e,Ya.aZ.BAD)},children:(0,r.jsx)(Mt.Z,{className:qa().thumbIcon,width:12,height:12})})]})}):null}))
})}function Qa(e){var t=e.item,n=e.channel,o=e.index,i=(0,ta.ZP)([v.Z],(function(){return v.Z.selectedSummary(n.id)}));if(null==i)return null;var l,u,c,s=null!=t.unreadId,f=null!=t.content;l=f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Wa.Z,{className:qa().summaryStartIcon,width:16,height:16}),t.content]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xa,{summary:i,channel:n}),(0,r.jsx)(Wa.Z,{className:qa().summaryEndIcon,width:16,height:16})]});return(0,r.jsx)(Wr,{className:a()(qa().summaryDivider,f?qa().summaryDividerStart:qa().summaryDividerEnd),contentClassName:f?qa().summaryStartContent:qa().summaryEndContent,isUnread:s,id:s?k.j1:void 0,children:l},"divider-".concat(null!==(c=null!==(u=t.contentKey)&&void 0!==u?u:t.unreadId)&&void 0!==c?c:o))}var Ja=n(4798),$a=n(715107),el=n(84977),tl=n(321705),nl=n(715919),rl=n(487868),ol=n(732827),il=n(326763),al=n.n(il);function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ul(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ll(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e){
var t=e.expanded,n=e.onClick,o=e.count,i=e.compact,a=e.collapsedReason;return(0,r.jsx)(pe.Z,{compact:i,role:"group",childrenMessageContent:(0,r.jsx)(ol.Z,{compact:i,className:al().blockedSystemMessage,iconNode:(0,r.jsx)(ti.Z,{className:al().blockedIcon}),children:(0,r.jsxs)("div",{className:al().blockedMessageText,children:[a.format({count:o})," —"," ",(0,r.jsx)(c.Clickable,{tag:"span",onClick:n,className:al().blockedAction,children:t?ze.Z.Messages.BLOCKED_MESSAGES_HIDE.format({count:o}):ze.Z.Messages.BLOCKED_MESSAGES_SHOW.format({count:o})})]})})})}function fl(e){var t,n,i=e.messages,l=e.channel,u=e.compact,c=void 0!==u&&u,s=e.unreadId,f=e.collapsedReason,d=i.hasJumpTarget,p=void 0!==d&&d,h=cl(o.useState(p),2),y=h[0],b=h[1],m=o.useCallback((function(){return b((function(e){return!e}))}),[]),v=i.hasUnread?i.content.length-1:i.content.length;return(0,r.jsxs)("div",{className:a()((n={},ul(n,jn().groupStart,!0),ul(n,al().expanded,y),n)),
children:[!i.hasUnread||y&&(null===(t=i.content[0])||void 0===t?void 0:t.type)!==U.ys_.DIVIDER?null:(0,r.jsx)(Wr,{isUnread:!0,id:s},"divider"),(0,r.jsx)(sl,{count:v,compact:c,expanded:y,onClick:m,collapsedReason:f},"collapsed-message-item"),y?i.content.map((function(e,t){if(e.type===U.ys_.DIVIDER&&t>0){var n,o,a=null!==(o=null===(n=i.content[t+1])||void 0===n?void 0:n.isGroupStart)&&void 0!==o&&o;return(0,r.jsx)(Wr,{isUnread:!0,isBeforeGroup:a,id:s},"divider")}if(e.type===U.ys_.MESSAGE||e.type===U.ys_.THREAD_STARTER_MESSAGE){var u=e.type===U.ys_.THREAD_STARTER_MESSAGE?Sr:_r;return(0,r.jsx)(u,{className:al().blocked,compact:c,channel:l,message:e.content,groupId:e.groupId,flashKey:e.flashKey,isLastItem:!1,isHighlight:!1,renderContentOnly:!1},e.content.id)}})):null]})}const dl=o.memo(fl);var pl=n(989824),hl=n(853158),yl=n(327566),bl=n(321568);function ml(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function vl(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Ol(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=gl(e,["width","height","color"]);return(0,
r.jsxs)("svg",vl(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ml(e,t,n[t])}))}return e}({},(0,ia.Z)(u)),{width:n,height:i,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.825 10L10 13.8167L6.175 10L5 11.175L10 16.175L15 11.175L13.825 10Z",fill:l}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.825 5L10 8.81667L6.175 5L5 6.175L10 11.175L15 6.175L13.825 5Z",fill:l})]}))}var El=n(377463);function Cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function jl(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Sl(e,t,n[t])}))}return e}function _l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wl=n(15726),Pl=n.n(wl);function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tl(e){var t=e.numHighlights,n=e.visible,i=e.disableAnimation,a=e.navigateToNextHighlight,l=e.isLoading,u=e.channelId,s=(0,pl.Z)((function(){return new hl.Z.Value(0)})),f=(0,pl.Z)((function(){return new hl.Z.Value(0)})),d=(0,pl.Z)((function(){return new hl.Z.Value(0)
})),p=o.useRef(null),h=Al(o.useState(200),2),y=h[0],b=h[1],m=o.useRef(null),v=Al(o.useState("inherit"),2),g=v[0],O=v[1],E=Al(o.useState(!1),2),C=E[0],S=E[1];o.useEffect((function(){t>1&&S(!0)}),[u,t]);var j=o.useCallback((function(){a();d.setValue(0)}),[d,a]);o.useLayoutEffect((function(){var e=p.current;null!=e&&b(e.clientWidth)}),[p,b]);o.useEffect((function(){null!=m.current&&O(m.current.clientWidth+1)}),[m,O,u]);o.useEffect((function(){n?hl.Z.parallel([hl.Z.timing(s,{toValue:1,duration:C?500:0}),hl.Z.timing(f,{toValue:1,duration:C?500:0})]).start():hl.Z.parallel([hl.Z.timing(s,{toValue:0,duration:300,delay:500}),hl.Z.timing(f,{toValue:0,duration:100,delay:500})]).start()}),[s,f,n]);o.useEffect((function(){t>0&&!l&&hl.Z.timing(d,{toValue:1,duration:C?300:0}).start()}),[d,t,l]);var _=n?1:0,I=n?0:-y;return C?(0,r.jsx)("div",{children:(0,r.jsx)(hl.Z.div,{style:{opacity:i?_:f,marginLeft:i?I:s.interpolate({inputRange:[0,1],outputRange:[-y,0]})},children:(0,r.jsx)(c.Clickable,{
"aria-label":ze.Z.Messages.CHANNEL_HIGHLIGHT_NAVIGATOR_NEXT,className:Pl().navigator,onClick:j,children:(0,r.jsxs)("div",{className:Pl().highlightsCountContainer,ref:p,children:[l?(0,r.jsx)(c.Spinner,{type:c.Spinner.Type.SPINNING_CIRCLE,className:Pl().spinner}):(0,r.jsx)(le.Z,{className:Pl().highlightIcon,width:16,height:16}),(0,r.jsx)("div",{className:Pl().rollingText,children:(0,r.jsx)(hl.Z.div,{style:{marginTop:i?-18:d.interpolate({inputRange:[0,1],outputRange:[0,-18]})},children:(0,r.jsxs)("div",{ref:m,style:{width:g},children:[(0,r.jsx)(c.Text,{className:Pl().oldText,variant:"text-sm/medium",children:ze.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:t+1})}),(0,r.jsx)(c.Text,{className:Pl().newText,variant:"text-sm/medium",children:ze.Z.Messages.CHANNEL_HIGHLIGHTS_COUNT.format({count:Math.max(t,1)})})]})})}),(0,r.jsx)("div",{className:Pl().button,children:(0,r.jsx)(El.Z,{className:Pl().icon})})]})})})}):null}function Nl(e){
var t=e.guildId,n=e.channelId,r=e.highlightedMessageIds,i=e.setNumHighlightsVisited,a=e.messages,l=e.scrollManager,u=Al(o.useState(null),2),c=u[0],s=u[1],f=Al(o.useState(null),2),d=f[0],p=f[1],h=o.useCallback((function(e,t){var n,r;s(null!==(n=null==e?void 0:e.id)&&void 0!==n?n:null);p(null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null)}),[s,p]);o.useEffect((function(){l.addAutomaticAnchorCallback(h);return function(){l.removeAutomaticAnchorCallback(h)}}),[l,h]);var y=null;if(null!=c&&null!=d){var b,m,v=a.indexOf(c),g=a.indexOf(d);y=null!==(m=null===(b=a.getByIndex(v+Math.floor(g-v)))||void 0===b?void 0:b.id)&&void 0!==m?m:null}!function(e){var t=e.guildId,n=e.channelId,r=e.highlightedMessageIds,i=e.setNumHighlightsVisited,a=e.topVisibleMessage,l=e.middleVisibleMessage,u=Il(o.useState(!1),2),c=u[0],s=u[1],f=Il(o.useState(!1),2),d=f[0],p=f[1];o.useEffect((function(){d||null==a||null==l||p(!0)}),[a,l,d,p]);o.useEffect((function(){if(!c&&r.length>0&&d){var e=r.filter((function(e){
return L.Z.compare(e,a)>=0&&L.Z.compare(l,e)>=0})).length;if(e>0){for(var o=0;o<e;o++)Dt.default.track(U.rMx.CHANNEL_HIGHLIGHTS_ACKED,_l(jl({},(0,Ur.hH)(t),(0,Ur.JS)(n)),{message_id:r[o],index:o,ack_type:"landing"}));i(e)}s(!0)}}),[r,d,a,l,c,s,i,t,n]);o.useEffect((function(){if(null!=a){var e=r.filter((function(e){return L.Z.compare(a,e)>0})).length;i((function(o){if(e>o)for(var i=o;i<e;i++)Dt.default.track(U.rMx.CHANNEL_HIGHLIGHTS_ACKED,_l(jl({},(0,Ur.hH)(t),(0,Ur.JS)(n)),{message_id:r[i],index:i,ack_type:"scroll"}));return Math.max(o,e)}))}}),[a,r,i,t,n])}({guildId:t,channelId:n,highlightedMessageIds:r,setNumHighlightsVisited:i,topVisibleMessage:c,middleVisibleMessage:y});var O=Al(o.useState(!1),2),E=O[0],C=O[1];o.useEffect((function(){null!=c&&a.indexOf(c)>=0&&(a.length-a.indexOf(c)>50?C(!0):C(!1))}),[a,c,C]);return{scrolledFarBack:E}}function Ml(e){
var t=e.channelId,n=e.guildId,i=e.hasMoreAfter,a=e.isAtBottom,l=e.isLoading,s=e.isJumpingToBottom,f=e.messages,p=e.scrollManager,h=e.jumpToPresent,y=Al(o.useState(_.ZP.ackMessageId(t)),2),b=y[0],v=y[1];o.useEffect((function(){v(_.ZP.ackMessageId(t))}),[t]);var g=(0,yl.rd)(t,b),O=Al(o.useState(0),2),E=O[0],C=O[1],S=g.length-E,j=g.length>0&&f.jumpTargetId===g[0];o.useEffect((function(){S>0&&Ur.ZP.trackWithMetadata(U.rMx.CHANNEL_HIGHLIGHTS_VIEWED,{num_unread_highlights:S,did_jump_to_first_unread_highlight:j})}),[t]);var I=Nl({guildId:n,channelId:t,highlightedMessageIds:g,setNumHighlightsVisited:C,messages:f,scrollManager:p}).scrolledFarBack,w=o.useCallback((function(){J.In(t,!0);h()}),[h,t]),P=(0,u.e7)([d.Z],(function(){return d.Z.useReducedMotion}));return(0,m.sk)(n)&&(0!==g.length||i||I)?(0,r.jsxs)("div",{className:Pl().container,style:{visibility:a&&0===S?"hidden":"inherit"},children:[s?(0,r.jsx)("div",{className:Pl().highlightsCountContainer}):(0,r.jsx)(Tl,{visible:S>0,
numHighlights:S,disableAnimation:P,navigateToNextHighlight:function(){var e=g[E];if(null!=e){bl.K({guildId:n,channelId:t,targetMessageId:e,highlightedMessageIds:g,numHighlightsVisited:E});C((function(e){return e+1}))}},isLoading:l,channelId:t},t),(0,r.jsx)(c.Clickable,{"aria-label":ze.Z.Messages.JUMP_TO_BOTTOM,className:Pl().navigator,onClick:w,children:(0,r.jsx)("div",{className:Pl().button,children:s&&l?(0,r.jsx)(c.Spinner,{type:c.Spinner.Type.SPINNING_CIRCLE,className:Pl().jumpSpinner}):(0,r.jsx)(Ol,{className:Pl().icon})})})]}):null}var Zl=n(386364),Ll=n(840598),Rl=n(78551),Dl=n(600277),kl=n(721290),Ul=n.n(kl);function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Gl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fl(i,r,o,a,l,"next",e)}
function l(e){Fl(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Hl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vl=function(e,t){var n,r,o,i,a={label:0,sent:function(){
if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}
}([i,l])}}},Wl="749054660769218631";function zl(e){var t=e.channel,n=Hl(o.useState(""),2),i=n[0],a=n[1];o.useEffect((function(){(0,Ll.FQ)("847199849233514549",!0)}),[]);var l,f=(0,u.e7)([S.Z,O.default],(function(){return Boolean(q()(S.Z.getMessages(t.id).toArray()).reverse().find((function(e){return e.author.id!==O.default.getId()&&e.state===U.yb.SENT&&!(0,be.Z)(e)})))})),d=(0,u.e7)([w.default],(function(){var e;return null!==(l=null===(e=w.default.getUser(t.isPrivate()?t.getRecipientId():null))||void 0===e?void 0:e.username)&&void 0!==l?l:ze.Z.Messages.WAVE_DEFAULT_RECIPIENT})),p=(0,u.e7)([Rl.Z],(function(){return Rl.Z.getStickerById(Wl)})),h=o.useCallback(Gl((function(){var e;return Vl(this,(function(n){switch(n.label){case 0:if(null!=i&&""!==i)return[2];n.label=1;case 1:n.trys.push([1,3,,4]);return[4,s.Z.sendGreetMessage(t.id,Wl)];case 2:n.sent();Dt.default.track(U.rMx.DM_EMPTY_ACTION,{channel_id:t.id,channel_type:t.type,source:"Wave",type:"Send wave"});return[3,4];case 3:
(e=n.sent()).ok||429!==e.status||a(ze.Z.Messages.RATE_LIMITED);return[3,4];case 4:return[2]}}))})),[t.id,t.type,i]),y=ze.Z.Messages.WAVE_TO.format({username:d}),b=null!=i&&""!==i?(0,r.jsx)(c.Text,{className:Ul().error,color:"text-danger",variant:"text-sm/normal",children:i}):null;return f?(0,r.jsxs)("div",{className:Ul().containerCompact,children:[(0,r.jsxs)(c.Clickable,{className:null!=i&&""!==i?Ul().compactButtonDisabled:Ul().compactButton,"aria-label":ze.Z.Messages.SEND_WAVE,onClick:h,children:[(0,r.jsx)(Dl.ZP,{sticker:p,size:24}),(0,r.jsx)(c.Text,{className:Ul().text,variant:"text-md/medium",children:y})]}),b]}):(0,r.jsxs)("div",{className:Ul().containerExpanded,children:[(0,r.jsx)(Dl.ZP,{sticker:p,size:160}),(0,r.jsx)(c.Button,{className:Ul().button,onClick:h,disabled:Boolean(i),children:y}),b]})}var Yl=n(596310);function Kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ql(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ql(e,t,n[t])}))}return e}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||$l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jl(e){
return function(e){if(Array.isArray(e))return Kl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(e,t){if(e){if("string"==typeof e)return Kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(e,t):void 0}}function eu(e){return null!=e&&e.type===U.ys_.MESSAGE&&e.content.id===e.groupId}function tu(e,t){s.Z.jumpToMessage({channelId:e.id,messageId:t,flash:!0})}var nu=o.memo((function(e){var t=e.file,n=e.channel,o=e.user,i=e.isGroupStart;return(0,r.jsx)(rl.Z,{isGroupStart:i,channel:n,message:new Ja.Z({id:t.id,key:"pending-upload-".concat(t.id),type:U.uaV.DEFAULT,
author:o,channel_id:n.id,customRenderedContent:{hasSpoilerEmbeds:!1,content:(0,r.jsx)(el.g,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.currentSize,onCancelUpload:function(){kr.Z.cancel(t)}})}})})}));function ru(e){var t,n,i,a,l=e.channel,c=e.messages,p=e.unreadCount,h=e.showNewMessagesBar,y=e.messageDisplayCompact,b=e.channelStream,O=e.uploads,E=e.scrollManager,C=e.specs,S=e.filterAfterTimestamp,I=e.showingSpamBanner,P=e.showingQuarantineBanner,x=e.isAtBottom,A=e.jumpToPresent,T=(0,m.sk)(l.guild_id),N=w.default.getCurrentUser(),M=function(){return E.isInitialized()||c.ready},D=(0,nl.$)(l),B=Ql(o.useState(!1),2),F=B[0],G=B[1],V=c.length>0&&(null===(t=c.first())||void 0===t?void 0:t.isFirstMessageInForumPost(l)),W=(0,f.ts)(l),Y=(0,u.e7)([v.Z],(function(){return v.Z.shouldShowTopicsBar()})),K=l.isForumPost()&&!V?(0,r.jsx)(Fa,{postId:l.id}):null,q=(0,Jr.Z)(l.id);n=(0,at.Qd)().enabled,i=g.Yk.useSetting(),a=(0,ta.ZP)([d.Z],(function(){return d.Z.useReducedMotion})),
o.useEffect((function(){var e=function(e){var t=e.messageId,n=e.channelId,r=e.emoji,o=e.optimistic,l=e.burst;!o&&l&&i&&!a&&(0,pt.T6)({channelId:n,messageId:t,emoji:r,key:Yl.I.EXTERNAL})};n&&Be.Z.subscribe("MESSAGE_REACTION_ADD",e);return function(){Be.Z.unsubscribe("MESSAGE_REACTION_ADD",e)}}),[i,n,a]);var X=null,Q=[];if(!F&&I)Q.push((0,r.jsx)(qr,{channel:l,count:c.length,showRedactedMessages:function(){return G(!0)}}));else{var J,$=b.map((function(e,t){if(e.type===U.ys_.DIVIDER){var n,o,i=null!=e.unreadId;return null!=S?null:e.isSummaryDivider?(0,r.jsx)(Qa,{index:t,item:e,channel:l,isBeforeGroup:null==e.content&&eu(b[t+1])}):(0,r.jsx)(Wr,{isUnread:i,isBeforeGroup:null==e.content&&eu(b[t+1]),id:i?k.j1:void 0,children:e.content},"divider-".concat(null!==(o=null!==(n=e.contentKey)&&void 0!==n?n:e.unreadId)&&void 0!==o?o:t))}if(e.type===U.ys_.FORUM_POST_ACTION_BAR)return(0,r.jsx)(Fa,{parentChannelId:l.parent_id,postId:l.id,isLastItem:t+1===b.length,isFirstMessage:!0
},"forum-post-action-bar-".concat(l.id));if(e.type===U.ys_.MESSAGE_GROUP_BLOCKED||e.type===U.ys_.MESSAGE_GROUP_SPAMMER){var a;a=e.type===U.ys_.MESSAGE_GROUP_BLOCKED?ze.Z.Messages.BLOCKED_MESSAGE_COUNT:ze.Z.Messages.HIDDEN_SPAM_MESSAGE_COUNT;return(0,r.jsx)(dl,{unreadId:k.j1,messages:e,channel:l,compact:y,collapsedReason:a},e.key)}if(!(null!=S&&S>1e3*e.content.timestamp.unix())){var u=j.Z.can(U.Plq.CREATE_INSTANT_INVITE,l);if(!(0,tl.Z)(e.content,u)){e.type===U.ys_.MESSAGE&&null==X&&(X=e);var c=e.groupId===(null==X?void 0:X.groupId)?X.content.id:e.groupId,s=e.type===U.ys_.THREAD_STARTER_MESSAGE?Sr:_r;return(0,r.jsx)(s,{compact:y,channel:l,message:e.content,groupId:c,flashKey:e.flashKey,id:(0,z.p)(l.id,e.content.id),isLastItem:t>=b.length-1,isHighlight:e.isHighlight,renderContentOnly:q},e.content.id)}}}));(J=Q).push.apply(J,Jl($))}var ee,te,ne=b[b.length-1];null!=N&&O.forEach((function(e,t){var n=0===t&&(0,R.J)(l,ne,new Ja.Z({type:U.uaV.DEFAULT,author:N}));Q.push((0,r.jsx)(nu,{file:e,
channel:l,user:N,isGroupStart:n},"upload-".concat(e.id)))}));if(c.hasMoreBefore&&null==S){c.length>0&&Q.unshift((0,r.jsx)("div",{style:{height:k.D4,flex:"0 0 auto"}},"buffer"));var re=d.Z.useReducedMotion;(re&&M()||!re)&&Q.unshift((0,r.jsx)(H.ZP,Xl({compact:y},C),"has-more"))}c.hasMoreBefore&&null==S||Q.unshift((0,r.jsx)(Xi,{channel:l,showingBanner:I||P},"empty-message"));c.hasMoreAfter&&Q.push((0,r.jsx)(H.ZP,Xl({compact:y},C),"has-more-after"));!I&&!P&&D&&M()&&Q.push((0,r.jsx)(zl,{channel:l}));if(p>0&&h&&M()){var oe,ie,ae,le=_.ZP.getOldestUnreadTimestamp(l.id),ue=0!==le?le:L.Z.extractTimestamp(l.id),ce=(0,Z.KC)(Dr()(),Dr()(new Date(ue)));if(_.ZP.isEstimated(l.id)){oe=ce?ze.Z.Messages.NEW_MESSAGES_ESTIMATED:ze.Z.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE;ie=ze.Z.Messages.NEW_MESSAGES_PILL_ESTIMATED;ae=ze.Z.Messages.NEW_MESSAGES_ESTIMATED_SUMMARIES}else{oe=ce?ze.Z.Messages.NEW_MESSAGES:ze.Z.Messages.NEW_MESSAGES_WITH_DATE;ie=ze.Z.Messages.NEW_MESSAGES_PILL
;ae=ze.Z.Messages.NEW_MESSAGES_SUMMARIES}if(W&&(0,f.tW)(l)){var se=_.ZP.ackMessageId(l.id),fe=function(e,t){var n,r=null!==(n=v.Z.summaries(e))&&void 0!==n?n:[],o=0,i=!0,a=!1,l=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;Va.default.compare(s.endId,t)>0&&(o+=1)}}catch(e){a=!0;l=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw l}}return o}(l.id,_.ZP.getOldestUnreadMessageId(l.id));(0,Ur.yw)(U.rMx.SUMMARIES_UNREAD_BAR_VIEWED,{num_unread_summaries:fe,num_unread_messages:p,last_ack_message_id:se,summaries_enabled_by_user:Y,summaries_enabled_for_channel:(0,f.Lp)(l)});if((0,f.Lp)(l)){var de=Y?ae.format({count:p}):oe.format({count:p,timestamp:ue});if(Y){var pe=fe>0?(0,r.jsxs)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"40%"},children:[ae.format({count:p}),(0,r.jsx)(Ga.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),ze.Z.Messages.NEW_SUMMARIES.format({count:fe})]}):(0,
r.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center",position:"absolute",left:"45%"},children:de});ee=(0,r.jsx)(Zl.G5,{scrollManager:E,content:pe,channel:l})}else{var he=(0,r.jsx)("div",{style:{display:"flex",textTransform:"none",alignItems:"center"},children:fe>0?(0,r.jsxs)(r.Fragment,{children:[ae.format({count:p}),(0,r.jsx)(Ga.Z,{style:{paddingLeft:8,paddingRight:8},height:4,width:4}),ze.Z.Messages.NEW_SUMMARIES.format({count:fe})]}):(0,r.jsx)(r.Fragment,{children:de})});ee=(0,r.jsx)(Zl.LE,{content:he,channelId:l.id})}}}else ee=T?(0,r.jsx)(Zl.dB,{content:ie.format({count:p}),channelId:l.id,hasNoticeAbove:l.isForumPost()&&!V}):(0,r.jsx)(Zl.LE,{content:oe.format({count:p,timestamp:ue}),channelId:l.id})}null==ee&&(0,f.Lp)(l)&&Y&&(ee=(0,r.jsx)(Zl.BO,{channel:l,scrollManager:E,padForumPostActions:null!=K}));if(c.error)te=(0,r.jsx)(Zl.Rp,{loading:c.loadingMore,onClick:function(){return e=l.id,void s.Z.fetchMessages({channelId:e,limit:U.AQB,truncate:!0});var e}
});else if(T&&M()){var ye=c.jumpReturnTargetId,be=A;null!=ye&&(be=function(){return tu(l,ye)});te=(0,r.jsx)(Ml,{channelId:l.id,guildId:l.guild_id,messages:c,scrollManager:E,isAtBottom:x,hasMoreAfter:c.hasMoreAfter,isLoading:c.loadingMore,isJumpingToBottom:c.jumpedToPresent,jumpToPresent:be},l.id)}else if(!T&&c.hasMoreAfter&&M()){var me=c.jumpReturnTargetId;te=c.loadingMore&&c.jumpedToPresent?(0,r.jsx)(Zl.DR,{}):null!=me?(0,r.jsx)(Zl.DR,{type:Zl.A7.REPLY,onClick:function(){return tu(l,me)}}):(0,r.jsx)(Zl.DR,{onClick:function(){return function(e){s.Z.jumpToPresent(e.id,U.AQB);var t=$a.Z.getChannelId();e.id===t&&(0,Ha.Kh)(e.id)}(l)}})}return{channelStreamMarkup:Q,newMessagesBar:ee,jumpToPresentBar:te,forumPostActionBar:K}}var ou=n(113358),iu=n.n(ou);function au(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function uu(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){lu(e,t,n[t])}))}return e}function cu(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function su(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||pu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e){return function(e){if(Array.isArray(e))return au(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pu(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(e,t){if(e){if("string"==typeof e)return au(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?au(e,t):void 0}}function hu(e){var t,n=e.className,i=e.messageGroupSpacing,f=e.scrollerClassName,p=e.channel,h=e.messages,y=e.unreadCount,m=e.showNewMessagesBar,v=e.messageDisplayCompact,g=e.channelStream,O=e.uploads,E=e.hasUnreads,C=e.editingMessageId,S=e.fontSize,_=e.keyboardModeEnabled,I=e.filterAfterTimestamp,w=e.showingSpamBanner,P=e.showingQuarantineBanner,A=fu(o.useState(!1),2),T=A[0],N=A[1],M=o.useMemo((function(){return v?(0,H.aJ)({compact:!0,messageGroups:30,groupRange:4,attachments:8,fontSize:S,groupSpacing:i}):(0,H.aJ)({compact:!1,messageGroups:26,
groupRange:4,attachments:8,fontSize:S,groupSpacing:i})}),[v,S,i]),Z=function(e){var t=e.messages,n=e.channel,r=e.compact,i=e.hasUnreads,a=e.focusId,l=e.placeholderHeight,u=e.canLoadMore,c=void 0===u||u,s=e.handleScrollToBottom,f=e.handleScrollFromBottom,d=o.useContext($.ZP).windowId,p=xr(o.useState((function(){return new Lr({messages:t,channel:n,compact:r,hasUnreads:i,focusId:a,placeholderHeight:l,canLoadMore:c,windowId:d,handleScrollToBottom:s,handleScrollFromBottom:f})})),1)[0];p.getSnapshotBeforeUpdate(a);o.useLayoutEffect((function(){return p.mergePropsAndUpdate({messages:t,channel:n,compact:r,hasUnreads:i,focusId:a,placeholderHeight:l,canLoadMore:c,windowId:d,handleScrollToBottom:s,handleScrollFromBottom:f})}));o.useLayoutEffect((function(){return function(){return p.cleanup()}}),[p]);return p}({messages:h,channel:p,compact:v,hasUnreads:E,focusId:C,placeholderHeight:M.totalHeight,canLoadMore:null==I,handleScrollToBottom:o.useCallback((function(){return N(!0)}),[N]),
handleScrollFromBottom:o.useCallback((function(){return N(!1)}),[N])}),L=function(e){var t=e.scrollerRef,n=Y(e,["scrollerRef"]),r=o.useCallback((function(){var e=t.current;return null==e?Promise.resolve():new Promise((function(t){e.scrollToBottom({callback:function(){return requestAnimationFrame(t)}})}))}),[]),i=o.useCallback((function(){var e=t.current;return null==e?Promise.resolve():new Promise((function(t){e.scrollToTop({callback:function(){return requestAnimationFrame(t)}})}))}),[]),a=o.useCallback((function(e){var r,o,i;if(n.keyboardModeEnabled){var a=null===(o=null===(r=t.current)||void 0===r?void 0:r.getScrollerNode())||void 0===o?void 0:o.ownerDocument,l=null==a?void 0:a.querySelector(e);null!=l&&(null===(i=t.current)||void 0===i||i.scrollIntoViewNode({node:l,padding:4*k.kQ,callback:function(){return null==l?void 0:l.focus()}}))}}),[n.keyboardModeEnabled]),l=o.useCallback((function(){n.hasMoreAfter||W.S.dispatchToLastSubscribed(U.CkL.TEXTAREA_FOCUS)}),[n.hasMoreAfter]),u=(0,
V.ZP)({id:z.W,preserveFocusPosition:!1,setFocus:a,isEnabled:n.keyboardModeEnabled&&!n.isEditing,scrollToStart:i,scrollToEnd:r,onNavigateNextAtEnd:l}),c=o.useCallback((function(e){var t=e.atEnd;void 0!==t&&t?u.focusLastVisibleItem():u.focusFirstVisibleItem()}),[u]);(0,x.yp)({event:U.CkL.FOCUS_MESSAGES,handler:c});return u}({scrollerRef:Z.ref,isEditing:null!=C,keyboardModeEnabled:_,hasMoreAfter:h.hasMoreAfter}),R=function(e){return(0,u.e7)([b.Z],(function(){return j.Z.can(U.Plq.READ_MESSAGE_HISTORY,e)?null:b.Z.getViewingRolesTimestamp(e.getGuildId())}))}(p),D=ru({channel:p,messages:h,unreadCount:y,showNewMessagesBar:m,messageDisplayCompact:v,channelStream:g,uploads:O,loadMore:Z.loadMore,scrollManager:Z,specs:M,filterAfterTimestamp:null!=I?I:R,showingSpamBanner:w,showingQuarantineBanner:P,isAtBottom:T,jumpToPresent:function(){if(h.hasPresent()){var e;null===(e=Z.ref.current)||void 0===e||e.scrollToBottom({animate:!d.Z.useReducedMotion})}else s.Z.jumpToPresent(p.id,U.AQB)}
}),B=D.channelStreamMarkup,F=D.newMessagesBar,G=D.jumpToPresentBar,K=D.forumPostActionBar;!function(e){var t=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollToBottom()}),[e]),n=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageUp({animate:!d.Z.useReducedMotion})}),[e]),r=o.useCallback((function(){var t;return null===(t=e.current)||void 0===t?void 0:t.scrollPageDown({animate:!d.Z.useReducedMotion})}),[e]);(0,x.yp)({event:U.CkL.SCROLLTO_PRESENT,handler:t});(0,x.yp)({event:U.CkL.SCROLL_PAGE_UP,handler:n});(0,x.yp)({event:U.CkL.SCROLL_PAGE_DOWN,handler:r})}(Z.ref);var q,X=(0,c.useFocusJumpSection)(),Q=(0,l.l2)(L),J=Q.ref,ee=su(Q,["ref"]),te=o.useCallback((function(e){Z.ref.current=e;var t;J.current=null!==(t=null==e?void 0:e.getScrollerNode())&&void 0!==t?t:null}),[]);return(0,r.jsx)(l.bG,{navigator:L,children:(0,r.jsxs)("div",{className:a()(iu().messagesWrapper,n,"group-spacing-".concat(i)),children:[F,(0,
r.jsxs)(c.PinToBottomScrollerAuto,cu(uu({ref:te,customTheme:!0,className:a()(f,iu().scroller),contentClassName:iu().scrollerContent,onResize:Z.handleResize,onScroll:Z.handleScroll,onMouseDown:Z.handleMouseDown,onMouseUp:Z.handleMouseUp},X),{tabIndex:-1,role:"group",children:[K,(0,r.jsxs)("ol",cu(uu({className:iu().scrollerInner,"aria-label":ze.Z.Messages.CHANNEL_MESSAGES_A11Y_LABEL.format({channelName:p.name})},ee),{children:[(0,r.jsx)("span",{className:iu().navigationDescription,id:"messagesNavigationDescription","aria-hidden":!0,children:ze.Z.Messages.CHANNEL_MESSAGES_A11Y_DESCRIPTION}),B,(0,r.jsx)("div",{className:a()((q={},lu(q,iu().scrollerSpacer,!w&&!P),lu(q,iu().empty,0===h.length&&!h.loadingMore),lu(q,iu().emptyForum,1===h.length&&!h.loadingMore&&p.isForumPost()&&(null===(t=h.first())||void 0===t?void 0:t.isFirstMessageInForumPost(p))),q))})]}))]})),G]})})}var yu=o.memo(hu,(function(e,t){return null!=e.isHidden&&null!=t.isHidden&&e.isHidden&&t.isHidden}));function bu(e){
var t,n,r,i,a,l=(0,u.e7)([S.Z],(function(){return S.Z.getMessages(e.id)}),[e.id]),c=(0,u.e7)([_.ZP],(function(){return null!==(n=_.ZP.getOldestUnreadMessageId(e.id))&&void 0!==n?n:null}),[e.id]),s=(0,m.sk)(e.guild_id),d=(0,u.Wu)([p.Z],(function(){if(!s)return[];var t=p.Z.getHighlightedMessageIds(e.id),n=p.Z.getTempHighlightedMessageIds(e.guild_id);return Array.from(du(n).concat(du(t)))})),b=y.Z.useExperiment({},{autoTrackExposure:!1}).enabled,g=null!==(r=null===(t=w.default.getUser(O.default.getId()))||void 0===t?void 0:t.hasFlag(U.xW$.SPAMMER))&&void 0!==r&&r,C=(0,f.ts)(e),j=(i="use_topic_dividers_in_chat",(0,u.e7)([h.Z],(function(){return h.Z.get(i)}),[i])),I=(0,u.Wu)([v.Z],(function(){return C&&j&&null!==(a=v.Z.summaries(e.id))&&void 0!==a?a:[]}),[C,e.id,j]),P=(0,u.e7)([v.Z],(function(){return C?v.Z.selectedSummary(e.id):null}),[C,e.id]),x=o.useMemo((function(){return G({channel:e,messages:l,highlightedMessageIds:d,oldestUnreadMessageId:c,treatSpam:b&&!g,summaries:I,
selectedSummary:P})}),[l,e,c,b,d,I,P]),A=(0,u.e7)([E.Z],(function(){var t;return null===(t=E.Z.getEditingMessage(e.id))||void 0===t?void 0:t.id}));return{messages:l,channelStream:x,oldestUnreadMessageId:c,editingMessageId:A}}const mu=o.memo((function(e){var t=e.channel,n=e.showingSpamBanner,o=e.showingQuarantineBanner,i=e.forceCompact,a=void 0!==i&&i,l=e.forceCozy,c=void 0!==l&&l,s=su(e,["channel","showingSpamBanner","showingQuarantineBanner","forceCompact","forceCozy"]),f=function(e){var t=e.getGuildId(),n=(0,u.e7)([C.Z],(function(){return null==t||C.Z.canChatInGuild(t)}),[t]),r=(0,u.cj)([j.Z],(function(){return{canManageMessages:j.Z.can(U.Plq.MANAGE_MESSAGES,e),permissionVersion:null!=t?j.Z.getGuildVersion(t):null}}),[e,t]),o=r.canManageMessages;return{canChat:n,permissionVersion:r.permissionVersion,canManageMessages:o}}(t),p=f.canManageMessages,h=f.permissionVersion,y=f.canChat,b=function(){var e=g.jU.useSetting(),t=g.cC.useSetting(),n=(0,u.cj)([d.Z],(function(){return{
messageGroupSpacing:d.Z.messageGroupSpacing,fontSize:d.Z.fontSize,keyboardModeEnabled:d.Z.keyboardModeEnabled}}));return{messageGroupSpacing:n.messageGroupSpacing,messageDisplayCompact:e,renderSpoilers:t,fontSize:n.fontSize,keyboardModeEnabled:n.keyboardModeEnabled}}(),m=b.messageGroupSpacing,v=b.fontSize,O=b.messageDisplayCompact,E=b.renderSpoilers,S=b.keyboardModeEnabled,w=bu(t),x=w.messages,T=w.channelStream,N=w.oldestUnreadMessageId,M=w.editingMessageId;return(0,r.jsx)(P.a.Provider,{value:(0,A.Z)(E,p),children:(0,r.jsx)(yu,cu(uu({},s),{messageGroupSpacing:m,showNewMessagesBar:!0,channel:t,messageDisplayCompact:!c&&(a||O),messages:x,channelStream:T,permissionVersion:h,uploads:(0,u.e7)([I.Z],(function(){return I.Z.getFiles(t.id)}),[t]),unreadCount:(0,u.e7)([_.ZP],(function(){return _.ZP.getUnreadCount(t.id)}),[t]),hasUnreads:null!=N,canChat:y,editingMessageId:M,fontSize:v,keyboardModeEnabled:S,showingSpamBanner:n,showingQuarantineBanner:o}))})}))},995247:(e,t,n)=>{"use strict"
;n.d(t,{Uo:()=>R,qw:()=>U,KY:()=>L,fU:()=>k,tn:()=>D,Fo:()=>Z});var r=n(667294),o=n(824390),i=n.n(o),a=n(842227),l=n(202351),u=n(418705),c=n(496916),s=n(777158),f=n(351330),d=n(848465),p=n(576122),h=n(971561),y=n(82375),b=n(744564),m=n(917019),v=n(652591),g=n(2590);function O(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))}}var C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e,t){return j.apply(this,arguments)}function j(){return(j=E((function(e,t){return C(this,(function(n){switch(n.label){case 0:return[4,(0,m.PS)(e,(function(e){e.guildRecentsDismissedAt=y.E.fromDate(new Date);return!0}),m.fy.INFREQUENT_USER_ACTION)];case 1:n.sent();b.Z.dispatch({type:"BULK_CLEAR_RECENTS",guildId:e,channelIds:t})
;v.default.track(g.rMx.CHANNEL_LIST_UPDATED,{action_type:"recents_dismissed"});return[2]}}))}))).apply(this,arguments)}var _=n(784426),I=n(61209),w=n(877475),P=n(717091),x=n(897196),A=n(966554),T=n(290679),N=n(473708);function M(e,t){e.index=t}function Z(e,t,n,o){o=o.toLowerCase();var a=(0,d.g)(e),l=r.useCallback((function(e,t){return(!a||!e.channel.hasFlag(x.zZ.IS_GUILD_RESOURCE_CHANNEL))&&(e.channel.type!==g.d4z.GUILD_DIRECTORY&&(0===t.length||(i()(t,e.channel.name.toLowerCase())||e.channel.topic.toLowerCase().includes(t))))}),[a]);return r.useMemo((function(){var e={null:[],_categories:[]};n[g.d4z.GUILD_CATEGORY].forEach((function(n){var r=n.channel;"null"===r.id&&(e.null=t.null.filter((function(e){return l(e,o)})));e[r.id]=t[r.id].filter((function(e){return l(e,o)}))}));e._categories=t._categories.filter((function(t){return"null"===t.channel.id||0===o.length||e[t.channel.id].length>0}));(0,s.Z)(e._categories,e).forEach(M);return e}),[t,n,l,o])}function L(e){var t=e.getSections()
;if(t[p.zm]>0){switch(e.getCommunitySection().getRow(0)){case A.f.GUILD_HOME:return x.oC.GUILD_HOME;case A.f.GUILD_ROLE_SUBSCRIPTIONS:return x.oC.ROLE_SUBSCRIPTIONS;case A.f.GUILD_MEMBER_APPLICATIONS:return x.oC.MEMBER_APPLICATIONS}}for(var n=p.wd;n<e.voiceChannelsSectionNumber;n++)if(t[n]>0){var r,o=null===(r=e.getChannelFromSectionRow(n,0))||void 0===r?void 0:r.channel;if(null!=o)return o.id}return null}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;S(e,t);(0,c.y5)(t.map((function(e){return{channelId:e,readStateType:T.W.CHANNEL,messageId:P.ZP.lastMessageId(e)}})));null!=n&&(0,_.uL)(g.Z5c.CHANNEL(e,n))}function D(e,t,n,r){var o=(0,f.wE)(u.z$.CHANNEL_BROWSER_NUX),i=(0,l.cj)([I.Z],(function(){var t={},n=I.Z.getMutableGuildChannelsForGuild(e);for(var r in n){var o=n[r].parent_id;if(null!=o){var i;t[o]=(null!==(i=t[o])&&void 0!==i?i:0)+1}}return t}),[e]),a=t._categories.map((function(e){var r=t[e.channel.id];return{
rowCount:"null"!==e.channel.id&&0===i[e.channel.id]?1:r.length,rowHeight:0===r.length?0:n}}));o||null==r||a.unshift({rowCount:1,rowHeight:r});return a}function k(e){var t,n,r=(0,l.e7)([w.Z],(function(){return w.Z.getCategories(e)})),o=r._categories.length,i=r._categories[r._categories.length-1];if(null==i)return 0;var a=r[null!==(n=null===(t=i.channel)||void 0===t?void 0:t.id)&&void 0!==n?n:"null"];return null==a?0:0===a.length?i.index+2-o:a[a.length-1].index+2-o}function U(e){var t;return N.Z.Messages.CHANNEL_BROWSER_ACTIVE_TEXT.format({timeAgo:(0,h.ZB)(String(a.default.extractTimestamp(null!==(t=P.ZP.lastMessageId(e))&&void 0!==t?t:e)/1e3),"R").formatted})}},337710:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(202351),o=n(848465),i=n(9430),a=n(364269),l=n(897196);function u(e){var t,n=(0,a.DM)(null!=e.getGuildId()?e.guild_id:"null"),u=(0,r.e7)([i.Z],(function(){return i.Z.isChannelRecordOrParentOptedIn(e)})),c=(0,
o.g)(null!==(t=e.guild_id)&&void 0!==t?t:"null")&&e.hasFlag(l.zZ.IS_GUILD_RESOURCE_CHANNEL);return n&&!c&&!u&&!e.isThread()}},517285:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(396043),c=n(795909),s=n(652591),f=n(347834),d=n(2590),p=n(473708),h=n(448624),y=n.n(h);function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e){var t=e.channel,n=e.narrow;o.useEffect((function(){s.default.track(d.rMx.CHANNEL_BANNER_VIEWED,v(m({},(0,u.hH)(t.getGuildId()),(0,u.v_)(t)),{banner_type:"channel_opt_in"}))}),[t]);return(0,r.jsxs)("div",{className:a()(y().chatHeaderBar,b({},y().narrow,n)),children:[(0,r.jsx)(l.Text,{className:y().chatHeaderBarText,variant:"text-sm/normal",color:"text-normal",children:p.Z.Messages.OPT_IN_CHANNEL_NOTICE}),(0,r.jsxs)(l.Button,{size:l.Button.Sizes.TINY,className:y().chatHeaderBarButton,innerClassName:y().chatHeaderBarButtonInner,color:l.Button.Colors.BRAND,onClick:function(){s.default.track(d.rMx.CHANNEL_BANNER_CTA_CLICKED,v(m({},(0,u.hH)(t.getGuildId()),(0,u.v_)(t)),{banner_type:"channel_opt_in",cta_type:"add channel"
}));(0,f.XQ)(t.guild_id,t.id,!0,{section:d.jXE.CHANNEL})},children:[(0,r.jsx)(c.Z,{width:14,height:14}),p.Z.Messages.OPT_IN_CHANNEL_NOTICE_CTA]})]})}},895462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(318715)),i=n(945460),a=n(785085),l=n(996739);function u(e){var t=e.isShaking,n=e.shakeLocation,u=e.children,c=e.className,s=(0,l.Z)(n);return(0,o.ZP)([a.Z],(function(){return a.Z.isEnabled({shakeLocation:n})}))?(0,r.jsx)(i.Shaker,{isShaking:t,intensity:s,className:c,children:u}):(0,r.jsx)(r.Fragment,{children:u})}},996739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(202351),o=n(901654),i=n(785085);function a(e){var t=(0,r.e7)([o.Z],(function(){return o.Z.isFocused()}));return(0,r.e7)([i.Z],(function(){return i.Z.isEnabled({shakeLocation:e})&&t?i.Z.shakeIntensity:0}))}},472009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(473727),s=n(202351),f=n(945460),d=n(199912),p=n(443269),h=n(242818),y=n(260012),b=n(26468),m=n(316878),v=n(258104),g=n(944010),O=n(895303),E=n(379991),C=n(473708);function S(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=function(t){g.ZP.updatedUnsyncedSettings({disableEmbeddedActivityPopOutAlert:!0});t();e()},o=!E.ZP.disableEmbeddedActivityPopOutAlert;o?(0,f.openModal)((function(o){return(0,r.jsx)(O.default,j({
confirmText:C.Z.Messages.EMBEDDED_ACTIVITIES_YEP,secondaryConfirmText:C.Z.Messages.DONT_ASK_AGAIN,title:C.Z.Messages.EMBEDDED_ACTIVITIES_CAREFUL,cancelText:C.Z.Messages.EMBEDDED_ACTIVITIES_NVM,onConfirm:function(){o.onClose();e()},onCancel:t,onConfirmSecondary:function(){return n(o.onClose)},body:C.Z.Messages.EMBEDDED_ACTIVITIES_POP_IN_WARNING},o))}),{},f.POPOUT_MODAL_CONTEXT):e()}var I=n(153686),w=n(19585),P=n(141772),x=n(673817),A=n(91841),T=n(924726),N=n(587426),M=n(384411),Z=n(64234),L=n(901654),R=n(329543),D=n(211482),k=n(120415),U=n(463473),B=n(310126),F=n(954183),G=n(979197),H=n(2590),V=n(347079),W=n.n(V);function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function K(e){K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return K(e)}function q(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Y(e,t,n[t])}))}return e}function X(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Q(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e,t){
J=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return J(e,t)}var $=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Q(this,n)}}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&J(e,t)}(n,e);var t=ee(n);function n(){z(this,n);var e;(e=t.apply(this,arguments)).rootRef=o.createRef();e._cleanupWindowActionCreators=void 0
;e.warnPopoutClose=function(t){if(e.props.connectedToEmbeddedActivity&&!E.ZP.disableEmbeddedActivityPopOutAlert){t.returnValue=C.Z.Messages.EMBEDDED_ACTIVITIES_ARE_YOU_SURE_WANT_TO_LEAVE;if(!k.FB)return;_((function(){G.Z.unmountWindow(e.props.windowKey);k.FB&&B.default.close(e.props.windowKey)}))}};e.handleBlur=function(){var t,n;null===(n=(t=e.props).onBlur)||void 0===n||n.call(t)};e.handleContextMenu=function(e){e.preventDefault()};return e}var i=n.prototype;i.componentDidMount=function(){var e=this.props.guestWindow,t=e.document;null==t.querySelector("title")&&null!=t.head&&t.head.appendChild(t.createElement("title"));this.updateTitle();this.updateFontScale();this.updateLocale();this.updateClientTheme();this.updateSaturationFactor();(0,F.O)(e);e.addEventListener("blur",this.handleBlur);t.addEventListener("contextmenu",this.handleContextMenu,!0);e.addEventListener("beforeunload",this.warnPopoutClose)};i.componentDidUpdate=function(e){
var t=this.props,n=t.title,r=t.fontScale,o=t.locale,i=t.clientThemesCSS;e.title!==n&&this.updateTitle();e.fontScale!==r&&this.updateFontScale();e.locale!==o&&this.updateLocale();e.clientThemesCSS!==i&&this.updateClientTheme();e.saturation!==this.props.saturation&&this.updateSaturationFactor()};i.componentWillUnmount=function(){var e=this.props.guestWindow,t=e.document;e.removeEventListener("blur",this.handleBlur);t.removeEventListener("contextmenu",this.handleContextMenu,!0);f.useModalsStore.setState((function(e){return X(q({},e),Y({},f.POPOUT_MODAL_CONTEXT,[]))}));e.removeEventListener("beforeunload",this.warnPopoutClose)};i.updateSaturationFactor=function(){var e=this.props,t=e.saturation,n=e.guestWindow.document.documentElement;u()(null!=n,"Window document element was null");n.style.setProperty("--saturation-factor",t.toString())};i.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;u()(null!=n,"Window document element was null");n.lang=t}
;i.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title");null!=n&&(n.innerText=t)};i.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;u()(null!=n,"Window document element was null");n.style.fontSize="".concat(t,"%")};i.updateClientTheme=function(){var e=this.props,t=e.clientThemesCSS,n=e.guestWindow.document,r=n.head;u()(null!=r,"Window document ".concat("head"," was null"));var o=r.querySelector("style[".concat(P.P,"]"));if(null==o){var i=n.createElement("style");i.setAttribute(P.P,"true");i.textContent=t;r.appendChild(i)}else o.textContent=t};i.render=function(){var e=this.props,t=e.theme,n=e.forcedColors,o=e.focused,i=e.appFocused,l=e.children,u=e.windowKey,s=e.mouseModeEnabled,m=e.keyboardModeEnabled,v=e.reducedMotionEnabled,g=e.fontScaleClass,O=e.saturation,E=e.withTitleBar,C=e.guestWindow,S=e.clientThemesClassName,j=(0,k.Xf)(),_=a()(g,{"mouse-mode":s,"reduce-motion":v,"full-motion":!v,
"keyboard-mode":m,"app-focused":o||i,"low-saturation":O<=.4});return(0,r.jsx)(c.VK,{children:(0,r.jsx)(N.Z,{children:(0,r.jsx)(f.ThemeContextProvider,{theme:t,children:(0,r.jsx)("div",{"data-popout-root":!0,ref:this.rootRef,className:a()((0,U.Q)(t),(0,x.Z)(),_,S),children:(0,r.jsx)(f.FocusRingScope,{containerRef:this.rootRef,children:(0,r.jsx)(d.Z,{children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(D.Co,{}),(0,r.jsx)(b.Wu,{appContext:H.IlC.POPOUT,renderWindow:C,children:(0,r.jsxs)(R.yP,{children:[(0,r.jsxs)("div",{className:W().popout,children:[E&&null!=j?(0,r.jsx)(h.Z,{focused:o,type:j,windowKey:u,macOSFrame:!0}):null,(0,r.jsx)("div",{className:W().content,children:l})]}),(0,r.jsx)(f.Modals,{}),(0,r.jsx)(y.Z,{}),(0,r.jsx)(R.Un,{})]})})]})})})})})},n)})};return n}(o.Component);te.defaultProps={withTitleBar:!0};const ne=o.forwardRef((function(e,t){var n=(0,s.cj)([G.Z],(function(){return{guestWindow:G.Z.getWindow(e.windowKey),focused:G.Z.getWindowFocused(e.windowKey)}
})),o=n.guestWindow,i=n.focused;u()(null!=o,"Missing guestWindow reference");var a=(0,s.e7)([L.Z],(function(){return L.Z.isFocused()})),l=(0,s.cj)([Z.Z,M.default],(function(){return{locale:M.default.locale,theme:Z.Z.theme}})),c=l.locale,d=l.theme,p=(0,s.e7)([m.Z],(function(){return m.Z.useForcedColors?"yes":"no"})),h=(0,s.cj)([m.Z],(function(){return{fontScale:m.Z.fontScale,keyboardModeEnabled:m.Z.keyboardModeEnabled,reducedMotionEnabled:m.Z.useReducedMotion,fontScaleClass:m.Z.fontScaleClass,saturation:m.Z.saturation}})),y=h.fontScale,b=h.keyboardModeEnabled,g=h.reducedMotionEnabled,O=h.fontScaleClass,E=h.saturation,C=(0,s.e7)([v.ZP],(function(){return null!=e.channelId&&null!==v.ZP.getSelfEmbeddedActivityForChannel(e.channelId)}));(0,A.Z)(o,!1);var S=(0,T.Z)(o,i),j=(0,w.Z)(I.Z.POPOUT_WINDOW).AnalyticsLocationProvider,_=(0,P.Z)(),x=_.clientThemesClassName,N=_.clientThemesCSS;return null==o?null:(0,r.jsx)(f.DnDProvider,{children:(0,r.jsx)(j,{children:(0,r.jsx)(te,X(q({ref:t},e),{
guestWindow:o,focused:i,appFocused:a,locale:c,theme:d,forcedColors:p,fontScale:y,keyboardModeEnabled:b,mouseModeEnabled:S,reducedMotionEnabled:g,connectedToEmbeddedActivity:C,fontScaleClass:O,saturation:E,clientThemesClassName:x,clientThemesCSS:N}))})})}))},15162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(667294),o=n(513328);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n=a(r.useState(!1),2),i=n[0],l=n[1],u=r.useRef(new o.sW(t,(function(){return l(!1)}))),c=r.useRef(new o.sW(e,(function(){return l(!0)}))),s=r.useCallback((function(){u.current.cancel();c.current.cancel()}),[]);r.useEffect((function(){return s}),[s]);var f=r.useCallback((function(){s();u.current.delay()}),[s]),d=r.useCallback((function(){s();c.current.delay()}),[s]);return{isHovered:i,setIsHovered:l,onMouseEnter:d,onMouseLeave:f,cancelTimers:s}}},621270:(e,t,n)=>{"use strict";n.d(t,{rK:()=>d,ZP:()=>p});var r=n(667294),o=n(730381),i=n.n(o),a=n(513328),l=n(249139);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=new Date("2023-01-01T07:59:59.000Z"),f=i()(s);function d(){var e=c(r.useState((function(){
return f.isAfter(Date.now())})),2),t=e[0],n=e[1];r.useEffect((function(){var e=new a.V7,r=function(){var t=f.diff(Date.now(),"millisecond");null==e||e.start(t,(function(){f.isBefore(Date.now())?n(!1):r()}))};t&&r();return function(){return e.stop()}}));return t}const p=(0,l.Z)({id:"2022-12_seasonal_gifting",label:"Seasonal Gifting",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},645573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=n(667294),i=n(945460),a=n(19585),l=n(652591),u=n(398344),c=n(2590),s=n(824012),f=n.n(s),d=n(20616),p=n.n(d),h=n(556306),y=n.n(h);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value)
;if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e){switch(e){case u.K.EMOJI_PICKER:return f().emojiSparkle;case u.K.STICKER_PICKER:return f().stickerSparkle;case u.K.FILE_UPLOAD:return f().fileUploadSparkle;case u.K.BOOSTING_FLOW:default:return}};const g=function(e){var t=e.tutorialType,n=e.text,s=e.unformattedText,d=e.children,h=m(o.useState(!1),2),b=h[0],g=h[1],O=t===u.K.EMOJI_PICKER?p():y(),E=(0,a.Z)().analyticsLocations
;return(0,r.jsx)(i.Tooltip,{"aria-label":null!=s?s:n,text:n,position:"top",tooltipContentClassName:f().tooltipText,children:function(e){var n=e.onMouseEnter,o=e.onMouseLeave;return(0,r.jsxs)("div",{onMouseEnter:function(){null==n||n();g(!0);l.default.track(c.rMx.PREMIUM_TUTORIAL_TOOLTIP_VIEWED,{location_stack:E,feature:t})},onMouseLeave:function(){null==o||o();g(!1)},children:[b&&(0,r.jsx)("img",{alt:"",src:O,className:v(t)}),d]})}})}},746948:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>S});var r=n(785893),o=n(667294),i=n(608575),a=n(945460),l=n(129993),u=n(393666),c=n(924417),s=n(775173),f=n(585622),d=n(916675),p=n(2590),h=n(473708),y=n(485126),b=n.n(y),m=n(877193),v=n.n(m),g=n(343762),O=n.n(g);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=e.channelId,n=e.transitionState,y=e.onClose,m=(0,d.j)({channelId:t}),g=m.fetched,E=m.applicationsShelf,S=m.installedIntegrations,j=m.availableApplications,_=C(o.useState(null),2),I=_[0],w=_[1],P=o.useCallback((function(e){var t=e.application,n=e.location;if(null==n)return!1
;var r=i.parse(n,!0),o=r.host,a=r.path;if(!(f.Z.isDiscordHostname(o)||window.location.host===o)||a!==p.Z5c.OAUTH2_AUTHORIZED)return!1;null!=t&&w(t.id);return!0}),[]);return(0,r.jsxs)(a.ModalRoot,{transitionState:n,size:a.ModalSize.SMALL,className:b().modal,children:[(0,r.jsx)(a.ModalContent,{className:b().modalContent,children:g&&0===j.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:O(),alt:"",className:b().image}),(0,r.jsxs)("div",{className:b().headingContainer,children:[(0,r.jsx)(a.Heading,{variant:"heading-xl/bold",className:b().modalHeader,children:h.Z.Messages.PRIVATE_CHANNEL_INTEGRATION_ADD_MODAL_EMPTY_HEADER}),(0,r.jsx)(a.Text,{variant:"text-md/medium",className:b().emptyHeader,children:h.Z.Messages.PRIVATE_CHANNEL_INTEGRATION_ADD_MODAL_EMPTY_INFO})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:v(),alt:"",className:b().image}),(0,r.jsxs)("div",{className:b().headingContainer,children:[(0,r.jsx)(a.Heading,{variant:"heading-xl/bold",
className:b().modalHeader,children:h.Z.Messages.PRIVATE_CHANNEL_RECOMMENDED_APPS}),(0,r.jsx)(a.Text,{variant:"text-md/medium",className:b().modalHeader,children:h.Z.Messages.PRIVATE_CHANNEL_INTEGRATION_MORE_APPS_INFO})]}),(0,r.jsx)("div",{className:b().applicationRowContainer,children:g?E.map((function(e){var n=e.id===I;if(!n&&null!=S.find((function(t){return t.application.id===e.id})))return null;var o=null!=e.description?(0,l.Y)(e.description):null,i=s.ZP.getApplicationIconURL({id:e.id,icon:e.icon,size:48});return(0,r.jsxs)(a.ClickableContainer,{className:b().applicationRow,onClick:function(){return n=e.id,void(0,c.m)({userId:n,channelId:t,analyticsLocation:{section:p.jXE.ADD_PRIVATE_CHANNEL_INTEGRATION_MODAL}});var n},"aria-label":h.Z.Messages.PRIVATE_CHANNEL_INTEGRATION_ADD_MODAL_ROW_INFO.format({appName:e.name}),children:[null!=i&&(0,r.jsx)("img",{className:b().applicationIcon,alt:"","aria-hidden":!0,src:i,width:48,height:48}),(0,r.jsxs)("div",{className:b().applicationText,
children:[(0,r.jsx)(a.Heading,{variant:"heading-md/medium",children:e.name}),null!=e.description&&(0,r.jsx)(a.Text,{variant:"text-sm/normal",color:"text-muted",lineClamp:2,children:o})]}),(0,r.jsx)(a.Button,{type:"button",innerClassName:b().applicationButtonHack,onClick:function(n){n.stopPropagation();(0,u.openOAuth2Modal)({clientId:e.id,scopes:[p.xVR.APPLICATIONS_COMMANDS],channelId:t,disableGuildSelect:!0,callback:P});w(null)},size:a.Button.Sizes.SMALL,color:a.Button.Colors.PRIMARY,disabled:n,children:n?h.Z.Messages.ADDED:h.Z.Messages.ADD})]},e.id)})):(0,r.jsx)(a.Spinner,{className:b().spinner,type:a.Spinner.Type.SPINNING_CIRCLE})})]})}),(0,r.jsx)(a.ModalFooter,{className:b().modalFooter,children:(0,r.jsx)(a.Button,{onClick:y,children:h.Z.Messages.DONE})})]})}},811276:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var r="https://dis.gd/appeal"},894772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ct})
;var r=n(785893),o=n(667294),i=n(945460),a=n(744564),l=n(301928),u=n(956485),c=n(980604),s=n(294184),f=n.n(s),d=n(289283),p=n(202351),h=n(971402),y=n(242839),b=n(241166),m=n(728197);const v=(0,n(260561).B)({kind:"user",id:"2021-02_staff_qc_debugging",label:"Display QS scores in results. Not a real experiment",defaultConfig:{showScores:!1},treatments:[{id:1,label:"Show scores in QS results",config:{showScores:!0}}]});var g=n(61209),O=n(813869),E=n(567403),C=n(717091),S=n(715107),j=n(602397),_=n(700223),I=n(621647),w=n(773011),P=n(239813),x=n(2590),A=n(473708);function T(e){if(null==e)return null;switch(e.type){case x.d4z.GUILD_ANNOUNCEMENT:return A.Z.Messages.NEWS_CHANNEL;case x.d4z.GUILD_STORE:return A.Z.Messages.STORE_CHANNEL;case x.d4z.DM:case x.d4z.GROUP_DM:return A.Z.Messages.DM;case x.d4z.PRIVATE_THREAD:return A.Z.Messages.PRIVATE_THREAD;case x.d4z.ANNOUNCEMENT_THREAD:case x.d4z.PUBLIC_THREAD:return A.Z.Messages.THREAD;case x.d4z.GUILD_TEXT:return A.Z.Messages.TEXT_CHANNEL
;case x.d4z.GUILD_FORUM:return e.isMediaChannel()?A.Z.Messages.MEDIA_CHANNEL:A.Z.Messages.FORUM_CHANNEL;case x.d4z.GUILD_MEDIA:return A.Z.Messages.MEDIA_CHANNEL;case x.d4z.GUILD_STAGE_VOICE:return A.Z.Messages.STAGE_CHANNEL;case x.d4z.GUILD_VOICE:return A.Z.Messages.VOICE_CHANNEL;case x.d4z.GUILD_CATEGORY:default:return null}}var N=n(327930),M=n(840922),Z=n(473903),L=n(749565),R=n(901165),D=n(641277),k=n(124251),U=n(294162),B=n(633878);function F(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function G(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function V(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,l=void 0===a?"currentColor":a,u=e.foreground,c=H(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",G(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){F(e,t,n[t])}))}return e}({},(0,B.Z)(c)),{
width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:u,fill:l,d:"m4 3.33325h6.9167c-.0834.25-.0834.58334-.0834.83334 0 3.25 2.5834 5.83333 5.8334 5.83333.25 0 .5833 0 .8333-.08334v3.91672c0 .8333-.6667 1.5-1.5 1.5h-6.75l-3 3v-3h-2.25c-.83333 0-1.5-.6667-1.5-1.5v-9.00005c0-.83333.66667-1.5 1.5-1.5z"}),(0,r.jsx)("path",{className:u,fill:l,d:"m20.0002 4.08325-3.5-3.499998-1 1.083338 1.6666 1.66666h-3.8333v1.5h3.8333l-1.6666 1.66667 1.0833 1.08333z"})]}))}var W=n(963881),z=n(349491),Y=n(978461),K=n.n(Y);function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e){Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Q(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ee(e,t)}function $(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?q(e):t}function ee(e,t){ee=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ee(e,t)}var te=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}var re=function(e){J(n,e);var t=ne(n);function n(){X(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){t.preventDefault();var n=e.props.onClick,r=q(e).node;null!=r&&n(t,r)}
;e.handleMouseEnter=function(t){var n=e.props.onMouseEnter,r=q(e).node;null!=r&&n(t,r)};e.setRef=function(t){e.node=t};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)};o.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,o=this.node;null!=o&&n&&!e.focused&&r(o)};o.render=function(){var e=this.props,t=e.focused,n=e.children,o=e.score,a=e.onContextMenu,l=e.id,u=e["aria-label"];return(0,r.jsxs)(i.Clickable,{role:"option",id:l,"aria-label":u,"aria-selected":t,focusProps:{enabled:!1},tabIndex:-1,innerRef:this.setRef,className:K().result,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onContextMenu:a,children:[n,null!=o?(0,r.jsx)("div",{className:K().score,children:o>>0}):null]})};return n}(o.PureComponent),oe=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e=this.props.guild;return(0,r.jsx)("div",{
className:K().guildIconContainer,children:(0,r.jsx)(k.Z,{tabIndex:-1,guild:e,size:k.Z.Sizes.MINI,className:K().guildIcon})})};o.renderName=function(){var e=this.props.guild;return(0,r.jsx)("div",{className:K().name,children:(0,r.jsx)("span",{className:K().match,children:e.name})})};o.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return(0,r.jsxs)("div",{className:t?K().contentUnread:K().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:K().misc,children:n})]})};o.getAccessibilityLabel=function(){var e=this.props.guild;return A.Z.Messages.QUICK_SWITCHER_RESULTS_GUILD_LABEL.format({name:e.name})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(re,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),ie=function(e){J(n,e)
;var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e,t=this.props.channel,n=(0,P.KS)(t);if(null==n)return null;var o=null!==(e=T(t))&&void 0!==e?e:"";return(0,r.jsx)("div",{className:K().iconContainer,role:"img","aria-label":o,children:(0,r.jsx)(n,{className:K().icon,width:16,height:16})})};o.renderName=function(){var e,t,n=this.props,o=n.mentions,i=n.category,a=n.channel;null!=o&&o>0&&(e=(0,r.jsx)(R.Z,{className:K().badge,value:o}));null!=i&&(t=(0,r.jsx)("span",{className:K().note,children:(0,w.F6)(i,Z.default,M.Z)}));return(0,r.jsxs)("div",{className:K().name,children:[(0,r.jsx)("span",{className:K().match,children:(0,w.F6)(a,Z.default,M.Z)}),e,this.renderVoiceStates(),t]})};o.renderVoiceStates=function(){var e=this.props,t=e.voiceStates,n=e.channel;return null==t?null:(0,r.jsx)(U.Z,{guildId:n.guild_id,users:t.map((function(e){return{user:e.user}})),max:4})};o.renderContent=function(){
var e=this.props,t=e.unread,n=e.mentions,o=e.children;return(0,r.jsxs)("div",{"aria-hidden":!0,className:t||null!=n&&n>0?K().contentUnread:K().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:K().misc,children:o})]})};o.getAccessibilityLabel=function(){var e,t=this.props.channel,n=null===(e=E.Z.getGuild(this.props.channel.guild_id))||void 0===e?void 0:e.name,r=(0,w.F6)(t,Z.default,M.Z),o=T(t);return A.Z.Messages.QUICK_SWITCHER_RESULTS_CHANNEL_LABEL.format({name:r,type:o,guild:n})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(re,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component);ie.defaultProps={unread:!1};var ae=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype
;o.renderIcon=function(){var e=this.props.channel;return(0,r.jsx)("div",{className:K().dmIconContainer,children:(0,r.jsx)(i.Avatar,{src:(0,I.x)(e),size:i.AvatarSizes.SIZE_20,"aria-hidden":!0})})};o.renderName=function(){var e,t=this.props,n=t.mentions,o=t.channel;null!=n&&n>0&&(e=(0,r.jsx)(R.Z,{className:K().badge,value:n}));return(0,r.jsxs)("div",{className:K().name,children:[(0,r.jsx)("span",{className:K().match,children:(0,w.F6)(o,Z.default,M.Z)}),e]})};o.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return(0,r.jsxs)("div",{className:null!=t&&t>0?K().contentUnread:K().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:K().misc,children:n})]})};o.getAccessibilityLabel=function(){var e=this.props,t=e.channel,n=e.mentions,r=(0,w.F6)(t,Z.default,M.Z);return null!=n&&n>0?A.Z.Messages.QUICK_SWITCHER_RESULTS_GROUP_DM_UNREAD_LABEL.format({name:r,mentions:n}):A.Z.Messages.QUICK_SWITCHER_RESULTS_GROUP_DM_LABEL.format({name:r})}
;o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(re,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),le=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderIcon=function(){var e=this.props.user;return(0,r.jsx)("div",{className:K().iconContainer,children:(0,r.jsx)(i.Avatar,{src:e.getAvatarURL(void 0,20),"aria-hidden":!0,size:i.AvatarSizes.SIZE_20})})};o.getDisplayNickname=function(){var e,t=this.props,n=t.user,r=t.comparator,o=t.nickname;if(null!=r&&r===n.tag){var i=r.split("#");i.pop();e=i.join("#")}else e=null!=r&&""!==r?r:n.username;e===n.username&&(e=null!=o?o:e);return e};o.renderName=function(){var e,t=this.props,n=t.user,o=t.mentions,i=this.getDisplayNickname();null!=o&&o>0&&(e=(0,r.jsx)(R.Z,{
className:K().badge,value:o}));return(0,r.jsxs)("div",{className:K().name,children:[(0,r.jsx)("span",{className:K().match,children:i}),e,(0,r.jsx)("span",{className:K().username,children:L.ZP.getUserTag(n)})]})};o.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return(0,r.jsxs)("div",{className:null!=n&&n>0?K().contentUnread:K().contentDefault,children:[this.renderIcon(),this.renderName(),(0,r.jsx)("div",{className:K().misc,children:t})]})};o.getAccessibilityLabel=function(){var e=this.props,t=e.mentions,n=e.user,r=this.getDisplayNickname(),o=L.ZP.getUserTag(n);return null!=t&&t>0?A.Z.Messages.QUICK_SWITCHER_RESULTS_USER_UNREAD_LABEL.format({name:r,id:o,mentions:t}):A.Z.Messages.QUICK_SWITCHER_RESULTS_USER_LABEL.format({name:r,id:o})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(re,{id:u,"aria-label":this.getAccessibilityLabel(),onMouseEnter:t,onClick:n,onFocus:o,
onContextMenu:i,focused:a,score:l,children:this.renderContent()})};return n}(o.Component),ue=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderContent=function(){var e=this.props,t=e.children,n=e.application;return(0,r.jsxs)("div",{className:K().contentDefault,children:[(0,r.jsx)("div",{className:K().iconContainer,children:(0,r.jsx)(D.Z,{tabIndex:-1,className:K().gameIcon,game:n,size:K().gameIconSize})}),n.name,(0,r.jsx)("div",{className:K().misc,children:t})]})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.focused,a=e.id;return(0,r.jsx)(re,{id:a,onMouseEnter:t,onClick:n,onFocus:o,focused:i,children:this.renderContent()})};return n}(o.Component),ce=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}n.prototype.render=function(){return(0,r.jsx)("div",{className:K().resultDefault,children:(0,r.jsx)("div",{className:K().contentDefault,children:(0,
r.jsx)("div",{className:K().header,children:this.props.children})})})};return n}(o.Component),se=function(e){J(n,e);var t=ne(n);function n(){X(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderContent=function(){var e,t,n=this.props,o=n.link,i=n.children,a=(0,N.Qj)(o.path);if(null==a||void 0===a.messageId){e=A.Z.Messages.QUICKSWITCHER_LINK_UNKNOWN;t=(0,r.jsx)(W.Z,{width:16,height:16})}else if((0,N.VO)(a)){e=A.Z.Messages.QUICKSWITCHER_LINK_MESSAGE;t=(0,r.jsx)(V,{width:16,height:16})}else{e=A.Z.Messages.QUICKSWITCHER_LINK_NO_ACCESS;t=(0,r.jsx)(z.Z,{width:16,height:16})}return(0,r.jsxs)("div",{className:K().contentDefault,children:[(0,r.jsx)("div",{className:K().iconContainer,children:t}),e,(0,r.jsx)("div",{className:K().misc,children:i})]})};o.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,o=e.onFocus,i=e.onContextMenu,a=e.focused,l=e.score,u=e.id;return(0,r.jsx)(re,{id:u,onMouseEnter:t,onClick:n,onFocus:o,onContextMenu:i,focused:a,score:l,
children:this.renderContent()})};return n}(o.Component),fe=n(443812),de=n(930948),pe=n(348592),he=n(853158),ye=n(513328),be=n(180127),me=n.n(be);function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Oe(e){Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Oe(e)}function Ee(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e,t){Ce=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ce(e,t)}var Se=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}var _e={friction:15,tension:100},Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ce(e,t)}(i,e);var t=je(i);function i(){ve(this,i);var e;(e=t.apply(this,arguments)).state={shown:!1,translateY:new he.Z.Value(0)};e.rootRef=o.createRef();e.focusTimeout=new ye.V7;e.handleResultFocus=function(t){var n=t.node;e.focusTimeout.start(1,(function(){if(e.props.hasQuery&&null!=n&&null!=e.rootRef.current){
var t=e.rootRef.current.getBoundingClientRect().top,r=n.getBoundingClientRect().top,o=Math.abs(t-r);e.springTo(o-118+9)}else e.springTo(0)}))};return e}var a=i.prototype;a.componentDidMount=function(){this.setState({shown:!0});de.S.subscribe(x.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)};a.componentWillUnmount=function(){this.focusTimeout.stop();de.S.unsubscribe(x.CkL.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)};a.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)};a.springTo=function(e){he.Z.spring(this.state.translateY,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ge(e,t,n[t])}))}return e}({toValue:Math.min(e,250)},_e)).start()};a.renderArrowGroup=function(e){return(0,r.jsxs)("div",{
className:f()(me().arrowGroup,e),children:[(0,r.jsx)(he.Z.div,{className:f()(me().arrowContainer,me().horizontal),style:this.getStyle(),children:(0,r.jsx)("img",{alt:"",src:n(185204),className:me().arrowIcon})}),(0,r.jsx)("div",{className:f()(me().arrowContainer,me().diag1),children:(0,r.jsx)("img",{alt:"",src:n(73316),className:me().arrowIcon})}),(0,r.jsx)("div",{className:f()(me().arrowContainer,me().diag2),children:(0,r.jsx)("img",{alt:"",src:n(385488),className:me().arrowIcon})})]})};a.renderContent=function(){return(0,r.jsxs)("div",{className:me().tutorialMessages,children:[(0,r.jsx)("div",{className:me().searchMessage,children:A.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH}),(0,r.jsx)("div",{className:me().selectMessage,children:A.Z.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT})]})};a.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return(0,r.jsxs)("div",{ref:this.rootRef,className:f()(me().tutorial,(e={},ge(e,me().shown,n),ge(e,me().hasQuery,t),e)),
children:[this.renderContent(),this.renderArrowGroup(me().left),this.renderArrowGroup(me().right)]})};a.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","".concat(250,"px")]})},{translateZ:0}]}};return i}(o.PureComponent);const we=Ie;var Pe=n(116707),xe=n.n(Pe);function Ae(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ae(i,r,o,a,l,"next",e)}function l(e){Ae(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ze(e){Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ze(e)}
function Le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ue(e,t)}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Me(e,t,n[t])}))}return e}function De(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ke(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e,t){Ue=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ue(e,t)}var Be=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}var Ge=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]}
;return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},He=10,Ve=function(){return(0,
r.jsxs)("div",{className:xe().emptyState,children:[(0,r.jsx)("div",{className:xe().emptyStateNote,children:A.Z.Messages.QUICKSWITCHER_EMPTY_TEXT}),(0,r.jsx)("div",{className:xe().emptyStateCTA,children:(0,r.jsx)(i.Anchor,{href:pe.Z.getArticleURL(x.BhN.QUICK_SWITCHER_TUTORIAL),children:A.Z.Messages.QUICKSWITCHER_EMPTY_CTA})})]})},We=function(e){Le(n,e);var t=Fe(n);function n(){Ne(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=E.Z.getGuild(this.props.channel.guild_id);return(0,r.jsx)(ie,De(Re({},this.props),{children:(0,r.jsx)("div",{className:xe().miscContainer,children:null!=e?e.name:null})}))};return n}(o.Component);We.defaultProps={unread:!1};var ze=p.ZP.connectStores([C.ZP,g.Z],(function(e){var t=e.channel;return{unread:C.ZP.hasUnread(t.id),mentions:C.ZP.getMentionCount(t.id),category:g.Z.getChannel(t.parent_id)}}))(We),Ye=p.ZP.connectStores([j.ZP],(function(e){var t=e.channel
;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:j.ZP.getVoiceStates(t.guild_id)[t.id]}}))(We),Ke=p.ZP.connectStores([O.Z],(function(e){var t=e.guild;return{unread:O.Z.hasUnread(t.id)}}))(oe),qe=p.ZP.connectStores([C.ZP],(function(e){var t=e.channel;return{mentions:C.ZP.getMentionCount(t.id)}}))(ae),Xe=p.ZP.connectStores([g.Z,C.ZP],(function(e){var t=e.user,n=g.Z.getDMFromUserId(t.id);return{mentions:null!=n?C.ZP.getMentionCount(n):0}}))(le);function Qe(e,t,n){return(0,r.jsx)(i.Tooltip,{text:n,children:function(e){return(0,r.jsx)("span",De(Re({},e),{className:xe().autocompleteQuerySymbol,children:t}))}},e)}var Je=function(e){Le(a,e);var t=Fe(a);function a(){Ne(this,a);var e;(e=t.apply(this,arguments)).scrollerRef=o.createRef();e.inputRef=o.createRef();e._listId=(0,fe.hQ)();e.state={query:e.props.query,mouseFocusDisabled:!0};e.handleInputChange=function(){var t=e.inputRef.current
;null!=t&&e.search(t.value)};e.handleMouseMove=function(){!1!==e.state.mouseFocusDisabled&&e.setState({mouseFocusDisabled:!1})};e.focusResult=function(t){e.state.mouseFocusDisabled||(0,u.tF)(e.props.results.indexOf(t))};e.selectResult=function(e){(0,u.Se)(e)};e.handleContextMenu=function(t){var o=e.props.results[e.props.selectedIndex];switch(o.type){case m.h8.GUILD:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(92224),n.e(46194),n.e(27979),n.e(47956),n.e(5683),n.e(57253),n.e(77357),n.e(57037),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{guild:o.record,onSelect:u.Cp,hideSettings:!0}))}]}}))})));case m.h8.TEXT_CHANNEL:case m.h8.VOICE_CHANNEL:var i=o.record,a=E.Z.getGuild(i.getGuildId());if(null==a)return;switch(i.type){case x.d4z.GUILD_TEXT:case x.d4z.GUILD_ANNOUNCEMENT:case x.d4z.GUILD_FORUM:case x.d4z.GUILD_MEDIA:return(0,
h.jW)(t,Te((function(){var e,t;return Ge(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(11261)]).then(n.bind(n,811261))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:i,guild:a,onSelect:u.Cp}))}]}}))})));case x.d4z.GUILD_VOICE:case x.d4z.GUILD_STAGE_VOICE:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(84663),n.e(58539),n.e(37472)]).then(n.bind(n,37472))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:i,guild:a,onSelect:u.Cp}))}]}}))})));case x.d4z.ANNOUNCEMENT_THREAD:case x.d4z.PUBLIC_THREAD:case x.d4z.PRIVATE_THREAD:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(o){switch(o.label){case 0:return[4,n.e(81580).then(n.bind(n,881580))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:i,onSelect:u.Cp}))}]}}))})));case x.d4z.GUILD_STORE:
return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(o){switch(o.label){case 0:return[4,n.e(48372).then(n.bind(n,848372))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:i,guild:a,onSelect:u.Cp}))}]}}))})));case x.d4z.GUILD_DIRECTORY:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(o){switch(o.label){case 0:return[4,n.e(14284).then(n.bind(n,914284))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:i}))}]}}))})))}break;case m.h8.GROUP_DM:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(i){switch(i.label){case 0:return[4,n.e(13035).then(n.bind(n,413035))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{channel:o.record,selected:S.Z.getChannelId()===o.record.id,onSelect:u.Cp}))}]}}))})));case m.h8.USER:return(0,h.jW)(t,Te((function(){var e,t;return Ge(this,(function(i){switch(i.label){case 0:
return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,De(Re({},e),{user:o.record,onSelect:u.Cp}))}]}}))})))}};e.handleKeyDown=function(t){var n=e.state,r=n.mouseFocusDisabled,o=n.query,i=e.props.results;!1===r&&e.setState({mouseFocusDisabled:!0});var a=t.key.toLowerCase(),l=e.props.selectedIndex;switch(a){case"escape":t.preventDefault();t.stopPropagation();o.length>0?e.search(""):(0,u.Cp)();return;case"k":if(!0===t.ctrlKey||!0===t.metaKey){t.preventDefault();t.stopPropagation();(0,u.Cp)()}return;case"enter":if(-1===l)return;t.preventDefault();if(t.altKey)return e.handleContextMenu(t);var c=i[l];null!=c&&e.selectResult(c);return;case"arrowup":l=(0,m.gJ)(m.a8.UP,l,i);break;case"arrowdown":l=(0,m.gJ)(m.a8.DOWN,l,i);break;case"n":if(!t.ctrlKey)return;l=(0,m.gJ)(m.a8.DOWN,l,i);break;case"p":if(!t.ctrlKey)return;l=(0,m.gJ)(m.a8.UP,l,i);break;default:return}t.preventDefault();(0,u.tF)(l)}
;e.renderRow=function(t){var n=t.row,o=e.props.results[n],i=e.props.selectedIndex,a=v.getCurrentConfig({},{autoTrackExposure:!1}).showScores;switch(o.type){case m.h8.HEADER:return(0,r.jsx)(ce,{children:o.record.text},"".concat(o.type,"-").concat(o.record.id));case m.h8.TEXT_CHANNEL:return(0,r.jsx)(ze,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case m.h8.VOICE_CHANNEL:return(0,r.jsx)(Ye,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case m.h8.GUILD:return(0,r.jsx)(Ke,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){
return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,guild:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case m.h8.USER:return(0,r.jsx)(Xe,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,user:o.record,comparator:o.comparator,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case m.h8.GROUP_DM:return(0,r.jsx)(qe,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,channel:o.record,score:a?o.score:void 0},"".concat(o.type,"-").concat(o.record.id));case m.h8.APPLICATION:return(0,r.jsx)(ue,{id:e.getRowId(n),focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){
return e.focusResult(o)},onFocus:e.focusNode,application:o.record},"".concat(o.type,"-").concat(o.record.id));case m.h8.LINK:return(0,r.jsx)(se,{focused:i>=0&&n===i,onClick:function(){return e.selectResult(o)},onMouseEnter:function(){return e.focusResult(o)},onFocus:e.focusNode,onContextMenu:e.handleContextMenu,link:o.record,score:a?o.score:void 0,id:e.getRowId(n)},"".concat(o.type,"-").concat(o.record.id));default:return null}};return e}var l=a.prototype;l.componentDidMount=function(){b.Z.disable();b.Z.enableTemp(y.u)};l.componentWillUnmount=function(){b.Z.disableTemp();b.Z.enable()};l.componentDidUpdate=function(e,t){var n=this.state,r=n.mouseFocusDisabled,o=n.query,i=this.props.selectedIndex,a=this.scrollerRef.current;null!=a&&(o!==t.query?a.scrollTo({to:0}):r&&i>=0&&a.scrollToIndex({section:0,row:i,padding:10}))};l.close=function(){(0,u.Cp)()};l.search=function(e){this.setState({query:e});(0,u.yC)(e)};l.renderInput=function(){
var e=this.props,t=e.selectedIndex,n=e.results,o=this.state.query,a=n.length>0&&""!==o;return(0,r.jsx)(i.FocusRing,{children:(0,r.jsx)("input",{className:xe().input,"aria-label":A.Z.Messages.QUICK_SWITCHER,ref:this.inputRef,type:"text",role:"combobox","aria-controls":this._listId,"aria-expanded":a,"aria-activedescendant":a?this.getRowId(t):void 0,"aria-autocomplete":"list",placeholder:A.Z.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,value:this.state.query,spellCheck:!1,autoFocus:!0})})};l.renderSection=function(){return null};l.renderResults=function(){var e=this.state.query,t=this.props.results;return 0===t.length&&e.length>0?(0,r.jsx)(Ve,{}):0===t.length?null:(0,r.jsx)(i.ListAuto,{innerId:this._listId,innerRole:"listbox","aria-label":A.Z.Messages.QUICK_SWITCHER_RESULTS_LABEL,ref:this.scrollerRef,sectionHeight:0,rowHeight:34,paddingBottom:He,sections:[t.length],className:xe().scroller,renderRow:this.renderRow,
renderSection:this.renderSection})};l.focusNode=function(e){de.S.dispatch(x.CkL.QUICKSWITCHER_RESULT_FOCUS,{node:e})};l.getRowId=function(e){return"quick-switcher-".concat(this._listId,"-item-").concat(e)};l.renderProtip=function(){return(0,r.jsx)(_.Z,{className:f()(xe().protip,Me({},xe().hasContent,this.state.query.length>0)),type:_.Z.Types.INLINE,children:A.Z.Messages.QUICKSWITCHER_PROTIP.format({userSymbolHook:function(e,t){return Qe(t,m.xQ.USER,A.Z.Messages.QUICKSWITCHER_PROTIP_USERNAMES)},textChannelSymbolHook:function(e,t){return Qe(t,m.xQ.TEXT_CHANNEL,A.Z.Messages.QUICKSWITCHER_PROTIP_TEXT_CHANNELS)},voiceChannelSymbolHook:function(e,t){return Qe(t,m.xQ.VOICE_CHANNEL,A.Z.Messages.QUICKSWITCHER_PROTIP_VOICE_CHANNELS)},guildSymbolHook:function(e,t){return Qe(t,m.xQ.GUILD,A.Z.Messages.QUICKSWITCHER_PROTIP_GUILDS)},helpdeskArticle:pe.Z.getArticleURL(x.BhN.QUICK_SWITCHER_TUTORIAL)})})};l.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,o=t.results
;return n?null:(0,r.jsx)(we,{hasQuery:e.length>0&&o.length>0})};l.render=function(){return(0,r.jsx)(i.ModalRoot,{"aria-label":A.Z.Messages.QUICK_SWITCHER,size:i.ModalSize.DYNAMIC,transitionState:this.props.transitionState,className:f()(xe().container,d.tq&&xe().mobileContainer),fullscreenOnMobile:!1,children:(0,r.jsxs)("div",{className:f()(xe().quickswitcher,d.tq&&xe().mobileQuickswitcher),onMouseMove:this.handleMouseMove,children:[this.renderInput(),this.renderResults(),this.renderProtip(),this.renderTutorial()]})})};return a}(o.PureComponent);function $e(e){var t=(0,p.cj)([c.Z],(function(){return c.Z.getProps()}));return(0,r.jsx)(Je,Re({},t,e))}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nt(e){nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return nt(e)}function rt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e,t){ot=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ot(e,t)}var it=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}var lt="QUICK_SWITCHER_MODAL_KEY",ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ot(e,t)}(n,e);var t=at(n);function n(){et(this,n);return t.apply(this,arguments)}var o=n.prototype;o._initialize=function(){a.Z.subscribe("QUICKSWITCHER_SHOW",this.handleShow);a.Z.subscribe("QUICKSWITCHER_HIDE",this.handleHide)};o._terminate=function(){a.Z.unsubscribe("QUICKSWITCHER_SHOW",this.handleShow);a.Z.unsubscribe("QUICKSWITCHER_HIDE",this.handleHide)};o.handleShow=function(){c.Z.isOpen()&&!(0,i.hasModalOpen)(lt)&&(0,i.openModal)((function(e){return(0,r.jsx)($e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tt(e,t,n[t])}))}return e}({},e))}),{modalKey:lt,instant:!0,onCloseCallback:u.Cp})};o.handleHide=function(){(0,i.closeModal)(lt)
};o.__getLocalVars=function(){return{QUICK_SWITCHER_MODAL_KEY:lt}};return n}(l.Z);const ct=new ut},530537:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,c:()=>l});var r=n(2590),o=n(897196),i=/^\d+$/;function a(e){return null!=e&&(e===r.ME||e===r.I_8||!!i.test(e))}function l(e){return null==e||(!!i.test(e)||!!(0,o.AB)(e))}},928733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=n(667294),i=n(723812),a=n(336194),l=n(945460);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=(0,o.useRef)(null),n=c((0,o.useState)(null),2),u=n[0],s=n[1],f=c((0,o.useState)(null),2),d=f[0],p=f[1],h=(0,l.useToken)(a.Z.colors.BACKGROUND_PRIMARY).hsl(),y=(0,l.useToken)(a.Z.colors.TEXT_NORMAL).hsl(),b=(0,l.useToken)(a.Z.colors.BACKGROUND_ACCENT).hsl(),m=(0,l.useToken)(a.Z.unsafe_rawColors.BRAND_500).hsl();(0,o.useEffect)((function(){var e=t.current;if(null!=e){var n,r=new i.TimelineGraphView(e,null!==(n=window.devicePixelRatio)&&void 0!==n?n:1);r.backgroundColor=h;r.textColor=y;r.gridColor=b;r.timeOptions={timeStyle:"short"};r.fontFamily="gg sans"
;r.fontSize=11;var o=new i.TimelineDataSeries;o.setColor(m);r.addDataSeries(o);r.updateEndDate();s(r);p(o)}}),[t,h,m,b,y]);null==d||d.setPoints(e.dataPoints);null==u||u.updateEndDate();var v={width:e.width,height:e.height};return(0,r.jsx)("canvas",{style:v,width:e.width,height:e.height,ref:t},"canvas")}},878709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>tt});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n.n(l),c=n(202351),s=n(945460),f=n(419156),d=n(790405),p=n(396043),h=n(64234),y=n(968449),b=n(733300),m=n(715107),v=n(131795),g=n.n(v),O=n(853158),E=n(355616),C=n.n(E);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return j(e)}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function x(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}const A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&I(e,t)}(n,e);var t=P(n);function n(){S(this,n);var e;(e=t.apply(this,arguments)).state={x:new O.Z.Value(0),y:new O.Z.Value(0)};e._isMounted=!1;e.shouldLoop=function(){return e._isMounted};return e}var o=n.prototype;o.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;if("Firefox"!==g().name){O.Z.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop});O.Z.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop})}};o.componentWillUnmount=function(){this._isMounted=!1};o.render=function(){return(0,r.jsxs)("div",{className:C().searchIndexAnimation,children:[(0,r.jsx)("div",{className:C().searchIndexBackground}),(0,r.jsxs)("svg",{className:C().searchIndexForeground,width:"320",height:"280",children:[(0,r.jsx)("defs",{children:(0,r.jsx)("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})}),(0,
r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsxs)("g",{transform:"translate(120 80)",children:[(0,r.jsx)("mask",{id:"search-index-foreground-mask-b",fill:"#fff",children:(0,r.jsx)(O.Z.use,{style:x(this.state),className:C().mask,xlinkHref:"#search-index-foreground-mask-a"})}),(0,r.jsxs)("g",{mask:"url(#search-index-foreground-mask-b)",children:[(0,r.jsx)("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",
d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFF",
d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",
d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),(0,r.jsx)("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",
strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),(0,r.jsx)("path",{fill:"#E4E9F8",
d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),(0,r.jsx)("path",{fill:"#E4E9F8",
d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),(0,
r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#5865f2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),(0,r.jsx)("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})]})]}),(0,r.jsxs)(O.Z.g,{className:C().magnifyingGlass,style:x(this.state),children:[(0,r.jsx)("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,
r.jsx)("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",
d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M84 66h130v130H84z"})]})]})]})]})};return n}(o.Component);var T=n(930948),N=n(840474),M=n(649536),Z=n(804808),L=n(840922);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){
l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=n(348592),U=n(2590),B=n(473708),F=n(247630),G=n.n(F);function H(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){H(e,t,n[t])}))}return e}function W(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function z(e){var t=e.searchMode,n=e.searchByMode;return(0,r.jsxs)("header",{className:G().searchHeader,children:[(0,r.jsx)(Y,V({},e)),(0,r.jsxs)(s.TabBar,{orientation:"horizontal",className:G().searchHeaderTabList,selectedItem:t,onItemSelect:n,children:[(0,r.jsx)(s.TabBar.Item,{id:U.QIO.NEWEST,children:B.Z.Messages.SEARCH_NEWEST_SHORT}),(0,r.jsx)(s.TabBar.Item,{id:U.QIO.OLDEST,children:B.Z.Messages.SEARCH_OLDEST_SHORT}),(0,
r.jsx)(s.TabBar.Item,{id:U.QIO.MOST_RELEVANT,children:B.Z.Messages.SEARCH_MOST_RELEVANT_SHORT})]})]})}function Y(e){var t,n=e.isSearching,o=e.isIndexing,i=e.documentsIndexed;(o||n)&&(t=(0,r.jsx)("div",{className:G().spinnerWrapper,children:(0,r.jsx)(s.Spinner,{type:s.Spinner.Type.SPINNING_CIRCLE,className:G().spinner,itemClassName:G().spinnerPath})}));var a=o&&!n;return(0,r.jsxs)("div",{className:G().totalResults,role:"status",children:[a?(0,r.jsx)(s.Tooltip,{text:B.Z.Messages.SEARCH_STILL_INDEXING_HINT.format({count:i}),children:function(n){return(0,r.jsxs)("div",W(V({className:G().totalResultsWrapper},n),{children:[(0,r.jsx)(K,V({},e)),t]}))}}):(0,r.jsx)(K,V({},e)),a?null:t]})}function K(e){var t=e.isSearching,n=e.isIndexing,o=e.totalResults;if(t)return(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"header-primary",children:B.Z.Messages.SEARCHING});if(n)return(0,r.jsx)(s.Text,{variant:"text-md/normal",children:(0,r.jsx)(s.Anchor,{className:G().helpdeskLink,
href:k.Z.getArticleURL(U.BhN.SEARCH_INDEXING),children:B.Z.Messages.STILL_INDEXING})});var i=o.toLocaleString();return(0,r.jsx)(s.Text,{variant:"text-md/normal",color:"header-primary",children:B.Z.Messages.TOTAL_RESULTS.format({count:i})})}var q=n(144546),X=n(105783),Q=n(336334),J=n(316878),$=n(773011),ee=n(469023),te=n(916286),ne=n(784426),re=n(451458),oe=n(61209),ie=n(682776),ae=n(473903),le=n(507488),ue=n(436622),ce=n(21558),se=n.n(ce);function fe(e){var t=e.changePage,n=e.offset,o=e.totalResults,i=e.pageLength,a=Math.floor(n/i)+1;return(0,r.jsx)("div",{className:se().container,children:(0,r.jsx)(s.Paginator,{currentPage:a,totalCount:o,pageSize:i,onPageChange:t,maxVisiblePages:5})})}var de=n(809784),pe=n(971402),he=n(487868),ye=n(988206),be=n.n(ye);function me(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){me(i,r,o,a,l,"next",e)}function l(e){me(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ee(e){Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ee(e)}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Oe(e,t,n[t])}))}return e}function Se(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function je(e,t){return!t||"object"!==Ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e,t){_e=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _e(e,t)}var Ie=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}var Pe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function xe(e,t){var n=null===window||void 0===window?void 0:window.getSelection();if(null!=n&&!n.isCollapsed)return!0;if(null==e||null==t)return!1;for(;(0,de.k)(e)&&e!==t;){var r=e.tagName;if("A"===r||"IMG"===r||"BUTTON"===r)return!0;e=e.parentNode}return!1}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_e(e,t)}(i,e);var t=we(i);function i(){ge(this,i);var e;(e=t.apply(this,arguments)).containerRef=o.createRef();e.hitRef=o.createRef();e.handleContextMenu=function(e,t){var o=oe.Z.getChannel(t.channel_id);if(null!=o){e.stopPropagation();(0,pe.jW)(e,ve((function(){var e,i;return Pe(this,(function(a){switch(a.label){case 0:
return[4,n.e(22170).then(n.bind(n,822170))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,Se(Ce({},e),{message:t,channel:o}))}]}}))})))}};e.jumpTo=function(t){if(null!=t){t.preventDefault();t.stopPropagation()}var n=e.props,r=n.onJump,o=n.result.find((function(e){return e.isSearchHit}));null!=o&&r(o)};e.handleMessageClick=function(t){xe(t.target,e.containerRef.current)?t.stopPropagation():e.jumpTo(t)};return e}i.prototype.render=function(){var e=this,t=this.props,n=t.result,o=t.listItemProps,i=t.searchOffset,a=t.index,l=t.totalResults,c=u().find(n,(function(e){return e.isSearchHit}));if(null==c)return null;var f=oe.Z.getChannel(c.channel_id);if(null==f)return null;var d="search-result-".concat(c.id);return(0,r.jsx)(s.FocusRing,{ringTarget:this.hitRef,ringClassName:be().searchResultFocusRing,offset:4,children:(0,r.jsxs)("li",Se(Ce({className:be().container},o),{"aria-posinset":1+i+a,"aria-setsize":l,"aria-labelledby":d,children:[(0,r.jsx)(s.Clickable,{tabIndex:-1,
onClick:this.handleMessageClick,innerRef:this.containerRef,className:be().searchResult,focusProps:{enabled:!1},children:(0,r.jsx)("div",{ref:this.hitRef,className:be().message,children:(0,r.jsx)(he.Z,{id:d,message:c,channel:f,onContextMenu:function(t){return e.handleContextMenu(t,c)},animateAvatar:!1,subscribeToComponentDispatch:!1})},c.id)}),(0,r.jsx)("div",{className:be().buttonsContainer,"aria-hidden":!0,children:(0,r.jsx)(s.Clickable,{className:be().button,onClick:this.jumpTo,children:B.Z.Messages.JUMP})})]}))})};return i}(o.PureComponent),Te=n(748355),Ne=n.n(Te);function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ze(e,t,n[t])}))}return e}function Re(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{
try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e){var t,n=e.search,i=e.searchId,a=e.renderEmbeds,l=e.scrollTo,u=e.searchResults,c=e.blockCount,f=n.offset,p=n.totalResults,h=n.isSearching,y=n.showBlockedResults,m=o.useCallback((function(e){h||d.oO(i,e-1)}),[i,h]),v=o.useCallback((function(e){if(e.blocked)X.Z.show({title:B.Z.Messages.UNBLOCK_TO_JUMP_TITLE,body:B.Z.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:B.Z.Messages.OKAY});else{
var t=oe.Z.getChannel(e.channel_id),n=null!=t?t.getGuildId():null;Q.Z.trackJump(e.channel_id,e.id,"Search Results",{search_id:b.Z.getAnalyticsId(i)});(0,ne.uL)(U.Z5c.CHANNEL(n,e.channel_id,e.id))}}),[i]),g=o.useMemo((function(){if(null==u)return[];var e,t=0;return u.reduce((function(n,r){var o=r.find((function(e){return e.isSearchHit}));if(!y&&null!=o&&L.Z.isBlocked(o.author.id))return n;var i=oe.Z.getChannel(r[0].channel_id);if(null==i)return n;null!=e&&e===i.id||n.push({channel:i,results:[],startIndex:t});t+=1;n[n.length-1].results.push(r);e=null==i?void 0:i.id;return n}),[])}),[u,y]),O=o.useRef([]),E=g.reduce((function(e,t){return e+1+t.results.length}),0),C=o.useCallback((function(e,t){if(J.Z.keyboardModeEnabled){var n=O.current,r=null!=t?n[t]:void 0;if(null!=r&&null!=r.hitRef.current){var o=r.hitRef.current.getClientRects()[0],i=o.top-.5*o.height;l(i,!1,(function(){var t;null===(t=document.getElementById(e))||void 0===t||t.focus()}))}}}),[l]),S=o.useCallback((function(e){
var t=O.current[e];null==t||t.jumpTo()}),[]),j=(0,q.ZP)({navId:"search-results",itemCount:E,focusedIndex:0,setFocus:C,onSelect:S}),_=b.Z.getQuery(i),I=(0,N.nC)(null!==(t=null==_?void 0:_.content)&&void 0!==t?t:""),w=g.map((function(e){var t=e.channel,n=e.results,o=e.startIndex;return(0,r.jsx)(Ue,{channel:t,results:n,highlighter:I,startIndex:o,resultRefs:O,totalResults:p,scrollTo:l,searchId:i,renderEmbeds:a,offset:f,jumpToMessage:v,listNavigator:j},"".concat(t.id,"-").concat(o))}));w.push();var P=o.useRef(null);o.useLayoutEffect((function(){var e;null===(e=P.current)||void 0===e||e.focus()}),[u]);var x=(0,s.useFocusJumpSection)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Re(Le({ref:P},j.getContainerProps(),x),{"aria-busy":h,children:w})),c>0?(0,r.jsxs)(s.Clickable,{tag:"div",className:Ne().resultsBlocked,onClick:function(){return d.QY(i,!y)},children:[(0,r.jsx)("div",{className:Ne().resultsBlockedImage}),(0,r.jsx)("div",{className:Ne().resultsBlockedText,
children:y?B.Z.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:c}):B.Z.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:c})})]}):null,!h&&(0,r.jsx)(fe,{changePage:m,offset:f,totalResults:p,pageLength:U.vpv})]})}function Ue(e){var t,n=e.channel,i=e.results,a=e.highlighter,l=e.startIndex,u=e.resultRefs,c=e.totalResults,f=e.scrollTo,d=e.searchId,p=e.renderEmbeds,h=e.offset,b=e.jumpToMessage,v=e.listNavigator,g=y.cC.useSetting(),O=o.useCallback((function(e){if(e!==m.Z.getChannelId()){var t=oe.Z.getChannel(e);null!=t&&ie.Z.can(U.Plq.VIEW_CHANNEL,t)&&(0,re.Kh)(t.id)}}),[]),E=null!=n?(0,$.F6)(n,ae.default,L.Z,!1):"???",C=null!=(null==n?void 0:n.parent_id)?oe.Z.getChannel(n.parent_id):null,S=null!=C?C.name:null,j=null!==(t=(0,ee.Z)(n))&&void 0!==t?t:ue.Z,_=null!=C?(0,ee.Z)(C):null,I=ie.Z.can(U.Plq.MANAGE_MESSAGES,n),w=(0,Z.ZP)({content:E,embeds:[]},{postProcessor:a}).content,P=o.useRef(null),x=De(o.useState(!1),2),A=x[0],T=x[1];o.useEffect((function(){var e=P.current
;null!=e&&null!=e.offsetWidth&&null!=e.scrollWidth&&T(e.offsetWidth<e.scrollWidth)}),[]);return(0,r.jsx)(le.a.Provider,{value:(0,te.Z)(g,I),children:(0,r.jsxs)("ul",{role:"group",className:Ne().searchResultGroup,"aria-label":null==S?E:"".concat(E,", ").concat(S),children:[(0,r.jsx)(s.Clickable,{onClick:function(){return O(n.id)},children:(0,r.jsxs)("div",{className:Ne().channelNameContainer,children:[(0,r.jsx)(j,{className:Ne().channelNameIcon,width:16,height:16}),(0,r.jsx)(s.Tooltip,{text:E,hide:!A,children:function(e){return(0,r.jsx)("span",Re(Le({},e),{ref:P,className:Ne().channelNameText,children:w}))}}),null!=C&&null!=S&&null!=_?(0,r.jsxs)(s.Clickable,{className:Ne().parentChannelNameClickable,onClick:function(e){e.stopPropagation();O(C.id)},children:[(0,r.jsx)(_,{className:Ne().parentChannelNameIcon,width:12,height:12}),(0,r.jsx)(s.Text,{className:Ne().parentChannelNameText,variant:"text-xs/medium",color:"header-secondary",children:S})]}):null]})}),i.map((function(e,t){var n=l+t
;return(0,r.jsx)(Ae,{ref:function(e){return u.current[n]=e},totalResults:c,scrollTo:f,searchId:d,renderEmbeds:p,searchOffset:h,pageResultsLength:i.length,result:e,index:n,onJump:b,listItemProps:v.getItemProps({index:n})},"search-result-".concat(n))}))]})})}var Be=n(777537),Fe=n.n(Be);function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ve(e){Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ve(e)}function We(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&qe(e,t)}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){He(e,t,n[t])}))}return e}function Ye(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ke(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e,t){qe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return qe(e,t)}var Xe=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}var Je=function(e){We(n,e);var t=Qe(n);function n(){Ge(this,n);var e;(e=t.apply(this,arguments)).autoAnalytics=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e.props.searchAnalyticsId){var n=0,r=0,o=0,i=0;null!=e.props.searchResults&&u()(e.props.searchResults).flatten().filter((function(e){return e.isSearchHit})).forEach((function(e){if(null!=e.content&&""!==e.content){n++;/https?:\/\/[^\s]+/.test(e.content)&&i++}null!=e.embeds&&e.embeds.length>0&&o++
;null!=e.attachments&&e.attachments.length>0&&r++}));p.ZP.trackWithMetadata(U.rMx.SEARCH_RESULT_VIEWED,{search_type:e.props.searchType,search_id:e.props.searchAnalyticsId,prev_search_id:t!==e.props.searchAnalyticsId?t:null,is_error:e.props.searchHasError,limit:e.props.searchLimit,offset:e.props.searchOffset,page:Math.floor(e.props.searchOffset/e.props.searchLimit)+1,total_results:e.props.searchTotalResults,page_results:null!=e.props.searchResults?e.props.searchResults.length:null,is_indexing:e.props.searchIsIndexing,page_num_messages:n,page_num_links:i,page_num_embeds:o,page_num_attach:r})}};return e}var r=n.prototype;r.componentDidMount=function(){this.autoAnalytics()};r.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)};r.render=function(){return null};return n}(o.Component),$e=function(e){var t=e.children;return(0,r.jsx)("div",{className:Fe().emptyResultsWrap,
children:(0,r.jsx)("div",{className:Fe().emptyResultsContent,children:t})})},et=function(e){We(n,e);var t=Qe(n);function n(){Ge(this,n);var e;(e=t.apply(this,arguments)).state={searchMode:U.QIO.NEWEST,searchQuery:null};e.scrollerRef=o.createRef();e.scrollTo=function(t,n,r){var o=e.scrollerRef.current;if(null!=o){var i=o.getScrollerState().scrollTop-t;o.scrollTo({to:i,animate:n,callback:r})}};e.selectChannel=function(e){e!==m.Z.getChannelId()&&f.Z.transitionToInviteChannelSync(e)};e.searchPrevious=function(){var t=e.props,n=t.searchId;t.search.isSearching||d.jn(n)};e.searchNext=function(){var t=e.props,n=t.searchId;t.search.isSearching||d.m$(n)};e.handleSearchResultsClose=function(){var t=e.props.searchId;d.qt(t)};e.searchByMode=function(t){var n=e.props,r=n.searchId,o=n.search.isSearching;if(t!==e.state.searchMode&&!o){p.ZP.trackWithMetadata(U.rMx.SEARCH_RESULT_SORT_CHANGED,{search_id:b.Z.getAnalyticsId(r),new_sort_type:t});d.Nz(r,t);e.setState({searchMode:t})}}
;e.toggleShowBlockedMessages=function(){var t=e.props,n=t.searchId,r=t.search.showBlockedResults;d.QY(n,!r)};e.renderHeader=function(){var t=e.state.searchMode,n=e.props.search,o=n.totalResults,i=n.isSearching,a=n.isHistoricalIndexing,l=n.documentsIndexed;return(0,r.jsx)(z,{searchMode:t,searchByMode:e.searchByMode,totalResults:o,isSearching:i,isIndexing:a,documentsIndexed:l})};e.renderIndexing=function(){var t=b.Z.getSearchType(e.props.searchId)===U.aib.GUILD?B.Z.Messages.SEARCH_GUILD_STILL_INDEXING:B.Z.Messages.SEARCH_DM_STILL_INDEXING;return(0,r.jsxs)($e,{children:[(0,r.jsx)(A,{}),(0,r.jsx)("div",{className:(Fe().emptyResultsText,Fe().stillIndexing),children:t})]})};e.renderNoResults=function(){var t=e.props.search.showNoResultsAlt,n=t?B.Z.Messages.SEARCH_NO_RESULTS_ALT:B.Z.Messages.SEARCH_NO_RESULTS;return(0,r.jsxs)($e,{children:[(0,r.jsx)("div",{className:a()(Fe().noResultsImage,He({},Fe().alt,t))}),(0,r.jsx)("div",{
className:a()(Fe().emptyResultsText,Fe().noResults,He({},Fe().alt,t)),children:n})]})};e.renderError=function(){return(0,r.jsxs)($e,{children:[(0,r.jsx)("div",{className:Fe().errorImage}),(0,r.jsx)("div",{className:a()(Fe().emptyResultsText,Fe().errorMessage),children:B.Z.Messages.SEARCH_ERROR})]})};e.renderContent=function(){var t=e.props,n=t.searchResults,o=t.blockCount,i=e.props.search,a=i.totalResults,l=i.isSearching,u=i.isIndexing;return i.hasError?e.renderError():u?e.renderIndexing():l?null:a>0?(0,r.jsx)(ke,{search:e.props.search,searchResults:n,blockCount:o,searchId:e.props.searchId,renderEmbeds:e.props.renderEmbeds,scrollTo:e.scrollTo}):e.renderNoResults()};return e}var i=n.prototype;i.componentDidMount=function(){T.S.subscribe(U.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};i.componentWillUnmount=function(){T.S.unsubscribe(U.CkL.SEARCH_RESULTS_CLOSE,this.handleSearchResultsClose)};i.componentDidUpdate=function(e){var t=e.search
;if(this.props.search.showBlockedResults!==t.showBlockedResults){var n=this.scrollerRef.current;if(null==n)return;n.scrollToBottom()}var r=b.Z.getQuery(this.props.searchId);JSON.stringify(r)!==JSON.stringify(this.state.searchQuery)&&this.setState({searchQuery:r,searchMode:U.QIO.NEWEST})};i.render=function(){var e=this.props,t=e.searchAnalyticsId,n=e.searchType,o=e.searchResults,i=this.props.search,a=i.offset,l=i.hasError,u=i.totalResults,c=i.isHistoricalIndexing;return(0,r.jsxs)("section",{className:Fe().searchResultsWrap,"aria-label":B.Z.Messages.SEARCH_RESULTS_SECTION_LABEL,children:[this.renderHeader(),(0,r.jsx)(s.AdvancedScroller,{ref:this.scrollerRef,className:Fe().scroller,children:this.renderContent()}),(0,r.jsx)(Je,{searchType:n,searchAnalyticsId:t,searchResults:o,searchOffset:a,searchLimit:U.vpv,searchHasError:l,searchTotalResults:u,searchIsIndexing:c})]})};return n}(o.PureComponent);function tt(e){var t=e.searchId;return(0,r.jsx)(et,ze(Ye(ze({searchId:t},(0,
c.cj)([b.Z],(function(){return{search:b.Z.getResultsState(t),searchAnalyticsId:b.Z.getAnalyticsId(t),searchType:b.Z.getSearchType()}}),[t]),function(e){var t=(0,c.e7)([b.Z],(function(){var t,n=b.Z.getQuery(e),r=b.Z.getRawResults(e);if(null==n||null==r)return[];var o=(0,N.nC)(null!==(t=n.content)&&void 0!==t?t:"");return r.map((function(e){return e.map((function(e){var t=(0,M.e5)(e);return t.isSearchHit?t.set("customRenderedContent",(0,Z.ZP)(t,{postProcessor:o,allowHeading:!0,allowList:!0})):t}))}))}),[e],c.pF),n=D((0,c.e7)([L.Z],(function(){var e=0;return[t.map((function(t){return t.filter((function(t){var n=L.Z.isBlocked(t.author.id);n&&t.isSearchHit&&e++;return!n||t.isSearchHit}))})),e]}),[t],c.pF),2);return{searchResults:n[0],blockCount:n[1]}}(t)),{renderEmbeds:y.NA.useSetting(),developerMode:y.Sb.useSetting()}),(0,c.cj)([h.Z],(function(){return{theme:h.Z.theme}}))))}},468874:(e,t,n)=>{"use strict";n.d(t,{oW:()=>u,AX:()=>c,cV:()=>s,BR:()=>f,Df:()=>d,ZZ:()=>p,gr:()=>h,fW:()=>y,
Bo:()=>b,LT:()=>m});var r=n(575494),o=n(281110),i=n(744564),a=n(99452),l=n(2590);function u(e,t,n,r,o){i.Z.dispatch({type:"SHARED_CANVAS_DRAW_LINE_POINT",channelId:e,userId:n,lineId:t,streamerId:r,point:o})}function c(e,t,n,r){return o.Z.post({url:l.ANM.SHARED_CANVAS_LINES(e,n),body:{line_id:t,points:r}})}function s(e,t,n,r){i.Z.dispatch({type:"SHARED_CANVAS_UPDATE_LINE_POINTS",userId:t,lineId:e,newPoints:r,streamerId:n})}function f(e,t,n){return o.Z.post({url:l.ANM.SHARED_CANVAS_EMOJI_HOSES(e,t),body:{emoji_hose:n}})}function d(e,t,n){o.Z.delete({url:l.ANM.SHARED_CANVAS_EMOJI_HOSE(e,t,n),backoff:new r.Z})}function p(e,t){t.state=a.f.STOP;i.Z.dispatch({type:"SHARED_CANVAS_UPDATE_EMOJI_HOSE",emojiHose:t,userId:t.userId,streamerId:e})}function h(e,t,n){i.Z.dispatch({type:"SHARED_CANVAS_UPDATE_EMOJI_HOSE",emojiHose:e,userId:t,streamerId:n})}function y(e,t){i.Z.dispatch({type:"SHARED_CANVAS_CLEAR_DRAWABLES",drawables:e,streamerId:t})}function b(e){i.Z.dispatch({
type:"SHARED_CANVAS_SET_DRAW_MODE",drawMode:e})}function m(){i.Z.dispatch({type:"TOGGLE_OVERLAY_CANVAS"})}},35723:(e,t,n)=>{"use strict";n.d(t,{Ks:()=>r,qh:()=>o,q2:()=>i,Fq:()=>a,FO:()=>l});var r=80,o=48,i=3,a=500,l=5e3},9134:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(260561).B)({kind:"guild",id:"2023-01_shared_canvas",label:"Shared Canvas",defaultConfig:{isSharedCanvasEnabled:!1},treatments:[{id:1,label:"Enable Shared Canvas",config:{isSharedCanvasEnabled:!0}}]})},407761:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(202351),o=n(744564),i=n(135855),a=n(473903),l=n(38004),u=n(99452),c=n(569588),s=n(35723);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}
function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}function O(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var S={},j={},_={},I=!0,w=null;function P(e){if(null==j[e]){var t=a.default.getUser(e);if(null==t)return;var n=t.getAvatarURL(null,s.Ks),r=new Image;r.src=n;j[e]=r}}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=C(n);function n(){d(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getDrawables=function(e){return null!=S[e]?S[e]:[]};r.getAvatarImage=function(e){return j[e]};r.getEmojiImage=function(e){return _[e]};r.getDrawMode=function(){return w};r.__getLocalVars=function(){return{drawables:S,avatarImages:j,emojiImages:_,visibleOverlayCanvas:I,drawMode:w,store:A}};!function(e,t,n){t&&p(e.prototype,t);n&&p(e,n)}(n,[{key:"visibleOverlayCanvas",get:function(){return I}}]);return n}(r.ZP.Store);x.displayName="SharedCanvasStore";var A=new x(o.Z,{SHARED_CANVAS_UPDATE_LINE_POINTS:function(e){var t=e.lineId,n=e.newPoints,r=e.userId,o=e.streamerId,i=S[o];if(null==i)S[o]=[{type:u.W.LINE,id:t,userId:r,points:n}];else{var a=i.find((function(e){return e.id===t}));if(null==a)i.push({type:u.W.LINE,id:t,userId:r,points:n});else if((0,c.P7)(a)){var l;(l=a.points).push.apply(l,O(n))}}
P(r)},SHARED_CANVAS_UPDATE_EMOJI_HOSE:function(e){var t,n,r=e.emojiHose,o=e.streamerId,a=e.userId,c=m(b({},r),{type:u.W.EMOJI_HOSE});if(null==S[o])S[o]=[c];else{var f=S[o].findIndex((function(e){return e.id===r.id}));f>=0?S[o][f]=b({},S[o][f],c):S[o].push(c)}var d=null!==(n=null!==(t=r.emojiId)&&void 0!==t?t:r.emojiName)&&void 0!==n?n:"";if(null==_[d]){var p,h=null!=r.emojiName?i.ZP.convertNameToSurrogate(r.emojiName):null;_[d]=new Image;_[d].src=(0,l.qc)({id:r.emojiId,name:null!==(p=null!=h?h:r.emojiName)&&void 0!==p?p:"",animated:!1},s.qh)}P(a)},SHARED_CANVAS_CLEAR_DRAWABLES:function(e){var t=e.drawables,n=e.streamerId;if(null!=S[n]){var r=new Set;t.forEach((function(e){return r.add(e.id)}));S[n]=S[n].filter((function(e){return!r.has(e.id)}))}},SHARED_CANVAS_SET_DRAW_MODE:function(e){var t=e.drawMode;w=t},TOGGLE_OVERLAY_CANVAS:function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));I=!I}});const T=A},99452:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,
f:()=>o});var r,o;!function(e){e.LINE="line";e.EMOJI_HOSE="emoji_hose"}(r||(r={}));!function(e){e.START="START";e.STOP="STOP"}(o||(o={}))},569588:(e,t,n)=>{"use strict";n.d(t,{UN:()=>s,hn:()=>f,np:()=>d,RR:()=>p,P7:()=>h,bg:()=>y});var r=n(717621),o=n.n(r),i=n(547308),a=n(109206),l=n(473903),u=n(99452),c=n(35723);function s(e){var t=e.current,n=null==t?void 0:t.getContext("2d");null!=t&&null!=n&&n.clearRect(0,0,t.width,t.height)}function f(e,t){var n=e.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top;return{x:(t.clientX-i)/r,y:(t.clientY-a)/o}}function d(e,t){return Math.round(e*t*window.devicePixelRatio)}function p(e,t,n){return{x:d(e.x,t),y:d(e.y,n),deltaTime:e.deltaTime}}function h(e){return e.type===u.W.LINE}function y(e,t,n,r){var u,s=l.default.getUser(e),f=null==s?void 0:s.getAvatarURL(null,c.Ks),d=null!=f?null===(u=a.SR.getState().palette[f])||void 0===u?void 0:u[0]:null,p=null!=d?"#".concat(o()({r:d[0],g:d[1],b:d[2]}).toHex()):r;return{fillColor:p,outlineColor:(0,
i.Bd)((0,i._i)(p))>.5?n:t}}},103245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(667294),o=n(513328),i=n(336194),a=n(945460),l=n(109206),u=n(407561),c=n(468874),s=n(407761),f=n(99452),d=n(569588),p=n(496486),h=n.n(p),y=n(468811),b=n.n(y),m=n(38736);function v(e,t,n,r,o){e.save();e.beginPath();e.fillStyle=r;e.arc(t,n,Math.round(20*window.devicePixelRatio)/2+o,0,2*Math.PI);e.fill();e.restore()}function g(e,t,n,r){e.save();var o=s.Z.getAvatarImage(r);if(null!=o){var i=20*window.devicePixelRatio;e.beginPath();e.arc(t,n,i/2,0,2*Math.PI);e.clip();e.drawImage(o,t-i/2,n-i/2,i,i);e.restore()}}var O=n(35723),E={X_OFFSET:2*O.qh,Y_OFFSET:25,X_SPEED:.5,Y_SPEED_MIN:-1,Y_SPEED_MAX:-5,OPACITY:1,OPACITY_SPEED_MIN:.01,OPACITY_SPEED_MAX:.05,SIZE_MIN:O.qh/2,SIZE_MAX:O.qh},C=(0,m.Z)((function(){return{particles:{},lastSpawned:{}}}));function S(e,t){return{id:b().v4(),x:e+h().random(-E.X_OFFSET,E.X_OFFSET),y:t+h().random(-E.Y_OFFSET,E.Y_OFFSET),xSpeed:h().random(-E.X_SPEED,E.X_SPEED),
ySpeed:h().random(E.Y_SPEED_MIN,E.Y_SPEED_MAX),opacity:E.OPACITY,opacitySpeed:h().random(E.OPACITY_SPEED_MIN,E.OPACITY_SPEED_MAX),size:h().random(E.SIZE_MIN,E.SIZE_MAX)}}function j(e,t){var n;h()(null!==(n=C.getState().particles[e.id])&&void 0!==n?n:{}).forEach(t)}function _(e){var t,n,r=e.emojiHose,o=e.context,i=e.canvasWidth,a=e.canvasHeight,l=e.fallbackColor,u=e.outlineColorDark,p=e.outlineColorLight,y=e.streamerId,b=e.deadDrawables;o.save();var m=s.Z.getEmojiImage(null!==(n=null!==(t=r.emojiId)&&void 0!==t?t:r.emojiName)&&void 0!==n?n:""),E=(0,d.np)(r.x,i),_=(0,d.np)(r.y,a),I=(0,d.bg)(r.userId,u,p,l).outlineColor;j(r,(function(e){return function(e,t){t.x+=t.xSpeed*window.devicePixelRatio;t.y+=t.ySpeed*window.devicePixelRatio;t.opacity-=t.opacitySpeed;t.opacity<=0&&C.setState((function(n){delete n.particles[e.id][t.id];0===Object.keys(n.particles[e.id]).length&&delete n.particles[e.id];return n}))}(r,e)}));!function(e,t,n){
var r,o=null!==(r=C.getState().lastSpawned[e.id])&&void 0!==r?r:0,i=Date.now();o+100>i||e.state===f.f.STOP||(Math.random()<=.8||o+300<i)&&C.setState((function(r){for(var o,i=null!==(o=r.particles[e.id])&&void 0!==o?o:{},a=h().random(1,2),l=0;l<a;l++){var u=S(t,n);i[u.id]=u}r.particles[e.id]=i;r.lastSpawned[e.id]=Date.now();return r}))}(r,E,_);v(o,E,_,I,O.q2);g(o,E,_,r.userId);j(r,(function(e){return function(e,t,n){if(null!=t){var r=n.size*window.devicePixelRatio,o=n.x-r/2*window.devicePixelRatio,i=n.y-1.2*r*window.devicePixelRatio;e.globalAlpha=n.opacity;e.drawImage(t,r/2+o,r/2+i,r,r)}}(o,m,e)}));r.lastUpdatedAt+O.FO<Date.now()&&(0,c.ZZ)(y,r);r.state!==f.f.STOP||function(e){var t;return Object.keys(null!==(t=C.getState().particles[e.id])&&void 0!==t?t:{}).length>0}(r)||b.push(r);o.restore()}function I(e){var t=e.drawable,n=e.context,r=e.canvasWidth,o=e.canvasHeight,i=e.fallbackColor,a=e.outlineColorDark,l=e.outlineColorLight,u=e.linesDrawnAt,c=e.streamerId,s=e.deadDrawables
;switch(t.type){case f.W.LINE:return function(e){var t=e.line,n=e.context,r=e.canvasWidth,o=e.canvasHeight,i=e.fallbackColor,a=e.outlineColorDark,l=e.outlineColorLight,u=e.linesDrawnAt,c=e.deadDrawables;null==u.current[t.id]&&(u.current[t.id]=Date.now());n.lineCap="round";n.lineJoin="round";var s=t.points.map((function(e){return(0,d.RR)(e,r,o)})),f=u.current[t.id],p=function(e){return f+e.deltaTime},h=function(e){return p(e)+1500>=Date.now()},y=function(e){return p(e)<=Date.now()&&h(e)},b=s.find(y);if(null!=b){var m=function(e,t){var r=null;n.lineWidth=t*window.devicePixelRatio;n.strokeStyle=e;n.beginPath();n.moveTo(b.x,b.y);for(var o=1;o<s.length;o++){var i=s[o];if(y(i)){n.lineTo(i.x,i.y);r=i}}n.stroke();return r},E=(0,d.bg)(t.userId,a,l,i),C=E.fillColor,S=E.outlineColor,j=m(S,6+O.q2),_=null!=j&&y(j);_&&v(n,j.x,j.y,S,O.q2);m(C,6);_&&g(n,j.x,j.y,t.userId)}else h(t.points[t.points.length-1])||c.push(t)}({line:t,context:n,canvasWidth:r,canvasHeight:o,fallbackColor:i,outlineColorDark:a,
outlineColorLight:l,linesDrawnAt:u,deadDrawables:s});case f.W.EMOJI_HOSE:return _({emojiHose:t,context:n,canvasWidth:r,canvasHeight:o,fallbackColor:i,outlineColorDark:a,outlineColorLight:l,streamerId:c,deadDrawables:s})}}function w(e,t,n,f){var p=(0,a.useToken)(i.Z.unsafe_rawColors.BRAND_500).hex(),h=(0,a.useToken)(i.Z.unsafe_rawColors.BLACK_500).hex(),y=(0,a.useToken)(i.Z.unsafe_rawColors.WHITE_500).hex(),b=r.useRef({}),m=r.useRef(new o.Xp),v=r.useCallback((function(t){var n=s.Z.getDrawables(t);(0,d.UN)(e);!function(e){var t=e.canvasRef,n=e.drawables,r=e.fallbackColor,o=e.linesDrawnAt,i=e.streamerId,a=e.channelId,l=e.outlineColorDark,s=e.outlineColorLight;if(0!==n.length){var f=t.current;if(null!=f){var d=f.getContext("2d");if(null!=d){var p=f.getBoundingClientRect(),h=p.width,y=p.height,b=[];n.forEach((function(e){null!=u.Z.getVoiceStateForChannel(a,e.userId)?I({drawable:e,context:d,canvasWidth:h,canvasHeight:y,fallbackColor:r,outlineColorDark:l,outlineColorLight:s,linesDrawnAt:o,
deadDrawables:b,streamerId:i}):b.push(e)}));b.length>0&&(0,c.fW)(b,i)}}}}({canvasRef:e,drawables:n,fallbackColor:p,linesDrawnAt:b,streamerId:t,outlineColorDark:h,outlineColorLight:y,channelId:f})}),[e,f,p,h,y]);r.useEffect((function(){var t=new ResizeObserver((function(){var t=e.current;if(null!=t){var r=t.getBoundingClientRect(),o=r.width,i=r.height;t.width=o*window.devicePixelRatio;t.height=i*window.devicePixelRatio;v(n)}}));null!=e.current&&t.observe(e.current);return function(){return t.disconnect()}}),[e,v,n]);var g=r.useCallback((function(){var t=s.Z.getDrawables(n),r=C.getState().particles,o=t.length>0||Object.keys(r).length>0;if(o&&null==m.current._ref)if(null==m.current._ref){v(n);m.current.start(16.666666666666668,(function(){return v(n)}))}else if(!o&&null!=m.current._ref){m.current.stop();(0,d.UN)(e)}}),[e,v,n]);r.useEffect((function(){var e=m.current;s.Z.addChangeListener(g);g();(0,l.vM)(t.getAvatarURL(null,O.Ks));return function(){s.Z.removeChangeListener(g);e.stop()}}))}
},336177:(e,t,n)=>{"use strict";n.d(t,{w:()=>O,Dx:()=>E,$d:()=>S,AA:()=>_,TB:()=>w,hs:()=>P,XE:()=>x,xR:()=>A,R:()=>T,xz:()=>N,un:()=>M});var r=n(496486),o=n.n(r),i=n(281110),a=n(744564),l=n(105783),u=n(539381),c=n(917019),s=n(656907),f=n(911980),d=n(452887),p=n(460214),h=n(2590),y=n(131559),b=n(473708);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))}}var g=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function O(){if(__OVERLAY__){a.Z.dispatch({type:"OVERLAY_SOUNDBOARD_SOUNDS_FETCH_REQUEST"});return Promise.resolve()}var e=(0,d.D)();if(0===e.length)return Promise.resolve();a.Z.dispatch({type:"GUILD_SOUNDBOARD_FETCH"});a.Z.dispatch({type:"REQUEST_SOUNDBOARD_SOUNDS",guildIds:e})
;return new Promise((function(e){var t=s.Z.hasFetchedDefaultSounds(),n=!1,r=function(){t&&n&&setTimeout(e,0)},o=function(){a.Z.unsubscribe("SOUNDBOARD_FETCH_DEFAULT_SOUNDS_SUCCESS",o);t=!0;r()},i=function(){a.Z.unsubscribe("SOUNDBOARD_SOUNDS_RECEIVED",i);n=!0;r()};a.Z.subscribe("SOUNDBOARD_FETCH_DEFAULT_SOUNDS_SUCCESS",o);a.Z.subscribe("SOUNDBOARD_SOUNDS_RECEIVED",i)}))}function E(e){return C.apply(this,arguments)}function C(){return(C=v((function(e){var t,n,r,o,a,l,u;return g(this,(function(c){switch(c.label){case 0:t=e.guildId,n=e.name,r=e.sound,o=e.volume,a=e.emojiId,l=e.emojiName;return[4,i.Z.post({url:h.ANM.GUILD_SOUNDBOARD_SOUNDS(t),body:{name:n,sound:r,volume:o,emoji_id:a,emoji_name:l}})];case 1:u=c.sent();return[2,(0,f.o3)(u.body,t)]}}))}))).apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return(j=v((function(e){var t,n,r,o,a,l,u;return g(this,(function(c){switch(c.label){case 0:t=e.guildId,n=e.soundId,r=e.name,o=e.volume,a=e.emojiId,
l=e.emojiName;return[4,i.Z.patch({url:h.ANM.GUILD_SOUNDBOARD_SOUND(t,n),body:{name:r,volume:o,emoji_id:a,emoji_name:l}})];case 1:u=c.sent();return[2,(0,f.o3)(u.body,t)]}}))}))).apply(this,arguments)}function _(e,t){return I.apply(this,arguments)}function I(){return(I=v((function(e,t){return g(this,(function(n){switch(n.label){case 0:return[4,i.Z.delete({url:h.ANM.GUILD_SOUNDBOARD_SOUND(e,t),oldFormErrors:!0})];case 1:n.sent();return[2]}}))}))).apply(this,arguments)}function w(e){c.DZ.updateAsync("favoriteSoundboardSounds",(function(t){if(o().size(t.soundIds)>=y.oX){l.Z.show({title:b.Z.Messages.FAVORITES_LIMIT_REACHED_TITLE,body:b.Z.Messages.FAVORITES_LIMIT_REACHED_BODY.format({count:y.oX})});return!1}if(t.soundIds.includes(e))return!1;t.soundIds.push(e)}),y.fy.INFREQUENT_USER_ACTION)}function P(e){c.DZ.updateAsync("favoriteSoundboardSounds",(function(t){t.soundIds=t.soundIds.filter((function(t){return t!==e}))}),y.fy.INFREQUENT_USER_ACTION)}function x(e,t){a.Z.dispatch({
type:"GUILD_SOUNDBOARD_SOUND_PLAY_LOCALLY",sound:t,channelId:e})}function A(e,t){a.Z.dispatch({type:"GUILD_SOUNDBOARD_SOUND_PLAY_START",soundId:e,userId:t})}function T(e,t){a.Z.dispatch({type:"GUILD_SOUNDBOARD_SOUND_PLAY_END",soundId:e,userId:t})}function N(e){a.Z.dispatch({type:"USER_SOUNDBOARD_SET_VOLUME",volume:e})}function M(e){return Z.apply(this,arguments)}function Z(){return(Z=v((function(e){var t,n,r;return g(this,(function(o){switch(o.label){case 0:if(!s.Z.shouldFetchDefaultSounds())return[2];a.Z.dispatch({type:"SOUNDBOARD_FETCH_DEFAULT_SOUNDS"});o.label=1;case 1:o.trys.push([1,3,,4]);return[4,i.Z.get({url:h.ANM.SOUNDBOARD_DEFAULT_SOUNDS,query:{guild_ids:e}})];case 2:t=o.sent();n=t.body.map((function(e){return(0,f.o3)(e,p.X8)}));a.Z.dispatch({type:"SOUNDBOARD_FETCH_DEFAULT_SOUNDS_SUCCESS",soundboardSounds:n});return[3,4];case 3:r=o.sent();a.Z.dispatch({type:"SOUNDBOARD_FETCH_DEFAULT_SOUNDS_FAILURE"});throw new u.Z(r);case 4:return[2]}}))}))).apply(this,arguments)}},
911980:(e,t,n)=>{"use strict";n.d(t,{o3:()=>l,QL:()=>u,bg:()=>c,vB:()=>s});function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));o.forEach((function(t){r(e,t,n[t])}))}return e}function i(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function l(e,t){var n=e.sound_id,r=e.emoji_id,l=e.emoji_name,u=e.override_path,c=e.user_id,s=e.available;return i(o({},a(e,["sound_id","emoji_id","emoji_name","override_path","user_id","available"])),{soundId:n,guildId:t,emojiId:r,emojiName:l,overridePath:u,userId:c,available:null==s||s})}function u(e){var t=e.soundId,n=e.guildId,r=e.emojiId,l=e.emojiName,u=e.overridePath,c=e.userId;return i(o({},a(e,["soundId","guildId","emojiId","emojiName","overridePath","userId"])),{sound_id:t,guild_id:n,emoji_id:r,emoji_name:l,override_path:u,user_id:c})}var c,s;!function(e){e[e.FAVORITES=0]="FAVORITES";e[e.GUILD=1]="GUILD"
;e[e.DEFAULTS=2]="DEFAULTS";e[e.SEARCH=3]="SEARCH"}(c||(c={}));!function(e){e[e.SOUND=0]="SOUND";e[e.ADD_SOUND=1]="ADD_SOUND"}(s||(s={}))},815378:(e,t,n)=>{"use strict";n.d(t,{pI:()=>u,Rp:()=>c,Nq:()=>s});var r=n(968449),o=n(604945),i=n(615457),a=n(850841),l=n(460214);function u(){var e,t=r.kU.getSetting();return null!==(e=null==t?void 0:t.volume)&&void 0!==e?e:100}function c(e){var t,n,a=(n=r.kU.getSetting(),(0,i.P)(null!==(t=null==n?void 0:n.volume)&&void 0!==t?t:100)/100),l=Math.min(o.Z.getOutputVolume()/100,1);return Math.min(e*a*l,1)}function s(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(a.ZP.canUseSoundboardEverywhere(e)||t.guildId===n||t.guildId===l.X8)&&(!r||t.available)}},182306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(682776),o=n(2590);function i(e){if(null==e)return!1;if(o.TPd.CALLABLE.has(e.type))return!0;var t=r.Z.can(o.Plq.USE_SOUNDBOARD,e),n=r.Z.can(o.Plq.SPEAK,e);return e.type===o.d4z.GUILD_VOICE&&t&&n}},897699:(e,t,n)=>{
"use strict";n.d(t,{Z:()=>o});var r=n(2590);function o(e){var t=window.GLOBAL_ENV,n=t.CDN_HOST;return"development"!==t.PROJECT_ENV?"".concat(location.protocol,"//").concat(n).concat(r.ANM.SOUNDBOARD_SOUND(e)):"".concat(location.protocol).concat(window.GLOBAL_ENV.API_ENDPOINT).concat(r.ANM.SOUNDBOARD_SOUND(e))}},452887:(e,t,n)=>{"use strict";n.d(t,{j:()=>u,D:()=>c});var r=n(667294),o=n(318715),i=n(567403),a=n(656907);function l(e,t){return Object.keys(e).filter((function(e){return null==t.get(e)}))}function u(){var e=(0,o.ZP)([i.Z],(function(){return i.Z.getGuilds()})),t=(0,o.ZP)([a.Z],(function(){return a.Z.getSounds()}));return(0,r.useMemo)((function(){return l(e,t)}),[e,t])}function c(){return l(i.Z.getGuilds(),a.Z.getSounds())}},874540:(e,t,n)=>{"use strict";n.d(t,{h:()=>f});var r=n(667294),o=n(318715),i=n(682776),a=n(107218),l=n(473903),u=n(850841),c=n(35909),s=n(520453);function f(e,t){var n,f=(0,o.ZP)([l.default],(function(){return l.default.getCurrentUser()
})),d=null!==(n=null==e?void 0:e.guild_id)&&void 0!==n?n:"",p=(0,o.ZP)([a.Z],(function(){return a.Z.getFlattenedGuildIds()})),h=(0,o.ZP)([i.Z],(function(){return null==e||null==e.guild_id||i.Z.can(s.Pl.USE_EXTERNAL_SOUNDS,e)})),y=c.Z.useExperiment({},{autoTrackExposure:!0}).isPremiumFeature;return r.useMemo((function(){if((u.ZP.canUseSoundboardEverywhere(f)||!t)&&h&&y){var e=""!==d,n=e?p.filter((function(e){return e!==d})):p;e&&n.unshift(d);return n}return[d]}),[f,t,d,p,h,y])}},347387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p,G:()=>d});var r=n(667294),o=n(202351),i=n(242942),a=n(336177),l={currentPreviewRef:r.createRef()};const u=r.createContext(l);var c=n(656907),s=n(815378),f=n(897699);function d(e,t,n){(0,a.XE)(t,e);(0,i.kq)(t,e,__OVERLAY__,n)}function p(e,t){var n=r.useContext(u).currentPreviewRef,i=(0,o.e7)([c.Z],(function(){return null!=e&&c.Z.isPlayingSound(e.soundId)}),[e]),a=r.useCallback((function(r){if(null!=e){null!=n.current&&n.current.pause();null!=t&&d(e,t,r)}
}),[e,n,t]),l=r.useCallback((function(){if(null!=e){var t=new Audio((0,f.Z)(e.soundId));null!=n.current&&n.current.pause();n.current=t;t.currentTime=0;t.volume=(0,s.Rp)(e.volume);t.play()}}),[e,n]);r.useCallback((function(){return function(){var e;return null===(e=n.current)||void 0===e?void 0:e.pause()}}),[n]);return{playSoundboardSound:a,isPlayingSound:i,previewSound:l}}},16727:(e,t,n)=>{"use strict";n.d(t,{h:()=>B,Z:()=>F});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(457217),u=n(202351),c=n(513328),s=n(336194),f=n(945460),d=n(77413),p=n(316878),h=n(255875),y=n(473903),b=n(362565),m=n(82677),v=n(701190),g=n(796938),O=n(336177),E=n(656907),C=n(815378),S=n(347387),j=n(971402),_=n(567403);function I(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){I(i,r,o,a,l,"next",e)}function l(e){
I(i,r,o,a,l,"throw",e)}a(void 0)}))}}function P(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var A=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function T(e,t,o){null!=t&&(0,j.jW)(e,w((function(){var e,i;return A(this,(function(a){switch(a.label){case 0:return[4,n.e(2263).then(n.bind(n,102263))];case 1:e=a.sent(),i=e.default;return[2,function(e){return(0,r.jsx)(i,x(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){P(e,t,n[t])}))}return e}({},e),{guild:t,sound:o}))}]}}))})))}var N=n(4958),M=n(473708),Z=n(578932),L=n.n(Z);function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){R(e,t,n[t])}))}return e}function k(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function U(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function B(e){var t=e.disabled,n=void 0!==t&&t,o=e.onClick,i=e.text,l=e.children;return(0,r.jsx)(f.Tooltip,{text:i,children:function(e){return(0,r.jsx)(f.Clickable,k(D({},e),{"aria-label":i,className:a()(L().secondaryButton,R({},L().buttonDisabled,n)),onClick:o,children:l}))}})}const F=o.forwardRef((function(e,t){
var n,i,j,I=function(e){e.stopPropagation();e.currentTarget.blur();pe?(0,O.hs)(X):(0,O.TB)(X)},w=function(e){e.stopPropagation();e.currentTarget.blur();oe()},P=e.sound,x=e.channel,A=e.className,Z=e.focused,F=e.interactive,G=void 0===F||F,H=e.enableSecondaryActions,V=void 0!==H&&H,W=e.suppressPlaySound,z=e.onMouseEnter,Y=e.onSelectItem,K=e.analyticsLocations,q=U(e,["sound","channel","className","focused","interactive","enableSecondaryActions","suppressPlaySound","onMouseEnter","onSelectItem","analyticsLocations"]),X=P.soundId,Q=P.name,J=P.emojiId,$=P.emojiName,ee=(0,u.e7)([y.default],(function(){return y.default.getCurrentUser()})),te=function(e){return o.useCallback((function(t){t.stopPropagation();var n=_.Z.getGuild(e.guildId);null!=n&&T(t,n,e)}),[e])}(P),ne=(0,S.Z)(P,null!==(n=null==x?void 0:x.id)&&void 0!==n?n:null),re=ne.playSoundboardSound,oe=ne.previewSound,ie=ne.isPlayingSound,ae=o.useContext(h.E).createMultipleConfettiAt,le=o.useRef(null),ue=function(e,t){
return o.useMemo((function(){if(null==t||"1"!==e)return{x:0,y:0};var n=t.getBoundingClientRect();return{x:n.left+n.width/2,y:n.top+n.height/2}}),[t,e])}(P.soundId,le.current),ce=(0,u.e7)([p.Z],(function(){return p.Z.useReducedMotion})),se=o.useRef(.01),fe=o.useRef(new c.Xp),de="1"===P.soundId,pe=(0,u.e7)([E.Z],(function(){return E.Z.isFavoriteSound(X)}),[X]),he="sound-".concat(P.soundId),ye=(0,l.JA)(he),be=null!=J||null!=$,me=!(0,C.Nq)(ee,P,null!==(i=null==x?void 0:x.guild_id)&&void 0!==i?i:null);o.useEffect((function(){var e=fe.current;de&&e.start(1e3,(function(){se.current=Math.max(se.current-.01,.01)}));return function(){return e.stop()}}),[de]);return(0,r.jsxs)("li",{ref:t,className:L().soundButtonWrapper,onMouseEnter:z,children:[(0,r.jsxs)(f.ClickableContainer,k(D({},q),{buttonProps:k(D({},ye),{id:he,role:"button"}),"aria-label":M.Z.Messages.SOUNDBOARD_PLAY_SOUND.format({emojiName:P.emojiName,soundName:P.name}),className:a()(A,L().soundButton,(j={},R(j,L().playing,ie),
R(j,L().hoverActiveBackground,W),R(j,L().soundButtonInteractive,G),R(j,L().buttonDisabled,!G),R(j,L().premiumDisabled,me),R(j,L().focused,G&&Z),j)),onClick:function(){if(de&&!ce){se.current=Math.min(se.current+.01,.1);Math.random()<se.current&&ae(ue.x,ue.y,void 0,void 0,{sprite:N.vv})}null==Y?W||re(K):Y()},onContextMenu:V&&!me?te:void 0,children:[(0,r.jsxs)("div",{className:L().soundInfo,"aria-hidden":!0,ref:le,children:[be&&(0,r.jsx)(d.Z,{emojiId:J,emojiName:$,className:L().emoji}),(0,r.jsx)(f.Text,{variant:"text-xs/medium",color:G?"header-primary":"text-muted",className:a()(L().soundName,R({},L().hasEmoji,be)),children:Q})]}),(0,r.jsxs)("div",{className:L().buttonOverlay,children:[(0,r.jsx)("div",{className:a()(R({},L().buttonOverlayBackground,!W))}),(0,r.jsxs)("div",{className:L().buttonOverlayActions,children:[!V||me?null:(0,r.jsx)(B,{disabled:!G,onClick:w,text:M.Z.Messages.SOUNDBOARD_SOUND_PREVIEW_SOUND.format({emojiName:P.emojiName,soundName:P.name}),children:(0,r.jsx)(g.Z,{
className:L().secondaryIcon})}),W?null:(0,r.jsx)(v.Z,{className:L().playIcon}),!V||me?null:(0,r.jsx)(B,{disabled:!G,onClick:I,text:M.Z.Messages.SOUNDBOARD_SOUND_FAVORITE_SOUND.format({emojiName:P.emojiName,soundName:P.name}),children:pe?(0,r.jsx)(m.Z,{className:a()(L().secondaryIcon,L().favoriteIconFavorite),color:s.Z.unsafe_rawColors.GOLD.css}):(0,r.jsx)(b.Z,{className:L().secondaryIcon})})]})]})]})),!P.available&&(0,r.jsx)(f.Tooltip,{text:M.Z.Messages.SOUNDBOARD_SOUND_DISABLED_PREMIUM_TIER_LOST,children:function(e){return(0,r.jsx)("div",D({className:L().unavailableTooltip},e))}})]})}))},607313:(e,t,n)=>{"use strict";n.d(t,{IN:()=>a,oZ:()=>l});n(785893),n(667294);var r=n(744564),o=(n(472009),n(15338),n(61209),n(69085),n(304275)),i=(n(310126),n(25009),n(460214));n(2590),n(473708);i.FW.width,i.FW.height,i.FW.padding;function a(e,t){r.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!1,pid:t});r.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",enabled:!0,keepOpen:e})}function l(e){
r.Z.dispatch({type:"SOUNDBOARD_SET_OVERLAY_ENABLED",enabled:!1});o.Z.isInputLocked(e)||r.Z.dispatch({type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e})}},594125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>nn});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(999357),u=n(202351),c=n(945460),s=n(153686),f=n(19585),d=n(674748),p=n(394352),h=n(917019),y=n(69085),b=n(336177),m=n(656907),v=n(971402),g=n(711003),O=n(761731),E=n(43566),C=n(604992),S=n(483902),j=n(803782),_=n.n(j);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const P=o.forwardRef((function(e,t){var n=e.store,i=e.hasSearchResults,a=e.listPadding,l=e.renderRow,u=e.renderSection,c=e.renderSectionHeader,s=e.renderSectionFooter,f=e.renderInspector,d=e.renderEmptySearchState,h=e.rowCount,y=e.rowCountBySection,b=e.rowHeight,m=e.sectionHeaderHeight,v=e.sectionFooterHeight,g=o.useRef(!1),O=o.useRef(null),E=(0,p.Iu)((function(e){return e.searchQuery})),j=n.useStore((function(e){return e.activeCategoryIndex})),I=(0,C.Qs)({activeCategoryIndex:j,isScrolling:g,listRef:O,onActiveCategoryIndexChange:n.setActiveCategoryIndex,scrollOffset:20,searchQuery:E});(0,C.Xs)({searchQuery:E,activeCategoryIndex:j,listRef:O});o.useImperativeHandle(t,(function(){var e,t,n;return{scrollTo:function(){
for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=O.current)||void 0===o?void 0:(r=o).scrollTo.apply(r,w(t))},getRowDescriptors:function(){var t;return null!==(e=null===(t=O.current)||void 0===t?void 0:t.getRowDescriptors())&&void 0!==e?e:[]},getSectionDescriptors:function(){var e;return null!==(t=null===(e=O.current)||void 0===e?void 0:e.getSectionDescriptors())&&void 0!==t?t:[]},scrollToSectionTop:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=O.current)||void 0===o?void 0:(r=o).scrollToSectionTop.apply(r,w(t))},scrollRowIntoView:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=O.current)||void 0===o?void 0:(r=o).scrollRowIntoView.apply(r,w(t))},getScrollerNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o
;return null===(o=O.current)||void 0===o?void 0:(r=o).getScrollerNode.apply(r,w(t))},scrollIntoViewNode:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;return null===(o=O.current)||void 0===o?void 0:(r=o).scrollIntoViewNode.apply(r,w(t))},getListDimensions:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o,i;return null!==(n=null===(i=O.current)||void 0===i?void 0:(o=i).getListDimensions.apply(o,w(t)))&&void 0!==n?n:{height:-1,totalHeight:-1}}}}),[]);return(0,r.jsxs)("div",{className:_().wrapper,children:[E.length>0&&!i&&null!=d?d():(0,r.jsx)(S.Z,{role:"none presentation",listPadding:a,onScroll:I,renderRow:l,renderSection:u,renderSectionHeader:c,renderSectionFooter:s,rowCount:h,rowCountBySection:y,rowHeight:b,sectionHeaderHeight:m,sectionFooterHeight:v,stickyHeaders:!0,ref:O}),null==f?void 0:f()]})}));var x=n(503528),A=n(707558),T=n(650332),N=n(301627),M=n.n(N);function Z(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const R=o.forwardRef((function(e,t){
var n=e.store,i=e.hasSendableExpressions,a=e.onKeyDown,l=e.gridNavigatorId,u=e.expressionsListRef,c=e.defaultSearchPlaceholder,s=e.emptySearchPlaceholder,f=o.useRef(null),d=L((0,p.Iu)((function(e){return[e.searchQuery,e.isSearchSuggestion]}),x.Z),2),h=d[0],y=d[1],b=n.useStore((function(e){return e.searchPlaceholder})),m=n.useStore((function(e){return e.inspectedExpressionPosition}),x.Z),v=o.useCallback((function(e){var t;n.setActiveCategoryIndex(""===e?0:E.c);n.setInspectedExpressionPosition(0,0);n.setSearchPlaceholder(null);(0,p.ql)(e);null===(t=u.current)||void 0===t||t.scrollTo(0)}),[u,n]),g=o.useCallback((function(){(0,p.ql)("")}),[]);o.useImperativeHandle(t,(function(){return{focus:function(){var e;return null===(e=f.current)||void 0===e?void 0:e.focus()}}}));o.useLayoutEffect((function(){if(y){var e;null===(e=f.current)||void 0===e||e.focus()}}),[y]);return(0,r.jsx)("div",{className:M().wrapper,children:(0,r.jsx)(T.ZP,{autoFocus:i,disabled:!i,query:h,ref:f,size:T.ZP.Sizes.MEDIUM,
placeholder:null!=b?b:i||null==s?c:s,onClear:g,onKeyDown:a,onQueryChange:v,className:M().searchBar,preventEscapePropagation:!1,useKeyboardNavigation:!1,inputProps:{"aria-haspopup":"grid","aria-controls":l,"aria-expanded":!0,"aria-activedescendant":(0,A.NE)(l,m.columnIndex,m.rowIndex)}})})}));var D=n(732071),k=n.n(D);function U(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){U(e,t,n[t])}))}return e}function F(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function G(e){var t=e.categories,n=e.collapsedCategories,i=e.containerWidth,a=e.store,l=e.onSelectItem,u=e.onSearchExpressions,c=e.hasSearchResults,s=e.defaultSearchPlaceholder,f=e.emptySearchPlaceholder,d=e.renderEmptyState,h=e.renderRow,y=e.renderSection,b=e.renderSectionHeader,m=e.renderSectionFooter,v=e.renderInspector,g=e.renderEmptySearchState,O=e.renderCategoryList,E=e.renderHeaderAccessories,S=e.rowHeight,j=e.sectionHeaderHeight,_=e.sectionFooterHeight,I=e.itemNodeWidth,w=e.listPaddingRight,x=e.itemNodeMargin,A=e.listPadding,T=e.gridNavigatorId,N=o.useRef(null),M=o.useRef(null),Z=o.useRef(null),L=0===t.length,D=(0,p.Iu)((function(e){return e.searchQuery})),U=a.useStore((function(e){return e.inspectedExpressionPosition})),G=(0,C.ep)({gridWrapperRef:N,
containerWidth:i,showingEmptyState:L}),H=(0,C.yi)({categories:t,collapsedCategories:n,gridWidth:G,listPaddingRight:w,itemNodeWidth:I,itemNodeMargin:x}),V=H.expressionsGrid,W=H.rowCount,z=H.rowCountBySection,Y=H.columnCounts,K=H.gutterWidth,q=(0,C.t$)({columnCounts:Y,expressionsListRef:M,expressionsGrid:V,onSelectItem:l,store:a,gridNavigatorId:T}),X=q.getItemProps,Q=q.getRowProps,J=q.gridContainerProps,$=q.handleGridContainerKeyDown,ee=q.isUsingKeyboardNavigation,te=o.useCallback((function(e){var t=V[e];return h(t,Q(e),{isUsingKeyboardNavigation:ee.current,gutterWidth:K,rowIndex:e},(function(t){return X(e,t)}),(function(t){return a.setInspectedExpressionPosition(t,e)}))}),[V,X,Q,K,ee,h,a]),ne=o.useCallback((function(e){return null==y?void 0:y(t[e])}),[t,y]),re=o.useCallback((function(e){return null==b?void 0:b(t[e])}),[t,b]),oe=o.useCallback((function(e){return null==m?void 0:m(t[e])}),[t,m]),ie=o.useCallback((function(){var e
;return null==v?void 0:v(null==V||null===(e=V[U.rowIndex])||void 0===e?void 0:e[U.columnIndex])}),[V,U.columnIndex,U.rowIndex,v]);o.useEffect((function(){u(D)}),[u,D]);o.useEffect((function(){return a.resetStoreState}),[a.resetStoreState]);o.useLayoutEffect((function(){var e;null===(e=Z.current)||void 0===e||e.focus()}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:k().header,children:[(0,r.jsx)(R,{ref:Z,store:a,hasSendableExpressions:!0,onKeyDown:$,expressionsListRef:M,gridNavigatorId:T,defaultSearchPlaceholder:s,emptySearchPlaceholder:f}),null==E?void 0:E()]}),L&&null!=d?d(k().emptyState):(0,r.jsxs)(r.Fragment,{children:[O(M),(0,r.jsx)("div",F(B({ref:N,className:k().listWrapper,id:T},J),{children:null!=G?(0,r.jsx)(P,{ref:M,store:a,hasSearchResults:c,listPadding:A,renderRow:te,renderSection:null!=y?ne:void 0,renderSectionHeader:null!=b?re:void 0,renderSectionFooter:null!=m?oe:void 0,renderInspector:null!=v?ie:void 0,renderEmptySearchState:g,rowCount:W,
rowCountBySection:z,rowHeight:S,sectionHeaderHeight:j,sectionFooterHeight:_}):null}))]})]})}var H=n(968449),V=n(473903),W=n(407561),z=n(443812),Y=n(718831),K=n(336117),q=n(82677),X=n(361674),Q=n(796938),J=n(911980),$=n(815378),ee=n(824390),te=n.n(ee),ne=n(489617),re=n(135855),oe=[];function ie(e,t){if(0===e.length)return oe;var n=t.reduce((function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.items[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var l=i.value;t.categoryInfo.type!==J.bg.FAVORITES&&l.type===J.vB.SOUND&&e.push(l.sound)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}),[]),r=n.reduce((function(t,n){t[n.soundId]=function(e,t){var n,r=0,o=t.name.toLocaleLowerCase(),i=null!=t.emojiId?ne.Z.getCustomEmojiById(t.emojiId):null,a=null!=t.emojiName?re.ZP.convertSurrogateToName(t.emojiName,!1):null,l=null!=a?re.ZP.getByName(a):null,u=null!=i?[i.name]:null!==(n=null==l?void 0:l.names)&&void 0!==n?n:[];e===o&&(r+=8);u.includes(e)&&(r+=7)
;o.startsWith(e)&&(r+=6);u.some((function(t){return t.startsWith(e)}))&&(r+=5);o.endsWith(e)&&(r+=4);u.some((function(t){return t.endsWith(e)}))&&(r+=3);te()(e,t.name.toLocaleLowerCase())&&(r+=2);u.some((function(t){return te()(e,t)}))&&(r+=1);return r}(e.toLocaleLowerCase(),n);return t}),{});return n.filter((function(e){return r[e.soundId]>0})).sort((function(e,t){return r[t.soundId]-r[e.soundId]}))}var ae=n(347387),le=n(16727),ue=n(700183),ce=n(933850),se=n(703790),fe=n(2590);function de(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){de(i,r,o,a,l,"next",e)}function l(e){de(i,r,o,a,l,"throw",e)}a(void 0)}))}}function he(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ye(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var be=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function me(e){se.Z.open(e,fe.pNK.SOUNDBOARD);(0,c.openModalLazy)(pe((function(){var t,o;return be(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(11780),n.e(41394)]).then(n.bind(n,711780))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,ye(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){he(e,t,n[t])}))}return e}({},t),{guildId:e}))}]}}))})))}var ve=n(473708),ge=n(713434),Oe=n.n(ge);function Ee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ee(e,t,n[t])}))}return e}function Se(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function je(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _e(e){var t=e.guild,n=e.focused,o=je(e,["guild","focused"]),i=(0,ue.q5)(t).canCreateExpressions;return(0,r.jsx)(c.Tooltip,{text:ve.Z.Messages.SOUNDBOARD_SOUND_UPLOAD_BUTTON_DISABLED,hide:i,children:function(e){var l;return(0,r.jsx)("li",Se(Ce({className:Oe().soundButtonWrapper},e),{children:(0,r.jsxs)(c.ClickableContainer,Se(Ce({},o),{
"aria-label":ve.Z.Messages.SOUNDBOARD_UPLOAD_SOUND_FOR_GUILD.format({guildName:t.name}),className:a()(Oe().soundAddButton,(l={},Ee(l,Oe().focused,n),Ee(l,Oe().disabled,!i),l)),onClick:function(){return me(t.id)},children:[(0,r.jsx)(ce.Z,{className:Oe().soundAddIcon}),(0,r.jsx)(c.Text,{variant:"text-xs/normal",color:i?"header-primary":"text-muted",children:ve.Z.Messages.SOUNDBOARD_SOUND_ADD_SOUND})]}))}))}})}var Ie=n(711795),we=n(385563),Pe=n(682529),xe=n.n(Pe);function Ae(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ae(e,t,n[t])}))}return e}function Ne(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Me(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var Ze=[8,8,8,8];function Le(e){var t=e.icon,n=e.isSelected,o=e.onClick,i=Me(e,["icon","isSelected","onClick"]);return(0,r.jsx)(c.Clickable,Ne(Te({},i),{onClick:o,
className:a()(xe().categoryIcon,Ae({},xe().selected,n)),children:(0,r.jsx)(t,{className:xe().categoryIconIcon})}))}function Re(e){switch(e.categoryInfo.type){case J.bg.FAVORITES:return ve.Z.Messages.FAVORITES;case J.bg.GUILD:return(0,r.jsx)(we.K,{guild:e.categoryInfo.guild,includeActivity:!1});case J.bg.DEFAULTS:return ve.Z.Messages.SOUNDBOARD_SOUND_SECTION_DEFAULTS}}function De(e){switch(e.categoryInfo.type){case J.bg.FAVORITES:return ve.Z.Messages.FAVORITES;case J.bg.GUILD:return e.categoryInfo.guild.name;case J.bg.DEFAULTS:return ve.Z.Messages.SOUNDBOARD_SOUND_SECTION_DEFAULTS}}function ke(e,t,n,o){return(0,r.jsx)(c.Tooltip,{text:Re(e),"aria-label":De(e),position:"right",children:function(t){return function(e,t,n,o){switch(e.categoryInfo.type){case J.bg.FAVORITES:return(0,r.jsx)(Le,Ne(Te({},o),{icon:q.Z,onClick:t,isSelected:n}),e.key);case J.bg.GUILD:return(0,r.jsx)(c.Clickable,Ne(Te({},o),{className:xe().category,onClick:t,children:(0,r.jsx)(O.Z,{guild:e.categoryInfo.guild,
isSelected:n})}),e.key);case J.bg.DEFAULTS:return(0,r.jsx)(Le,Ne(Te({},o),{icon:K.Z,onClick:t,isSelected:n}),e.key);default:return null}}(e,n,o,t)}})}function Ue(e){var t=e.soundboardListRef,n=e.categories,i=o.useRef(null);return(0,r.jsx)(Ie.Z,{className:xe().categoryList,categoryListRef:i,expressionsListRef:t,store:E.Wq,categories:n,listPadding:Ze,renderCategoryListItem:ke,rowCount:n.length,categoryHeight:40})}var Be=n(318715),Fe=n(418705),Ge=n(77413),He=n(316878),Ve=n(351330),We=n(442460),ze=n(567403),Ye=n(138049),Ke=n(901654),qe=n(189865),Xe=n(816240),Qe=n(265367),Je=n(120415),$e=n(79251),et=n(573332),tt=n.n(et);function nt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){nt(i,r,o,a,l,"next",e)}function l(e){nt(i,r,o,a,l,"throw",e)}a(void 0)}))}}function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var it=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop()
;continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function at(e){var t=e.soundboardSound,o=e.closePicker,i=(0,p.Iu)((function(e){return e.searchQuery})),a=(0,Be.ZP)([m.Z],(function(){return null!=t&&m.Z.isFavoriteSound(t.soundId)})),l=(0,Be.ZP)([ze.Z],(function(){return ze.Z.getGuild(null==t?void 0:t.guildId)})),u=(0,Be.ZP)([He.Z],(function(){return He.Z.useReducedMotion}),[]),s=(0,Be.ZP)([Ke.Z],(function(){return Ke.Z.isFocused()})),f=(0,Be.ZP)([Ye.Z],(function(){return Ye.Z.getKeybindForAction(fe.kg4.SOUNDBOARD_HOLD)}));if(null!=t&&i.length>0)return(0,r.jsx)(We.Z,{graphicPrimary:null!=t.emojiId||null!=t.emojiName?(0,r.jsx)(Ge.Z,{emojiId:t.emojiId,emojiName:t.emojiName,className:tt().emoji}):(0,r.jsx)(Xe.Z,{className:tt().emoji}),graphicSecondary:null!=l?(0,r.jsx)(O.Z,{guild:l,shouldAnimate:!u&&s}):null,titlePrimary:t.name,titleSecondary:null==l?void 0:l.name,isFavorite:a});var d=function(){o();(0,
c.openModalLazy)(rt((function(){var e,t;return it(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(64045),n.e(22325)]).then(n.bind(n,722325))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ot(e,t,n[t])}))}return e}({},e))}]}}))})))},h=(0,Ve.un)(Fe.z$.SOUNDBOARD_KEYBIND_TIP),y=null!=f&&(0,Je.ED)()&&!h?ve.Z.Messages.SOUNDBOARD_KEYBIND_HINT_NO_POPOUT_WHEEL_SUPPORT.format({keybind:(0,$e.BB)(f.shortcut,!0),openSettingsHook:function(e,t){return(0,r.jsx)(c.Anchor,{onClick:d,children:e},t)}}):null;return null==y?null:(0,r.jsxs)("div",{className:tt().keybindHint,children:[(0,r.jsx)(Qe.Z,{className:tt().warningIcon}),(0,r.jsx)(c.Text,{
variant:"text-sm/medium",color:"text-normal",className:tt().keybindHintText,children:y}),(0,r.jsx)(c.Clickable,{className:tt().closeButton,onClick:function(){return(0,Ve.EW)(Fe.z$.SOUNDBOARD_KEYBIND_TIP)},children:(0,r.jsx)(qe.Z,{width:16,height:16})})]})}var lt=n(575945),ut=n(579581),ct=n(74535),st=n(593166),ft=n(455706),dt=n(652591),pt=n(850841),ht=n(203600),yt=n(976878),bt=n.n(yt),mt=n(510872),vt=n.n(mt);function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ot(e,t,n[t])}))}return e}function Ct(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e){var t=e.onClose,i=e.closePopout,l=(0,ct.ZP)(),u=St(o.useState(!1),2),d=u[0],p=u[1],h=(0,ut.O)().location,y=o.useMemo((function(){return Ct(Et({},h),{section:fe.jXE.SOUNDBOARD_SOUND_PICKER})}),[h]),b=(0,f.Z)(s.Z.PREMIUM_UPSELL).analyticsLocations,m=(0,lt.ap)(l)?n(657796):n(51918);o.useEffect((function(){dt.default.track(fe.rMx.PREMIUM_UPSELL_VIEWED,{type:ht.cd.SOUND_PICKER_SOUND_CLICKED,is_external:!0,location:Ct(Et({},y),{object:fe.qAy.SOUNDBOARD_SOUND}),location_stack:b,sku_id:pt.ZP.getSkuIdForPremiumType(ht.p9.TIER_2)})}),[b,y]);var v=o.useCallback((function(){dt.default.track(fe.rMx.PREMIUM_PROMOTION_OPENED,{
location_section:fe.jXE.SOUNDBOARD_SOUND_PICKER_UPSELL});(0,st.z)();i()}),[i]);return(0,r.jsxs)("div",{className:a()(vt().premiumPromo,bt().container),children:[(0,r.jsx)(c.Clickable,{className:vt().premiumPromoClose,onClick:t,children:ve.Z.Messages.CLOSE}),(0,r.jsx)("img",{"aria-hidden":!0,alt:"",className:a()(vt().premiumPromoImage,vt().premiumPromoImageSmaller,bt().image),src:m}),(0,r.jsx)(c.Heading,{variant:"heading-lg/normal",color:"header-primary",className:vt().premiumPromoTitle,children:ve.Z.Messages.SOUNDBOARD_NITRO_UPSELL_TITLE}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"header-secondary",className:vt().premiumPromoDescription,children:ve.Z.Messages.SOUNDBOARD_NITRO_UPSELL_BODY.format({onClick:v})}),(0,r.jsx)(ft.Z,{subscriptionTier:ht.Si.TIER_2,submitting:d,premiumModalAnalyticsLocation:{section:fe.jXE.SOUNDBOARD_SOUND_PICKER,object:fe.qAy.BUTTON_CTA},size:c.Button.Sizes.SMALL,color:c.Button.Colors.GREEN,onClick:function(){p(!0)},onSubscribeModalClose:function(e){
p(!1);e&&t()}})]})}var _t=n(842227),It=n(682776),wt=n(874540),Pt=n(460214);function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nt(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function Mt(e){return e.filter((function(e){return e.guildId===Pt.X8||null==e.overridePath})).sort((function(e,t){return _t.default.compare(e.soundId,t.soundId)})).map((function(e){return{type:J.vB.SOUND,sound:e}}))}function Zt(e,t,n,r){var o=[],i=Tt(t).concat([Pt.X8]),a=!0,l=!1,u=void 0;try{for(var c,s=i[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f,d=c.value,p=null!==(f=n.get(d))&&void 0!==f?f:[],h=!0,y=!1,b=void 0;try{for(var m,v=p[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var g=m.value;r.has(g.soundId)&&o.push(g)}}catch(e){y=!0
;b=e}finally{try{h||null==v.return||v.return()}finally{if(y)throw b}}}}catch(e){l=!0;u=e}finally{try{a||null==s.return||s.return()}finally{if(l)throw u}}var O=Mt(o);O.length>0&&e.push({key:J.bg.FAVORITES,categoryInfo:{type:J.bg.FAVORITES},items:O})}function Lt(e,t,n,r){var o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(c.id!==n){var s,f=Mt(null!==(s=r.get(c.id))&&void 0!==s?s:[]);f.length>0&&e.push({categoryInfo:{type:J.bg.GUILD,guild:c},key:c.id,items:f})}}}catch(e){i=!0;a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}function Rt(e,t,n,r){if(null!=t){var o,i=null!==(o=r.get(t.id))&&void 0!==o?o:[],a=Mt(i);(i.length<t.getMaxSoundboardSlots()&&n||0===a.length)&&a.push({type:J.vB.ADD_SOUND,guild:t});e.push({categoryInfo:{type:J.bg.GUILD,guild:t},key:t.id,items:a})}}function Dt(e,t){e.push({key:J.bg.DEFAULTS,categoryInfo:{type:J.bg.DEFAULTS},items:Mt(t)})}var kt=n(97835),Ut=n.n(kt);function Bt(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ft(i,r,o,a,l,"next",e)}function l(e){Ft(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ht(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ht(e,t,n[t])}))}return e}function Wt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Kt=[8,0,8,8];function qt(e){var t=e.categoryInfo,n=e.collapsed,o=e.toggleCollapsed;return(0,r.jsxs)(c.Clickable,{className:Ut().sectionHeader,onClick:o,children:[function(){switch(t.type){case J.bg.FAVORITES:return(0,r.jsx)(q.Z,{className:Ut().headerIcon});case J.bg.GUILD:return(0,r.jsx)(O.Z,{guild:t.guild,height:16,width:16});case J.bg.DEFAULTS:return(0,r.jsx)(K.Z,{className:Ut().headerIcon});case J.bg.SEARCH:return(0,r.jsx)(X.Z,{className:Ut().headerIcon})}}(),(0,r.jsx)(c.Heading,{variant:"eyebrow",color:"none",className:Ut().sectionTitle,children:function(){switch(t.type){case J.bg.FAVORITES:
return ve.Z.Messages.FAVORITES;case J.bg.GUILD:return t.guild.name;case J.bg.DEFAULTS:return ve.Z.Messages.SOUNDBOARD_SOUND_SECTION_DEFAULTS;case J.bg.SEARCH:return ve.Z.Messages.SEARCH_RESULTS_SECTION_LABEL}}()}),(0,r.jsx)(Y.Z,{className:Ut().headerIcon,direction:n?Y.Z.Directions.RIGHT:Y.Z.Directions.DOWN})]})}function Xt(){return(0,r.jsx)(g.Z,{message:ve.Z.Messages.SOUNDBOARD_SEARCH_EMPTY_STATE_BODY})}function Qt(e){var t=e.descriptors,n=e.soundButtonProps,i=e.rowIndex,a=e.isUsingKeyboardNavigation,l=e.suppressPlaySound,u=e.gridRowProps,c=e.getItemProps,s=e.onSelectItem,f=e.onItemMouseEnter,d=E.Wq.useStore((function(e){return e.inspectedExpressionPosition}));return(0,r.jsx)("ul",Wt(Vt({},u),{className:Ut().soundRow,children:t.map((function(e,t){var r="item-".concat(t),u=a&&d.rowIndex===i&&d.columnIndex===t;switch(e.item.type){case J.vB.SOUND:return(0,o.createElement)(le.Z,Wt(Vt({},c(t),n),{key:"".concat(r,"-").concat(e.item.sound.soundId),sound:e.item.sound,suppressPlaySound:l,
focused:u,onMouseEnter:function(){return f(t)},onSelectItem:function(){return s(e)},enableSecondaryActions:!0}));case J.vB.ADD_SOUND:return(0,o.createElement)(_e,Wt(Vt({},c(t)),{key:r,guild:e.item.guild,focused:u}))}}))}))}function Jt(e){var t,i=e.guildId,a=e.channel,l=e.containerWidth,s=e.onClose,d=e.onSelect,h=e.suppressPlaySound,y=void 0!==h&&h,b=(0,f.Z)().analyticsLocations,g=zt(o.useState(!1),2),O=g[0],C=g[1],S=(0,u.e7)([V.default],(function(){return V.default.getCurrentUser()})),j=(0,u.e7)([W.Z],(function(){return W.Z.getVoiceState(i,null!==(t=null==S?void 0:S.id)&&void 0!==t?t:"")})),_=(null==j?void 0:j.selfDeaf)||(null==j?void 0:j.mute)||(null==j?void 0:j.suppress),I=(0,p.Iu)((function(e){return e.searchQuery})),w=(0,z.Dt)(),P=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,u.e7)([V.default],(function(){return V.default.getCurrentUser()})),i=At((0,u.Wu)([m.Z],(function(){
return[m.Z.getSounds(),m.Z.getFavorites(),null!==(t=m.Z.getDefaultSounds())&&void 0!==t?t:Pt.Hy]})),3),a=i[0],l=i[1],c=i[2],s=(0,wt.h)(e,n),f=(0,u.Wu)([ze.Z],(function(){var e=[];s.forEach((function(t){var n=ze.Z.getGuild(t);null!=n&&e.push(n)}));return e})),d=pt.ZP.canUseSoundboardEverywhere(r),p=(0,u.e7)([ze.Z],(function(){return ze.Z.getGuild(null==e?void 0:e.guild_id)})),h=(0,u.e7)([It.Z],(function(){return(0,ue.h4)(p).canCreateExpressions}),[p]);return o.useMemo((function(){var e=[];Zt(e,s,a,l);Rt(e,p,h,a);d||Dt(e,c);Lt(e,f,null==p?void 0:p.id,a);d&&Dt(e,c);return e}),[a,c,l,s,f,p,h,d])}(a,!1),x=zt(o.useState([]),2),A=x[0],T=x[1],N=function(e,t,n){return n.length>0?[{key:J.bg.SEARCH,categoryInfo:{type:J.bg.SEARCH},items:Mt(t)}]:e}(P,A,I),M=H.T4.useSetting(),Z=o.useMemo((function(){return new Set(M)}),[M]),L=o.useCallback((function(e){!Z.has(e)?Z.add(e):Z.delete(e);H.T4.updateSetting(Array.from(Z))}),[Z]),R=o.useCallback((function(e,t,n){if(!y&&(0,$.Nq)(S,e,t,!1)){var r;(0,
ae.G)(e,null!==(r=null==a?void 0:a.id)&&void 0!==r?r:"",n)}else{if((0,$.Nq)(S,e,t))return;C(!0)}}),[null==a?void 0:a.id,S,y]),D=o.useCallback((function(e){switch(e.item.type){case J.vB.SOUND:null==d||d(e.item.sound);return R(e.item.sound,i,b);case J.vB.ADD_SOUND:return me(e.item.guild.id)}}),[b,i,R,d]),k=o.useCallback((function(e,t,n,o,i){return(0,r.jsx)(Qt,{descriptors:e,rowIndex:n.rowIndex,isUsingKeyboardNavigation:n.isUsingKeyboardNavigation,gridRowProps:t,getItemProps:o,onItemMouseEnter:i,suppressPlaySound:y,onSelectItem:D,soundButtonProps:{channel:a,interactive:!_,analyticsLocations:b}},"row-".concat(t["aria-rowindex"]))}),[D,a,_,y,b]),U=o.useCallback((function(e){var t="".concat(e.key);return(0,r.jsx)(qt,{categoryInfo:e.categoryInfo,toggleCollapsed:function(){return L(t)},collapsed:Z.has(t)},"header-".concat(t))}),[Z,L]),B=o.useCallback((function(e){return T(ie(e,P))}),[P]),F=o.useCallback((function(e){(0,v.jW)(e,Gt((function(){var e,t;return Yt(this,(function(o){switch(o.label){
case 0:return[4,n.e(56674).then(n.bind(n,656674))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Vt({},e))}]}}))})))}),[]),Y=o.useCallback((function(){return(0,r.jsx)(c.Clickable,{tabIndex:0,className:Ut().settingsClickArea,onClick:F,"aria-label":ve.Z.Messages.USER_SETTINGS_SOUNDBOARD_VOLUME,children:(0,r.jsx)(Q.Z,{className:Ut().settingsIcon})})}),[F]),K=o.useCallback((function(e){return(0,r.jsx)(Ue,{soundboardListRef:e,categories:P})}),[P]),q=o.useCallback((function(e){if((null==e?void 0:e.item.type)===J.vB.SOUND){var t;return(0,r.jsx)(at,{closePicker:s,soundboardSound:null!==(t=null==e?void 0:e.item.sound)&&void 0!==t?t:null})}return null}),[s]);return(0,r.jsxs)(r.Fragment,{children:[O&&(0,r.jsx)(jt,{onClose:function(){return C(!1)},closePopout:s}),(0,r.jsx)(G,{categories:N,collapsedCategories:Z,containerWidth:l,store:E.Wq,onSelectItem:D,onSearchExpressions:B,hasSearchResults:A.length>0,defaultSearchPlaceholder:ve.Z.Messages.SOUNDBOARD_SEARCH_PLACEHOLDER,
renderRow:k,renderSectionHeader:U,renderCategoryList:K,renderHeaderAccessories:Y,rowHeight:48,sectionHeaderHeight:24,listPadding:Kt,itemNodeWidth:150,gridNavigatorId:w,renderEmptySearchState:Xt,renderInspector:q})]})}var $t=n(328314),en=n.n($t);function tn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nn(e){var t=e.guildId,n=e.channel,i=e.containerWidth,v=e.onClose,g=e.onSelect,O=e.analyticsSource,E=e.suppressPlaySound,C=(0,u.e7)([m.Z],(function(){return m.Z.isFetchingSounds()||m.Z.isFetchingDefaultSounds()})),S=(0,u.e7)([m.Z],(function(){var e;return null!=t?null===(e=m.Z.getSoundsForGuild(t))||void 0===e?void 0:e.length:void 0})),j=(0,u.e7)([y.Z],(function(){return y.Z.getMediaSessionId()})),_=(0,f.Z)(s.Z.SOUNDBOARD_POPOUT).AnalyticsLocationProvider;(0,d.Z)({type:l.nv.POPOUT,name:l.zs.SOUNDBOARD_POPOUT,properties:{source:O,guild_id:t,media_session_id:j,guild_sound_count:S}});o.useEffect((function(){
h.DZ.loadIfNecessary()}),[t]);o.useEffect((function(){b.w();(0,p.ql)("")}),[]);return(0,r.jsx)(_,{children:(0,r.jsx)("div",{className:a()(en().picker,tn({},en().fetching,C)),children:C?(0,r.jsx)(c.Spinner,{}):(0,r.jsx)(Jt,{guildId:t,channel:n,onClose:v,onSelect:g,containerWidth:i,suppressPlaySound:E})})})}},25009:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(785893),o=n(667294),i=n(999357),a=n(842227),l=n(202351),u=n(153686),c=n(19585),s=n(674748),f=n(69085),d=n(336177),p=n(656907),h=n(452887),y=n(874540),b=n(347387),m=n(496486),v=n.n(m),g=n(945460);function O(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function E(e,t,n,r){return O(e,n,r)!==O(t,n,r)&&O(e,t,n)!==O(e,t,r)}function C(e,t,n){var r={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},a={x:n.x+n.width,y:n.y+n.height};return E(e,t,r,o)||E(e,t,o,a)||E(e,t,a,i)||E(e,t,i,r)}var S=n(473708),j=n(641297),_=n.n(j);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=144,x=28.8;function A(e){var t=e.className;return(0,r.jsxs)("svg",{className:t,fill:"none",
xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[(0,r.jsx)("g",{filter:"url(#a)",children:(0,r.jsx)("path",{d:"M30.4 8 24 14.4 17.6 8 16 9.6l6.4 6.4-6.4 6.4 1.6 1.6 6.4-6.4 6.4 6.4 1.6-1.6-6.4-6.4L32 9.6 30.4 8Z",fill:"currentColor"})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:"a",x:"0",y:"0",width:"48",height:"48",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_605_72103"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_605_72103",result:"shape"})]})})]})}var T=[{x:.5,y:.05},{x:.95,y:.2},{x:1,y:.5},{x:.95,y:.8
},{x:.5,y:.95},{x:.05,y:.8},{x:0,y:.5},{x:.05,y:.2}],N=T.length;function M(e,t,n){var r=e*t;return e>.5?r-n:e<.5?r:r-n/2}const Z=o.memo((function(e){var t=e.wheelWidth,n=e.wheelHeight,i=e.itemWidth,a=e.itemHeight,l=e.showDeadZoneIndicator,u=e.activeItem,c=e.onItemSelect,s=e.onItemAction,f=e.interactive,d=void 0===f||f,p=e.children,h=o.useRef(null),y=o.useRef([]),b=o.useRef(!1),O=o.useRef(null),E=w(o.useState(0),2),j=E[0],I=E[1],Z=w(o.useState({x:0,y:0}),2),L=Z[0],R=Z[1],D=Math.abs(L.x)+Math.abs(L.y)>0,k=o.useMemo((function(){return v().chunk(p,N)}),[p]),U=o.useCallback((function(e,t){null==y.current[j]?y.current[j]=[]:y.current[j][t]=e}),[j]),B=o.useCallback((function(e,t){O.current=t;c(N*e+t)}),[c]),F=o.useCallback((function(){O.current=null;c(null)}),[c]),G=o.useCallback((function(e){F();b.current=e}),[F]),H=o.useCallback((function(e,t,n){if(b.current)R({x:0,y:0});else{var r={x:e.x-t.x,y:e.y-t.y},o=r.x<0,i=r.y<0,a=function(e,t){
var n=Math.abs(t.x),r=Math.abs(t.y),o=Math.atan2(r,n)*(180/Math.PI),i=e/2-x;return{x:Math.max(i*Math.cos(2*Math.PI*o/360),0),y:Math.max(i*Math.sin(2*Math.PI*o/360),0)}}(n,r),l=o?Math.max(r.x,-a.x):Math.min(r.x,a.x),u=i?Math.max(r.y,-a.y):Math.min(r.y,a.y);R({x:l/2,y:u/2})}}),[]),V=o.useCallback((function(e){if(null!=O.current){e.preventDefault();e.stopPropagation();null==s||s(N*j+O.current)}}),[s,j]),W=o.useMemo((function(){return(0,m.throttle)((function(e){if(null!=h.current){var r=h.current.getBoundingClientRect(),o={x:r.left+r.width/2,y:r.top+r.height/2},i={x:e.clientX,y:e.clientY};H(i,o,Math.max(t,n));if(b.current)null!=u&&F();else{for(var a,l,c,s,f=(a=o,l=i,c=Math.max(t,n),s=Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2)),{x:l.x+(l.x-a.x)/s*c,y:l.y+(l.y-a.y)/s*c}),d=0;d<y.current[j].length;d++){var p=y.current[j][d];if(null!=p){if(C(o,f,p.getBoundingClientRect())){B(j,d);return}}}F()}}}),16)}),[u,H,F,B,j,n,t]),z=o.useCallback((function(e){if(d){var t=e.deltaY>0?1:-1,n=j+t
;if(n>=0&&n<k.length){null!=O.current&&(k[n].length>O.current?B(n,O.current):F());I(n)}}}),[d,j,k,B,F]),Y=o.useMemo((function(){return k[j].map((function(e,o){var l=T[o];if(null==l)throw new Error("Too many items supplied ".concat(p.length," expected max of ").concat(T.length));var u=M(l.x,t,i),c=M(l.y,n,a);return(0,r.jsx)("div",{ref:function(e){return U(e,o)},className:_().chatWheelItem,style:{left:u,top:c,width:i,height:a},children:e},o)}))}),[k,j,t,i,n,a,p.length,U]);return(0,r.jsx)(g.Clickable,{className:_().chatWheelMouseInput,onMouseMove:W,onWheel:z,onClick:V,children:(0,r.jsxs)("div",{ref:h,className:_().chatWheel,style:{width:t,height:n},children:[(0,r.jsxs)("svg",{className:_().chatWheelBackground,viewBox:"0 0 288 288",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("filter",{id:"soundboard-wheel-background-shadow",x:"0",y:"0",width:"288",height:"288",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFlood",{floodOpacity:"0",
result:"BackgroundImageFix"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dy:"8"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"8"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),(0,r.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_489_60382"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_489_60382",result:"shape"})]}),(0,r.jsxs)("g",{filter:"url(#soundboard-wheel-background-shadow)",children:[(0,r.jsx)("circle",{className:_().chatWheelBackground,cx:"144",cy:"144",r:"103.68",strokeWidth:"40.32"}),l&&(0,r.jsx)("circle",{className:_().chatWheelDeadZone,onMouseEnter:function(){return G(!0)},onMouseLeave:function(){return G(!1)},cx:P,cy:P,r:x}),D&&(0,r.jsx)("circle",{className:_().chatWheelCenter,cx:P+L.x,cy:P+L.y,r:x})]}),l&&(0,r.jsx)("circle",{className:_().chatWheelDeadZone,onMouseEnter:function(){return G(!0)},
onMouseLeave:function(){return G(!1)},cx:P,cy:P,r:x,stroke:"none"})]}),(0,r.jsxs)("div",{className:_().innerContent,children:[l&&(0,r.jsx)(A,{className:_().chatWheelDeadZoneIcon}),d&&k.length>1?(0,r.jsx)("div",{className:_().paginationHint,children:S.Z.Messages.CHAT_WHEEL_PAGINATION_HINT}):null]}),Y]})})}));var L=n(16727),R=n(460214),D=n(309413),k=n.n(D);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||G(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function H(e){var t=e.guildId,n=e.channel,m=e.width,v=e.height,g=e.keepOpen,O=e.interactive,E=void 0===O||O,C=e.analyticsSource,S=e.onClose,j=function(e){var t=B((0,
l.Wu)([p.Z],(function(){return[p.Z.getSounds(),p.Z.getFavorites()]})),2),n=t[0],r=t[1];return o.useMemo((function(){var t=[],o=F(e).concat([R.X8]),i=function(e,o){var i,l,u=null!==(l=null===(i=n.get(e))||void 0===i?void 0:i.sort((function(e,t){return a.default.compare(e.soundId,t.soundId)})))&&void 0!==l?l:[],c=!0,s=!1,f=void 0;try{for(var d,p=u[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var h=d.value,y=r.has(h.soundId),b=y&&o||!y&&!o,m=h.guildId===R.X8||null==h.overridePath;b&&m&&t.push(h)}}catch(e){s=!0;f=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw f}}};o.forEach((function(e){return i(e,!0)}));o.forEach((function(e){return i(e,!1)}));return t}),[n,r,e])}((0,y.h)(n,!0)),_=(0,h.j)(),I=o.useRef(null),w=B(o.useState(void 0),2),P=w[0],x=w[1],A=(0,l.e7)([f.Z],(function(){return f.Z.getMediaSessionId()})),T=(0,c.Z)(u.Z.SOUNDBOARD_WHEEL),N=T.analyticsLocations,M=T.AnalyticsLocationProvider,D=o.useCallback((function(e){(0,b.G)(e,n.id,N);S()}),[N,n.id,S])
;o.useEffect((function(){d.w()}),[]);o.useEffect((function(){0===j.length&&0===_.length&&S()}),[j.length,_,S]);o.useEffect((function(){return function(){var e=I.current;g||null==e||D(e)}}),[g,D]);(0,s.Z)({type:i.nv.POPOUT,name:i.zs.SOUNDBOARD_POPOUT,properties:{source:C,guild_id:t,media_session_id:A}},{disableTrack:!E});var U=o.useCallback((function(e){I.current=e;x(null==e?void 0:e.soundId)}),[]),G=o.useCallback((function(e){if(null!=e){var t=j[e];null!=t&&U(t)}else U(null)}),[U,j]),H=o.useCallback((function(e){if(null!=e){var t=j[e];null!=t&&D(t)}}),[j,D]),V=o.useMemo((function(){return j.map((function(e){return(0,r.jsx)(L.Z,{interactive:E,className:k().soundButton,sound:e,focused:P===e.soundId,channel:n},e.soundId)}))}),[P,n,E,j]);return 0===j.length?null:(0,r.jsx)(M,{children:(0,r.jsx)(Z,{wheelWidth:m,wheelHeight:v,itemWidth:96,itemHeight:52,showDeadZoneIndicator:!g,activeItem:P,onItemSelect:G,onItemAction:H,interactive:E,children:V})})}},672522:(e,t,n)=>{"use strict";n.d(t,{
v:()=>o,z:()=>i});var r=n(744564);function o(e){r.Z.dispatch({type:"STAGE_MUSIC_MUTE",muted:e})}function i(e){r.Z.dispatch({type:"STAGE_MUSIC_PLAY",play:e})}},519718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(736818),o=n(82274),i=n(808194),a=n(933022),l=n(766496);function u(e){if(!e.isGuildStageVoice())return!1;if(!l.Z.isLive(e.id))return!1;var t=r.default.getId();return!!a.ZP.isModerator(t,e.id)&&(!!a.ZP.isSpeaker(t,e.id)&&(null==o.Z.getMutableParticipants(e.id).find((function(n){return n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id)}))||null==o.Z.getMutableParticipants(e.id,i.pV.SPEAKER).find((function(n){return n.user.id!==t&&a.ZP.isModerator(n.user.id,e.id)}))))}},499219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(202351),o=n(61209),i=n(715107);function a(){return(0,r.e7)([i.Z,o.Z],(function(){var e=i.Z.getVoiceChannelId();if(null!=e){var t=o.Z.getChannel(e);if(null==t?void 0:t.isGuildStageVoice())return t}return null}))}},832642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p})
;var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(473708),l=n(347234),u=n.n(l),c=n(483683),s=n.n(c),f=n(63685),d=n.n(f);function p(e){var t=e.className,n=e.children;return(0,r.jsxs)("div",{className:i()(u().container,t),children:[(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:d(),className:i()(u().sparkleIcon,u().sparkleBottom)}),n,(0,r.jsx)("img",{alt:a.Z.Messages.MEMBER_VERIFICATION_VERIFICATION_ICON,src:s(),className:i()(u().sparkleIcon,u().sparkleTop)})]})}},688941:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ji})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(496486),s=n(751615),f=n(202351),d=n(630631),p=n(945460),h=n(744564),y=n(677681),b=n(26468),m=n(566706),v=n(91036),g=n(509097),O=n(753705),E=n(201521),C=n(15338),S=n(979197),j=n(784426),_=n(173388),I=n(299836),w=n(729139),P=n(656262),x=n(631443),A=n(821297),T=n(980617),N=n(736818),M=n(77457),Z=n(567403),L=n(682776),R=n(715107),D=n(176758),k=n(120415),U=n(463473),B=n(310126),F=n(915840),G=n(442812),H=n(808194),V=n(766496),W=n(299239),z=n(971402),Y=n(385028),K=n(357088),q=n(736626),X=n(197045),Q=n(21372),J=n(491260),$=n(189865),ee=n(447642),te=n(462791),ne=n(373438),re=n(771575),oe=n(749565),ie=n(473708);function ae(e){var t;if((0,oe.EO)(e.user))return ie.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_TO_DISCORD;var n=null===(t=e.member)||void 0===t?void 0:t.joinedAt;if(null==n)return ie.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NON_MEMBER;if(null!=e.member&&e.member.roles.length>0){var r,o
;return null!==(o=null===(r=e.role)||void 0===r?void 0:r.name)&&void 0!==o?o:ie.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER_ROLES}return(new Date).getTime()-Date.parse(n)<864e5?ie.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_NEW_MEMBER:ie.Z.Messages.REQUEST_TO_SPEAK_MEMBER_INFO_MEMBER}var le=n(525261),ue=n(61209),ce=n(563135),se=n(2590);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=n(516909),he=n(832642),ye=n(796919),be=n.n(ye);function me(e){var t=e.className;return(0,r.jsx)(he.Z,{className:t,children:(0,r.jsx)("div",{className:be().background,children:(0,r.jsx)(pe.Z,{className:be().foreground,width:32,height:32})})})}var ve=n(520453),ge=n(758176),Oe=n.n(ge);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){Ce(i,r,o,a,l,"next",e)}function l(e){Ce(i,r,o,a,l,"throw",e)}a(void 0)}))}}function je(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){je(e,t,n[t])}))}return e}function Ie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe,xe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},Ae=o.memo((function(e){
var t=e.toggleRequestToSpeakSidebar,n=e.chatOpen,o=(0,r.jsx)(ne.ZP.Icon,{icon:$.Z,tooltip:ie.Z.Messages.CLOSE,onClick:t});return(0,r.jsxs)(ne.ZP,{toolbar:o,className:a()(Oe().headerContainer,je({},Oe().chatOpen,n)),children:[(0,r.jsx)(ne.ZP.Icon,{icon:te.Z,disabled:!0,"aria-label":ie.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE}),(0,r.jsx)(ne.ZP.Title,{children:ie.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE})]})})),Te=o.memo((function(e){var t=e.channel,i=e.participant,l=e.tempDisableOnInit,c=void 0!==l&&l,s=function(){(0,re.DT)(t,i.user.id,!1)},d=function(){(0,re.DT)(t,i.user.id,!0)},h=we(o.useState(c),2),y=h[0],b=h[1];o.useEffect((function(){if(y){var e=setTimeout((function(){return b(!1)}),1e3);return function(){return clearTimeout(e)}}}),[]);var m=t.getGuildId();u()(null!=m,"Channel cannot be guildless");var v=(0,f.cj)([J.Z],(function(){return{isMobile:J.Z.isMobileOnline(i.user.id),status:J.Z.getStatus(i.user.id,m)}})),g=v.isMobile,O=v.status,E=(0,f.e7)([Q.ZP],(function(){
return Q.ZP.getMember(m,i.user.id)})),C=o.useMemo((function(){return je({},m,[i.user.id])}),[m,i.user.id]);(0,K.$)(C);var S,j=i.rtsState===le.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,_=function(e){(0,z.jW)(e,Se((function(){var e,o;return xe(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Ie(_e({},e),{user:i.user,guildId:m,channel:t,showMediaItems:!0}))}]}}))})))};return(0,r.jsxs)("div",{className:Oe().participantRowContainer,children:[(0,r.jsx)(p.Popout,{preload:function(){return(0,q.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,Ie(_e({},e),{userId:i.user.id,guildId:m,channelId:t.id}))},position:"left",spacing:16,children:function(e){return(0,r.jsxs)(p.Clickable,Ie(_e({className:Oe().participantMemberContainer,onContextMenu:_},e),{
children:[(0,r.jsx)(Y.Z,{size:p.AvatarSizes.SIZE_40,className:Oe().participantAvatar,user:i.user,isMobile:g,status:O}),(0,r.jsxs)("div",{className:Oe().participantTextContainer,children:[(0,r.jsx)(p.NameWithRole,{name:i.userNick,color:null!==(S=null==E?void 0:E.colorString)&&void 0!==S?S:void 0,className:Oe().participantName}),(0,r.jsx)(p.Text,{variant:"text-xs/normal",color:"header-secondary",children:ae(i)})]})]}))}}),(0,r.jsx)(p.Tooltip,{text:j?ie.Z.Messages.REQUEST_TO_SPEAK_INVITATION_SEND:ie.Z.Messages.REQUEST_TO_SPEAK_ACCEPT,children:function(e){return(0,r.jsx)(p.Button,Ie(_e({},e),{innerClassName:Oe().buttonContainer,look:p.Button.Looks.BLANK,size:p.Button.Sizes.NONE,onClick:s,disabled:j||y,children:(0,r.jsx)(ee.Z,{width:16,height:16})}))}}),(0,r.jsx)(p.Tooltip,{text:ie.Z.Messages.REQUEST_TO_SPEAK_DECLINE,children:function(e){return(0,r.jsx)(p.Button,Ie(_e({},e),{innerClassName:a()(Oe().buttonContainer,Oe().buttonMargin),look:p.Button.Looks.BLANK,size:p.Button.Sizes.NONE,
onClick:d,children:(0,r.jsx)($.Z,{width:16,height:16})}))}})]})})),Ne=o.memo((function(e){var t=we(function(e){var t=(0,f.e7)([ue.Z],(function(){return ue.Z.getChannel(e)}),[e]),n=ce.ZP.canEveryoneRole(se.Plq.REQUEST_TO_SPEAK,t),r=de(o.useState(n),2),i=r[0],a=r[1];o.useEffect((function(){n!==i&&a(n)}),[n]);return[i,function(e){if(null!=t){a(e);(0,re.Pq)(t,se.Plq.REQUEST_TO_SPEAK,e)}}]}(e.channel.id),2),n=t[0],i=t[1];return(0,r.jsx)(p.FormSwitch,{className:Oe().toggle,onChange:i,value:n,children:ie.Z.Messages.MODERATOR_ALLOW_EVERYONE_RAISE_HAND})})),Me=o.memo((function(){return(0,r.jsxs)("div",{className:Oe().emptyStateContainer,children:[(0,r.jsx)(me,{}),(0,r.jsx)(p.Text,{className:Oe().emptyStateTitle,variant:"text-lg/semibold",color:"header-primary",children:ie.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_TITLE}),(0,r.jsx)(p.Text,{className:Oe().emptyStateBody,variant:"text-sm/normal",color:"header-secondary",children:ie.Z.Messages.REQUEST_TO_SPEAK_EMPTY_LIST_BODY})]})}));!function(e){
e[e.TOGGLE_REQUEST_TO_SPEAK=0]="TOGGLE_REQUEST_TO_SPEAK";e[e.PARTICIPANTS=1]="PARTICIPANTS"}(Pe||(Pe={}));function Ze(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,o=e.chatOpen,i=(0,G.Fd)(t.id),l=[(0,f.e7)([L.Z],(function(){return L.Z.can(ve.Pl.MANAGE_CHANNELS,t)||L.Z.can(ve.Pl.MANAGE_ROLES,t)}))?1:0,Math.max(1,i.length)];return(0,r.jsxs)("div",{className:a()(Oe().container,je({},Oe().chatOpen,o)),children:[(0,r.jsx)(Ae,{toggleRequestToSpeakSidebar:n,chatOpen:o}),(0,r.jsx)(p.List,{className:Oe().contentContainer,sections:l,sectionHeight:function(e){return e===Pe.PARTICIPANTS?40:0},rowHeight:function(e){switch(e){case Pe.TOGGLE_REQUEST_TO_SPEAK:return 66;case Pe.PARTICIPANTS:return 0===i.length?178:48}return 0},renderRow:function(e){var n=e.section,o=e.row;switch(n){case Pe.TOGGLE_REQUEST_TO_SPEAK:return(0,r.jsx)(Ne,{channel:t},"rts-toggle");case Pe.PARTICIPANTS:if(0===i.length)return(0,r.jsx)(Me,{},"participants-empty");var a=i[o];return(0,r.jsx)(Te,{channel:t,participant:a,
tempDisableOnInit:!0},a.id)}return null},renderSection:function(e){return e.section===Pe.PARTICIPANTS?(0,r.jsx)(p.Text,{className:Oe().listTitle,variant:"text-xs/bold",color:"header-secondary",children:i.length>0?ie.Z.Messages.REQUEST_TO_SPEAK_LIST_TITLE.format({numHands:i.length}):ie.Z.Messages.REQUEST_TO_SPEAK_AREA_TITLE},"participants-section"):null}})]})}var Le=n(116404),Re=n(276985),De=n(716371),ke=n(730380),Ue=n(72580),Be=n(773148),Fe=n(788671),Ge=n.n(Fe),He=function(e,t){return Be.Z.getName(e.getGuildId(),e.id,t.user)};function Ve(e,t){return 0===t.length?ie.Z.Messages.CURRENTLY_IN_STAGE_EMPTY:1===t.length?ie.Z.Messages.CURRENTLY_IN_STAGE_1.format({a:He(e,t[0])}):2===t.length?ie.Z.Messages.CURRENTLY_IN_STAGE_2.format({a:He(e,t[0]),b:He(e,t[1])}):t.length>2?ie.Z.Messages.CURRENTLY_IN_STAGE_2_N.format({a:He(e,t[0]),b:He(e,t[1]),n:t.length-2}):void 0}const We=function(e){var t=e.participants,n=e.channel,i=e.hasConnectPermission,a=(0,De.J)(n.guild_id),l=o.useCallback((function(){
a?(0,Re.hk)(n.guild_id,(function(){return Le.default.selectVoiceChannel(n.id)})):Le.default.selectVoiceChannel(n.id)}),[n.id,n.guild_id,a]),u=t.filter((function(e){return e.type===H.Ui.VOICE})),c=4===u.length?2:3,s=(0,f.Wu)([m.Z],(function(){return u.map((function(e){return m.Z.getParticipant(n.id,e.id)})).filter(Ue.lm)}),[n.id,u]);return(0,r.jsxs)("div",{className:Ge().container,children:[(0,r.jsx)("div",{className:Ge().tiles,style:{maxWidth:168*c},children:s.slice(0,5).map((function(e){return(0,r.jsx)(ke.ZP,{participant:e,channel:n,className:Ge().tile,paused:!0,inCall:!0,noVideoRender:!0,inPopout:!1,width:48},e.id)}))}),(0,r.jsx)(p.Heading,{className:Ge().channelName,variant:"heading-xxl/semibold",children:n.name}),(0,r.jsx)("div",{className:Ge().participantsRow,children:(0,r.jsx)(p.Text,{color:"header-secondary",variant:"text-sm/normal",children:Ve(n,u)})}),(0,r.jsx)(p.Button,{disabled:!i,className:Ge().joinButton,color:i?p.Button.Colors.GREEN:p.Button.Colors.PRIMARY,onClick:l,
size:p.Button.Sizes.MEDIUM,children:i?ie.Z.Messages.STAGE_CHANNEL_JOIN:ie.Z.Messages.CHANNEL_LOCKED_SHORT})]})};var ze=n(336194),Ye=n(247250),Ke=n(218190),qe=n(540681),Xe=n(773011),Qe=n(591406),Je=n(572475),$e=n(283099),et=n(684412),tt=n(739849),nt=n(636398),rt=n(575907),ot=n(372417),it=n(353945),at=n(709189),lt=n(961241),ut=n(363582),ct=n(652591),st=n(162723),ft=n(227202),dt=n(713717),pt=n(468811),ht=n.n(pt),yt=n(732068),bt=n(390817),mt=n.n(bt);function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e){
var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.isBadged,u=void 0!==l&&l,c=Et(o.useState((function(){return ht().v4()})),1)[0];return(0,r.jsxs)("svg",{width:n,height:a,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:c,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),u&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",
d:"M20.53 7.76998C20.455 7.60998 20.31 7.48998 20.135 7.44498C20.075 7.42832 20.0106 7.41165 19.9462 7.39498L19.85 7.36998C19.305 7.22998 18.635 7.56498 18.35 8.11498L17.37 9.99998C17.085 10.55 16.725 10.51 16.57 9.90998L14.395 1.38498C14.24 0.779981 13.64 0.459981 13.05 0.664981C12.46 0.869981 12.095 1.52498 12.225 2.13498L13.495 7.95998C13.63 8.56998 13.575 9.11498 13.375 9.18498C13.175 9.25498 12.85 8.83498 12.65 8.24498L10.55 2.07498C10.35 1.48498 9.71004 1.17498 9.12004 1.37998C8.53004 1.58498 8.21504 2.22998 8.41004 2.81998L10.47 8.99998C10.665 9.58998 10.665 10.125 10.465 10.195C10.265 10.265 9.88504 9.86498 9.62504 9.29998L7.27504 4.29998C7.01004 3.73998 6.32004 3.44498 5.73004 3.64998C5.14504 3.85498 4.87504 4.47498 5.14004 5.03998L8.10004 11.045C8.36004 11.61 8.41004 12.125 8.21004 12.195C8.01004 12.265 7.53004 11.93 7.14004 11.445L5.10504 8.82498C4.71504 8.33998 4.04004 8.07498 3.59504 8.22998C3.15504 8.38498 3.04004 8.94498 3.34504 9.48998L5.84504 13.865C5.90004 14.02 7.35504 16.8 7.46004 16.915C8.50004 18.565 10.145 19.51 12.23 18.79L12.96 18.5372V15.84C12.96 14.2494 14.2494 12.96 15.84 12.96H18.3887C18.763 12.143 19.1735 11.2467 19.5492 10.4262L19.5592 10.4045L19.5647 10.3926L19.5648 10.3922L19.5702 10.3804L19.581 10.3569C19.9595 9.53048 20.3003 8.78624 20.53 8.28498C20.605 8.11498 20.605 7.92998 20.53 7.76998ZM11.81 20.51L12.96 20.0792V23.395H11.815L11.185 22.03C11.055 21.75 11.045 21.425 11.165 21.135C11.285 20.845 11.52 20.62 11.81 20.51ZM14.4 16.32C14.4 15.2596 15.2596 14.4 16.32 14.4H22.08C23.1404 14.4 24 15.2596 24 16.32V22.08C24 23.1404 23.1404 24 22.08 24H16.32C15.2596 24 14.4 23.1404 14.4 22.08V16.32ZM16.32 16.56H22.08V17.52H16.32V16.56ZM22.08 18.72H16.32V19.68H22.08V18.72ZM16.32 20.88H22.08V21.84H16.32V20.88Z",
mask:"url(#".concat(c,")")})]})}function St(e){var t=e.className,n=e.numRequestToSpeak,o=n>0,i=n>99?"99+":n;return(0,r.jsxs)("div",{className:a()(mt().raisedHandIcon,t),children:[(0,r.jsx)(Ct,{isBadged:o}),o?(0,r.jsx)(p.Text,{className:mt().raisedHandCount,variant:"text-xs/semibold",children:i}):null]})}function jt(e){var t=e.toggleRequestToSpeakSidebar,n=e.showRequestToSpeakSidebar,i=e.className,a=e.numRequestToSpeak,l=e.onClick,u=Ot(e,["toggleRequestToSpeakSidebar","showRequestToSpeakSidebar","className","numRequestToSpeak","onClick"]),c=o.useCallback((function(){null==l||l();t()}),[l,t]);return(0,r.jsx)(yt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){gt(e,t,n[t])}))}return e}({onClick:c,
label:n?ie.Z.Messages.REQUEST_TO_SPEAK_AREA_CLOSE:ie.Z.Messages.REQUEST_TO_SPEAK_AREA_OPEN,className:i,iconComponent:function(){return(0,r.jsx)(St,{numRequestToSpeak:a,className:i})}},u))}var _t=n(430510),It=n(492692),wt=n(670843),Pt=n(830271),xt=n(221921),At=n(636246),Tt=n(358500);function Nt(e){var t=(0,f.e7)([ue.Z],(function(){return ue.Z.getChannel(e)}),[e]),n=(0,f.e7)([L.Z],(function(){return L.Z.can(ft.yP,t)})),o=(0,f.e7)([V.Z],(function(){return V.Z.getStageInstanceByChannel(e)}),[e]),i=(0,b.bp)(),a=function(){return null!=t&&(0,At.T)(t,i)};return(null==t?void 0:t.isGuildStageVoice())&&n?null!=o?(0,r.jsx)(p.MenuItem,{id:"edit-stage",label:ie.Z.Messages.EDIT_STAGE_SUBTITLE,action:a}):(0,r.jsx)(p.MenuItem,{id:"start-stage",label:ie.Z.Messages.STAGE_CHANNEL_START_TITLE,action:a}):null}function Mt(e){var t=(0,f.e7)([ue.Z],(function(){return ue.Z.getChannel(e)}),[e]);u()(null!=t,"useNotificationSettingsItem: channel cannot be undefined");return(0,xt.Z)(t)}function Zt(e){
var t=e.channelId,n=e.closePopout,o=e.appContext,i=e.onSelect,a=e.textInStageEnabled,l=(0,f.e7)([m.Z],(function(){return m.Z.getSelectedParticipant(t)})),u=(null==l?void 0:l.type)===Tt.fO.STREAM?l.stream:null,c=(0,Pt.Z)(t);return(0,r.jsxs)(p.Menu,{navId:"stage-channel-call-overflow-popout",onClose:n,"aria-label":ie.Z.Messages.CHANNEL_CALL_OVERFLOW_MENU_LABEL,onSelect:i,children:[Nt(t),Mt(t),(0,It.Z)(),(0,_t.Z)(t),a?c:null,(0,wt.Z)(u,o)]})}function Lt(e){var t,n=(0,f.e7)([m.Z],(function(){return m.Z.getStageVideoLimitBoostUpsellDismissed(e.id)}),[e.id]),r=(0,G.Io)(e.id),o=(0,G.Rk)(e.id,H.pV.AUDIENCE),i=(0,dt.PK)(e.id),a=r+o,l=(0,f.e7)([Z.Z],(function(){return Z.Z.getGuild(e.guild_id)}),[e.guild_id]),u=(0,f.e7)([L.Z],(function(){return L.Z.can(ft.yP,e)}),[e]),c=dt.AI.useExperiment({guildId:e.guild_id},{autoTrackExposure:!0}).enabled,s=null!==(t=null==l?void 0:l.maxStageVideoChannelUsers)&&void 0!==t?t:0,d=!c&&s>se.RcX;return i&&!n&&u&&!d&&a>=s}var Rt=n(203600),Dt=n(78465),kt=n.n(Dt)
;function Ut(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ut(e,t,n[t])}))}return e}function Ft(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Gt(e){
var t=e.channel,n=e.toggleRequestToSpeakSidebar,i=e.showRequestToSpeakSidebar,l=(0,b.bp)(),u=(0,f.e7)([m.Z],(function(){return m.Z.getChatOpen(t.id)})),c=(0,st.B)(t.id),s=(0,G.Rk)(t.id,H.pV.REQUESTED_TO_SPEAK_ONLY),d=(0,T.Vy)(t.guild_id),h=(0,nt.Y)("popup"),y=h.preventIdle,v=h.allowIdle;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Popout,{position:"bottom",animation:p.Popout.Animation.NONE,align:"right",renderPopout:function(e){return(0,r.jsx)(rt.Z,{children:(0,r.jsx)(Zt,Ft(Bt({},e),{channelId:t.id,appContext:l,textInStageEnabled:d}))})},autoInvert:!1,children:function(e,t){var n=t.isShown;return(0,o.createElement)(it.Z,Ft(Bt({},e),{key:"more-options",isActive:n,className:kt().button,iconClassName:kt().buttonIcon}))}},"more-options-popout"),(0,r.jsx)(tt.Z,{onOpen:y,onClose:v,className:kt().button},"recents"),!i&&c?(0,r.jsx)("div",{className:kt().button,children:(0,r.jsx)(jt,{toggleRequestToSpeakSidebar:function(){u&&Ye.Z.updateChatOpen(t.id,!1);n()},showRequestToSpeakSidebar:i,
numRequestToSpeak:s})}):null,(0,r.jsx)(qe.w,{className:kt().button}),d&&!u&&(0,r.jsx)("div",{className:a()(kt().button,Ut({},kt().sidebarOpen,i)),children:(0,r.jsx)(ot.T,{channelId:t.id,showRequestToSpeakSidebar:i,toggleRequestToSpeakSidebar:n,iconClassName:kt().buttonIcon})})]})}function Ht(e){var t,n,i=e.channel,l=e.toggleRequestToSpeakSidebar,u=e.showRequestToSpeakSidebar,c=(0,Xe.ZP)(i),s=dt.AI.useExperiment({guildId:i.guild_id},{autoTrackExposure:!0}).enabled,d=(0,f.e7)([V.Z],(function(){return V.Z.getStageInstanceByChannel(i.id)})),h=(0,G.Io)(i.id),y=(0,G.Rk)(i.id,H.pV.AUDIENCE),b=(0,f.e7)([Z.Z],(function(){return Z.Z.getGuild(i.guild_id)}),[i.guild_id]),m=null!==(n=null==b?void 0:b.maxStageVideoChannelUsers)&&void 0!==n?n:0,v=s?m<se.TU7:(null==b?void 0:b.premiumTier)!==se.Eu4.TIER_3&&m<=se.eez,g=Lt(i),O=(0,f.e7)([L.Z],(function(){return L.Z.can(ft.yP,i)})),E=function(){Ye.Z.updateStageVideoLimitBoostUpsellDismissed(i.id,!0);ct.default.track(se.rMx.BOOSTING_UPSELL_CLICKED,{
guild_id:i.guild_id,type:Rt.cd.VIDEO_STAGE_LIMIT,is_moderator:O,action:Rt.T7.DISMISS})};o.useEffect((function(){g&&ct.default.track(se.rMx.BOOSTING_UPSELL_VIEWED,{guild_id:i.guild_id,type:Rt.cd.VIDEO_STAGE_LIMIT,is_moderator:O,listener_count:h+y})}),[g]);var C,S=Ke.G.useExperiment({},{autoTrackExposure:!1}),j=S.enabled,_=S.left,I=null===(t=(0,Je.ZP)(i.id,!j))||void 0===t?void 0:t.name,w=null!=I&&(0,r.jsx)(et.MA,{emoji:I,channelEmojiLeftOfIcon:!1,channel:i}),P=(0,r.jsxs)(ne.ZP,{toolbar:(0,r.jsx)(Gt,{toggleRequestToSpeakSidebar:l,showRequestToSpeakSidebar:u,channel:i}),onDoubleClick:$e.O,transparent:!0,className:a()((0,U.Q)(se.BRd.DARK),kt().participants),children:[_&&w,(0,r.jsx)(ne.ZP.Icon,{icon:pe.Z,disabled:!0,"aria-label":ie.Z.Messages.STAGE_CHANNEL,className:kt().icon,color:null!=d?ze.Z.unsafe_rawColors.GREEN_360.css:void 0}),!_&&w,(0,r.jsx)(ne.ZP.Title,{className:kt().channelName,wrapperClassName:kt().channelNameWrapper,children:null!==(C=null==d?void 0:d.topic)&&void 0!==C?C:c
}),(0,r.jsx)(ne.ZP.Divider,{className:kt().divider}),(0,r.jsxs)(ne.ZP.Title,{children:[(0,r.jsx)(lt.Z,{width:16,height:16}),(0,r.jsx)(p.Text,{variant:"text-xs/medium",color:"header-secondary",className:kt().speakerCount,children:ie.Z.Messages.SPEAKING_COUNT.format({count:h})}),(0,r.jsx)(ut.Z,{width:16,height:16}),(0,r.jsx)(p.Text,{variant:"text-xs/medium",color:"header-secondary",className:kt().speakerCount,children:ie.Z.Messages.LISTENING_COUNT.format({count:y})})]})]});return g?(0,r.jsxs)("div",{children:[P,(0,r.jsxs)("div",{className:kt().boostUpsell,children:[(0,r.jsx)(Vt,{}),(0,r.jsxs)("div",{className:kt().text,children:[(0,r.jsx)(p.Text,{variant:"text-md/medium",color:"header-primary",children:v?ie.Z.Messages.STAGE_FULL_MODERATOR_TITLE:ie.Z.Messages.STAGE_FULL_MODERATOR_MAX_TITLE}),(0,r.jsx)(p.Text,{variant:"text-xs/medium",color:"text-normal",children:v?ie.Z.Messages.STAGE_FULL_MODERATOR_BODY:ie.Z.Messages.STAGE_FULL_MAX_BODY})]}),(0,r.jsx)("div",{className:kt().buttons,
children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Button,{className:kt().notNowButton,onClick:E,look:p.Button.Looks.BLANK,size:p.Button.Sizes.SMALL,children:ie.Z.Messages.NOT_NOW}),(0,r.jsx)(at.C,{size:p.Button.Sizes.SMALL,onClick:function(){(0,Qe.f)({guildId:i.guild_id,location:{section:se.jXE.STAGE_VIDEO_LIMIT}});ct.default.track(se.rMx.BOOSTING_UPSELL_CLICKED,{guild_id:i.guild_id,type:Rt.cd.VIDEO_STAGE_LIMIT,is_moderator:O,action:Rt.T7.BOOST})},className:kt().boostButton,children:ie.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION})]}):(0,r.jsx)(p.Button,{className:kt().notNowButton,onClick:E,look:p.Button.Looks.BLANK,size:p.Button.Sizes.SMALL,children:ie.Z.Messages.DISMISS})})]})]}):P}function Vt(){return(0,r.jsxs)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_595_59940)",children:[(0,r.jsx)("path",{
d:"M36 18C36 19.8 33.075 21.15 32.625 22.725C32.175 24.3 33.525 27.225 32.625 28.575C31.725 29.925 28.35 29.25 27 30.375C25.65 31.5 25.2 34.425 23.625 35.1C22.05 35.775 19.8 33.3 18 33.3C16.2 33.3 13.95 35.55 12.375 35.1C10.8 34.65 10.35 31.275 9 30.375C7.65 29.475 4.5 29.925 3.375 28.575C2.25 27.225 3.825 24.525 3.375 22.725C2.925 20.925 0 19.8 0 18C0 16.2 2.925 14.85 3.375 13.275C3.825 11.7 2.475 8.77497 3.375 7.42496C4.275 6.07497 7.65 6.74997 9 5.62497C10.35 4.49997 10.8 1.57497 12.375 0.899965C13.95 0.224965 16.2 2.69997 18 2.69997C19.8 2.69997 22.05 0.449965 23.625 0.899965C25.2 1.34997 25.65 4.49997 27 5.62497C28.35 6.74997 31.5 6.07497 32.625 7.42496C33.75 8.77497 32.175 11.475 32.625 13.275C33.075 15.075 36 16.2 36 18Z",fill:"url(#paint0_linear_595_59940)"}),(0,r.jsx)("path",{d:"M15.75 20.7001L18 22.9501L20.25 20.7001V15.3001L18 13.0501L15.75 15.3001V20.7001Z",fill:"white"}),(0,r.jsx)("path",{
d:"M18 6.75L11.25 13.5V22.5L18 29.25L24.75 22.5V13.5L18 6.75ZM22.5 21.6L18 26.1L13.5 21.6V14.4L18 9.9L22.5 14.4V21.6Z",fill:"white"})]}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"paint0_linear_595_59940",x1:"2.4046e-06",y1:"35.2166",x2:"35.7182",y2:"-1.45185",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{stopColor:"#3E70DD"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#B377F3"})]}),(0,r.jsx)("clipPath",{id:"clip0_595_59940",children:(0,r.jsx)("rect",{width:"36",height:"36",fill:"white"})})]})]})}var Wt=n(672380),zt=n(82274);function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qt=function(e){return e},Xt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=Qt(qt,t,n,r),a=o.useRef(e);o.useEffect((function(){var t=i(e);a.current=t}),[e,i]);return 0===t?e:a.current},Qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=o.useRef((0,c.throttle)(e,t,r));o.useEffect((function(){i.current=(0,c.throttle)(e,t,r);return function(){var e;null===(e=i.current)||void 0===e||e.cancel()}}),[e,t,r].concat(Kt(n)));return i.current},Jt=n(664806);function $t(e,t){
(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t,n){var r=(0,
f.e7)([zt.Z],(function(){return[e,zt.Z.getParticipantsVersion(e)]}),[e],Jt.Q),i=(0,f.e7)([m.Z],(function(){return m.Z.getSelectedParticipantId(e)}),[e]);return o.useMemo((function(){var o=[],a=[],l=-1,u=[];if(n){var s=zt.Z.getMutableParticipants(e,H.pV.SPEAKER),f=!0,d=!1,p=void 0;try{for(var h,y=s[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var b=h.value;if(b.type!==H.Ui.STREAM)break;b.id!==i&&u.push(b);l++}}catch(e){d=!0;p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}var m=function(e,t,n){var r=n?e.filter((function(e,t){return e.id!==i&&t>l})):e,u=(0,c.chunk)(r,t);a.push(u);o.push(u.length)},v=null!=i?zt.Z.getParticipant(e,i):null;(null==v?void 0:v.speaker)?m([v],1,!1):m([],1,!1);[H.pV.SPEAKER,H.pV.AUDIENCE].forEach((function(e){m(zt.Z.getMutableParticipants(r[0],e),t[e],e===H.pV.SPEAKER)}));m(u,1,!1);return[o,a]}),[r,t,i,n,e])}var nn;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE";e[e.MEDIA=3]="MEDIA"}(nn||(nn={}))
;var rn=n(742257),on=n(217674),an=n(330944),ln=n.n(an);function un(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function cn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){un(i,r,o,a,l,"next",e)}function l(e){un(i,r,o,a,l,"throw",e)}a(void 0)}))}}function sn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){sn(e,t,n[t])}))}return e}function dn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var pn=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},hn=o.memo((function(e){var t=e.guildId,n=e.channelId,o=e.user,i=e.isPremium,a=e.isBlocked;return(0,r.jsxs)("div",{className:ln().textContainer,children:[a?(0,r.jsx)(rn.Z,{className:ln().blockedIcon,color:ze.Z.unsafe_rawColors.RED_400.css}):null,(0,r.jsx)(p.Text,{className:ln().text,variant:"text-sm/normal",color:"header-primary",children:Be.Z.getName(t,n,o)}),i?(0,r.jsx)(on.Z,{className:ln().boost,color:ze.Z.unsafe_rawColors.GUILD_BOOSTING_PINK.css}):null]})})),yn=o.memo((function(e){
var t,n=e.participant,o=e.guildId,i=e.channel,l=e.isPremium,u=n.user,c=n.blocked,s=n.rtsState,f=s===le.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,d=s===le.xO.REQUESTED_TO_SPEAK||f;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:ln().avatarContainer,children:[d&&(0,r.jsx)(te.Z,{className:a()(ln().icon,sn({},ln().invited,f))}),(0,r.jsx)("img",{src:null!==(t=u.getAvatarURL(i.guild_id,56,!1))&&void 0!==t?t:void 0,alt:u.username,"aria-label":u.username,className:a()(ln().avatar,sn({},ln().faded,c))})]}),(0,r.jsx)(hn,{guildId:o,channelId:i.id,user:u,isPremium:l,isBlocked:c})]})})),bn=function(){return(0,r.jsx)("div",{className:ln().tileBaseContainer})};const mn=o.memo((function(e){var t=e.participant,i=e.channel,l=t.user,c=t.blocked,s=i.getGuildId(),d=(0,b.bp)(),h=(0,f.e7)([Q.ZP],(function(){var e;return null!=s&&null!=(null===(e=Q.ZP.getMember(s,l.id))||void 0===e?void 0:e.premiumSince)}),[s,l.id]);u()(null!=s,"Channel cannot be guildless")
;var y=o.useCallback((function(e){(0,z.jW)(e,cn((function(){var e,t;return pn(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,dn(fn({},e),{user:l,guildId:s,channel:i,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:d})}),[l,s,i,d]),m=o.useCallback((function(e){return(0,r.jsx)(X.Z,dn(fn({},e),{guildId:s,channelId:i.id,userId:l.id}))}),[i.id,s,l.id]);return(0,r.jsx)(p.Popout,{preload:function(){return(0,q.Z)(l.id,l.getAvatarURL(i.guild_id,80),{guildId:i.guild_id,channelId:i.id})},renderPopout:m,position:"right",spacing:8,children:function(e){var n;return(0,r.jsx)(p.Clickable,dn(fn({className:a()(ln().tileContainer,(n={},sn(n,ln().singleIcon,h||c),sn(n,ln().doubleIcon,h&&c),n)),onContextMenu:y},e),{children:(0,r.jsx)(yn,{participant:t,guildId:s,channel:i,isPremium:h})}))}})}))
;var vn=n(944643),gn=n.n(vn);const On=o.memo((function(e){var t=e.channel,n=e.participants,o=e.maxTiles;if(0===n.length)return null;for(var i=[],a=0;a<o;a++)if(a<n.length){var l=n[a];i.push((0,r.jsx)(mn,{channel:t,participant:l},l.id))}else i.push((0,r.jsx)(bn,{},a));return(0,r.jsx)("div",{className:gn().participants,children:i})}));var En,Cn=n(753274),Sn=n(312274),jn=n.n(Sn),_n=n(441086),In=n.n(_n);const wn=(0,p.createListScroller)(jn().auto,jn().fade,In().customTheme,null!==(En=window.ResizeObserver)&&void 0!==En?En:Cn.d);var Pn=n(481008),xn=n(409125),An=n(306263),Tn=n(924066),Nn=n(177570),Mn=n(407561),Zn=n(225253),Ln=n(933022),Rn=n(604945),Dn=n(993137),kn=n(447394),Un=n.n(kn);function Bn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Bn(e,t,n[t])}))}return e}function Gn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Hn(e){
var t=e.aspectRatio,n=e.blocked,o=e.channel,i=e.className,a=e.focused,l=e.children,u=e.inCall,c=e.inPopout,s=e.noBorder,f=e.onClick,d=e.onContextMenu,p=e.onDoubleClick,h=e.onVideoResize,y=e.paused,b=e.pulseSpeakingIndicator,m=e.participant,v=e.width,g=Gn(e,["aspectRatio","blocked","channel","className","focused","children","inCall","inPopout","noBorder","onClick","onContextMenu","onDoubleClick","onVideoResize","paused","pulseSpeakingIndicator","participant","width"]),O=Rn.Z.getVideoComponent();return(0,r.jsx)("div",{style:{width:v},className:Un().spaceBetweenTiles,children:(0,r.jsxs)(Dn.Z,{className:Un().tileSizer,aspectRatio:t,children:[(0,r.jsx)(ke.ZP,Fn({blocked:n,channel:o,className:i,focused:a,inCall:u,inPopout:c,noBorder:s,onClick:f,onContextMenu:d,onDoubleClick:p,onVideoResize:h,participant:m,paused:y,pulseSpeakingIndicator:b,videoComponent:O,width:v},g)),l]})})}var Vn=n(422557),Wn=n(955871),zn=n.n(Wn);function Yn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Kn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const qn=function(){return(0,r.jsx)(p.Tooltip,{text:ie.Z.Messages.STAGE_MODERATOR_TOOLTIP,children:function(e){return(0,r.jsx)("div",Kn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Yn(e,t,n[t])}))}return e}({},e),{className:zn().container,
children:(0,r.jsx)(Vn.Z,{color:ze.Z.unsafe_rawColors.WHITE_500.css})}))}})};var Xn=n(636389),Qn=n.n(Xn);function Jn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function $n(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jn(i,r,o,a,l,"next",e)}function l(e){Jn(i,r,o,a,l,"throw",e)}a(void 0)}))}}function er(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){er(e,t,n[t])}))}return e}function nr(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var rr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],
done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},or=16/9,ir=function(e){var t=e.stageParticipant,n=e.rtcParticipant,i=e.channel,a=e.guildId,l=e.user,u=e.width,c=e.isModerator,s=e.onContextMenu,f=e.inPopout,d=o.useContext(p.AccessibilityPreferencesContext).reducedMotion,h=t.blocked,y=t.id;return(0,r.jsx)(p.Popout,{preload:null==n?void 0:function(){return(0,q.Z)(n.user.id,n.user.getAvatarURL(i.guild_id,80),{guildId:i.guild_id,channelId:i.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,nr(tr({},e),{guildId:a,channelId:i.id,userId:l.id}))},
position:"right",spacing:8,children:function(e){return(0,r.jsx)(p.Clickable,nr(tr({onContextMenu:function(e){return s(n,e)}},e),{children:(0,r.jsx)(Hn,{participant:n,aspectRatio:or,blocked:h,channel:i,className:Qn().tile,inCall:!0,inPopout:f,paused:!1,pulseSpeakingIndicator:!d.enabled,width:u,children:c&&(0,r.jsx)(qn,{})},y)}))}})},ar=function(e){var t=e.stageParticipant,n=e.rtcParticipant,i=e.channel,a=e.width,l=e.isModerator,u=e.onContextMenu,c=e.inPopout,s=o.useContext(p.AccessibilityPreferencesContext).reducedMotion,d=t.id,h=t.blocked,y=(0,f.Wu)([Nn.Z],(function(){return Nn.Z.getAllActiveStreams()}),[]),b=(0,f.cj)([m.Z],(function(){return{selectedParticipant:null!=i?m.Z.getSelectedParticipant(i.id):null,largeStream:null!=i&&m.Z.getStageStreamSize(i.id)}})),v=b.selectedParticipant,g=b.largeStream,O=o.useCallback((function(e,t){if(e.type===Tt.fO.STREAM){if(0===y.filter((function(t){return(0,An.V9)(t)===e.id&&t.state!==se.jm8.ENDED})).length){if(!(0,
Tn.p9)(i,Mn.Z,Z.Z,L.Z,xn.Z)[0])return;(0,Pn.rn)((0,An.my)(e.id),{forceMultiple:t.shiftKey})}}if((null==v?void 0:v.id)===e.id)if(g){Ye.Z.selectParticipant(i.id,null);Ye.Z.updateStageStreamSize(i.id,!1)}else Ye.Z.updateStageStreamSize(i.id,!0);else{Ye.Z.updateStageStreamSize(i.id,!1);Ye.Z.selectParticipant(i.id,e.id)}}),[y,i,v,g]);return(0,r.jsx)(Hn,{participant:n,aspectRatio:or,fit:n.type===Tt.fO.USER?Zn.L.COVER:void 0,blocked:h,channel:i,className:Qn().tile,inCall:!0,inPopout:c,onClick:O,onContextMenu:u,paused:!1,pulseSpeakingIndicator:!s.enabled,width:a,children:l&&n.type===Tt.fO.USER&&(0,r.jsx)(qn,{})},d)};const lr=o.memo((function(e){var t,o=e.participant,i=e.channel,a=e.width,l=(0,b.bp)(),c=i.getGuildId();u()(null!=c,"Channel cannot be guildless");var s=o.user,d=(0,f.e7)([m.Z],(function(){return m.Z.getParticipant(i.id,o.id)}),[i.id,o.id]),p=(0,f.e7)([Ln.ZP],(function(){return Ln.ZP.isModerator(s.id,i.id)}),[i.id,s.id]);if(null==d||d.type===Tt.fO.ACTIVITY)return null
;var h=function(e,t){switch(e.type){case Tt.fO.HIDDEN_STREAM:case Tt.fO.STREAM:(0,z.jW)(t,$n((function(){var t,o;return rr(this,(function(i){switch(i.label){case 0:return[4,n.e(97848).then(n.bind(n,997848))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,nr(tr({},t),{stream:e.stream,appContext:l,exitFullscreen:function(){}}))}]}}))})),{context:l});return;case Tt.fO.USER:default:(0,z.jW)(t,$n((function(){var e,t;return rr(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,nr(tr({},e),{user:s,guildId:c,channel:i,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:l})}},y=d.type===Tt.fO.USER&&!(null===(t=d.voiceState)||void 0===t?void 0:t.selfVideo);return(0,r.jsx)(r.Fragment,{children:y?(0,r.jsx)(ir,{stageParticipant:o,rtcParticipant:d,channel:i,guildId:c,user:s,width:a,
isModerator:p,onContextMenu:h,inPopout:l===se.IlC.POPOUT}):(0,r.jsx)(ar,{stageParticipant:o,rtcParticipant:d,channel:i,guildId:c,user:s,width:a,isModerator:p,onContextMenu:h,inPopout:l===se.IlC.POPOUT})})}));var ur=n(340518),cr=n.n(ur);const sr=o.memo((function(e){var t=e.channel,n=e.participants,o=e.tileWidth,i=e.selectedParticipant;return(0,r.jsx)("div",{className:cr().rowContainer,children:n.map((function(e){return e.id===(null==i?void 0:i.id)?null:(0,r.jsx)(lr,{channel:t,participant:e,width:o},e.id)}))})}));var fr=n(377463),dr=n(977005),pr=n(473664),hr=n(294162),yr=n(775173),br=n(315707),mr=n.n(br);function vr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vr(i,r,o,a,l,"next",e)}function l(e){vr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Or(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,
configurable:!0,writable:!0}):e[t]=n;return e}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Or(e,t,n[t])}))}return e}function Cr(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Sr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function jr(e){var t=e.channel,i=e.speaker,l=e.className,u=(0,
b.bp)(),c=o.useContext(p.AccessibilityPreferencesContext).reducedMotion,s=(0,pr.Z)({userId:i.id}),f=null!=i.member?(0,yr.CA)(i.member):null,d=function(e){(0,z.jW)(e,gr((function(){var e,o;return Sr(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(3454),n.e(77357),n.e(14136)]).then(n.bind(n,914136))];case 1:e=a.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,Cr(Er({},e),{user:i.user,guildId:t.guild_id,channel:t,showMediaItems:!0,showStageChannelItems:!0,showChatItems:!1}))}]}}))})),{context:u})};return(0,r.jsx)(p.Popout,{preload:function(){return(0,q.Z)(i.user.id,i.user.getAvatarURL(t.guild_id,80),{guildId:t.guild_id,channelId:t.id})},renderPopout:function(e){return(0,r.jsx)(X.Z,Cr(Er({},e),{guildId:t.guild_id,channelId:t.id,userId:i.id}))},position:"right",spacing:8,children:function(e){return(0,r.jsx)(p.Tooltip,{text:i.userNick,position:"bottom",children:function(n){return(0,r.jsx)(p.Clickable,Cr(Er({},n,e),{onClick:function(t){
t.stopPropagation();e.onClick(t)},onContextMenu:d,children:(0,r.jsx)(p.Avatar,{src:null!=f?f:i.user.getAvatarURL(t.guild_id,24),size:p.AvatarSizes.SIZE_24,className:a()(mr().avatar,l),"aria-label":i.userNick,isSpeaking:s&&!c.enabled})}))}})}})}function _r(e){var t=e.speakers,n=e.channel;return(0,r.jsx)(hr.Z,{className:mr().summary,guildId:n.guild_id,users:t,max:10,renderUser:function(e,t,o){return(0,r.jsx)(jr,{channel:n,speaker:e,className:t},o)},renderMoreUsers:function(e,t,n){return(0,r.jsx)("div",{className:a()(mr().speakers,t),children:e},n)}})}var Ir=n(891964),wr=n.n(Ir);function Pr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}const xr=o.memo((function(e){var t=e.label,n=e.participantCount,o=e.onClick,i=e.className,l=e.collapsed,u=e.speakers,c=e.channel,s=e.isStreamLive;return(0,r.jsxs)(p.Clickable,{onClick:o,className:a()(wr().container,i),children:[null==u?(0,r.jsx)(ut.Z,{width:20,height:20,className:wr().micIcon
}):(0,r.jsx)(lt.Z,{width:20,height:20,className:wr().micIcon}),(0,r.jsxs)(p.Text,{color:"header-primary",variant:"text-md/semibold",className:wr().text,children:[t," — ",n]}),l&&null!=c&&null!=u&&u.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_r,{channel:c,speakers:u}),s&&(0,r.jsx)(dr.ZP,{})]}),(0,r.jsx)(fr.Z,{width:20,height:20,className:a()(wr().downIcon,Pr({},wr().upIcon,l))})]})}));var Ar=n(248722),Tr=n.n(Ar);function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lr,Rr=424,Dr=624,kr=824;!function(e){e[e.SELECTED=0]="SELECTED";e[e.SPEAKER=1]="SPEAKER";e[e.AUDIENCE=2]="AUDIENCE"}(Lr||(Lr={}));const Ur=(0,Wt.Z)((function(e){var t,n,i,a=e.channel,l=e.width,u=e.onScroll,c=(0,f.cj)([m.Z],(function(){return{selectedParticipantId:m.Z.getSelectedParticipantId(a.id),largeStream:m.Z.getStageStreamSize(a.id),chatOpen:m.Z.getChatOpen(a.id)}}),[a.id]),s=c.selectedParticipantId,d=c.largeStream,p=c.chatOpen,h=(0,
G.Io)(a.id),y=(0,G.Rk)(a.id,H.pV.AUDIENCE),b=(0,f.e7)([zt.Z],(function(){return null!=s?zt.Z.getParticipant(a.id,s):null})),v=(0,G.w8)(a.id,H.pV.SPEAKER),g=v.filter((function(e){return e.type===H.Ui.VOICE})),O=null!=v.find((function(e){return e.type===H.Ui.STREAM})),E=function(e){return Math.floor((e-32)/102)}(l),C=function(e,t){return e<Rr?1:e<Dr?2:e<kr||t?3:4}(l,p),S=(Mr(t={},H.pV.SPEAKER,C),Mr(t,H.pV.AUDIENCE,E),Mr(t,H.pV.SELECTED,1),t),j=function(e){var t=(0,G.Rk)(e,H.pV.AUDIENCE),n=en(o.useState(!1),2),r=n[0],i=n[1];o.useEffect((function(){t>100?i(!0):t<75&&i(!1)}),[t]);return r?5e3:0}(a.id),_=Zr(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=tn(e,t,r),i=en(o,2),a=i[0],l=i[1],u=en(Xt(o,n,[t[H.pV.AUDIENCE]]),2),c=u[0],s=u[1],f=[a[r?nn.MEDIA:nn.SELECTED],a[nn.SPEAKER],c[nn.AUDIENCE]],d=[l[r?nn.MEDIA:nn.SELECTED],l[nn.SPEAKER],s[nn.AUDIENCE]];return[f,d]
}(a.id,S,j),2),I=_[0],w=_[1],P=[Math.max(null!==(n=I[Lr.SELECTED])&&void 0!==n?n:1,1),Math.max(null!==(i=I[Lr.SPEAKER])&&void 0!==i?i:1,1),I[Lr.AUDIENCE]],x=function(e,t){var n=Math.floor(e/t-8);return{speakerTileWidth:n,speakerTileHeight:Math.floor(n/or)}}(l,C),A=x.speakerTileWidth,T=x.speakerTileHeight,N=d?l-32:Math.min(l-64,3*A+8),M=function(e){return e===I.length-1||0===y&&1===e},Z=Zr(o.useState(!1),2),L=Z[0],R=Z[1],D=Zr(o.useState(!1),2),k=D[0],U=D[1];return(0,r.jsx)(wn,{sections:P,renderSection:function(e){var t=e.section;return t===Lr.SPEAKER?0===h?null:(0,r.jsx)(xr,{participantCount:h,label:ie.Z.Messages.SPEAKER_LABEL,className:Tr().header,onClick:function(){return R(!L)},collapsed:L,speakers:g,channel:a,isStreamLive:O},"speaker-header-".concat(t)):t===Lr.AUDIENCE?0===y?null:(0,r.jsx)(xr,{participantCount:y,label:ie.Z.Messages.AUDIENCE_LABEL,className:Tr().header,onClick:function(){return U(!k)},collapsed:k,channel:a},"audience-header-".concat(t)):null},
sectionHeight:function(e){return 48},renderRow:function(e){var t=e.section,n=e.row,i=w[t][n];if(null==(null==i?void 0:i.length))return null;switch(t){case Lr.SELECTED:return 0===i.length||null==i[0]?null:(0,r.jsx)("div",{className:Tr().focusedRow,children:(0,r.jsx)(lr,{channel:a,participant:i[0],width:N})},"selected-participant");case Lr.SPEAKER:return L?null:(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(sr,{tileWidth:A,channel:a,participants:i,selectedParticipant:b})},"speakers-".concat(t,"-").concat(n));case Lr.AUDIENCE:return k?null:(0,r.jsx)(On,{channel:a,participants:i,maxTiles:E},"audience-".concat(t,"-").concat(n));default:return null}},rowHeight:function(e){return null==w[e][Lr.SELECTED]?0:e===Lr.SELECTED?N/or+8:e===Lr.SPEAKER?L?0:T:k?0:98},renderFooter:function(e){var t=e.section;return M(t)?(0,r.jsx)("div",{className:Tr().spacer},"bottom-spacer"):null},footerHeight:function(e){return e===Lr.SPEAKER?8:e===Lr.SELECTED?12:M(e)?88:0},className:Tr().scroller,chunkSize:60,onScroll:u})
}));var Br=n(666305),Fr=n(496388),Gr=n(668269),Hr=n(866926),Vr=n(269300),Wr=n(311569),zr=n(194026);function Yr(e){var t=e.className,n=e.channel,o=e.highlight,i=(0,b.bp)();return(0,r.jsx)(zr.Z,{highlight:null!=o&&o,className:t,icon:(0,r.jsx)(pe.Z,{height:20,width:20}),color:ze.Z.unsafe_rawColors.GREEN_360.css,title:ie.Z.Messages.STAGE_CHANNEL_START_TITLE,description:ie.Z.Messages.STAGE_CHANNEL_START_SUBTITLE,onClick:function(){(0,At.T)(n,i)}})}var Kr=n(700183),qr=n(199047),Xr=n(708258),Qr=n(259099),Jr=n(79987),$r=n(718637),eo=n(289261),to=n(65200),no=n(759864),ro=n(473903),oo=n(164760),io=n(419348),ao=n(127661),lo=n(633878);function uo(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function co(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function so(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fo(e){var t=e.width,n=void 0===t?22:t,o=e.height,i=void 0===o?20:o,a=e.color,l=void 0===a?"currentColor":a,u=so(e,["width","height","color"]);return(0,r.jsxs)("svg",co(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uo(e,t,n[t])}))}return e}({},(0,lo.Z)(u)),{width:n,height:i,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M15.9829 8.45685C16.4834 8.9082 17.0602 9.27649 17.6918 9.53992C17.1979 10.7194 16.1545 11.6141 14.8834 11.9017C14.8022 11.8683 14.7203 11.8358 14.6378 11.8041C15.3982 10.8785 15.8873 9.72192 15.9829 8.45685Z",fill:l}),(0,r.jsx)("path",{d:"M14 8C14 10.205 12.206 12 10 12C7.79501 12 6 10.205 6 8C6 5.79498 7.79401 4 10 4C12.206 4 14 5.79498 14 8Z",fill:l}),(0,r.jsx)("path",{d:"M2 19C2 15.467 5.29001 13 10 13C14.711 13 18 15.467 18 19V20H2V19Z",fill:l}),(0,r.jsx)("path",{d:"M22.0001 20H20.0001V19C20.0001 16.7999 19.0621 14.9067 17.5213 13.5292C20.2697 14.4355 22.0001 16.4374 22.0001 19V20Z",fill:l}),(0,r.jsx)("path",{d:"M-439.135 -677.865L-436.999 -675.729H-442V-674.271H-436.999L-439.135 -672.135L-438 -671L-434 -675L-438 -679L-439.135 -677.865Z",fill:l}),(0,r.jsx)("path",{
d:"M-446 -677C-445.566 -677 -445.153 -676.908 -444.781 -676.743C-444.924 -676.186 -445 -675.602 -445 -675C-445 -673.096 -444.24 -671.37 -443.007 -670.108L-443.01 -668C-443.01 -666.34 -444.34 -665 -446 -665C-447.66 -665 -449 -666.34 -449 -668V-674C-449 -675.66 -447.66 -677 -446 -677Z",fill:l}),(0,r.jsx)("path",{d:"M-446 -662.9C-443.24 -662.9 -440.7 -665 -440.7 -668H-439C-439 -664.58 -441.72 -661.76 -445 -661.28V-657H-447V-661.28C-450.28 -661.77 -453 -664.59 -453 -668H-451.3C-451.3 -665 -448.76 -662.9 -446 -662.9Z",fill:l}),(0,r.jsx)("path",{d:"M22.8648 2.86484L20.7293 5.00126L20.7293 -1.42968e-07L19.2707 -2.06723e-07L19.2707 5.00126L17.1352 2.86484L16 4L20 8L24 4L22.8648 2.86484Z",fill:l})]}))}var po=n(161482),ho=n(102770),yo=n(672522),bo=n(137390),mo=n(130166),vo=n(519718);function go(e){var t=(0,f.e7)([N.default],(function(){return N.default.getId()}));return(0,le.ZP)(t,e)===le.xO.ON_STAGE}var Oo=n(455771);function Eo(e,t){(null==t||t>e.length)&&(t=e.length)
;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e){var t=(0,f.e7)([N.default],(function(){
return N.default.getId()})),n=(0,le.ZP)(t,e.id),r=n===le.xO.REQUESTED_TO_SPEAK||n===le.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK,i=Co(o.useState(r),2),a=i[0],l=i[1];o.useEffect((function(){l(r)}),[r]);return[a,function(){n===le.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK?(0,re.RK)(e,!0):(0,re.Q1)(e,!a);l(!a)}]}var jo=n(828927),_o=n.n(jo);function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e){var t=e.channel,n=e.appContext;(0,vo.Z)(t)?(0,At.Us)(t,n):Le.default.disconnect()}function xo(e,t){return e?ie.Z.Messages.AUDIENCE_LOWER_HAND:t?ie.Z.Messages.AUDIENCE_RAISE_HAND_CTA:ie.Z.Messages.AUDIENCE_RAISE_HAND_NO_PERMISSION}function Ao(e){var t=e.channel,n=go(t.id),o=wo(So(t),2),i=o[0],a=o[1],l=(0,f.e7)([L.Z],(function(){return L.Z.can(se.Plq.REQUEST_TO_SPEAK,t)}));return n?null:(0,r.jsx)(yt.d,{isActive:i,label:xo(i,l),iconComponent:function(){return(0,r.jsx)(te.Z,{className:i?_o().raisedHandButtonIconActive:_o().raisedHandButtonIcon})},onClick:a,className:_o().buttonSpacing,disabled:!l&&!i})}
var To=o.memo((function(e){var t=e.channel,n=(0,f.e7)([R.Z],(function(){return R.Z.getVoiceChannelId()===t.id}),[t.id]);return(0,r.jsxs)("div",{className:_o().container,children:[(0,r.jsx)(Lo,{channelId:t.id}),n?(0,r.jsx)(Ao,{channel:t}):null,(0,r.jsx)(Mo,{channel:t})]})}));function No(e){var t=e.onClick;return(0,r.jsx)(p.Button,{size:p.Button.Sizes.MEDIUM,color:_o().primaryButtonColor,className:a()(_o().buttonSpacing,_o().buttonWithTextButton),onClick:t,children:(0,r.jsxs)("div",{className:_o().buttonWithTextInnerContainer,children:[(0,r.jsx)(ee.Z,{height:24,width:24,className:_o().buttonWithTextIcon}),(0,r.jsx)(p.Text,{color:"none",variant:"text-sm/medium",children:ie.Z.Messages.MODERATOR_RAISE_OWN_HAND})]})})}function Mo(e){var t=e.channel,n=e.onSelect,o=(0,b.bp)(),i=(0,Kr.q5)(t).canManageGuildEvent,l=(0,f.e7)([V.Z],(function(){return V.Z.getStageInstanceByChannel(t.id)}),[t.id]),u=(0,f.e7)([Vr.ZP],(function(){
return Vr.ZP.getGuildScheduledEvent(null==l?void 0:l.guild_scheduled_event_id)})),c=(0,f.e7)([R.Z],(function(){return R.Z.getVoiceChannelId()===t.id}),[t.id]),s=(0,Jr.Z)(t).suppress,d=N.default.getId(),h=wo(So(t),1)[0],y=Ln.ZP.isModerator(d,t.id),m=(0,st.B)(t.id),v=i(u);return c?(y||v)&&null!=l?(0,r.jsx)(p.Popout,{renderPopout:function(e){var i=e.closePopout;return(0,r.jsx)(rt.Z,{children:(0,r.jsx)(p.Menu,{navId:"exit-options","aria-label":ie.Z.Messages.SET_STATUS,onClose:i,onSelect:n,children:(0,r.jsx)(p.MenuItem,{id:"end-stage",color:"danger",action:function(){return(0,At.Ev)(t,o)},label:ie.Z.Messages.END_GUILD_EVENT_FOR_EVERYONE,icon:ao.Z})})})},align:"center",position:"top",animation:p.Popout.Animation.FADE,children:function(e,n){var i=e.onClick,a=n.isShown;return(0,r.jsx)(yt.d,{className:_o().buttonSpacing,label:ie.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return(0,r.jsx)(io.Z,{height:24,width:24})},onClick:function(){return Po({channel:t,
appContext:o})},onPopoutClick:i,popoutOpen:a})}}):s&&!m||h?(0,r.jsx)(p.Button,{size:p.Button.Sizes.MEDIUM,color:p.Button.Colors.RED,className:a()(_o().buttonSpacing,_o().buttonWithTextButton),onClick:function(){return Po({channel:t,appContext:o})},children:(0,r.jsxs)("div",{className:_o().buttonWithTextInnerContainer,children:[(0,r.jsx)(io.Z,{height:24,width:24,className:_o().buttonWithTextIcon}),(0,r.jsx)(p.Text,{color:"none",variant:"text-sm/medium",children:ie.Z.Messages.AUDIENCE_DISCONNECT})]})}):(0,r.jsx)(yt.d,{className:_o().buttonSpacing,label:ie.Z.Messages.EXIT_EVENT_STAGE_OPTIONS_LABEL,color:"red",iconComponent:function(){return(0,r.jsx)(io.Z,{height:24,width:24})},onClick:function(){return Po({channel:t,appContext:o})}}):(0,r.jsx)(p.Button,{size:p.Button.Sizes.MEDIUM,color:p.Button.Colors.GREEN,className:a()(_o().buttonSpacing,_o().buttonWithTextButton),onClick:function(){return function(e){(0,F.TM)(e)}(t)},children:(0,r.jsxs)("div",{
className:_o().buttonWithTextInnerContainer,children:[(0,r.jsx)(oo.Z,{height:24,width:24,className:_o().buttonWithTextIcon}),(0,r.jsx)(p.Text,{color:"none",variant:"text-sm/medium",children:ie.Z.Messages.STAGE_CHANNEL_JOIN})]})})}function Zo(e){var t=e.onClick;return(0,r.jsx)(p.Button,{size:p.Button.Sizes.MEDIUM,color:_o().primaryButtonColor,className:a()(_o().buttonSpacing,_o().buttonWithTextButton),onClick:t,children:(0,r.jsxs)("div",{className:_o().buttonWithTextInnerContainer,children:[(0,r.jsx)(fo,{height:24,width:24,className:_o().buttonWithTextIcon}),(0,r.jsx)(p.Text,{color:"none",variant:"text-sm/medium",children:ie.Z.Messages.MOVE_ME_TO_AUDIENCE})]})})}function Lo(e){var t=e.channelId,n=(0,f.e7)([mo.Z],(function(){return mo.Z.isMuted()})),o=(0,bo.pp)(t),i=(0,f.e7)([mo.Z],(function(){return mo.Z.shouldPlay()}));return o?(0,r.jsx)(yt.d,{isActive:n,className:_o().buttonSpacing,label:n?ie.Z.Messages.STAGE_MUSIC_UNMUTE:ie.Z.Messages.STAGE_MUSIC_MUTE,iconComponent:function(){
return n?(0,r.jsx)(ho.Z,{height:24,width:24}):(0,r.jsx)(po.Z,{height:24,width:24})},onClick:function(){return(0,yo.v)(!n)}}):(0,r.jsx)(yt.d,{isActive:i,className:_o().buttonSpacing,label:i?ie.Z.Messages.STAGE_MUSIC_MUTE:ie.Z.Messages.STAGE_MUSIC_UNMUTE,iconComponent:function(){return i?(0,r.jsx)(po.Z,{height:24,width:24}):(0,r.jsx)(ho.Z,{height:24,width:24})},onClick:function(){return(0,yo.z)(!i)}})}var Ro=o.memo((function(e){var t=e.channel,n=(0,Jr.Z)(t),o=n.suppress,i=n.selfMute,l=n.mute,u=(0,st.B)(t.id),c=(0,f.e7)([xn.Z],(function(){return null!=xn.Z.getAwaitingRemoteSessionInfo()})),s=(0,qr.Z)(),d=s.cameraUnavailable,h=s.enabled,y=(0,Qr.Z)(t),b=(0,Xr.Z)(t),v=b.limit,g=b.reachedLimit,O=(0,f.e7)([ro.default],(function(){return ro.default.getCurrentUser()})),E=(0,f.e7)([Rn.Z],(function(){return(0,Hr.Z)(Rn.Z)})),C=(0,f.e7)([R.Z],(function(){return R.Z.getVoiceChannelId()===t.id}),[t.id]),S=(0,f.e7)([m.Z],(function(){return m.Z.getStreamParticipants(t.id)[0]}),[t.id]),j=(0,
dt.PK)(t.id),_=v>0,I=g&&!j||null!=S&&S.user.id!==(null==O?void 0:O.id);if(null==O)return null;var w=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(rt.Z,{children:(0,r.jsx)(Fr.Z,{onClose:t})})},position:"top",align:"center",animation:p.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(no.C,{centerButton:!0,hasPermission:y,enabled:h,cameraUnavailable:d,onChange:$r.r,onCameraUnavailable:eo.Z,channelLimitReached:g,channelLimit:v,popoutOpen:o,onPopoutClick:n})}}),(0,r.jsx)($r.NZ,{channel:t,currentUser:O,exitFullScreen:function(){return null},canGoLive:E,hasPermission:y,disabled:I})]});return(0,r.jsxs)("div",{className:_o().container,children:[(0,r.jsx)(Lo,{channelId:t.id}),C&&(0,r.jsx)(Ao,{channel:t}),C&&!o?(0,r.jsxs)("div",{className:a()(_o().avControls,_o().buttonSpacing),children:[_&&v>0&&w,(0,r.jsx)(p.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(rt.Z,{
children:(0,r.jsx)(Br.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0})})},align:"center",position:"top",animation:p.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,a=t.isShown;return(0,r.jsx)(to.Z,{centerButton:!0,onPopoutClick:n,selfMute:i,serverMute:l,suppress:o,popoutOpen:a,onClick:function(){return(0,Gr.Z)(l,o)},awaitingRemote:c})}})]}):null,C&&u&&o&&(0,r.jsx)(No,{onClick:function(){return(0,re.RK)(t,!1)}}),C&&!o&&(0,r.jsx)(Zo,{onClick:function(){return(0,re.yi)(t)}}),(0,r.jsx)(Mo,{channel:t})]})}));function Do(e){var t=e.channel;return(0,r.jsxs)("div",{className:_o().container,children:[(0,r.jsx)(Lo,{channelId:t.id}),(0,r.jsx)(Mo,{channel:t})]})}const ko=o.memo((function(e){var t=e.channel,n=e.isOnStartStageScreen,o=go(t.id),i=(0,st.B)(t.id),a=(0,f.e7)([L.Z],(function(){return L.Z.can(ft.yP,t)}),[t]),l=(0,Oo.Z)(t.id),u=(0,f.e7)([m.Z],(function(){return null!=t?m.Z.getSelectedParticipant(t.id):null})),c=!l&&null==u;return n?(0,r.jsx)(Do,{channel:t
}):o||i?(0,r.jsxs)("div",{className:_o().containerColumn,children:[(0,r.jsxs)("div",{className:_o().eventPrompts,children:[c?(0,r.jsx)(Wr.Z,{channelId:null==t?void 0:t.id}):null,(0,r.jsx)("div",{className:_o().separator}),c&&a?(0,r.jsx)(Yr,{highlight:!0,channel:t}):null,(0,r.jsx)("div",{className:_o().separator})]}),(0,r.jsx)(Ro,{channel:t})]}):(0,r.jsx)(To,{channel:t})}));var Uo=n(570202),Bo=n(360703);function Fo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function Go(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fo(i,r,o,a,l,"next",e)}function l(e){Fo(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ho(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Vo(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Wo=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function zo(e){var t=e.className,o=e.guildId,i=(0,Bo.Z)();return(0,r.jsx)(zr.Z,{className:t,icon:(0,r.jsx)(Uo.Z,{height:20,width:20}),color:ze.Z.unsafe_rawColors.BRAND_500.css,title:ie.Z.Messages.SCHEDULE_EVENT,description:ie.Z.Messages.SCHEDULE_EVENT_DESCRIPTION,onClick:function(){(0,p.openModalLazy)(Go((function(){var e,t;return Wo(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(40706),n.e(3328),n.e(49607)]).then(n.bind(n,41380))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Vo(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ho(e,t,n[t])}))}return e}({},e),{guildId:o}))}]}}))})),i)}})}var Yo=n(96606);function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=qo((0,f.e7)([zt.Z],(function(){var n=zt.Z.getMutableParticipants(e).filter((function(e){return e.type===H.Ui.VOICE})),r=[],o=!0,i=!1,a=void 0;try{for(var l,u=function(){var e=l.value;if(r.length>=t)return"break";if(null!=r.find((function(t){return t.id===e.user.id})))return"continue";r.push(e.user)},c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){if("break"===u())break}}catch(e){i=!0;a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return[{participants:n,usersInSummary:r},zt.Z.getParticipantsVersion(e)]}),[e,t],Jt.Q),1),r=n[0];return r}var Qo=n(425777),Jo=n.n(Qo)
;function $o(e){var t=e.onClick;return(0,r.jsx)(zr.Z,{iconContainerClassName:Jo().continueIconContainer,icon:(0,r.jsx)(pe.Z,{className:Jo().continueIcon,height:20,width:20}),color:ze.Z.unsafe_rawColors.PRIMARY_700.css,title:ie.Z.Messages.STAGE_CONTINUE_PROMPT_TITLE,description:ie.Z.Messages.STAGE_CONTINUE_PROMPT_SUBTITLE,onClick:t})}function ei(e){if(0===e.length)return"";if(1===e.length)return ie.Z.Messages.STAGE_AUDIENCE_WAITING_ONE.format({first:e[0].userNick});if(2===e.length)return ie.Z.Messages.STAGE_AUDIENCE_WAITING_TWO.format({first:e[0].userNick,second:e[1].userNick});var t=e.length-2;return ie.Z.Messages.STAGE_AUDIENCE_WAITING_MANY.format({first:e[0].userNick,second:e[1].userNick,numOthers:t})}function ti(e){var t=e.channel,n=Xo(t.id),o=n.participants,i=n.usersInSummary;return(0,r.jsxs)("div",{className:Jo().audienceSummary,children:[(0,r.jsx)(Yo.Z,{className:Jo().summaryItem,guildId:t.guild_id,users:i,size:Yo.u.SIZE_16}),(0,r.jsx)(p.Text,{variant:"text-sm/normal",
color:"header-secondary",children:ei(o)})]})}function ni(e){var t=e.channel,n=e.onContinueClick,o=(0,f.e7)([L.Z],(function(){return L.Z.can(ft.yP,t)}),[t]),i=t.guild_id,a=(0,Kr.q5)(t).canCreateGuildEvent,l=(0,Oo.Z)(t.id),u=Xo(t.id).usersInSummary;return(0,r.jsxs)("div",{children:[(0,r.jsx)(he.Z,{children:(0,r.jsx)("div",{className:Jo().iconBackground,children:(0,r.jsx)(pe.Z,{width:40,height:40,className:Jo().icon})})}),(0,r.jsxs)("div",{className:Jo().headerContainer,children:[(0,r.jsx)(p.Heading,{className:Jo().title,variant:"heading-xl/semibold",children:ie.Z.Messages.STAGE_START_PROMPT_TITLE_MODERATOR}),(0,r.jsx)(p.Text,{className:Jo().subtitle,variant:"text-sm/normal",children:ie.Z.Messages.STAGE_START_PROMPT_SUBTITLE})]}),l?null:(0,r.jsx)(Wr.Z,{channelId:t.id}),o?(0,r.jsx)(Yr,{className:Jo().eventPrompt,channel:t}):null,a?(0,r.jsx)(zo,{className:Jo().eventPrompt,guildId:i}):null,(o||u.length>0)&&(0,r.jsx)("hr",{className:Jo().separator}),o?(0,r.jsx)($o,{onClick:n}):null,(0,
r.jsx)(ti,{channel:t})]})}var ri=n(396043),oi=n(987152),ii=n(930948),ai=n(202181),li=n(830987),ui=n.n(li);function ci(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function si(e){var t=e.channel,n=e.appContext,i=e.popoutOpen,a=e.popoutWindow,l=e.currentWindow,u=n===se.IlC.POPOUT,c=o.useRef(null),s=(0,f.cj)([m.Z],(function(){var e=m.Z.getMode(t.id),r=n===se.IlC.POPOUT;r&&(e=se.WtW.VIDEO);var o=e===se.WtW.VIDEO?m.Z.getLayout(t.id,n):se.AEg.MINIMUM;r&&o!==se.AEg.FULL_SCREEN&&(o=se.AEg.NO_CHAT);return{currentLayout:o,mode:e}}),[t,n]),d=s.currentLayout,p=s.mode,y=(0,f.e7)([R.Z],(function(){return R.Z.getVoiceChannelId()===t.id}),[t.id]);o.useEffect((function(){c.current=p}));var b=o.useRef(d),v=o.useMemo((function(){var e=null!=a&&u?a.document:document,t=l.document.getElementById("app-mount");return{currentWindow:l,currentDocument:e,rootNode:t}
}),[a,u,l]),g=v.currentDocument,O=v.rootNode,E=i&&!u,S=p===se.WtW.VIDEO&&y&&!E,j=o.useCallback((function(e,r){if(r!==e){Ye.Z.updateLayout(t.id,r,n);r===se.AEg.FULL_SCREEN&&t.isPrivate()&&ii.S.dispatch(se.CkL.TEXTAREA_BLUR)}}),[n,t]),_=o.useCallback((function(e){if(null!=O&&e===se.AEg.FULL_SCREEN){j(e,b.current);(0,ai.Pr)((function(e){b.current=e}),g)}}),[g,j,O]),I=o.useCallback((function(e){return function(){if(null!=O)if(e!==se.AEg.FULL_SCREEN){b.current=e;j(e,se.AEg.FULL_SCREEN);(0,ai.Dj)(O)}else _(e)}}),[j,_,O]);o.useEffect((function(){var e=function(){null!=O&&((0,ai.rB)(O,g)||d!==se.AEg.FULL_SCREEN||I(d)())};g.addEventListener(ai.NO,e);return function(){g.removeEventListener(ai.NO,e)}}),[g,d,I,O]);o.useEffect((function(){ct.default.track(se.rMx.VIDEO_LAYOUT_TOGGLED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ci(e,t,n[t])}))}return e}({video_layout:u?"popout":d},(0,ri.AB)(t.id)));return function(){u&&(0,k.id)()||_(d)}}),[d,u]);o.useEffect((function(){null!=O&&c.current===se.WtW.VIDEO&&p===se.WtW.VOICE&&(0,ai.Pr)(O,g)}),[g,p,c,O]);o.useEffect((function(){!y&&u&&h.Z.wait((function(){return C.xv(se.KJ3.CHANNEL_CALL_POPOUT)}))}),[y,u]);return S?(0,r.jsx)(oi.Z,{themeable:!1,node:O,guestWindow:a,className:ui().rightTrayIcon,onClick:I(d)}):null}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function pi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){di(i,r,o,a,l,"next",e)}function l(e){di(i,r,o,a,l,"throw",e)}a(void 0)}))}}function hi(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bi=function(e,t){var n,r,o,i,a={label:0,
sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{
value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},mi="HasBeenInStageChannel",vi=function(e,t){return function(){var n=e.getGuildId();null!=n&&null!=t&&(0,j.XU)(n,t);C.hP(e)}},gi=function(){h.Z.wait((function(){return C.xv(se.KJ3.CHANNEL_CALL_POPOUT)}))},Oi=function(e){C.hY(se.KJ3.CHANNEL_CALL_POPOUT,e)};function Ei(e){var t=e.channel,n=e.appContext,i=e.popoutOpen,a=e.popoutWindow,l=e.popoutWindowAlwaysOnTop,u=e.selectedParticipant,c=t.getGuildId(),s=(0,f.e7)([R.Z],(function(){return R.Z.getMostRecentSelectedTextChannelId(c)}),[c]),d=N.default.getId(),p=!(0,f.e7)([m.Z],(function(){return m.Z.isFullscreenInContext(n)}))&&(!k.FB||k.FB&&B.default.supportsFeature(se.eRX.POPOUT_WINDOWS)),h=null!=u&&u.type!==Tt.fO.ACTIVITY&&u.user.id!==d,y=o.useMemo((function(){var e;return null!==(e=null==a?void 0:a.window)&&void 0!==e?e:window}),[a]),b=si({channel:t,appContext:n,popoutOpen:i,popoutWindow:a,currentWindow:y}),g=n===se.IlC.POPOUT&&k.FB&&B.default.supportsFeature(se.eRX.POPOUT_WINDOWS);return(0,
r.jsxs)(r.Fragment,{children:[h?(0,r.jsx)(A.Z,{context:(0,v.Z)(u.type),userId:u.user.id,currentWindow:y,sliderClassName:ui().volumeSlider}):null,g?(0,r.jsx)(x.Z,{className:ui().rightTrayIcon,popoutWindowAlwaysOnTop:l,onToggleStayOnTop:Oi}):null,p?(0,r.jsx)(P.Z,{className:ui().rightTrayIcon,popoutOpen:i,onOpenPopout:vi(t,s),onClosePopout:gi}):null,b]})}function Ci(e){var t=e.channel,n=(0,b.bp)(),o=(0,f.e7)([L.Z],(function(){return L.Z.can(se.Plq.CREATE_INSTANT_INVITE,t)})),i=(0,f.e7)([Z.Z],(function(){return Z.Z.getGuild(t.guild_id)})),a=(0,f.e7)([V.Z],(function(){return V.Z.getStageInstanceByChannel(t.id)})),l=o||null!=(null==a?void 0:a.invite_code);return null!=i&&l?(0,r.jsx)(_.Z,{channel:t,appContext:n,className:ui().leftTrayIcon,analyticsLocation:se.ZY5.GUILD_CHANNEL}):null}function Si(e){var t=e.channel,n=e.toggleRequestToSpeakSidebar,i=e.showRequestToSpeakSidebar,l=e.popoutWindow,d=e.popoutWindowAlwaysOnTop,p=e.popoutOpen,h=e.textInStageEnabled,y=e.chatOpen,v=(0,b.bp)(),O=(0,
f.e7)([R.Z],(function(){return R.Z.getVoiceChannelId()===t.id}),[t.id]),C=(0,f.e7)([L.Z],(function(){return L.Z.can(se.Plq.CONNECT,t)})),S=(0,G.w8)(t.id,H.pV.SPEAKER),j=(0,f.e7)([m.Z],(function(){return m.Z.getSelectedParticipant(t.id)})),_=p&&v!==se.IlC.POPOUT,P=yi(o.useState(0),2),x=P[0],A=P[1],T=(0,W.ZP)().isOnStartStageScreen;(0,W.MV)(t);var N,Z=(0,f.e7)([M.Z],(function(){return M.Z.getToastsEnabled(t.id)})),k=Lt(t)?null!=j?"84px":"124px":null!=j?"0px":"48px";o.useEffect((function(){h||O||!p||gi()}),[h,p,O]);if(!h&&!O&&!p){var U=(0,E.e)(t),B=t.getGuildId();u()(null!=B,"Guild voice channel without guild id.");return(0,r.jsx)(s.l_,{to:(0,D.LY)(null!=U?U:B)})}N=T?(0,r.jsx)(ni,{channel:t,onContinueClick:function(){(0,W.Ku)(!1);O||(0,F.TM)(t)}}):O?(0,r.jsx)(Ur,{channel:t,onScroll:function(e){var t=e.target.scrollTop;(0,c.debounce)((function(){return A(t)}),1e3,{leading:!0})()}}):(0,r.jsx)(We,{participants:S,channel:t,hasConnectPermission:C});return(0,r.jsx)(w.Z,{style:{
height:"calc(100% - ".concat(k,")"),paddingTop:k},disableGradients:0===x&&w.e.TOP,renderBottomLeft:function(){return(0,r.jsx)(Ci,{channel:t})},renderBottomCenter:function(){return O?(0,r.jsx)(ko,{channel:t,isOnStartStageScreen:T}):null},renderBottomRight:function(){return O?(0,r.jsx)(Ei,{channel:t,appContext:v,popoutOpen:p,popoutWindow:l,popoutWindowAlwaysOnTop:d,selectedParticipant:j}):null},renderHeader:function(){return(0,r.jsx)(Ht,{toggleRequestToSpeakSidebar:n,showRequestToSpeakSidebar:i,channel:t})},renderChatToasts:h?function(){return!h||!Z||y||_?null:(0,r.jsx)(g.ZP,{children:(0,r.jsx)(I.Z,{className:a()(ui().chatToasts,hi({},ui().rtsSidebarOpen,i)),channelId:t.id})})}:void 0,onActive:function(){},onPreventIdle:function(){},onAllowIdle:function(){},onForceIdle:function(){},screenMessage:_?{mainText:ie.Z.Messages.POPOUT_PLAYER_OPENED}:null,idle:!1,children:!_&&N})}function ji(e){var t=e.channel,i=yi(o.useState(!1),2),l=i[0],u=i[1],c=o.useCallback((function(){u(!l)}),[l,u]),s=(0,
f.cj)([S.Z],(function(){return{popoutWindow:S.Z.getWindow(se.KJ3.CHANNEL_CALL_POPOUT),popoutWindowAlwaysOnTop:S.Z.getIsAlwaysOnTop(se.KJ3.CHANNEL_CALL_POPOUT)}})),h=s.popoutWindow,v=s.popoutWindowAlwaysOnTop,E=null!=h&&!h.closed,C=(0,b.bp)(),j=(0,f.e7)([m.Z],(function(){return m.Z.getChatOpen(t.id)}),[t.id]),_=(0,f.e7)([Z.Z],(function(){return Z.Z.getGuild(t.guild_id)}),[t.guild_id]),I=(0,T.Vy)(t.guild_id);o.useEffect((function(){if(null==d.Z.get(mi)){(0,p.openModalLazy)(pi((function(){var e,t;return bi(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(14372)]).then(n.bind(n,714372))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
hi(e,t,n[t])}))}return e}({},e))}]}}))})));d.Z.set(mi,Date.now())}}),[]);var w,P=(0,y.Z)(),x=P.width,A=void 0===x?0:x,N=P.ref,M=A-550;return(0,r.jsxs)(g.B2,{children:[(0,r.jsxs)("div",{className:ui().container,ref:N,children:[(0,r.jsx)("div",{className:a()(ui().callContainer,(0,U.Q)(se.BRd.DARK),(w={},hi(w,ui().sidebarVisible,l),hi(w,ui().sidebarOrChatVisible,l||I&&j),w)),children:(0,r.jsx)(Si,{channel:t,toggleRequestToSpeakSidebar:c,showRequestToSpeakSidebar:l,popoutWindow:h,popoutWindowAlwaysOnTop:v,popoutOpen:E,textInStageEnabled:I,chatOpen:j})}),l?(0,r.jsx)(Ze,{channel:t,toggleRequestToSpeakSidebar:c,chatOpen:I&&j}):null,(0,r.jsx)("div",{className:ui().channelChatWrapper,children:I&&j&&(!E||E&&C===se.IlC.POPOUT)&&(0,r.jsx)(O.Z,{channel:t,guild:_,maxWidth:M})})]}),(0,r.jsx)(g.H_,{})]})}},461908:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(349491)),i=n(289450),a=n.n(i);const l=function(e){var t=e.size;return(0,r.jsx)("div",{
className:a().unownedStickerLockContainer,style:{width:t,height:t},children:(0,r.jsx)(o.Z,{width:12,height:12,className:a().unownedStickerLockIcon})})}},965196:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(712861),c=n(945460),s=n(971402),f=n(579581),d=n(933850),p=n(652591),h=n(748755),y=n(514351),b=n(513586),m=n(600277),v=n(461908),g=n(2590),O=n(473708),E=n(859167),C=n.n(E);function S(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}function w(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function P(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var x=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},A=(0,u.Mg)(C().stickerPickerPreviewDimensions),T=(0,u.Mg)(C().stickerPickerPreviewPadding);const N=o.memo((function(e){var t=e.isDisplayingIndividualStickers,i=void 0!==t&&t,u=e.preferAnimation,E=void 0===u||u,S=e.getStickerItemProps,N=e.getStickerRowProps,M=e.gutterWidth,Z=e.inspectedStickerPosition,L=e.isScrolling,R=e.isUsingKeyboardNavigation,D=e.onInspect,k=e.onSelect,U=e.rowIndex,B=e.stickerClassName,F=e.stickerDescriptors,G=e.stickerPadding,H=void 0===G?T:G,V=e.stickerSize,W=void 0===V?A:V,z=e.ownedStickerPacks,Y=e.enlargeOnInteraction,K=void 0!==Y&&Y,q=e.channel,X=e.currentUser,Q=e.checkSendability,J=void 0===Q||Q,$=(0,f.O)().location,ee=W+2*H,te=o.useMemo((function(){return{gridColumnGap:M,gridTemplateColumns:"repeat(auto-fill, ".concat(ee,"px)"),height:ee,paddingRight:i?void 0:ee}}),[i,M,ee]),ne=o.useMemo((function(){
return{width:W,height:W,padding:H}}),[H,W]);return(0,r.jsx)("div",w(I({className:C().row,style:te},null==N?void 0:N(U)),{children:F.map((function(e){var t,u=e.visibleRowIndex===(null==Z?void 0:Z.rowIndex)&&e.columnIndex===(null==Z?void 0:Z.columnIndex),f=e.type===y.al.STICKER&&K&&u,A=(0,l.throttle)((function(){!0===(null==L?void 0:L.current)||!0===(null==R?void 0:R.current)||u||null==D||D(e)}),250),T=null!==(t=null==S?void 0:S(e.columnIndex,U))&&void 0!==t?t:{},N=T.ref,M=T.tabIndex,F=T.onFocus,G=P(T,["ref","tabIndex","onFocus"]);switch(e.type){case y.al.CREATE_STICKER:return(0,r.jsx)("div",w(I({},G),{children:(0,r.jsxs)(c.Clickable,{"aria-label":e.name,className:a()(C().createSticker,B,_({},C().createInspected,u)),innerRef:N,tabIndex:M,onFocus:null!=F?F:A,onMouseMove:A,onClick:function(){if(e.type===y.al.CREATE_STICKER){p.default.track(g.rMx.OPEN_MODAL,{type:g.jXE.CREATE_STICKER_MODAL,location:$});(0,c.openModalLazy)(j((function(){var t,o;return x(this,(function(i){switch(i.label){
case 0:return[4,Promise.all([n.e(40532),n.e(56729)]).then(n.bind(n,856729))];case 1:t=i.sent(),o=t.default;return[2,function(t){return(0,r.jsx)(o,I({guildId:e.guild_id},t))}]}}))})))}},style:ne,children:[!K&&(0,r.jsx)("div",{className:C().inspectedIndicator}),(0,r.jsx)("div",{className:C().iconWrapper,children:(0,r.jsx)(d.Z,{className:C().icon})}),(0,r.jsx)(c.Text,{color:"interactive-active",variant:"text-xs/normal",children:O.Z.Messages.STICKER_PICKER_CREATE_STICKER})]})}),e.guild_id);case y.al.STICKER:var H,V=i&&null!=z&&(0,b.jl)(e.sticker)&&!z.has(e.sticker.pack_id);return(0,o.createElement)("div",w(I({},G),{key:e.sticker.id}),(0,r.jsxs)(c.Clickable,{className:a()(C().sticker,B,_({},C().stickerInspected,u)),innerRef:N,tabIndex:M,onFocus:null!=F?F:A,onMouseMove:A,onClick:function(t){!0!==(null==L?void 0:L.current)&&!0!==(null==R?void 0:R.current)&&(null==k||k(e,t))},onContextMenu:function(e){(0,s.jW)(e,j((function(){var e,t;return x(this,(function(o){switch(o.label){case 0:
return[4,n.e(96938).then(n.bind(n,96938))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,I({},e))}]}}))})))},style:ne,"data-type":"sticker","data-id":e.sticker.id,children:[(0,r.jsx)(c.HiddenVisually,{children:(0,m.Co)(e.sticker)}),(0,r.jsxs)("div",{"aria-hidden":!0,children:[!K&&(0,r.jsx)("div",{className:C().inspectedIndicator}),(0,r.jsx)(m.ZP,{className:a()(C().stickerNode,(H={},_(H,C().stickerNodeDimmed,K&&!u&&null!=Z&&-1!==Z.rowIndex&&-1!==Z.columnIndex),_(H,C().stickerNodeHidden,f),_(H,C().stickerUnsendable,J&&!(0,h.kl)(e.sticker,X,q)),H)),disableAnimation:!u&&!E,enlargeOnInteraction:K,isInteracting:u,maskAsset:u,sticker:e.sticker,size:W}),V?(0,r.jsx)(v.Z,{size:20}):null]})]}))}}))}))}))},803961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(945460)),i=n(652591),a=n(2590);function l(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){
var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,u,"next",e)}function u(e){l(i,r,o,a,u,"throw",e)}a(void 0)}))}}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,
o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function f(e){i.default.track(a.rMx.OPEN_MODAL,{type:a.jXE.STICKER_PREMIUM_TIER_2_UPSELL_MODAL,location:e});(0,o.openModalLazy)(u((function(){var e,t;return s(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(11600)]).then(n.bind(n,811600))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){c(e,t,n[t])}))}return e}({},e))}]}}))})))}},289903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,Q:()=>i});var r=(0,n(260561).B)({kind:"user",id:"2022-07_system_dm_safety_onboarding",label:"System DM Safety Onboarding",defaultConfig:{systemDMRedesignEnabled:!1},treatments:[{id:1,label:"Enabled, v1 copy",config:{systemDMRedesignEnabled:!0}},{id:2,label:"Enabled, v2 copy",config:{systemDMRedesignEnabled:!0}}]});const o=r;function i(){return r.getCurrentConfig({},{autoTrackExposure:!1}).systemDMRedesignEnabled}},29975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(496486),o=n.n(r),i=n(842227),a=n(202351),l=n(744564),u=n(61209),c=n(21372),s=n(512291),f=n(491260),d=n(436154),p=n(473903),h=n(72580),y=n(563135),b=n(749565),m=n(2590);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){
O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function E(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var I={},w=function(){function e(t,n,r){g(this,e);this.guildId=t;this.parentId=n;this.threadId=r;this.version=0;this.sections={};this.allUserIds=new Set}
var t=e.prototype;t.rebuild=function(e){var t=this;this.version++;this.sections={};null!=e&&(this.allUserIds=new Set(e));var n=u.Z.getChannel(this.parentId);o()(Array.from(this.allUserIds)).map((function(e){var r=S(t.calculateNewState(e,n),3);return{userId:e,sectionId:r[0],displayName:r[1],canViewChannel:r[2]}})).sort((function(e,t){return i.default.compare(e.userId,t.userId)})).sortBy((function(e){return e.displayName})).forEach((function(e){t.addUser(e.userId,e.sectionId,e.displayName,e.canViewChannel,!0)}))};t.updateMultipleUserIds=function(e,t){var n=this;if(null!=t&&this.guildId!==t)return!1;if(0===(e=e.filter((function(e){return n.allUserIds.has(e)}))).length)return!1;e.length>50?this.rebuild():e.forEach((function(e){return n.updateUserId(e)}));return!0};t.updateUserId=function(e){if(!this.allUserIds.has(e))return!1;var t=S(this.findOldState(e),3),n=t[0],r=t[1],o=t[2],i=S(this.calculateNewState(e,u.Z.getChannel(this.parentId)),3),a=i[0],l=i[1],c=i[2]
;if(n===a&&r===l&&o===c)return!1;this.removeUserId(e,n);this.addUser(e,a,l,c);return!0};t.addUserId=function(e){var t=S(this.calculateNewState(e,u.Z.getChannel(this.parentId)),3),n=t[0],r=t[1],o=t[2];this.addUser(e,n,r,o)};t.removeUserId=function(e,t){this.allUserIds.delete(e);if(null!=t&&this.removeUserIdFromSection(e,t))return!0;for(var n in this.sections)if(this.removeUserIdFromSection(e,n))return!0;return!1};t.addUser=function(e,t,n,r,o){this.allUserIds.add(e);var i=p.default.getUser(e);if(null!=i&&""!==i.username){t in this.sections||(this.sections[t]={sectionId:t,usersById:{},userIds:[]});var a=this.sections[t];a.usersById[e]={userId:e,displayName:n,canViewChannel:r};if(o)a.userIds.push(e);else{var l=this.findUserIdSortedPosition(a,e,n);a.userIds.splice(l,0,e)}this.version++}};t.findUserIdSortedPosition=function(e,t,n){for(var r=e.userIds,o=e.usersById,i=0;i<r.length;i++){var a=r[i],l=o[a].displayName;if(l===n){if(t<a)return i}else if(null==l){if(null!=n)return i
}else if(null!=n&&n<l)return i}return r.length};t.removeUserIdFromSection=function(e,t){var n=this.sections[t];if(null==t)return!1;if(e in n.usersById){delete n.usersById[e];n.userIds=n.userIds.filter((function(t){return t!==e}));this.version++;return!0}return!1};t.findOldState=function(e){for(var t in this.sections){var n=this.sections[t];if(e in n.usersById){var r=n.usersById[e];return[t,r.displayName,r.canViewChannel]}}return[void 0,void 0,!1]};t.calculateNewState=function(e,t){var n,r,o=c.ZP.getMember(this.guildId,e),i=p.default.getUser(e),a=p.default.getCurrentUser(),l=(null==i?void 0:i.id)===(null==a?void 0:a.id)?d.Z.getStatus():f.Z.getStatus(e,this.guildId),u=null!=i&&null!=t&&y.ZP.can({permission:m.Plq.VIEW_CHANNEL,user:i,context:t}),s=l!==m.Skl.OFFLINE&&l!==m.Skl.INVISIBLE&&l!==m.Skl.UNKNOWN?null!==(n=null==o?void 0:o.hoistRoleId)&&void 0!==n?n:"online":"offline",h=null!==(r=null==o?void 0:o.nick)&&void 0!==r?r:b.ZP.getName(i);return[s,null==h?void 0:h.toLowerCase(),u]}
;return e}();function P(e){return x(e.user.id)}function x(e){if(null==e)return!1;var t=!1;for(var n in I)I[n].updateUserId(e)&&(t=!0);return t}function A(e){var t=e.guildId,n=!1;for(var r in I)if(I[r].guildId===t){I[r].rebuild();n=!0}return n}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}(n,e);var t=_(n);function n(){g(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(u.Z,c.ZP,s.Z,f.Z,d.Z,p.default);this.syncWith([s.Z],(function(){var e=s.Z.getSubscribedThreadIds(),t=!1;for(var n in I)if(!e.has(n)){delete I[n];t=!0}return t}));this.syncWith([d.Z],(function(){var e;return x(null===(e=p.default.getCurrentUser())||void 0===e?void 0:e.id)}))};r.getMemberListVersion=function(e){var t;return null===(t=I[e])||void 0===t?void 0:t.version}
;r.getMemberListSections=function(e){var t;return null===(t=I[e])||void 0===t?void 0:t.sections};r.canUserViewChannel=function(e,t,n){var r,o=I[e];if(null==o)return!1;var i,a=null===(r=o.sections[t])||void 0===r?void 0:r.usersById[n];return null!==(i=null==a?void 0:a.canViewChannel)&&void 0!==i&&i};r.__getLocalVars=function(){return{memberLists:I}};return n}(a.ZP.Store);T.displayName="ThreadMemberListStore";const N=new T(l.Z,{CONNECTION_OPEN:function(){I={}},THREAD_MEMBERS_UPDATE:function(e){if(!(e.id in I))return!1;var t,n;null===(t=e.addedMembers)||void 0===t||t.forEach((function(t){var n=t.userId;return I[e.id].addUserId(n)}));null===(n=e.removedMemberIds)||void 0===n||n.forEach((function(t){return I[e.id].removeUserId(t)}))},THREAD_UPDATE:function(e){var t,n=e.channel;if(!(n.id in I)||!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.archived))return!1;delete I[n.id]},THREAD_DELETE:function(e){var t=e.channel;if(!(t.id in I))return!1;delete I[t.id]},
CHANNEL_UPDATES:function(e){var t=e.channels,n=new Set(t.map((function(e){return e.id}))),r=!1;for(var o in I)if(n.has(I[o].parentId)){I[o].rebuild();r=!0}return r},THREAD_MEMBER_LIST_UPDATE:function(e){var t=e.threadId,n=e.guildId,r=e.members,o=u.Z.getChannel(t),i=null==o?void 0:o.parent_id;if(null!=i){I[t]=new w(n,i,t);I[t].rebuild(r.map((function(e){return e.user_id})))}},USER_UPDATE:P,PRESENCE_UPDATES:function(e){return e.updates.map((function(e){return x(e.user.id)})).some((function(e){return e}))},GUILD_MEMBER_ADD:P,GUILD_MEMBER_UPDATE:P,GUILD_MEMBER_REMOVE:P,PRESENCES_REPLACE:function(e){var t=e.presences,n=o()(t).map((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id})).filter(h.lm).uniq().value(),r=!1;for(var i in I)I[i].updateMultipleUserIds(n)&&(r=!0);return r},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members.map((function(e){return e.user.id})),r=!1;for(var o in I)I[o].updateMultipleUserIds(n,t)&&(r=!0);return r},GUILD_ROLE_UPDATE:A,
GUILD_ROLE_DELETE:A,PASSIVE_UPDATE_V1:function(e){var t;return null===(t=e.members)||void 0===t?void 0:t.reduce((function(e,t){return x(t.user.id)||e}),!1)}})},426012:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(945460),a=n(312682),l=n(105538),u=n(373438),c=n(930948),s=n(665783),f=n(551856),d=n(379364),p=n(2590),h=n(473708),y=n(385919),b=n.n(y);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){var t=e.channel,n=(0,s.B)(t),y=E(o.useState(!1),2),m=y[0],v=y[1];o.useEffect((function(){var e=function(){return v(!0)};c.S.subscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e);return function(){c.S.unsubscribe(p.CkL.OPEN_THREAD_NOTIFICATION_SETTINGS,e)}}),[]);var C=h.Z.Messages.NOTIFICATION_SETTINGS;return(0,r.jsx)(i.Popout,{shouldShow:m,animation:i.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:function(){return v(!1)},renderPopout:function(e){return(0,r.jsx)(f.Z,O(g({},e),{channel:t,navId:"thread-context",label:h.Z.Messages.THREAD_ACTIONS_MENU_LABEL}))},children:function(e,t){var o=t.isShown;return(0,
r.jsx)(u.ZP.Icon,O(g({},e),{onClick:function(){return v((function(e){return!e}))},tooltip:o?null:C,icon:n===d.iN.NO_MESSAGES?l.Z:a.Z,foreground:n===d.iN.NO_MESSAGES?b().strikethrough:null,"aria-label":C,selected:o}))}})}},54282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(785893),o=n(667294),i=n(945460),a=n(281873),l=n(576668),u=n(874710),c=n(103314),s=n(313031),f=n(954814),d=n(839463),p=n(218318),h=n(40111),y=n(579583),b=n(112897),m=n(201521),v=n(451458),g=n(189865),O=n(824456),E=n(186440),C=n(373438),S=n(930948),j=n(426012),_=n(367406),I=n(2590),w=n(473708);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){x(e,t,n[t])}))}return e}function T(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){var t=e.channel,n=function(){u((function(e){return!e}))},a=N(o.useState(!1),2),l=a[0],u=a[1],c=w.Z.Messages.MORE;return(0,r.jsx)(i.Popout,{shouldShow:l,animation:i.Popout.Animation.NONE,position:"bottom",align:"right",autoInvert:!1,onRequestClose:function(){return u(!1)},renderPopout:function(e){return(0,r.jsx)(Z,T(A({},e),{channel:t}))},children:function(e,t){var o=t.isShown;return(0,r.jsx)(C.ZP.Icon,T(A({},e),{onClick:n,
tooltip:o?null:c,icon:E.Z,"aria-label":c,selected:o}))}})}function Z(e){var t=e.channel,n=e.closePopout,o=e.onSelect,m=function(){(0,v.Kh)(t.id)},g=(0,u.Z)(t,"Sidebar Overflow"),E=(0,s.Z)(t),C=(0,p.Z)(t),j=(0,h.Z)(t),_=(0,a.Z)(t),P=(0,c.Z)(t),x=(0,d.Z)(t.id),A=(0,f.Z)(t),T=(0,l.Z)(t),N=(0,b.Z)({id:t.id,label:w.Z.Messages.COPY_ID_THREAD}),M=(0,y.Z)(t);return(0,r.jsxs)(i.Menu,{navId:"thread-context",onClose:n,"aria-label":w.Z.Messages.THREAD_ACTIONS_MENU_LABEL,onSelect:o,children:[(0,r.jsxs)(i.MenuGroup,{children:[g,(0,r.jsx)(i.MenuItem,{id:"open",label:w.Z.Messages.OPEN_IN_FULL_VIEW,action:m})]}),(0,r.jsxs)(i.MenuGroup,{children:[C,j]}),(0,r.jsxs)(i.MenuGroup,{children:[A,E,x]}),(0,r.jsxs)(i.MenuGroup,{children:[(0,r.jsx)(i.MenuItem,{id:"search",label:w.Z.Messages.SEARCH,icon:O.Z,action:function(){m();setTimeout((function(){S.S.dispatch(I.CkL.FOCUS_SEARCH,{prefillCurrentChannel:!1})}),2e3)}}),(0,r.jsx)(i.MenuItem,{id:"pins",label:w.Z.Messages.PINS,icon:O.Z,action:function(){m()
;S.S.dispatch(I.CkL.TOGGLE_CHANNEL_PINS)}})]}),(0,r.jsxs)(i.MenuGroup,{children:[M,_,P,T]}),(0,r.jsx)(i.MenuGroup,{children:N})]})}function L(e){var t=e.channel,n=e.baseChannelId;return(0,r.jsxs)(r.Fragment,{children:[t.isForumPost()?null:(0,r.jsx)(j.Z,{channel:t}),(0,r.jsx)(M,{channel:t}),(0,r.jsx)(C.ZP.Icon,{icon:g.Z,tooltip:w.Z.Messages.CLOSE,onClick:function(){return(0,_.vN)((0,m.e)(t),null!=n?n:t.parent_id)}})]})}},136836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(202351),u=n(744564),c=n(971402),s=n(764079),f=n(341305),d=n(396043),p=n(805907),h=n(773011),y=n(281808),b=n(684412),m=n(451458),v=n(61209),g=n(284610),O=n(567403),E=n(407561),C=n(373438),S=n(54282),j=n(379364),_=n(2590),I=n(473708),w=n(75627),P=n.n(w);function x(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}function T(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T(e,t,n[t])}))}return e}function M(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}
var Z=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function L(e){var t=e.channelId,i=e.baseChannelId,w=e.channelViewSource,x=void 0===w?"Split View":w,T=(0,l.e7)([v.Z],(function(){return v.Z.getChannel(t)})),L=(0,l.e7)([O.Z],(function(){return O.Z.getGuild(null==T?void 0:T.getGuildId())})),R=(0,h.ZP)(T);!function(e){var t=(0,l.e7)([E.Z],(function(){return null!=e&&!a().isEmpty(E.Z.getVoiceStatesForChannel(e.id))}));o.useEffect((function(){if(t&&null!=e){u.Z.dispatch({type:"SIDEBAR_CLOSE",baseChannelId:e.parent_id});(0,m.ad)(e,j.on.VOICE_AUTO_OPEN)}}),[t,e])}(T);var D=o.useRef(!1);o.useEffect((function(){if(null!=T&&!D.current){D.current=!0;var e=(0,p.K)(v.Z.getChannel(T.id),!0);(0,d.yw)(_.rMx.CHANNEL_OPENED,M(N({},e),{channel_id:T.id,guild_id:T.guild_id,parent_id:T.parent_id,channel_view:x}))}}),[T,x]);if(null==T||null==L)return null;var k=(0,r.jsx)(S.Z,{channel:T,baseChannelId:i});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{channel:T,
draftType:g.d.ChannelMessage}),(0,r.jsx)(C.ZP,{toolbar:k,"aria-label":I.Z.Messages.THREAD_HEADER_BAR_A11Y_LABEL,children:(0,b.ud)({channel:T,channelName:R,guild:L,inSidebar:!0,handleContextMenu:function(e){(0,c.jW)(e,A((function(){var e,t;return Z(this,(function(o){switch(o.label){case 0:return[4,n.e(81580).then(n.bind(n,881580))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,M(N({},e),{channel:T}))}]}}))})))},handleClick:function(){null!=T&&(0,m.Kh)(T.id)}})}),(0,r.jsx)("div",{className:P().chat,children:(0,r.jsx)(s.Z,{channel:T,guild:L,chatInputType:y.I.SIDEBAR},t)})]})}},593005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b,r:()=>m});var r=n(667294),o=n(503528),i=n(105783),a=n(625091),l=n(460471),u=n(503871),c=n(30027),s=n(284610),f=n(567403),d=n(149258),p=n(161283),h=n(2590),y=n(473708);function b(e){
var t=e.parentChannel,n=e.parentMessageId,o=e.threadSettings,i=e.privateThreadMode,l=e.location,u=e.onThreadCreated,f=e.useDefaultThreadName,d=r.useCallback((function(e,t,n,r){a.Z.uploadFiles({channelId:e.id,uploads:t,draftType:s.d.FirstThreadMessage,options:{stickerIds:r},parsedMessage:c.ZP.parse(e,n)})}),[]);return(0,p.JA)({parentChannel:t,parentMessageId:n,threadSettings:o,privateThreadMode:i,location:l,onThreadCreated:u,useDefaultThreadName:f,uploadHandler:d})}function m(e){var t=e.parentChannel,n=(0,u.xH)((function(e){return{name:e.name,appliedTags:e.appliedTags}}),o.Z),r=n.name,a=n.appliedTags;return(0,p.Wj)({parentChannel:t,name:r,appliedTags:a,upload:function(e,n,r){return new Promise((function(o,a){var u=new l.Z(e);u.on("error",(function(e,n,r){if(n===h.evJ.EXPLICIT_CONTENT){var o,l=f.Z.getGuild(null!==(o=t.getGuildId())&&void 0!==o?o:"");null!=l&&i.Z.show({title:y.Z.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,body:y.Z.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:l.toString()
})})}else if(n===h.evJ.ENTITY_TOO_LARGE){var u=(0,d.dg)(t.getGuildId());i.Z.show({title:y.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,body:y.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:(0,d.Ng)(u)})})}else n===h.evJ.TOO_MANY_ATTACHMENTS&&i.Z.show({title:y.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,body:y.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({limit:h.dN1})});a({body:r})}));u.on("complete",(function(e,t){o({body:t})}));u.uploadFiles(r,n,{addFilesTo:"message.attachments"})}))}})}},736543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(973935),a=n(809784),l=n(202351),u=n(217458),c=n(901654),s=n(454871),f=n(361925);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return h(e)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){p(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function m(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=O(n);function n(){d(this,n);return t.apply(this,arguments)}var l=n.prototype;l.componentDidMount=function(){
var e=this.props,t=e.visible;null==e.inlineSpecs&&this.show(t)};l.componentWillUnmount=function(){null==this.props.inlineSpecs&&this.show(!1)};l.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,o=e.tutorialId,i=e.visible,a=e.windowSize;o!==this.props.tutorialId?u.Z.hide(o):i===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&a===this.props.windowSize||this.show(this.props.visible)};l.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,o=t.offsetX,l=t.offsetY,c=t.visible,s=t.inlineSpecs,f=t.autoInvert;if(e&&null==s){var d=(0,i.findDOMNode)(this);if(!(0,a.k)(d))return;var p=d.getBoundingClientRect(),h=p.top,y=p.left,b=p.right,m=p.bottom;u.Z.show(n,{position:r,targetWidth:b-y,targetHeight:m-h,autoInvert:f,origin:{x:y,y:h},offset:{x:o,y:l}})}else c&&u.Z.hide(n)};l.render=function(){
var e=this.props,t=e.inlineSpecs,n=e.tutorialId,i=e.children,a=e.visible,l=e.windowFocused,u=e.position,c=e.autoInvert,d=f.Z.getData()[n];return null!=t&&null!=d?(0,r.jsxs)(r.Fragment,{children:[i,a&&(0,r.jsx)(s.V,y({autoInvert:c,position:u,tutorialId:n,tutorialDefinition:d,focused:l},t))]}):o.Children.only(i)};return n}(o.Component);E.defaultProps={position:"top",offsetX:0,offsetY:0,autoInvert:!0};function C(e){var t=e.tutorialId,n=(0,l.e7)([f.Z],(function(){return f.Z.shouldShow(t)}),[t]),o=(0,l.e7)([c.Z],(function(){return c.Z.isFocused()})),i=(0,l.e7)([c.Z],(function(){return c.Z.windowSize()}),[]);return(0,r.jsx)(E,b(y({},e),{visible:n,windowFocused:o,windowSize:i}))}},454871:(e,t,n)=>{"use strict";n.d(t,{V:()=>ue,Z:()=>ce});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(973935),s=n(809784),f=n(202351),d=n(945460),p=n(217458),h=n(50433),y=n(901654),b=n(37689),m=n(414273),v=n.n(m),g=n(949191),O=n.n(g),E=n(305257),C=n.n(E);function S(){return(0,
r.jsx)("div",{className:v().container,children:(0,r.jsxs)("svg",{width:"224",height:"148",viewBox:"0 0 224 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M0.5 33.5H223.5V140C223.5 144.142 220.142 147.5 216 147.5H8C3.85786 147.5 0.5 144.142 0.5 140V33.5Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("circle",{cx:"28",cy:"120",r:"16",fill:"url(#tutorial-media-channels-image1)"}),(0,r.jsx)("path",{
d:"M62.104 116L61.468 107.72H59.488L57.4 113.96L55.3 107.72H53.284L52.648 116H54.076L54.496 109.892L56.584 116.024H58L60.076 109.892L60.52 116H62.104ZM65.7704 111.08C66.4664 111.08 66.8264 111.584 66.9224 112.484H64.6064C64.7144 111.548 65.1944 111.08 65.7704 111.08ZM68.3144 115.412L68.1464 114.284C67.5104 114.728 66.8984 115.004 66.1544 115.004C65.2664 115.004 64.6544 114.512 64.5944 113.384H68.3144C68.3144 113.3 68.3264 113.156 68.3264 113.036C68.3264 111.392 67.5464 110.084 65.8064 110.084C64.2944 110.084 63.1664 111.224 63.1664 113.108C63.1664 115.196 64.3784 116.12 65.9984 116.12C66.9344 116.12 67.6904 115.844 68.3144 115.412ZM72.6338 112.088C72.6338 112.724 72.2498 113.192 71.6138 113.192C70.9898 113.192 70.6058 112.736 70.6058 112.136C70.6058 111.5 70.9778 111.008 71.6138 111.008C72.2258 111.008 72.6338 111.476 72.6338 112.088ZM74.6858 116.24C74.6858 115.352 73.9418 114.98 72.7538 114.812L72.0098 114.74C71.1098 114.608 70.9298 114.56 70.9298 114.368C70.9298 114.272 71.0258 114.164 71.1698 114.056C71.3138 114.08 71.4698 114.092 71.6378 114.092C72.8858 114.092 73.9538 113.348 73.9538 112.1C73.9538 111.836 73.9058 111.572 73.7978 111.344L74.8538 111.272L74.6618 110.12L73.2458 110.624C72.8258 110.276 72.2738 110.084 71.6018 110.084C70.3058 110.084 69.2738 110.864 69.2738 112.136C69.2738 112.904 69.6818 113.504 70.3658 113.828C69.8858 114.116 69.6338 114.428 69.6338 114.752C69.6338 114.98 69.7418 115.196 69.9698 115.376C69.2498 115.784 68.8778 116.204 68.8778 116.744C68.8778 117.704 70.0658 118.184 71.6378 118.184C73.3178 118.184 74.6858 117.488 74.6858 116.24ZM71.7338 117.332C70.6418 117.332 70.1258 117.02 70.1258 116.588C70.1258 116.288 70.3178 116.012 70.7378 115.712C71.0258 115.772 71.2058 115.808 71.6018 115.856L72.3818 115.952C73.1018 116.06 73.3538 116.24 73.3538 116.552C73.3538 116.984 72.7658 117.332 71.7338 117.332ZM78.8219 114.404C78.4259 114.788 77.9579 115.028 77.4659 115.028C77.0219 115.028 76.7579 114.776 76.7579 114.356C76.7579 113.804 77.1539 113.312 78.8219 113.108V114.404ZM80.2619 116V112.028C80.2619 110.636 79.5179 110.084 78.0179 110.084C77.0939 110.084 76.3859 110.288 75.7139 110.552L75.8939 111.704C76.5179 111.428 77.1539 111.236 77.8259 111.236C78.4619 111.236 78.8219 111.476 78.8219 112.1V112.268C76.4819 112.496 75.3299 113.108 75.3299 114.512C75.3299 115.52 75.9899 116.12 76.9739 116.12C77.8379 116.12 78.4379 115.736 78.9059 115.244L79.0259 116H80.2619ZM86.633 116V111.824C86.633 110.744 86.057 110.084 84.977 110.084C84.197 110.084 83.585 110.504 83.045 111.02L82.913 110.204H81.689V116H83.129V112.088C83.549 111.644 84.005 111.356 84.449 111.356C84.977 111.356 85.193 111.704 85.193 112.208V116H86.633Z",
fill:"#060607"}),(0,r.jsx)("path",{
d:"M62.02 132L61.372 123.72H59.992L57.412 130.512L54.832 123.72H53.44L52.78 132H53.836L54.34 125.316L56.932 132.036H57.832L60.424 125.316L60.94 132H62.02ZM65.8287 126.996C66.6567 126.996 67.0647 127.524 67.1967 128.448H64.4367C64.6047 127.476 65.1687 126.996 65.8287 126.996ZM68.2647 131.352L68.1087 130.392C67.4847 130.884 66.8847 131.208 66.0567 131.208C65.0607 131.208 64.4367 130.584 64.3887 129.252H68.2767V129.024C68.2767 127.44 67.5087 126.156 65.8407 126.156C64.4007 126.156 63.3207 127.284 63.3207 129.12C63.3207 131.22 64.4847 132.12 65.9727 132.12C66.9207 132.12 67.6527 131.832 68.2647 131.352ZM71.073 123.72H69.789L70.077 129.54L70.773 129.384L71.073 123.72ZM71.025 132V130.572H69.825V132H71.025ZM84.7192 132L84.0712 123.72H82.6912L80.1112 130.512L77.5312 123.72H76.1392L75.4792 132H76.5352L77.0392 125.316L79.6312 132.036H80.5312L83.1232 125.316L83.6392 132H84.7192ZM89.6079 130.428C89.1279 130.92 88.5279 131.232 87.9039 131.232C87.3639 131.232 87.0519 130.932 87.0519 130.464C87.0519 129.876 87.4959 129.3 89.6079 129.096V130.428ZM90.6759 132V127.992C90.6759 126.72 90.0039 126.156 88.6119 126.156C87.7239 126.156 87.0759 126.36 86.3919 126.636L86.5359 127.56C87.1599 127.284 87.8199 127.068 88.5159 127.068C89.1759 127.068 89.6079 127.32 89.6079 128.04V128.28C87.2199 128.532 85.9959 129.096 85.9959 130.524C85.9959 131.496 86.6439 132.12 87.6759 132.12C88.6119 132.12 89.2359 131.7 89.6919 131.232L89.8119 132H90.6759ZM92.6347 134.184C93.4747 134.184 94.0987 133.872 94.5667 132.6L96.9067 126.276H95.7907L94.2907 130.728L92.7547 126.192L91.6747 126.36L93.7627 132.024L93.6187 132.408C93.3907 133.02 93.0667 133.248 92.5867 133.248C92.4187 133.248 92.2027 133.212 92.0227 133.164L92.1787 134.136C92.2867 134.16 92.4067 134.184 92.6347 134.184ZM103.068 128.976C103.068 127.068 102.048 126.156 100.812 126.156C100.032 126.156 99.4795 126.552 99.0955 126.948V123.336L98.0275 123.504V131.712C98.7835 131.94 99.3955 132.072 100.26 132.072C101.916 132.072 103.068 131.064 103.068 128.976ZM101.988 129.024C101.988 130.5 101.364 131.16 100.248 131.16C99.7195 131.16 99.4555 131.1 99.0955 130.968V128.04C99.5275 127.5 100.056 127.104 100.656 127.104C101.424 127.104 101.988 127.776 101.988 129.024ZM106.61 126.996C107.438 126.996 107.846 127.524 107.978 128.448H105.218C105.386 127.476 105.95 126.996 106.61 126.996ZM109.046 131.352L108.89 130.392C108.266 130.884 107.666 131.208 106.838 131.208C105.842 131.208 105.218 130.584 105.17 129.252H109.058V129.024C109.058 127.44 108.29 126.156 106.622 126.156C105.182 126.156 104.102 127.284 104.102 129.12C104.102 131.22 105.266 132.12 106.754 132.12C107.702 132.12 108.434 131.832 109.046 131.352ZM117.779 129.768C117.779 128.52 117.227 127.968 115.619 127.236C114.359 126.66 114.047 126.36 114.047 125.724C114.047 125.112 114.467 124.608 115.415 124.608C116.075 124.608 116.699 124.872 117.155 125.22L117.335 124.092C116.855 123.816 116.255 123.624 115.451 123.624C113.951 123.624 112.931 124.476 112.931 125.808C112.931 126.996 113.519 127.512 115.079 128.22C116.327 128.784 116.663 129.096 116.663 129.852C116.663 130.656 116.051 131.112 115.187 131.112C114.359 131.112 113.579 130.776 113.015 130.404L112.847 131.556C113.459 131.88 114.263 132.096 115.163 132.096C116.711 132.096 117.779 131.196 117.779 129.768ZM122.456 130.428C121.976 130.92 121.376 131.232 120.752 131.232C120.212 131.232 119.9 130.932 119.9 130.464C119.9 129.876 120.344 129.3 122.456 129.096V130.428ZM123.524 132V127.992C123.524 126.72 122.852 126.156 121.46 126.156C120.572 126.156 119.924 126.36 119.24 126.636L119.384 127.56C120.008 127.284 120.668 127.068 121.364 127.068C122.024 127.068 122.456 127.32 122.456 128.04V128.28C120.068 128.532 118.844 129.096 118.844 130.524C118.844 131.496 119.492 132.12 120.524 132.12C121.46 132.12 122.084 131.7 122.54 131.232L122.66 132H123.524ZM127.928 132.024L127.784 131.112C127.652 131.136 127.484 131.148 127.292 131.148C126.692 131.148 126.5 130.86 126.5 130.392V127.176H127.88L127.736 126.276H126.5V124.212L125.456 124.368V126.276H124.592V127.176H125.456V130.584C125.456 131.736 126.116 132.096 127.124 132.096C127.496 132.096 127.748 132.06 127.928 132.024ZM129.199 126.276V130.44C129.199 131.472 129.763 132.12 130.855 132.12C131.659 132.12 132.343 131.676 132.883 131.172L133.015 132H133.867V126.276H132.799V130.236C132.283 130.788 131.707 131.16 131.143 131.16C130.519 131.16 130.267 130.764 130.267 130.176V126.276H129.199ZM138.755 127.176L138.587 126.156C137.651 126.204 136.991 126.792 136.583 127.44L136.403 126.276H135.551V132H136.619V128.616C137.003 127.86 137.807 127.224 138.755 127.176ZM140.397 129.252C140.397 127.836 141.045 127.104 141.945 127.104C142.557 127.104 142.905 127.2 143.349 127.428V130.164C142.893 130.776 142.389 131.172 141.729 131.172C140.961 131.172 140.397 130.512 140.397 129.252ZM139.317 129.3C139.317 131.22 140.337 132.12 141.573 132.12C142.413 132.12 143.001 131.688 143.433 131.172L143.565 132H144.417V123.336L143.349 123.504V126.456C142.989 126.312 142.473 126.204 141.909 126.204C140.517 126.204 139.317 127.212 139.317 129.3ZM149.362 130.428C148.882 130.92 148.282 131.232 147.658 131.232C147.118 131.232 146.806 130.932 146.806 130.464C146.806 129.876 147.25 129.3 149.362 129.096V130.428ZM150.43 132V127.992C150.43 126.72 149.758 126.156 148.366 126.156C147.478 126.156 146.83 126.36 146.146 126.636L146.29 127.56C146.914 127.284 147.574 127.068 148.27 127.068C148.93 127.068 149.362 127.32 149.362 128.04V128.28C146.974 128.532 145.75 129.096 145.75 130.524C145.75 131.496 146.398 132.12 147.43 132.12C148.366 132.12 148.99 131.7 149.446 131.232L149.566 132H150.43ZM152.389 134.184C153.229 134.184 153.853 133.872 154.321 132.6L156.661 126.276H155.545L154.045 130.728L152.509 126.192L151.429 126.36L153.517 132.024L153.373 132.408C153.145 133.02 152.821 133.248 152.341 133.248C152.173 133.248 151.957 133.212 151.777 133.164L151.933 134.136C152.041 134.16 152.161 134.184 152.389 134.184ZM159.19 129.54L159.886 129.384L159.994 128.196C161.422 127.548 162.286 126.984 162.286 125.688C162.286 124.38 161.29 123.564 159.826 123.564C158.842 123.564 157.99 123.912 157.258 124.452L157.414 125.556C158.086 125.004 158.83 124.584 159.766 124.584C160.57 124.584 161.158 125.004 161.158 125.736C161.158 126.504 160.654 126.888 159.526 127.356L159.034 127.56L159.19 129.54ZM158.938 132H160.138V130.572H158.938V132Z",
fill:"#2E3338"}),(0,r.jsx)("path",{d:"M0.5 8C0.5 3.85786 3.85786 0.5 8 0.5H216C220.142 0.5 223.5 3.85786 223.5 8V33.5H0.5V8Z",fill:"#F2F3F4",stroke:"#E3E5E8"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M12.5641 23.75C12.253 23.75 12.0174 23.4689 12.0718 23.1626L12.5 20.75H10.0951C9.78449 20.75 9.54905 20.4698 9.60259 20.1638L9.69009 19.6638C9.73196 19.4246 9.93972 19.25 10.1826 19.25H12.7625L13.5575 14.75H11.1526C10.842 14.75 10.6065 14.4698 10.6601 14.1638L10.7476 13.6638C10.7895 13.4246 10.9972 13.25 11.2401 13.25H13.82L14.2793 10.6626C14.3216 10.4239 14.5291 10.25 14.7716 10.25H15.2559C15.567 10.25 15.8026 10.5311 15.7482 10.8374L15.32 13.25H19.82L20.2793 10.6626C20.3216 10.4239 20.5291 10.25 20.7716 10.25H21.2559C21.567 10.25 21.8026 10.5311 21.7482 10.8374L21.32 13.25H23.7249C24.0355 13.25 24.271 13.5302 24.2174 13.8362L24.1299 14.3362C24.0881 14.5754 23.8803 14.75 23.6374 14.75H21.0575L20.2625 19.25H22.6674C22.978 19.25 23.2135 19.5302 23.1599 19.8362L23.0724 20.3362C23.0306 20.5754 22.8228 20.75 22.5799 20.75H20L19.5407 23.3374C19.4984 23.5761 19.2909 23.75 19.0484 23.75H18.5641C18.253 23.75 18.0174 23.4689 18.0718 23.1626L18.5 20.75H14L13.5407 23.3374C13.4984 23.5761 13.2909 23.75 13.0484 23.75H12.5641ZM15.0578 14.75L14.2628 19.25H18.7628L19.5578 14.75H15.0578Z",
fill:"#4F5660"}),(0,r.jsx)("path",{
d:"M41.014 22V17.128C41.014 15.868 40.384 15.098 39.11 15.098C38.2 15.098 37.458 15.588 36.856 16.19C36.604 15.532 36.086 15.098 35.12 15.098C34.21 15.098 33.524 15.588 32.894 16.19L32.74 15.238H31.312V22H32.992V17.422C33.482 16.918 33.972 16.582 34.49 16.582C35.106 16.582 35.33 16.988 35.33 17.576V22H37.01V17.422C37.5 16.918 37.99 16.582 38.508 16.582C39.124 16.582 39.334 16.988 39.334 17.576V22H41.014ZM46.3967 20.138C45.9347 20.586 45.3887 20.866 44.8147 20.866C44.2967 20.866 43.9887 20.572 43.9887 20.082C43.9887 19.438 44.4507 18.864 46.3967 18.626V20.138ZM48.0767 22V17.366C48.0767 15.742 47.2087 15.098 45.4587 15.098C44.3807 15.098 43.5547 15.336 42.7707 15.644L42.9807 16.988C43.7087 16.666 44.4507 16.442 45.2347 16.442C45.9767 16.442 46.3967 16.722 46.3967 17.45V17.646C43.6667 17.912 42.3227 18.626 42.3227 20.264C42.3227 21.44 43.0927 22.14 44.2407 22.14C45.2487 22.14 45.9487 21.692 46.4947 21.118L46.6347 22H48.0767ZM53.8857 22.098L55.6777 21.832L53.0317 18.29L55.5237 15.238H53.6197L51.4217 18.038V11.892L49.7417 12.158V22H51.4217V18.64L53.8857 22.098ZM59.1699 16.26C59.9819 16.26 60.4019 16.848 60.5139 17.898H57.8119C57.9379 16.806 58.4979 16.26 59.1699 16.26ZM62.1379 21.314L61.9419 19.998C61.1999 20.516 60.4859 20.838 59.6179 20.838C58.5819 20.838 57.8679 20.264 57.7979 18.948H62.1379C62.1379 18.85 62.1519 18.682 62.1519 18.542C62.1519 16.624 61.2419 15.098 59.2119 15.098C57.4479 15.098 56.1319 16.428 56.1319 18.626C56.1319 21.062 57.5459 22.14 59.4359 22.14C60.5279 22.14 61.4099 21.818 62.1379 21.314ZM66.9533 18.78V17.156H63.3133V18.78H66.9533ZM72.9665 18.528C72.9665 20.012 72.3085 20.726 71.4405 20.726C70.8665 20.726 70.5445 20.628 70.1385 20.432V17.534C70.5865 16.96 71.0625 16.582 71.6645 16.582C72.4205 16.582 72.9665 17.226 72.9665 18.528ZM74.6605 18.43C74.6605 16.162 73.5265 15.098 72.1125 15.098C71.1745 15.098 70.5165 15.616 70.0405 16.162L69.8865 15.238H68.4585V24.604L70.1385 24.352V21.804C70.5445 21.958 71.0625 22.07 71.7065 22.07C73.2605 22.07 74.6605 20.95 74.6605 18.43ZM77.7827 22V11.892L76.1027 12.158V22H77.7827ZM83.2561 20.138C82.7941 20.586 82.2481 20.866 81.6741 20.866C81.1561 20.866 80.8481 20.572 80.8481 20.082C80.8481 19.438 81.3101 18.864 83.2561 18.626V20.138ZM84.9361 22V17.366C84.9361 15.742 84.0681 15.098 82.3181 15.098C81.2401 15.098 80.4141 15.336 79.6301 15.644L79.8401 16.988C80.5681 16.666 81.3101 16.442 82.0941 16.442C82.8361 16.442 83.2561 16.722 83.2561 17.45V17.646C80.5261 17.912 79.1821 18.626 79.1821 20.264C79.1821 21.44 79.9521 22.14 81.1001 22.14C82.1081 22.14 82.8081 21.692 83.3541 21.118L83.4941 22H84.9361ZM92.3691 22V17.128C92.3691 15.868 91.6971 15.098 90.4371 15.098C89.5271 15.098 88.8131 15.588 88.1831 16.19L88.0291 15.238H86.6011V22H88.2811V17.436C88.7711 16.918 89.3031 16.582 89.8211 16.582C90.4371 16.582 90.6891 16.988 90.6891 17.576V22H92.3691ZM99.0642 20.012C99.0642 18.738 98.3782 18.262 96.6282 17.814C95.6202 17.548 95.3682 17.338 95.3682 16.974C95.3682 16.61 95.6762 16.358 96.3062 16.358C96.9782 16.358 97.7762 16.596 98.4482 16.974L98.6722 15.574C98.0002 15.28 97.1882 15.098 96.3062 15.098C94.7382 15.098 93.8142 15.924 93.8142 17.1C93.8142 18.332 94.5002 18.808 96.1382 19.228C97.2162 19.494 97.5102 19.69 97.5102 20.166C97.5102 20.614 97.1182 20.88 96.3902 20.88C95.5502 20.88 94.6542 20.558 93.9262 20.082L93.7022 21.482C94.3462 21.832 95.3542 22.14 96.3342 22.14C98.1122 22.14 99.0642 21.342 99.0642 20.012Z",
fill:"#060607"}),(0,r.jsx)("circle",{cx:"28",cy:"62",r:"16",fill:"url(#tutorial-media-channels-image2)"}),(0,r.jsx)("path",{
d:"M59.572 60V51.72H58.096V57.144L54.376 51.72H52.876V60H54.352V54.3L58.252 60H59.572ZM63.4852 55.08C64.1812 55.08 64.5412 55.584 64.6372 56.484H62.3212C62.4292 55.548 62.9092 55.08 63.4852 55.08ZM66.0292 59.412L65.8612 58.284C65.2252 58.728 64.6132 59.004 63.8692 59.004C62.9812 59.004 62.3692 58.512 62.3092 57.384H66.0292C66.0292 57.3 66.0412 57.156 66.0412 57.036C66.0412 55.392 65.2612 54.084 63.5212 54.084C62.0092 54.084 60.8812 55.224 60.8812 57.108C60.8812 59.196 62.0932 60.12 63.7132 60.12C64.6492 60.12 65.4052 59.844 66.0292 59.412ZM68.7047 60V51.336L67.2647 51.564V60H68.7047ZM71.7281 60V51.336L70.2881 51.564V60H71.7281ZM73.8635 62.184C74.9075 62.184 75.5795 61.764 76.0715 60.372L78.2915 54.204H76.8395L75.5435 58.284L74.2235 54.12L72.7235 54.312L74.8235 59.988L74.7755 60.156C74.5835 60.78 74.1995 60.996 73.7195 60.996C73.4675 60.996 73.2635 60.96 73.0835 60.912L73.2755 62.124C73.4075 62.16 73.5515 62.184 73.8635 62.184Z",fill:"#060607"}),(0,r.jsx)("path",{
d:"M58.792 76.084L59.908 75.844L56.716 67.684H55.588L52.348 76H53.524L54.448 73.516H57.82L58.792 76.084ZM56.128 69.004L57.448 72.52H54.82L56.128 69.004ZM65.7697 76V71.836C65.7697 70.804 65.1937 70.156 64.1137 70.156C63.2977 70.156 62.6257 70.612 62.0857 71.104L61.9537 70.276H61.1017V76H62.1697V72.04C62.6857 71.488 63.2617 71.116 63.8257 71.116C64.4497 71.116 64.7017 71.512 64.7017 72.1V76H65.7697ZM67.7558 78.184C68.5958 78.184 69.2198 77.872 69.6878 76.6L72.0278 70.276H70.9118L69.4118 74.728L67.8758 70.192L66.7958 70.36L68.8838 76.024L68.7398 76.408C68.5118 77.02 68.1878 77.248 67.7078 77.248C67.5398 77.248 67.3238 77.212 67.1438 77.164L67.2998 78.136C67.4078 78.16 67.5278 78.184 67.7558 78.184ZM77.9291 73.144C77.9291 71.26 76.8011 70.156 75.2651 70.156C73.7411 70.156 72.6371 71.26 72.6371 73.144C72.6371 75.028 73.7411 76.12 75.2651 76.12C76.8011 76.12 77.9291 75.028 77.9291 73.144ZM76.8491 73.144C76.8491 74.344 76.3211 75.232 75.2651 75.232C74.2571 75.232 73.7171 74.32 73.7171 73.144C73.7171 71.944 74.2331 71.044 75.2651 71.044C76.2971 71.044 76.8491 71.968 76.8491 73.144ZM83.9572 76V71.836C83.9572 70.804 83.3812 70.156 82.3012 70.156C81.4852 70.156 80.8132 70.612 80.2732 71.104L80.1412 70.276H79.2892V76H80.3572V72.04C80.8732 71.488 81.4492 71.116 82.0132 71.116C82.6372 71.116 82.8892 71.512 82.8892 72.1V76H83.9572ZM87.8013 70.996C88.6293 70.996 89.0373 71.524 89.1693 72.448H86.4093C86.5773 71.476 87.1413 70.996 87.8013 70.996ZM90.2373 75.352L90.0813 74.392C89.4573 74.884 88.8573 75.208 88.0293 75.208C87.0333 75.208 86.4093 74.584 86.3613 73.252H90.2493V73.024C90.2493 71.44 89.4813 70.156 87.8133 70.156C86.3733 70.156 85.2933 71.284 85.2933 73.12C85.2933 75.22 86.4573 76.12 87.9453 76.12C88.8933 76.12 89.6253 75.832 90.2373 75.352ZM101.73 70.276H100.662L99.4503 74.512L98.1903 70.276H97.2903L96.0303 74.512L94.7823 70.192L93.7383 70.36L95.5743 76.024H96.4623L97.7223 71.704L98.9943 76.024H99.8943L101.73 70.276ZM106.014 74.428C105.534 74.92 104.934 75.232 104.31 75.232C103.77 75.232 103.458 74.932 103.458 74.464C103.458 73.876 103.902 73.3 106.014 73.096V74.428ZM107.082 76V71.992C107.082 70.72 106.41 70.156 105.018 70.156C104.13 70.156 103.482 70.36 102.798 70.636L102.942 71.56C103.566 71.284 104.226 71.068 104.922 71.068C105.582 71.068 106.014 71.32 106.014 72.04V72.28C103.626 72.532 102.402 73.096 102.402 74.524C102.402 75.496 103.05 76.12 104.082 76.12C105.018 76.12 105.642 75.7 106.098 75.232L106.218 76H107.082ZM113.406 76V71.836C113.406 70.804 112.83 70.156 111.75 70.156C110.934 70.156 110.262 70.612 109.722 71.104L109.59 70.276H108.738V76H109.806V72.04C110.322 71.488 110.898 71.116 111.462 71.116C112.086 71.116 112.338 71.512 112.338 72.1V76H113.406ZM117.815 76.024L117.671 75.112C117.539 75.136 117.371 75.148 117.179 75.148C116.579 75.148 116.387 74.86 116.387 74.392V71.176H117.767L117.623 70.276H116.387V68.212L115.343 68.368V70.276H114.479V71.176H115.343V74.584C115.343 75.736 116.003 76.096 117.011 76.096C117.383 76.096 117.635 76.06 117.815 76.024ZM124.494 76.024L124.35 75.112C124.218 75.136 124.05 75.148 123.858 75.148C123.258 75.148 123.066 74.86 123.066 74.392V71.176H124.446L124.302 70.276H123.066V68.212L122.022 68.368V70.276H121.158V71.176H122.022V74.584C122.022 75.736 122.682 76.096 123.69 76.096C124.062 76.096 124.314 76.06 124.494 76.024ZM130.71 73.144C130.71 71.26 129.582 70.156 128.046 70.156C126.522 70.156 125.418 71.26 125.418 73.144C125.418 75.028 126.522 76.12 128.046 76.12C129.582 76.12 130.71 75.028 130.71 73.144ZM129.63 73.144C129.63 74.344 129.102 75.232 128.046 75.232C127.038 75.232 126.498 74.32 126.498 73.144C126.498 71.944 127.014 71.044 128.046 71.044C129.078 71.044 129.63 71.968 129.63 73.144ZM139.375 76V71.836C139.375 70.804 138.799 70.156 137.719 70.156C136.903 70.156 136.243 70.612 135.775 71.032V67.336L134.707 67.504V76H135.775V72.04C136.291 71.488 136.867 71.116 137.431 71.116C138.055 71.116 138.307 71.512 138.307 72.1V76H139.375ZM144.299 74.428C143.819 74.92 143.219 75.232 142.595 75.232C142.055 75.232 141.743 74.932 141.743 74.464C141.743 73.876 142.187 73.3 144.299 73.096V74.428ZM145.367 76V71.992C145.367 70.72 144.695 70.156 143.303 70.156C142.415 70.156 141.767 70.36 141.083 70.636L141.227 71.56C141.851 71.284 142.511 71.068 143.207 71.068C143.867 71.068 144.299 71.32 144.299 72.04V72.28C141.911 72.532 140.687 73.096 140.687 74.524C140.687 75.496 141.335 76.12 142.367 76.12C143.303 76.12 143.927 75.7 144.383 75.232L144.503 76H145.367ZM151.692 76V71.836C151.692 70.804 151.116 70.156 150.036 70.156C149.22 70.156 148.548 70.612 148.008 71.104L147.876 70.276H147.024V76H148.092V72.04C148.608 71.488 149.184 71.116 149.748 71.116C150.372 71.116 150.624 71.512 150.624 72.1V76H151.692ZM156.484 72.136C156.484 72.82 156.028 73.36 155.296 73.36C154.588 73.36 154.132 72.844 154.132 72.184C154.132 71.488 154.576 70.936 155.296 70.936C156.004 70.936 156.484 71.452 156.484 72.136ZM158.188 76.42C158.188 75.532 157.432 75.148 156.22 74.932L155.812 74.86C154.804 74.68 154.6 74.632 154.6 74.428C154.6 74.32 154.72 74.188 154.888 74.08C155.032 74.104 155.176 74.116 155.32 74.116C156.484 74.116 157.516 73.372 157.516 72.148C157.516 71.824 157.444 71.524 157.288 71.26L158.38 71.152L158.224 70.192L156.772 70.636C156.376 70.324 155.872 70.156 155.296 70.156C154.132 70.156 153.1 70.912 153.1 72.148C153.1 72.928 153.532 73.528 154.168 73.852C153.784 74.08 153.568 74.356 153.568 74.632C153.568 74.848 153.676 75.052 153.928 75.232C153.124 75.664 152.716 76.12 152.716 76.708C152.716 77.716 153.904 78.184 155.392 78.184C156.88 78.184 158.188 77.62 158.188 76.42ZM155.44 77.416C154.324 77.416 153.736 77.08 153.736 76.624C153.736 76.228 154.036 75.892 154.708 75.556C154.936 75.604 155.104 75.64 155.416 75.7L156.1 75.82C156.916 75.964 157.18 76.204 157.18 76.552C157.18 77.032 156.556 77.416 155.44 77.416ZM167.003 73.144C167.003 71.26 165.875 70.156 164.339 70.156C162.815 70.156 161.711 71.26 161.711 73.144C161.711 75.028 162.815 76.12 164.339 76.12C165.875 76.12 167.003 75.028 167.003 73.144ZM165.923 73.144C165.923 74.344 165.395 75.232 164.339 75.232C163.331 75.232 162.791 74.32 162.791 73.144C162.791 71.944 163.307 71.044 164.339 71.044C165.371 71.044 165.923 71.968 165.923 73.144ZM168.339 70.276V74.44C168.339 75.472 168.903 76.12 169.995 76.12C170.799 76.12 171.483 75.676 172.023 75.172L172.155 76H173.007V70.276H171.939V74.236C171.423 74.788 170.847 75.16 170.283 75.16C169.659 75.16 169.407 74.764 169.407 74.176V70.276H168.339ZM177.44 76.024L177.296 75.112C177.164 75.136 176.996 75.148 176.804 75.148C176.204 75.148 176.012 74.86 176.012 74.392V71.176H177.392L177.248 70.276H176.012V68.212L174.968 68.368V70.276H174.104V71.176H174.968V74.584C174.968 75.736 175.628 76.096 176.636 76.096C177.008 76.096 177.26 76.06 177.44 76.024ZM184.119 76.024L183.975 75.112C183.843 75.136 183.675 75.148 183.483 75.148C182.883 75.148 182.691 74.86 182.691 74.392V71.176H184.071L183.927 70.276H182.691V68.212L181.647 68.368V70.276H180.783V71.176H181.647V74.584C181.647 75.736 182.307 76.096 183.315 76.096C183.687 76.096 183.939 76.06 184.119 76.024ZM190.082 76V71.836C190.082 70.804 189.506 70.156 188.426 70.156C187.61 70.156 186.95 70.612 186.482 71.032V67.336L185.414 67.504V76H186.482V72.04C186.998 71.488 187.574 71.116 188.138 71.116C188.762 71.116 189.014 71.512 189.014 72.1V76H190.082ZM193.038 68.452C193.038 68.08 192.738 67.768 192.366 67.768C191.994 67.768 191.682 68.08 191.682 68.452C191.682 68.824 191.994 69.124 192.366 69.124C192.738 69.124 193.038 68.824 193.038 68.452ZM192.894 76V70.276H191.826V76H192.894ZM198.656 74.404C198.656 73.312 198.02 72.904 196.604 72.544C195.704 72.316 195.416 72.1 195.416 71.716C195.416 71.308 195.752 71.056 196.4 71.056C197 71.056 197.636 71.26 198.14 71.548L198.308 70.54C197.768 70.3 197.132 70.156 196.424 70.156C195.176 70.156 194.408 70.828 194.408 71.74C194.408 72.76 194.948 73.168 196.292 73.504C197.324 73.756 197.648 73.948 197.648 74.476C197.648 74.956 197.216 75.232 196.484 75.232C195.704 75.232 195.008 74.944 194.468 74.572L194.312 75.58C194.804 75.856 195.644 76.12 196.4 76.12C197.876 76.12 198.656 75.448 198.656 74.404ZM60.328 86.276H59.26L58.048 90.512L56.788 86.276H55.888L54.628 90.512L53.38 86.192L52.336 86.36L54.172 92.024H55.06L56.32 87.704L57.592 92.024H58.492L60.328 86.276ZM63.5318 86.996C64.3598 86.996 64.7678 87.524 64.8998 88.448H62.1398C62.3078 87.476 62.8718 86.996 63.5318 86.996ZM65.9678 91.352L65.8118 90.392C65.1878 90.884 64.5878 91.208 63.7598 91.208C62.7638 91.208 62.1398 90.584 62.0918 89.252H65.9798V89.024C65.9798 87.44 65.2118 86.156 63.5438 86.156C62.1038 86.156 61.0238 87.284 61.0238 89.12C61.0238 91.22 62.1878 92.12 63.6758 92.12C64.6238 92.12 65.3558 91.832 65.9678 91.352ZM69.5201 86.996C70.3481 86.996 70.7561 87.524 70.8881 88.448H68.1281C68.2961 87.476 68.8601 86.996 69.5201 86.996ZM71.9561 91.352L71.8001 90.392C71.1761 90.884 70.5761 91.208 69.7481 91.208C68.7521 91.208 68.1281 90.584 68.0801 89.252H71.9681V89.024C71.9681 87.44 71.2001 86.156 69.5321 86.156C68.0921 86.156 67.0121 87.284 67.0121 89.12C67.0121 91.22 68.1761 92.12 69.6641 92.12C70.6121 92.12 71.3441 91.832 71.9561 91.352ZM76.9364 92.084L78.1004 91.904L75.4844 88.808L77.8964 86.276H76.6124L74.3924 88.676V83.336L73.3244 83.504V92H74.3924V89L76.9364 92.084ZM81.1099 86.996C81.9379 86.996 82.3459 87.524 82.4779 88.448H79.7179C79.8859 87.476 80.4499 86.996 81.1099 86.996ZM83.5459 91.352L83.3899 90.392C82.7659 90.884 82.1659 91.208 81.3379 91.208C80.3419 91.208 79.7179 90.584 79.6699 89.252H83.5579V89.024C83.5579 87.44 82.7899 86.156 81.1219 86.156C79.6819 86.156 78.6019 87.284 78.6019 89.12C78.6019 91.22 79.7659 92.12 81.2539 92.12C82.2019 92.12 82.9339 91.832 83.5459 91.352ZM89.5822 92V87.836C89.5822 86.804 89.0062 86.156 87.9262 86.156C87.1102 86.156 86.4382 86.612 85.8982 87.104L85.7662 86.276H84.9142V92H85.9822V88.04C86.4982 87.488 87.0742 87.116 87.6382 87.116C88.2622 87.116 88.5142 87.512 88.5142 88.1V92H89.5822ZM91.9983 89.252C91.9983 87.836 92.6463 87.104 93.5463 87.104C94.1583 87.104 94.5063 87.2 94.9503 87.428V90.164C94.4943 90.776 93.9903 91.172 93.3303 91.172C92.5623 91.172 91.9983 90.512 91.9983 89.252ZM90.9183 89.3C90.9183 91.22 91.9383 92.12 93.1743 92.12C94.0143 92.12 94.6023 91.688 95.0343 91.172L95.1663 92H96.0183V83.336L94.9503 83.504V86.456C94.5903 86.312 94.0743 86.204 93.5103 86.204C92.1183 86.204 90.9183 87.212 90.9183 89.3ZM99.3194 89.54L100.015 89.384L100.123 88.196C101.551 87.548 102.415 86.984 102.415 85.688C102.415 84.38 101.419 83.564 99.9554 83.564C98.9714 83.564 98.1194 83.912 97.3874 84.452L97.5434 85.556C98.2154 85.004 98.9594 84.584 99.8954 84.584C100.699 84.584 101.287 85.004 101.287 85.736C101.287 86.504 100.783 86.888 99.6554 87.356L99.1634 87.56L99.3194 89.54ZM99.0674 92H100.267V90.572H99.0674V92Z",
fill:"#2E3338"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:O()})}),(0,r.jsx)("pattern",{id:"tutorial-media-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"32",width:"32",href:C()})})]})]})})}var j=n(439250),_=n.n(j);function I(){return(0,r.jsx)("div",{className:_().container,children:(0,r.jsxs)("svg",{width:"248",height:"67",viewBox:"0 0 248 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M1.91937 22.0819L0.353585 25.3514C0.282937 25.5093 0.265227 25.6857 0.303076 25.8544C0.311999 25.943 0.339002 26.0288 0.382429 26.1067C0.425856 26.1845 0.484791 26.2527 0.555622 26.3071C0.607907 26.38 0.675826 26.4403 0.754452 26.4838C0.833079 26.5273 0.920441 26.5529 1.0102 26.5586C1.19659 26.5915 1.38843 26.5741 1.5658 26.5083L4.74788 24.949L5.15196 24.8484L5.55603 24.949L8.73811 26.5083H9.29371L9.74829 26.2568C9.85659 26.1275 9.92655 25.9707 9.95033 25.8041C9.98818 25.6354 9.97046 25.459 9.89982 25.3011L8.33403 22.0315C8.2926 21.919 8.27539 21.799 8.28352 21.6794C8.27533 21.5434 8.29245 21.4069 8.33403 21.277L9.89982 18.1081C9.94425 18.0329 9.97177 17.949 9.98049 17.8621C9.98921 17.7753 9.97892 17.6876 9.95033 17.6051C9.93611 17.4208 9.86561 17.2453 9.74829 17.1021C9.60449 16.9853 9.42824 16.9151 9.2432 16.9009C9.16036 16.8724 9.07231 16.8622 8.98511 16.8709C8.89791 16.8796 8.81364 16.907 8.73811 16.9512L5.50552 18.5105L5.10145 18.6111L4.69737 18.5105L1.5153 16.9512C1.43095 16.9057 1.3382 16.8778 1.24269 16.8692C1.14717 16.8605 1.05089 16.8713 0.959695 16.9009C0.792331 16.9246 0.634911 16.9943 0.505112 17.1021C0.372179 17.2408 0.284186 17.416 0.252566 17.6051C0.236844 17.779 0.271925 17.9537 0.353585 18.1081L1.86886 21.3273C1.94921 21.4454 1.98499 21.5879 1.96988 21.7297C1.98577 21.7888 1.98948 21.8504 1.9808 21.9109C1.97212 21.9715 1.95122 22.0296 1.91937 22.0819Z",
fill:"#AEC7FF"}),(0,r.jsx)("path",{d:"M205.949 47.6259C218.112 47.6259 227.971 37.8071 227.971 25.695C227.971 13.5829 218.112 3.76405 205.949 3.76405C193.787 3.76405 183.927 13.5829 183.927 25.695C183.927 37.8071 193.787 47.6259 205.949 47.6259Z",fill:"url(#tutorial-media-voice-channels-image2)"}),(0,r.jsx)("path",{d:"M206.106 47.5713C218.256 47.5713 228.106 37.7216 228.106 25.5713C228.106 13.4211 218.256 3.57133 206.106 3.57133C193.956 3.57133 184.106 13.4211 184.106 25.5713C184.106 37.7216 193.956 47.5713 206.106 47.5713Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M43.8822 66.4461C56.0446 66.4461 65.9042 56.6273 65.9042 44.5152C65.9042 32.4031 56.0446 22.5843 43.8822 22.5843C31.7198 22.5843 21.8602 32.4031 21.8602 44.5152C21.8602 56.6273 31.7198 66.4461 43.8822 66.4461Z",fill:"url(#tutorial-media-voice-channels-image1)"}),(0,r.jsx)("path",{
d:"M43.6684 66.0315C55.8187 66.0315 65.6684 56.1818 65.6684 44.0315C65.6684 31.8813 55.8187 22.0315 43.6684 22.0315C31.5181 22.0315 21.6684 31.8813 21.6684 44.0315C21.6684 56.1818 31.5181 66.0315 43.6684 66.0315Z",stroke:"#3ba55c",strokeWidth:"3"}),(0,r.jsx)("path",{d:"M138.597 43.8116C134.96 31.857 134.96 19.0973 138.597 7.14265",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M111.562 25.5955C115.2 37.5501 115.2 50.3098 111.562 62.2644",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M159.71 37.6246C158.509 33.6948 157.896 29.6101 157.892 25.5023C157.9 21.3782 158.513 17.2775 159.71 13.3296",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M149.154 10.2613C146.124 20.198 146.124 30.8065 149.154 40.7433",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{
d:"M170.266 16.4482C169.347 19.3785 168.887 22.4324 168.903 25.5023C168.887 28.5721 169.347 31.626 170.266 34.5563",stroke:"#FF6E5C",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M90.0579 56.1351C91.2957 52.1951 91.9258 48.0908 91.9267 43.9625C91.9301 39.8503 91.2999 35.7619 90.0579 31.8401",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M100.614 28.6068C103.644 38.5435 103.644 49.152 100.614 59.0887",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M79.5015 34.9084C81.3857 40.7986 81.3857 47.1263 79.5015 53.0165",stroke:"#FFED00",strokeWidth:"5",strokeMiterlimit:"10",strokeLinecap:"round"}),(0,r.jsx)("path",{
d:"M182.237 57.1914L184.257 56.4872C184.354 56.4431 184.436 56.3722 184.494 56.2831C184.551 56.1939 184.582 56.0902 184.582 55.9842C184.582 55.8783 184.551 55.7746 184.494 55.6854C184.436 55.5962 184.354 55.5254 184.257 55.4812L182.237 54.777C182.16 54.7552 182.088 54.7169 182.027 54.6648C181.966 54.6127 181.917 54.548 181.884 54.4752L181.176 52.4632C181.143 52.3626 181.079 52.275 180.993 52.2128C180.907 52.1507 180.803 52.1173 180.697 52.1173C180.59 52.1173 180.487 52.1507 180.4 52.2128C180.314 52.275 180.25 52.3626 180.217 52.4632L179.51 54.4752C179.476 54.548 179.427 54.6127 179.366 54.6648C179.305 54.7169 179.233 54.7552 179.156 54.777L177.186 55.4812C177.052 55.4812 176.924 55.5342 176.829 55.6286C176.734 55.7229 176.681 55.8508 176.681 55.9842C176.681 56.1176 176.734 56.2456 176.829 56.3399C176.924 56.4343 177.052 56.4872 177.186 56.4872L179.156 57.1914C179.233 57.2133 179.305 57.2516 179.366 57.3037C179.427 57.3558 179.476 57.4205 179.51 57.4933L180.217 59.5053C180.25 59.6059 180.314 59.6935 180.4 59.7556C180.487 59.8178 180.59 59.8512 180.697 59.8512C180.803 59.8512 180.907 59.8178 180.993 59.7556C181.079 59.6935 181.143 59.6059 181.176 59.5053L181.884 57.4933C181.917 57.4205 181.966 57.3558 182.027 57.3037C182.088 57.2516 182.16 57.2133 182.237 57.1914Z",
fill:"#EC7DF7"}),(0,r.jsx)("path",{d:"M242.696 1.35812C242.696 0.746955 242.199 0.251511 241.585 0.251511C240.972 0.251511 240.474 0.746955 240.474 1.35812V2.4949C240.474 3.10607 240.972 3.60151 241.585 3.60151C242.199 3.60151 242.696 3.10607 242.696 2.4949V1.35812Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M242.696 10.2613C242.696 9.65011 242.199 9.15466 241.585 9.15466C240.972 9.15466 240.474 9.65011 240.474 10.2613V11.3981C240.474 12.0092 240.972 12.5047 241.585 12.5047C242.199 12.5047 242.696 12.0092 242.696 11.3981V10.2613Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M246.636 7.49476C247.25 7.49476 247.747 6.99933 247.747 6.38817C247.747 5.77701 247.25 5.28156 246.636 5.28156H245.495C244.881 5.28156 244.384 5.77701 244.384 6.38817C244.384 6.99933 244.881 7.49476 245.495 7.49476H246.636Z",fill:"#7196FF"}),(0,r.jsx)("path",{
d:"M237.696 7.49477C238.31 7.49477 238.807 6.99931 238.807 6.38815C238.807 5.77699 238.31 5.28154 237.696 5.28154H236.555C235.941 5.28154 235.443 5.77699 235.443 6.38815C235.443 6.99931 235.941 7.49477 236.555 7.49477H237.696Z",fill:"#7196FF"}),(0,r.jsx)("path",{d:"M25.2929 2.23526C24.8786 1.82274 24.207 1.82274 23.7928 2.23526C23.3786 2.64777 23.3786 3.31659 23.7928 3.7291L24.5535 4.48669C24.9678 4.8992 25.6394 4.8992 26.0536 4.48669C26.4678 4.07418 26.4678 3.40536 26.0536 2.99285L25.2929 2.23526Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M31.3539 8.25656C30.9397 7.84404 30.2681 7.84404 29.8538 8.25656C29.4396 8.66907 29.4396 9.33789 29.8538 9.7504L30.6146 10.508C31.0288 10.9205 31.7004 10.9205 32.1146 10.508C32.5289 10.0955 32.5289 9.42666 32.1146 9.01415L31.3539 8.25656Z",fill:"#F7D036"}),(0,r.jsx)("path",{
d:"M32.109 3.71739C32.5233 3.30488 32.5233 2.63606 32.109 2.22354C31.6948 1.81103 31.0232 1.81103 30.609 2.22355L29.8482 2.98114C29.434 3.39365 29.434 4.06247 29.8482 4.47498C30.2625 4.88749 30.9341 4.88749 31.3483 4.47498L32.109 3.71739Z",fill:"#F7D036"}),(0,r.jsx)("path",{d:"M26.0985 9.73869C26.5128 9.32618 26.5128 8.65736 26.0985 8.24485C25.6843 7.83233 25.0127 7.83233 24.5985 8.24485L23.8378 9.00244C23.4235 9.41495 23.4235 10.0838 23.8378 10.4963C24.252 10.9088 24.9236 10.9088 25.3378 10.4963L26.0985 9.73869Z",fill:"#F7D036"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image1",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:O()})}),(0,r.jsx)("pattern",{id:"tutorial-media-voice-channels-image2",x:"0",y:"0",patternUnits:"objectBoundingBox",height:"1",width:"1",children:(0,r.jsx)("image",{x:"0",y:"0",height:"44",width:"44",href:C()})})]})]})})}
var w=n(503528),P=n(621647),x=n(628486),A=n(61209),T=n(567403),N=n(473903),M=n(124251),Z=n(775173),L=n(762507),R=n.n(L);function D(){var e=(0,x.Z)((function(e){return{guildId:e.guildId,channelId:e.channelId}}),w.Z),t=e.guildId,n=e.channelId,o=(0,f.e7)([T.Z],(function(){return T.Z.getGuild(t)})),i=(0,f.e7)([A.Z],(function(){return null==o?A.Z.getChannel(n):null})),a=(0,f.e7)([N.default],(function(){return N.default.getCurrentUser()})),l=null!=i?(0,P.x)(i):null,u=null!=a?a.getAvatarURL(t,80):Z.pK[0],c=(0,r.jsx)(d.Avatar,{src:u,"aria-hidden":!0,size:d.AvatarSizes.SIZE_80,className:R().avatarSizeOverride}),s=null;s=null!=o?(0,r.jsx)(M.Z,{guild:o}):null!=l?(0,r.jsx)(d.Avatar,{"aria-hidden":!0,src:l,size:d.AvatarSizes.SIZE_80,className:R().avatarSizeOverride}):c;return(0,r.jsxs)("div",{className:R().container,children:[(0,r.jsx)("div",{className:R().personAvatar,children:c}),(0,r.jsx)("div",{className:R().guildAvatar,children:s}),(0,r.jsx)("svg",{className:R().illustration,
xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),(0,r.jsx)("path",{fill:"#ACB0FF",
d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),(0,r.jsx)("path",{fill:"#FFF",
d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"
}),(0,r.jsx)("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]}),(0,r.jsx)("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#5865f2",fillRule:"nonzero",rx:"3"}),(0,r.jsx)("path",{fill:"#5865f2",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),(0,r.jsxs)("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",
transform:"translate(23 19)",children:[(0,r.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),(0,r.jsx)("circle",{cx:"18.5",cy:"2.5",r:"2.5"})]})]})})]})}var k=Object.freeze({"voice-conversations":{popoutPosition:"right",highPriority:!0,textAlign:b.iu.CENTER,media:function(){return(0,r.jsx)(I,{})}},"writing-messages":{popoutPosition:"top",highPriority:!0,textAlign:b.iu.CENTER,spacing:10,media:function(){return(0,r.jsx)(D,{})}},"direct-messages":{popoutPosition:"right"},"create-first-server":{popoutPosition:"right",highPriority:!0},"organize-by-topic":{popoutPosition:"right",textAlign:b.iu.CENTER,spacing:8,media:function(){return(0,r.jsx)(S,{})}},"instant-invite":{popoutPosition:"right",spacing:24,highPriority:!0},"whos-online":{spacing:16,popoutPosition:"left"},"server-settings":{popoutPosition:"bottom",spacing:10},"friends-list":{spacing:8,popoutPosition:"right"},"create-more-servers":{spacing:8,popoutPosition:"right"}}),U=function(e){
return e in k?k[e]:null},B=n(464187),F=n(226919),G=n(473708),H=n(909774),V=n.n(H),W=function(){return(0,r.jsx)(r.Fragment,{children:G.Z.Messages.TIP_INSTANT_INVITE_BODY3.format({shareIcon:G.Z.Messages.INSTANT_INVITE,shareIconHook:function(){return(0,r.jsx)(F.Z,{className:V().icon},"icon")}})})},z=function(){var e=(0,f.e7)([T.Z,B.Z],(function(){return T.Z.getGuild(B.Z.getGuildId())}),[]),t=null==e?void 0:e.name;return(0,r.jsx)(r.Fragment,{children:G.Z.Messages.TIP_WRITING_MESSAGES_BODY3.format({serverName:t})})},Y=n(361925),K=n(2590),q=n(577254),X=n.n(q);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ee(e){ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)}
;return ee(e)}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){$(e,t,n[t])}))}return e}function ne(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function re(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function oe(e,t){oe=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return oe(e,t)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&oe(e,t)}(n,e);var t=le(n);function n(){J(this,n);var e;(e=t.apply(this,arguments)).state={offsetX:null,offsetY:null};e.handleDismiss=function(){p.Z.dismiss(e.props.tutorialId)};return e}var o=n.prototype;o.componentDidMount=function(){this.updateCache()}
;o.componentDidUpdate=function(e){var t=e.tutorialId,n=e.origin,r=n.x,o=n.y,i=e.targetWidth,a=e.targetHeight,l=e.position,u=e.offset;this.props.tutorialId===t&&this.props.origin.x===r&&this.props.origin.y===o&&this.props.targetWidth===i&&this.props.targetHeight===a&&this.props.position===l&&this.props.offset.x===u.x&&this.props.offset.y===u.y||this.updateCache()};o.updateCache=function(){var e=(0,c.findDOMNode)(this);if(null!=e&&(0,s.k)(e,HTMLElement)){var t,n,r=e.offsetWidth,o=e.offsetHeight,i={offsetX:(this.props.targetWidth-r)/2,offsetY:(this.props.targetHeight-o)/2};switch(this.props.position){case"left":i.offsetX=-r;break;case"right":i.offsetX=this.props.targetWidth;break;case"bottom":i.offsetY=this.props.targetHeight;break;default:i.offsetY=-o}i.offsetX+=null!==(t=this.props.offset.x)&&void 0!==t?t:0;i.offsetY+=null!==(n=this.props.offset.y)&&void 0!==n?n:0;this.setState(i)}};o.handleSkipTips=function(){p.Z.suppressAll()};o.getTutorialPopoutText=function(){return function(e){
var t,n,o=null!==(t={VOICE_CONVERSATIONS:{title:(0,r.jsx)("div",{className:V().voiceChannelsTitle,children:G.Z.Messages.NUF_VOICE_CHANNELS_TITLE}),body:G.Z.Messages.NUF_VOICE_CHANNELS_DESCRIPTION},WRITING_MESSAGES:{title:(0,r.jsx)("div",{className:V().writingMessagesTitle,children:G.Z.Messages.TIP_WRITING_MESSAGES_TITLE3}),body:(0,r.jsx)(z,{})},ORGANIZE_BY_TOPIC:{title:(0,r.jsx)("div",{className:V().channelsTitle,children:G.Z.Messages.NUF_CHANNELS_TITLE}),body:G.Z.Messages.NUF_CHANNELS_DESCRIPTION},WHOS_ONLINE:{title:G.Z.Messages.TIP_WHOS_ONLINE_TITLE3,body:G.Z.Messages.TIP_WHOS_ONLINE_BODY3.format()},INSTANT_INVITE:{title:G.Z.Messages.TIP_INSTANT_INVITE_TITLE3,body:(0,r.jsx)(W,{})},SERVER_SETTINGS:{title:G.Z.Messages.TIP_SERVER_SETTINGS_TITLE3,body:G.Z.Messages.TIP_SERVER_SETTINGS_BODY3.format()},DIRECT_MESSAGES:{title:G.Z.Messages.TIP_DIRECT_MESSAGES_TITLE3,body:G.Z.Messages.TIP_DIRECT_MESSAGES_BODY3.format()},CREATE_MORE_SERVERS:{title:G.Z.Messages.TIP_CREATE_MORE_SERVERS_TITLE3,
body:G.Z.Messages.TIP_CREATE_MORE_SERVERS_BODY3.format()},CREATE_FIRST_SERVER:{title:G.Z.Messages.TIP_CREATE_FIRST_SERVER_TITLE3,body:G.Z.Messages.TIP_CREATE_FIRST_SERVER_BODY3.format()},FRIENDS_LIST:{title:G.Z.Messages.TIP_FRIENDS_LIST_TITLE3,body:G.Z.Messages.TIP_FRIENDS_LIST_BODY3.format()}}[e.replace(/-/g,"_").toUpperCase()])&&void 0!==t?t:{};return{title:o.title,body:o.body,isLongText:null!==(n=o.isLongText)&&void 0!==n&&n}}(this.props.tutorialId)};o.render=function(){var e=this.props,t=e.tutorialId,n=e.autoInvert,o=e.focused,i=e.origin,l=U(t);if(null==l)return null;var u=l.media,c=l.textAlign,s=l.isLongText,f=l.highPriority,p=l.spacing,h=l.arrowAlignment,y=void 0===h?b.cy.TOP:h,m=l.popoutPosition,v=this.state,g=v.offsetX,O=v.offsetY,E={left:null!=g?i.x+g:void 0,top:null!=O?i.y+O:void 0},C=function(e){var t,n=o&&!e;return $(t={},X().animating,n),$(t,X().notAnimating,!n),$(t,X().highPriority,f),t},S=this.getTutorialPopoutText();return(0,r.jsx)(b.ZP,ne(te({position:m,renderMedia:u,
textAlign:c,spacing:p,isLongText:s,uniqueId:t,autoInvert:n,arrowAlignment:y,forceTheme:K.BRd.LIGHT,onSkipAll:this.handleSkipTips,onComplete:this.handleDismiss},S),{children:function(e,t){var n,i,l,u,c=t.isShown;return(0,r.jsx)(d.Clickable,ne(te({},e),{className:X().indicator,style:E,children:(0,r.jsxs)("div",{className:a()(X().animationContainer,C(c)),children:[(n=c,u=o&&!n,!0!==f?null:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:a()(X().top,(i={},$(i,X().animating,u),$(i,X().notAnimating,!u),i))}),(0,r.jsx)("div",{className:a()(X().bottom,(l={},$(l,X().animating,u),$(l,X().notAnimating,!u),l))})]})),(0,r.jsx)("div",{className:a()(X().innerCircle,C(c))}),(0,r.jsx)("div",{className:a()(X().outerCircle,C(c))})]})}))}}))};return n}(o.PureComponent);const ce=function(){var e=(0,f.cj)([Y.Z,y.Z,h.Z],(function(){return{indicators:Y.Z.getIndicators(),tutorialData:Y.Z.getData(),shouldShowAny:Y.Z.shouldShowAnyIndicators()&&!h.Z.hasLayers(),windowFocused:y.Z.isFocused()}
})),t=e.indicators,n=e.tutorialData,o=e.windowFocused;return e.shouldShowAny?(0,r.jsx)(r.Fragment,{children:Object.entries(t).map((function(e){var t=ie(e,2),i=t[0],a=t[1],l=n[i];u()(null!=l,"Missing tutorial definition for ".concat(i));return(0,r.jsx)(ue,te({tutorialId:i,tutorialDefinition:l,focused:o},a),i)}))}):null}},361925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(289283),o=n(202351),i=n(744564),a=n(652555);const l=Object.freeze({"voice-conversations":{popoutOffset:{x:45,y:0}},"writing-messages":{prerequisites:["voice-conversations"],popoutOffset:{x:-36,y:0}},"direct-messages":{popoutOffset:{x:50,y:0}},"create-first-server":{popoutOffset:{x:45,y:0}},"organize-by-topic":{popoutOffset:{x:50,y:0}},"instant-invite":{prerequisites:["organize-by-topic"],popoutOffset:{x:-10,y:0}},"whos-online":{prerequisites:["instant-invite"],popoutOffset:{x:-50,y:0}},"server-settings":{prerequisites:["instant-invite"],popoutOffset:{y:32,x:0}},"friends-list":{prerequisites:["instant-invite"],
popoutOffset:{x:45,y:0}},"create-more-servers":{prerequisites:["server-settings"],popoutOffset:{x:45,y:0}}});var u=n(199790);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function h(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function y(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){b=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return b(e,t)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break
}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){
var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var O={},E={},C=!0,S={},j=!1;function _(){return l}function I(){S={};if(!C){var e=_(),t=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=m(o.value,2),l=a[0],u=a[1],c=!1!==O[l];S[l]=c;if(c&&null!=u.prerequisites){var s=!0,f=!1,d=void 0;try{for(var p,h=u.prerequisites[Symbol.iterator]();!(s=(p=h.next()).done);s=!0){var y=p.value;!1===O[y]||(S[l]=!1)}}catch(e){f=!0;d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}}}}catch(e){n=!0;r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&b(e,t)}(n,e);var t=g(n);function n(){s(this,n)
;return t.apply(this,arguments)}var o=n.prototype;o.initialize=function(){I();this.mustEmitChanges((function(e){return"CONNECTION_OPEN"!==e.type}));this.waitFor(a.Z)};o.shouldShow=function(e){return!(!j||C||u.a||function(e){return r.tq&&["writing-messages","organize-by-topic"].includes(e)}(e))&&(S[e]||!1)};o.shouldShowAnyIndicators=function(){return!C};o.getIndicators=function(){return E};o.getData=function(){return _()};o.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null};o.__getLocalVars=function(){return{indicators:O,activeIndicators:E,tutorialIndicatorsSuppressed:C,shouldShow:S,readyToShow:j}};return n}(o.ZP.Store);w.displayName="TutorialIndicatorStore";const P=new w(i.Z,{CONNECTION_OPEN:function(e){var t=e.tutorial;j=!0;C=!0;O={};if(null!=t){C=t.indicators_suppressed;t.indicators_confirmed.forEach((function(e){return O[e]=!1}))}I()},CONNECTION_CLOSED:function(){j=!1},TUTORIAL_INDICATOR_DISMISS:function(e){O=h(p({},O),f({},e.tutorialId,!1))
;delete(E=p({},E))[e.tutorialId];I()},TUTORIAL_INDICATOR_SHOW:function(e){E=h(p({},E),f({},e.tutorialId,e.renderData))},TUTORIAL_INDICATOR_HIDE:function(e){delete(E=p({},E))[e.tutorialId]},TUTORIAL_INDICATOR_SUPPRESS_ALL:function(){C=!0}})},233623:(e,t,n)=>{"use strict";n.d(t,{T:()=>C,Z:()=>S});var r=n(785893),o=n(667294),i=n(202351),a=n(945460),l=n(971402),u=n(285991),c=n(334835),s=n(491260),f=n(90459),d=n(924417),p=n(2590),h=n(473708),y=n(120133),b=n.n(y);function m(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)}))}}function g(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1
};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function C(e){var t=e.user,n=e.status,o=e.onSelect,l=e.onContextMenu,u=(0,i.e7)([s.Z],(function(){return s.Z.isMobileOnline(t.id)}));return(0,r.jsxs)(a.Clickable,{className:b().listRow,onClick:function(){return o(t.id)},onContextMenu:function(e){return l(e,t)},children:[(0,r.jsx)(a.Avatar,{src:t.getAvatarURL(void 0,40),"aria-label":t.username,size:a.AvatarSizes.SIZE_40,status:n,isMobile:u,className:b().listAvatar}),(0,r.jsx)(c.Z,{user:t,className:b().listName,discriminatorClass:b().listDiscriminator
})]})}function S(e){var t,c=e.user,s=e.onClose,y=function(e){s();(0,d.m)({userId:e,analyticsLocation:{section:p.jXE.USER_PROFILE_MUTUAL_FRIENDS}})},m=function(e,t){(0,l.jW)(e,v((function(){var e,o;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(49244),n.e(85572)]).then(n.bind(n,810848))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,O(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){g(e,t,n[t])}))}return e}({},e),{user:t}))}]}}))})))},S=(0,i.e7)([f.Z],(function(){return f.Z.getMutualFriends(c.id)}));o.useEffect((function(){null==S&&(0,u.Sr)(c.id)}),[S,c.id]);t=null==S?(0,r.jsx)("div",{className:b().empty,children:(0,r.jsx)(a.Spinner,{})}):0===S.length?(0,r.jsxs)("div",{
className:b().empty,children:[(0,r.jsx)("div",{className:b().emptyIconFriends}),(0,r.jsx)("div",{className:b().emptyText,children:h.Z.Messages.NO_MUTUAL_FRIENDS})]}):S.map((function(e){return(0,r.jsx)(C,{user:e.user,status:e.status,onSelect:y,onContextMenu:m},e.key)}));return(0,r.jsx)(a.ScrollerThin,{className:b().listScroller,fade:!0,children:t})}},857241:(e,t,n)=>{"use strict";n.d(t,{D:()=>P,Z:()=>x});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(202351),l=n(575945),u=n(945460),c=n(971402),s=n(735885),f=n(74535),d=n(795470),p=n(934870),h=n(124251),y=n(749565),b=n(90459),m=n(2590),v=n(473708),g=n(120133),O=n.n(g),E=n(48213),C=n.n(E);function S(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)}))}}function _(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),
0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function P(e){var t=e.guild,n=e.nick,o=e.theme,a=e.onSelect,c=e.onContextMenu,s=e.user,f=s.hasAvatarForGuild(t.id);return(0,r.jsxs)(u.Clickable,{focusProps:{offset:{right:8}},className:O().listRow,onClick:function(){return a(t.id)},onContextMenu:function(e){return c(e,t)},children:[(0,r.jsx)(h.Z,{tabIndex:-1,guild:t,showBadge:!0,
className:i()(O().listAvatar,null==t.icon?C().guildAvatarWithoutIcon:null),badgeStrokeColor:(0,d.Lq)((0,l.wj)(o)?m.Ilk.PRIMARY_600:m.Ilk.WHITE_500),size:h.Z.Sizes.MEDIUM,active:!0}),(0,r.jsxs)("div",{className:O().listRowContent,children:[(0,r.jsx)("div",{className:O().listName,children:t.toString()}),f||null!=n?(0,r.jsxs)("div",{className:C().guildNick,children:[f&&(0,r.jsx)(u.Avatar,{src:s.getAvatarURL(t.id,16),size:u.AvatarSizes.SIZE_16,className:C().guildAvatar,"aria-hidden":!0}),null!=n?n:y.ZP.getName(s)]}):null]})]})}function x(e){var t,o=e.user,i=e.onClose,l=function(e){(0,p.X)(e);i();(0,s.xf)()},d=function(e,t){(0,c.jW)(e,j((function(){var e,o;return w(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(92224),n.e(46194),n.e(27979),n.e(47956),n.e(5683),n.e(57253),n.e(77357),n.e(57037),n.e(66240)]).then(n.bind(n,166240))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,I(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}({},e),{guild:t}))}]}}))})))},h=(0,a.e7)([b.Z],(function(){return b.Z.getMutualGuilds(o.id)})),y=(0,f.ZP)();t=null==h||0===h.length?(0,r.jsxs)("div",{className:O().empty,children:[(0,r.jsx)("div",{className:O().emptyIconGuilds}),(0,r.jsx)("div",{className:O().emptyText,children:v.Z.Messages.NO_MUTUAL_GUILDS})]}):h.map((function(e){var t=e.guild,n=e.nick;return(0,r.jsx)(P,{user:o,guild:t,nick:n,theme:y,onSelect:l,onContextMenu:d},t.id)}));return(0,r.jsx)(u.ScrollerThin,{className:O().listScroller,fade:!0,children:t})}},761065:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(656645),l=n(604945),u=n(615457),c=n(473708);function s(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(){var e=(0,o.e7)([l.Z],(function(){return(0,u.P)(l.Z.getInputVolume())}));return(0,r.jsx)(i.MenuControlItem,{id:"input",label:c.Z.Messages.FORM_LABEL_INPUT_VOLUME,control:function(t,n){return(0,r.jsx)(i.MenuSliderControl,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},t),{ref:n,value:e,onChange:function(e){return a.Z.setInputVolume((0,u.A)(e))},"aria-label":c.Z.Messages.FORM_LABEL_INPUT_VOLUME}))}})}},46106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(785893),o=(n(667294),n(202351)),i=n(945460),a=n(656645),l=n(604945),u=n(120415),c=n(2590),s=n(473708);function f(){var e=!u.FB,t=(0,o.e7)([l.Z],(function(){return l.Z.getMode()})),n=function(e,n){return(0,r.jsx)(i.MenuRadioItem,{id:e,group:"input-modes",label:n,checked:t===e,action:function(){return a.Z.setMode(e)}},e)};return[n(c.pM4.VOICE_ACTIVITY,s.Z.Messages.INPUT_MODE_VAD),n(c.pM4.PUSH_TO_TALK,e?s.Z.Messages.INPUT_MODE_PTT_LIMITED:s.Z.Messages.INPUT_MODE_PTT)]}},755380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),
n(202351)),i=n(945460),a=n(656645),l=n(604945),u=n(615457),c=n(120415),s=n(473708);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(){var e=(0,o.e7)([l.Z],(function(){return(0,u.P)(l.Z.getOutputVolume())}));return(0,r.jsx)(i.MenuControlItem,{id:"output",label:s.Z.Messages.FORM_LABEL_OUTPUT_VOLUME,control:function(t,n){return(0,r.jsx)(i.MenuSliderControl,d(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}({},t),{ref:n,value:e,maxValue:c.FB?200:100,onChange:function(e){return a.Z.setOutputVolume((0,u.A)(e))},"aria-label":s.Z.Messages.FORM_LABEL_OUTPUT_VOLUME}))}})}},504001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(202351),o=n(604945),i=n(630926);function a(){return(0,r.e7)([o.Z],(function(){return(0,i.Z)(o.Z)}))}},791271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(21372),o=n(773148),i=n(358500),a=n(473708);function l(e,t,n){var l;if(t.type===i.fO.ACTIVITY){var u;return null!==(u=null==n?void 0:n.name)&&void 0!==u?u:null}var c=r.ZP.isGuestOrLurker(e.guild_id,null===(l=t.user)||void 0===l?void 0:l.id);return o.Z.getName(e.getGuildId(),e.id,t.user)+(c?" ".concat(a.Z.Messages.GUEST_NAME_SUFFIX):"")}},
781295:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(358500);function o(e){var t,n;return e.type!==r.fO.ACTIVITY&&((0,r._5)(e)?null!=e.streamId:null!==(n=null===(t=e.voiceState)||void 0===t?void 0:t.selfVideo)&&void 0!==n&&n)}},199047:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(496486),o=n.n(r),i=n(202351),a=n(604945),l=n(36256);function u(){var e=(0,i.cj)([a.Z],(function(){var e,t,n=null===(t=null===(e=o()(a.Z.getVideoDevices()).values().first())||void 0===e?void 0:e.disabled)||void 0===t||t;return{enabled:a.Z.isVideoEnabled(),cameraUnavailable:n||!a.Z.supports(l.AN.VIDEO)}}));return{enabled:e.enabled,cameraUnavailable:e.cameraUnavailable}}},79987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(202351),o=n(861426),i=n(736818),a=n(604945),l=n(682776),u=n(407561),c=n(2590);function s(e){return(0,r.cj)([i.default,u.Z,a.Z,l.Z,o.Z],(function(){return function(e){
var t,n=e.channel,r=e.authenticationStore,s=void 0===r?i.default:r,f=e.voiceStateStore,d=void 0===f?u.Z:f,p=e.mediaEngineStore,h=void 0===p?a.Z:p,y=e.permissionStore,b=void 0===y?l.Z:y,m=e.impersonateStore,v=void 0===m?o.Z:m,g=null!=n?d.getVoiceState(n.getGuildId(),s.getId()):null,O=h.isSelfMute()||h.isSelfMutedTemporarily(),E=null==n?void 0:n.getGuildId(),C=v.isViewingRoles(E)&&!b.can(c.Plq.SPEAK,n);return{selfMute:O,suppress:(null==g?void 0:g.suppress)||C,mute:null!==(t=null==g?void 0:g.mute)&&void 0!==t&&t}}({channel:e,authenticationStore:i.default,voiceStateStore:u.Z,mediaEngineStore:a.Z,permissionStore:l.Z,impersonateStore:o.Z})}))}},767484:(e,t,n)=>{"use strict";n.d(t,{OV:()=>F,ZP:()=>H});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(945460),c=n(579581),s=n(258104),f=n(61040),d=n(322422),p=n(195034),h=n(483535),y=n(92585),b=n(744564),m=n(961337),v=n(979197),g=n(930948),O=n(2590),E=function(e,t){return b.Z.wait((function(){(0,m.Cz)(e,t)}))};function C(e){
var t,n=e.embedId,i=e.className,a=e.style,u=(0,l.e7)([v.Z],(function(){return v.Z.getWindow(O.KJ3.CHANNEL_CALL_POPOUT)})),c=null!==(t=null==u?void 0:u.window)&&void 0!==t?t:window,s=o.useRef(null),f=o.useMemo((function(){var e=null;return function(){null==e&&(e=c.requestAnimationFrame((function(){var t,r;E(n,null!==(r=null===(t=s.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==r?r:null);e=null})))}}),[n,c]);o.useEffect((function(){c.addEventListener("resize",f);g.S.subscribe(O.CkL.REMEASURE_TARGET,f);return function(){c.removeEventListener("resize",f);g.S.unsubscribe(O.CkL.REMEASURE_TARGET,f)}}),[f,c]);o.useLayoutEffect((function(){var e=s.current;if(null!=e){var t=e.ownerDocument.defaultView;if(null!=t){f();var r=new t.ResizeObserver(f);r.observe(e);return function(){r.disconnect();E(n,null)}}}}),[n,f]);return(0,r.jsx)("div",{ref:s,style:a,className:i})}
var S,j=n(595258),_=n(283133),I=n(153686),w=n(19585),P=n(28661),x=n(736818),A=n(473903),T=n(96606),N=n(72580),M=n(773148),Z=n(473708),L=n(353537),R=n.n(L);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.SMALL=0]="SMALL";e[e.MEDIUM=1]="MEDIUM";e[e.LARGE=2]="LARGE"}(S||(S={}));var B=["embedded_background"];function F(e){var t=e.avatarSize,n=e.guildId,o=e.channelId,i=e.users,a=null!=t?t:u.AvatarSizes.SIZE_32,l=(0,u.getAvatarSize)(a);return(0,r.jsx)(T.Z,{size:l,guildId:n,users:i,max:4,renderUser:function(e){if(null==e)return null;var t=M.Z.getName(n,o,e);return(0,r.jsx)(u.TooltipContainer,{text:t,color:u.TooltipColors.GREY,children:(0,r.jsx)("img",{src:e.getAvatarURL(n,l),alt:t,className:R().avatar},e.id)},e.id)}})}function G(e){var t,n,o,i,p=e.participants,h=e.application,y=e.currentEmbeddedApplication,b=e.channel,m=e.width,v=function(e){return e>400?S.LARGE:e>300?S.MEDIUM:S.SMALL}(m),g=U(function(e){
return e>400?[u.AvatarSizes.SIZE_56,56]:e>300?[u.AvatarSizes.SIZE_32,32]:[u.AvatarSizes.SIZE_24,24]}(m),1),O=g[0],E=(0,l.Wu)([A.default,x.default],(function(){return Array.from(p).map((function(e){return x.default.getId()===e?null:A.default.getUser(e)})).filter(N.lm)})),C=(0,l.e7)([s.ZP],(function(){return s.ZP.getEmbeddedActivitiesForChannel(b.id).find((function(e){return e.application_id===h.id}))})),_=(0,w.Z)().analyticsLocations,I=(0,c.O)(),P=M.Z.getName(b.getGuildId(),b.id,null==E?void 0:E[0]),T=(0,d.s5)({userId:null===(t=A.default.getCurrentUser())||void 0===t?void 0:t.id,activity:C,channelId:b.id,application:h})===d.Fw.CAN_JOIN,L=null!==(n=b.getGuildId())&&void 0!==n?n:void 0;return(0,r.jsxs)("div",{className:R().splash,children:[(0,r.jsx)(F,{avatarSize:O,guildId:L,channelId:b.id,users:E}),(0,r.jsx)(u.Text,{className:a()(R().subheader,(o={},k(o,R().small,v===S.SMALL),k(o,R().medium,v===S.MEDIUM),o)),variant:"text-sm/normal",
children:E.length>1?Z.Z.Messages.EMBEDDED_ACTIVITIES_USERNAME_AND_OTHERS.format({username:P,count:E.length-1}):Z.Z.Messages.EMBEDDED_ACTIVITIES_IS_PLAYING.format({username:P})}),(0,r.jsx)(u.Text,{className:a()(R().header,(i={},k(i,R().small,v===S.SMALL),k(i,R().medium,v===S.MEDIUM),i)),variant:"text-sm/normal",children:h.name}),(0,r.jsx)("div",{className:R().buttons,children:T?(0,r.jsx)(u.Button,{onClick:function(e){e.stopPropagation();null!=C&&(0,f.Z)({activity:C,currentEmbeddedApplication:y,activityChannelId:b.id,locationObject:I.location,embeddedActivitiesManager:j.Z,analyticsLocations:_})},size:function(e){switch(e){case S.LARGE:return u.Button.Sizes.LARGE;case S.MEDIUM:return u.Button.Sizes.MEDIUM;case S.SMALL:return u.Button.Sizes.SMALL}}(v),className:R().button,color:u.Button.Colors.PRIMARY,children:Z.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY}):null})]})}function H(e){var t=e.participant,n=e.width,o=e.selected,i=e.interactible,a=e.channel,l=(0,
w.Z)(I.Z.ACTIVITY_TILE).AnalyticsLocationProvider,u=t.id,c=(0,p.Z)(),s=(null==c?void 0:c.channelId)===a.id&&c.application_id===u,f=(0,h.Z)(),d=U((0,P.Z)([u]),1)[0],b=(0,y.Z)({applicationId:u,names:B,size:1024}).url,m=!o&&s,v=!s,g=!s&&!o;return(0,r.jsx)(l,{children:(0,r.jsx)("div",{className:R().container,children:(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)(C,{className:R().iframe,embedId:(0,_.Z)(a.id,u)}),v&&null!=d&&null!=b&&""!==b?(0,r.jsx)("img",{className:R().splashImage,alt:d.name,src:b}):null,g&&null!=d&&(0,r.jsx)(G,{width:n,channel:a,participants:t.participants,application:d,currentEmbeddedApplication:f}),i||v?null:(0,r.jsx)("div",{className:R().clickShield})]})})})}},730380:(e,t,n)=>{"use strict";n.d(t,{BP:()=>fn,ZP:()=>dn})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(202351),u=n(336194),c=n(945460),s=n(656645),f=n(213276),d=n(28661),p=n(91036),h=n(468811),y=n.n(h),b=n(744564),m=n(316878),v=n(396043),g=n(777314),O=n(869495),E=n(285629),C=n(496486),S=n.n(C),j=n(211248),_=n.n(j),I=n(143692),w=n(833529),P=n.n(w);function x(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}var T,N=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,
r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},M=(T=A((function(e){var t,n,r,o,i,a,l,u,c,s;return N(this,(function(f){switch(f.label){case 0:t=e.animationType,n=e.animationId,r=e.url,o=e.shouldResize;a=null!==(i=E.Jw[t])&&void 0!==i?i:E.Jw[I.q.BASIC];l=null!=n&&n<a.length?a[n]:(0,C.sample)(a);u=JSON.parse(JSON.stringify(l))
;c=u.assets[0];return o?[4,(0,E.lv)(r)]:[3,2];case 1:s=f.sent();return[3,3];case 2:s=r;f.label=3;case 3:c.p=s;return[2,u]}}))})),function(e){return T.apply(this,arguments)});function Z(e){var t=e.containerDimensions,n=e.effect,i=e.onComplete,a=o.useRef(null);o.useEffect((function(){var e,t;(t=A((function(){var t;return N(this,(function(r){switch(r.label){case 0:return null==a.current?[3,2]:[4,M(n)];case 1:t=r.sent();(e=_().loadAnimation({container:a.current,renderer:"svg",loop:!1,autoplay:!0,animationData:t,rendererSettings:{preserveAspectRatio:"xMidYMax slice"}})).addEventListener("complete",(function(){return null==i?void 0:i(n.id)}));r.label=2;case 2:return[2]}}))})),function(){return t.apply(this,arguments)})();return function(){null==e||e.destroy()}}),[i,n]);return(0,r.jsx)("div",{className:P().effect,style:{height:t.height,width:t.width},ref:a})}var L=n(2590),R=n(383591),D=n.n(R);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
;return r}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){
if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function G(e){var t=e.channelId,n=e.guildId,i=e.userId,a=e.containerDimensions,u=(0,l.e7)([m.Z],(function(){return m.Z.useReducedMotion})),c=U(o.useState([]),2),s=c[0],f=c[1],d=s.length<50;o.useEffect((function(){var e=function(e){var r=e.channelId,o=e.userId,a=e.emoji,l=e.animationType,c=e.animationId;if(null==i||i===o){var s;if(!g.Z.getEnabled()||!(0,O.Z)(null!==(s=null==a?void 0:a.name)&&void 0!==s?s:"")){if(r===t&&!u&&d&&(null!=a&&null!=l&&null!=c)){var p=(0,E._r)(a),h=null!=a.id&&!a.animated,b={id:y()(),animationType:l,animationId:c,shouldResize:h,url:p,userId:o};f((function(e){return B(e).concat([b])}));v.ZP.trackWithMetadata(L.rMx.VOICE_CHANNEL_EFFECT_VIEWED,{channel_id:t,guild_id:n})}}}}
;b.Z.subscribe("VOICE_CHANNEL_EFFECT_SEND",e);return function(){b.Z.unsubscribe("VOICE_CHANNEL_EFFECT_SEND",e)}}),[t,n,i,u,d]);var p=o.useCallback((function(e){f((function(t){var n=B(t),r=n.findIndex((function(t){return t.id===e}));n.splice(r,1);return n}))}),[]);return u?null:(0,r.jsx)("div",{className:D().effectsWrapper,style:{width:a.width},children:(0,r.jsx)("div",{className:D().effects,children:s.map((function(e){return(0,r.jsx)(Z,{containerDimensions:a,effect:e,onComplete:p},e.id)}))})})}var H=n(335072),V=n(473708),W=n(690598),z=n.n(W);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){var t,n=e.channelId,o=e.userId,i=K((0,l.Wu)([g.Z],(function(){return[g.Z.getWaitingHighFive(n,o),g.Z.getCompletedHighFive(n,o)]})),2),u=i[0],c=i[1];if(null!=c)t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{alt:V.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,E._r)({name:c[0],id:null,animated:!1}),className:a()(z().completeLeft,z().highFive)}),(0,r.jsx)("img",{alt:V.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,E._r)({name:c[1],
id:null,animated:!1}),className:a()(z().completeRight,z().highFive)})]});else{if(null==u)return null;t=(0,r.jsx)("img",{alt:V.Z.Messages.CALL_HIGH_FIVE_EXCLAMATION,src:(0,E._r)({name:u,id:null,animated:!1}),className:a()(z().waiting,z().highFive)})}return(0,r.jsx)("div",{className:z().root,children:t})}var X=n(367299),Q=n(757730),J=n(919031),$=n(69540);function ee(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ee(e,t,n[t])}))}return e}function ne(e){var t=e.callTileRef,n=e.isFiring,r=(0,J.Z)(),i=(0,Q.Z)(t);o.useEffect((function(){n&&null!=i&&null!=t&&r.fire(i.x+t.clientWidth/2,i.y+t.clientHeight/2,{countMultiplier:4})
}),[t,r,n,i]);return null}function re(e){return(0,r.jsx)(X.Z,{confettiLocation:$.Hn.CALL_TILE,children:(0,r.jsx)(ne,te({},e))})}var oe=n(895462),ie=n(714602),ae=n(986279),le=n(248088),ue=n(77413),ce=n(603478),se=n.n(ce);function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pe=-120,he=function(e){return"scale(".concat(1-e/pe,") rotate(").concat(e,"deg)")};function ye(e){var t,n=e.userId,i=e.voiceChannelEffect,u=e.onComplete,c=i.emoji,s=i.sentAt,f=(0,l.e7)([m.Z],(function(){return m.Z.useReducedMotion})),d=de(o.useState(!0),2),p=d[0],h=d[1],y=!f,b=(0,le.useTransition)(p,{from:{rotate:pe},enter:{rotate:0},leave:{rotate:pe},config:le.config.default,immediate:f,onRest:function(e,t){"leave"===t.phase&&u()}});o.useEffect((function(){var e;Date.now()-s>=2e3?(0,ae.H)(n):e=setTimeout((function(){h(!1);y&&(0,ae.H)(n)}),y?2e3:6e3);return function(){null!=e&&clearTimeout(e)}}),[s,n,y]);return y?null:b((function(e,n){var o=e.rotate;return n&&(0,r.jsx)(le.animated.div,{
className:se().voiceChannelEffectEmojiContainer,style:{transform:o.to(he)},children:(0,r.jsx)(ue.Z,{className:a()(se().voiceChannelEffectEmoji),emojiId:c.id,emojiName:c.name,animated:null!==(t=c.animated)&&void 0!==t&&t})})}))}var be=n(736818),me=n(604945),ve=n(225253),ge=n(742257),Oe=n(542231),Ee=n(781736),Ce=n(634193),Se=n(308377),je=n(554647),_e=n(425454),Ie=n(186440),we=n(796938),Pe=n(61473),xe=n(791271),Ae=n(767484),Te=n(408816),Ne=n(247250),Me=n(481008),Ze=n(587683),Le=n(774930),Re=n(257164),De=n(246549),ke=n(544475),Ue=n(441143),Be=n.n(Ue),Fe=n(318715),Ge=n(636398),He=n(473903),Ve=n(9134),We=n(407761),ze=n(99452),Ye=n(569588),Ke=n(306263),qe=n(69660),Xe=n(652591),Qe=n(203600);function Je(e,t){var n=e.handleMouseDown,r=e.handleMouseMove,i=e.handleMouseUp,a=e.handleMouseEnter,u=o.useRef(null),c=(0,l.e7)([qe.Z],(function(){return qe.Z.getRTCConnection((0,Ke.V9)(t))})),s=o.useCallback((function(e,t,r){u.current=Date.now();n(e,t,r)}),[n]),f=o.useCallback((function(e,t,n){i(e,t,n)
;if(null!=u.current){!function(e,t,n){Xe.default.track(L.rMx.PREMIUM_FEATURE_USAGE,{feature_name:"".concat(Qe.QP.SHARED_CANVAS,"_").concat(e.type),feature_tier:Qe.h1.FREE,media_session_id:t.getMediaSessionId(),parent_media_session_id:t.parentMediaSessionId,guild_id:t.guildId,duration:n})}(e,c,Date.now()-u.current);u.current=null}}),[i,c]);return{handleMouseUp:f,handleMouseDown:s,handleMouseMove:r,handleMouseEnter:a}}var $e=n(468874),et=function(){};function tt(e,t,n){var r=o.useRef(y().v4()),i=o.useRef(Date.now()),a=o.useCallback((function(o,a){var l={x:o,y:a,deltaTime:Date.now()-i.current};(0,$e.oW)(t,r.current,e,n,l);(0,$e.cV)(r.current,e,n,[l])}),[t,n,e]),l=o.useCallback((function(e,t,n){r.current=y().v4();i.current=Date.now();a(t,n)}),[a]),u=o.useCallback((function(e,t,n){return a(t,n)}),[a]),c=o.useCallback((function(e,t,n){return l(e,t,n)}),[l]);return o.useMemo((function(){return{handleMouseDown:l,handleMouseMove:u,handleMouseUp:et,handleMouseEnter:c}}),[l,c,u])}
var nt=n(513328),rt=n(35723);function ot(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ot(e,t,n[t])}))}return e}function at(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var lt=S().debounce($e.BR,rt.Fq,{maxWait:rt.Fq})
;function ut(e){var t=e.user,n=e.channelId,r=e.streamerId,i=e.stream,a=e.focused,l=e.canvas,u=o.useRef(!1),c=(0,Fe.ZP)([We.Z],(function(){return We.Z.getDrawMode()})),s=Je(tt(t.id,n,r),i),f=Je(function(e,t,n){var r=o.useRef(y().v4()),i=o.useRef(new nt.Xp),a=o.useCallback((function(r){r.lastUpdatedAt=Date.now();(0,$e.gr)(r,e,n);(0,$e.BR)(t,n,r)}),[t,n,e]),l=o.useCallback((function(o,l,u){r.current=y().v4();var c=at(it({},o),{id:r.current,x:l,y:u,userId:e,state:ze.f.START,lastUpdatedAt:Date.now()});(0,$e.BR)(t,n,c);(0,$e.gr)(c,e,n);i.current.start(rt.FO,(function(){return a(c)}))}),[e,t,n,a]),u=o.useCallback((function(o,l,u){var c=at(it({},o),{id:r.current,x:l,y:u,userId:e,state:ze.f.START,lastUpdatedAt:Date.now()});lt(t,n,c);(0,$e.gr)(c,e,n);i.current.start(rt.FO,(function(){return a(c)}))}),[e,t,n,a]),c=o.useCallback((function(o,a,l){lt.cancel();(0,$e.Df)(t,n,r.current);(0,$e.gr)(at(it({},o),{id:r.current,x:a,y:l,userId:e,state:ze.f.STOP,lastUpdatedAt:Date.now()}),e,n);i.current.stop()
}),[t,n,e]),s=o.useCallback((function(e,t,n){return u(e,t,n)}),[u]);return o.useMemo((function(){return{handleMouseDown:l,handleMouseMove:u,handleMouseUp:c,handleMouseEnter:s}}),[l,s,u,c])}(t.id,n,r),i),d=o.useCallback((function(e,t,n){if(null!=l){var r=(0,Ye.hn)(l,n),o=r.x,i=r.y;switch(t.type){case ze.W.LINE:return s[e](t,o,i);case ze.W.EMOJI_HOSE:return f[e](t,o,i)}}}),[l,s,f]),p=o.useCallback((function(e){if(a&&null!=c){e.stopPropagation();u.current=!0;d("handleMouseDown",c,e)}}),[d,c,a]),h=o.useCallback((function(e){if(a&&null!=c){e.stopPropagation();u.current&&d("handleMouseMove",c,e)}}),[d,c,a]),b=o.useCallback((function(e){if(a&&null!=c){e.stopPropagation();u.current=!1;d("handleMouseUp",c,e)}}),[d,c,a]),m=o.useCallback((function(e){u.current&&null!=c&&d("handleMouseEnter",c,e)}),[d,c]);o.useEffect((function(){var e=function(e){if(null!=c){u.current=!1;d("handleMouseUp",c,e)}};window.addEventListener("mouseup",e);return function(){return window.removeEventListener("mouseup",e)}
}),[d,c]);return{handleClick:o.useCallback((function(e){a&&null!=c&&e.stopPropagation()}),[c,a]),handleMouseDown:p,handleMouseEnter:m,handleMouseMove:h,handleMouseUp:b}}var ct=n(103245),st=n(285704),ft=n.n(st);function dt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pt(e){var t=e.focused,n=e.channelId,i=e.streamerId,a=e.stream,l=o.useRef(null),u=(0,Fe.ZP)([He.default],(function(){return He.default.getCurrentUser()}));Be()(null!=u,"user cannot be null");(0,ct.Z)(l,u,i,n);var c=ut({user:u,channelId:n,streamerId:i,stream:a,focused:t,canvas:l.current}),s=c.handleClick,f=c.handleMouseDown,d=c.handleMouseEnter,p=c.handleMouseMove,h=c.handleMouseUp;return(0,r.jsx)(Ge.Z,{children:(0,r.jsx)("canvas",{ref:l,onClick:s,onMouseDown:f,onMouseEnter:d,onMouseMove:p,onMouseUp:h,className:ft().sharedCanvas})})}function ht(e){return!Ve.Z.useExperiment({guildId:e.guildId},{autoTrackExposure:!0
}).isSharedCanvasEnabled||e.hasScreenMessage?null:(0,r.jsx)(pt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){dt(e,t,n[t])}))}return e}({},e))}var yt=n(419375),bt=n(177570),mt=n(61209),vt=n(901654),gt=n(994796),Ot=n(633878);function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function St(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function jt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e){var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.color,u=void 0===l?"currentColor":l,c=e.foreground,s=jt(e,["width","height","color","foreground"]),f=_t(o.useState((function(){return y().v4()})),1)[0];return(0,r.jsxs)("svg",St(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){Ct(e,t,n[t])}))}return e}({},(0,Ot.Z)(s)),{width:n,height:a,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsxs)("g",{clipPath:"url(".concat(f,")"),children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.49956C2 3.39656 2.897 2.49956 4 2.49956H16.3994L2.3179 16.5811C2.11679 16.2692 2 15.8979 2 15.4996L2 4.49956ZM7.88469 19.4996H11L11 17.4996H9.88469L22 5.38426L22 15.4996C22 16.6036 21.103 17.4996 20 17.4996L13 17.4996L13 19.4996L17 19.4996L17 21.4996H7L7 20.3843L7.88469 19.4996Z",fill:u}),(0,r.jsx)("rect",{className:c,x:"1.53553",y:"20.1924",width:"28",height:"2",transform:"rotate(-45 1.53553 20.1924)",fill:"#ED4245"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:f,children:(0,r.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]}))}var wt=n(977005),Pt=n(827025),xt=n(988533),At=n(327746),Tt=n(361584),Nt=n(167538),Mt=n(667286);function Zt(e){return e<=220}var Lt=n(358500),Rt=n(36256),Dt=n(754074),kt=n.n(Dt);function Ut(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ut(e,t,n[t])}))}return e}function Ft(e){var t=e.participant,n=e.selected,o=e.focused,i=e.idle,a=e.width,u=(0,l.e7)([bt.Z],(function(){return bt.Z.getActiveStreamForUser(t.user.id,t.stream.guildId)})),c=Zt(a);return(0,r.jsxs)(r.Fragment,{children:[n?null:(0,r.jsx)(Mt.Z,{participant:t}),o||null==u||u.state===L.jm8.ENDED||u.state===L.jm8.FAILED?null:(0,r.jsx)(ke.Z,{size:wt.ZP.Sizes.SMALL,className:kt().liveIndicator,participant:t,showQuality:!c&&!i,isUpsellEnabled:!1})]})}function Gt(e){var t=e.isSmall;return(0,r.jsxs)("div",{
className:a()(kt().content,kt().streamPreview,kt().streamUnavailable,Ut({},kt().small,t)),children:[(0,r.jsx)(c.Text,{className:kt().streamUnavailableText,color:"always-white",variant:t?"text-sm/semibold":"text-md/semibold",children:V.Z.Messages.CONSOLE_STREAM_UNAVAILABLE}),(0,r.jsx)("div",{className:kt().darkCircle,children:(0,r.jsx)(It,{className:kt().stopStreamIcon,foreground:kt().stopStreamForeground})})]})}function Ht(e){var t=e.participant,n=e.selected,i=e.onVideoResize,u=e.paused,s=e.fit,f=e.inPopout,d=e.width,p=e.focused,h=me.Z.getVideoComponent(),y=(0,l.e7)([be.default],(function(){return be.default.getId()})),b=(0,Le.Z)(),m=t.stream,v=t.user,g=t.streamId,O=(0,l.e7)([mt.Z],(function(){return mt.Z.getChannel(m.channelId)})),E=(0,l.e7)([bt.Z],(function(){return bt.Z.getActiveStreamForUser(v.id,m.guildId)}),[v.id,m.guildId]),C=(0,l.e7)([bt.Z],(function(){return bt.Z.getAllActiveStreams().length>0})),S=(0,l.e7)([vt.Z],(function(){return vt.Z.isFocused()
})),j=(null==E?void 0:E.ownerId)===y,_=j&&!S&&!f,I=null!=E?(0,Re.Z)(E,v,v.id===y,_):null,w=d<195;o.useEffect((function(){if(!C&&(null==O?void 0:O.isGuildStageVoice())&&!j){(0,Me.rn)(m);Ne.Z.updateStageStreamSize(m.channelId,!1)}}),[]);return b?(0,r.jsx)(Gt,{isSmall:w}):(null==E?void 0:E.state)===L.jm8.ENDED?(0,r.jsx)(At.Z,{selected:n,stream:E,width:d}):(null==E?void 0:E.state)===L.jm8.FAILED?(0,r.jsx)(Tt.Z,{selected:n,stream:E,width:d}):t.type===Lt.fO.HIDDEN_STREAM?(0,r.jsx)(Nt.Z,{selected:n,participant:t,width:d}):null!=E&&!n&&null!=h&&me.Z.supports(Rt.AN.VIDEO)?(0,r.jsxs)(r.Fragment,{children:[null!=O?(0,r.jsx)(ht,{focused:p,channelId:O.id,guildId:O.guild_id,streamerId:v.id,hasScreenMessage:null!=I,stream:m}):null,(0,r.jsx)(ve.Z,{onResize:i,wrapperClassName:kt().videoWrapper,className:kt().content,streamId:g,videoComponent:h,fit:s,paused:u||_,videoSpinnerContext:j?Ze.m.SELF_STREAM:Ze.m.REMOTE_STREAM,userId:v.id}),null!=I?(0,r.jsx)(yt.Z,Bt({size:(0,xt.L)(d)},I)):null]}):(0,
r.jsxs)("div",{className:a()(kt().content,kt().streamPreview,Ut({},kt().small,w)),children:[(0,r.jsx)(De.Z,{noText:!0,className:a()(kt().absoluteFill,Ut({},kt().streamPreviewOpacity,null==E)),stream:t.stream}),n?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Pt.a,{isSmall:w,children:(0,r.jsx)(c.Text,{variant:w?"text-sm/semibold":"text-md/semibold",color:"none",children:d<175?V.Z.Messages.WATCH:V.Z.Messages.WATCH_STREAM})}),C?(0,r.jsx)(Pt.a,{className:kt().addCTA,tooltip:V.Z.Messages.STREAM_WATCH_MULTIPLE_TOOLTIP,onClick:function(e){e.stopPropagation();(0,Me.rn)(m,{forceMultiple:!0})},isSmall:w,children:(0,r.jsx)(gt.Z,{className:kt().addStreamIcon})}):null]})]})}var Vt=n(841379),Wt=n(995141),zt=n(566706),Yt=n(979197),Kt=n(21372),qt=n(68392),Xt=n(773148),Qt=n(781295);function Jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var $t=c.AvatarSizes.SIZE_80,en=c.AvatarSizes.SIZE_40;function tn(e){
var t=e.participant,n=e.channel,i=e.inCall,u=e.width,s=e.paused,f=e.selected,d=e.fit,h=e.onVideoResize,y=e.blocked,b=e.noVideoRender,m=void 0!==b&&b,v=e.pulseSpeakingIndicator,g=void 0!==v&&v,O=me.Z.getVideoComponent(),E=(0,l.e7)([be.default],(function(){return be.default.getId()})),C=t.user,S=t.streamId,j=t.speaking,_=C.id===E,I=(0,Qt.Z)(t),w=(0,l.e7)([vt.Z],(function(){return vt.Z.isFocused()})),P=(0,l.e7)([Yt.Z],(function(){return Yt.Z.getWindowFocused(L.KJ3.CHANNEL_CALL_POPOUT)})),x=(0,l.e7)([me.Z],(function(){return null!=C.id&&me.Z.isLocalVideoDisabled(C.id,(0,p.Z)(t.type))}),[C.id,t.type]),A=(0,l.e7)([Kt.ZP],(function(){return Kt.ZP.isGuestOrLurker(n.guild_id,C.id)})),T=Xt.Z.getName(n.getGuildId(),n.id,C)+(A?" ".concat(V.Z.Messages.GUEST_NAME_SUFFIX):""),N=u<124,M=j&&(P||w),Z=N?en:$t,R=(0,Vt.Z)({user:C,size:(0,Wt.y)(Z),canAnimate:M}),D=(0,l.e7)([zt.Z],(function(){return zt.Z.getSelectedParticipant(n.id)}));o.useEffect((function(){
n.isGuildStageVoice()&&!I&&(null==D?void 0:D.id)===C.id&&Ne.Z.selectParticipant(n.id,null)}),[I]);return i&&!x&&!m&&I&&!f&&null!=O&&me.Z.supports(Rt.AN.VIDEO)?(0,r.jsx)(ve.Z,{onResize:h,wrapperClassName:kt().videoWrapper,className:kt().content,mirror:_,streamId:S,videoComponent:O,fit:d,paused:s,videoSpinnerContext:C.id===E?Ze.m.SELF_VIDEO:Ze.m.REMOTE_VIDEO,userId:C.id}):(0,r.jsx)("div",{className:a()(kt().content,Jt({},kt().blockedAvatar,y)),children:(0,r.jsx)(qt.Z,{"aria-label":T,src:C.getAvatarURL(n.guild_id,(0,c.getAvatarSize)(N?en:$t),M),avatarDecoration:R,backgroundSrc:C.getAvatarURL(n.guild_id,80),size:Z,pulseSpeakingIndicator:g,speaking:j})})}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){rn(e,t,n[t])}))}return e}function an(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ln(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cn=o.memo((function(e){
var t,n,i,u=e.participant,h=e.onDoubleClick,y=e.onContextMenu,b=e.onClick,m=e.onMouseDown,v=e.onKeyDown,O=e.className,E=e.style,C=e.channel,S=e.width,j=e.inPopout,_=e.onVideoResize,I=e.inCall,w=void 0!==I&&I,P=e.selected,x=void 0!==P&&P,A=e.noBorder,T=void 0!==A&&A,N=e.noVideoRender,M=void 0!==N&&N,Z=e.focused,R=void 0!==Z&&Z,D=e.blocked,k=void 0!==D&&D,U=e.fit,B=void 0===U?ve.L.CONTAIN:U,F=e.paused,H=void 0!==F&&F,W=e.pulseSpeakingIndicator,z=void 0!==W&&W,Y=o.useContext(ie.h9),K=un(o.useState(!1),2),X=K[0],Q=K[1],J=(0,l.e7)([be.default],(function(){return be.default.getId()})),ee=u.type===Lt.fO.ACTIVITY?null:null===(t=u.user)||void 0===t?void 0:t.id,te=un((0,d.Z)(u.type===Lt.fO.ACTIVITY?[u.id]:[]),1)[0],ne=(0,l.e7)([g.Z],(function(){return g.Z.getEnabled()})),le=(0,l.e7)([me.Z],(function(){return null!=ee&&me.Z.isLocalVideoDisabled(ee,(0,p.Z)(u.type))}),[ee,u.type]),ue=function(e,t){var n,r,o=null,i=null,a=null,l=!1,u=!1;switch(e.type){case Lt.fO.ACTIVITY:break;case Lt.fO.USER:
o=e.streamId;a=e.voiceState;l=e.speaking;u=e.ringing;break;case Lt.fO.STREAM:o=e.streamId;i=e.stream}return{streamId:o,stream:i,speaking:l,ringing:u,muted:null!==(n=null==a?void 0:a.isVoiceMuted())&&void 0!==n&&n,deafen:null!==(r=null==a?void 0:a.isVoiceDeafened())&&void 0!==r&&r,mirror:e.type===Lt.fO.USER&&e.user.id===t,hasVideo:(0,Qt.Z)(e)}}(u,J),ce=ue.speaking,se=ue.muted,fe=ue.deafen,de=ue.ringing,pe=ue.hasVideo,he=(0,l.e7)([me.Z],(function(){return null!=ee&&me.Z.isLocalMute(ee,(0,p.Z)(u.type))}),[ee,u.type]),ge=u.type===Lt.fO.STREAM&&ee===J,Ee=(0,l.e7)([ae.Z],(function(){return null!=ee?ae.Z.getEffectForUserId(ee):null}));o.useEffect((function(){Q(R)}),[R]);var Ce=o.useCallback((function(){null!=ee&&s.Z.toggleLocalMute(ee,Rt.Yn.STREAM)}),[ee]),Se=o.useCallback((function(e){null==b||b(u,e)}),[b,u]),je=o.useCallback((function(e){null==h||h(u,e)}),[h,u]),_e=o.useCallback((function(e){null==y||y(u,e)}),[y,u]),Ie=null,we=null,Pe="";switch(u.type){case Lt.fO.STREAM:Ie=(0,r.jsx)(Ht,{
participant:u,selected:x,width:S,fit:B,onVideoResize:_,paused:H,inPopout:j,focused:R});we=(0,r.jsx)(Ft,{participant:u,selected:x,width:S,focused:R,idle:Y});Pe=V.Z.Messages.CALL_TILE_A11Y_LABEL_STREAM.format({streamerName:u.user.username});break;case Lt.fO.USER:Ie=(0,r.jsx)(tn,{channel:C,inCall:w,participant:u,fit:B,onVideoResize:_,paused:H,selected:x,width:S,blocked:k,noVideoRender:M,pulseSpeakingIndicator:z});Pe=V.Z.Messages.CALL_TILE_A11Y_LABEL_USER.format({username:u.user.username});break;case Lt.fO.ACTIVITY:Ie=(0,r.jsx)(Ae.ZP,{interactible:R,participant:u,selected:x,channel:C,width:S});Pe=V.Z.Messages.CALL_TILE_A11Y_LABEL_ACTIVITY.format({activityName:null==te?void 0:te.name});break;case Lt.fO.HIDDEN_STREAM:Ie=(0,r.jsx)(Ht,{participant:u,selected:x,width:S,fit:B,onVideoResize:_,paused:H,inPopout:j,focused:R})}var Ne,Me,Ze,Le,Re=o.useRef(null);return(0,r.jsx)(f.Z,{section:L.jXE.VOICE_CHANNEL_TILE,children:(0,r.jsx)("div",{className:a()(kt().wrapper,rn({},kt().ringing,de),O),
children:(0,r.jsxs)(oe.Z,{shakeLocation:$.oZ.VOICE_USER,isShaking:ce,className:kt().tile,children:[(0,r.jsx)(Te.Z,{ref:Re,className:a()(kt().tile,(Ze={},rn(Ze,kt().noBorder,T),rn(Ze,kt().noInteraction,null==b),rn(Ze,kt().idle,Y),Ze)),noBorder:T,style:E,participantUserId:ee,children:(0,r.jsxs)(c.ClickableContainer,{"aria-label":Pe,className:kt().tileChild,onDoubleClick:je,onContextMenu:_e,onClick:Se,onMouseDown:m,onKeyDown:v,focusProps:{offset:1},children:[u.type===Lt.fO.USER&&null!=ee&&null!=Ee?(0,r.jsx)(ye,{voiceChannelEffect:Ee,onComplete:function(){return(0,ae.H)(ee)},userId:ee}):null,u.type===Lt.fO.USER?(0,r.jsx)("div",{className:kt().voiceChannelEffectsContainer,children:(0,r.jsx)(G,{userId:ee,channelId:C.id,guildId:C.getGuildId(),containerDimensions:{width:null!==(Ne=null==Re||null===(n=Re.current)||void 0===n?void 0:n.clientWidth)&&void 0!==Ne?Ne:0,height:null!==(Me=null==Re||null===(i=Re.current)||void 0===i?void 0:i.clientHeight)&&void 0!==Me?Me:0}})}):null,Ie,T?null:(0,
r.jsx)("div",{className:kt().indicators,children:we}),x?(0,r.jsx)("div",{className:kt().selectedScreen,children:(0,r.jsx)(Oe.Z,{className:kt().selectedIcon})}):null,u.type!==Lt.fO.ACTIVITY?(0,r.jsx)(sn,{focused:R,width:S,inCall:w,participantType:u.type,hasVideo:null!=pe&&pe,muted:se,deafen:fe,idle:Y,title:(0,xe.Z)(C,u),blocked:k,localMute:he,localVideoDisabled:le,hideAudioIcon:ge,onContextMenu:_e,onToggleMute:Ce,participantUserId:ee}):null,u.type===Lt.fO.USER&&ne?(0,r.jsx)(q,{userId:u.id,channelId:C.id}):null,w&&!T?(0,r.jsx)("div",{className:a()(kt().border,(Le={},rn(Le,kt().voiceChannelEffect,!R&&null!=Ee),rn(Le,kt().speaking,ce&&!R),Le))}):null]})}),(0,r.jsx)(re,{isFiring:X,callTileRef:Re.current})]})})})}));cn.displayName="CallTile";var sn=o.memo((function(e){
var t,n=e.muted,o=e.deafen,i=e.idle,s=e.title,f=e.width,d=e.hasVideo,h=e.inCall,y=e.localMute,b=e.localVideoDisabled,m=e.focused,v=e.blocked,g=e.hideAudioIcon,O=e.participantType,E=e.participantUserId,C=e.onContextMenu,S=e.onToggleMute,j=null,_=null,I=null,w=Zt(f),P=function(e){return e<=124}(f),x=(0,l.e7)([H.Z],(function(){return O===Lt.fO.STREAM&&H.Z.isClipsEnabledForUser(null!=E?E:"")})),A=(0,l.e7)([me.Z],(function(){return null!=E&&me.Z.isLocalVideoAutoDisabled(E,(0,p.Z)(O))}),[E,O]);if(!g)if(o||n||y){var T=o?Se.Z:je.Z;j=(0,r.jsx)(T,{foreground:a()(rn({},kt().localMuteStrikethrough,y&&!o)),className:kt().status});if(y&&O===Lt.fO.STREAM&&d&&!m){j=(0,r.jsx)(c.Tooltip,{text:V.Z.Messages.UNMUTE,children:function(e){var t=e.onClick,n=ln(e,["onClick"]);return(0,r.jsx)(c.Clickable,an(on({},n),{onClick:function(e){e.stopPropagation();null==t||t();S()},className:a()(kt().status,kt().interactive),children:(0,r.jsx)(Pe.Z,{})}))}})}}else if(!y&&O===Lt.fO.STREAM&&d&&!w&&!m){j=(0,
r.jsx)(c.Tooltip,{text:V.Z.Messages.MUTE,children:function(e){var t=e.onClick,n=ln(e,["onClick"]);return(0,r.jsx)(c.Clickable,an(on({},n),{onClick:function(e){e.stopPropagation();null==t||t();S()},className:a()(kt().status,kt().interactive,kt().toggleMute),children:(0,r.jsx)(we.Z,{})}))}})}h&&me.Z.supports(Rt.AN.VIDEO)||!d?h&&d&&b&&!A&&(_=(0,r.jsx)(Ee.Z,{className:kt().status,foreground:kt().localMuteStrikethrough})):_=(0,r.jsx)(Oe.Z,{className:kt().status});if(x){t=(0,r.jsx)(c.Tooltip,{text:V.Z.Messages.CLIPS_ENABLED_VIEWER_TOOLTIP,children:function(e){var t=e.onClick,n=ln(e,["onClick"]);return(0,r.jsx)(c.Clickable,an(on({},n),{onClick:function(e){e.stopPropagation();null==t||t()},className:a()(kt().status,kt().interactive),children:(0,r.jsx)(Ce.Z,{})}))}})}if(O===Lt.fO.STREAM&&!m&&d){I=(0,r.jsx)(c.Tooltip,{text:V.Z.Messages.OPTIONS,children:function(e){var t=e.onClick,n=ln(e,["onClick"]);return(0,r.jsx)(c.Clickable,an(on({},n),{onClick:function(e){e.stopPropagation();null==t||t()
;C(e)},className:a()(kt().status,kt().interactive),children:(0,r.jsx)(Ie.Z,{})}))}})}return(0,r.jsxs)("div",{className:kt().overlayContainer,children:[(0,r.jsx)("div",{className:a()(kt().overlayTop,rn({},kt().small,f<195)),children:A?i?(0,r.jsx)(Ee.Z,{className:kt().status}):(0,r.jsxs)("div",{className:a()(kt().overlayTitle,kt().videoDisabledTitle),children:[(0,r.jsx)(Ee.Z,{className:kt().status}),(0,r.jsx)(c.Text,{variant:"text-sm/normal",className:kt().overlayTitleText,children:V.Z.Messages.UNSTABLE_CONNECTION})]}):null}),(0,r.jsxs)("div",{className:a()(kt().overlayBottom,rn({},kt().small,f<195)),children:[P?(0,r.jsx)("div",{}):(0,r.jsxs)(c.Text,{className:a()(kt().overlayTitle,rn({},kt().idle,i)),color:"none",variant:"text-md/normal",children:[v?(0,r.jsx)("div",{className:kt().blocked,children:(0,r.jsx)(ge.Z,{className:kt().blockedIcon,color:u.Z.unsafe_rawColors.RED_400.css})}):null,O===Lt.fO.STREAM&&(0,r.jsx)(_e.Z,{className:kt().titleIcon}),null!=s&&""!==s?(0,r.jsx)("span",{
className:kt().overlayTitleText,children:s}):null]}),(0,r.jsxs)("div",{className:kt().statusContainer,children:[t,_,j,I]})]})]})}));sn.displayName="CallTileOverlay";var fn=ve.L;const dn=cn},718637:(e,t,n)=>{"use strict";n.d(t,{NZ:()=>Jt,ZP:()=>nn,r:()=>Qt});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(441143),u=n.n(l),c=n(248088),s=n(202351),f=n(945460),d=n(656645),p=n(116404),h=n(481008),y=n(213276),b=n(26468),m=n(258104),v=n(555086),g=n(153686),O=n(19585),E=n(29891),C=n(284211),S=n(566706),j=n(400572),_=n(666305),I=n(496388),w=n(668269),P=n(409125),x=n(122590),A=n(306263),T=n(866926),N=n(371607),M=n(201441),Z=n(700183),L=n(575907),R=n(732068),D=n(61209),k=n(419348),U=n(127661),B=n(382840),F=n(242735),G=n(877116),H=n(473708),V=n(874721),W=n.n(V);function z(e){var t=e.channelId,n=e.onClick,o=(0,b.bp)(),i=(0,M.qY)(t),a=(0,s.e7)([D.Z],(function(){return D.Z.getChannel(t)}),[t]),l=(0,(0,Z.q5)(a).canManageGuildEvent)(i);if(null==i)return null;var u=function(){null!=a&&(0,
G.Z)(a)?(0,B.lC)(a,o):n()},c=function(){F.Z.endEvent(i.id,i.guild_id)};return l?(0,r.jsx)(f.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(L.Z,{children:(0,r.jsx)(f.Menu,{navId:"exit-options",onSelect:function(){},"aria-label":H.Z.Messages.DISCONNECT_MENU,onClose:t,children:(0,r.jsx)(f.MenuItem,{id:"end-voice-event",color:"danger",action:c,label:H.Z.Messages.END_EVENT,icon:U.Z})})})},align:"center",position:"top",animation:f.Popout.Animation.FADE,children:function(e){var t=e.onClick;return(0,r.jsx)(R.d,{label:H.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:k.Z,onClick:u,onPopoutClick:t,className:W().buttonSpacing})}}):(0,r.jsx)(R.d,{className:W().buttonSpacing,label:H.Z.Messages.DISCONNECT_SELF,color:"red",iconComponent:k.Z,onClick:n})}var Y=n(311569),K=n(636398),q=n(997244),X=n(189865);function Q(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function J(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ee(e){var t=e.channel,n=$(e,["channel"]);return(0,r.jsx)(R.d,J(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Q(e,t,n[t])}))}return e}({},n),{iconComponent:X.Z,label:H.Z.Messages.DISMISS,onClick:function(){return q.Z.stopRinging(t.id)}}))}var te=n(731209),ne=n(111441),re=n(8464),oe=n(65200),ie=n(707073),ae=n(211482),le=n(199737),ue=n.n(le);function ce(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function se(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function fe(){return(0,r.jsxs)("div",{className:ue().icon,children:[(0,
r.jsx)(ae.ZP,{mask:ae.ZP.Masks.STATUS_SCREENSHARE,width:24,height:24,children:(0,r.jsx)(ie.Z,{width:24,height:24})}),(0,r.jsx)(X.Z,{className:ue().badge})]})}function de(e){var t=e.isSelfStream,n=e.centerButton,o=void 0!==n&&n,i=se(e,["isSelfStream","centerButton"]),a=o?R.d:R.Z,l=t?H.Z.Messages.STOP_BROADCASTING:H.Z.Messages.STOP_WATCHING;return(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ce(e,t,n[t])}))}return e}({label:l,iconComponent:fe,isActive:!0},i))}var pe=n(524538),he=n(235606);function ye(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function me(e){var t=e.hasPermission,n=e.centerButton,o=void 0!==n&&n,i=be(e,["hasPermission","centerButton"]),a=o?R.d:R.Z,l=t?H.Z.Messages.SHARE_YOUR_SCREEN:H.Z.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE;return(0,r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ye(e,t,n[t])}))}return e}({label:l,disabled:!t,iconComponent:he.Z},i))}
var ve=n(759864),ge=n(177570),Oe=n(610773),Ee=n(604945),Ce=n(715107),Se=n(473903),je=n(563135),_e=n(199047),Ie=n(708258),we=n(259099),Pe=n(79987),xe=n(418705),Ae=n(579581),Te=n(260561),Ne=(0,Te.B)({kind:"user",id:"2022-12_activities_auto_suggest",label:"Activities Auto Suggest",defaultConfig:{enableCenterControlTrayMiniShelf:!1},treatments:[{id:1,label:"Enable VC Activities Mini Shelf",config:{enableCenterControlTrayMiniShelf:!0}}]}),Me=n(966225),Ze=n(548586),Le=(0,Te.B)({kind:"user",id:"2023-03_activities_watch_together_promo_sparkles_week_1",label:"Activities Watch Together Promo Week 1 Sparkles",defaultConfig:{enableWatchTogetherPromoWeek1Sparkles:!1},treatments:[{id:1,label:"enable Watch Together promo week 1 sparkles",config:{enableWatchTogetherPromoWeek1Sparkles:!0}}]}),Re=(0,Te.B)({kind:"user",id:"2023-03_activities_watch_together_promo_sparkles_week_2",label:"Activities Watch Together Promo Week 2 Sparkles",defaultConfig:{enableWatchTogetherPromoWeek2Sparkles:!1},treatments:[{
id:1,label:"enable Watch Together promo week 2 sparkles",config:{enableWatchTogetherPromoWeek2Sparkles:!0}}]});var De=n(22664),ke=n(59732),Ue=n(436771),Be=n(473727),Fe=n(468811),Ge=n.n(Fe),He=n(316878),Ve=n(64234),We=n(136317),ze=n(108206),Ye=n(652591),Ke=n(901750),qe=n(254907),Xe=n(238852);function Qe(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Je(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const $e=function(e){return(0,r.jsxs)("svg",Je(function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Qe(e,t,n[t])}))}return e}({viewBox:"0 0 500 350",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:"linear-gradient",x1:137.05,y1:259.98,x2:172.2,y2:237.66,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-2",x1:146.1,y1:114.65,x2:204.28,y2:84.63,gradientTransform:"matrix(-.99 .13 .13 .99 416 -12.92)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#7196ff"}),(0,r.jsx)("stop",{offset:.2,stopColor:"#6990fc"}),(0,r.jsx)("stop",{offset:.49,stopColor:"#547ff4"}),(0,r.jsx)("stop",{offset:.67,stopColor:"#4572ee"
})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-3",x1:167.18,y1:156.28,x2:118.66,y2:238.11,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#ff8c19"}),(0,r.jsx)("stop",{offset:.55,stopColor:"#ffe75c"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-4",x1:125.79,y1:287.01,x2:241.87,y2:290.82,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:.95,stopColor:"#ff8c19"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-5",x1:323.47,y1:303.47,x2:284.74,y2:147.93,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.08,stopColor:"#717f8e"}),(0,r.jsx)("stop",{offset:1,stopColor:"#d3d7db"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-6",x1:211.38,y1:109.6,x2:273.39,y2:77.6,gradientTransform:"matrix(-.8 .6 .6 .8 325.62 -103.19)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.32,stopColor:"#7196ff"}),(0,r.jsx)("stop",{offset:.43,
stopColor:"#6a90fc"}),(0,r.jsx)("stop",{offset:.74,stopColor:"#5b84f6"}),(0,r.jsx)("stop",{offset:1,stopColor:"#5680f4"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-7",x1:-96.32,y1:138.47,x2:-101.4,y2:109.82,gradientTransform:"scale(-1 1) rotate(14.5 27.61 -552.62)",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:0,stopColor:"#4572ee"}),(0,r.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,r.jsx)("linearGradient",{id:"linear-gradient-8",x1:-39.5,y1:59.37,x2:-44.66,y2:30.24,gradientTransform:"matrix(-.98 .17 .17 .98 119.49 49.25)",xlinkHref:"#linear-gradient-7"}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-9",x1:299.25,y1:167.71,x2:244.21,y2:161.69,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.32,stopColor:"#4572f0"}),(0,r.jsx)("stop",{offset:.52,stopColor:"#4d79f3"}),(0,r.jsx)("stop",{offset:.84,stopColor:"#638bfa"}),(0,r.jsx)("stop",{offset:1,stopColor:"#7196ff"})]}),(0,r.jsxs)("linearGradient",{id:"linear-gradient-10",x1:423.96,
y1:48.35,x2:363.72,y2:139.3,gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:.45,stopColor:"#ffe75c"}),(0,r.jsx)("stop",{offset:1,stopColor:"#ff8c19"})]}),(0,r.jsx)("style",{children:".cls-3{fill:#ff78b9}.cls-6{fill:#ed5f00}.cls-12{fill:#7196ff}.cls-16{fill:#b6cbff}.cls-18{fill:#7fa0ff}.cls-21{fill:#5783ff}.cls-24{fill:#8e99a5}"})]}),(0,r.jsx)("path",{d:"M391.43 240.7a19.35 19.35 0 0 1-8.76-13.59l-1.46-9.49a1 1 0 0 0-.31-.59.85.85 0 0 0-1.24 0 1 1 0 0 0-.31.59l-1.45 9.49a19.66 19.66 0 0 1-8.76 13.59l-1.26.79a.92.92 0 0 0-.3.35.9.9 0 0 0-.1.45.87.87 0 0 0 .1.45.92.92 0 0 0 .3.35l1.26.79a19.71 19.71 0 0 1 8.76 13.6l1.45 9.48a1 1 0 0 0 .32.57 1 1 0 0 0 1.23 0 .93.93 0 0 0 .31-.57l1.46-9.48a19.34 19.34 0 0 1 8.76-13.6l1.26-.79a1 1 0 0 0 .3-.35 1 1 0 0 0 .1-.45 1 1 0 0 0-.4-.8Z",style:{fill:"#57f287"}}),(0,r.jsx)("path",{
d:"M79.4 119.28a19.34 19.34 0 0 1-8.76-13.6l-1.46-9.48a1 1 0 0 0-.31-.6.87.87 0 0 0-1.24 0 1.06 1.06 0 0 0-.31.6l-1.45 9.48a19.71 19.71 0 0 1-8.76 13.6l-1.26.79a.92.92 0 0 0-.3.35.87.87 0 0 0-.1.45.9.9 0 0 0 .1.45.83.83 0 0 0 .3.34l1.26.8a19.66 19.66 0 0 1 8.76 13.59l1.45 9.48a1 1 0 0 0 .32.58 1 1 0 0 0 1.23 0 .92.92 0 0 0 .31-.58l1.46-9.48a19.49 19.49 0 0 1 2.89-7.75 19.24 19.24 0 0 1 5.87-5.84l1.26-.8a.83.83 0 0 0 .3-.34 1 1 0 0 0 .1-.45 1 1 0 0 0-.1-.45.92.92 0 0 0-.3-.35Z",style:{fill:"#8cd9ff"}}),(0,r.jsx)("path",{className:"cls-3",
d:"M424.29 277.52a13.59 13.59 0 0 1-4.15-4.12 13.85 13.85 0 0 1-2-5.48l-1-6.69a.66.66 0 0 0-1.31 0l-1 6.69a13.88 13.88 0 0 1-6.18 9.6l-.9.56a.72.72 0 0 0-.21.25.71.71 0 0 0-.07.32.68.68 0 0 0 .28.56l.9.56a13.88 13.88 0 0 1 6.18 9.6l1 6.7a.64.64 0 0 0 .22.4.67.67 0 0 0 .87 0 .64.64 0 0 0 .22-.4l1-6.7a13.85 13.85 0 0 1 2-5.48 13.7 13.7 0 0 1 4.15-4.12l.89-.56a.68.68 0 0 0 .28-.56.71.71 0 0 0-.07-.32.72.72 0 0 0-.21-.25ZM312.67 50.64a13.7 13.7 0 0 1-4.14-4.13 13.46 13.46 0 0 1-2-5.47l-1-6.7a.75.75 0 0 0-.22-.42.6.6 0 0 0-.88 0 .69.69 0 0 0-.22.42l-1 6.7a13.84 13.84 0 0 1-6.18 9.6l-.89.56a.69.69 0 0 0-.21.24.77.77 0 0 0 0 .64.61.61 0 0 0 .21.24l.89.57a13.79 13.79 0 0 1 6.18 9.6l1 6.69a.73.73 0 0 0 .23.41.69.69 0 0 0 .86 0 .73.73 0 0 0 .23-.41l1-6.69a13.65 13.65 0 0 1 6.18-9.6l.89-.57a.61.61 0 0 0 .21-.24.77.77 0 0 0 0-.64.69.69 0 0 0-.21-.24Z"}),(0,r.jsx)("path",{
d:"M117 223.15s27.1-4.4 40.07 12.51 18.76 54.19-27.79 56.74c0 0 6.25-3.94 7.41-14.82 0 0-26.64 26.86-60.68 6.25 0 0 9-4.56 16.68-29.87C99.58 231.38 127 233.8 127 233.8s-2.6-5.55-10-10.65Z",style:{fill:"#eb459f"}}),(0,r.jsx)("path",{className:"cls-3",d:"M126.3 258.49s21.35-38.36 36.1-21.1c12.3 14.39 1.6 29.8-36.1 21.1Z"}),(0,r.jsx)("path",{d:"M140.49 210.84a39.73 39.73 0 0 1 36.29 70.69l-.24.12L140.25 211Z",style:{fill:"url(#linear-gradient)"}}),(0,r.jsx)("path",{className:"cls-6",d:"M185.46 233.56a1.25 1.25 0 1 0-1.08-2.25l-27 13 1.14 2.22ZM146.66 223.45c7.56-2.8 21.64-6.61 35.13-2.62a1.25 1.25 0 0 0 .71-2.4c-14.5-4.28-29.23-.2-37 2.75ZM193.82 240.23a1.25 1.25 0 0 0-2.41-.69c-4 14-15.42 24.07-21.73 28.74l1.17 2.28c6.51-4.72 18.63-15.19 22.97-30.33Z"}),(0,r.jsx)("path",{d:"M272.84 128.72c7.42.14 15.65-.7 25.48-1.7a9.76 9.76 0 1 0-2-19.41c-16.47 1.68-25.41 2.46-32.79.33-7.11-2-14.09-7.29-25.76-19.35a9.76 9.76 0 1 0-14 13.57c12.12 12.52 22.1 21 34.38 24.53a56.21 56.21 0 0 0 14.69 2.03Z",
style:{fill:"url(#linear-gradient-2)"}}),(0,r.jsx)("path",{d:"M213.51 175.69 180.61 154a69.42 69.42 0 0 0-48.86-10.64l-14 2.17a4.88 4.88 0 0 0-2.09 8.78l51.53 36.94Z",style:{fill:"url(#linear-gradient-3)"}}),(0,r.jsx)("path",{d:"M247.56 242 246 281.4a69.31 69.31 0 0 1-19.83 45.9l-9.9 10.08a4.88 4.88 0 0 1-8.35-3.42v-63.41Z",style:{fill:"url(#linear-gradient-4)"}}),(0,r.jsx)("path",{d:"m195.12 271.32-35.64-69.44a6.69 6.69 0 0 1 2.89-9l172.52-88.56s35.91-16.82 74.81 4.87a13 13 0 0 1 6.63 12.81c-4.86 41.79-39.68 63.62-39.68 63.62l-172.52 88.6a6.69 6.69 0 0 1-9.01-2.9Z",style:{fill:"url(#linear-gradient-5)"}}),(0,r.jsx)("circle",{cx:311.18,cy:167.88,r:30.46}),(0,r.jsx)("path",{className:"cls-6",d:"M311.22 200.86a33 33 0 1 1 15-3.66 33 33 0 0 1-15 3.66Zm-.09-60.94a28 28 0 1 0 24.93 15.19 27.82 27.82 0 0 0-24.93-15.19Z"}),(0,r.jsx)("path",{
d:"M213.42 126c7-3.71 14.22-8.75 22.86-14.78a10.4 10.4 0 1 0-11.9-17C209.9 104.24 202 109.6 194 111.44c-7.69 1.78-16.91.51-34-4.69a10.4 10.4 0 0 0-6 19.9c17.77 5.4 31.46 8.12 44.74 5a59.84 59.84 0 0 0 14.68-5.65Z",style:{fill:"url(#linear-gradient-6)"}}),(0,r.jsx)("path",{className:"cls-12",d:"M261.69 121.31c-2.89-11.31-5-17.25-13.46-28.37l-46.85 10.53c-1.67 25.92-6.72 34.81-5.67 43.93.83 7.25 8.38 18.18 23 18.42s21.94-9 32.9-16.55 12.55-18.27 10.08-27.96Z"}),(0,r.jsx)("path",{d:"M192.19 32.35c-12.59 2.17-3 15.4.4 18l29.55-7.24c-18.83-1.33-20.14-12.46-29.95-10.76Z",style:{fill:"#55ef84"}}),(0,r.jsx)("path",{d:"M205.44 47.31a1.23 1.23 0 0 1-.9-.38c-.14-.15-15-15.27-25.26-12.12a1.25 1.25 0 1 1-.73-2.39c11.73-3.59 27.14 12.1 27.79 12.77a1.25 1.25 0 0 1 0 1.77 1.27 1.27 0 0 1-.9.35Z"}),(0,r.jsx)("path",{d:"M230.71 38.82c8.19-3.11 15.33-22.12 1.67-26.55a15.5 15.5 0 0 0-8.25-.24c-22.91 5.18-6.34 30.84-25.54 35.31Z",style:{fill:"#47c26e"}}),(0,r.jsx)("path",{
d:"M217.22 46.26a1.26 1.26 0 0 1-1.12-.7 1.24 1.24 0 0 1 .56-1.67c10.32-5.15 10.89-20.58 10.89-20.74a1.23 1.23 0 0 1 1.29-1.21 1.24 1.24 0 0 1 1.21 1.28c0 .7-.6 17.09-12.28 22.91a1.23 1.23 0 0 1-.55.13Z"}),(0,r.jsx)("path",{d:"M253.05 45.91c12-1.77 15.64-3.67 18.58 16 2.73 17.52.16 16.89-14 18.91Z",style:{fill:"url(#linear-gradient-7)"}}),(0,r.jsx)("path",{className:"cls-16",d:"M255.39 50c8.39-1.24 11.08-4.17 13 11.17 1.55 12.32.11 11.83-9.82 13.24Z"}),(0,r.jsx)("path",{className:"cls-12",d:"M194.32 38.29h43.29A25.74 25.74 0 0 1 263.35 64v20.2a20.59 20.59 0 0 1-20.59 20.59h-50.49a20.59 20.59 0 0 1-20.59-20.59V60.93a22.64 22.64 0 0 1 22.64-22.64Z",transform:"matrix(-.99 .17 -.17 -.99 443.95 105.64)"}),(0,r.jsx)("ellipse",{cx:191.65,cy:67.44,rx:4.15,ry:4.98,transform:"rotate(-10.19 191.598 67.447)"}),(0,r.jsx)("path",{className:"cls-16",d:"M215.13 55.86h20.38a13.26 13.26 0 0 1 13.26 13.26v7.29a9.45 9.45 0 0 1-9.45 9.45h-28a9.45 9.45 0 0 1-9.45-9.45v-7.29a13.26 13.26 0 0 1 13.26-13.26Z",
transform:"rotate(170.35 225.325 70.857)"}),(0,r.jsx)("ellipse",{cx:253.68,cy:56.65,rx:4.15,ry:4.98,transform:"rotate(-10.19 253.608 56.64)"}),(0,r.jsx)("path",{d:"M213.51 92.38a49.86 49.86 0 0 1-7.2-1.71 1.22 1.22 0 0 0-1.52 1.55c1.48 4.27 5.12 12 9.63 1.86a1.21 1.21 0 0 0-.91-1.7Z"}),(0,r.jsx)("path",{d:"M213.09 96.62c-3.15 4.93-5.76 1.52-7.35-2a6.39 6.39 0 0 1 7.35 2Z",style:{fill:"#ff78b7"}}),(0,r.jsx)("rect",{className:"cls-18",x:215.56,y:78.58,width:12.43,height:3.55,rx:1.76,transform:"rotate(-9.66 221.695 80.354)"}),(0,r.jsx)("rect",{className:"cls-18",x:230.95,y:76.24,width:10.55,height:3.55,rx:1.78,transform:"rotate(-9.66 236.196 78.003)"}),(0,r.jsx)("path",{d:"M173.25 59c-13.14 2.31-17.43 1.63-14.12 21.19 2.85 17.5 6.11 15.93 20.21 13.43Z",style:{fill:"url(#linear-gradient-8)"}}),(0,r.jsx)("path",{className:"cls-16",d:"m173.44 62.83 4.77 24.7c-11.86 1.86-11.85 1.07-14.43-12.24-2.09-10.82.33-11.04 9.66-12.46Z"}),(0,r.jsx)("path",{
d:"M230 137.26c31.47-9.59 39-.5 34.65 26.87-2.18 13.85-1.83 27.21-14.49 27-19.91-.34-12.71-17.14-12.14-32.18 0 0-6.33 1.33-11.61 2.24s-10.13-3.45-9.21-11.85 6.58-10.19 12.8-12.08Z",style:{fill:"url(#linear-gradient-9)"}}),(0,r.jsx)("path",{className:"cls-21",d:"M228.51 138.45a1.25 1.25 0 0 1-.51-2.39 42.25 42.25 0 0 1 17.69-3.33 1.27 1.27 0 0 1 1.24 1.27 1.25 1.25 0 0 1-1.25 1.23 39.77 39.77 0 0 0-16.68 3.11 1.34 1.34 0 0 1-.49.11ZM239.23 158a1.2 1.2 0 0 1-.74-.25 1.25 1.25 0 0 1-.26-1.75l5-6.65a1.25 1.25 0 1 1 2 1.49l-5 6.65a1.27 1.27 0 0 1-1 .51ZM199.73 132.31a1.26 1.26 0 0 1-1.17-.8 1.25 1.25 0 0 1 .72-1.62l9.07-3.51a1.25 1.25 0 1 1 .91 2.33l-9.08 3.51a1.2 1.2 0 0 1-.45.09Z"}),(0,r.jsx)("path",{d:"M409.7 109.18c-38.9-21.69-74.81-4.87-74.81-4.87l19.56 38.11 22.2 43.24s34.82-21.83 39.68-63.62a13 13 0 0 0-6.63-12.86Z",style:{fill:"url(#linear-gradient-10)"}}),(0,r.jsx)("ellipse",{cx:367.61,cy:110.41,rx:12.8,ry:5.19,style:{fill:"#fff"}}),(0,r.jsx)("path",{className:"cls-24",
d:"m281.46 220.54-56.2 28.63a12.69 12.69 0 0 0-5.55 17.06L298.15 226a12.41 12.41 0 0 0-16.69-5.46ZM242.5 229.16a5.34 5.34 0 0 0-10 3.54l-4.21 2.09a5.36 5.36 0 1 0 1.1 2.24l4.22-2.09a5.27 5.27 0 0 0 2.38 1.65 5.25 5.25 0 0 0 4.08-.27 5.35 5.35 0 0 0 2.42-7.16Zm-17 11.59a2.84 2.84 0 1 1-2.53-5.09 2.81 2.81 0 0 1 1.26-.3 2.91 2.91 0 0 1 .92.15 2.78 2.78 0 0 1 1.63 1.43 2.84 2.84 0 0 1-1.31 3.81Zm13.5-6.67a2.78 2.78 0 0 1-2.17.14 2.84 2.84 0 1 1 2.17-.14Z"})]}))};var et=n(691648),tt=n(2590),nt=n(458276),rt=n.n(nt),ot=n(761818),it=n.n(ot),at=n(244750),lt=n.n(at),ut=n(65295),ct=n.n(ut);function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}var yt="vc-activities-".concat(Ge().v4()),bt=o.forwardRef((function(e,t){var n=e.channel,i=e.isHovered,l=e.closePopout,u=e.onMouseEnter,c=e.onMouseLeave,d=e.onClick,p=e.className,h=Me.F.useExperiment({},{autoTrackExposure:!1}).enabled,y=Ke.Z.useExperiment({}).enabled,m=(0,s.e7)([Ve.Z],(function(){return Ve.Z.getState().theme})),v=(0,s.e7)([He.Z],(function(){return He.Z.useReducedMotion})),E=n.id,C=n.guild_id;o.useEffect((function(){Ye.default.track(tt.rMx.ACTIVITIES_CENTER_CONTROL_TRAY_BUTTON_HOVERED,{channel_id:E,guild_id:C})}),[E,C]);o.useEffect((function(){i||l()}),[l,i]);var S=(0,b.bp)(),j=(0,O.Z)(g.Z.ACTIVITIES_MINI_SHELF),_=j.analyticsLocations,I=j.AnalyticsLocationProvider,w=S===tt.IlC.POPOUT,P=(0,Ae.O)(),x=function(e){var t=(0,qe.Z)(e),n=[];t.forEach((function(e){var t,r=dt(e,2),o=(r[0],r[1]);(t=n).push.apply(t,pt(o))}));return n.slice(0,5)
}(n.getGuildId()),A=o.useCallback((function(){var e;(0,et.Z)({channel:n,guildId:null!==(e=n.getGuildId())&&void 0!==e?e:void 0,locationObject:P.location,openInPopout:w,analyticsLocations:_});c();d()}),[P,_,n,d,c,w]),T=o.useCallback((function(e){u();Ye.default.track(tt.rMx.ACTIVITIES_MINI_SHELF_HOVERED,{channel_id:n.id,guild_id:n.getGuildId()})}),[u,n]),N=h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{alt:H.Z.Messages.EMBEDDED_ACTIVITIES_MINI_SHELF_GAME_NIGHT_POSTER_ALT,src:ct(),className:rt().poster}),(0,r.jsx)("div",{className:rt().posterDivider})]}):y?(0,r.jsxs)(Be.rU,{to:tt.Z5c.ACTIVITIES,children:[(0,r.jsx)("img",{alt:H.Z.Messages.EMBEDDED_ACTIVITIES_BIRTHDAY_ACTIVITIES_HERO_ALT,src:"light"===m?it():lt(),className:rt().poster}),(0,r.jsx)("div",{className:rt().posterDivider})]}):null;return(0,r.jsx)(I,{children:(0,r.jsx)(L.Z,{children:(0,r.jsxs)(f.Dialog,{ref:t,"aria-labelledby":yt,className:p,children:[(0,r.jsx)(f.HeadingLevel,{forceLevel:2,children:(0,
r.jsx)(f.HiddenVisually,{children:(0,r.jsx)(f.H,{id:yt,children:H.Z.Messages.EMBEDDED_ACTIVITIES_MINI_SHELF_TITLE})})}),(0,r.jsxs)("div",{className:rt().container,onMouseEnter:T,onMouseLeave:c,children:[(0,r.jsxs)("div",{className:rt().titleContainer,children:[(0,r.jsxs)("div",{className:rt().titleLeft,children:[(0,r.jsx)(ze.Z,{className:rt().titleLeftIcon,color:"var(--interactive-active)"}),(0,r.jsx)(f.Text,{variant:"eyebrow",children:H.Z.Messages.EMBEDDED_ACTIVITIES_AUTO_SUGGEST_ACTIVITIES_TITLE})]}),(0,r.jsxs)(f.Clickable,{className:rt().titleRight,onClick:A,children:[(0,r.jsx)(f.Text,{variant:"eyebrow",children:H.Z.Messages.EMBEDDED_ACTIVITIES_AUTO_SUGGEST_SEE_ALL}),(0,r.jsx)(We.Z,{width:12,height:12,color:"var(--interactive-active)",className:rt().titleRightIcon})]})]}),N,(0,r.jsxs)("div",{className:rt().activityContainer,children:[x.map((function(e){return(0,r.jsx)(Xe.Y,{channel:n,activityItem:e,onClick:function(){l();d()},aspectRatio:Xe.Y.AspectRatio.THIRTEEN_BY_ELEVEN,
animatedDivClass:rt().activitySuggestion},e.application.id)})),(0,r.jsx)("div",{className:a()(rt().wumpusRocketOuterContainer,ft({},rt().wumpusReducedMotion,v)),children:(0,r.jsx)("div",{className:rt().wumpusRocketInnerContainer,children:(0,r.jsx)($e,{className:rt().wumpusRocket})})})]})]})]})})})}));var mt=n(948243),vt=n(627342),gt=n(15162),Ot=n(560213),Et=n(709189),Ct=n(815868),St=n.n(Ct);function jt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _t(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function It(e){var t,n=e.isActivityActive,o=_t(e,["isActivityActive"]),i=Me.F.useExperiment({},{
autoTrackExposure:!1}).enabled,l=(0,s.e7)([Ot.Z],(function(){return Ot.Z.getIsEnabled()}),[]);l&&(t="yellow");if(i){var u;return(0,r.jsxs)(Et.C,{disabled:o.disabled,onClick:o.onClick,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave,look:f.Button.Looks.BLANK,size:f.Button.Sizes.XLARGE,className:a()(St().gameNightButton,(u={},jt(u,St().gameNightActivityIsActive,n&&!o.disabled),jt(u,St().gameNightDeveloperActivityShelf,l),u)),innerClassName:St().gameNightButtonInner,children:[(0,r.jsx)(ze.Z,{className:St().gameNightRocket}),H.Z.Messages.EMBEDDED_ACTIVITIES_GAME_NIGHT]})}return(0,r.jsx)(R.d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){jt(e,t,n[t])}))}return e}({isActive:n,color:t,iconComponent:ze.Z},o))}var wt=n(494320),Pt=n.n(wt)
;function xt(e){var t=e.channel,n=Ne.useExperiment({},{autoTrackExposure:!0}).enableCenterControlTrayMiniShelf,i=(0,s.e7)([m.ZP],(function(){return m.ZP.isLaunchingActivity()})),a=(0,ke.KF)(t.id),l=(0,ke.g5)(a),u=a!==ke.jy.CAN_LAUNCH||i,c=(0,gt.Z)(200,300),d=c.isHovered,p=c.setIsHovered,h=c.onMouseEnter,y=c.onMouseLeave,v=(0,De.a)({}),g=Me.F.useExperiment({},{autoTrackExposure:!1}).enabled,E=v&&!g,C=function(e){var t=e.channelId;return(0,s.e7)([m.ZP],(function(){return m.ZP.getEmbeddedActivitiesForChannel(t).some((function(e){return e.connections.size>0}))}))}({channelId:t.id}),S=!u&&n,j=o.useCallback((function(e){"focus"!==e.type&&h()}),[h]),_=(0,Ae.O)(),I=(0,b.bp)()===tt.IlC.POPOUT,w=(0,O.Z)().analyticsLocations,P=o.useCallback((function(){(0,et.Z)({channel:t,guildId:t.guild_id,locationObject:_.location,openInPopout:I,analyticsLocations:w})}),[_.location,w,t,I]),x=[];n&&!u&&x.push(xe.z$.ACTIVITIES_MINI_SHELF_SPARKLES);(0,Ue.Z)(t.id)&&!u&&x.push(xe.z$.ACTIVITY_GDM_ROCKET_SPARKLE)
;var A=(0,Ze.e)(),T=Le.useExperiment({},{autoTrackExposure:!1}).enableWatchTogetherPromoWeek1Sparkles,N=Re.useExperiment({},{autoTrackExposure:!1}).enableWatchTogetherPromoWeek2Sparkles;A&&T&&!u&&x.push(xe.z$.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_1_SPARKLES);A&&N&&!u&&x.push(xe.z$.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_2_SPARKLES);return(0,r.jsx)(vt.Z,{contentTypes:x,children:function(e){var n=e.visibleContent,o=e.markAsDismissed;return(0,r.jsx)(f.Popout,{fixed:!0,shouldShow:d,animationPosition:"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:function(){p(!1)},renderPopout:function(e){var n=e.closePopout,i=e.setPopoutRef;return S?(0,r.jsx)(bt,{ref:i,channel:t,closePopout:n,onMouseEnter:h,onMouseLeave:y,isHovered:d,onClick:o}):(0,r.jsx)(r.Fragment,{})},children:function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(It,{disabled:u,"aria-label":l,label:S?void 0:l,isActivityActive:C||d,className:Pt().controlButton,onClick:function(){P()
;n!==xe.z$.ACTIVITIES_MINI_SHELF_SPARKLES&&n!==xe.z$.ACTIVITY_GDM_ROCKET_SPARKLE&&n!==xe.z$.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_1_SPARKLES&&n!==xe.z$.ACTIVITIES_WATCH_TOGETHER_APRIL_2023_WEEK_2_SPARKLES||o()},onMouseEnter:j,onMouseLeave:y}),E?(0,r.jsx)(mt.A,{top:4,right:10,size:12,maskColor:mt.T.BLACK}):null]})}})}})}var At=n(73407),Tt=n(761449),Nt=n(986279),Mt=n(957430);const Zt=function(e){var t=e.isHovered,n=e.closePopout,i=e.onMouseEnter,a=e.onMouseLeave,l=e.onFocus,u=e.channel;o.useEffect((function(){t||n()}),[n,t]);return(0,r.jsx)(L.Z,{children:(0,r.jsx)("div",{onMouseEnter:i,onMouseLeave:a,children:(0,r.jsx)(Mt.Z,{channel:u,closePopout:n,onFocus:l})})})};function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Dt=function(e){var t=e.channel,n=e.className,i=(0,gt.Z)(200,300),l=i.isHovered,u=i.setIsHovered,c=i.onMouseEnter,d=i.onMouseLeave,p=i.cancelTimers,h=Rt(o.useState(!1),2),y=h[0],b=h[1],m=(0,s.e7)([Nt.Z],(function(){return Nt.Z.effectCooldownEndTime})),v=o.useMemo((function(){return null!=m?(m.getTime()-Date.now())/1e3:0
}),[m]),g=(0,At.Z)(null!=m?m:new Date).seconds,O=g>0,E=o.useCallback((function(e){"focus"!==e.type&&(y||O||c())}),[y,O,c]),C=o.useCallback((function(){y||d()}),[d,y]),S=o.useCallback((function(e,t){p();b(!y);l&&!y||null==t||t(e)}),[p,y,l]),j=l||y;return(0,r.jsx)(f.Popout,{shouldShow:j,animationPosition:"bottom",position:"bottom",align:"center",spacing:16,onRequestClose:function(){u(!1);b(!1)},renderPopout:function(e){var n=e.closePopout;return(0,r.jsx)(Zt,{isHovered:j,channel:t,closePopout:n,onMouseEnter:c,onMouseLeave:C,onFocus:function(){return b(!0)}})},children:function(e){var t=e.onClick,o=e.onKeyDown;return(0,r.jsx)(Tt.Z,{isCenterButton:!0,totalCooldownSeconds:v,remainingCooldownSeconds:g,className:a()(Pt().controlButton,n),onKeyDown:function(e){return function(e,t){e.keyCode===tt.yXg.ENTER&&e.keyCode===tt.yXg.SPACE&&S(e,t)}(e,o)},onClick:function(e){return function(e,t){S(e,t)}(e,t)},onMouseEnter:E,onMouseLeave:C,isActive:j})}})}
;var kt,Ut=n(1056),Bt=n(289261),Ft=n(665435),Gt=n(537077),Ht=n(904333),Vt=n(358500);function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){zt(e,t,n[t])}))}return e}function Kt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function qt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){if(Ee.Z.isVideoEnabled()!==e){var n=function(){return d.Z.setVideoEnabled(e)};e?(0,Ht.Z)(n,t):n()}}function Jt(e){var t=e.channel,n=e.currentUser,i=e.exitFullScreen,a=e.canGoLive,l=e.hasPermission,u=e.disabled,c=(0,b.bp)(),d=(0,s.Wu)([ge.Z],(function(){return ge.Z.getAllActiveStreams()})).find((function(e){return e.ownerId===n.id})),p=t.getGuildId(),h=o.useCallback((function(){null==i||i();if(!a)return(0,Ft.Z)();(0,Gt.Z)(p,t.id,tt.ZY5.GUILD_CHANNEL)}),[p,t.id,a,i]),y=null!=d;return(0,r.jsx)(K.Z,{children:(0,r.jsx)(f.Popout,{renderPopout:function(e){var o=e.closePopout;return(0,r.jsx)(L.Z,{children:(0,
r.jsx)(Ut.Z,{channel:t,currentUser:n,activeStreams:null!=d?[d]:[],handleGoLive:h,onClose:o,appContext:c})})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,o=qt(e,["onClick"]),i=t.isShown;return(0,r.jsx)("div",{children:null!=d?(0,r.jsx)(pe.Z,Kt(Yt({},o),{centerButton:!0,className:Pt().controlButton,onClick:function(){return(0,N.Z)(d)},isSelfStream:!0,onPopoutClick:y?n:null,popoutOpen:i,shouldShowTooltip:!i})):(0,r.jsx)(me,Kt(Yt({},o),{centerButton:!0,className:Pt().controlButton,hasPermission:l,onClick:a?h:Ft.Z,onPopoutClick:y?n:null,popoutOpen:i,shouldShowTooltip:!i,disabled:u}))})}})})}function $t(e){var t=e.channel,n=t.getGuildId();return(0,v.Z)(n,t.id)?(0,r.jsx)("div",{className:Pt().buttonContainer,children:(0,r.jsx)(xt,{channel:t})}):null}!function(e){e.ACTIVITY="ACTIVITY";e.STREAM="STREAM";e.CALL="CALL";e.EVENT="EVENT";e.BROADCAST="BROADCAST"}(kt||(kt={}));var en=o.memo((function(e){
var t=e.connectedActivityApplicationId,n=e.currentUser,i=e.onDisconnectCall,a=e.channel,l=(0,s.e7)([S.Z],(function(){return S.Z.getSelectedParticipant(a.id)})),u=o.useContext(f.AccessibilityPreferencesContext).reducedMotion,d=Xt(o.useState(!1),2),y=d[0],b=d[1],m=null==l?void 0:l.id,v=(0,s.e7)([ge.Z],(function(){return null!=m?ge.Z.getActiveStreamForStreamKey(m):null}),[m]),g=(null==l?void 0:l.type)===Vt.fO.STREAM&&null!=v&&v.ownerId!==(null==n?void 0:n.id),O=(0,s.Wu)([ge.Z],(function(){return ge.Z.getAllActiveStreamsForChannel(a.id).filter((function(e){return e.ownerId!==(null==n?void 0:n.id)}))})),j=(0,M.qY)(a.id),_=(0,E.Dd)(a.id),I=_&&null!=a.ownerId&&a.ownerId===(null==n?void 0:n.id),w=o.useCallback((function(){return(null==l?void 0:l.type)===Vt.fO.ACTIVITY&&l.id===t?kt.ACTIVITY:_?kt.BROADCAST:g?kt.STREAM:null!=j?kt.EVENT:kt.CALL}),[l,t,g,j,_]),P=Xt(o.useState(w()),2),x=P[0],T=P[1],N=(0,c.useSpring)({opacity:y?.2:1,transform:y&&!u.enabled?"scale(0.7)":"scale(1)",config:{mass:2,
tension:y?600:1e3,friction:45,precision:.01,clamp:y},onRest:function(){T(w());b(!1)}});o.useEffect((function(){w()!==x&&b(!0)}),[x,w]);var Z=function(e,t){var o={centerButton:!0,className:Pt().controlButton,popoutOpen:e};switch(x){case kt.ACTIVITY:if(null==l||null==n)return;return(0,r.jsx)(ne.Z,Kt(Yt({},o),{applicationId:l.id,color:"red",channelId:a.id,onPopoutClick:O.length>0?t:null}));case kt.BROADCAST:return(0,r.jsx)(de,Kt(Yt({},o),{color:"red",onClick:function(){p.default.disconnect();null==i||i()},onPopoutClick:I?t:null,isSelfStream:I}));case kt.STREAM:return(0,r.jsx)(pe.Z,Kt(Yt({},o),{color:"red",onClick:function(){if(null!=v)(0,h.g)((0,A.V9)(v));else{var e=!0,t=!1,n=void 0;try{for(var r,o=O[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;(0,h.g)((0,A.V9)(i))}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},onPopoutClick:O.length>1?t:null,isSelfStream:!1}));case kt.CALL:return(0,r.jsx)(re.Z,Kt(Yt({},o),{color:"red",
onClick:function(){p.default.disconnect();null==i||i()},onPopoutClick:O.length>0?t:null}));case kt.EVENT:return(0,r.jsx)(z,{channelId:a.id,onClick:function(){p.default.disconnect();null==i||i()}})}};return(0,r.jsx)(f.Popout,{renderPopout:function(e){var t=e.closePopout;return _?(0,r.jsx)(C.Z,{onClose:t}):(0,r.jsx)(Ut.Z,{channel:a,currentUser:n,activeStreams:O,handleGoLive:tt.VqG,hideSelfOptions:!0,onClose:t})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(c.animated.div,{style:N,children:Z(o,n)})}})}));function tn(e){var t=e.channel,n=e.cameraUnavailable,i=e.hasCameraPermission,l=e.currentUser,u=(0,b.bp)(),c=(0,Ie.Z)(t),f=c.reachedLimit,d=c.limit,h=o.useCallback((function(){(0,Ht.Z)((function(){return p.default.selectVoiceChannel(t.id,!0)}),u)}),[t.id,u]),y=o.useCallback((function(){p.default.selectVoiceChannel(t.id,!1)}),[t.id]),m=o.useCallback((function(){n?(0,Bt.Z)():h()}),[n,h]),v=(0,
s.e7)([Oe.Z],(function(){var e=Oe.Z.getCall(t.id);return!0===(null==e?void 0:e.ringing.includes(l.id))}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ve.C,{enabled:!0,centerButton:!0,join:!0,color:"green",channelLimitReached:f,channelLimit:d,channel:t,cameraUnavailable:n,hasPermission:i,onCameraUnavailable:m,className:Pt().controlButton,iconClassName:Pt().joinIcon,onChange:h}),(0,r.jsx)(te.Z,{centerButton:!0,color:"green",channel:t,className:a()(Pt().controlButton,Pt().lastButton),onClick:y}),v?(0,r.jsx)(ee,{color:"red",channel:t,className:Pt().controlButton}):null]})}const nn=function(e){var t,n=e.channel,o=e.className,i=e.onDisconnectCall,l=e.exitFullScreen,c=(0,s.e7)([Se.default],(function(){var e=Se.default.getCurrentUser();u()(null!=e,"CenterControlTray: currentUser cannot be undefined");return e})),d=(0,_e.Z)(),p=d.cameraUnavailable,h=d.enabled,b=(0,we.Z)(n),v=(0,Pe.Z)(n),C=v.suppress,S=v.selfMute,A=v.mute,N=(0,s.cj)([Ee.Z],(function(){return{canGoLive:(0,T.Z)(Ee.Z)}
})).canGoLive,M=(0,x.Z)(),Z=(0,s.e7)([P.Z],(function(){return null!=P.Z.getAwaitingRemoteSessionInfo()})),R=null!=M,D=(0,s.e7)([Ce.Z],(function(){return(null!==(t=null==M?void 0:M.channelId)&&void 0!==t?t:Ce.Z.getVoiceChannelId())===n.id})),k=(0,j.Z)(n,!0),U=(0,s.e7)([m.ZP],(function(){var e=m.ZP.getSelfEmbeddedActivityForChannel(n.id);return null!=e?e.application_id:null})),B=(0,Ie.Z)(n),F=B.reachedLimit,G=B.limit,H=(0,O.Z)(g.Z.VOICE_CONTROL_TRAY).AnalyticsLocationProvider,V=(0,E.Dd)(n.id);if(!D)return(0,r.jsx)(H,{children:(0,r.jsx)(tn,{channel:n,cameraUnavailable:p,hasCameraPermission:b,currentUser:c})});var W=je.ZP.can({permission:tt.Plq.ADD_REACTIONS,user:c,context:n})&&!n.isPrivate()&&!k;return(0,r.jsx)(H,{children:(0,r.jsxs)(y.Z,{section:tt.jXE.VOICE_CONTROL_TRAY,children:[(0,r.jsx)("div",{className:Pt().eventPromptsContainer,children:(0,r.jsx)(Y.Z,{channelId:n.id})}),(0,r.jsxs)("div",{className:a()(Pt().wrapper,o),children:[!R&&!V&&(0,r.jsx)(f.Popout,{renderPopout:function(e){
var t=e.closePopout;return(0,r.jsx)(L.Z,{children:(0,r.jsx)(I.Z,{onClose:t})})},position:"top",align:"center",animation:f.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(ve.C,{centerButton:!0,hasPermission:b,className:Pt().controlButton,enabled:h,cameraUnavailable:p,onChange:Qt,onCameraUnavailable:Bt.Z,channelLimitReached:F,channelLimit:G,popoutOpen:o,onPopoutClick:n})}}),!R&&!V&&(0,r.jsx)($t,{channel:n}),!R&&!V&&(0,r.jsx)(Jt,{channel:n,currentUser:c,exitFullScreen:l,canGoLive:N,hasPermission:b}),(0,r.jsx)(f.Popout,{renderPopout:function(e){var t=e.closePopout;return(0,r.jsx)(L.Z,{children:(0,r.jsx)(_.default,{onClose:t,renderInputDevices:!0,renderOutputDevices:!0,renderInputModes:!0})})},align:"center",position:"top",animation:f.Popout.Animation.FADE,children:function(e,t){var n=e.onClick,o=t.isShown;return(0,r.jsx)(oe.Z,{centerButton:!0,onPopoutClick:R?null:n,className:Pt().controlButton,selfMute:S,serverMute:A,suppress:C,popoutOpen:o,
awaitingRemote:Z,onClick:function(){return(0,w.Z)(A,C)}})}}),W&&!R?(0,r.jsx)("div",{className:Pt().buttonContainer,children:(0,r.jsx)(Dt,{channel:n})}):null,(0,r.jsx)(en,{connectedActivityApplicationId:U,currentUser:c,channel:n,onDisconnectCall:i})]})]})})}},173388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(441143),l=n.n(a),u=n(202351),c=n(945460),s=n(269300),f=n(427054),d=n(567403),p=n(682776),h=n(2590),y=n(473708),b=n(459595),m=n.n(b);function v(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){v(i,r,o,a,l,"next",e)}function l(e){v(i,r,o,a,l,"throw",e)}a(void 0)}))}}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var j=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){
a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function _(e){var t=e.stream,o=e.applicationId,a=e.channel,b=e.exitFullScreen,v=e.appContext,O=e.analyticsLocation,_=e.className,I=S(e,["stream","applicationId","channel","exitFullScreen","appContext","analyticsLocation","className"]),w=null==a?void 0:a.getGuildId(),P=null==a?void 0:a.id,x=(0,u.e7)([d.Z],(function(){return null!=w?d.Z.getGuild(w):null}),[w]),A=(0,u.e7)([s.ZP],(function(){return s.ZP.getActiveEventByChannel(P)}),[P]);if(!function(e,t){return null!=e&&null!=t&&p.Z.can(h.Plq.CREATE_INSTANT_INVITE,t)}(x,a))return null;var T=y.Z.Messages.INSTANT_INVITE;null!=t?T=y.Z.Messages.INVITE_STREAM_HEADER:null!=o&&(T=y.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,C(E({size:c.Button.Sizes.SMALL,color:m().buttonColor,
onClick:function(){l()(null!=x,"guild cannot be null");l()(null!=a,"channel cannot be null");!function(e){var t=e.guild,o=e.channel,i=e.streamUserId,a=e.applicationId,l=e.appContext,u=e.exitFullScreen,s=e.analyticsLocation,f=e.guildScheduledEvent;null==u||u();(0,c.openModalLazy)(g((function(){var e,l;return j(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:e=u.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,C(E({},e),{guild:t,channel:o,streamUserId:i,applicationId:a,analyticsLocation:s,source:o.isGuildStageVoice()?h.t4x.STAGE_CHANNEL:h.t4x.STREAM_INVITE,guildScheduledEvent:f}))}]}}))})),{modalKey:"stream-invite-modal",contextKey:l===h.IlC.POPOUT?c.POPOUT_MODAL_CONTEXT:c.DEFAULT_MODAL_CONTEXT})}({guild:x,channel:a,streamUserId:null==t?void 0:t.ownerId,applicationId:o,appContext:v,exitFullScreen:b,analyticsLocation:O,guildScheduledEvent:A})},className:i()(_,m().textButton)},I),{
children:T})),(0,r.jsx)(f.Z,{channel:a,stream:t,appContext:v,className:i()(_,m().iconButton),exitFullScreen:b,analyticsLocation:O,guildScheduledEvent:A})]})}},667286:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(785893),o=(n(667294),n(503857)),i=n(294184),a=n.n(i),l=n(945460),u=n(265367),c=n(636398),s=n(471870),f=n.n(s);function d(e){var t=e.errorMessage,n=e.className;return(0,r.jsx)(l.TooltipContainer,{className:a()(n,f().root),text:t,position:"bottom",color:l.TooltipColors.GREY,children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{"aria-label":null!=t?t:"",className:f().warningIcon})})})}var p=n(440031);function h(e){var t=e.participant,n=e.className,i=function(e){return null==e?null:p.Z.isDeveloper?"".concat(e.message," (").concat(e.errorType,")"):e.message}((0,o.Z)(t));return null!=i?(0,r.jsx)(d,{className:n,errorMessage:i}):null}},575907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(785893),o=n(667294),i=n(636398);function a(e){var t=e.children,n=(0,
i.Y)("popup"),a=n.preventIdle,l=n.allowIdle;o.useEffect((function(){a();return function(){return l()}}),[l,a]);return(0,r.jsx)(r.Fragment,{children:t})}},299836:(e,t,n)=>{"use strict";n.d(t,{z:()=>Z,Z:()=>R});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(248088),c=n(202351),s=n(945460),f=n(744564),d=n(247250),p=n(336334),h=n(908741),y=n(804808),b=n(550131),m=n(513586),v=n(600277),g=n(352980),O=n(840922),E=n(763536),C=n(775173),S=n(72580),j=n(463473),_=n(2590),I=n(939198),w=n(832684),P=n.n(w);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){
i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var Z=1e4;function L(e){
var t,n=e.message,i=(0,c.e7)([O.Z],(function(){return O.Z.isBlocked(n.author.id)})),l=(0,b.Uj)(n),u=o.useContext(h.Z),f=T(o.useState(!1),2),g=f[0],S=f[1],j=o.useCallback((function(e){if("A"!==e.target.nodeName){d.Z.updateChatOpen(n.channel_id,!0);p.Z.jumpToMessage({channelId:n.channel_id,messageId:n.id,flash:!0})}}),[n.channel_id,n.id]),_=null!=n.content&&""!==n.content?(0,y.ZP)(n,{isInteracting:g}).content:null,w=(0,E.f)(n,_,i,P().messageContent,{iconClass:P().messageContentIcon,iconSize:I.WW}),x=w.contentPlaceholder,N=w.renderedContent,M=w.icon,Z=(0,m.cv)(n),L=Z.length>0?Z.map((function(e){return(0,r.jsx)(v.ZP,{className:P().sticker,size:128,sticker:e,isInteracting:g},e.id)})):null;return(0,r.jsxs)(s.Clickable,{className:P().toast,onMouseEnter:function(){S(!0)},onMouseLeave:function(){S(!1)},onClick:j,children:[(0,r.jsxs)("div",{className:a()(P().messageContentWrapper,A({},P().mentioned,n.mentioned)),children:[null!==(t=null!=N?N:L)&&void 0!==t?t:(0,r.jsx)("span",{children:x
}),null!=L?null:M]}),(0,r.jsx)("img",{alt:"",src:null!=(null==l?void 0:l.guildMemberAvatar)&&null!=u?(0,C.JM)({guildId:u,userId:n.author.id,avatar:l.guildMemberAvatar}):n.author.getAvatarURL(u,32),className:P().avatar})]})}function R(e){var t=e.channelId,n=e.className,i=T(o.useState(!1),2),s=i[0],d=i[1],p=function(e){var t,n=e.channelId,r=e.isFrozen,i=e.count,a=e.lingerMs,l=T(o.useState([]),2),u=l[0],s=l[1],d=T(o.useState(!1),2),p=d[0],h=d[1],y=o.useRef(null),b=o.useRef(),m=o.useCallback((function(){s([]);h(!0)}),[]);o.useEffect((function(){var e=function(e){var t=e.channelId,r=e.message;if(t===n&&r.type!==_.uaV.STAGE_START&&r.type!==_.uaV.STAGE_END&&r.type!==_.uaV.STAGE_TOPIC&&r.type!==_.uaV.STAGE_SPEAKER&&r.type!==_.uaV.STAGE_RAISE_HAND){clearTimeout(b.current);b.current=setTimeout(m,a);s((function(e){return N(e).concat([r.id])}))}};f.Z.subscribe("MESSAGE_CREATE",e);return function(){f.Z.unsubscribe("MESSAGE_CREATE",e)}}),[n,m,i,a]);o.useEffect((function(){return function(){
clearTimeout(b.current)}}),[]);o.useEffect((function(){u.length>3&&s((function(e){var t=e.length-3;return N(e.slice(t))}))}),[u]);r&&null==y.current?y.current=u:r||null==y.current||(y.current=null);var v=null!==(t=y.current)&&void 0!==t?t:u;return{toastsHidden:p,toastMessages:(0,c.Wu)([g.Z],(function(){return v.map((function(e){return g.Z.getMessage(n,e)}))}),[v]).filter(S.lm)}}({channelId:t,isFrozen:s,count:3,lingerMs:Z}),h=p.toastsHidden,y=p.toastMessages,b=o.useRef({}),m=T(o.useState({}),2),v=m[0],O=m[1],E=o.useCallback((function(e,t){null==t?delete b.current[e]:b.current[e]=t}),[]);o.useLayoutEffect((function(){var e={},t=0,n=!0,r=!1,o=void 0;try{for(var i,a=y[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u,c=i.value,s=null!==(u=b.current[c.id])&&void 0!==u?u:0;e[c.id]=t;t+=s+8}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}(0,l.isEqual)(e,v)||O(e)}),[y]);var C=y.map((function(e){return{message:e,height:b.current[e.id],y:v[e.id]}})),I=(0,
u.useTransition)(C,{keys:function(e){return e.message.id},from:function(){return{opacity:0}},enter:function(e){return{opacity:1,translateY:e.y}},update:function(e){return{translateY:e.y}},leave:function(e){var t=e.height,n=e.y;return{opacity:0,translateY:h?n:-(null!=t?t:0)-8,pointerEvents:"none"}}});return(0,r.jsx)("div",{className:a()(n,(0,j.Q)(_.BRd.DARK)),onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},children:I((function(e,t){return(0,r.jsx)(u.animated.div,{ref:function(e){return E(t.message.id,null!=e?e.offsetHeight:null)},className:P().toastWrapper,style:e,children:(0,r.jsx)(L,{message:t.message})})}))})}},729139:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,Z:()=>y});var r,o=n(785893),i=(n(667294),n(294184)),a=n.n(i),l=n(107364),u=n(419375),c=n(817333),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}!function(e){e[e.TOP=0]="TOP";e[e.BOTTOM=1]="BOTTOM"}(r||(r={}));function h(e){var t=e.disableGradients,n=void 0!==t&&t,i=e.renderHeader,a=e.renderBottomLeft,u=e.renderBottomCenter,c=e.renderBottomRight,f=e.renderCenter,d=n===r.TOP||!0===n,p=n===r.BOTTOM||!0===n;return(0,o.jsxs)("div",{className:s().videoControls,children:[!d&&(0,o.jsx)("div",{
className:s().gradientTop}),!p&&(0,o.jsx)("div",{className:s().gradientBottom}),(0,o.jsx)("div",{className:s().topControls,children:null==i?void 0:i()}),null==f?void 0:f(),(0,o.jsxs)("div",{className:s().bottomControls,children:[(0,o.jsx)(l.Z,{grow:0,shrink:1,basis:"50%",align:l.Z.Align.CENTER,children:null==a?void 0:a()}),(0,o.jsx)(l.Z,{grow:1,justify:l.Z.Justify.CENTER,align:l.Z.Align.CENTER,children:null==u?void 0:u()}),(0,o.jsx)(l.Z,{grow:0,shrink:1,justify:l.Z.Justify.END,basis:"50%",align:l.Z.Align.CENTER,children:null==c?void 0:c()})]})]})}function y(e){var t=e.screenMessage,n=e.onDoubleClick,r=e.onActive,i=e.onForceIdle,l=e.idle,c=e.children,y=e.renderChatButton,b=e.renderChatToasts,m=e.renderVoiceChannelEffects,v=e.style,g=p(e,["screenMessage","onDoubleClick","onActive","onForceIdle","idle","children","renderChatButton","renderChatToasts","renderVoiceChannelEffects","style"]);return(0,o.jsxs)("div",{className:a()(s().root,f({},s().idle,l)),style:v,onMouseMove:r,onMouseDown:r,
onMouseLeave:i,onDoubleClick:n,children:[c,null!=t?(0,o.jsx)(u.Z,d({size:"large"},t)):null,(0,o.jsx)(h,d({},g)),null==y?void 0:y({className:s().chatButton,showingClassName:s().chatButtonShowing}),null==b?void 0:b(),null==m?void 0:m()]})}},372417:(e,t,n)=>{"use strict";n.d(t,{T:()=>T});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(468811),c=n.n(u),s=n(202351),f=n(945460),d=n(247250),p=n(566706),h=n(717091),y=n(715107),b=n(788169),m=n(194212),v=n(299836),g=n(732068),O=n(2590),E=n(473708),C=n(919776),S=n.n(C);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function I(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e){var t=(0,s.e7)([b.Z],(function(){return!(0,l.isEmpty)(b.Z.getTypingUsers(e))}),[e]),n=(0,s.e7)([y.Z],(function(){return y.Z.getVoiceChannelId()===e}),[e]),r=(0,s.cj)([h.ZP],(function(){return{unreadCount:h.ZP.getUnreadCount(e),mentionCount:h.ZP.getMentionCount(e)}}),[e]);return{unreadCount:r.unreadCount,mentionCount:r.mentionCount,voiceChannelIsSelected:n,isTyping:t}}function x(e){var t=e.width,n=void 0===t?24:t,i=e.height,a=void 0===i?24:i,l=e.isBadged,u=void 0!==l&&l,s=e.isTyping,d=void 0!==s&&s,p=w(o.useState((function(){return c().v4()})),1)[0];return(0,r.jsxs)("svg",{width:n,height:a,viewBox:"0 0 24 24",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:p,children:[(0,r.jsx)("rect",{fill:"white",width:"100%",height:"100%"}),d&&(0,r.jsx)("g",{fill:"black",
transform:"translate(5.5, 8.5) scale(".concat(11/24,")"),children:(0,r.jsx)(f.AnimatedDots,{dotRadius:3.5,spacing:3,fill:"black"})}),u&&(0,r.jsx)("circle",{cx:"20",cy:"19",r:"10",fill:"black"})]})}),(0,r.jsx)("path",{fill:"currentColor",d:"M4.79805 3C3.80445 3 2.99805 3.8055 2.99805 4.8V15.6C2.99805 16.5936 3.80445 17.4 4.79805 17.4H7.49805V21L11.098 17.4H19.198C20.1925 17.4 20.998 16.5936 20.998 15.6V4.8C20.998 3.8055 20.1925 3 19.198 3H4.79805Z",mask:"url(#".concat(p,")")})]})}function A(e){var t,n=e.className,o=P(e.channelId),i=o.unreadCount,l=o.mentionCount,u=o.isTyping,c=null!=l&&l>0,s=null!==(t=c?l:i)&&void 0!==t?t:0,d=s>99?"99+":s,p=o.voiceChannelIsSelected&&null!=i&&i>0;return(0,r.jsxs)("div",{className:a()(S().chatIcon,n),children:[(0,r.jsx)(x,{isBadged:p,isTyping:u}),p&&(0,r.jsx)(f.Text,{className:a()(S().unreadCount,_({},S().mention,c)),variant:"text-xs/normal",children:d})]})}function T(e){
var t=e.channelId,n=e.className,i=e.showingClassName,l=e.onClick,u=e.inPopout,c=e.showRequestToSpeakSidebar,f=e.toggleRequestToSpeakSidebar,h=I(e,["channelId","className","showingClassName","onClick","inPopout","showRequestToSpeakSidebar","toggleRequestToSpeakSidebar"]),y=h.disabled,b=o.useRef(null),C=(0,s.e7)([p.Z],(function(){return p.Z.getChatOpen(t)}),[t]),S=function(e){var t=P(e),n=t.unreadCount,r=t.mentionCount,i=t.isTyping,a=w(o.useState(!1),2),l=a[0],u=a[1];o.useEffect((function(){u(n>0);var e=setTimeout((function(){u(!1)}),v.z);return function(){clearTimeout(e);u(!1)}}),[n]);return{isShowing:l||r>0||i,unreadCount:n,mentionCount:r}}(t),j=S.isShowing,x=S.unreadCount,T=S.mentionCount,N=o.useCallback((function(){null==l||l();!C&&c&&(null==f||f());d.Z.updateChatOpen(t,!C)}),[t,C,l,c,f]),M=o.useCallback((function(e){var n=e.className;return(0,r.jsx)(A,{className:n,channelId:t})}),[t]),Z=o.useCallback((function(){var e;null===(e=b.current)||void 0===e||e.focus()}),[]);(0,m.yp)({
event:O.CkL.FOCUS_CHAT_BUTTON,handler:y?null:Z});var L,R=w(o.useState(!1),2),D=R[0],k=R[1],U=o.useCallback((function(){u&&k(!0)}),[u]);(0,m.yp)({event:O.CkL.SHOW_TEXT_IN_VOICE_POPOUT_COMING_SOON_TIP,handler:U});o.useEffect((function(){var e;D&&(e=setTimeout((function(){k(!1)}),3e3));return function(){clearTimeout(e)}}),[D]);var B=[L=u&&y?E.Z.Messages.TEXT_IN_VOICE_POPOUT_DISABLED:C?E.Z.Messages.VIDEO_CALL_HIDE_CHAT:E.Z.Messages.VIDEO_CALL_SHOW_CHAT];T>0&&B.push(E.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_MENTIONS.format({mentionCount:T}));x>0&&B.push(E.Z.Messages.GUILD_SIDEBAR_CHANNEL_A11Y_LABEL_UNREAD);return(0,r.jsx)(g.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_(e,t,n[t])}))}return e}({buttonRef:b,onClick:N,label:L,
"aria-label":B.join(", "),iconComponent:M,tooltipPosition:"bottom",wrapperClassName:a()(n,null!=i&&_({},i,j)),forceTooltipOpen:D},h))}},353945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(186440)),i=n(732068),a=n(473708);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(){u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return u.apply(this,arguments)}function c(e){var t=u({},e);return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({label:a.Z.Messages.MORE,iconComponent:o.Z,
tooltipPosition:"bottom"},t))}},761449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),n(248088)),i=n(781453),a=n(732068),l=n(473708),u=n(553858),c=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var h=(0,o.animated)((function(e){var t=e.className,n=e.percentComplete,o=52;return(0,r.jsx)("svg",{className:t,width:o,height:o,viewBox:"0 0 ".concat(o," ").concat(o),children:(0,r.jsx)("circle",{style:{strokeDashoffset:100*n},className:c().progress,cx:26,cy:26,r:20,fill:"none",stroke:"#4F545C",pathLength:"100"})})}));function y(e){
var t=e.totalCooldownSeconds,n=e.remainingCooldownSeconds,u=e.onClick,s=e.onKeyDown,y=e.onMouseEnter,b=e.onMouseLeave,m=e.isActive,v=void 0!==m&&m,g=e.isCenterButton,O=void 0!==g&&g,E=p(e,["totalCooldownSeconds","remainingCooldownSeconds","onClick","onKeyDown","onMouseEnter","onMouseLeave","isActive","isCenterButton"]),C=n>0,S=(0,o.useSpring)({percentComplete:0!==n?(t-n)/t:0,config:d(f({},o.config.molasses),{duration:1e3})}),j=C?l.Z.Messages.VOICE_CHANNEL_EFFECTS_COOLDOWN.format({seconds:n}):void 0,_=O?a.d:a.Z;return(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(_,d(f({},E),{disabled:C,label:j,iconComponent:i.Z,onClick:u,onKeyDown:s,onMouseEnter:y,onMouseLeave:b,isActive:v,grow:!1})),C?(0,r.jsx)(h,{className:c().countdown,percentComplete:S.percentComplete}):null]})}},427054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(785893),o=(n(667294),
n(441143)),i=n.n(o),a=n(202351),l=n(945460),u=n(26468),c=n(567403),s=n(682776),f=n(226919),d=n(944823),p=n(732068),h=n(2590),y=n(473708);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function S(e){
var t=e.applicationId,o=e.stream,b=e.channel,v=e.exitFullScreen,S=e.appContext,j=e.analyticsLocation,_=e.guildScheduledEvent,I=E(e,["applicationId","stream","channel","exitFullScreen","appContext","analyticsLocation","guildScheduledEvent"]),w=(0,u.bp)(),P=null==b?void 0:b.getGuildId(),x=(0,a.e7)([c.Z],(function(){return null!=P?c.Z.getGuild(P):null}),[P]);return function(e,t){return null!=e&&null!=t&&s.Z.can(h.Plq.CREATE_INSTANT_INVITE,t)}(x,b)?(0,r.jsx)(p.Z,g({onClick:function(){i()(null!=x,"guild cannot be null");i()(null!=b,"channel cannot be null");!function(e){var t=e.guild,o=e.channel,i=e.streamUserId,a=e.applicationId,u=e.appContext,c=e.exitFullScreen,s=e.analyticsLocation,f=e.guildScheduledEvent;null==c||c();(0,l.openModalLazy)(m((function(){var e,l;return C(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.e(40532),n.e(54765),n.e(47956),n.e(58635)]).then(n.bind(n,654765))];case 1:e=u.sent(),l=e.default;return[2,function(e){return(0,r.jsx)(l,O(g({},e),{guild:t,
channel:o,streamUserId:i,applicationId:a,analyticsLocation:s,source:o.isGuildStageVoice()?h.t4x.STAGE_CHANNEL:h.t4x.STREAM_INVITE,guildScheduledEvent:f}))}]}}))})),{modalKey:"stream-invite-modal",contextKey:u===h.IlC.POPOUT?l.POPOUT_MODAL_CONTEXT:l.DEFAULT_MODAL_CONTEXT})}({guild:x,channel:b,streamUserId:null==o?void 0:o.ownerId,applicationId:t,appContext:null!=S?S:w,exitFullScreen:v,analyticsLocation:j,guildScheduledEvent:_})},iconComponent:null!=t?d.Z:f.Z,label:null!=t?y.Z.Messages.EMBEDDED_ACTIVITIES_INVITE_TO_ACTIVITY:y.Z.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER},I)):null}},731209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(164760)),i=n(732068),a=n(473708);function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.channel,n=e.centerButton,s=void 0!==n&&n,f=c(e,["channel","centerButton"]),d=s?i.d:i.Z,p=t.isManaged()||!t.isPrivate()?a.Z.Messages.CONNECT:a.Z.Messages.JOIN_CALL;return(0,r.jsx)(d,u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}({},f),{iconComponent:o.Z,label:p}))}},65200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(180306)),i=n(961241),a=n(554647),l=n(732068),u=n(783240),c=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function d(e){var t=e.className;return(0,r.jsx)(a.Z,{foreground:c().slash,className:t})}function p(e){
var t=e.selfMute,n=e.serverMute,a=e.suppress,u=e.centerButton,c=void 0!==u&&u,p=e.awaitingRemote,h=f(e,["selfMute","serverMute","suppress","centerButton","awaitingRemote"]),y=t||n||a,b=c?l.d:l.Z,m=(0,o.Z)(t,n,a,p),v=y?d:i.Z;return(0,r.jsx)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({isActive:y,iconComponent:v,label:m},h))}},631443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(785893),o=(n(667294),n(467853)),i=n(552675),a=n(732068),l=n(473708);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function s(e){var t=e.popoutWindowAlwaysOnTop,n=e.onToggleStayOnTop,s=c(e,["popoutWindowAlwaysOnTop","onToggleStayOnTop"]),f=t?l.Z.Messages.POPOUT_REMOVE_FROM_TOP:l.Z.Messages.POPOUT_STAY_ON_TOP,d=t?i.Z:o.Z;return(0,r.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({onClick:function(){return n(!t)},label:f,iconComponent:d},s))}},821297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(785893),o=(n(667294),
n(294184)),i=n.n(o),a=n(202351),l=n(656645),u=n(604945),c=n(474993),s=n(615457),f=n(120415),d=n(636398),p=n(817374),h=n.n(p);const y=a.ZP.connectStores([u.Z],(function(e){var t=e.userId,n=e.context;return{currentVolume:u.Z.getLocalVolume(t,n),muted:u.Z.isLocalMute(t,n)}}))((function(e){var t=e.className,n=e.iconClassName,o=e.sliderClassName,a=e.userId,u=e.currentVolume,p=e.muted,y=e.context,b=e.currentWindow,m=void 0===b?window:b;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(c.Z,{currentWindow:m,iconClassName:i()(n,h().controlIcon),sliderClassName:o,className:t,value:(0,s.P)(u),muted:p,maxValue:f.FB?200:100,onValueChange:function(e){return function(e,t,n,r){e>0&&n&&l.Z.toggleLocalMute(t,r);l.Z.setLocalVolume(t,(0,s.A)(e),r)}(e,a,p,y)},onToggleMute:function(){return function(e,t){l.Z.toggleLocalMute(e,t)}(a,y)}})})}))},242942:(e,t,n)=>{"use strict";n.d(t,{yX:()=>E,Lx:()=>w,kq:()=>S})
;var r=n(496486),o=n(281110),i=n(744564),a=n(396043),l=n(489617),u=n(61209),c=n(69085),s=n(671723),f=n(715107),d=n(652591),p=n(460214),h=n(2590),y=n(203600);var b=n(38004),m=n(986279),v=n(143692);function g(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var E,C=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{
value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};!function(e){e.EMOJI_PICKER="emoji_picker";e.EFFECT_BAR="effect_bar"}(E||(E={}));function S(e,t,n,i){var a,b,m=l.Z.getCustomEmojiById(null!==(a=t.emojiId)&&void 0!==a?a:""),v=new AbortController,g=(0,r.throttle)((function(t){f.Z.getVoiceChannelId()!==e&&v.abort()}),1e3),O={sound_id:t.soundId,emoji_id:t.emojiId,emoji_name:null!==(b=t.emojiName)&&void 0!==b?b:null==m?void 0:m.name,override_path:t.overridePath};t.guildId!==p.X8&&(O.source_guild_id=t.guildId);o.Z.post({
url:h.ANM.VOICE_CHANNEL_EFFECTS(e),body:O,signal:v.signal,onRequestProgress:g}).then(h.VqG,(function(){v.signal.aborted}));!function(e,t,n){var r,o=u.Z.getChannel(f.Z.getVoiceChannelId()),i=null==o?void 0:o.getGuildId(),a=c.Z.getMediaSessionId(),l=c.Z.getRTCConnectionId(),b=null===(r=s.ZP.getCurrentGame())||void 0===r?void 0:r.name,m=i!==n.guildId&&n.guildId!==p.X8,v=m?"custom-external":"custom";null!=n.overridePath&&(v="default");d.default.track(h.rMx.PREMIUM_FEATURE_USAGE,{feature_name:y.QP.SOUNDBOARD_PLAY,feature_tier:m?y.h1.PREMIUM_STANDARD:y.h1.FREE,guild_id:i,location_stack:e,rtc_connection_id:l,media_session_id:a,in_overlay:t,application_name:b,emoji_count:null!=n.emojiId||null!=n.emojiName?1:0,feature_selection:v,feature_selection_id:n.soundId})}(null!=i?i:[],n,t)}var j,_,I,w=(_=(j=function(e){var t,n,r,a,l,u,c,s,f,d;return C(this,(function(p){switch(p.label){case 0:t=e.channel,n=e.emoji,r=e.location,a=e.animationType,l=e.animationId,u=e.isPremium
;if(null==n||m.Z.isOnCooldown)return[2];c=u&&null!=a?a:v.q.BASIC;p.label=1;case 1:p.trys.push([1,3,,4]);s=null!=n.id?{emoji_id:n.id,emoji_name:n.name,animation_type:c,animation_id:l}:{emoji_id:null,emoji_name:n.optionallyDiverseSequence,animation_type:c,animation_id:l};return[4,o.Z.post({url:h.ANM.VOICE_CHANNEL_EFFECTS(t.id),body:s})];case 2:p.sent();x(t,n,r,c);i.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_SENT_LOCAL"});return[3,4];case 3:if(429===(f=p.sent()).status&&null!=f.body.retry_after){d=1e3*f.body.retry_after;i.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP",cooldownEndsAtMs:d})}return[3,4];case 4:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=j.apply(e,t);function i(e){g(o,n,r,i,a,"next",e)}function a(e){g(o,n,r,i,a,"throw",e)}i(void 0)}))}),function(e){return _.apply(this,arguments)}),P=(O(I={},v.q.BASIC,"Basic"),O(I,v.q.PREMIUM,"Premium"),I),x=function(e,t,n,r){var o=(0,
b.sp)([t],e.getGuildId()),i=o.unicode,l=o.custom,u=o.customExternal,c=o.managed,s=o.managedExternal,f=o.animated,d=P[r];a.ZP.trackWithMetadata(h.rMx.VOICE_CHANNEL_EFFECT_SENT,{channel_id:e.id,guild_id:e.getGuildId(),location:n,emoji_unicode:i,emoji_custom:l,emoji_custom_external:u,emoji_managed:c,emoji_managed_external:s,emoji_animated:f,animation_type:d})}},986279:(e,t,n)=>{"use strict";n.d(t,{H:()=>C,Z:()=>N});var r=n(496486),o=n(202351),i=n(575945),a=n(744564),l=n(285629),u=n(358500);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}
function p(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function y(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b,m=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var g=[],O={},E=[],C=function(e){null!=e&&a.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_CLEAR",userId:e})},S=[],j=1e4,_=function(){var e=new Date;if((S=[e].concat(y(S)).slice(0,20)).length>=20){var t=S[S.length-1],n=e.getTime()-t.getTime();n<j&&(b=new Date(e.getTime()+j-n))}},I=function(e){var t=e.cooldownEndsAtMs;b=new Date(Date.now()+t)},w=(0,r.debounce)((function(){var e=(0,l.cX)(E);i.uv.announce(e,"polite");E=[]}),500),P=function(e){var t=e.emoji,n=e.userId,r=e.animationType
;if(null!=t&&null!=r){O[n]={emoji:t,sentAt:Date.now(),animationType:r};E=y(E).concat([{emojiName:t.name,userId:n}]);w()}},x=function(e){var t=e.emoji;if(null!=t){g.unshift(t);(g=(0,r.uniqBy)(g,"name")).length>u.e5+1&&g.pop()}},A=function(e){var t=e.userId;null!=O[t]&&delete O[t]},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=v(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getEffectForUserId=function(e){return O[e]};r.__getLocalVars=function(){return{effectCooldownEndTime:b,recentlyUsedEmojis:g,effectsByUserId:O,effectsToAnnounce:E,lastSentEffects:S,MAX_EFFECTS_COUNT:20,MAX_EFFECTS_INTERVAL_MS:j,handleVoiceChannelEffectSentLocal:_,handleTimestampUpdate:I,announceReaction:w,handleReceivedVoiceChannelEffect:P,handleAddRecentlyUsedEmojis:x,
handleClearVoiceChannelEffect:A}};!function(e,t,n){t&&f(e.prototype,t);n&&f(e,n)}(n,[{key:"recentlyUsedEmojis",get:function(){return g}},{key:"isOnCooldown",get:function(){return null!=b&&new Date<b}},{key:"effectCooldownEndTime",get:function(){return b}}]);return n}(o.ZP.Store);T.displayName="VoiceChannelEffectsStore";const N=new T(a.Z,{VOICE_CHANNEL_EFFECT_CLEAR:A,VOICE_CHANNEL_EFFECT_RECENT_EMOJI:x,VOICE_CHANNEL_EFFECT_SEND:P,VOICE_CHANNEL_EFFECT_SENT_LOCAL:_,VOICE_CHANNEL_EFFECT_UPDATE_TIME_STAMP:I})},957430:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Q});var r=n(785893),o=n(667294),i=n(496486),a=n(202351),l=n(418705),u=n(945460),c=n(744564),s=n(734691),f=n(316878),d=n(396043),p=n(627342),h=n(589503),y=n(135855),b=n(620597),m=n(473903),v=n(38004),g=n(72580),O=n(850841),E=n(242942),C=n(143692);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return j(e)}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){I=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return I(e,t)}var w,P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var A=function(){w=w===C.q.BASIC?C.q.PREMIUM:C.q.BASIC},T=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&I(e,t)}(n,e);var t=x(n);function n(){S(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){var t;w=null!==(t=null==e?void 0:e.animationType)&&void 0!==t?t:C.q.PREMIUM};r.getState=function(){return{animationType:w}};r.__getLocalVars=function(){return{animationType:w,handleToggleAnimationType:A}};return n}(a.ZP.PersistedStore);T.displayName="VoiceChannelEffectsPersistedStore";T.persistKey="VoiceChannelEffectsPersistedStore";const N=new T(c.Z,{VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE:A});var M=n(986279),Z=n(285629),L=n(175241),R=n(473708);function D(e){var t=e.value,n=e.labelText,o=e.onChange,i=e.onShowUpsell,l=(0,a.e7)([m.default],(function(){return m.default.getCurrentUser()})),u=O.ZP.canUseFancyVoiceChannelReactions(l),c=""
;c=u?t?R.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_ENABLED:R.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TOOLTIP_DISABLED:R.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_UPSELL;return(0,r.jsx)(L.Z,{checked:t,onChange:o,labelText:n,tooltipText:c,iconAltText:R.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE_TADA_ALT,canToggle:u,onClick:u?function(){}:i})}var k=n(74568),U=n(869530),B=n(2590),F=n(358500),G=n(203600),H=n(131559),V=n(687042),W=n.n(V);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=B.HzX.CHAT,q={section:B.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER,openPopoutType:"voice_channel_effect_emoji_picker"},X=[y.ZP.getByName("thumbsup"),y.ZP.getByName("eyes"),y.ZP.getByName("laughing"),y.ZP.getByName("watermelon"),y.ZP.getByName("fork_and_knife"),y.ZP.getByName("yum")].filter(g.lm);function Q(e){var t,n=e.channel,y=e.closePopout,g=e.onFocus,S=(0,a.e7)([f.Z],(function(){return f.Z.useReducedMotion})),j=(0,a.e7)([m.default],(function(){return m.default.getCurrentUser()})),_=O.ZP.canUseFancyVoiceChannelReactions(j),I=(0,a.e7)([N],(function(){return N.getState().animationType})),w=o.useRef(!1),P=(0,h.wC)(n.guild_id),x=(0,i.uniqBy)(Y(P).concat(Y(X)),"name").filter((function(e){
return!v.ZP.isEmojiFilteredOrLocked(e,n,K)})).slice(0,F.e5),A=(null!==(t=M.Z.recentlyUsedEmojis)&&void 0!==t?t:[]).filter((function(e){return!x.slice(0,F.e5-1).some((function(t){return t.name===e.name}))}));A.length>0&&x.splice(x.length-1,1,A[0]);var T=(0,Z.Iu)(I),L=function(e){c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_RECENT_EMOJI",emoji:e});(0,E.Lx)({channel:n,emoji:e,location:E.yX.EMOJI_PICKER,animationType:I,animationId:T,isPremium:_})},V=function(){(0,k.openEffectsUpsellModal)({analytics:{type:G.cd.EMOJI_PICKER_EMOJI_CLICKED,object:B.qAy.BUTTON_CTA,section:B.jXE.VOICE_CHANNEL_EFFECTS_BAR}})},z=function(e){w.current=e;e&&d.ZP.trackWithMetadata(B.rMx.VOICE_CHANNEL_EFFECT_EMOJI_PICKER_EXPANDED,{channel_id:Q,guild_id:J})},Q=n.id,J=n.guild_id;o.useEffect((function(){d.ZP.trackWithMetadata(B.rMx.VOICE_CHANNEL_EFFECT_BAR_VIEWED,{channel_id:Q,guild_id:J})}),[Q,J]);var $=S?[l.z$.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP]:[],ee=I===C.q.PREMIUM;return(0,r.jsx)(p.Z,{contentTypes:$,
children:function(e){var t=e.visibleContent,o=e.markAsDismissed,i=S&&t===l.z$.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP;return(0,r.jsx)(u.Popout,{position:"left","aria-label":R.Z.Messages.VOICE_CHANNEL_EFFECTS_MORE,shouldShow:i,renderPopout:function(){return(0,r.jsx)("div",{onMouseEnter:g,children:(0,r.jsx)(b.ZP,{className:W().reducedMotionTooltip,header:R.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_TITLE,content:R.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_BODY,onClick:function(){s.Z.open(B.oAB.ACCESSIBILITY,null,{scrollPosition:H.rP.REDUCED_MOTION});y()},markAsDismissed:o,buttonCTA:R.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CONFIRM,secondaryButtonCTA:R.Z.Messages.VOICE_CHANNEL_EFFECTS_REDUCED_MOTION_TOOLTIP_CANCEL,caretPosition:b.DF.RIGHT_CENTER})})},children:function(){return(0,r.jsx)(U.Z,{title:R.Z.Messages.VOICE_CHANNEL_EFFECTS_HOTBAR_TITLE,channel:n,closePopout:y,onSelectEmoji:L,onSelectDisabledEmoji:V,onFocus:g,onExpandedToggle:z,
analyticsOverride:q,emojiSearchProps:{accessory:(0,r.jsx)(D,{labelText:R.Z.Messages.VOICE_CHANNEL_EFFECTS_TOGGLE,value:ee,onChange:function(){if(_){d.ZP.trackWithMetadata(B.rMx.VOICE_CHANNEL_EFFECT_FANCY_ANIMATION_TOGGLED,{channel_id:Q,guild_id:J,enabled:!ee});return c.Z.dispatch({type:"VOICE_CHANNEL_EFFECT_TOGGLE_ANIMATION_TYPE"})}},onShowUpsell:function(){return(0,k.openEffectsUpsellModal)({analytics:{type:w.current?G.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED_EXPANDED:G.cd.VOICE_CHANNEL_EFFECTS_TOGGLE_CLICKED,object:B.qAy.VOICE_CHANNEL_EFFECTS_TOGGLE,section:w.current?B.jXE.VOICE_CHANNEL_EFFECTS_EMOJI_PICKER:B.jXE.VOICE_CHANNEL_EFFECTS_BAR}})}})},recentlyUsedEmojis:A})}})}})}},74568:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>C,openEffectsUpsellModal:()=>S});var r=n(785893),o=(n(667294),n(945460)),i=n(73202),a=n(593166),l=n(442212),u=n(786170),c=n(652591),s=n(2590),f=n(473708),d=n(147209),p=n.n(d),h=n(77015),y=n.n(h);function b(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){
n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))}}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){v(e,t,n[t])}))}return e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var E=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}
o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function C(e){var t=e.onClose,n=e.analytics,o=O(e,["onClose","analytics"]),d=f.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_BODY_2.format({onPressMore:function(){(0,i.Z)();t();c.default.track(s.rMx.PREMIUM_PROMOTION_OPENED,{location_section:s.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,location_object:s.qAy.NAVIGATION_LINK});(0,a.z)()}});return(0,r.jsx)(l.Z,g({title:f.Z.Messages.VOICE_CHANNEL_EFFECTS_UPSELL_HEADER_2,glowUp:d,body:d,artContainerClassName:p().artContainer,enableArtBoxShadow:!1,type:n.type,analyticsLocation:{section:s.jXE.VOICE_CHANNEL_EFFECTS_UPSELL_MODAL,object:n.object},analyticsSource:{page:s.ZY5.CHANNEL_CALL,section:n.section},onClose:t,onSubscribeClick:i.Z,artElement:(0,r.jsx)(u.Z,{className:p().video,src:y(),loop:!0,autoPlay:!0})},o))}function S(e){var t=e.analytics;(0,o.openModalLazy)(m((function(){var e,o
;return E(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve().then(n.bind(n,74568))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,g({analytics:t},e))}]}}))})))}},869530:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(496486),u=n(248088),c=n(945460),s=n(77413),f=n(662478),d=n(589503),p=n(748308),h=n(135855),y=n(43566),b=n(847197),m=n(443812),v=n(377463),g=n(38004),O=n(72580),E=n(2590),C=n(358500),S=n(668785),j=n(687042),_=n.n(j);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){w(e,t,n[t])}))}return e}function x(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||N(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}
var M=E.HzX.CHAT,Z=[h.ZP.getByName("thumbsup"),h.ZP.getByName("eyes"),h.ZP.getByName("laughing"),h.ZP.getByName("watermelon"),h.ZP.getByName("fork_and_knife"),h.ZP.getByName("yum")].filter(O.lm);function L(e){var t=e.emoji,n=e.isDisabled,i=void 0!==n&&n,l=e.onClick,d=o.useRef(null),p=(0,f.Z)(d);return(0,r.jsx)("span",{ref:d,children:(0,r.jsx)(c.Button,{onClick:l,look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,children:(0,r.jsx)(u.Spring,{config:b.u,from:{value:0},to:{value:p?1:0},children:function(e){var n=e.value;return(0,r.jsx)(u.animated.div,{style:{transform:n.to([0,1],[1,1.14]).to((function(e){return"scale(".concat(e,")")}))},children:(0,r.jsx)(s.Z,{className:a()(_().emoji,w({},_().emojiItemDisabled,i)),emojiId:t.id,emojiName:null==t?void 0:t.surrogates,animated:t.animated})})}})})})}function R(e){var t=e.otherAccessories,n=e.isEmojiPickerExpanded,o=e.onSetExpanded,i=e.onFocus;return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(c.Clickable,{className:_().dropDownContainer,
onClick:function(){o(!n);i()},children:(0,r.jsx)(v.Z,{className:_().dropDown})})]})}function D(e){var t=e.channel,n=e.title,i=e.closePopout,u=e.onFocus,s=e.onSelectEmoji,f=e.onSelectDisabledEmoji,h=e.onExpandedToggle,b=e.emojiSearchProps,v=e.recentlyUsedEmojis,O=e.analyticsOverride,j=(0,m.Dt)(),I=A(o.useState(!1),2),N=I[0],D=I[1],k=(0,d.wC)(t.guild_id),U=(0,l.uniqBy)(T(k).concat(T(Z)),"name").filter((function(e){return!g.ZP.isEmojiFilteredOrLocked(e,t,M)})).slice(0,C.e5);null!=v&&v.length>0&&U.splice(U.length-1,1,v[0]);var B=function(e){D(e);null==h||h(e)},F=function(e,t){if(null==e&&t)i();else{null!=e&&s(e);B(!t);t&&y.kJ.setSearchPlaceholder(null)}};return(0,r.jsxs)(c.Dialog,{"aria-labelledby":j,children:[(0,r.jsx)(c.HeadingLevel,{forceLevel:2,children:(0,r.jsx)(c.HiddenVisually,{children:(0,r.jsx)(c.H,{id:j,children:n})})}),(0,r.jsxs)("div",{className:_().container,children:[(0,r.jsx)(p.Z,{analyticsOverride:O,channel:t,className:a()(_().animatedPicker,w({},_().animatedPickerTall,N)),
headerClassName:a()(_().emojiPickerHeader,w({},_().emojiPickerHeaderExpanded,N)),closePopout:i,onSelectEmoji:N?F:function(){},shouldHidePickerActions:!N,wrapper:"div",pickerIntention:M,searchProps:x(P({},b),{accessory:(0,r.jsx)(R,{otherAccessories:null==b?void 0:b.accessory,isEmojiPickerExpanded:N,onSetExpanded:B,onFocus:u}),onKeyDown:function(e){null!=e&&e.key!==S.vn.TAB&&(e.key!==S.vn.ENTER||e.shiftKey?B(!0):B(!N))}})}),(0,r.jsx)("div",{className:_().slotsContainer,children:(0,r.jsx)("div",{className:a()(_().slots,_().slotsWide),children:U.map((function(e){var n=g.ZP.isEmojiDisabled(e,t,E.HzX.CHAT);return(0,r.jsx)("div",{className:_().slot,children:(0,r.jsx)(c.TooltipContainer,{text:e.name,position:"top","aria-label":e.name,tooltipClassName:_().tooltipContainer,color:c.Tooltip.Colors.BRAND,children:(0,r.jsx)(L,{emoji:e,isDisabled:n,onClick:function(){n?null==f||f(e):F(e,!0)}})})},e.name)}))})})]})]})}},135750:(e,t,n)=>{"use strict";n.d(t,{y0:()=>s,RM:()=>f,Xb:()=>d,sm:()=>p,VP:()=>h,
Es:()=>y});var r=n(281110),o=n(744564),i=n(2590);function a(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,u,"next",e)}function u(e){a(i,r,o,l,u,"throw",e)}l(void 0)}))}}var u,c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop()
;a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.Z.dispatch({type:"WELCOME_SCREEN_VIEW",guildId:e,isLurking:t})},f=(u=l((function(e){var t;return c(this,(function(n){switch(n.label){case 0:o.Z.dispatch({type:"WELCOME_SCREEN_FETCH_START"});n.label=1;case 1:n.trys.push([1,3,,4]);return[4,r.Z.get({url:i.ANM.GUILD_WELCOME_SCREEN(e),oldFormErrors:!0})];case 2:t=n.sent();o.Z.dispatch({type:"WELCOME_SCREEN_FETCH_SUCCESS",guildId:e,welcomeScreen:t.body});return[2,t.body];case 3:n.sent();o.Z.dispatch({type:"WELCOME_SCREEN_FETCH_FAIL"})
;return[3,4];case 4:return[2]}}))})),function(e){return u.apply(this,arguments)}),d=function(){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_RESET"})},p=function(){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_CLEAR"})},h=function(e){o.Z.dispatch({type:"WELCOME_SCREEN_SETTINGS_UPDATE",settings:e})},y=function(){var e=l((function(e,t){var n;return c(this,(function(a){switch(a.label){case 0:o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT"});a.label=1;case 1:a.trys.push([1,3,,4]);return[4,r.Z.patch({url:i.ANM.GUILD_WELCOME_SCREEN(e),body:{description:t.description,welcome_channels:t.channels,enabled:t.enabled},oldFormErrors:!0})];case 2:n=a.sent();o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT_SUCCESS",guildId:e,welcomeScreen:n.body});return[3,4];case 3:a.sent();o.Z.dispatch({type:"WELCOME_SCREEN_SUBMIT_FAILURE"});return[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}()},102909:(e,t,n)=>{"use strict";n.d(t,{a:()=>f,Z:()=>O});var r=n(202351),o=n(744564);function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments)
;return l(this,n)}}var f={},d={},p={},h=!1,y=!1,b=!1;function m(e){var t=e.invite.guild;if(null!=(null==t?void 0:t.welcome_screen)){d[t.id]=t.welcome_screen;return!0}return!1}function v(e){var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:f}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.get=function(e){if(null!=e)return d[e]};r.isFetching=function(){return y};r.hasError=function(){return b};r.hasSeen=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=e&&(t?h:p[e]||!1)};r.__getLocalVars=function(){return{welcomeScreens:d,seenGuilds:p,lurkingGuildSeen:h,fetching:y,hasError:b}};return n}(r.ZP.Store);g.displayName="WelcomeScreenStore";const O=new g(o.Z,{
INVITE_RESOLVE_SUCCESS:m,INVITE_ACCEPT_SUCCESS:m,WELCOME_SCREEN_SUBMIT_SUCCESS:v,WELCOME_SCREEN_UPDATE:v,WELCOME_SCREEN_VIEW:function(e){var t=e.guildId,n=e.isLurking;p[t]=!0;n&&(h=!0)},GUILD_STOP_LURKING:function(){h=!1},GUILD_DELETE:function(e){var t=e.guild.id;p[t]=!1},WELCOME_SCREEN_FETCH_START:function(){y=!0;b=!1},WELCOME_SCREEN_FETCH_SUCCESS:function(e){y=!1;b=!1;var t=e.welcomeScreen,n=e.guildId;d[n]=null!=t?t:f},WELCOME_SCREEN_FETCH_FAIL:function(){y=!1;b=!0}})},180172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),l=n(481008),u=n(306263),c=n(443132);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var b=12e4,m={},v={},g=new Set;function O(){m={};v={}}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,
configurable:!0}});t&&p(e,t)}(n,e);var t=y(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getPreviewURL=function(e,t,n){var r=(0,u.V9)({streamType:null!=e?c.lo.GUILD:c.lo.CALL,guildId:e,channelId:t,ownerId:n}),o=m[r];if(null==o||Date.now()>o.expires){if(!g.has(r)){g.add(r);a.Z.wait((function(){(0,l.n9)(e,t,n)}))}return null}return o.url};r.getPreviewURLForStreamKey=function(e){var t=(0,u.my)(e),n=t.guildId,r=t.channelId,o=t.ownerId;return this.getPreviewURL(n,r,o)};r.getIsPreviewLoading=function(e,t,n){var r=(0,u.V9)({streamType:null!=e?c.lo.GUILD:c.lo.CALL,guildId:e,channelId:t,ownerId:n});return g.has(r)};r.__getLocalVars=function(){return{READ_PREVIEW_EXPIRY:b,READ_PREVIEW_DEFAULT_RETRY:1e4,streamPreviews:m,fetchAttempts:v,fetchingPreviews:g}};return n}(i.ZP.Store);E.displayName="ApplicationStreamPreviewStore";const C=new E(a.Z,{CONNECTION_OPEN:O,LOGOUT:O,STREAM_PREVIEW_FETCH_START:function(e){var t,n=e.streamKey;v[n]=(null!==(t=v[n])&&void 0!==t?t:0)+1
;g.add(n)},STREAM_PREVIEW_FETCH_SUCCESS:function(e){var t=e.streamKey,n=e.previewURL;m[t]={url:n,expires:Date.now()+b};v[t]=0;g.delete(t)},STREAM_PREVIEW_FETCH_FAIL:function(e){var t=e.streamKey,n=e.retryAfter;m[t]={url:null,expires:Date.now()+(null!=n?n:1e4*v[t])};g.delete(t)},VOICE_STATE_UPDATES:function(e){var t=e.voiceStates;return(!o().isEmpty(m)||!o().isEmpty(v))&&t.reduce((function(e,t){var n=t.userId,r=t.guildId,o=t.channelId;if(t.selfStream)return e;var i=(0,u.V9)({streamType:null!=r?c.lo.GUILD:c.lo.CALL,guildId:r,channelId:o,ownerId:n});delete m[i];delete v[i];return!0}),!1)}})},77457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var f={toastsEnabledForChannel:{}},d=f;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}
});t&&u(e,t)}(n,e);var t=s(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){d=null!=e?e:f};r.getToastsEnabled=function(e){var t;return null===(t=d.toastsEnabledForChannel[e])||void 0===t||t};r.getState=function(){return d};r.__getLocalVars=function(){return{initialState:f,state:d}};return n}(r.ZP.PersistedStore);p.displayName="CallChatToastsStore";p.persistKey="CallChatToasts";const h=new p(o.Z,{CALL_CHAT_TOASTS_SET_ENABLED:function(e){var t=e.channelId,n=e.toastsEnabled;d.toastsEnabledForChannel[t]=n},LOGOUT:function(){d.toastsEnabledForChannel={}}})},82863:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(202351),o=n(744564);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return a(e)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t){u=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return u(e,t)}var c,s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}!function(e){e.FAILED="failed";e.SUCCEEDED="succeeded"}(c||(c={}));var d={};var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,writable:!0,configurable:!0}});t&&u(e,t)}(n,e);var t=f(n);function n(){i(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getFollowerStatsForChannel=function(e){return d[e]};r.__getLocalVars=function(){return{ChannelFollowerStatsFetchStates:c,channelIdToFollowerStats:d}};return n}(r.ZP.Store);p.displayName="ChannelFollowerStatsStore";const h=new p(o.Z,{CONNECTION_OPEN:function(){d={}},CHANNEL_FOLLOWER_STATS_FETCH_SUCCESS:function(e){var t=e.channelId,n=e.stats;n=null!=n?n:{};d[t]={loadingStatus:c.SUCCEEDED,lastFetched:Date.now(),channelsFollowing:n.channels_following,guildMembers:n.guild_members,guildsFollowing:n.guilds_following,usersSeenEver:n.users_seen_ever,subscribersGainedSinceLastPost:n.subscribers_gained_since_last_post,subscribersLostSinceLastPost:n.subscribers_lost_since_last_post}},CHANNEL_FOLLOWER_STATS_FETCH_FAILURE:function(e){var t=e.channelId;d[t]={loadingStatus:c.FAILED,lastFetched:Date.now(),channelsFollowing:0,guildMembers:0,
guildsFollowing:0,usersSeenEver:0,subscribersGainedSinceLastPost:0,subscribersLostSinceLastPost:0}}})},780861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(202351),o=n(744564),i=n(473419);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){c=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return c(e,t)}var s=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}var d=new Set;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&c(e,t)}(n,e);var t=f(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){null!=e&&(d=new Set(e.expandedFolders));this.waitFor(i.Z)};r.getState=function(){return{expandedFolders:Array.from(d)}};r.getExpandedFolders=function(){return d};r.isFolderExpanded=function(e){return d.has(e)};r.__getLocalVars=function(){return{expandedFolders:d}};return n}(r.ZP.PersistedStore);p.displayName="ExpandedGuildFolderStore"
;p.persistKey="ExpandedGuildFolderStore";const h=new p(o.Z,{TOGGLE_GUILD_FOLDER_EXPAND:function(e){var t=e.folderId;(d=new Set(d)).has(t)?d.delete(t):d.add(t)},SET_GUILD_FOLDER_EXPANDED:function(e){var t=e.folderId,n=e.expanded;d=new Set(d);n?d.add(t):d.has(t)&&d.delete(t)},USER_SETTINGS_PROTO_UPDATE:function(){var e=i.Z.getGuildFolders();if(null==e)return!1;var t=!1,n=!0,r=!1,o=void 0;try{for(var a,l=function(){var n=a.value;if(!e.some((function(e){return e.folderId===n}))){(d=new Set(d)).delete(n);t=!0}},u=d[Symbol.iterator]();!(n=(a=u.next()).done);n=!0)l()}catch(e){r=!0;o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return t},GUILD_FOLDER_COLLAPSE:function(){if(0===d.size)return!1;d=new Set}})},3862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),l=n(75509);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){
return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var m,v,g=Object.freeze({}),O={};function E(e){var t=e.lobbyId;delete O[t]}var C=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=b(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getAllVoiceStates=function(){return O};r.getVoiceStates=function(e){var t;return null!==(t=O[e])&&void 0!==t?t:g};r.getVoiceState=function(e,t){return this.getVoiceStates(e)[t]};r.getLobbyIdsForUser=function(e){return Object.keys(O).filter((function(t){return null!=O[t][e]}))};r.__getLocalVars=function(){return{EMPTY_MAP:g,lobbies:O,currentUserId:m,currentSessionId:v}};return n}(i.ZP.Store);C.displayName="LobbyVoiceStateStore";const S=new C(a.Z,{CONNECTION_OPEN:function(e){var t=e.user,n=e.sessionId;O={};m=t.id;v=n},OVERLAY_INITIALIZE:function(e){var t=e.lobbyVoiceStates,n=e.user,r=e.sessionId;O={};o().each(t,(function(e,t){O[t]={};o().each(e,(function(e,n){O[t][n]=new l.Z(e)}))}));m=n.id
;v=r},LOBBY_VOICE_STATE_UPDATE:function(e){var t,n,r=e.sessionId,o=e.userId,i=e.lobbyId,a=e.channelId,u=e.mute,s=e.deaf,p=e.selfMute,h=e.selfDeaf,y=o===m&&r!==v,b=null!==(t=O[i])&&void 0!==t?t:{},g=b[o];null==a||y||(n=null==g?new l.Z({userId:o,sessionId:r,channelId:a,mute:u,deaf:s,selfMute:p,selfDeaf:h}):g.merge({userId:o,sessionId:r,channelId:a,mute:u,deaf:s,selfMute:p,selfDeaf:h}));if(g===n)return!1;null==n?delete(b=f({},b))[o]:b=d(f({},b),c({},o,n));O[i]=b},LOBBY_DELETE:E,LOBBY_DISCONNECT:E})},66768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(202351),o=n(744564),i=n(382060),a=n(295652),l=n(61209),u=n(717091),c=n(715107),s=n(796909);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var m=[];function v(){var e=s.Z.getPrivateChannelIds().filter((function(e){return u.ZP.getMentionCount(e)>0}));e.length>20&&(e.length=20);if((0,a.EF)(e,m))return!1;m=e;return!0}function g(){return v()}function O(e){var t=e.channelId,n=l.Z.getChannel(t)
;return!(null==n||!(0,i.hv)(n.type))&&v()}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=b(n);function n(){f(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(s.Z,l.Z,c.Z,u.ZP)};r.getUnreadPrivateChannelIds=function(){return m};r.__getLocalVars=function(){return{MAX_UNREAD_CHANNELS:20,unreadPrivateChannelIds:m}};return n}(r.ZP.Store);E.displayName="PrivateChannelReadStateStore";const C=new E(o.Z,{CONNECTION_OPEN:g,OVERLAY_INITIALIZE:g,MESSAGE_CREATE:O,MESSAGE_ACK:O,CHANNEL_SELECT:function(e){var t=e.channelId,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&v()},CHANNEL_DELETE:function(e){var t=e.channel.id,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&v()},WINDOW_FOCUS:function(){
var e=l.Z.getChannel(c.Z.getChannelId());return!(null==e||!(0,i.hv)(e.type))&&v()},CHANNEL_CREATE:function(e){var t=e.channel.id,n=l.Z.getChannel(t);return!(null==n||!(0,i.hv)(n.type))&&v()},CHANNEL_UPDATES:function(e){var t=e.channels,n=!1,r=!0,o=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value.id,f=l.Z.getChannel(s);null!=f&&(0,i.hv)(f.type)&&(n=!0)}}catch(e){o=!0;a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return!!n&&v()}})},876296:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),l=n(456837),u=n(382060),c=n(421281),s=n(749565),f=n(61209),d=n(213818),p=n(840922),h=n(473903),y=n(2590);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function g(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}function E(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
}()}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var j,_=!1,I="",w=0,P=[],x=!1,A=new Set,T=null;function N(){I="";w=0;P=[];A=new Set;_=!1;T=null}function M(e){I=e;w=0;Z()}function Z(){if(!_)return!1;var e=f.Z.getChannel(T);if(0===I.trim().length){null!=j&&j.clearQuery();P=function(e){var t=p.Z.getFriendIDs();(null==e?void 0:e.isPrivate())&&(t=t.filter((function(t){return!e.recipients.includes(t)})));return t.reduce((function(e,t){var n=h.default.getUser(t);if(null==n)return e;e.push({user:n});return e}),[]).sort(R)}(e)
;return!0}var t=null!=e?e.recipients:[];null!=j&&j.setQuery(I,{friends:!0},t,function(){var e,t=d.Z.getFrequently().filter((function(e){return e instanceof u.mn&&e.isDM()})),n=(e=Math).max.apply(e,E(t.map((function(e){var t=e.id;return d.Z.getScore(t)})))),r={};t.forEach((function(e){var t=d.Z.getScore(e.id),o=e.getRecipientId(),i=p.Z.isFriend(o)?.2:0,a=null!=f.Z.getDMFromUserId(o)?.1:0;r[o]=1+t/n+i+a}));return r}());return!1}function L(){if(!_)return!1;var e=x;return(x=o().some(p.Z.getRelationships(),(function(e){return e===y.OGo.FRIEND})))!==e}function R(e,t){return(0,c._I)(s.ZP.getName(e.user).toLocaleLowerCase()).localeCompare((0,c._I)(s.ZP.getName(t.user).toLocaleLowerCase()))}function D(e){var t=e.results;if(_&&""!==I){P=t.map((function(e){var t=e.id;return{user:h.default.getUser(t)}})).filter((function(e){return null!=e.user}));H.emitChange()}}function k(){if(null!=j){j.destroy();j=null}return l.Z.getSearchContext(D,1e3)}function U(e){if(e.key!==y.vTt)return!1;_=!0;L();j=k()
;T=null;M("")}function B(e){if(e.key!==y.vTt)return!1;F()}function F(){if(null!=j){j.destroy();j=null}N()}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}(n,e);var t=S(n);function n(){m(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(h.default,f.Z,p.Z);this.syncWith([h.default,f.Z],Z);this.syncWith([p.Z],L)};r.getResults=function(){return P};r.hasFriends=function(){return x};r.getSelectedUsers=function(){return A};r.getQuery=function(){return I};r.getState=function(){return{query:I,selectedRow:w,selectedUsers:A,results:P,hasFriends:x}};r.__getLocalVars=function(){return{LIMIT:1e3,userSearchContext:j,isOpen:_,query:I,selectedRow:w,results:P,hasFriends:x,selectedUsers:A,selectedChannelId:T,instance:H}};return n}(i.ZP.Store)
;G.displayName="PrivateChannelRecipientsInviteStore";var H=new G(a.Z,{CONNECTION_OPEN:function(){N()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;if(null!=t)return!1;var r=_;N();_=r;T=n;return Z()},MODAL_PUSH:U,SHOW_ACTION_SHEET:U,PRIVATE_CHANNEL_RECIPIENTS_INVITE_OPEN:function(e){_=!0;L();j=k();T=e.channelId;M("")},MODAL_POP:B,HIDE_ACTION_SHEET:B,PRIVATE_CHANNEL_RECIPIENTS_INVITE_CLOSE:F,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){T=e.channelId;M(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){w=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;A.add(t);A=new Set(A)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;A.delete(t);A=new Set(A)}});const V=H},269839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(496486),o=n.n(r),i=n(202351),a=n(744564),l=n(567403);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){
c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}var h=null,y={};var b=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){u(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z)};r.getOptimalRegion=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.getRegions(t);return null!=n?null!==(e=n.find((function(e){return e.optimal})))&&void 0!==e?e:o().sample(n):null};r.getOptimalRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null};r.getRandomRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?o().sample(t):null};r.getRandomRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e)
;return null!=t?t.id:null};r.getRegions=function(e){return null!=e?y[e]:h};r.__getLocalVars=function(){return{defaultRegions:h,guildRegions:y}};return n}(i.ZP.Store);b.displayName="RegionStore";const m=new b(a.Z,{LOAD_REGIONS:function(e){var t=o().sortBy(e.regions,(function(e){return e.name}));null!=e.guildId?y[e.guildId]=t:h=t},GUILD_DELETE:function(e){delete y[e.guild.id]}})},191677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(202351),o=n(630631),i=n(744564),a=n(399663);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return u(e)}function c(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){s=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return s(e,t)}
var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}var p="SpellcheckStore",h=!0,y=new Set;function b(){o.Z.set(p,{enabled:h,learnedWords:y})}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&s(e,t)}(n,e);var t=d(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){var e=o.Z.get(p);if(null!=e){
h=e.enabled;y=new Set(e.learnedWords);(0,a.gL)(h);(0,a.fG)(y)}};r.isEnabled=function(){return h};r.__getLocalVars=function(){return{STORAGE_KEY:p,enabled:h,learnedWords:y}};return n}(r.ZP.Store);m.displayName="SpellcheckStore";const v=new m(i.Z,{SPELLCHECK_TOGGLE:function(){h=!h;(0,a.gL)(h);b()},SPELLCHECK_LEARN_WORD:function(e){var t=e.word;y.add(t.toLocaleLowerCase());(0,a.fG)(y);b()},I18N_LOAD_SUCCESS:function(e){var t=e.locale;(0,a._2)(t)}})},107403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(202351),o=n(744564),i=n(409479),a=n(352980);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}
function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function d(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function p(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){
h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function y(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0
;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var v=/^(assets-library|ph|file):\/\//,g=/^content:\/\//,O=Object.freeze([]),E={},C={},S={},j={},_={};function I(){_={}}function w(e,t){var n=E[e];if(null==n)return!1;E[e]=n.filter((function(e){return e.id!==t}));delete C[t];delete S[t];return n.length!==E[e].length}function P(e,t){var n=E[e];if(null==n)return!1;E[e]=n.map((function(e){return e.id===t.id?f({},e,t):e}));var r=S[t.id];null!=r&&null!=j[r.id]&&(j[r.id]=f({},j[r.id],t))}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=m(n);function n(){u(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z)};r.getFiles=function(e){var t;return null!==(t=E[e])&&void 0!==t?t:O};r.getMessageForFile=function(e){return S[e]};r.getUploaderFileForMessageId=function(e){return j[e]};r.getUploadAttachments=function(e){if(null!=e)return _[e]};r.__getLocalVars=function(){return{iOSMediaLocalUriRegEx:v,androidMediaLocalUriRegEx:g,EMPTY:O,filesForChannel:E,uploaderForFiles:C,messageForFiles:S,uploaderFileForMessage:j,uploadAttachmentsForMessageByIndex:_}};return n}(r.ZP.Store);x.displayName="UploadStore";const A=new x(o.Z,{CONNECTION_OPEN:function(){I()},LOGOUT:function(){I()},UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,o=e.message;if(!r._aborted&&!r._errored){var a,l=null!==(a=E[t])&&void 0!==a?a:O;C[n.id]=r;E[t]=y(l).concat([n]);S[n.id]=o;var u=n.items;null!=u&&(j[o.id]=d(f({},n),{items:u}));i.ZP.trackExposure({});o.nonce}},UPLOAD_COMPRESSION_PROGRESS:function(e){P(e.channelId,e.file)},
UPLOAD_PROGRESS:function(e){P(e.channelId,e.file)},UPLOAD_COMPLETE:function(e){return w(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return w(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(e){var t=e.file,n=C[t.id];if(null==n)return!1;setImmediate((function(){var e;return null===(e=n.cancel)||void 0===e?void 0:e.call(n)}))},UPLOAD_ITEM_CANCEL_REQUEST:function(e){var t=e.file,n=e.itemId,r=C[t.id];if(null==r)return!1;setImmediate((function(){return r.cancelItem(n)}))},UPLOAD_FILE_UPDATE:function(e){var t=e.channelId,n=e.file,r=S[n.id];null!=r&&r.nonce;P(t,n)},UPLOAD_RESTORE_FAILED_UPLOAD:function(e){var t=e.file,n=e.messageId;j[n]=t}})},10712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(785893),o=(n(667294),n(945460)),i=n(744564),a=n(651921),l=n(2590);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n)
;function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var p,h,y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break
}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=null;function m(e){null!=p&&e?p():null!=h&&h();p=null;h=null}function v(){var e=!1;(0,o.openModalLazy)(c((function(){var t,o;return y(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(84604)]).then(n.bind(n,184604))];case 1:t=i.sent(),o=t.default;return[2,function(t){var n=t.onClose,i=d(t,["onClose"]);return(0,r.jsx)(o,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},i),{onClose:function(t){e=t;n()}}))}]}}))})),{onCloseCallback:function(){(0,a.M)(e)}})}const g={init:function(){
i.Z.subscribe("PREMIUM_REQUIRED_MODAL_OPEN",(function(e){m(!1);b=e.context;p=e.resolve;h=e.reject;l.e3s===e.context&&v()}));i.Z.subscribe("PREMIUM_REQUIRED_MODAL_CLOSE",(function(e){var t=e.shouldContinue;b=null;m(t)}));i.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",(function(e){if(e.locked&&null!=b){b=null;m(!1)}}))}}},801991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(785893),o=(n(667294),n(945460)),i=n(744564),a=n(584452),l=n(2590);function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))}}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}var p,h,y=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},b=null,m=null;function v(e){null!=p&&null!=b?p(b):null!=h&&h(e);p=null;h=null}
function g(e,t,i,u){var p=null;(0,o.openModalLazy)(c((function(){var o,a;return y(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(70232),n.e(56167)]).then(n.bind(n,782158))];case 1:o=c.sent(),a=o.default;return[2,function(n){var o=n.onClose,c=d(n,["onClose"]);return(0,r.jsx)(a,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},c),{onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;p=e;o()},applicationId:t,skuId:i,analyticsSource:u,isIAP:e===l.IlC.OVERLAY}))}]}}))})),{onCloseCallback:function(){(0,a.J)(p)}})}const O={init:function(){i.Z.subscribe("PURCHASE_CONFIRMATION_MODAL_OPEN",(function(e){v();m=e.context;b=e.entitlements;p=e.resolve;h=e.reject
;l.e3s===e.context&&g(e.context,e.applicationId,e.skuId,e.analyticsSource)}));i.Z.subscribe("PURCHASE_CONFIRMATION_MODAL_CLOSE",(function(e){var t=e.error;m=null;v(t)}));i.Z.subscribe("OVERLAY_SET_INPUT_LOCKED",(function(e){if(e.locked&&null!=m){m=null;v()}}))}}},412732:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>Q,yk:()=>J});var r=n(940060),o=n(202351),i=n(630631),a=n(744564),l=n(761953),u=n(247250),c=n(327499),s=n(32162),f=n(116404),d=n(516217),p=n(773011),h=n(358969),y=n(382840),b=n(996344),m=n(163082),v=n(784426),g=n(451458),O=n(915840),E=n(766496),C=n(367406),S=n(968449),j=n(61209),_=n(567403),I=n(288263),w=n(682776),P=n(840922),x=n(715107),A=n(436154),T=n(793461),N=n(9430),M=n(473903),Z=n(407561),L=n(38004),R=n(773148),D=n(537079),k=n(374092),U=n(120415),B=n(716118),F=n(749565),G=n(2590),H=n(3155),V=n(473708);function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e){z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return z(e)}function Y(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e,t){K=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return K(e,t)}var q=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}
var Q="message1",J=.4,$="message3",ee="message2",te="discord_dismissed_notification_shown",ne=document.hasFocus(),re=null,oe=["FR","GF","PF","TF","RE","GP","MQ","YT","NC","PM","WF"],ie=new(function(){function e(){W(this,e);this._channels={}}var t=e.prototype;t.track=function(e,t){var n=this._channels[e];if(null==n){n=[];this._channels[e]=n}n.push(t);for(;n.length>1;){var r=n.shift();null!=r&&null!=r.close&&r.close()}};t.clearChannel=function(e){var t=this._channels[e];if(null!=t){delete this._channels[e];t.forEach((function(e){return e.close()}))}};return e}());function ae(){return I.Z.getDesktopType()===G.qrD.NEVER||A.Z.getStatus()===G.Skl.DND}function le(e){return null!=Z.Z.getVoiceStateForChannel(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&K(e,t)}(n,e);var t=X(n);function n(){W(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(M.default,j.Z,I.Z,_.Z,E.Z,P.Z,w.Z,Z.Z,b.Z)};r.__getLocalVars=function(){return{MESSAGE_SAME_CHANNEL_SOUND:$,MESSAGE_SAME_CHANNEL_SOUND_VOLUME:.4,ACTIVITY_START_SOUND:ee,ACTIVITY_START_SOUND_VOLUME:.4,MAX_PER_CHANNEL:1,DISCORD_DISMISSED_NOTIF_KEY:te,focused:ne,userCountryCode:re,NOTIFY_ON_CLOSE_COUNTRIES:oe,notificationTracker:ie}};return n}(o.ZP.Store);ue.displayName="NotificationStore";new ue(a.Z,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==G.$Ab.ENABLED||U.FB||k.Z.showNotification(n(998634),V.Z.Messages.NOTIFICATION_TITLE_DISCORD,V.Z.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{notif_type:"NOTIFICATIONS_SET_PERMISSION_STATE"},{omitViewTracking:!0,sound:Q,volume:J,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,o=e.trackingProps,i=e.options;if(ae())return!1;k.Z.showNotification(t,n,r,o,i);return!1},
WINDOW_FOCUS:function(e){if(ne=e.focused){var t=x.Z.getChannelId();null!=t&&ie.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message;if(e.optimistic)return!1;var o=j.Z.getChannel(t),i=M.default.getUser(r.author.id);if(null==o||null==i)return!1;var l=(0,D.eF)(r,t,!ne),c=I.Z.getNotifyMessagesInSelectedChannel()&&(0,D.N_)(r,t);if(!l&&!c)return!1;var f=!I.Z.isSoundDisabled(Q);if(c){f&&B.GN($,.4);if(!ne)return!1}if(!l)return!1;var d=n(304275).Z,p=n(674482).Z;if(null!=d.getFocusedPID()&&p.getTextChatNotificationMode()===G.Ypu.ENABLED&&!T.Z.disableNotifications)return!1;var h=(0,D.Xi)(o,r,i),y=h.icon,b=h.title,m=h.body;a.Z.dispatch({type:"RPC_NOTIFICATION_CREATE",channelId:o.id,message:r,icon:y,title:b,body:m});if(I.Z.getDesktopType()===G.qrD.NEVER){f&&B.GN(Q,J);return!1}var v=k.Z.showNotification(y,b,m,{notif_type:"MESSAGE_CREATE",notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:o.id,channel_type:o.type,guild_id:o.guild_id},{omitViewTracking:!0,
tag:r.id,sound:f?Q:void 0,volume:J,onClick:function(){(0,g.Kh)(o.id);o.type!==G.d4z.GUILD_VOICE&&o.type!==G.d4z.GUILD_STAGE_VOICE||u.Z.updateChatOpen(o.id,!0);s.default.clickedNotification()}});null!=v&&ie.track(o.id,v)},CHANNEL_SELECT:function(e){var t=e.channelId;null!=t&&ie.clearChannel(t);return!1},MESSAGE_ACK:function(e){var t=e.channelId;ie.clearChannel(t);return!1},MESSAGE_REACTION_ADD:function(e){var t=e.channelId,n=e.messageId,r=e.userId,o=e.emoji,i=e.burst,a=e.optimistic,l=e.messageAuthorId;if(!i||ae()||a||!S.QX.getSetting())return!1;if(!d.yh.getCurrentConfig({},{autoTrackExposure:!1}).hasDesktopNotifications)return!1;var u=M.default.getCurrentUser();if(null==u||r===(null==u?void 0:u.id))return!1;var c=j.Z.getChannel(t);if(null==c)return!1;var s=null==c?void 0:c.getGuildId(),f=_.Z.getGuild(s);if(null==f)return!1;if(N.Z.allowNoMessages(c))return!1;if(l!==u.id)return!1;var p=M.default.getUser(r),h=R.Z.getName(s,t,p);t!==x.Z.getChannelId()&&(0,m.q5)(f.id,t,n,o)
;var y=null!=p?V.Z.Messages.SUPER_REACTION_DESKTOP_NOTIFICATION_BODY.format({name:h,guildName:null==f?void 0:f.name,channelName:"#".concat(c.name)}):V.Z.Messages.SUPER_REACTION_DESKTOP_NOTIFICATION_BODY_NO_USER.format({guildName:null==f?void 0:f.name,channelName:"#".concat(c.name)});k.Z.showNotification((0,L.qc)(o),V.Z.Messages.SUPER_REACTION_DESKTOP_NOTIFICATION_TITLE,y,{notif_type:"SUPER_REACTION"},{onClick:function(){(0,m.DF)(f.id);(0,g.jd)(t,n)}})},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(ae())return!1;if(n.type===G.IIU.PLAYING){var r=M.default.getUser(t);if(null==r)return!1;var o=F.ZP.getName(r),i=n.name,a=r.getAvatarURL(void 0,128),u=V.Z.Messages.NOTIFICATION_TITLE_START_GAME,c=V.Z.Messages.NOTIFICATION_BODY_START_GAME.format({username:o,gameName:i});k.Z.showNotification(a,u,c,{notif_type:"ACTIVITY_START",activity_type:G.IIU.PLAYING,notif_user_id:t,activity_name:i},{sound:ee,playSoundIfDisabled:!1,volume:.4,onClick:function(){l.Z.openPrivateChannel(t)}});return!1
}return!1},VOICE_STATE_UPDATES:function(e){var t=e.voiceStates;if(!ae()){var n=M.default.getCurrentUser();if(null!=n){var r=t.find((function(e){return e.userId===n.id}));if(null!=r){var o=r.channelId,i=r.guildId,a=r.suppress,l=r.requestToSpeakTimestamp;if(null!=o&&null!=i&&(!a&&null!=l)){var u=_.Z.getGuild(i),c=j.Z.getChannel(o),s=E.Z.getStageInstanceByChannel(o);null!=u&&null!=c&&null!=s&&k.Z.showNotification(u.getIconURL(128),c.name,V.Z.Messages.STAGE_SPEAK_INVITE_PUSH_NOTIFICATION.format({channelName:(0,p.F6)(c,M.default,P.Z),channelTopic:null==s?void 0:s.topic}),{notif_type:"Stage Speak Invite"},{})}}}}},STAGE_INSTANCE_UPDATE:function(e){var t=e.instance;if(ae())return!1;if(!t.send_start_notification)return!1;if(le(t.channel_id))return!1;var n=M.default.getCurrentUser(),o=_.Z.getGuild(t.guild_id),i=j.Z.getChannel(t.channel_id),a=M.default.getUser(t.host_id);if(null==n||null==i||null==o||null==a)return!1;if(!(0,D.LL)(n,a,i))return!1
;if(!w.Z.can(r.Z.combine(G.Plq.CONNECT,G.Plq.VIEW_CHANNEL),i))return!1;k.Z.showNotification(o.getIconURL(128),V.Z.Messages.STAGE_START_PUSH_NOTIFICATION_TITLE.format({guildName:o.name}),V.Z.Messages.STAGE_START_PUSH_NOTIFICATION_BODY.format({username:R.Z.getName(o.id,i.id,a),topic:t.topic}),{notif_type:"STAGE_INSTANCE_CREATE",guild_id:o.id,channel_id:i.id},{onClick:function(){(0,O.Cq)(i)}})},GUILD_SCHEDULED_EVENT_UPDATE:function(e){var t=e.guildScheduledEvent;if(ae())return!1;if(null==t.notification_type)return!1;t.notification_type===H.sy.EVENT_START&&(t.entity_type===H.WX.STAGE_INSTANCE||t.entity_type===H.WX.VOICE?function(e){if(ae())return!1;var t=e.channel_id;if(null==t)return!1;if(le(t))return!1;var n=M.default.getCurrentUser(),o=_.Z.getGuild(e.guild_id),i=j.Z.getChannel(e.channel_id),a=M.default.getUser(e.host_id);if(null==n||null==i||null==o||null==a)return!1;if(!w.Z.can(r.Z.combine(G.Plq.CONNECT,G.Plq.VIEW_CHANNEL),i))return!1
;k.Z.showNotification(o.getIconURL(128),V.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_TITLE.format({guildName:o.name}),V.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_BODY.format({topic:e.name,username:R.Z.getName(o.id,i.id,a)}),{notif_type:"GUILD_SCHEDULED_EVENT_UPDATE",guild_id:o.id,channel_id:i.id},{onClick:function(){e.entity_type===H.WX.STAGE_INSTANCE&&(0,O.Cq)(i);e.entity_type===H.WX.VOICE&&f.default.selectVoiceChannel(i.id)}})}(t):t.entity_type===H.WX.EXTERNAL&&function(e){if(ae())return!1;var t=M.default.getCurrentUser(),n=_.Z.getGuild(e.guild_id);if(null==t||null==n)return!1;k.Z.showNotification(n.getIconURL(128),V.Z.Messages.GUILD_SCHEDULED_EVENT_STAGE_START_TITLE.format({guildName:n.name}),V.Z.Messages.GUILD_SCHEDULED_EVENT_EXTERNAL_START_BODY.format({topic:e.name}),{notif_type:"GUILD_SCHEDULED_EVENT_UPDATE",guild_id:n.id},{onClick:function(){c.Z.transitionToGuildSync(e.guild_id);(0,y.bO)({eventId:e.id})}})}(t))},THREAD_CREATE:function(e){var t=e.channel,n=e.isNewlyCreated
;if(ae())return!1;var r=j.Z.getChannel(t.parent_id);if(null==r||!G.TPd.GUILD_THREADS_ONLY.has(r.type))return!1;if(!n)return!1;if(!(0,D.FI)(t,r,!ne))return!1;var o=(0,h.MC)(t),i=o.author,a=o.user;if(null==a)return!1;var l=_.Z.getGuild(r.guild_id);if(null==l)return!1;var u,c=V.Z.Messages.FORUM_CHANNEL_THREAD_CREATED_PUSH_TITLE_MOBILE.format({channelName:r.name,guildName:l.name}),s=V.Z.Messages.FORUM_CHANNEL_THREAD_CREATED_PUSH_BODY_MOBILE.format({channelName:t.name,userUsername:null!==(u=null==i?void 0:i.nick)&&void 0!==u?u:null==a?void 0:a.username}),f=a.getAvatarURL(void 0,128);k.Z.showNotification(f,c,s,{notif_type:"THREAD_CREATE",notif_user_id:a.id},{onClick:function(){(0,C.ok)(t)}})},GENERIC_PUSH_NOTIFICATION_SENT:function(e){var t=e.icon,n=e.title,r=e.body,o=e.route,i=e.trackingType,a=e.tag;if(ae())return!1;if(null==n||null==r||null==i)return!1;k.Z.showNotification(t,n,r,{notif_type:i},{onClick:function(){null!=o&&(0,v.uL)(o)},tag:a});return!1},WINDOW_HIDDEN:function(){var e=(0,
U.ED)(),t=(0,U.IJ)();if(!(!i.Z.get(te,!1)&&U.FB&&(e||t)))return!1;var r=!1;null!=re&&(r=oe.includes(re));if(!r)return!1;k.Z.showNotification(n(482773),V.Z.Messages.NOTIFICATION_TITLE_DISCORD,V.Z.Messages.NOTIFICATION_BODY_DISCORD_HIDDEN,{notif_type:"WINDOW_HIDDEN"},{overrideStreamerMode:!0,onClick:function(){(0,v.uL)(G.Z5c.SETTINGS(e?"windows":"linux"))},onShown:function(){i.Z.set(te,!0)}});return!1},LOGOUT:function(){i.Z.remove(te);return!1},CONNECTION_OPEN:function(e){var t=e.countryCode;re=t}})},489881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(785893),o=n(667294),i=n(496486),a=n.n(i),l=n(70145),u=n(473708);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){d=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return d(e,t)}var p=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&d(e,t)}(n,e);var t=h(n)
;function n(){c(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this,t=this.props,n=t.intervalDuration,r=t.onInterval;this._interval=setInterval((function(){e.forceUpdate();null==r||r()}),n)};o.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)};o.defaultRender=function(e){var t=this.props,n=t.showDays,o=t.showUnits,i=t.className,l=[e.days,e.hours,e.minutes,e.seconds],c=[u.Z.Messages.COUNTDOWN_UNITS_SECONDS,u.Z.Messages.COUNTDOWN_UNITS_MINUTES,u.Z.Messages.COUNTDOWN_UNITS_HOURS,u.Z.Messages.COUNTDOWN_UNITS_DAYS];if(0===e.days)l.shift();else if(!n){var s=l.shift();l[0]+=24*s}var f=a()(l).map((function(e){return e<10?"0".concat(e):e})).map((function(e,t){return[t>0&&!o?":":" ",(0,r.jsxs)("span",{children:[e,o?c[l.length-t-1]:null]},t)]})).flatten().value();return(0,r.jsx)("span",{className:i,children:f})};o.render=function(){var e=this.props,t=e.deadline,n=e.children,o=e.className,i=e.stopAtOneSec
;if(t===1/0)return(0,r.jsx)("span",{className:o,"aria-label":u.Z.Messages.MAX_AGE_NEVER,children:"∞"});var a=(0,l.TD)(Date.now(),t,i);return null!=n?n(a,this.defaultRender.bind(this,a)):this.defaultRender(a)};return n}(o.PureComponent);y.defaultProps={showDays:!0,showUnits:!1,stopAtOneSec:!1,intervalDuration:1e3};const b=y},847197:(e,t,n)=>{"use strict";n.d(t,{u:()=>I,Z:()=>w});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(248088),u=n(202351),c=n(945460),s=n(760014),f=n(473903),d=n(223976),p=n(48390),h=n(690296);var y=n(464187),b=n(990554),m=n(2590),v=n(473708),g=n(244414),O=n.n(g);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){C(e,t,n[t])}))}return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{
a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I={tension:800,friction:24};const w=function(e){var t=e.tabIndex,n=e.className,i=e.renderButtonContents,g=e.active,E=e.onClick,C=e["aria-controls"],w=e.focusProps,P=_(o.useState(!1),2),x=P[0],A=P[1],T=_(o.useState(0),2),N=T[0],M=T[1],Z=(0,u.e7)([y.Z],(function(){return y.Z.getGuildId()})),L=x||g,R=(0,b.l)(O(),"emojiButton",L?"Hovered":"Normal"),D=function(e){var t=-e%m.DCN.PickerPerRow*22,n=22*-Math.floor(e/m.DCN.PickerPerRow);return{
backgroundPosition:"".concat(t,"px ").concat(n,"px"),backgroundSize:"".concat(22*m.DCN.PickerPerRow,"px ").concat(22*Math.ceil(m.DCN.PickerCount/m.DCN.PickerPerRow),"px")}}(N),k=o.useCallback((function(){if(!L){var e=Math.floor(Math.random()*m.DCN.PickerCount);A(!0);M(e);(0,s.O)(Z);null!=f.default.getCurrentUser()&&p.F.getCurrentConfig({}).enabled&&(h.Z.getIsFetching()||(0,d.Jl)())}}),[L,A,M,Z]),U=o.useCallback((function(){A(!1)}),[A]),B=o.useCallback((function(){(0,s.O)(Z)}),[Z]);return(0,r.jsx)(c.Button,{look:c.Button.Looks.BLANK,size:c.Button.Sizes.NONE,tabIndex:t,className:a()(R,n),onMouseEnter:k,onMouseOver:k,onMouseLeave:U,onFocus:B,onClick:E,"aria-label":v.Z.Messages.SELECT_EMOJI,"aria-controls":C,"aria-expanded":g,"aria-selected":g,"aria-haspopup":"dialog",focusProps:w,children:null!=i?i():(0,r.jsx)(l.Spring,{config:I,to:{value:L?1:0},children:function(e){var t=e.value;return(0,r.jsx)(l.animated.div,{className:O().sprite,style:j(S({},D),{
transform:t.to([0,1],[1,1.14]).to((function(e){return"scale(".concat(e,")")})),filter:t.to((function(e){return"grayscale(".concat(100-100*e,"%)")}))})})}})})}},327860:(e,t,n)=>{"use strict";n.d(t,{ox:()=>P,OZ:()=>x,ZP:()=>A});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(575945),u=n(945460),c=n(107364),s=n(2590),f=n(952861),d=n.n(f),p=n(518280),h=n.n(p);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return m(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}function g(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){b(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function E(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return C(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var _=o.createContext(s.BRd.DARK),I=_.Provider,w=_.Consumer,P=function(e){v(n,e);var t=j(n);function n(){y(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,o=e.width,i=e.height,u=e.offsetX,s=e.offsetY,f=e.style;return(0,r.jsx)(w,{children:function(e){return(0,r.jsx)(c.Z.Child,{grow:0,className:a()(d().image,h().marginBottom40),style:O(g({},f),{width:o,height:i,marginLeft:u,marginTop:s,
backgroundImage:"url(".concat((0,l.wj)(e)?n:t,")")})})}})};return n}(o.PureComponent),x=function(e){var t=e.children,n=e.className,o=e.noteClassName,i=e.note,l=e.style;return(0,r.jsxs)(c.Z.Child,{grow:0,direction:c.Z.Direction.VERTICAL,style:l,children:[null!=t&&(0,r.jsx)(u.H,{className:a()(n,d().title),children:t}),null!=i?(0,r.jsx)("div",{className:a()(o,d().text,h().marginTop8),children:i}):null]})},A=function(e){v(n,e);var t=j(n);function n(){y(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,o=e.className,i=e.style;return(0,r.jsx)(I,{value:n,children:(0,r.jsx)(c.Z,{direction:c.Z.Direction.VERTICAL,align:c.Z.Align.CENTER,justify:c.Z.Justify.CENTER,className:a()(d().wrapper,o),style:i,children:t})})};return n}(o.PureComponent);A.Text=x;A.Image=P},319086:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(785893),o=n(667294),i=n(945460),a=n(784426),l=n(2590);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}const d=o.forwardRef((function(e,t){var n=e.href,u=e.children,d=e.onClick,p=e.onKeyPress,h=e.focusProps,y=f(e,["href","children","onClick","onKeyPress","focusProps"]),b=o.useCallback((function(e){if(!e.repeat){if(e.charCode===l.yXg.SPACE||e.charCode===l.yXg.ENTER){e.preventDefault();null!=n&&(0,a.uL)(n);null==d||d()}null==p||p(e)}}),[n,p,d]),m=o.useCallback((function(e){if(!e.metaKey&&!e.shiftKey&&0===e.button){e.preventDefault();e.stopPropagation();null!=n&&(0,a.uL)(n);null==d||d()}}),[n,d]),v=(0,r.jsx)("a",s(c({ref:t,href:n,onClick:m,onKeyPress:b},y),{children:u}));return(0,r.jsx)(i.FocusRing,s(c({},h),{children:v}))}))},26708:(e,t,n)=>{"use strict";n.d(t,{W:()=>A,Z:()=>T})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(457217),u=n(798159),c=n(945460),s=n(107364),f=n(443812),d=n(853925),p=n.n(d);function h(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,l,"next",e)}function l(e){h(i,r,o,a,l,"throw",e)}a(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0
}});t&&j(e,t)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t)
;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}
var w=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}
if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},P=function(e){g(n,e);var t=I(n);function n(){b(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,i=e.className;return(0,r.jsxs)(s.Z,{className:a()(p().quickSelect,i),align:s.Z.Align.CENTER,children:[(0,r.jsx)("div",{className:p().quickSelectLabel,children:t}),(0,r.jsxs)(s.Z,{align:s.Z.Align.CENTER,className:p().quickSelectClick,children:[(0,r.jsx)("div",{className:p().quickSelectValue,children:null!=o?o(n):n.label}),(0,r.jsx)("div",{className:p().quickSelectArrow})]})]})};return n}(o.PureComponent),x=function(e){g(n,e);var t=I(n);function n(){b(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(){var t=e.props,n=t.option,r=t.onChange;null==r||r(n)};return e}n.prototype.render=function(){var e=this,t=this.props,n=t.selected,o=t.renderOption,i=t.option;return(0,r.jsx)(l.mh,{id:i.key,children:function(t){return(0,
r.jsx)(c.Clickable,E(O({focusProps:{enabled:!1},className:a()(p().quickSelectPopoutOption,{selected:n}),onClick:e.handleClick},t),{role:"option",children:o(i,n)}))}})};return n}(o.PureComponent);function A(e){var t=e.options,n=e.value,o=e.scroller,i=e.renderOption,s=e.onChange,d=e.className,h=a()(p().quickSelectPopout,d,m({},p().quickSelectPopoutScroll,o)),b=t.map((function(e){var t=null!=n&&e.value===n.value,o=t?void 0:s;return(0,r.jsx)(x,{className:p().quickSelectPopoutOption,renderOption:i,option:e,onChange:o,selected:t},e.key||e.value)})),v=(0,f.Dt)(),g=(0,u.ZP)({id:v,isEnabled:!0,wrap:!0,scrollToStart:function(){return y((function(){return w(this,(function(e){return[2]}))}))()},scrollToEnd:function(){return y((function(){return w(this,(function(e){return[2]}))}))()}}),S=g.containerProps,j=S.ref,_=C(S,["ref"]);(0,c.useFocusLock)(j);return(0,r.jsx)(l.bG,{navigator:g,children:(0,r.jsx)("div",E(O({ref:j,className:h},_),{role:"listbox",children:o?(0,r.jsx)(c.Scroller,{
className:p().quickSelectScroller,children:b}):b}))})}const T=P},282898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(127661),c=n(361674),s=n(473708),f=n(357913),d=n.n(f);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function b(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=g(n);function n(){p(this,n);var e;(e=t.apply(this,arguments))._textInputRef=o.createRef();e._containerRef=o.createRef();e.handleClear=function(){var t=e.props,n=t.onClear,r=t.forwardedRef,o=(null!=r?r:e._textInputRef).current;null!=o&&o.focus();null!=n&&n()};return e}n.prototype.render=function(){
var e=this.props,t=e.autoFocus,n=e.label,o=e.placeholder,i=e.searchTerm,f=e.inputClassName,p=e.className,h=e.onChange,y=e.onFocus,b=e.onBlur,m=e.onKeyPress,v=e.autoComplete,g=e.forwardedRef,O=e.closeIconClassName,E=e.searchIconClassName,C=e.cta,S=null!=i&&i.length>0,j=null!=g?g:this._textInputRef;return(0,r.jsx)(l.FocusRing,{focusTarget:j,ringTarget:this._containerRef,children:(0,r.jsxs)("div",{className:a()(d().searchBox,p),ref:this._containerRef,children:[(0,r.jsx)(l.TextInput,{inputRef:j,focusProps:{enabled:!1},name:"search",maxLength:100,className:d().searchBoxInputWrapper,inputClassName:a()(d().searchBoxInput,f),onChange:h,onFocus:y,onBlur:b,onKeyPress:m,value:S?i:"",placeholder:o,autoFocus:t,"aria-label":n,autoComplete:v?"on":"off"}),null!=C?(0,r.jsx)(l.Text,{color:"text-muted",variant:"text-xs/normal",className:d().cta,children:C}):null,S?(0,r.jsx)(l.Clickable,{onClick:this.handleClear,className:d().clear,"aria-label":s.Z.Messages.SEARCH_CLEAR,children:(0,r.jsx)(u.Z,{
className:a()(d().clearIcon,O)})}):(0,r.jsx)(c.Z,{className:a()(d().searchIcon,E),"aria-label":s.Z.Messages.SEARCH})]})})};return n}(o.Component);O.defaultProps={autoComplete:!1};const E=o.forwardRef((function(e,t){return(0,r.jsx)(O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({forwardedRef:t},e))}))},37689:(e,t,n)=>{"use strict";n.d(t,{iu:()=>_,cy:()=>I,ZP:()=>A});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(575945),u=n(945460),c=n(652591),s=n(463473),f=n(107364),d=n(2590),p=n(473708),h=n(280350),y=n.n(h);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0
}):e[t]=n;return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return v(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&j(e,t)}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function E(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){j=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return j(e,t)}var _,I,w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}!function(e){e.CENTER="center";e.LEFT="left"}(_||(_={}));!function(e){e.TOP="top";e.MIDDLE="middle"}(I||(I={}));var x=function(e){g(n,e);var t=P(n);function n(){b(this,n);var e;(e=t.apply(this,arguments)).state={confirmed:!1};e.handleDismiss=function(){var t=e.props.onClickComplete;e.setState({confirmed:!0},(function(){return null==t?void 0:t()}))};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props.uniqueId;c.default.track(d.rMx.SHOW_TUTORIAL,{tutorial:e})};o.componentWillUnmount=function(){c.default.track(d.rMx.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,
acknowledged:this.state.confirmed})};o.render=function(){var e,t,n=this.props,o=n.renderMedia,i=n.textAlign,c=n.isLongText,s=n.title,d=n.body,h=n.className,b=n.forceTheme,v=n.onClickSkipAll,g="string"==typeof d?"p":"div",O=i===_.LEFT||c,E=i===_.CENTER||!O;return(0,r.jsxs)(u.Dialog,{className:a()(y().popoutRoot,h),children:[null!=o&&(0,r.jsx)(f.Z,{className:y().mediaContainer,justify:O?f.Z.Justify.START:f.Z.Justify.CENTER,children:o()}),(0,r.jsx)(u.H,{className:a()((e={},m(e,y().titleCenter,E),m(e,y().titleLeft,O),e)),children:s}),(0,r.jsx)(g,{className:a()((t={},m(t,y().bodyCenter,E),m(t,y().bodyLeft,O),t)),children:d}),(0,r.jsxs)(f.Z,{className:y().buttonContainer,justify:O?f.Z.Justify.BETWEEN:f.Z.Justify.CENTER,children:[(0,r.jsx)(u.Button,{size:u.ButtonSizes.SMALL,onClick:this.handleDismiss,children:p.Z.Messages.TUTORIAL_CLOSE}),(0,r.jsx)(u.Button,{size:u.ButtonSizes.SMALL,look:u.Button.Looks.BLANK,onClick:v,color:(0,l.ap)(b)?u.Button.Colors.PRIMARY:u.Button.Colors.WHITE,
className:O?y().buttonSkipLeftAlign:y().buttonSkipCenterAlign,children:p.Z.Messages.SKIP_ALL_TIPS})]})]})};return n}(o.PureComponent),A=function(e){g(n,e);var t=P(n);function n(){b(this,n);var e;(e=t.apply(this,arguments)).onClickComplete=function(t){t();e.props.onComplete()};e.onClickSkipAll=function(t){var n=e.props,r=n.onSkipAll,o=n.uniqueId;t();r();c.default.track(d.rMx.DISMISS_ALL_TUTORIALS,{tutorial:o})};e.renderPopoutContent=function(t){var n,o=t.closePopout,i=t.position,l=e.props,u=l.forceTheme,c=l.isLongText,f=l.arrowAlignment,d=null!=l.renderMedia;return(0,r.jsx)(x,E(O({},e.props),{className:a()((n={},m(n,y().bottom,"bottom"===i),m(n,y().contentNarrowNoMedia,!c&&!d),m(n,y().contentNarrowWithMedia,!c&&d),m(n,y().contentWideNoMedia,c&&!d),m(n,y().contentWideWithMedia,c&&d),m(n,y().right,"right"===i),m(n,y().top,"top"===i),m(n,y().left,"left"===i),m(n,y().arrowAlignmentTop,f===I.TOP),m(n,y().arrowAlignmentMiddle,f===I.MIDDLE),m(n,"force-theme",null!=u),n),(0,s.Q)(u)),
onClickComplete:function(){return e.onClickComplete(o)},onClickSkipAll:function(){return e.onClickSkipAll(o)}}))};return e}n.prototype.render=function(){var e=this.props,t=(e.renderMedia,e.textAlign,e.onComplete,e.onSkipAll,e.isLongText,e.title,e.body,e.children),n=e.spacing,o=(e.forceTheme,C(e,["renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","children","spacing","forceTheme"])),i="top"===o.position||"bottom"===o.position?"center":"top";return(0,r.jsx)(u.Popout,E(O({},o),{align:i,spacing:null!=n?n:0,renderPopout:this.renderPopoutContent,nudgeAlignIntoViewport:!0,children:t}))};return n}(o.PureComponent);A.TextAlignments=_;A.defaultProps={textAlign:_.LEFT}},633997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(23279),u=n.n(l),c=n(853158),s=n(199731),f=n(945460),d=n(532975),p=n.n(d);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return b(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&O(e,t)}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){
O=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return O(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var S={friction:10,tension:300},j=function(e){m(n,e);var t=C(n);function n(e){h(this,n);var r;(r=t.call(this,e)).state={translateY:new c.Z.Value,reduceMotion:!1};return r}var o=n.prototype;o.shouldComponentUpdate=function(e,t){return!(0,s.Z)(this.props,e,["animate"])||!(0,s.Z)(this.state,t)};o.componentDidMount=function(){
this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)};o.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()};o.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)};o.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout);this.props.animate?this._timeout=setTimeout((function(){c.Z.spring(e,v({toValue:0},S)).start()}),100):e.setValue(0)};o.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout);this.props.animate?c.Z.spring(e,v({toValue:1},S)).start():e.setValue(1)};o.render=function(){var e=this.props,t=e.className,n=e.text,o=e.hide,i=e.onClick;return(0,r.jsx)(c.Z.div,{className:a()(p().bar,t),onClick:i,style:this.getAnimatedStyle(),"aria-hidden":o,children:(0,r.jsx)("span",{className:p().text,children:n})})};o.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse
;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}};return n}(o.Component),_=function(e){m(n,e);var t=C(n);function n(){h(this,n);var e;(e=t.apply(this,arguments)).state={unread:null,mention:null};e.calculateState=u()((function(){var t=e.props,n=t.items,r=t.expandedFolders,o=t.isVisible,i=t.isUnread,a=t.isMentioned,l=t.reverse,u=t.onCalculate,c=null,s=null,f=[];n.forEach((function(e){if("string"==typeof e)f.push(e);else if("object"==typeof e&&null!=e.folderId)if(null!=r&&r.has(e.folderId)){f.push("folder:".concat(e.folderId));e.guildIds.forEach((function(e){return f.push(e)}))}else f.push(e.guildIds);else f.push(e.guildIds[0])}));for(var d=function(e){null==c&&a(e,l,f)&&(c=e);null==s&&i(e,l,f)&&(s=e)},p=l?f.length-1:0,h=f[p];null!=h;){if("string"==typeof h){if(o(h,l,f))break;d(h)}else{var y=!1,b=!0,m=!1,v=void 0;try{for(var g,O=h[Symbol.iterator]();!(b=(g=O.next()).done);b=!0){var E=g.value;if(o(E,l,f)){y=!0;break}d(E)}}catch(e){m=!0
;v=e}finally{try{b||null==O.return||O.return()}finally{if(m)throw v}}if(y)break}h=f[p+=l?-1:1]}null!=u&&u(c,s,l);e.setState({mention:c,unread:s})}),200);e.handleClick=function(t){t.preventDefault();t.stopPropagation();var n=e.state,r=n.unread,o=n.mention,i=e.props.onJumpTo,a=null!=o?o:r;null!=a&&i(a,[o,r])};return e}var o=n.prototype;o.componentDidMount=function(){this.calculateState()};o.componentDidUpdate=function(){this.calculateState()};o.componentWillUnmount=function(){this.calculateState.cancel()};o.render=function(){var e=this.state,t=e.unread,n=e.mention,o=this.props,i=o.textMention,l=o.textUnread,u=o.reverse,c=o.className,s=o.barClassName,f=o.hide,d=o.animate,h=this.context.reducedMotion;return(0,r.jsx)("div",{className:null!=c?c:void 0,children:(0,r.jsx)(j,{hide:!0===f||null==t&&null==n,className:a()(s,null!=n?p().mention:p().unread),text:null!=n?i:l,reverse:u,animate:d&&!h.enabled,onClick:this.handleClick})})};return n}(o.PureComponent)
;_.contextType=f.AccessibilityPreferencesContext;_.defaultProps={className:p().container,reverse:!1,hide:!1,animate:!0};const I=_},225253:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,Z:()=>m});var r,o=n(785893),i=n(667294),a=n(294184),l=n.n(a),u=n(945460),c=n(587683),s=n(990554),f=n(993137),d=n(109217),p=n.n(d);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.CONTAIN="contain";e.COVER="cover"}(r||(r={}));const m=i.memo((function(e){var t=e.streamId,n=e.onResize,a=e.wrapperClassName,d=e.videoComponent,h=e.className,m=e.fit,v=void 0===m?r.CONTAIN:m,g=e.mirror,O=void 0!==g&&g,E=e.paused,C=void 0!==E&&E,S=e.streamPreviewURL,j=e.videoSpinnerContext,_=e.userId,I=b(i.useState(!0),2),w=I[0],P=I[1],x=b(i.useState((function(){return new c.o("VideoStream")})),1)[0];i.useEffect((function(){C||(w?x.onSpinnerStarted():null!=t&&x.trackSpinnerDuration(j,_,t))}),[w,C,t,x,j,_]);var A=i.useCallback((function(){P(!1)}),[]);return(0,
o.jsxs)("div",{className:l()(p().wrapper,a),children:[null!=t&&(0,o.jsx)(d,{className:l()(p().video,(0,s.l)(p(),"video",v),y({},p().mirror,O),h),streamId:t,onResize:n,onReady:A,paused:C}),C?null:(0,o.jsx)("div",{className:l()(p().previewWrapper,y({},p().loading,w)),children:w&&(0,o.jsxs)(i.Fragment,{children:[null!=S?(0,o.jsx)("img",{src:S,alt:"",className:p().previewImage}):(0,o.jsx)(f.Z,{aspectRatio:16/9,className:p().emptyPreviewWrapper,children:(0,o.jsx)("div",{className:p().emptyPreview})}),(0,o.jsx)(u.Spinner,{className:p().spinner})]})})]})}))},3219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 12 12",fill:"none",children:[(0,r.jsx)("path",{d:"M7.25 1H4.75V7.25H7.25V1Z",fill:f}),(0,r.jsx)("path",{d:"M4.75 9.75C4.75 10.4167 5.33333 11 6 11C6.66667 11 7.25 10.4167 7.25 9.75C7.25 9.08333 6.66667 8.5 6 8.5C5.33333 8.5 4.75 9.08333 4.75 9.75Z",fill:f})]}))}},120306:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])
}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M20.414 2.58599C21.195 3.36699 21.195 4.63299 20.414 5.41399L14.051 11.779L11.222 8.94999L17.586 2.58599C18.367 1.80499 19.633 1.80499 20.414 2.58599Z",className:d,fill:f}),(0,r.jsx)("path",{d:"M13.622 15.035L6.552 16.449L7.966 9.378L13.344 4H4C2.897 4 2 4.898 2 6V20C2 21.103 2.897 22 4 22H18C19.103 22 20 21.103 20 20V8.656L13.622 15.035Z",className:d,fill:f}),(0,r.jsx)("path",{d:"M9.80801 10.365L12.636 13.192L9.10101 13.899L9.80801 10.365Z",className:d,fill:f})]}))}},177001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(785893),o=(n(667294),n(873308));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e){return(0,r.jsx)(o.Z,a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},e),{direction:o.Z.Directions.RIGHT}))}},105538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=e.background,h=l(e,["width","height","color","foreground","background"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M21.178 1.70703L22.592 3.12103L4.12103 21.593L2.70703 20.178L21.178 1.70703Z"}),(0,r.jsx)("path",{className:p,fill:f,d:"M18 10.5283L10.5287 18H21V17C19.344 17 18 15.657 18 14V10.5283Z"}),(0,r.jsx)("path",{className:p,fill:f,d:"M8.957 19.5718L9.52877 19H15.4449C14.7519 20.19 13.4759 21 11.9999 21C10.7748 21 9.68752 20.442 8.957 19.5718Z"}),(0,
r.jsx)("path",{className:p,fill:f,d:"M12 3C13.417 3 14.71 3.5 15.734 4.321L5.99805 14.058C5.99805 14.0479 5.99856 14.038 5.99907 14.0283C5.99956 14.0188 6.00005 14.0094 6.00005 14V9C6.00005 5.686 8.68605 3 12 3Z"})]}))}},742257:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e)
;for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 16 16",fill:"none",children:[(0,r.jsx)("clipPath",{children:(0,r.jsx)("path",{d:"m.000183 0h16v16h-16z"})}),(0,r.jsx)("g",{clipPath:"url(#a)",children:(0,r.jsx)("path",{
d:"m7.90039 1c-3.9 0-6.999999 3.1-6.999999 7s3.099999 7 6.999999 7c3.90001 0 7.00001-3.1 7.00001-7s-3.2-7-7.00001-7zm0 2.3c.8 0 1.6.3 2.30001.7l-6.40001 6.4c-.3-.7-.6-1.5-.6-2.4 0-2.6 2.1-4.7 4.7-4.7zm0 9.4c-.9 0-1.7-.3-2.4-.7l6.40001-6.4c.4.7.7 1.5.7 2.4-.1 2.6-2.2 4.7-4.70001 4.7z",fill:f})})]}))}},914563:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.color,n=void 0===t?"currentColor":t,u=e.height,c=void 0===u?24:u,s=e.width,f=void 0===s?24:s,d=l(e,["color","height","width"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:f,height:c,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{
d:"M4.25947 16.5917C3.14082 14.7059 2.74905 12.4766 3.15775 10.3224C3.56644 8.16824 4.74748 6.23734 6.47909 4.89231C8.2107 3.54728 10.3738 2.88064 12.5621 3.01758C14.7504 3.15452 16.8135 4.08562 18.3639 5.63603C19.9144 7.18644 20.8455 9.24952 20.9824 11.4379C21.1194 13.6262 20.4527 15.7893 19.1077 17.5209C17.7627 19.2525 15.8318 20.4335 13.6776 20.8422C11.5234 21.2509 9.29412 20.8592 7.40833 19.7405L7.40835 19.7405L4.29862 20.6289C4.16996 20.6657 4.03381 20.6674 3.90428 20.6338C3.77475 20.6003 3.65655 20.5327 3.56194 20.4381C3.46732 20.3434 3.39973 20.2252 3.36616 20.0957C3.3326 19.9662 3.33429 19.83 3.37105 19.7014L4.25954 16.5916L4.25947 16.5917Z",stroke:n,"stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",
d:"M8.30605 8.30602C7.89802 8.71404 7.89802 9.37558 8.30605 9.78361L10.5224 12L8.30606 14.2164C7.89803 14.6244 7.89803 15.2859 8.30606 15.694C8.71409 16.102 9.37563 16.102 9.78365 15.694L12 13.4776L14.2164 15.694C14.6244 16.102 15.286 16.102 15.694 15.694C16.102 15.2859 16.102 14.6244 15.694 14.2164L13.4776 12L15.694 9.78361C16.102 9.37558 16.102 8.71404 15.694 8.30602C15.286 7.89799 14.6244 7.89799 14.2164 8.30602L12 10.5224L9.78364 8.30602C9.37562 7.89799 8.71408 7.89799 8.30605 8.30602Z",fill:n})]}))}},164760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M11 5V3C16.515 3 21 7.486 21 13H19C19 8.589 15.411 5 11 5ZM17 13H15C15 10.795 13.206 9 11 9V7C14.309 7 17 9.691 17 13ZM11 11V13H13C13 11.896 12.105 11 11 11ZM14 16H18C18.553 16 19 16.447 19 17V21C19 21.553 18.553 22 18 22H13C6.925 22 2 17.075 2 11V6C2 5.447 2.448 5 3 5H7C7.553 5 8 5.447 8 6V10C8 10.553 7.553 11 7 11H6C6.063 14.938 9 18 13 18V17C13 16.447 13.447 16 14 16Z"})}))}},781736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.74273 19H16C17.103 19 18 18.104 18 17V14.618L20.553 15.894C20.694 15.965 20.847 16 21 16C21.183 16 21.365 15.949 21.526 15.851C21.82 15.668 22 15.347 22 15V9C22 8.653 21.82 8.332 21.526 8.149C21.231 7.966 20.862 7.951 20.553 8.105L18 9.382V7.74273L6.74273 19ZM12.2574 5H4C2.897 5 2 5.897 2 7V15.2574L12.2574 5Z",fill:f}),(0,r.jsx)("rect",{y:"19.9623",width:"26",height:"2",transform:"rotate(-45 0 19.9623)",className:d,fill:f})]}))}},436187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}
function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?20:t,u=e.height,c=void 0===u?20:u,s=e.className,f=l(e,["width","height","className"]);return(0,r.jsx)("svg",a(function(e){
for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({width:n,height:c,className:s},(0,o.Z)(f)),{viewBox:"0 0 20 20",children:(0,r.jsxs)("g",{clipPath:"url(#clip0_198_5469)",children:[(0,r.jsx)("path",{"aria-hidden":!0,d:"M19.15 17C19.41 17.11 19.6 17 19.51 16.73L18.89 15.15L18.28 13.56C18.23 13.4421 18.1442 13.3429 18.0348 13.2765C17.9253 13.2101 17.7977 13.1798 17.67 13.19L13.67 14.28C13.4 14.36 13.56 14.79 13.92 14.93L19.15 17Z",fill:"#FF73FA"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M9.80009 14L7.08009 8.67001L0.440092 18C0.351927 18.1221 0.299095 18.2662 0.287392 18.4163C0.275688 18.5665 0.305566 18.7169 0.373746 18.8512C0.441926 18.9855 0.545775 19.0985 0.673902 19.1776C0.802029 19.2568 0.949484 19.2991 1.10009 19.3H12.5201L9.80009 14Z",fill:"#8086FF"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M12.27 19C11.57 19 9.92997 17.31 8.52997 14.57C7.86795 13.3426 7.37674 12.0304 7.06997 10.67C6.83997 9.54999 6.99997 8.99999 7.19997 8.89999H7.32997C8.03997 8.89999 9.66997 10.59 11.07 13.32C12.68 16.46 12.93 18.76 12.4 19.03C12.3549 19.0306 12.3103 19.0203 12.27 19Z",fill:"#05124A"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M7.33009 9.14999C7.86009 9.14999 9.42009 10.67 10.8301 13.43C12.4501 16.57 12.5201 18.55 12.2701 18.77C11.7401 18.77 10.1801 17.25 8.77009 14.49C7.15009 11.35 7.08009 9.35999 7.32009 9.14999H7.33009ZM7.32009 8.60999C7.233 8.60831 7.14693 8.62897 7.07009 8.66999C6.23009 9.08999 6.78009 11.81 8.28009 14.74C9.65009 17.4 11.3401 19.31 12.2801 19.31C12.3672 19.3117 12.4532 19.291 12.5301 19.25C13.3701 18.82 12.8301 16.11 11.3201 13.18C9.96009 10.52 8.26009 8.60999 7.32009 8.60999Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M3.53991 17.22C3.16017 16.4754 2.85534 15.6949 2.62991 14.89L1.40991 16.6C1.5797 17.0776 1.77669 17.545 1.99991 18C2.21943 18.4301 2.46316 18.8475 2.72991 19.25H4.84991C4.34607 18.6191 3.90718 17.939 3.53991 17.22Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M6.83003 19.25H9.23003C8.09101 18.2623 7.1538 17.0636 6.47003 15.72C5.75671 14.3452 5.32173 12.8432 5.19003 11.3L3.78003 13.3C4.05054 14.4137 4.46044 15.4889 5.00003 16.5C5.49463 17.4884 6.10927 18.4121 6.83003 19.25Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,d:"M12.2699 18.77C11.7199 18.7 10.2699 17.3 8.7899 14.49C7.2499 11.49 7.1199 9.57 7.3199 9.19L6.9999 8.69C6.2199 9.19 6.7699 11.86 8.2499 14.74C9.5699 17.31 11.2499 19.19 12.1399 19.3C12.2557 19.3201 12.3748 19.3026 12.4799 19.25L12.2699 18.77Z",fill:"#373BE1"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M15.5901 9.23L14.6201 8C14.5734 7.94051 14.5118 7.89439 14.4416 7.8663C14.3713 7.8382 14.2949 7.82913 14.2201 7.84L10.8601 8.28C10.786 8.29082 10.7158 8.32037 10.6563 8.36587C10.5968 8.41137 10.5499 8.47131 10.5201 8.54L9.22008 11.68C9.18969 11.7486 9.1792 11.8243 9.18981 11.8986C9.20042 11.9729 9.2317 12.0427 9.28008 12.1L10.2801 13.37C10.3268 13.4295 10.3884 13.4756 10.4586 13.5037C10.5288 13.5318 10.6052 13.5409 10.6801 13.53L14.0001 13.05C14.0742 13.0392 14.1443 13.0096 14.2038 12.9641C14.2633 12.9186 14.3102 12.8587 14.3401 12.79L15.6401 9.65C15.6718 9.58232 15.684 9.50709 15.6751 9.43285C15.6663 9.35862 15.6368 9.28834 15.5901 9.23Z",fill:"#FFD836"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M12.6801 10.21L11.4101 9.74001C11.3617 9.72337 11.3182 9.69501 11.2834 9.65748C11.2487 9.61994 11.2238 9.57439 11.2109 9.52489C11.198 9.47539 11.1976 9.42347 11.2097 9.37376C11.2217 9.32405 11.2459 9.27811 11.2801 9.24001L14.7201 5.24001C14.7617 5.1903 14.8178 5.15488 14.8806 5.13873C14.9434 5.12259 15.0096 5.12653 15.0701 5.15001L16.3401 5.61001C16.3871 5.62978 16.4288 5.66018 16.4621 5.69881C16.4954 5.73745 16.5193 5.78327 16.5319 5.83268C16.5445 5.8821 16.5454 5.93376 16.5347 5.98361C16.524 6.03346 16.5019 6.08015 16.4701 6.12001L13.0301 10.12C12.9884 10.1697 12.9323 10.2051 12.8695 10.2213C12.8067 10.2374 12.7405 10.2335 12.6801 10.21Z",fill:"#AEC7FF"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M11.61 17.25L11.35 16.33C11.3396 16.2949 11.3383 16.2577 11.346 16.2219C11.3537 16.1861 11.3702 16.1527 11.394 16.1249C11.4179 16.0971 11.4483 16.0757 11.4825 16.0626C11.5167 16.0495 11.5536 16.0452 11.59 16.05L15.31 16.37C15.3545 16.373 15.397 16.3901 15.4311 16.4189C15.4653 16.4477 15.4894 16.4866 15.5 16.53L15.76 17.45C15.7697 17.4856 15.7707 17.523 15.763 17.5591C15.7552 17.5952 15.7388 17.6289 15.7153 17.6574C15.6918 17.6858 15.6617 17.7082 15.6277 17.7225C15.5937 17.7369 15.5568 17.7429 15.52 17.74L11.8 17.42C11.7546 17.4149 11.7119 17.3958 11.6778 17.3653C11.6438 17.3349 11.6201 17.2946 11.61 17.25Z",fill:"#AEC7FF"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M10.51 4.87L9.51004 4.8C9.47171 4.79882 9.43428 4.78808 9.40117 4.76875C9.36805 4.74942 9.34029 4.72212 9.32041 4.68932C9.30054 4.65653 9.28918 4.61928 9.28737 4.58098C9.28555 4.54268 9.29335 4.50453 9.31004 4.47L10.93 0.900003C10.9491 0.856352 10.9819 0.820078 11.0234 0.796634C11.0648 0.773191 11.1128 0.763846 11.16 0.770003L12.16 0.840003C12.1984 0.841182 12.2358 0.851926 12.2689 0.871256C12.302 0.890587 12.3298 0.917891 12.3497 0.950685C12.3695 0.98348 12.3809 1.02072 12.3827 1.05903C12.3845 1.09733 12.3767 1.13548 12.36 1.17L10.74 4.73C10.7213 4.77455 10.689 4.81205 10.6477 4.83718C10.6064 4.86231 10.5582 4.87379 10.51 4.87Z",fill:"#FF73FA"}),(0,r.jsx)("path",{"aria-hidden":!0,
d:"M9.11995 3.16L9.38995 3.89C9.40593 3.92181 9.43011 3.94877 9.46 3.96811C9.48988 3.98744 9.52439 3.99846 9.55995 4H10.3699C10.5599 4 10.6099 4.26 10.4499 4.41L9.76995 5.07C9.71086 5.13269 9.67549 5.21403 9.66995 5.3V6.13C9.66965 6.17649 9.6589 6.22232 9.63849 6.2641C9.61808 6.30587 9.58854 6.34252 9.55204 6.37133C9.51555 6.40013 9.47305 6.42037 9.42768 6.43052C9.38231 6.44068 9.33524 6.4405 9.28995 6.43L8.59995 6.1C8.56441 6.08159 8.52497 6.07198 8.48495 6.07198C8.44492 6.07198 8.40549 6.08159 8.36995 6.1L7.57995 6.57C7.38995 6.69 7.20995 6.57 7.26995 6.35L7.51995 5.49C7.53745 5.45777 7.54662 5.42168 7.54662 5.385C7.54662 5.34833 7.53745 5.31223 7.51995 5.28L6.99995 4.81C6.86995 4.68 6.99995 4.42 7.18995 4.37L7.99995 4.17C8.04629 4.1582 8.08971 4.13702 8.12755 4.10779C8.16539 4.07855 8.19684 4.04187 8.21995 4L8.68995 3.2C8.79995 3 9.05995 3 9.11995 3.16Z",fill:"#A5F7DE"})]})}))}},460490:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 4 14",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"1",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"4.61111107",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"4.61111107",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"8.22222227",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"8.22222227",rx:"1.125",
ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"3.75",cy:"11.83333337",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"11.83333337",rx:"1.125",ry:"1.08333333"}),(0,r.jsx)("ellipse",{fill:f,cx:"0",cy:"1",rx:"1.125",ry:"1.08333333"})]})}))}},912250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.color,n=void 0===t?"currentColor":t,u=e.height,c=void 0===u?24:u,s=e.width,f=void 0===s?24:s,d=l(e,["color","height","width"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:f,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M19.2929 9.8299L19.9409 9.18278C21.353 7.77064 21.353 5.47197 19.9409 4.05892C18.5287 2.64678 16.2292 2.64678 14.817 4.05892L14.1699 4.70694L19.2929 9.8299ZM12.8962 5.97688L5.18469 13.6906L10.3085 18.813L18.0201 11.0992L12.8962 5.97688ZM4.11851 20.9704L8.75906 19.8112L4.18692 15.239L3.02678 19.8796C2.95028 20.1856 3.04028 20.5105 3.26349 20.7337C3.48669 20.9569 3.8116 21.046 4.11851 20.9704Z",fill:n})}))}},308377:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{
width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M6.16204 15.0065C6.10859 15.0022 6.05455 15 6 15H4V12C4 7.588 7.589 4 12 4C13.4809 4 14.8691 4.40439 16.0599 5.10859L17.5102 3.65835C15.9292 2.61064 14.0346 2 12 2C6.486 2 2 6.485 2 12V19.1685L6.16204 15.0065Z",fill:f}),(0,r.jsx)("path",{d:"M19.725 9.91686C19.9043 10.5813 20 11.2796 20 12V15H18C16.896 15 16 15.896 16 17V20C16 21.104 16.896 22 18 22H20C21.105 22 22 21.104 22 20V12C22 10.7075 21.7536 9.47149 21.3053 8.33658L19.725 9.91686Z",fill:f}),(0,r.jsx)("path",{d:"M3.20101 23.6243L1.7868 22.2101L21.5858 2.41113L23 3.82535L3.20101 23.6243Z",className:d,fill:f})]}))}},348311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.25 18L13.25 6L11.75 6L11.75 18L13.25 18Z",fill:f}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12.75C6.30964 12.75 5.75 13.3096 5.75 14V18H4.25V14C4.25 12.4812 5.48122 11.25 7 11.25H18C19.5188 11.25 20.75 12.4812 20.75 14V18H19.25V14C19.25 13.3096 18.6904 12.75 18 12.75H7Z",fill:f}),(0,r.jsx)("path",{d:"M12.5 7C11.1193 7 10 5.88071 10 4.5C10 3.11929 11.1193 2 12.5 2C13.8807 2 15 3.11929 15 4.5C15 5.88071 13.8807 7 12.5 7Z",fill:f}),(0,r.jsx)("path",{d:"M20 22C18.6193 22 17.5 20.8807 17.5 19.5C17.5 18.1193 18.6193 17 20 17C21.3807 17 22.5 18.1193 22.5 19.5C22.5 20.8807 21.3807 22 20 22Z",fill:f}),(0,r.jsx)("path",{
d:"M12.5 22C11.1193 22 10 20.8807 10 19.5C10 18.1193 11.1193 17 12.5 17C13.8807 17 15 18.1193 15 19.5C15 20.8807 13.8807 22 12.5 22Z",fill:f}),(0,r.jsx)("path",{d:"M5 22C3.61929 22 2.5 20.8807 2.5 19.5C2.5 18.1193 3.61929 17 5 17C6.38071 17 7.5 18.1193 7.5 19.5C7.5 20.8807 6.38071 22 5 22Z",fill:f})]}))}},6171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){
if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",
children:[(0,r.jsx)("rect",{width:"24",height:"24"}),(0,r.jsx)("path",{fill:f,className:d,d:"M9,7 L11,7 L11,5 L9,5 L9,7 Z M10,18 C5.59,18 2,14.41 2,10 C2,5.59 5.59,2 10,2 C14.41,2 18,5.59 18,10 C18,14.41 14.41,18 10,18 L10,18 Z M10,4.4408921e-16 C4.4771525,-1.77635684e-15 4.4408921e-16,4.4771525 0,10 C-1.33226763e-15,12.6521649 1.0535684,15.195704 2.92893219,17.0710678 C4.80429597,18.9464316 7.3478351,20 10,20 C12.6521649,20 15.195704,18.9464316 17.0710678,17.0710678 C18.9464316,15.195704 20,12.6521649 20,10 C20,7.3478351 18.9464316,4.80429597 17.0710678,2.92893219 C15.195704,1.0535684 12.6521649,2.22044605e-16 10,0 L10,4.4408921e-16 Z M9,15 L11,15 L11,9 L9,9 L9,15 L9,15 Z",transform:"translate(2 2)"})]})}))}},554647:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,
r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M6.7 11H5C5 12.19 5.34 13.3 5.9 14.28L7.13 13.05C6.86 12.43 6.7 11.74 6.7 11Z",fill:f}),(0,r.jsx)("path",{d:"M9.01 11.085C9.015 11.1125 9.02 11.14 9.02 11.17L15 5.18V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 11.03 9.005 11.0575 9.01 11.085Z",fill:f}),(0,r.jsx)("path",{d:"M11.7237 16.0927L10.9632 16.8531L10.2533 17.5688C10.4978 17.633 10.747 17.6839 11 17.72V22H13V17.72C16.28 17.23 19 14.41 19 11H17.3C17.3 14 14.76 16.1 12 16.1C11.9076 16.1 11.8155 16.0975 11.7237 16.0927Z",fill:f}),(0,r.jsx)("path",{
d:"M21 4.27L19.73 3L3 19.73L4.27 21L8.46 16.82L9.69 15.58L11.35 13.92L14.99 10.28L21 4.27Z",className:d,fill:f})]}))}},425454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){
var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",
d:"M4 2.5C2.897 2.5 2 3.397 2 4.5V15.5C2 16.604 2.897 17.5 4 17.5H11V19.5H7V21.5H17V19.5H13V17.5H20C21.103 17.5 22 16.604 22 15.5V4.5C22 3.397 21.103 2.5 20 2.5H4ZM20 4.5V13.5H4V4.5H20Z"})}))}},178742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=l(e,["width","height","color"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(d)),{width:n,height:c,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M1.25 0.5H4.25C4.66475 0.5 5 0.836 5 1.25V4.25C5 4.664 4.66475 5 4.25 5H1.25C0.836 5 0.5 4.664 0.5 4.25V1.25C0.5 0.836 0.836 0.5 1.25 0.5ZM1.25 5.75H4.25C4.66475 5.75 5 6.086 5 6.5V9.5C5 9.914 4.66475 10.25 4.25 10.25H1.25C0.836 10.25 0.5 9.914 0.5 9.5V6.5C0.5 6.086 0.836 5.75 1.25 5.75ZM4.25 11H1.25C0.836 11 0.5 11.336 0.5 11.75V14.75C0.5 15.164 0.836 15.5 1.25 15.5H4.25C4.66475 15.5 5 15.164 5 14.75V11.75C5 11.336 4.66475 11 4.25 11ZM6.5 2H15.5V3.5H6.5V2ZM15.5 7.25H6.5V8.75H15.5V7.25ZM6.5 12.5H15.5V14H6.5V12.5Z",fill:f})}))}},778613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=l(e,["width","height","color","className","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{className:p,fill:f,d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"})]}))}},279309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,d:"M7 1C6.73479 1.00003 6.48045 1.10539 6.29292 1.29292C6.10539 1.48045 6.00003 1.73479 6 2V6C6.00009 6.23417 6.08234 6.46088 6.23242 6.64062L10.6992 12L6.23242 17.3594C6.08234 17.5391 6.00009 17.7658 6 18V22C6.00003 22.2652 6.10539 22.5195 6.29292 22.7071C6.48045 22.8946 6.73479 23 7 23H17C17.2652 23 17.5195 22.8946 17.7071 22.7071C17.8946 22.5195 18 22.2652 18 22V18C17.9999 17.7658 17.9177 17.5391 17.7676 17.3594L13.3008 12L17.7676 6.64062C17.9177 6.46088 17.9999 6.23417 18 6V2C18 1.73479 17.8946 1.48045 17.7071 1.29292C17.5195 1.10539 17.2652 1.00003 17 1H7ZM12 13.5625L16 18.3613V21H8V18.3613L12 13.5625Z"})}))}},226919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c})
;var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,i=e.height,c=void 0===i?24:i,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=u(e,["width","height","color","foreground"]);return 16===n||16===c?(0,r.jsxs)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 16 16",children:[(0,r.jsx)("path",{className:d,fill:f,d:"M14 2H16V3H14V5H13V3H11V2H13V0H14V2Z"}),(0,r.jsx)("path",{className:d,fill:f,d:"M6.5 8.00667C7.88 8.00667 9 6.88667 9 5.50667C9 4.12667 7.88 3.00667 6.5 3.00667C5.12 3.00667 4 4.12667 4 5.50667C4 6.88667 5.12 8.00667 6.5 8.00667Z"}),(0,r.jsx)("path",{className:d,fill:f,
d:"M6.5 8.34C3.26 8.34 1 9.98666 1 12.34V13.0067H12V12.34C12 9.98 9.74 8.34 6.5 8.34Z"})]})):(0,r.jsx)("svg",l(a({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:d,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M21 3H24V5H21V8H19V5H16V3H19V0H21V3ZM10 12C12.205 12 14 10.205 14 8C14 5.795 12.205 4 10 4C7.795 4 6 5.795 6 8C6 10.205 7.795 12 10 12ZM10 13C5.289 13 2 15.467 2 19V20H18V19C18 15.467 14.711 13 10 13Z"})}))}},853039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsxs)("g",{fill:"none",className:d,children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C12.4883 22 12.9684 21.965 13.438 21.8974C12.5414 20.8489 12 19.4877 12 18C12 17.6593 12.0284 17.3252 12.083 17H6V16.0244C6 14.0732 10 13 12 13C12.6215 13 13.436 13.1036 14.2637 13.305C15.2888 12.4882 16.5874 12 18 12C19.4877 12 20.8489 12.5414 21.8974 13.438C21.965 12.9684 22 12.4883 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12Z",fill:f}),(0,r.jsx)("path",{d:"M18 22C20.2091 22 22 20.2091 22 18C22 15.7909 20.2091 14 18 14C15.7909 14 14 15.7909 14 18C14 20.2091 15.7909 22 18 22Z",fill:f})]})}))}},467853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:d,fill:f,d:"M19 3H5V5H7V12H5V14H11V22H13V14H19V12H17V5H19V3Z"})})}))}},423871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){
t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?18:t,u=e.height,c=void 0===u?18:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"])
;return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 18 18",children:(0,r.jsx)("path",{className:d,fillRule:"evenodd",clipRule:"evenodd",
d:"M17.7516 12.8667C17.4035 13.3058 16.5507 13.6191 16.5507 13.6191L10.2065 15.8979V14.2173L14.8754 12.5538C15.4052 12.364 15.4866 12.0956 15.0559 11.9547C14.6261 11.8135 13.8477 11.854 13.3175 12.0446L10.2065 13.1403V11.3962L10.3858 11.3355C10.3858 11.3355 11.2848 11.0173 12.5488 10.8773C13.8129 10.738 15.3607 10.8963 16.5758 11.3569C17.9451 11.7896 18.0993 12.4275 17.7516 12.8667ZM10.8104 10.005V5.70728C10.8104 5.20255 10.7173 4.73788 10.2437 4.60633C9.88107 4.49017 9.65602 4.82693 9.65602 5.33126V16.0938L6.75349 15.1726V2.34009C7.9876 2.56918 9.78554 3.11075 10.7521 3.43658C13.2102 4.2805 14.0436 5.33085 14.0436 7.69748C14.0436 10.0042 12.6197 10.8785 10.8104 10.005ZM1.42767 14.0417C0.0219393 13.6458 -0.212012 12.8209 0.428722 12.3457C1.02089 11.907 2.02793 11.5767 2.02793 11.5767L6.18966 10.0969V11.7839L3.19485 12.8557C2.66583 13.0456 2.58447 13.3143 3.01432 13.4552C3.44458 13.596 4.22334 13.556 4.75317 13.3657L6.18966 12.8444V14.3537C6.09859 14.3699 5.997 14.3861 5.90309 14.4019C4.4662 14.6367 2.9358 14.5387 1.42767 14.0417Z",
fill:f})}))}},753724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?16:t,u=e.height,c=void 0===u?16:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 60 60",children:(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:d,fill:f,
d:"M8.95185131,8.62650012 L8.92775494,8.65059649 C3.20486729,14.2891468 -0.0119979765,21.9758886 5.02080018e-05,29.9999795 C-0.0119979765,36.56624 2.14462705,42.9517778 6.13257613,48.1686417 C6.16872068,48.2168345 6.24100979,48.252979 6.28920253,48.2168345 C6.33739527,48.1806899 6.34944345,48.120449 6.32534708,48.0602081 C4.03619202,40.9879237 15.722931,23.8433572 21.7711196,16.6626392 C21.795216,16.6385428 21.8193124,16.6144465 21.8193124,16.5783019 C21.8193124,16.5421573 21.795216,16.5060128 21.7590715,16.4819164 C11.6024519,6.37348961 8.8795622,8.68674104 8.92775494,8.65059649 M51.048208,8.62650012 L51.0723044,8.65059649 C56.795192,14.2770987 60.0000091,21.9758886 59.9879609,29.9999795 C60.0000091,36.56624 57.8433841,42.9517778 53.855435,48.1686417 C53.8192905,48.2168345 53.7470014,48.252979 53.6988086,48.2168345 C53.6506159,48.1806899 53.6506159,48.120449 53.6626641,48.0602081 C55.9518191,40.9879237 44.2650801,23.831309 38.2289397,16.650591 C38.2048433,16.6264946 38.180747,16.6023983 38.180747,16.5662537 C38.180747,16.518061 38.2048433,16.4939646 38.2409879,16.4698682 C48.4096556,6.36144143 51.0964008,8.68674104 51.0602562,8.65059649 M30.0000297,0 C36.0482183,0 41.0361667,1.66264946 45.626525,4.38553917 C45.6867659,4.40963554 45.6988141,4.48192464 45.6747177,4.53011738 C45.6506214,4.57831012 45.5903804,4.5903583 45.5301395,4.57831012 C39.7229146,3.32529893 30.8915953,8.33734369 30.0602706,8.84336744 C30.0361742,8.85541562 30.024126,8.86746381 30.0000297,8.86746381 C29.9759333,8.86746381 29.9518369,8.85541562 29.9397887,8.84336744 C27.7229228,7.56625988 19.5663019,3.28915437 14.4217271,4.61445467 C14.3614862,4.62650286 14.3012452,4.61445467 14.2771489,4.56626193 C14.2530525,4.50602101 14.2771489,4.44578009 14.3253416,4.42168372 C18.9156999,1.66264946 23.9638892,0 30.0000297,0 M30.0000297,24.0602245 C30.0361742,24.0602245 30.0723188,24.0843209 30.0964151,24.1084172 C39.0723126,30.9397379 54.4337479,47.8071962 49.7470041,52.5782773 L49.7590523,52.5662291 L49.7590523,52.5782773 L49.7470041,52.5782773 C44.2771283,57.3734547 37.2650849,60.0120071 30.0000297,59.9999589 C22.7349744,60.0120071 15.7108828,57.3734547 10.2530552,52.5782773 L10.2410071,52.5662291 L10.2530552,52.5782773 C5.56631146,47.8071962 20.9277467,30.9276897 29.9036442,24.1084172 C29.9156924,24.0843209 29.9638851,24.0602245 30.0000297,24.0602245"
})})}))}},256827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:f,className:d,
d:"M12 2C6.485 2 2 6.485 2 12H5.33333C5.33333 8.32333 8.32333 5.33333 12 5.33333C15.6767 5.33333 18.6667 8.32333 18.6667 12C18.6667 15.6767 15.6767 18.6667 12 18.6667C10.2033 18.6667 8.55833 17.9333 7.315 16.6867L10.3333 13.6667H2V22L4.935 19.065C6.79833 20.94 9.30167 22 12 22C17.515 22 22 17.515 22 12C22 6.48667 17.515 2 12 2Z"})}))}},944823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e
}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 32 32",fill:"none",
xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M5.66747 20.3625C4.60336 21.4277 4.25395 25.5781 4.25395 25.5781C4.25395 25.5781 8.40516 25.2302 9.47018 24.165C9.96634 23.6697 10.2203 23.0275 10.2539 22.3785L7.46675 22.3647L7.4522 19.5781C6.80337 19.6118 6.16363 19.8662 5.66747 20.3625Z",fill:f,className:d}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.18187 16.9929L12.8389 22.6489L14.253 21.2347L15.3137 25.8309L17.0815 24.0632V18.4063L20.6171 14.8707C22.0313 13.4566 24.8598 10.0617 23.4455 6.38545C19.7684 4.97117 16.3744 7.79971 14.9606 9.21422L7.18187 16.9929ZM18.3172 13.5111C19.4217 13.5111 20.3172 12.6156 20.3172 11.5111C20.3172 10.4065 19.4217 9.51106 18.3172 9.51106C17.2126 9.51106 16.3172 10.4065 16.3172 11.5111C16.3172 12.6156 17.2126 13.5111 18.3172 13.5111Z",fill:f,className:d}),(0,r.jsx)("path",{d:"M11.4246 12.7495H5.76775L4 14.5172L8.59617 15.5779L11.4246 12.7495Z",fill:f,className:d}),(0,r.jsx)("path",{
d:"M25 18V21H28V23H25V26H23V23H20V21H23V18H25Z",fill:f,className:d})]}))}},517451:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(785893);n(667294);function o(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,l=void 0===a?"currentColor":a,u=e.className,c=e.foreground;return(0,r.jsx)("svg",{className:u,width:n,height:i,viewBox:"0 0 16 16",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("rect",{width:"16",height:"16"}),(0,r.jsx)("polygon",{className:c,fill:l,points:"12 2.32 10.513 2 4 13.68 5.487 14"})]})})}},298182:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?12:t,u=e.height,c=void 0===u?12:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 12 12",children:[(0,r.jsx)("path",{className:d,d:"M7.00168 1.08381C7.00168 0.485238 6.51645 0 5.91788 0C5.31931 0 4.83408 0.485238 4.83408 1.08381V2.18568C4.83408 2.78425 5.31931 3.26949 5.91788 3.26949C6.51645 3.26949 7.00168 2.78425 7.00168 2.18568V1.08381Z",fill:f}),(0,r.jsx)("path",{className:d,d:"M7.00159 9.81428C7.00159 9.21571 6.51636 8.73047 5.91779 8.73047C5.31922 8.73047 4.83398 9.21571 4.83398 9.81428V10.9161C4.83398 11.5147 5.31922 12 5.91779 12C6.51636 12 7.00159 11.5147 7.00159 10.9161V9.81428Z",fill:f}),(0,r.jsx)("path",{className:d,
d:"M10.9162 7.10561C11.5148 7.10561 12 6.62037 12 6.0218C12 5.42323 11.5148 4.93799 10.9162 4.93799H9.81433C9.21576 4.93799 8.73053 5.42323 8.73053 6.0218C8.73053 6.62037 9.21576 7.10561 9.81433 7.10561H10.9162Z",fill:f}),(0,r.jsx)("path",{className:d,d:"M2.18573 7.04555C2.7843 7.04555 3.26953 6.56031 3.26953 5.96174C3.26953 5.36317 2.7843 4.87793 2.18573 4.87793H1.08386C0.485292 4.87793 5.67436e-05 5.36317 5.67436e-05 5.96174C5.67436e-05 6.56031 0.485292 7.04555 1.08386 7.04555H2.18573Z",fill:f})]}))}},509644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?10:t,u=e.height,c=void 0===u?10:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 10 10",children:(0,r.jsx)("path",{className:d,
d:"M4.59185 1.69642L1.32007 0.0611887C1.14437 -0.00404167 0.953613 -0.0174513 0.770466 0.0225611C0.587319 0.0625734 0.419488 0.154328 0.286908 0.286908C0.154328 0.419488 0.0625738 0.587318 0.0225614 0.770466C-0.0174511 0.953613 -0.00404127 1.14437 0.0611893 1.32007L1.69642 4.59185C1.78832 4.83513 1.78825 5.10365 1.69623 5.34698L0.122153 8.68254C0.0375916 8.84984 0.00799916 9.03955 0.0375831 9.2246C0.0671671 9.40965 0.154425 9.58061 0.286913 9.7131C0.419402 9.84559 0.59035 9.93283 0.775402 9.96242C0.960453 9.992 1.15016 9.96241 1.31746 9.87785L4.65302 8.30377C4.89635 8.21175 5.16487 8.21168 5.40815 8.30358L8.67993 9.93881C8.85563 10.004 9.04639 10.0175 9.22953 9.97744C9.41268 9.93743 9.58051 9.84567 9.71309 9.71309C9.84567 9.58051 9.93743 9.41268 9.97744 9.22953C10.0175 9.04639 10.004 8.85563 9.93881 8.67993L8.30358 5.40815C8.24152 5.292 8.20906 5.16233 8.2091 5.03061C8.20913 4.89889 8.24165 4.7692 8.30377 4.65302L9.87785 1.31746C9.96241 1.15016 9.992 0.960453 9.96242 0.775401C9.93283 0.59035 9.84559 0.419401 9.7131 0.286913C9.58061 0.154424 9.40965 0.0671663 9.2246 0.0375824C9.03955 0.00799847 8.84984 0.037591 8.68254 0.122152L5.34698 1.69623C5.2308 1.75835 5.10111 1.79087 4.96939 1.7909C4.83767 1.79094 4.708 1.75848 4.59185 1.69642Z",
fill:f})}))}},161482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.className,p=e.foreground,h=l(e,["width","height","color","className","foreground"]);return(0,r.jsx)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(h)),{className:d,width:n,height:c,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{className:p,fill:f,
d:"M22 16.53C22 18.3282 20.2485 19.7837 18.089 19.7837C15.9285 19.7837 14.5396 18.3277 14.5396 16.53C14.5396 14.7319 15.9286 13.2746 18.089 13.2746C18.7169 13.2746 19.3089 13.4013 19.8353 13.6205V5.814L9.46075 7.32352V18.7449C9.46075 20.5424 7.70957 22 5.54941 22C3.38871 22 2 20.5443 2 18.7456C2 16.9481 3.3892 15.4898 5.54941 15.4898C6.17823 15.4898 6.76966 15.6162 7.29604 15.836C7.29604 11.3608 7.29604 8.5366 7.29604 4.1395L21.9996 2L22 16.53Z"})}))}},102770:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))
;n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){var t=e.width,n=void 0===t?24:t,u=e.height,c=void 0===u?24:u,s=e.color,f=void 0===s?"currentColor":s,d=e.slashColor,p=e.className,h=e.foreground,y=l(e,["width","height","color","slashColor","className","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(y)),{className:p,width:n,height:c,viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{className:h,fill:f,fillRule:"evenodd",clipRule:"evenodd",d:"M5.25208 21.9906C5.34946 21.9968 5.44859 22 5.54939 22C7.70956 22 9.46073 20.5424 9.46073 18.7449V17.782L5.25208 21.9906ZM11.7699 6.98753L9.46073 7.32352V9.29667L7.29603 11.4614V4.13949L15.8647 2.89267L11.7699 6.98753ZM19.8353 7.4074V13.6205C19.3089 13.4013 18.7169 13.2746 18.089 13.2746C15.9286 13.2746 14.5395 14.7319 14.5395 16.53C14.5395 18.3277 15.9284 19.7837 18.089 19.7837C20.2485 19.7837 22 18.3282 22 16.53L21.9996 5.24304L19.8353 7.4074Z"}),(0,r.jsx)("rect",{fill:null!=d?d:f,x:"2.80762",y:"18.7783",width:"24",height:"2",transform:"rotate(-45 2.80762 18.7783)"})]}))}},422557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(785893),o=(n(667294),n(633878));function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function u(e){
var t=e.width,n=void 0===t?32:t,u=e.height,c=void 0===u?32:u,s=e.color,f=void 0===s?"currentColor":s,d=e.foreground,p=l(e,["width","height","color","foreground"]);return(0,r.jsxs)("svg",a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){i(e,t,n[t])}))}return e}({},(0,o.Z)(p)),{width:n,height:c,viewBox:"0 0 32 32",children:[(0,r.jsx)("rect",{width:"32",height:"32",rx:"16",fill:f}),(0,r.jsx)("path",{
d:"M23 9.99995C19.56 9.99995 16.826 6.43495 16.799 6.39795C16.421 5.89795 15.579 5.89795 15.201 6.39795C15.174 6.43495 12.44 9.99995 9 9.99995C8.447 9.99995 8 10.4479 8 10.9999V17.9999C8 21.8069 14.764 25.4779 15.534 25.8839C15.68 25.9609 15.84 25.9979 16 25.9979C16.16 25.9979 16.32 25.9599 16.466 25.8839C17.236 25.4779 24 21.8069 24 17.9999V10.9999C24 10.4479 23.553 9.99995 23 9.99995ZM19 19.9999L16 17.9999L13 19.9999L14 16.9999L12 14.9999H15L16 11.9999L17 14.9999H20L18 16.9999L19 19.9999Z",className:d})]}))}},552675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(336194)),i=n(633878);function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function l(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function c(e){var t=e.width,n=void 0===t?24:t,c=e.height,s=void 0===c?24:c,f=e.color,d=void 0===f?"currentColor":f,p=e.foregroundColor,h=void 0===p?o.Z.unsafe_rawColors.RED_400.css:p,y=e.foreground,b=e.background,m=u(e,["width","height","color","foregroundColor","foreground","background"]);return(0,r.jsxs)("svg",l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){a(e,t,n[t])}))}return e}({},(0,i.Z)(m)),{width:n,height:s,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,r.jsx)("path",{className:y,fill:h,d:"M21.47,3.39,20.14,2.05,2.53,19.66,3.86,21l4.41-4.4,1.3-1.31,1.75-1.74,3.83-3.83Z"})}),(0,r.jsxs)("g",{fill:"none",children:[(0,r.jsx)("polygon",{points:"17 11.14 16.55 11.59 14.14 14 19 14 19 12 17 12 17 11.14",className:b,fill:d}),(0,r.jsx)("polygon",{points:"16.91 3 5 3 5 5 7 5 7 12 5 12 5 14 5.91 14 16.91 3",className:b,fill:d}),(0,r.jsx)("polygon",{points:"12.72 15.42 11 17.14 11 22 13 22 13 15.14 12.72 15.42",className:b,fill:d})]})]}))}},941498:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>y,pk:()=>m,XX:()=>v,iv:()=>g,Pb:()=>O,M9:()=>E,ZP:()=>C});var r=n(785893),o=(n(667294),
n(294184)),i=n.n(o),a=n(496486),l=n.n(a),u=n(945460),c=n(67826),s=n.n(c);function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e){return"".concat(e/16,"rem")}function h(){return(0,r.jsx)("div",{className:s().avatar,style:{opacity:.08}})}function y(e){var t=e.width,n=e.opacity,o=e.className;return(0,r.jsx)("div",{className:i()(o,f({},s().blob,!0)),style:{width:p(t),opacity:null!=n?n:l().random(.02,.08)}})}function b(e){var t,n,o=e.groupStart,a=void 0!==o&&o,c=e.compact,p=void 0!==c&&c,b=e.attachmentSpecs,m=e.usernameWidth,v=e.usernameOpacity,g=e.className,O=e.style,E=p?50:l().random(40,50)
;if(!p&&a)t=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(u.H,{className:s().header,children:(0,r.jsx)(y,{width:m,opacity:v,className:s().username})})]});else if(p){var C;t=(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)(y,{width:E,className:i()((C={},f(C,s().compactTimestamp,!0),f(C,s().hidden,!a),C))}),(0,r.jsx)(u.H,{className:s().header,children:(0,r.jsx)(y,{width:m,opacity:v})})]})}return(0,r.jsxs)("div",{"aria-hidden":!0,className:i()(g,(n={},f(n,s().wrapper,!0),f(n,s().compact,p),f(n,s().cozy,!p),n)),style:O,children:[(0,r.jsxs)("div",{className:s().contents,children:[t,(0,r.jsx)("div",{className:s().content,children:new Array(l().random(3,8)).fill(null).map((function(){return l().random(30,80)})).map((function(e,t){return(0,r.jsx)(y,{width:e,opacity:.06},t)}))})]}),null!=b&&(0,r.jsx)("div",{className:s().attachmentContainer,children:(0,r.jsx)("div",{className:s().attachment,style:d({opacity:.03},b)})})]})}var m=44,v=22,g=26,O=26,E=6;function C(e){
var t=e.messages,n=e.groupSpacing,o=void 0===n?0:n,i=e.compact,a=void 0!==i&&i,u=e.attachmentSpecs,c=e.className,s=null!=u?u.last?t-1:l().random(0,t-1):-1,f=l().random(80,120),d=l().random(.1,.2);return(0,r.jsx)(r.Fragment,{children:new Array(t).fill(null).map((function(e,t){return(0,r.jsx)(b,{compact:a,className:c,usernameWidth:f,usernameOpacity:d,groupStart:0===t,attachmentSpecs:t===s?u:void 0,style:0===t?{marginTop:p(o)}:void 0},t)}))})}},168775:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(211482),u=n(987687),c=n.n(u);function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function p(e){var t=e.tooltipText,n=e.children,o=e.onContextMenu,u=e.onClick,p=e.disabled,h=e.icon,y=e.iconForeground,b=e.innerClassName,m=e.tooltipClassName,v=e.onMouseEnter,g=e.onMouseLeave,O=e["aria-label"],E=e["aria-checked"],C=e.role,S=e.tooltipColor,j=e.tooltipForceOpen,_=(0,r.jsx)(h,{width:20,height:20,foreground:y});return(0,r.jsx)(a.Tooltip,{tooltipClassName:m,text:t,"aria-label":O,color:S,forceOpen:j,
children:function(e){var t,h=e.onClick,y=e.onMouseEnter,m=e.onMouseLeave,O=d(e,["onClick","onMouseEnter","onMouseLeave"]);return(0,r.jsxs)(a.Button,f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){s(e,t,n[t])}))}return e}({},O),{look:a.Button.Looks.BLANK,size:a.Button.Sizes.NONE,disabled:p,innerClassName:b,wrapperClassName:c().button,className:i()(c().button,(t={},s(t,c().disabled,p),s(t,c().enabled,!p),t)),onClick:function(e){null!=h&&h();null!=u&&u(e)},onMouseEnter:function(){null==y||y();null==v||v()},onMouseLeave:function(){null==m||m();null==g||g()},onContextMenu:o,role:C,"aria-checked":E,children:[null!=n?(0,r.jsx)(l.ZP,{width:20,height:20,mask:l.ZP.Masks.PANEL_BUTTON,children:_}):_,n]}))}})}},630781:(e,t,n)=>{"use strict"
;n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(777051),u=n.n(l);function c(e){var t=e.children,n=e.className;return(0,r.jsx)(a.Text,{color:"none",className:i()(u().subtext,n),variant:"text-xs/normal",children:t})}},984479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(785893),o=(n(667294),n(294184)),i=n.n(o),a=n(945460),l=n(153806),u=n.n(l);function c(e){var t=e.children,n=e.className;return(0,r.jsx)(a.Text,{color:"none",className:i()(u().title,n),variant:"text-sm/normal",children:t})}},661782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(308377),c=n(554647),s=n(211482),f=n(629978),d=n.n(f);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){
return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){m=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return m(e,t)}var v,g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}!function(e){e[e.OUTGOING=0]="OUTGOING";e[e.INCOMING=1]="INCOMING"}(v||(v={}));var E=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&m(e,t)}(n,e);var t=O(n);function n(){p(this,n);return t.apply(this,arguments)}var o=n.prototype;o.renderStatus=function(){var e=this.props,t=e.muted,n=e.deafen,o=n?u.Z:c.Z;return t||n?(0,r.jsx)(o,{className:d().status},"status"):null};o.renderBorder=function(){var e=this.props.speaking;return(0,r.jsx)("div",{className:a()(d().border,h({},d().speaking,e))},"border")};o.renderMask=function(){var e=this.props,t=e.muted,n=e.speaking,o=e.deafen;return t&&n?(0,r.jsxs)(r.Fragment,{children:[this.renderBorder(),this.renderStatus()]}):t||o?(0,r.jsx)(r.Fragment,{children:this.renderStatus()}):(0,r.jsx)(r.Fragment,{children:this.renderBorder()})};o.renderVoiceCallAvatar=function(){
var e=this.props,t=e.src,n=e.disabled,o=e.ringing,i=e.ringingType,u=e.avatarClassName,c=e.muted,f=e.deafen,p=e.size,y=e.renderIcon,b=(0,l.getAvatarSize)(p),m=(0,r.jsx)("img",{src:t,alt:" ",className:a()(d().voiceAvatar,u,h({},d().ringingOutgoing,o&&i===v.OUTGOING))});if(n)return m;var g=s.QS.AVATAR_DEFAULT;null!=y?g=p===l.AvatarSizes.SIZE_32?s.QS.AVATAR_CALL_ICON_32:s.QS.AVATAR_CALL_ICON:(c||f)&&(g=s.QS.AVATAR_VOICE_CALL_80);return(0,r.jsxs)("div",{className:d().callAvatarMaskContainer,children:[(0,r.jsxs)(s.ZP,{className:d().callAvatarMask,width:b,height:b,mask:g,children:[null==y?void 0:y(),m]}),this.renderMask()]})};o.render=function(){var e,t=this.props,n=t.size,o=t.onClick,i=t.style,u=t.onContextMenu,c=t.className,s=t.ringingType,f=t.ringing,p=a()(d().wrapper,(h(e={},d().clickable,null!=o),h(e,d().ringingOutgoing,f&&s===v.OUTGOING),h(e,d().ringingIncoming,f&&s===v.INCOMING),e),c),y=(0,l.getAvatarSize)(n),b=function(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}({height:y,width:y},i);return(0,r.jsx)("div",{style:b,onContextMenu:u,className:p,children:this.renderVoiceCallAvatar()})};return n}(o.PureComponent);E.defaultProps={size:l.AvatarSizes.SIZE_80,ringingType:v.OUTGOING,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,paused:!1};E.RingingType=v;const C=E},91717:(e,t,n)=>{"use strict";n.d(t,{e:()=>A,Z:()=>N});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),l=n(945460),u=n(807801),c=n(542231),s=n(781736),f=n(532378),d=n(308377),p=n(554647),h=n(423871),y=n(753724),b=n(108206),m=n(977005),v=n(2590),g=n(550677),O=n(473708),E=n(754012),C=n.n(E);function S(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function I(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}var A=function(e){var t=e.children,n=e.collapsed,o=void 0!==n&&n,i=e.className;return(0,r.jsx)("div",{className:a()(i,C().list,o?C().listCollapse:C().listDefault),role:"group",children:t})},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&w(e,t)}(n,e);var t=x(n);function n(){S(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props,r=n.onClick,o=n.user;null==r||r(t,o)};e.handleDoubleClick=function(t){var n=e.props,r=n.onDoubleClick,o=n.user;null==r||r(t,o)};e.handleContextMenu=function(t){var n=e.props,r=n.onContextMenu,o=n.user;null==r||r(t,o)};e.handleMouseLeave=function(t){var n=e.props,r=n.onMouseLeave,o=n.user;null==r||r(t,o)}
;e.handleMouseEnter=function(t){var n=e.props,r=n.onMouseEnter,o=n.user;null==r||r(t,o)};e.handleMouseDown=function(t){var n=e.props,r=n.onMouseDown,o=n.user;null==r||r(t,o)};return e}var o=n.prototype;o.renderPrioritySpeaker=function(){var e=this.props,t=e.speaking,n=e.priority,o=e.collapsed,i=e.mute,u=e.serverMute;return n&&!o?(0,r.jsx)(l.Tooltip,{text:O.Z.Messages.PRIORITY_SPEAKER,children:function(e){return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){j(e,t,n[t])}))}return e}({className:a()(C().iconPriortySpeaker,j({},C().iconPriortySpeakerSpeaking,!i&&!u&&t))},e))}}):null};o.renderAvatar=function(){var e,t=this.props,n=t.speaking,o=t.user,i=t.size,l=t.avatarContainerClass,u=t.guildId;return(0,r.jsx)("div",{
className:a()(l,C().avatar,(e={},j(e,C().avatarLarge,i===v.ipw.LARGE),j(e,C().avatarSmall,i===v.ipw.SMALL),j(e,C().avatarSpeaking,n),e)),style:{backgroundImage:"url(".concat(o.getAvatarURL(u,i===v.ipw.LARGE?38:24),")")}})};o.renderName=function(){var e,t=this.props,n=t.nick,o=t.user,i=t.collapsed,l=t.speaking,u=t.userNameClassName,c=t.mute,s=t.serverMute,f=t.isGuest;return i?null:(0,r.jsxs)("div",{className:a()(u,(e={},j(e,C().username,!0),j(e,C().usernameSpeaking,!c&&!s&&l),e)),children:[null!=n?n:o.username,f?(0,r.jsxs)("span",{className:C().guestSuffix,children:[" ",O.Z.Messages.GUEST_NAME_SUFFIX]}):""]})};o.renderIcons=function(){var e=this.props,t=e.mute,n=e.localMute,o=e.localVideoDisabled,i=e.serverMute,v=e.deaf,E=e.serverDeaf,S=e.collapsed,_=e.video,I=e.isStreaming,w=e.disabled,P=e.isWatching,x=e.iconClassName,A=e.embeddedApplication,T=e.otherClientSessionType;if(S||w)return null;var N=[];if(t){N.push((0,r.jsx)(l.TooltipContainer,{
text:n?O.Z.Messages.LOCAL_MUTED:i?O.Z.Messages.SERVER_MUTED:O.Z.Messages.VOICE_CHANNEL_MUTED,className:C().iconSpacing,children:(0,r.jsx)(p.Z,{className:a()(C().icon,x,j({},C().iconServer,i)),foreground:n?C().strikethrough:void 0})},"mute"))}(E||v)&&N.push((0,r.jsx)(l.TooltipContainer,{className:C().iconSpacing,text:E?O.Z.Messages.SERVER_DEAFENED:O.Z.Messages.VOICE_CHANNEL_DEAFENED,children:(0,r.jsx)(d.Z,{className:a()(C().icon,x,j({},C().iconServer,E))})},"deaf"));_&&(o?N.push((0,r.jsx)(l.TooltipContainer,{className:C().iconSpacing,text:O.Z.Messages.LOCAL_VIDEO_DISABLED,children:(0,r.jsx)(s.Z,{className:a()(C().icon,x),foreground:C().strikethrough})},"video")):N.push((0,r.jsx)(l.TooltipContainer,{className:C().iconSpacing,text:O.Z.Messages.VIDEO,children:(0,r.jsx)(c.Z,{className:a()(C().icon,x)})},"video")));null!=A&&N.push((0,r.jsx)(l.TooltipContainer,{text:(0,u.Z)(A.name),className:C().iconSpacing,children:(0,r.jsx)(b.Z,{className:a()(C().icon,x)})},"activity"));I?N.push((0,
r.jsx)("div",{className:a()(C().iconSpacing,C().liveIconSpacing),children:(0,r.jsx)(m.ZP,{size:m.ZP.Sizes.SMALL})},"stream")):P&&N.push((0,r.jsx)(l.TooltipContainer,{className:C().iconSpacing,text:O.Z.Messages.WATCH_STREAM_WATCHING,children:(0,r.jsx)(f.Z,{className:a()(C().icon,x)})},"watch"));switch(T){case g.YE.XBOX:N.push((0,r.jsx)("div",{className:a()(C().iconSpacing),children:(0,r.jsx)(y.Z,{className:a()(C().icon,x)})},"xbox"));break;case g.YE.PLAYSTATION:N.push((0,r.jsx)("div",{className:a()(C().iconSpacing),children:(0,r.jsx)(h.Z,{className:a()(C().icon,x)})},"playstation"))}return 0===N.length?null:(0,r.jsx)("div",{className:C().icons,children:N})};o.render=function(){var e,t=this.props,n=t.onClick,o=t.onKeyDown,i=t.flipped,u=t.size,c=t.className,s=t.selected,f=t.disabled,d=t.overlap,p=t["aria-label"],h=t.tabIndex;return(0,r.jsx)(l.Clickable,{className:a()(c,(e={},j(e,C().voiceUser,!0),j(e,C().overlap,d),j(e,C().selected,s),j(e,C().clickable,null!=n),
j(e,C().userSmall,u===v.ipw.SMALL),j(e,C().userLarge,u===v.ipw.LARGE),j(e,C().disabled,!s&&f),e)),onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onKeyDown:o,"aria-label":p,tabIndex:h,children:(0,r.jsxs)("div",{className:a()(C().content,j({},C().flipped,i)),children:[this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()]})})};return n}(o.Component);T.defaultProps={avatarContainerClass:C().avatarContainer,userNameClassName:C().usernameFont,size:v.ipw.SMALL,selected:!1,disabled:!1};const N=T},194212:(e,t,n)=>{"use strict";n.d(t,{oo:()=>p,I3:()=>h,yp:()=>y,d9:()=>b});var r=n(785893),o=n(667294),i=n(717187),a=n.n(i),l=n(930948);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){function e(){c(this,e);this.emitter=new(a())}var t=e.prototype;t.subscribe=function(e,t){l.S.subscribe(e,t);this.emitter.on(e,t)};t.unsubscribe=function(e,t){l.S.unsubscribe(e,t);this.emitter.off(e,t)};t.bumpDispatchPriority=function(){
var e=!0,t=!1,n=void 0;try{for(var r,o=this.emitter.eventNames()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value,a=!0,u=!1,c=void 0;try{for(var s,f=this.emitter.listeners(i)[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var d=s.value;l.S.resubscribe(i,d)}}catch(e){u=!0;c=e}finally{try{a||null==f.return||f.return()}finally{if(u)throw c}}}}catch(e){t=!0;n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}};return e}(),d=function(){function e(){c(this,e)}var t=e.prototype;t.subscribe=function(e,t){l.S.subscribe(e,t)};t.unsubscribe=function(e,t){l.S.unsubscribe(e,t)};t.bumpDispatchPriority=function(){0};return e}(),p=o.createContext(new d),h=o.forwardRef((function(e,t){var n=e.children,i=function(){null===a.current&&(a.current=new f);return a.current},a=o.useRef(null);o.useImperativeHandle(t,i);return(0,r.jsx)(p.Provider,{value:i(),children:n})}));function y(e){var t=e.event,n=e.handler,r=o.useContext(p),i=o.useRef(n);o.useEffect((function(){i.current=n
}),[n]);var a=null==n;o.useEffect((function(){if(!a){var e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o;null===(o=i.current)||void 0===o||(r=o).call.apply(r,[i].concat(s(t)))};r.subscribe(t,e);return function(){r.unsubscribe(t,e)}}}),[r,t,a]);return null}function b(e){y(e);return null}},537079:(e,t,n)=>{"use strict";n.d(t,{LL:()=>A,eF:()=>T,N_:()=>N,FI:()=>M,Xi:()=>R});var r=n(773011),o=n(296602),i=n(944522),a=n(996344),l=n(30027),u=n(435949),c=n(791707),s=n(487685),f=n(665783),d=n(382060),p=n(804185),h=n(61209),y=n(567403),b=n(69085),m=n(840922),v=n(715107),g=n(464187),O=n(436154),E=n(9430),C=n(473903),S=n(661123),j=n(773148),_=n(674301),I=n(749565),w=n(2590),P=n(379364),x=n(473708);function A(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.hasFlag(w.xW$.SPAMMER))return!1;if(n.isManaged())return!1;var a=n.getGuildId()
;return(null==a||!i.Z.isLurking(a))&&(t.id!==e.id&&(!m.Z.isBlocked(t.id)&&(!(!r&&O.Z.getStatus()===w.Skl.DND)&&!(!o&&E.Z.allowNoMessages(n)))))}function T(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!=e.flags&&(0,S.yE)(e.flags,w.iLy.SUPPRESS_NOTIFICATIONS))return!1;var o=h.Z.getChannel(t);e.type===w.uaV.THREAD_STARTER_MESSAGE&&(o=h.Z.getChannel(null==o?void 0:o.parent_id));var i=C.default.getCurrentUser(),l=C.default.getUser(e.author.id);if(null==o||null==i||null==l)return!1;if(o.type===w.d4z.GROUP_DM&&e.type===w.uaV.RECIPIENT_REMOVE)return!1;if(!A(i,l,o,r))return!1;if(a.Z.isMessageRequest(t))return!1;if(!n){var c=v.Z.getChannelId(g.Z.getGuildId());if(c===o.id)return!1;if(p.ZP.getCurrentSidebarChannelId(c)===o.id)return!1}if(d.Ec.has(o.type)){if(s.Z.isMuted(o.id))return!1;var y=(0,f.J)(o);return y!==P.iN.NO_MESSAGES&&(y===P.iN.ALL_MESSAGES||(0,u.Hl)({rawMessage:e,userId:i.id,suppressEveryone:!1,
suppressRoles:!1}))}var m=!d.tx.has(o.type)||b.Z.getChannelId()===o.id;if(E.Z.allowAllMessages(o)&&m)return!0;var O=E.Z.isSuppressEveryoneEnabled(o.getGuildId()),j=E.Z.isSuppressRolesEnabled(o.getGuildId());return(0,u.Hl)({rawMessage:e,userId:i.id,suppressEveryone:O,suppressRoles:j})}function N(e,t){if(v.Z.getChannelId(g.Z.getGuildId())!==t)return!1;var n=h.Z.getChannel(t);e.type===w.uaV.THREAD_STARTER_MESSAGE&&(n=h.Z.getChannel(null==n?void 0:n.parent_id));var r=C.default.getCurrentUser(),o=C.default.getUser(e.author.id);return null!=n&&null!=r&&null!=o&&(!n.isManaged()&&(!o.hasFlag(w.xW$.SPAMMER)&&(!m.Z.isBlocked(o.id)&&(o.id!==r.id&&(O.Z.getStatus()!==w.Skl.DND&&!E.Z.allowNoMessages(n))))))}function M(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=C.default.getCurrentUser(),i=C.default.getUser(e.ownerId);if(null==t||null==o||null==i)return!1;if(!A(o,i,t,r,!0))return!1
;if(E.Z.isGuildOrCategoryOrChannelMuted(t.guild_id,t.id))return!1;if(!n){var a=v.Z.getChannelId(g.Z.getGuildId());if(a===t.id)return!1}return E.Z.getNewForumThreadsCreated(t)}var Z=function(e,t,n){return"".concat(e," (").concat((0,r.F6)(t,C.default,m.Z,!0)).concat(null!=n?", ".concat((0,r.F6)(n,C.default,m.Z)):"",")")};function L(e,t,n,r){switch(e.type){case w.d4z.GUILD_ANNOUNCEMENT:case w.d4z.GUILD_TEXT:return t;case w.d4z.GROUP_DM:return n;case w.d4z.DM:default:return r}}function R(e,t,n){var i=j.Z.getName(e.getGuildId(),e.id,n),a=i;switch(e.type){case w.d4z.GUILD_ANNOUNCEMENT:case w.d4z.GUILD_TEXT:case w.d4z.GUILD_VOICE:case w.d4z.ANNOUNCEMENT_THREAD:case w.d4z.PUBLIC_THREAD:case w.d4z.PRIVATE_THREAD:var u=h.Z.getChannel(e.parent_id);if(t.type===w.uaV.THREAD_STARTER_MESSAGE&&null!=u)a=Z(a,u,h.Z.getChannel(u.parent_id));else if((0,c.Z)(t)){null!=y.Z.getGuild(e.getGuildId())&&(a=Z(a,e,u))}else a=Z(a,e,u);break;case w.d4z.GROUP_DM:e.isManaged()&&n.bot&&a===(0,
r.F6)(e,C.default,m.Z)||(a="".concat(a," (").concat((0,r.F6)(e,C.default,m.Z,!0),")"))}var s,f=t.content;if((0,c.Z)(t)&&null==(f=_.Z.stringify(t,e))){new o.Z("NotificationTextUtils").warn("SystemMessageUtils.stringify(...) could not convert",t);throw new Error("failed to stringify system message")}var d,p=null!==(s=t.sticker_items)&&void 0!==s?s:t.stickers;if(null!=t.activity&&null!=t.application)d=t.activity.type===w.mFx.JOIN?L(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN).format({user:i,game:t.application.name}):t.activity.type===w.mFx.JOIN_REQUEST?L(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN_REQUEST).format({user:i,game:t.application.name
}):"";else if(null!=t.activity&&t.activity.type===w.mFx.LISTEN){d=L(e,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,x.Z.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN).format({user:i})}else d=null!=p&&p.length>0?x.Z.Messages.STICKER_NOTIFICATION_BODY.format({stickerName:p[0].name}):t.type===w.uaV.PREMIUM_REFERRAL?x.Z.Messages.SHARE_NITRO_EMBEDDED_MESSAGE_BODY_SHORT.format({username:I.ZP.getName(n)}):l.ZP.unparse(f,e.id,!0);0===d.length&&(d=function(e){if(void 0!==e.embeds&&e.embeds.length>0){var t=e.embeds[0];if(null!=t.description)return null!=t.title?"".concat(t.title," ").concat(t.description):t.description;if(null!=t.title)return t.title;if(null!=t.fields){var n=t.fields[0];return"".concat(n.name," ").concat(n.value)}}var r;if((0,S.yE)(null!==(r=e.flags)&&void 0!==r?r:0,w.iLy.IS_VOICE_MESSAGE))return x.Z.Messages.VOICE_MESSAGES_SENT_NOTIFICATION
;if(void 0!==e.attachments&&e.attachments.length>0){var o=e.attachments[0].filename;return x.Z.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:o})}return""}(t));return{icon:n.getAvatarURL(e.guild_id,128),title:a,body:d}}},374092:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(895072);const r=n(895072).Z},2255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2590),o=n(473708);const i={getStatus:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.hes.CONNECTING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_CONNECTING;break;case r.hes.AUTHENTICATING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case r.hes.AWAITING_ENDPOINT:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case r.hes.RTC_CONNECTED:t=r.QKv.CONNECTED;n=i?o.Z.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:o.Z.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case r.hes.RTC_CONNECTING:t=r.QKv.CONNECTING
;n=o.Z.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case r.hes.ICE_CHECKING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case r.hes.DTLS_CONNECTING:t=r.QKv.CONNECTING;n=o.Z.Messages.CONNECTION_STATUS_DTLS_CONNECTING;break;case r.hes.NO_ROUTE:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_NO_ROUTE;break;case r.hes.RTC_DISCONNECTED:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case r.hes.DISCONNECTED:default:t=r.QKv.ERROR;n=o.Z.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:t,connectionStatusText:n}},getShortHostname:function(e){return null==e?"":e.split(".")[0]}}},455049:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>b});var r=n(120637),o=n(496486),i=n.n(o);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){l=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);return"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}var s={1:"bold",4:"underline"},f={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white"},d={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white"},p=/\x1B\[(\d+(?:[:;]\d+)*)m/,h=new RegExp("(?=".concat(p.source,")"));function y(e,t,n,r){var o=["0"].concat(u(n));if(r){var i;(i=o).push.apply(i,u(Object.keys(t)))}return Object.entries(t).map((function(t){var n=l(t,2),r=n[0],i=n[1];return function(e,t,n,r){return{className:"ansi-".concat(e,"-").concat(t),endsParent:!0,begin:h,"on:begin":function(e,t){var o=e[1].split(";");void 0===t.data.isOn&&(t.data.isOn=!1);var i=!0,a=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;s===n?t.data.isOn=!0:r.includes(s)&&(t.data.isOn=!1)}}catch(e){a=!0;l=e}finally{try{
i||null==c.return||c.return()}finally{if(a)throw l}}t.data.isOn||t.ignoreMatch()}}}(e,i,r,o)}))}r.Z.registerLanguage("ansi",(function(){var e={className:"ansi-control-sequence",begin:p,starts:{end:h,endsParent:!0}},t=u(y("foreground",f,["38","39"],!0)).concat(u(y("background",d,["48","49"],!0)),u(y("style",s,[],!1)),[e]);!function(e){for(var t=0;t<e.length;t++)e[t].contains=e.slice(t+1)}(t);return{contains:[{begin:h,contains:t}]}}));const b={highlight:function(e,t,n){if(!function(e){if(e.indexOf(m)>=0)return!1;var t=0,n=e.split("\n"),r=!0,o=!1,i=void 0;try{for(var a,l=n[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;if(u.length>1e3)return!1;null==u.match(/^\s*[/][/]/)&&null!=u.match(/[^/]/)&&(t=0);var c=u.match(/[/]/g);if(null!=c&&(t+=c.length)>30)return!1}}catch(e){o=!0;i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!0}(t))return null;var o=Date.now(),i=r.Z.highlight(e,t,n);Date.now();0;return i},hasLanguage:function(e){
return null!=r.Z.getLanguage(e)}};var m=i().repeat("/",15)},495036:(e,t,n)=>{"use strict";n.r(t);n.d(t,{getSelectionText:()=>f,contextMenuCallbackNative:()=>d,contextMenuCallbackWeb:()=>p});var r=n(785893),o=(n(667294),n(971402));function i(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)}))}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){l(e,t,n[t])}))}return e}
function c(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var s=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:
a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};function f(){var e;if(null!=window.getSelection){var t;e=null===(t=window.getSelection())||void 0===t?void 0:t.toString()}else null!=document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text);return null!=e?e:""}function d(e){var t=f(),i=e.target;if("TEXTAREA"===(null==i?void 0:i.tagName)||"INPUT"===(null==i?void 0:i.tagName)){if("checkbox"!==(null==i?void 0:i.type))return(0,o.jW)(e,a((function(){var e,o
;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(15357),n.e(71402),n.e(13062)]).then(n.bind(n,638525))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,c(u({},e),{text:t}))}]}}))})),{enableSpellCheck:!0})}else{if("none"===window.getComputedStyle(i).getPropertyValue("-webkit-user-select")){e.preventDefault();return}for(var l,d,p,h=e.target;null!=h;){"src"in h&&null!=h.src&&(d=h.src);if("href"in h&&null!=h.href){l=h.href;p=h.textContent}h=null==h?void 0:h.parentNode}if(null!=d)return(0,o.jW)(e,a((function(){var e,t;return s(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(13433),n.e(81757),n.e(2481),n.e(15357),n.e(13586),n.e(54857),n.e(5630),n.e(55121),n.e(38346)]).then(n.bind(n,637810))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,c(u({},e),{src:null!=d?d:""}))}]}}))})));if(null!=l)return(0,o.jW)(e,a((function(){var e,t;return s(this,(function(o){
switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(13433),n.e(81757),n.e(74200),n.e(15357),n.e(13586),n.e(54857),n.e(5630),n.e(55121),n.e(43775)]).then(n.bind(n,759725))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,c(u({},e),{href:l,textContent:p}))}]}}))})));if(null!=t&&""!==t)return(0,o.jW)(e,a((function(){var e,o;return s(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(36006),n.e(15357),n.e(71402),n.e(28986)]).then(n.bind(n,60240))];case 1:e=i.sent(),o=e.default;return[2,function(e){return(0,r.jsx)(o,c(u({},e),{text:t}))}]}}))})))}e.preventDefault();return null}function p(e){var t=!1,n=e.target;if("INPUT"===(null==n?void 0:n.tagName)||"TEXTAREA"===(null==n?void 0:n.tagName))t=!0;else if(null!=(null==n?void 0:n.closest)&&null!=(null==n?void 0:n.closest("[contenteditable=true]")))t=!0;else if(null!=f()&&""!==f())t=!0;else{for(var r,o,i=e.target;null!=i;){"src"in i&&null!=i.src&&(o=i.src)
;"href"in i&&null!=i.href&&(r=i.href);i=null==i?void 0:i.parentNode}null==r&&null==o||(t=!0)}t||e.preventDefault()}},15084:(e,t,n)=>{"use strict";n.d(t,{G:()=>O,d:()=>E});var r=n(247250),o=n(567867),i=n(625091),a=n(444663),l=n(474717),u=n(396043),c=n(566706),s=n(255592),f=n(473903),d=n(652591),p=n(149258),h=n(850841),y=n(99181),b=n(2590),m=n(493254),v=n(203600),g=n(473708);function O(e,t){var n=f.default.getCurrentUser(),r=e.getGuildId(),o=p.dg(r),i=[],l=0,c=0,s=0,d=[],O=!0,E=!1,C=void 0;try{for(var S,j=t[Symbol.iterator]();!(O=(S=j.next()).done);O=!0){var _=S.value;s+=1;l+=_.size;i.push(_.size);_.size>c&&(c=_.size);null!=_.type?d.push(_.type):d.push("unknown")}}catch(e){E=!0;C=e}finally{try{O||null==j.return||j.return()}finally{if(E)throw C}}if(c>o){(0,u.yw)(b.rMx.FILE_SIZE_LIMIT_EXCEEDED,{channel_id:e.id,guild_id:r,user_individual_file_size_limit:o,pre_compression_file_sizes:i,pre_compression_aggregate_file_size:l,num_attachments:s,error_type:m.xi.UPLOAD_ATTACHMENT_MAX_SIZE_ERROR,
attachment_mimetypes:d});(0,a.openUploadError)({title:g.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:(0,y.BK)(n,r),showPremiumUpsell:!(0,h.M5)(n,v.p9.TIER_2),fileSize:c})}else(0,a.openUploadError)({title:g.Z.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:g.Z.Messages.UPLOAD_AREA_REQUEST_LIMIT_HELP.format({maxSize:p.Ng(p.OC())})})}function E(e,t,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=u.requireConfirm,p=void 0===f||f,h=u.showLargeMessageDialog,m=void 0!==h&&h,v=u.isThumbnail,E=void 0!==v&&v;if(!(e.length<1)){var C=t.getGuildId();if((0,y.Bf)(e,C))O(t,e);else if(s.Z.getUploadCount(t.id,n)+e.length>b.dN1){(0,a.openUploadError)({title:g.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_TITLE,help:g.Z.Messages.ATTACHMENT_TOO_MANY_ERROR_MESSAGE.format({limit:b.dN1})});d.default.track(b.rMx.UPLOAD_FILE_LIMIT_ERROR,{existing_count:s.Z.getUploadCount(t.id,n),new_count:e.length})}else{
t.type!==b.d4z.GUILD_VOICE&&t.type!==b.d4z.GUILD_STAGE_VOICE||c.Z.getChatOpen(t.id)||r.Z.updateChatOpen(t.id,!0);if(p){var S=Array.from(e).map((function(e){return{file:e,platform:l.ow.WEB,isThumbnail:E}}));o.Z.addFiles({files:S,channelId:t.id,showLargeMessageDialog:m,draftType:n})}else i.Z.instantBatchUpload(t.id,e,n,E)}}}},99181:(e,t,n)=>{"use strict";n.d(t,{BK:()=>u,Bf:()=>c,KZ:()=>s});var r=n(474717),o=n(149258),i=n(850841),a=n(203600),l=n(473708);function u(e,t){var n=o.Ng(o.dg(t));return i.ZP.isPremium(e,a.p9.TIER_2)?l.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:n}):i.ZP.isPremium(e,a.p9.TIER_1)?l.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP_PREMIUM_TIER_1.format({maxSize:n}):l.Z.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:n})}function c(e,t){return o.nA(e,t)||o.vY(e)}function s(e){return e.reduce((function(e,t){t.item.platform===r.ow.WEB&&e.push(t.item.file);return e}),[])}},962392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(304275);function o(){
var e=r.Z.getFocusedPID();return null==e||!r.Z.isReady(e)&&!r.Z.isCrashed(e)?null:e}}}]);
//# sourceMappingURL=bcd022a1acb318803335.js.map