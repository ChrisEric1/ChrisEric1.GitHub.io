"use strict";(this.webpackChunkdiscord_developers=this.webpackChunkdiscord_developers||[]).push([[1216],{91216:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.default=void 0;var a,n=b(t(67294)),l=y(t(94184)),o=y(t(13192)),i=y(t(30250)),u=b(t(9378)),d=y(t(96835)),f=y(t(80828)),s=y(t(79950)),c=t(66038),p=t(5835),v=y(t(89417)),h=t(34596),g=y(t(14144));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(m=function(e){return e?t:r})(e)}function b(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m(r);if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e;t&&t.set(e,a);return a}
function M(e,r,t,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;r||0===o||(r={children:void 0});if(1===o)r.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];r.children=i}if(r&&l)for(var d in l)void 0===r[d]&&(r[d]=l[d]);else r||(r=l||{});return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}function w(e,r){return(w=Object.setPrototypeOf||function(e,r){e.__proto__=r;return e})(e,r)}var _=(0,o.default)({LOCAL_ASSET:null,REMOTE_ASSET:null}),N=function(e){!function(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;w(e,r)}(r,e);function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];(r=e.call.apply(e,[this].concat(a))||this).canvasRef=null;r.state={error:null};r.handleFileLoad=function(e){var t=r.props,a=t.id,n=t.onFileLoad;if(null!=e.target){if(!(e.target instanceof FileReader))return
;var l=e.target.result,o=(0,p.arrayBufferToString)(l),i=new Image;i.addEventListener("load",r.handleImageLoad);i.src=o;null!=n&&n(a,o)}};r.handleImageLoad=function(e){if(null!=r.canvasRef){var t=r.props,a=t.id,n=t.minSize,l=t.onAssetValidationError,o=t.onAssetValidationSuccess,i=e.currentTarget;if(null!=l&&null!=n&&(i.width<n||i.height<n)){r.setState({error:h.Messages.RichPresence.MINIMUM_ASSET_SIZE.format({size:n})});l(a)}else null!=o&&o(a);r.canvasRef.width=40;r.canvasRef.height=40;var u=40,d=40,f=0,s=0;if(i.width<i.height){var c=40/i.width;d=i.height*c}else if(i.width>i.height){var p=40/i.height;u=i.width*p}d>40?s=(d-40)/-2:u>40&&(f=(u-40)/-2);r.canvasRef.getContext("2d").drawImage(i,f,s,u,d)}};r.handleNameChange=function(e){var t=r.props,a=t.onNameChange,n=t.id;null!=a&&a(n,e)};r.handleRemoveClick=function(){var e=r.props,t=e.id,a=e.onRemove;null!=a&&a(t)};r.setCanvasRef=function(e){r.canvasRef=e};return r}r.getDerivedStateFromProps=function(e,r){
return null==r.error&&null!=e.error?{error:e.error}:null};var t=r.prototype;t.componentDidMount=function(){this.props.type===_.LOCAL_ASSET&&this.loadImage()};t.loadImage=function(){var e=this.props.file;if(null!=e&&!(0,c.isFileVideo)(e)){var r=new FileReader;r.addEventListener("load",this.handleFileLoad);r.readAsDataURL(e)}};t.renderAction=function(){var e=this.props,r=e.isBeingDeleted,t=e.isBeingUploaded;return r||t?M(f.default,{className:g.default.spinner,type:f.default.Type.PULSING_ELLIPSIS}):M(v.default,{onClick:this.handleRemoveClick})};t.renderErrorMessage=function(){var e=this.state.error;return null==e?null:M("div",{className:g.default.error},void 0,e)};t.renderImage=function(){var e=this.props,r=e.file;if(e.type===_.LOCAL_ASSET)return(0,c.isFileVideo)(r)?M("div",{className:g.default.videoPlaceholder},void 0,M(u.default,{className:g.default.videoIcon,name:u.IconNames.VIDEO_CAMERA})):n.createElement("canvas",{className:g.default.image,ref:this.setCanvasRef})
;var t=this.props,a=t.asset,l=t.getAssetUri;if(null!=a){var o=l(a)||"";return M("div",{className:g.default.image,style:{backgroundImage:"url("+o}},void 0,(0,c.isAssetVideo)(a)?M(u.default,{className:g.default.videoIcon,name:u.IconNames.VIDEO_CAMERA}):null)}return null};t.renderDragHandle=function(){return this.props.isDraggable?M(i.default.Child,{className:g.default.dragIconWrapper,grow:0,shrink:0,wrap:!0},void 0,M(u.default,{className:g.default.dragIcon,name:u.IconNames.DRAG_HANDLE})):null};t.renderName=function(){var e=this.props,r=e.asset,t=e.file,a=e.name;return e.type===_.LOCAL_ASSET&&null!=t?M(s.default,{defaultValue:a,onChange:this.handleNameChange}):null!=r?(0,c.getAssetLabel)(r):null};t.renderValidationMessage=function(){var e=this.props.validationMessage;return null==e?null:M("div",{className:g.default.validationMessage},void 0,e)};t.render=function(){var e,r=this.props.isDragging,t=this.state.error;return M(d.default,{className:(0,l.default)(g.default.wrapper,(e={},
e[g.default.isDragging]=r,e)),borderColor:null==t?d.default.BorderColor.PRIMARY:d.default.BorderColor.RED,size:d.default.Size.SMALL},void 0,M(i.default,{className:g.default.content,align:i.default.Align.CENTER,wrap:i.default.Wrap.NO_WRAP},void 0,this.renderDragHandle(),M(i.default.Child,{className:g.default.imageWrapper,grow:0,shrink:0,wrap:!0},void 0,this.renderImage()),M(i.default.Child,{className:g.default.labelWrapper,grow:1,shrink:1,wrap:!0},void 0,M("div",{className:g.default.nameWrapper},void 0,this.renderName()),this.renderValidationMessage()),M(i.default.Child,{grow:0,shrink:0,wrap:!0},void 0,this.renderAction())),this.renderErrorMessage())};return r}(n.Component);r.default=N;N.displayName="AssetPanel";N.Types=_;N.defaultProps={isDraggable:!1,isDragging:!1}},89417:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.default=void 0;!function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r)
;if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e;t&&t.set(e,a)}(t(67294));var a,n=i(t(94184)),l=i(t(9378)),o=i(t(84991));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:r})(e)}function d(e,r,t,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;r||0===o||(r={children:void 0});if(1===o)r.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];r.children=i}if(r&&l)for(var d in l)void 0===r[d]&&(r[d]=l[d]);else r||(r=l||{});return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}var f=function(e){
var r=e.className,t=e.onClick;return d("button",{className:(0,n.default)(o.default.removeButton,r),onClick:t,type:"button"},void 0,d(l.default,{className:o.default.removeIcon,name:l.default.Names.CLOSE,height:24,width:24}))};f.displayName="RemoveButton";var s=f;r.default=s},96835:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.default=void 0;!function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u(r);if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=n?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}a.default=e;t&&t.set(e,a)}(t(67294));var a,n=i(t(94184)),l=i(t(13192)),o=i(t(49173));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap
;return(u=function(e){return e?t:r})(e)}function d(e,r,t,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var l=e&&e.defaultProps,o=arguments.length-3;r||0===o||(r={children:void 0});if(1===o)r.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];r.children=i}if(r&&l)for(var d in l)void 0===r[d]&&(r[d]=l[d]);else r||(r=l||{});return{$$typeof:a,type:e,key:void 0===t?null:""+t,ref:null,props:r,_owner:null}}var f=(0,l.default)({SMALL:null,MEDIUM:null}),s=(0,l.default)({NONE:null,PRIMARY:null,RED:null}),c=(0,l.default)({DARK:null,LIGHT:null}),p=function(e){var r,t=e.borderColor,a=void 0===t?s.PRIMARY:t,l=e.children,i=e.className,u=e.color,p=void 0===u?c.LIGHT:u,v=e.size,h=void 0===v?f.MEDIUM:v;return d("div",{className:(0,n.default)(o.default.wrapper,i,(r={},r[o.default.small]=h===f.SMALL,r[o.default.medium]=h===f.MEDIUM,r[o.default.borderNone]=a===s.NONE,r[o.default.borderPrimary]=a===s.PRIMARY,r[o.default.borderRed]=a===s.RED,
r[o.default.colorDark]=p===c.DARK,r[o.default.colorLight]=p===c.LIGHT,r))},void 0,l)};p.displayName="Panel";p.BorderColor=s;p.Color=c;p.Size=f;var v=p;r.default=v},5835:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0});r.sizeString=function(e){return n.default.filesize(e)};r.arrayBufferToString=void 0;var a,n=(a=t(6982))&&a.__esModule?a:{default:a};r.arrayBufferToString=function(e){return"string"==typeof e?e:String.fromCharCode.apply(null,new Uint16Array(e))}}}]);
//# sourceMappingURL=725202ab534fa56ba738.js.map