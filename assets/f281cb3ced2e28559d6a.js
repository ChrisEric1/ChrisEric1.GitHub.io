"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[84436],{629438:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(496486),a=n.n(r),o=function(e,t){var n=a().shuffle(e),r=n.findIndex((function(e){return e.value===t}));if(r>-1){var o=n[r];n.splice(r,1);n.push(o)}return n}},517454:(e,t,n)=>{n.d(t,{L:()=>_,Z:()=>v});var r=n(785893),a=n(667294),o=n(294184),l=n.n(o),s=n(496486),i=n.n(s),c=n(945460),u=n(634698),f=n(441093),d=n(107364),O=n(443812),E=n(843133),b=n(348592),C=n(629438),m=n(494579),h=n(473708),p=n(424529),N=n.n(p);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done);l=!0){o.push(r.value);if(t&&o.length===t)break}}catch(e){s=!0;a=e}finally{try{
l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=[{className:N().emojiSad,rating:m.aZ.BAD,classNameSelected:N().selected},{className:N().emojiNeutral,rating:m.aZ.NEUTRAL,classNameSelected:N().selected},{className:N().emojiHappy,rating:m.aZ.GOOD,classNameSelected:N().selected}];function _(e){var t=e.className,n=e.selectedRating,a=e.ratingConfigs,o=e.onChangeRating;return(0,r.jsx)(d.Z,{justify:d.Z.Justify.BETWEEN,align:d.Z.Align.CENTER,className:l()(N().ratingsSelector,t),
children:(null!=a?a:A).map((function(e){var t=e.rating,a=e.className,s=e.classNameSelected;return(0,r.jsx)(c.Clickable,{onClick:function(){return o(t)},"aria-label":t,children:(0,r.jsx)("div",{className:l()(a,n===t?s:null)})},t)}))})}function y(){return(0,r.jsx)(c.Text,{className:N().helpdeskLink,variant:"text-xs/normal",color:"text-muted",children:h.Z.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:b.Z.getSubmitRequestURL()})})}function v(e){var t=e.header,n=e.body,o=e.problemTitle,s=e.problems,b=e.transitionState,p=e.ratingConfigs,D=e.feedbackProblems,A=void 0===D?[]:D,v=e.otherKey,I=e.ratingsSelectorClassName,R=e.hideDontShowCheckbox,x=e.startRating,B=void 0===x?null:x,T=e.onSubmit,j=e.onClose,S=(0,u.Z)(s),K=g(a.useState(!1),2),k=K[0],Z=K[1],U=g(a.useState(B),2),G=U[0],L=U[1],w=g(a.useState(null),2),M=w[0],P=w[1],F=g(a.useState(i().shuffle(s)),2),H=F[0],V=F[1],Y=g(a.useState(""),2),z=Y[0],q=Y[1],W=(0,O.Dt)(),J=(0,E.Z)(G),$=(0,E.Z)(k),Q=(0,E.Z)(M),X=(0,E.Z)(T),ee=(0,
E.Z)(z),te=null!=M&&A.includes(M),ne=te||!R;a.useEffect((function(){i().isEqual(S,s)||V((0,C.B)(s,v))}),[s,S,v]);a.useEffect((function(){return function(){X.current({rating:J.current,problem:Q.current,dontShowAgain:$.current,feedback:ee.current})}}),[]);return(0,r.jsxs)(c.ModalRoot,{transitionState:b,className:N().modalRoot,"aria-labelledby":W,children:[(0,r.jsxs)(c.ModalHeader,{separator:!1,className:N().headerContainer,children:[(0,r.jsx)(c.Heading,{id:W,variant:"heading-xl/extrabold",color:"none",children:t}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"none",className:N().ratingBody,children:n}),te?null:(0,r.jsx)(_,{className:l()(N().emojis,I),selectedRating:G,onChangeRating:function(e){L(e);e===m.aZ.GOOD&&j()},ratingConfigs:p})]}),(0,r.jsxs)(c.ModalContent,{className:N().content,children:[null==G||G===m.aZ.GOOD||te?null:(0,r.jsx)(c.FormItem,{title:o,className:N().problemInfo,children:(0,r.jsx)(f.Z,{options:H,onClick:function(e){var t=e.value;P(t);A.includes(t)||j()},
hideCaret:function(e){var t=e.value;return!A.includes(t)}})}),te?(0,r.jsxs)(c.FormItem,{title:h.Z.Messages.FEEDBACK_DESCRIBE_ISSUE,className:N().problemInfo,children:[(0,r.jsx)(c.TextArea,{value:z,maxLength:m.iF,onChange:q}),(0,r.jsx)(y,{})]}):null]}),ne&&(0,r.jsx)(c.ModalFooter,{className:N().footer,direction:d.Z.Direction.HORIZONTAL,children:te?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,look:c.Button.Looks.LINK,color:c.Button.Colors.PRIMARY,onClick:function(){P(null);q("")},children:h.Z.Messages.BACK}),(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,onClick:j,children:h.Z.Messages.SUBMIT})]}):(0,r.jsx)(c.Checkbox,{type:c.Checkbox.Types.INVERTED,size:18,value:k,onChange:function(){return Z(!k)},children:(0,r.jsx)(c.Text,{variant:"text-sm/normal",children:h.Z.Messages.DONT_SHOW_AGAIN})})})]})}},884436:(e,t,n)=>{n.r(t);n.d(t,{VideoBackgroundIssue:()=>m,default:()=>N})
;var r=n(785893),a=n(667294),o=n(945460),l=n(517454),s=n(115617),i=n(652591),c=n(2590),u=n(630670),f=n(473708);function d(e,t,n,r,a,o,l){try{var s=e[o](l),i=s.value}catch(e){n(e);return}s.done?t(i):Promise.resolve(i).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){d(o,r,a,l,s,"next",e)}function s(e){d(o,r,a,l,s,"throw",e)}l(void 0)}))}}function E(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){E(e,t,n[t])}))}return e}function C(e,t){t=null!=t?t:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var m,h=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],
done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e];r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(e){e.BAD_OUTLINE="BAD_OUTLINE";e.BACKGROUND_DETECTION_ACCURACY="BACKGROUND_DETECTION_ACCURACY";e.FLICKERING="FLICKERING";e.BACKGROUND_DETECTION_LAG="BACKGROUND_DETECTION_LAG";e.OTHER="OTHER"}(m||(m={}));var p=[m.OTHER];function N(e){var t=e.analyticsData,d=e.transitionState,E=e.onClose;a.useEffect((function(){i.default.track(c.rMx.OPEN_MODAL,{type:"Video Background Feedback"})}),[]);return(0,r.jsx)(l.Z,{header:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_HEADER,
body:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_BODY,problemTitle:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_PROBLEM_TITLE,problems:[{value:m.BAD_OUTLINE,label:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_OPTION_BAD_OUTLINE},{value:m.BACKGROUND_DETECTION_ACCURACY,label:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_OPTION_BACKGROUND_DETECTION_ACCURACY},{value:m.FLICKERING,label:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_OPTION_FLICKERING},{value:m.BACKGROUND_DETECTION_LAG,label:f.Z.Messages.VIDEO_BACKGROUND_FEEDBACK_OPTION_BACKGROUND_DETECTION_LAG},{value:m.OTHER,label:f.Z.Messages.CALL_FEEDBACK_OPTION_OTHER}],feedbackProblems:p,onSubmit:function(e){var a=e.rating,l=e.problem,d=e.dontShowAgain,E=e.feedback;d&&(0,s.Kw)(u.v.VIDEO_BACKGROUND_FEEDBACK);if(null!=a){!function(e,t,n,r){i.default.track(c.rMx.VIDEO_BACKGROUND_FEEDBACK,C(b({},r),{reason:t,rating:e,feedback:n}))}(a,l,E,t);null!=l&&(0,o.openModalLazy)(O((function(){var e,t;return h(this,(function(a){switch(a.label){case 0:
return[4,Promise.all([n.e(40532),n.e(21786)]).then(n.bind(n,521786))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,b({body:f.Z.Messages.VIDEO_BACKGROUND_ISSUE_REPORTED_BODY},e))}]}}))})))}},onClose:E,transitionState:d,otherKey:m.OTHER})}},441093:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(785893),a=(n(667294),n(294184)),o=n.n(a),l=n(945460),s=n(718831),i=n(613067),c=n.n(i);function u(e){var t=e.options,n=e.onClick,a=e.className,i=e.optionClassName,u=e.hideCaret;return(0,r.jsx)("div",{className:o()(c().root,a),children:t.map((function(e,t){return(0,r.jsxs)(l.Clickable,{onClick:function(){return n(e)},className:o()(c().option,i),children:[(0,r.jsx)(l.Text,{className:c().text,color:"none",variant:"text-md/normal",children:e.label}),!(null==u?void 0:u(e))&&(0,r.jsx)(s.Z,{className:c().caret,direction:s.Z.Directions.RIGHT})]},t)}))})}}}]);
//# sourceMappingURL=f281cb3ced2e28559d6a.js.map