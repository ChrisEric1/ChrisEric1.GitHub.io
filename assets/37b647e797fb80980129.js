"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[90067],{463699:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=(n=r(213192))&&n.__esModule?n:{default:n},u=r(770348);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}var s=(0,a.default)({ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null})
;function c(e){switch(e){case u.KeyboardKeys.ARROW_DOWN:return s.ARROW_DOWN;case u.KeyboardKeys.ARROW_UP:return s.ARROW_UP;case u.KeyboardKeys.ARROW_LEFT:return s.ARROW_LEFT;case u.KeyboardKeys.ARROW_RIGHT:return s.ARROW_RIGHT;default:return null}}var f=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={focusedColumn:null,focusedRow:null};t.handleKeyDown=function(e){var r=t.props.onSelect;switch(e.keyCode){case u.KeyboardKeys.ARROW_DOWN:case u.KeyboardKeys.ARROW_UP:case u.KeyboardKeys.ARROW_LEFT:case u.KeyboardKeys.ARROW_RIGHT:e.preventDefault();e.stopPropagation();t.focusNext(c(e.keyCode));break;case u.KeyboardKeys.ENTER:e.preventDefault();e.stopPropagation();var n=t.calculateFocusedItem();null!=n&&null!=r&&r(n)}};t.wrapPosition=function(e,r,n,o){var a,u=e.length,l=n*u+r,i=Math.max(l+o,0)%u,s=0
;o<0&&i>r&&(s=-1);o>0&&i<r&&(s=1);return{column:i,row:(null!==(a=t.calculateClosest(e[r][n],e[i]))&&void 0!==a?a:n)+s}};return t}var r=t.prototype;r.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!0)};r.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)};r.focusNext=function(e){var t=this,r=this.props,n=r.getItemGrid,o=r.onFocus,a=this.state,u=a.focusedColumn,l=a.focusedRow;if(null!=e){var i=n();if(null!=i){var s=this.getNext(i,u,l,e);this.setState({focusedColumn:s.column,focusedRow:s.row},(function(){var e=t.calculateFocusedItem();null!=e&&null!=o&&o(e)}))}}};r.getNext=function(e,t,r,n){var o,a,u,l;if(null==t||null==r){a=0;u=0;o={column:0,row:0}}else{a=t;u=r;switch(n){case s.ARROW_UP:o={column:a,row:Math.max(u-1,0)};break;case s.ARROW_DOWN:o={column:a,row:Math.min(u+1,e[a].length-1)};break;case s.ARROW_LEFT:o=this.wrapPosition(e,a,u,-1);break;case s.ARROW_RIGHT:o=this.wrapPosition(e,a,u,1)}}
null!=o&&(l=e[o.column][o.row]);null!=l&&null!=o||(l=e[(o={column:a,row:u}).column][o.row]);return{column:o.column,row:o.row,id:l}};r.calculateClosest=function(e,t){var r=this.props.getCoordsMap()[e];if(null!=r){for(var n,o=Number.MAX_SAFE_INTEGER,a=0;a<t.length;a++){var u=this.props.getCoordsMap()[t[a]];if(null!=u){var l=Math.abs(u.top-r.top);if(!(l<o))break;o=l;n=a}}return n}};r.calculateFocusedItem=function(){var e=this.props.getItemGrid,t=this.state,r=t.focusedRow,n=t.focusedColumn,o=e();return null==o||null==n||null==r||null==o[n]||null==o[n][r]?null:o[n][r]};r.render=function(){return this.props.children};return t}(o.Component);t.default=f;f.displayName="MasonryKeyboardNavigationWrapper"},206855:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o,a,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e)
;var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function i(e,t){i=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return i(e,t)}function s(e,t,r){var n=Math.max(Math.floor(e/t),1);return Math.min(n,r)}var c=(0,((n=r(864345))&&n.__esModule?n:{default:n}).default)((a=o=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;i(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={columns:s(t.props.width,t.props.desiredItemWidth,t.props.maxColumns)};return t}
t.getDerivedStateFromProps=function(e,t){var r=s(e.width,e.desiredItemWidth,e.maxColumns);return r!==t.columns?{columns:r}:null};t.prototype.render=function(){var e=this.props,t=e.width,r=e.height;return(0,e.children)(this.state.columns,t,r)};return t}(u.Component),o.defaultProps={desiredItemWidth:200},a));t.default=c},382342:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,o=P(r(667294)),a=S(r(294184)),u=r(536211),l=S(r(636602)),i=P(r(743152)),s=r(250916),c=S(r(932382)),f=S(r(16941)),d=S(r(530250)),p=S(r(665759)),y=r(688388),h=S(r(889167)),m=r(697335),v=S(r(788444)),g=S(r(411771)),O=r(770348),_=r(910424),b=S(r(247001)),I=S(r(958074));function S(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t)
;if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}function w(){w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return w.apply(this,arguments)}function M(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(e,t){
E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var C=function(e){return e.stopPropagation()},T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this).state={resultType:null};t.searchBarRef=o.createRef();t.backToFrontPage=function(e){var r=t.state.resultType;if(e.keyCode===O.KeyboardKeys.ESCAPE&&null!=r){e.stopPropagation();e.preventDefault();t.handleClearQuery()}};t.handleChangeQuery=function(e){(0,s.setSearchQuery)(e);t.search(e,O.GIFPickerResultTypes.SEARCH)};t.handleSelectSuggestion=function(e){(0,s.setSearchQuery)("");i.resetSearch();t.search(e,O.GIFPickerResultTypes.SEARCH_SUGGESTION,!0)};t.handleClearQuery=function(){var e=t.searchBarRef.current;(0,s.setSearchQuery)("");i.resetSearch();t.setState({resultType:null});null!=e&&e.focus()};t.handleSelectGIF=function(e){
var r=t.props.onSelectGIF;null!=r&&r(e)};t.handleSelectItem=function(e,r){var n=t.searchBarRef.current;switch(e){case O.GIFPickerResultTypes.TRENDING_CATEGORY:i.search(r,O.GIFPickerResultTypes.TRENDING_CATEGORY,!0);null!=n&&n.focus();break;case O.GIFPickerResultTypes.TRENDING_GIFS:i.fetchTrendingGIFs()}t.setState({resultType:e})};return t}var r=t.prototype;r.componentDidMount=function(){i.initializeSearch();document.addEventListener("keydown",this.backToFrontPage);""!==this.props.query&&this.search(this.props.query,O.GIFPickerResultTypes.SEARCH)};r.componentWillUnmount=function(){l.default.wait((function(){return i.resetSearch()}));document.removeEventListener("keydown",this.backToFrontPage)};r.search=function(e,t,r){i.search(e,t,r);""===e?this.setState({resultType:null}):this.state.resultType!==O.GIFPickerResultTypes.SEARCH&&this.setState({resultType:O.GIFPickerResultTypes.SEARCH})};r.renderHeaderContent=function(){var e=this.props.query;switch(this.state.resultType){
case O.GIFPickerResultTypes.FAVORITES:return M(y.FormTitle,{tag:y.FormTitle.Tags.H5,className:I.default.searchHeader},void 0,b.default.Messages.CATEGORY_FAVORITE);case O.GIFPickerResultTypes.TRENDING_GIFS:return M(y.FormTitle,{tag:y.FormTitle.Tags.H5,className:I.default.searchHeader},void 0,b.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS);default:return o.createElement(p.default,{className:I.default.searchBar,size:p.default.Sizes.MEDIUM,query:e,onChange:this.handleChangeQuery,onClear:this.handleClearQuery,placeholder:b.default.Messages.SEARCH_TENOR,"aria-label":b.default.Messages.SEARCH_TENOR,ref:this.searchBarRef,autoFocus:!0})}};r.renderHeader=function(){var e=null;null!=this.state.resultType&&(e=M(f.default,{onClick:this.handleClearQuery,className:I.default.backButton,"aria-label":b.default.Messages.BACK},void 0,M(h.default,{title:b.default.Messages.BACK})));return M(d.default,{align:d.default.Align.CENTER},void 0,e,this.renderHeaderContent())};r.renderContent=function(){
var e=this.props,t=e.resultItems,r=e.resultQuery,n=e.query,o=e.favorites,a=e.searchOffset,u=e.searchLimit,l=e.searchTotalResults,i=e.suggestions,s=e.hideFavorites,c=this.state.resultType;return null==c?M(v.default,{hideFavoritesTile:s,onSelectItem:this.handleSelectItem}):M(g.default,{data:c===O.GIFPickerResultTypes.FAVORITES?o:t,onSelectGIF:this.handleSelectGIF,resultType:c,resultQuery:r,query:n,searchOffset:a,searchLimit:u,searchTotalResults:l,suggestions:i,onSelectSuggestion:this.handleSelectSuggestion})};r.render=function(){var e=this.props,t=e.className,r=e.forwardedRef;return o.createElement("div",{id:_.GIF_PICKER_TAB_PANEL_ID,role:"tabpanel","aria-labelledby":_.GIF_PICKER_TAB_ID,className:(0,a.default)(I.default.container,t),onClick:C,ref:r},M("div",{className:I.default.header},void 0,this.renderHeader()),M("div",{className:I.default.content},void 0,this.renderContent()))};return t}(o.PureComponent);T.displayName="GIFPicker";var k=o.forwardRef((function(e,t){e.persistSearch||(0,
s.setSearchQuery)("");var r=(0,u.useStateFromStoresObject)([c.default],(function(){return{query:c.default.getQuery(),resultQuery:c.default.getResultQuery(),resultItems:c.default.getResultItems(),suggestions:c.default.getSuggestions()}})),n=r.query,a=r.resultQuery,l=r.resultItems,i=r.suggestions,f=(0,s.useExpressionPickerStore)((function(e){return e.searchQuery})),d=null!=f&&""!==f?f:n,p=(0,m.useSortedFavoriteGIFs)();return o.createElement(T,w({},e,{forwardedRef:t,query:d,resultQuery:a,resultItems:l,suggestions:i,favorites:p,searchOffset:0,searchTotalResults:c.default.getResultItems().length,searchLimit:null}))}));t.default=k},788444:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=k;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=I(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor
;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=b(r(496486)),u=r(536211),l=r(358103),i=r(743152),s=b(r(463699)),c=b(r(932382)),f=b(r(427795)),d=b(r(608921)),p=r(862728),y=r(697335),h=b(r(206855)),m=r(827440),v=r(411771),g=r(770348),O=b(r(247001)),_=b(r(855833));function b(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(I=function(e){return e?r:t})(e)}function S(){S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return S.apply(this,arguments)}function R(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){
if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){w=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return w(e,t)}function M(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){
for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var E=function(e,t){return M(m.CategoryColumn,{columns:e},t)};E.displayName="renderColumn";function C(e){var t,r=a.default.sample(a.default.values(e));return{type:g.GIFPickerResultTypes.FAVORITES,name:O.default.Messages.CATEGORY_FAVORITE,icon:f.default,src:null!=r?r.src:"https://media.giphy.com/media/1TOSaJsWtnhe0/giphy.gif",format:null!==(t=null==r?void 0:r.format)&&void 0!==t?t:l.GIFType.IMAGE}}var T=function(e){!function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;w(e,t)}(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];(t=e.call.apply(e,[this].concat(n))||this)._masonryRef=o.createRef();t.state={favoritesTile:C(t.props.favorites),selectedIndex:{column:0,row:0},focusedId:null};t.handleFocus=function(e){
var r=t._masonryRef.current;if(null!=r){var n=r.getCoordsMap()[e];if(null!=n){r.scrollIntoViewRect({start:n.top-10,end:n.top+n.height+10});t.setState({focusedId:e})}}};t.handleSelect=function(e){var r=t.props.onSelectItem,n=t.getData().find((function(t){return t.name===e}));null!=n&&null!=r&&r(n.type,n.name)};t.getItemKey=function(e,r){if(e>0)return null;var n=t.getData()[r];return null!=n?n.name:null};t.memoizedData=(0,p.cachedFunction)((function(e,t,r){void 0===r&&(r=!1);return r?R(t):[e].concat(R(t))}));t.renderItem=function(e,r,n,o){if(e>0)return null;var a=t.getData()[r];if(null!=a){var u=t.props,l=u.onSelectItem,i=u.imagePool,s=u.videoPool,c=t.state.focusedId;return M(v.GIFPickerSearchItem,{format:a.format,color:g.Colors.PRIMARY_DARK_800,src:a.src,item:a,index:r,coords:n,onClick:function(){return l(a.type,a.name)},renderExtras:t.renderCategoryExtras,focused:a.name===c,imagePool:i,videoPool:s},o)}};t.renderContent=function(e,r,n){
return 0===t.props.trendingCategories.length?M(m.ResultsLoader,{columns:e,width:r,renderColumn:E}):o.createElement(d.default,{ref:t._masonryRef,fade:!0,className:_.default.container,itemGutter:12,getItemKey:t.getItemKey,columns:e,getItemHeight:function(){return 110},renderItem:t.renderItem,sections:[t.getData().length],chunkSize:50})};t.getItemGrid=function(){var e=t._masonryRef.current;return null!=e?e.getItemGrid():[]};t.getCoordsMap=function(){var e=t._masonryRef.current;return null!=e?e.getCoordsMap():{}};return t}var r=t.prototype;r.componentDidMount=function(){0===this.props.trendingCategories.length&&(0,i.fetchTrending)()};r.getData=function(){return this.memoizedData(this.state.favoritesTile,this.props.trendingCategories,this.props.hideFavoritesTile)};r.renderCategoryExtras=function(e){var t=e.name,r=e.icon,n=e.type;return M(o.Fragment,{},void 0,M("div",{className:n===g.GIFPickerResultTypes.FAVORITES?_.default.categoryFadeBlurple:_.default.categoryFade}),M("div",{
className:_.default.categoryText},void 0,null!=r?M(r,{className:_.default.categoryIcon}):null,M("span",{className:_.default.categoryName},void 0,t)))};r.render=function(){return M(s.default,{getItemGrid:this.getItemGrid,getCoordsMap:this.getCoordsMap,onFocus:this.handleFocus,onSelect:this.handleSelect},void 0,M(h.default,{desiredItemWidth:200,maxColumns:6},void 0,this.renderContent))};return t}(o.PureComponent);T.displayName="GIFPickerFrontPage";function k(e){var t=(0,u.useStateFromStores)([c.default],(function(){return c.default.getTrendingCategories()})),r=(0,y.useFavoriteGIFs)(),n=(0,v.useElementPools)();return o.createElement(T,S({},e,n,{trendingCategories:t,favorites:r}))}k.displayName="ConnectedGIFPickerFrontPage"},827440:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.ResultsLoader=t.CategoryColumn=t.Block=t.AnimatedColumn=void 0;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t)
;if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=s(r(496486)),u=s(r(74854)),l=r(770348),i=s(r(791820));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}
function d(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;p(e,t)}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var y=[l.Colors.PREMIUM_TIER_1_PURPLE,l.Colors.PREMIUM_TIER_1_BLUE,"#929AFA"],h=function(e){d(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(t=e.call.apply(e,[this].concat(n))||this).state={backgroundColor:a.default.sample(y)};return t}t.prototype.render=function(){return f("div",{style:{height:this.props.height,backgroundColor:this.state.backgroundColor},className:i.default.gif})};return t}(o.PureComponent);t.Block=h;h.displayName="Block";var m=function(e){d(t,e);function t(t){var r;(r=e.call(this,t)||this).animateSlide=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),t=e.props.direction,n=e.state,o=n.translateY,a=n.height,l=t>0?0:-a/2+12,i=t>0?-a/2+12:0;o.setValue(l)
;u.default.timing(o,{toValue:i,duration:800,easing:u.default.Easing.linear}).start(r.animateSlide)};var n=new Array(10).fill(null).map((function(){return a.default.random(40,150)}));r.state={blocks:n,height:2*n.reduce((function(e,t){return e+t+12}),12),translateY:new u.default.Value(0)};return r}var r=t.prototype;r.componentDidMount=function(){this.animateSlide()};r.getAnimatedStyle=function(){return{width:100/this.props.columns+"%",transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}]}};r.render=function(){var e=this.state.blocks;return f(u.default.div,{className:i.default.column,style:this.getAnimatedStyle()},void 0,e.map((function(e,t){return f(h,{height:e},t)})),e.map((function(e,t){return f(h,{height:e},"alt"+t)})))};return t}(o.Component);t.AnimatedColumn=m;m.displayName="AnimatedColumn";m.defaultProps={direction:-1};var v=function(e){var t=e.columns;return f("div",{className:i.default.column,style:{width:100/t+"%"}
},void 0,new Array(4).fill(null).map((function(e,t){return f("div",{className:i.default.categoryLoader},t)})))};t.CategoryColumn=v;v.displayName="CategoryColumn";var g=function(e){d(t,e);function t(){return e.apply(this,arguments)||this}t.prototype.render=function(){var e=this.props,t=e.columns,r=e.renderColumn;return f("div",{className:i.default.container},void 0,new Array(t).fill(null).map((function(e,n){return r(t,n)})))};return t}(o.PureComponent);t.ResultsLoader=g;g.displayName="ResultsLoader"},411771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=t.GIFPickerSearchItem=void 0;t.useElementPools=H;var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=R(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null
;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=S(r(294184)),u=S(r(496486)),l=S(r(444173)),i=r(358103),s=r(743152),c=S(r(463699)),f=S(r(66029)),d=S(r(433383)),p=S(r(830146)),y=S(r(956117)),h=S(r(16941)),m=S(r(427795)),v=S(r(608921)),g=S(r(582945)),O=S(r(206855)),_=r(770348),b=S(r(247001)),I=S(r(662418));function S(e){return e&&e.__esModule?e:{default:e}}function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(R=function(e){return e?r:t})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],u=!0,l=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){a.push(n.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t)
;var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;E(e,t)}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}function C(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}
if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(){T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return T.apply(this,arguments)}var k=[_.Colors.PREMIUM_TIER_1_PURPLE,_.Colors.PREMIUM_TIER_1_BLUE,"#929AFA"],F=Array.from({length:16}).map((function(e,t){return{id:""+t,height:Math.floor(100*Math.random())+120}}));function A(e){var t;return null!==(t=e.id)&&void 0!==t?t:e.src}function j(e,t){var r=F[t];return null==r?0:r.height}function G(e,t,r,n){if(!(e>0))return null==F[t]?null:C("div",{className:I.default.placeholder,style:T({animationDelay:75*t+"ms"},r)},n)}G.displayName="renderLoadingItem";function N(e,t){var r,n;return e>0?"":null!==(r=null===(n=F[t])||void 0===n?void 0:n.id)&&void 0!==r?r:""}function L(e){return e===i.GIFType.VIDEO}var D=function(e){M(t,e)
;function t(t){var r;(r=e.call(this,t)||this).ref=null;r._video=null;r._image=null;r._mounted=!0;r.handleCanPlay=function(){r._mounted&&r.setState({loaded:!0})};r.handleClick=function(){var e=r.props,t=e.onClick,n=e.item,o=e.index;null!=t&&t(n,o)};var n=r.props,o=n.format,a=n.color,l=n.imagePool;r.state={color:null==a?u.default.sample(k):a,loaded:!1};if(!L(o)){r._image=l.getElement();r._image.onload=function(){return r.setState({loaded:!0})};r._image.src=t.src}return r}var r=t.prototype;r.componentDidMount=function(){var e=this.props,t=e.format,r=e.src,n=e.coords,o=n.width,a=n.height,u=e.videoPool,l=this.ref;if(t===i.GIFType.VIDEO&&null!=l){var s=u.getElement();s.oncanplay=this.handleCanPlay;s.src=r;s.width=o;s.height=a;l.appendChild(s);this._video=s}};r.componentDidUpdate=function(e){var t=this.props.coords,r=t.width,n=t.height;if(null!=this._video&&(e.coords.width!==r||e.coords.height!==n)){this._video.width=r;this._video.height=n}};r.componentWillUnmount=function(){this._mounted=!1
;var e=this._image,t=this._video,r=this.props,n=r.imagePool,o=r.videoPool;if(null!=e){this._image=null;n.poolElement(e)}if(null!=t){this._video=null;o.poolElement(t)}};r.renderGIF=function(){var e=this.props,t=e.src,r=e.coords,n=r.width,o=r.height;return this.state.loaded?C("img",{src:t,width:n,height:o,className:I.default.gif,alt:""}):null};r.render=function(){var e,t=this,r=this.props,n=r.item,o=r.renderExtras,u=r.format,l=r.coords,i=r.focused,s=this.state,c=s.color,f=s.loaded;return C(h.default,{tabIndex:-1,innerRef:function(e){t.ref=e},className:(0,a.default)(I.default.result,(e={},e[I.default.focused]=i,e)),onClick:this.handleClick,style:T({backgroundColor:f?void 0:c},l)},void 0,L(u)?null:this.renderGIF(),null!=o?o(n):null)};return t}(o.PureComponent);t.GIFPickerSearchItem=D;D.displayName="GIFPickerSearchItem";var W=function(e){M(t,e);function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a]
;(t=e.call.apply(e,[this].concat(n))||this)._masonryRef=o.createRef();t.prevResultQuery=null;t.state={focusedId:null};t.handleFocus=function(e){var r=t._masonryRef.current;if(null!=r){var n=r.getCoordsMap()[e];if(null!=n){r.scrollIntoViewRect({start:n.top-10,end:n.top+n.height+10});t.setState({focusedId:e})}}};t.handleSelect=function(e){var r,n=t.props.data,o=n.findIndex((function(t){return A(t)===e}));-1!==o&&(r=n[o]);null!=r&&t.selectItem(r,o)};t.handleClickItem=function(e,r){t.selectItem(e,r)};t.handleScroll=function(){var e=t.props.resultQuery,r=t._masonryRef.current;if(null!=r){var n=r.getScrollerState(),o=n.scrollTop;if(n.scrollHeight-o<=1220){e!==t.prevResultQuery&&(0,s.fetchSuggestions)(e);t.prevResultQuery=e}}};t.renderItem=function(e,r,n,a){if(e>0)return null;var u=t.state.focusedId,l=t.props.data[r];return null==l?null:C(D,{item:l,index:r,format:l.format,src:l.src,coords:n,onClick:t.handleClickItem,renderExtras:function(){return o.createElement(p.default,T({
className:I.default.favButton},l))},focused:A(l)===u,imagePool:t.props.imagePool,videoPool:t.props.videoPool},a)};t.getItemHeight=function(e,r,n){if(e>0)return 0;var o=t.props.data[r];return null==o?0:n*(o.height/o.width)};t.getItemKey=function(e,r){var n;if(e>0)return null;var o=t.props.data[r];return null!=o?null!==(n=o.id)&&void 0!==n?n:o.src:null};t.renderSection=function(e,r,n){var a=t.props,u=a.onSelectSuggestion,l=a.suggestions;return 1===e?C("div",{className:I.default.endContainer,style:r},n,l.length>0?C(o.Fragment,{},void 0,C("div",{className:I.default.endText},void 0,b.default.Messages.GIF_PICKER_RELATED_SEARCH),C("div",{className:I.default.searchSuggestions},void 0,l.map((function(e){return C(y.default,{look:y.default.Looks.OUTLINED,color:y.default.Colors.PRIMARY,size:y.default.Sizes.SMALL,className:I.default.searchSuggestion,onClick:function(){u(e)}},e,e)})))):null):null};t.renderContent=function(e,r,n){var a=t.props,u=a.data,l=a.resultQuery,i=a.query,s=a.resultType
;return 0!==u.length||l===i&&s!==_.GIFPickerResultTypes.TRENDING_GIFS?o.createElement(v.default,{key:l+"-"+(null!=s?s:""),ref:t._masonryRef,fade:!0,itemGutter:12,className:I.default.results,columns:e,sections:[u.length,0],getItemKey:t.getItemKey,getItemHeight:t.getItemHeight,renderItem:t.renderItem,getSectionHeight:t.getSectionHeight,renderSection:t.renderSection,onScroll:t.handleScroll,chunkSize:128}):C(v.default,{fade:!0,className:I.default.results,sections:[F.length],columns:e,itemGutter:12,getItemKey:N,getItemHeight:j,renderItem:G,chunkSize:128},l)};t.getItemGrid=function(){var e=t._masonryRef.current;return null!=e?e.getItemGrid():[]};t.getCoordsMap=function(){var e=t._masonryRef.current;return null!=e?e.getCoordsMap():{}};return t}var r=t.prototype;r.componentDidMount=function(){var e=this.props,t=e.resultType,r=e.data;if(t===_.GIFPickerResultTypes.FAVORITES){(0,s.trackSearchStart)(_.GIFPickerResultTypes.FAVORITES);(0,
s.trackSearchResultViewed)(r,_.GIFPickerResultTypes.FAVORITES,{limit:null})}};r.selectItem=function(e,t){var r=this.props,n=r.onSelectGIF,o=r.resultType,a=r.data,u=r.resultQuery;null!=n&&n(e);(0,s.trackSelectGIF)({type:o,index:t,offset:this.props.searchOffset,limit:this.props.searchLimit,results:a,totalResults:this.props.searchTotalResults,query:u,gifId:e.id})};r.getSectionHeight=function(e){return 1===e?220:0};r.renderEmptyFavorite=function(e,t){void 0===t&&(t=!1);return C("div",{className:I.default.emptyHint},void 0,null!=e?C("div",{className:I.default.emptyHintCard},void 0,t?C(m.default,{className:I.default.emptyHintFavorite}):null,C("div",{className:I.default.emptyHintText},void 0,e)):C("div",{className:I.default.emptyHintSpacer}))};r.renderEmptyFavorites=function(){var e=this;return C(g.default,{className:I.default.results,fade:!0},void 0,C("div",{className:I.default.emptyHints
},void 0,this.renderEmptyFavorite(b.default.Messages.NO_GIF_FAVORITES_HOW_TO_FAVORITE,!0),this.renderEmptyFavorite(b.default.Messages.NO_GIF_FAVORITES_WHERE_TO_FAVORITE),this.renderEmptyFavorite(b.default.Messages.NO_GIF_FAVORITES_GO_FAVORITE),Array.from({length:15}).map((function(t,r){return C(o.Fragment,{},r,e.renderEmptyFavorite())})),this.renderEmptyFavorite(b.default.Messages.NO_GIF_FAVORITES_FLAVOR_FAVORITE_PLEASE),Array.from({length:16}).map((function(t,r){return C(o.Fragment,{},r,e.renderEmptyFavorite())})),this.renderEmptyFavorite(b.default.Messages.NO_GIF_FAVORITES_FLAVOR_STILL_HERE)))};r.render=function(){var e=this.props,t=e.data,r=e.resultQuery,n=e.query,o=e.resultType;return 0===t.length&&r===n&&o!==_.GIFPickerResultTypes.TRENDING_GIFS?o===_.GIFPickerResultTypes.FAVORITES?this.renderEmptyFavorites():C(f.default,{message:b.default.Messages.NO_GIF_SEARCH_RESULTS,className:I.default.noResults}):C(c.default,{getItemGrid:this.getItemGrid,getCoordsMap:this.getCoordsMap,
onFocus:this.handleFocus,onSelect:this.handleSelect},r,C(O.default,{desiredItemWidth:200,maxColumns:8},void 0,this.renderContent))};return t}(o.PureComponent);W.displayName="GIFPickerSearchResults";function H(){var e=o.useContext(d.default).renderWindow.document;return{imagePool:P(o.useState((function(){return new l.default((function(){return e.createElement("img")}),(function(e){e.onload=null;e.src=""}))})),1)[0],videoPool:P(o.useState((function(){return new l.default((function(){var t=e.createElement("video");t.className=I.default.gif;t.autoplay=!0;t.loop=!0;t.muted=!0;t.preload="auto";t.controls=!1;return t}),(function(e){e.src="";e.oncanplay=null;var t=e.parentNode;null!=t&&t.removeChild(e)}))})),1)[0]}}var K=function(e){var t=H();return o.createElement(W,T({},e,t))};K.displayName="ConnectedGIFPickerSearchResults";var x=K;t.default=x},58941:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){
var f=null!=t?t:""+i.AnalyticsSections.PREMIUM_GUILD_UPSELL_MODAL;null!=e.targetBoostedGuildTier&&(f+=" - Tier "+e.targetBoostedGuildTier);l.default.track(i.AnalyticEvents.OPEN_MODAL,{type:f,location:e.analyticsSourceLocation});var d=e.openInPopoutEnabled,y=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,c),m=o.default.getWindowOpen(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT)&&null!=d&&d;m&&(0,a.default)(i.PopoutWindowKeys.CHANNEL_CALL_POPOUT);var v=m?s.POPOUT_MODAL_CONTEXT:s.DEFAULT_MODAL_CONTEXT;(0,u.openModalLazy)(h(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2
;return Promise.all([r.e(40532),r.e(35666),r.e(11547),r.e(48534),r.e(24704),r.e(36319),r.e(96906),r.e(46234),r.e(61801),r.e(99591),r.e(89809),r.e(23046),r.e(58137),r.e(38583),r.e(22318),r.e(48485),r.e(50938),r.e(44784),r.e(23148),r.e(78833),r.e(73864),r.e(23535),r.e(51115)]).then(r.bind(r,977291));case 2:t=e.sent;o=t.default;return e.abrupt("return",(function(e){return n.createElement(o,p({},y,e))}));case 5:case"end":return e.stop()}}),e)}))),{onCloseCallback:function(){l.default.track(i.AnalyticEvents.MODAL_DISMISSED,{type:f,location:e.analyticsSourceLocation})},contextKey:v})};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]
}n.default=e;r&&r.set(e,n);return n}(r(667294)),o=f(r(902305)),a=f(r(736632)),u=r(194322),l=f(r(308920)),i=r(770348),s=r(371621),c=["openInPopoutEnabled"];function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function p(){p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return p.apply(this,arguments)}function y(e,t,r,n,o,a,u){try{var l=e[a](u),i=l.value}catch(e){r(e);return}l.done?t(i):Promise.resolve(i).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(e){y(a,n,o,u,l,"next",e)}function l(e){y(a,n,o,u,l,"throw",e)}u(void 0)}))}}},889167:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=f;var n,o,a=function(e,t){if(!t&&e&&e.__esModule)return e
;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),u=(n=r(468205))&&n.__esModule?n:{default:n},l=["width","height","color","foreground"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return s.apply(this,arguments)}function c(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={
children:void 0}),1===u)t.children=n;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){var t=e.width,r=void 0===t?24:t,n=e.height,o=void 0===n?24:n,i=e.color,f=void 0===i?"currentColor":i,d=e.foreground,p=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(e,l);return a.createElement("svg",s({},(0,u.default)(p),{width:r,height:o,viewBox:"0 0 24 24",fill:"none"}),c("path",{className:d,fill:f,d:"M20 10.9378H14.2199H8.06628L10.502 8.50202L9 7L4 12L9 17L10.502 15.498L8.06628 13.0622H20V10.9378Z"}))}f.displayName="ArrowLeft"},608921:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.MasonryListAuto=void 0;Object.defineProperty(t,"MasonryListCoordsMap",{enumerable:!0,get:function(){return l.MasonryListCoordsMap}
});Object.defineProperty(t,"MasonryListGetItemKey",{enumerable:!0,get:function(){return l.MasonryListGetItemKey}});Object.defineProperty(t,"MasonryListGrid",{enumerable:!0,get:function(){return l.MasonryListGrid}});Object.defineProperty(t,"MasonryListScrollerProps",{enumerable:!0,get:function(){return l.MasonryListScrollerProps}});Object.defineProperty(t,"MasonryListScrollerRef",{enumerable:!0,get:function(){return l.MasonryListScrollerRef}});t.MasonryListThin=void 0;Object.defineProperty(t,"MasonryListUnitCoords",{enumerable:!0,get:function(){return l.MasonryListUnitCoords}});Object.defineProperty(t,"RenderItem",{enumerable:!0,get:function(){return l.RenderItem}});Object.defineProperty(t,"RenderSection",{enumerable:!0,get:function(){return l.RenderSection}});t.default=void 0;var n,o,a,u=r(753274),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e)
;var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(27683)),i=(n=r(850612))&&n.__esModule?n:{default:n};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var c=(0,l.default)(i.default.thin,i.default.fade,null!==(o=ResizeObserver)&&void 0!==o?o:u.ResizeObserver);t.MasonryListThin=c;var f=(0,l.default)(i.default.auto,i.default.fade,null!==(a=ResizeObserver)&&void 0!==a?a:u.ResizeObserver);t.MasonryListAuto=f;var d=c;t.default=d},27683:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,r){var n=(0,l.getScrollbarSpecs)(e),c=new Map,f=new r((function(e){e.forEach((function(e){var t,r=e.target;null===(t=c.get(r))||void 0===t||t(e)}))}));return(0,
o.forwardRef)((function(r,h){var m,v=r.onScroll,g=r.dir,O=void 0===g?"ltr":g,_=r.sections,b=r.columns,I=r.getItemKey,S=r.getItemHeight,R=r.getSectionHeight,P=r.chunkSize,w=r.renderSection,M=r.renderItem,E=r.itemGutter,C=r.removeEdgeItemGutters,T=r.sectionGutter,k=r.padding,F=r.fade,A=void 0!==F&&F,j=r.className,G=r.style,N=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++){r=a[n];t.indexOf(r)>=0||(o[r]=e[r])}return o}(r,s),L=o.default.useRef(null),D=o.default.useRef(null),W=y(o.default.useState(!1),2),H=W[0],K=W[1],x=(0,l.useCachedScrollerState)(),U=x.scrollerRef,V=x.scrollerState,Q=x.getScrollerState;(0,l.usePaddingFixes)({scrollerRef:U,className:j,specs:n,orientation:"vertical",dir:O});var z=(0,l.useVirtualizedMasonryState)({sections:_,columns:b,getItemKey:I,getItemHeight:S,getSectionHeight:R,chunkSize:P,itemGutter:E,removeEdgeItemGutters:C,sectionGutter:T,padding:k,getScrollerState:Q,dir:O
}),B=z.forceUpdateOnChunkChange,$=z.coordsMap,q=z.visibleSections,Y=z.totalHeight,X=z.forceUpdate,J=z.masonryComputer,Z=(0,o.useCallback)((function(e){void 0===e&&(e=2);if(e>V.current.dirty){V.current.dirty=e;2===e?X():B(1)}}),[B,V,X]),ee=(0,l.useScrollSpring)(U),te=(0,o.useCallback)((function(){return J.itemGrid}),[J]),re=(0,o.useCallback)((function(){return J.coordsMap}),[J]),ne=o.default.useCallback((function(){return Z()}),[Z]);(0,l.useResizeObserverSubscription)({ref:U,key:"container",onUpdate:ne,resizeObserver:f,listenerMap:c});(0,o.useImperativeHandle)(h,(function(){return p({getScrollerNode:function(){return U.current},getItemGrid:te,getCoordsMap:re,getScrollerState:Q},(0,l.getAnimatedScrollHelpers)(U,Q,ee))}),[U,Q,te,ee,re]);var oe=(0,o.useCallback)((function(e){Z(1);null==L.current?K(!0):clearTimeout(L.current);L.current=setTimeout((function(){L.current=null;K(!1)}),200);null!=v&&v(e)}),[v,Z]);return o.default.createElement("div",p({ref:U,onScroll:oe,className:(0,
a.default)(j,(m={},m[e]=!0,m[t]=A,m[i.default.scrolling]=H,m)),style:(0,l.getMergedOrientationStyles)(G)},N),(0,o.useMemo)((function(){return d(u.FocusRingScope,{containerRef:D},void 0,o.default.createElement("div",{style:{height:Y},className:i.default.content,ref:D},Object.keys(q).map((function(e){var t=(0,l.getMasonryListSectionIndex)(e),r=$[e],n=q[e],o=$[(0,l.getMasonryListSectionHeaderKey)(t)];return null!=r&&null!=n?d("div",{style:r},e,null!=w&&null!=o&&w(t,o,e),n.map((function(e){var t=y(e,3),r=t[0],n=t[1],o=t[2],a=$[r];return null!=a?M(n,o,a,r):null}))):null}))))}),[q,M,w,$,Y]))}))};var n,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=o?Object.getOwnPropertyDescriptor(e,a):null
;u&&(u.get||u.set)?Object.defineProperty(n,a,u):n[a]=e[a]}n.default=e;r&&r.set(e,n);return n}(r(667294)),a=c(r(294184)),u=r(314234),l=r(167033),i=c(r(850612)),s=["onScroll","dir","sections","columns","getItemKey","getItemHeight","getSectionHeight","chunkSize","renderSection","renderItem","itemGutter","removeEdgeItemGutters","sectionGutter","padding","fade","className","style"];function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function d(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,u=arguments.length-3;if(t||0===u||(t={children:void 0}),1===u)t.children=o;else if(u>1){for(var l=new Array(u),i=0;i<u;i++)l[i]=arguments[i+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(){
p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return p.apply(this,arguments)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],u=!0,l=!1;try{for(r=r.call(e);!(u=(n=r.next()).done);u=!0){a.push(n.value);if(t&&a.length===t)break}}catch(e){l=!0;o=e}finally{try{u||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}}}]);
//# sourceMappingURL=37b647e797fb80980129.js.map