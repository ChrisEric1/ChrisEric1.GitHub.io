"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[90150],{90150:(e,r,n)=>{n.r(r);n.d(r,{default:()=>M});var t=n(785893),s=n(667294),i=n(940060),o=n(945460),a=n(721160),l=n(775173),c=n(563135),u=n(193694),d=n(2590),m=n(940455),p=n(473708),f=n(80326),b=n.n(f);function h(e,r,n,t,s,i,o){try{var a=e[i](o),l=a.value}catch(e){n(e);return}a.done?r(l):Promise.resolve(l).then(t,s)}function x(e,r,n){r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n;return e}function v(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));t.forEach((function(r){x(e,r,n[r])}))}return e}function E(e,r){r=null!=r?r:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){
var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})));n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}));return e}var O=function(e,r){var n,t,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,t&&(s=2&i[0]?t.return:i[0]?t.throw||((s=t.return)&&s.call(t),0):t.next)&&!(s=s.call(t,i[1])).done)return s;(t=0,s)&&(i=[2&i[0],s.value]);switch(i[0]){case 0:case 1:s=i;break;case 4:o.label++;return{value:i[1],done:!1};case 5:o.label++;t=i[1];i=[0];continue;case 7:i=o.ops.pop();o.trys.pop();continue;default:if(!(s=o.trys,
s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1];s=i;break}if(s&&o.label<s[2]){o.label=s[2];o.ops.push(i);break}s[2]&&o.ops.pop();o.trys.pop();continue}i=r.call(e,o)}catch(e){i=[6,e];t=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function S(e){var r=e.guild,n=l.ZP.getGuildIconURL({id:r.id,icon:r.icon,size:120});return(0,t.jsxs)(o.ModalHeader,{className:b().header,children:[(0,t.jsx)("div",{className:b().headerIconContainer,children:null!=n?(0,t.jsx)(o.Avatar,{src:n,"aria-label":r.name,size:o.AvatarSizes.SIZE_120,className:b().guildIcon}):(0,t.jsx)("div",{className:b().acronym,children:r.acronym})}),(0,t.jsxs)("div",{className:b().headerText,children:[(0,t.jsx)(o.Heading,{variant:"heading-lg/extrabold",color:"header-primary",children:p.Z.Messages.SAFETY_REMOVE_RISKY_PERMS_MODAL_TITLE}),(0,t.jsx)(o.Text,{variant:"text-md/normal",
color:"header-primary",children:p.Z.Messages.SAFETY_REMOVE_RISKY_PERMS_MODAL_SUBTITLE})]})]})}var j=function(e){return e.toString()===d.Plq.MENTION_EVERYONE.toString()?p.Z.Messages.ENABLE_COMMUNITY_MODAL_EVERYONE_ROLE_PERMISSION_MENTION_EVERYONE:(0,a.wt)(e)};function N(e){var r=e.permissions;return(0,t.jsxs)("div",{className:b().tableContainer,children:[(0,t.jsx)(o.Text,{className:b().tableHeader,variant:"text-xs/semibold",color:"text-muted",children:p.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_ENABLED_PERMISSIONS}),(0,t.jsx)("div",{className:b().permissionsTable,children:r.map((function(e,r){return(0,t.jsxs)("div",{className:b().permissionRow,children:[(0,t.jsx)("div",{className:b().bulletWarning}),(0,t.jsx)(o.Text,{variant:"text-sm/normal",color:"text-normal",children:j(e)})]},r)}))})]})}function y(e){var r=e.permissions;return(0,t.jsxs)("div",{className:b().tableContainer,children:[(0,t.jsx)(o.Text,{className:b().tableHeader,variant:"text-xs/semibold",color:"text-muted",
children:p.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_DISABLED_PERMISSIONS}),(0,t.jsx)("div",{className:b().permissionsTable,children:r.map((function(e,r){return(0,t.jsxs)("div",{className:b().permissionRow,children:[(0,t.jsx)("div",{className:b().bullet}),(0,t.jsx)(o.Text,{variant:"text-sm/normal",color:"text-muted",children:j(e)})]},r)}))})]})}function I(e){var r=e.permissions,n=r.enabledPermissions,s=r.disabledPermissions;return(0,t.jsx)(o.ModalContent,{children:(0,t.jsxs)("div",{className:b().table,children:[(0,t.jsx)(N,{permissions:n}),(0,t.jsx)(y,{permissions:s})]})})}function _(e){var r=e.onConfirm,n=e.onDismiss;return(0,t.jsxs)(o.ModalFooter,{className:b().footer,children:[(0,t.jsx)(o.Button,{onClick:r,children:p.Z.Messages.UPDATE_COMMUNICATION_NOTIFICATIONS_CONFIRMATION}),(0,t.jsx)(o.Button,{look:o.Button.Looks.LINK,onClick:n,color:o.Button.Colors.PRIMARY,children:(0,t.jsx)(o.Text,{variant:"text-sm/semibold",color:"header-primary",
children:p.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_DISMISS})})]})}function M(e){var r=e.guild,n=e.transitionState,a=e.onClose,l=s.useMemo((function(){var e=[],n=[];m.$X.map((function(t){c.ZP.canEveryone(t,r)?e.push(t):n.push(t)}));return{enabledPermissions:e,disabledPermissions:n}}),[r]);if(null==r)return null;var d,p,f=(p=(d=function(){var e,n;return O(this,(function(t){switch(t.label){case 0:if(null==(e=null==r?void 0:r.getRole(r.id)))return[2];n=i.Z.remove(e.permissions,m.mu);return[4,(0,u.Gf)(r.id,[E(v({},e),{permissions:n})])];case 1:t.sent();a();return[2]}}))},function(){var e=this,r=arguments;return new Promise((function(n,t){var s=d.apply(e,r);function i(e){h(s,n,t,i,o,"next",e)}function o(e){h(s,n,t,i,o,"throw",e)}i(void 0)}))}),function(){return p.apply(this,arguments)});return(0,t.jsxs)(o.ModalRoot,{transitionState:n,size:o.ModalSize.SMALL,className:b().modal,children:[(0,t.jsx)(S,{guild:r}),(0,t.jsx)(I,{permissions:l}),(0,t.jsx)(_,{onConfirm:f,
onDismiss:function(){a()}})]})}}}]);
//# sourceMappingURL=b8ce83edcf5c991686bc.js.map