(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{1530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=n?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=r(3);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function l(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var i=function(e){return l("div",{className:e.className,id:a.ALERT_MOUNT_POINT_ID})};i.displayName="AlertMountPoint";var s=i;t.default=s},1531:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=S(r(1)),o=g(r(5)),l=r(73),i=S(r(129)),s=g(r(1532)),u=S(r(182)),f=g(r(183)),c=g(r(184)),d=r(419),p=g(r(1533)),v=r(18),h=g(r(1292)),y=g(r(1312));function g(e){return e&&e.__esModule?e:{default:e}}function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function S(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=m();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function O(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var b="UPLOAD_SELECT_OPTION",_=[".jpg",".jpeg",".png",".mp4",".gif"],M=function(e){var t=e.image,r=e.label;return O("div",{className:y.default.assetOption},void 0,O("div",{className:y.default.imageWrapper},void 0,t),O("div",{className:y.default.labelWrapper},void 0,r))};M.displayName="AssetSelectOption";var A=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).uploadOptionRef=a.createRef(),t.state={hasUploadedAsset:!1,assetUploadError:null,isUploading:!1},t.handleSelectChange=function(e){var r=t.props.onChange;if(null==e||e.value!==b)r(e);else{if(null==t.uploadOptionRef||null==t.uploadOptionRef.current)return;t.uploadOptionRef.current.click()}},t.handleAssetUpload=function(e){e.stopPropagation();var r=e.currentTarget.files[0];t.setState({isUploading:!0},function(){i.uploadStoreAsset(t.props.match.params.id,{filename:(0,d.normalizeFilename)(r.name),file:r}).then(function(){return t.setState({hasUploadedAsset:!0,assetUploadError:null,isUploading:!1})}).catch(function(e){return t.setState({hasUploadedAsset:!1,assetUploadError:e.message,isUploading:!1})})})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=n.prototype;return l.getAssetOptions=function(){var e=this,t=this.props.assets.map(function(t){return{label:e.renderAsset(t),value:t.id}});return t.unshift({label:O(M,{image:O(u.default,{name:u.IconNames.UPLOAD,className:y.default.icon}),label:v.Messages.Actions.UPLOAD_ASSET}),value:b}),t},l.renderAsset=function(e){var t=(0,this.props.getAssetUri)(e),r=(0,d.isAssetVideo)(e)?O(u.default,{className:y.default.icon,name:u.IconNames.VIDEO_CAMERA}):O(s.default,{className:y.default.image,assetUri:t||""});return O(M,{image:r,label:(0,d.getAssetLabel)(e)})},l.renderAssetUploadStatus=function(){var e=this.state,t=e.hasUploadedAsset,r=e.assetUploadError;return t?O(p.default,{type:p.default.Types.SUCCESS},void 0,v.Messages.Alerts.ASSET_UPLOADED):null!=r?O(p.default,{type:p.default.Types.ERROR},void 0,r):null},l.render=function(){var e,t=this.props,r=t.selectedAssetId,n=t.restrictWidth,l=t.className,i=t.clearable,s=t.name,u=this.state.isUploading;return O(a.Fragment,{},void 0,O("div",{className:y.default.assetSelectWrapper},void 0,O(f.default,{className:(0,o.default)((e={},e[h.default.restrictedWidth]=n,e),y.default.assetSelect,l),clearable:i,searchable:!1,onChange:this.handleSelectChange,options:this.getAssetOptions(),value:r,name:s}),u?O(c.default,{type:c.default.Type.PULSING_ELLIPSIS}):O("div",{className:y.default.spinnerPlaceholder})),a.createElement("input",{accept:_.join(","),ref:this.uploadOptionRef,className:y.default.fileInput,type:"file",onChange:this.handleAssetUpload}),this.renderAssetUploadStatus())},n}(a.Component);A.displayName="AssetSelect",A.defaultProps={clearable:!1,restrictWidth:!1};var P=(0,l.withRouter)(A);t.default=P},1532:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=f(r(1)),o=s(r(5)),l=f(r(60)),i=s(r(1311));function s(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).imagePlaceholderRef=a.createRef(),t.state={isHovered:!1},t.getAssetStyle=function(){var e={backgroundImage:"url("+t.props.assetUri};if(null!=t.imagePlaceholderRef.current){var r=t.imagePlaceholderRef.current.getBoundingClientRect();e.position="fixed",e.left=r.left-r.width/2,e.top=r.top-r.height/2}return e},t.handleMouseEnter=function(){t.setState({isHovered:!0})},t.handleMouseLeave=function(){t.setState({isHovered:!1})},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.assetUri,r=e.className,n=this.state.isHovered;return c(a.Fragment,{},void 0,a.createElement("div",{ref:this.imagePlaceholderRef,className:(0,o.default)(i.default.placeholderImage,r),onMouseEnter:this.handleMouseEnter,style:{backgroundImage:"url("+t}}),n?l.createPortal(c("div",{className:(0,o.default)(i.default.image,this.props.className),style:this.getAssetStyle(),onMouseLeave:this.handleMouseLeave}),window.document.body):null)},n}(a.Component);t.default=d,d.displayName="ExpandOnHover"},1533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(1)),a=u(r(5)),o=c(r(60)),l=c(r(127)),i=r(3),s=u(r(1282));function u(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=function(e){var t,r;function u(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={alertMountPoint:null},t}r=e,(t=u).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var f=u.prototype;return f.componentDidMount=function(){var e=document.getElementById(i.ALERT_MOUNT_POINT_ID);null!=e&&this.setState({alertMountPoint:e})},f.render=function(){var e=this.props,t=e.className,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["className"]),i=this.state.alertMountPoint;return null==i?null:o.createPortal(n.createElement(l.default,d({},r,{className:(0,a.default)(s.default.formStatusAlert,t)})),i)},u}(n.Component);t.default=p,p.displayName="AlertStatusPortal",p.Types=l.AlertTypes},1570:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=f(r(5)),l=f(r(1540)),i=f(r(134)),s=f(r(192)),u=f(r(1314));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=new RegExp("https?://"+(window.GLOBAL_ENV.CDN_HOST||""));function h(e){return"string"==typeof e.content?e.content:m(e)}var y=p({},i.default.defaultRules,{paragraph:p({},i.default.defaultRules.paragraph,{react:function(e,t,r){return d("div",{className:u.default.paragraph},r.key,t(e.content,r))}}),strong:p({},i.default.defaultRules.strong,{order:6}),em:p({},i.default.defaultRules.em,{order:6}),u:p({},i.default.defaultRules.u,{order:5}),del:p({},i.default.defaultRules.del,{order:6}),link:p({},i.default.defaultRules.link,{order:6}),blockQuote:p({},i.default.defaultRules.blockQuote,{react:function(e,t,r){return d("blockquote",{className:u.default.blockquote},r.key,h(e.content))}}),image:p({},i.default.defaultRules.image,{order:6,match:function(e,t,r){var n=i.default.defaultRules.image;if(null==n||null==n.match)return!1;var a=n.match(e,t,r);if(null!=a&&Array.isArray(a)&&a.length>=3){var o=a[2];if("string"==typeof o)return null!=o.match(v)?a:null}return!1}}),inlineCode:p({},i.default.defaultRules.inlineCode,{order:6,react:function(e,t,r){return d("code",{className:u.default.codeInline},r.key,h(e))}}),codeBlock:p({},i.default.defaultRules.codeBlock,{react:function(e,t,r){if(e.lang&&null!=l.default.getLanguage(e.lang)){var n=l.default.highlight(e.lang,e.content,!0);return d(s.default,{},void 0,d("pre",{},r.key,d("code",{className:(0,o.default)("hljs",n.language),dangerouslySetInnerHTML:{__html:n.value}})))}return d(s.default,{},void 0,d("pre",{},r.key,d("code",{className:"hljs"},void 0,h(e))))}})}),g=i.default.parserFor(y),m=i.default.reactFor(i.default.ruleOutput(y,"react")),S=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getParsedMarkdown=function(){var e=this.props,t=e.children,r=e.parsedMarkdown,n=e.parser,a=e.output,o=e.state;return null!=r?r:null==t||null==a||null==n?null:a(n(t+"\n\n",p({inline:!1},o)))},a.render=function(){return d("div",{className:(0,o.default)(u.default.markdown,this.props.className)},void 0,this.getParsedMarkdown())},n}(a.PureComponent);S.displayName="Markdown",S.rules=y,S.defaultProps={parser:g,output:m};var O=S;t.default=O},1581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSnakeCase=function(e){var t={};return Object.keys(e).forEach(function(r){var n=r.replace(/([A-Z]+|[0-9])/g,function(e){return"_"+e.toLowerCase()});t[n]=e[r]}),t},t.setSelectionRange=t.getSelectionPosition=void 0;t.getSelectionPosition=function(e){if(null!=e.selectionStart)return{selectionEnd:e.selectionEnd,selectionStart:e.selectionStart};var t=e.value.length;return{selectionEnd:t,selectionStart:t}};t.setSelectionRange=function(e,t){var r=t.selectionEnd,n=t.selectionStart;e.focus(),e.selectionStart=n,e.selectionEnd=r}},1582:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=s(r(40)),l=s(r(29)),i=s(r(1318));function s(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).changeTab=function(){var e=t.props,r=e.name;(0,e.handleClick)(r)},t}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,r=e.children;return f(l.default,{onClick:this.changeTab,size:l.default.Sizes.MEDIUM_SMALL,weights:l.default.Weights.MEDIUM,className:t?i.default.navItemActive:i.default.navItemInactive},void 0,r)},t}(a.Component);d.displayName="TabLink";var p=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={activeTab:t.props.tabs[0].name},t.changeTab=function(e){var r=t.props.onTabChange;null!=r&&r(e),t.setState({activeTab:e})},t.renderHeader=function(){var e=t.props.tabs,r=t.state.activeTab;return f(o.default,{direction:o.default.Direction.HORIZONTAL,justify:o.default.Justify.START,wrap:o.default.Wrap.NO_WRAP,grow:0,className:i.default.headerWrap},void 0,e.map(function(e){return f(d,{name:e.name,isActive:r===e.name,handleClick:t.changeTab},"tab-"+e.name,e.label)}))},t.renderContent=function(){var e=t.props.tabs,r=t.state.activeTab,n=e.find(function(e){return e.name===r});return null==n||null==n.content?null:n.content},t}return c(t,e),t.prototype.render=function(){return f("div",{className:i.default.tabWrapper},void 0,this.renderHeader(),this.renderContent())},t}(a.Component);t.default=p,p.displayName="Tabs"},1803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=F(r(1)),o=r(73),l=W(r(12)),i=F(r(129)),s=r(1460),u=W(r(128)),f=W(r(186)),c=W(r(1476)),d=F(r(127)),p=F(r(408)),v=W(r(192)),h=W(r(184)),y=W(r(1582)),g=r(130),m=(r(97),r(1581)),S=r(1804),O=W(r(1530)),b=W(r(1531)),_=W(r(414)),M=W(r(409)),A=W(r(1417)),P=r(1441),E=W(r(1499)),R=W(r(1796)),N=W(r(412)),I=W(r(410)),w=W(r(415)),T=W(r(1425)),j=W(r(413)),L=W(r(416)),D=W(r(2575)),C=r(3),k=r(18),U=W(r(1384));function W(e){return e&&e.__esModule?e:{default:e}}function G(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return G=function(){return e},e}function F(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=G();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function H(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var $=Object.freeze({SUMMARY:"summary",DESCRIPTION:"description",TAGLINE:"tagline"}),x={hasUnsavedChanges:!1,error:null,hasSubmitted:!1,submitting:!1,lastFormReset:Date.now()},Y=function(e,t){return"default"===e.getFieldMessage(t)?k.Messages.Alerts.DEFAULT_VALUE_NOT_SPECIFIED.format({fieldName:t}):null},B=H(h.default,{}),z=H(E.default,{}),X=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).errorRef=a.createRef(),t.longDescriptionRef=a.createRef(),t.state=V({},x,{isLoading:!0}),t.getAssetUri=function(e){return(0,g.getStoreAssetImage)(t.props.match.params.id,e)},t.handleFormChange=function(){t.state.hasUnsavedChanges||t.setState({hasUnsavedChanges:!0})},t.handleFormReset=function(){t.setDefaultTextAreaValues(),t.setState(V({},x))},t.setDefaultTextAreaValues=function(){var e=t.props,r=e.storeListing,n=e.setLocalizedFieldValues;if(null!=r){var a=r.description||{default:null};n($.SUMMARY,r.summary),n($.DESCRIPTION,a),null!=r.tagline&&n($.TAGLINE,r.tagline)}},t.handleAssetSelect=function(e){var r=t.longDescriptionRef.current,n=t.props.setFieldValue;if(null!=r){var a=(0,m.getSelectionPosition)(r),o=a.selectionEnd,l=a.selectionStart,i=r.value.substring(0,l),s=r.value.substring(o,r.value.length),u=(0,S.getAssetMarkdown)(e.value);n($.DESCRIPTION,""+i+u+s,!0,function(){var e=t.longDescriptionRef.current,r=l+u.length;(0,m.setSelectionRange)(e,{selectionEnd:r,selectionStart:r}),t.handleFormChange()})}},t.handleSave=function(){var e=t.props,r=e.storeListing,n=e.getLocalizedFieldValues;if(null!=r){var a=V({},r,{summary:n($.SUMMARY)||{default:""},description:n($.DESCRIPTION)||{default:""},tagline:n($.TAGLINE)});t.setState({submitting:!0}),(0,s.updateStoreListing)(r.id,a).then(function(){t.setState({hasUnsavedChanges:!1,hasSubmitted:!0,submitting:!1,error:null,lastFormReset:Date.now()})}).catch(function(e){t.setState({error:Y(e,$.SUMMARY)||Y(e,$.DESCRIPTION)||k.Messages.Alerts.ERROR,submitting:!1,hasSubmitted:!1,lastFormReset:Date.now()},function(){null!=t.errorRef.current&&t.errorRef.current.scrollIntoView()})})}},t.renderTabs=function(){var e=t.props.getFieldValue,r=[{label:k.Messages.StoreListingDescriptions.EDIT_DESCRIPTION,content:H(a.Fragment,{},void 0,t.renderAssetInsertion(),a.createElement(R.default,{name:$.DESCRIPTION,maxLength:C.MAXIMUM_STORE_LISTING_DESCRIPTION_LENGTH,className:U.default.descriptionTextArea,placeholder:k.Messages.SkuManagement.WRITE_YOUR_DESCRIPTION_HERE,ref:t.longDescriptionRef})),name:"edit"},{label:k.Messages.StoreListingDescriptions.PREVIEW,content:H(v.default,{fade:!0,className:U.default.scroller,theme:v.default.Themes.GHOST},void 0,H(D.default,{className:U.default.descriptionPreview},void 0,e($.DESCRIPTION))),name:"preview"}];return H(y.default,{tabs:r})},t.renderSummarySection=function(){return H(I.default,{},void 0,H(w.default,{},void 0,k.Messages.StoreListingDescriptions.SHORT_SUMMARY),H(T.default,{},void 0,k.Messages.StoreListingDescriptions.SUMMARY_SUBTITLE),H(p.default,{},void 0,H(p.GridSection,{},void 0,H(p.GridChild,{columnSpread:12},void 0,H(M.default,{},void 0,k.Messages.StoreListingDescriptions.SHORT_SUMMARY),H(R.default,{name:$.SUMMARY,maxLength:C.MAXIMUM_STORE_LISTING_SUMMARY_LENGTH,placeholder:k.Messages.StoreListingDescriptions.WRITE_YOUR_SUMMARY_HERE})))))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.componentDidMount=function(){var e=this,t=this.props.match;Promise.all([(0,s.fetchStoreListings)(t.params.skuId),i.fetchStoreAssets(t.params.id)]).then(function(){e.setState({isLoading:!1}),e.setDefaultTextAreaValues()})},o.componentDidUpdate=function(e){null==e.storeListing&&null!=this.props.storeListing&&this.setDefaultTextAreaValues()},o.renderFormStatus=function(){var e=this.state,t=e.error,r=e.hasSubmitted;return null!=t?a.createElement("div",{ref:this.errorRef},H(A.default,{type:A.default.Types.ERROR},void 0,t)):r?H(A.default,{type:A.default.Types.SUCCESS},void 0,k.Messages.Alerts.SUCCESS_CHANGES_SAVED):null},o.renderAssetInsertion=function(){var e=this.props.storeAssets;return null==e||0===e.length?null:H("div",{className:U.default.assetSelectWrapper},void 0,H(b.default,{assets:e,getAssetUri:this.getAssetUri,onChange:this.handleAssetSelect,restrictWidth:!0}))},o.render=function(){var e=this.state,t=e.hasUnsavedChanges,r=e.submitting,n=e.isLoading,o=e.lastFormReset,l=this.renderFormStatus();return n?B:H(a.Fragment,{},void 0,H(I.default,{},void 0,H(N.default,{},void 0,k.Messages.StoreListingDescriptions.DESCRIPTIONS),H(j.default,{isFlush:!0},void 0,k.Messages.StoreListingDescriptions.DESCRIPTIONS_SUBTITLE),l),H(I.default,{},void 0,H(p.default,{},void 0,H(p.GridSection,{},void 0,H(p.GridChild,{columnSpread:12},void 0,H(d.default,{className:U.default.localePickerInfo,type:d.AlertTypes.INFO},void 0,k.Messages.SkuManagement.LOCALE_DROPDOWN_DESCRIPTION)),H(p.GridChild,{columnSpread:3,columnSpreadMedium:4,columnSpreadSmallMedium:5,columnSpreadSmall:8,columnSpreadExtraSmall:10},void 0,H(M.default,{},void 0,k.Messages.StoreListingDescriptions.CHOOSE_LOCALE),z)))),H(_.default,{onChange:this.handleFormChange},void 0,H(I.default,{},void 0,H(w.default,{},void 0,k.Messages.StoreListingDescriptions.TAGLINE),H(T.default,{},void 0,k.Messages.StoreListingDescriptions.TAGLINE_SUBHEADING),H(p.default,{},void 0,H(p.GridSection,{},void 0,H(p.GridChild,{columnSpread:12},void 0,H(M.default,{},void 0,k.Messages.StoreListingDescriptions.TAGLINE),H(R.default,{name:$.TAGLINE,maxLength:C.MAXIMUM_STORE_LISTING_TAGLINE_LENGTH,placeholder:k.Messages.StoreListingDescriptions.WRITE_YOUR_TAGLINE_HERE}))))),this.renderSummarySection(),H(I.default,{},o,H(w.default,{},void 0,k.Messages.StoreListingDescriptions.LONG_DESCRIPTION),H(T.default,{},void 0,k.Messages.StoreListingDescriptions.DESCRIPTION_SUBTITLE),H(O.default,{className:U.default.assetUploadAlertWrapper}),H(p.default,{},void 0,H(p.GridSection,{},void 0,H(p.GridChild,{columnSpread:12},void 0,H(M.default,{},void 0,k.Messages.StoreListingDescriptions.LONG_DESCRIPTION),this.renderTabs())))),H(L.default,{isVisible:t,actionCopy:k.Messages.Actions.PUBLISH_CHANGES,onReset:this.handleFormReset,onSave:this.handleSave,submitting:r})))},n}(a.Component);X.displayName="Descriptions";var J=l.default.connectStores([f.default,u.default,c.default],function(e){var t=e.match.params,r=t.id,n=t.skuId;return{sku:f.default.getSku(n),storeAssets:u.default.getStoreAssets(r),storeListing:c.default.getCurrentStoreListing(n)}})((0,o.withRouter)((0,P.withLocalizedFormProvider)((0,P.withLocalizedFormConsumer)(X))));t.default=J},1804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASSET_REGEX=t.getAssetMarkdown=void 0;t.getAssetMarkdown=function(e){return"![](asset://"+e+")"};t.ASSET_REGEX=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/},2575:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(r(1)),o=r(73),l=v(r(134)),i=v(r(12)),s=v(r(128)),u=v(r(2576)),f=v(r(1570)),c=r(130),d=r(1804),p=v(r(1383));function v(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m=g({},f.default.rules,{heading:g({},f.default.rules.heading,{react:function(e,t,r){var n="h"+Math.min(Math.max(2,e.level+1),4);return y(u.default,{tag:n},r.key,t(e.content,r))}}),assetImage:{order:5,match:function(e,t){var r=e.match(d.ASSET_REGEX);if(null!=r){var n=r[2],a=t.assets.find(function(e){return e.id===n});return null!=a&&[].concat(r,[a,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,r){return y("div",{className:p.default.assetWrapper},r.key,y("img",{alt:e.alt,src:(0,c.getStoreAssetImage)(e.applicationId,e.asset,c.Sizes.X_LARGE),className:p.default.asset}))}}}),S=l.default.parserFor(m),O=l.default.ruleOutput(m,"react"),b=l.default.reactFor(O),_=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.storeAssets,r=e.className,n=e.children,a=e.match;return y(f.default,{className:r,parser:S,output:b,state:{applicationId:a.params.id,assets:t}},void 0,n)},n}(a.Component);_.displayName="StoreListingMarkdownPreview";var M=(0,o.withRouter)(i.default.connectStores([s.default],function(e){return{storeAssets:s.default.getStoreAssets(e.match.params.id)}})(_));t.default=M},2576:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r)}(r(1));var n,a=l(r(5)),o=l(r(1382));function l(e){return e&&e.__esModule?e:{default:e}}function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}t.default=function(e){var t=e.children,r=e.tag,l=e.className;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),1===l)t.children=a;else if(l>1){for(var i=new Array(l),s=0;s<l;s++)i[s]=arguments[s+3];t.children=i}if(t&&o)for(var u in o)void 0===t[u]&&(t[u]=o[u]);else t||(t=o||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(r=null!=r?r:"h3",{className:(0,a.default)(o.default.title,l)},void 0,t)}}}]);
//# sourceMappingURL=0d0b05460b60f8123756.js.map