"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[49244],{343639:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(785893),i=(t(667294),t(213276));function o(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){o(e,n,t[n])}))}return e}function a(e,n){return function(t){return(0,r.jsx)(i.Z,{page:n.page,section:n.section,object:n.object,objectType:n.objectType,children:(0,r.jsx)(e,u({},t))})}}},567678:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(785893),i=(t(667294),t(19585));function o(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function u(e){
for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){o(e,n,t[n])}))}return e}function a(e,n){return function(t){var o=(0,i.Z)(n).AnalyticsLocationProvider;return(0,r.jsx)(o,{children:(0,r.jsx)(e,u({},t))})}}},82055:(e,n,t)=>{t.d(n,{Z:()=>H});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),u=t(57141),a=t(875700),l=t(579581),c=t(19585),s=t(28661),f=t(73727),d=t(598007),p=t(557162),b=t(47038),y=t(304493),v=t(979965),O=t(736818),I=t(61209),m=t(27851),h=t(567403),g=t(682776),Z=t(491260),j=t(840922),S=t(715107),E=t(436154),_=t(473903),P=t(407561),w=t(453007),T=t(773148),N=t(582762),C=t(258104),A=t(61040),x=t(774189),M=t(545580),D=t(71854),L=t(375342),U=t(483535),k=t(595258),R=t(88067),G=t(2590),V=t(966334),Y=t(473708);function F(e,n){
(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function B(e,n,t,r,i,o,u){try{var a=e[o](u),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,i)}function J(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){B(o,r,i,u,a,"next",e)}function a(e){B(o,r,i,u,a,"throw",e)}u(void 0)}))}}function W(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function K(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function q(e){
return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=function(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{
if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function H(e,n){var F=(0,c.Z)().analyticsLocations,B=(0,i.e7)([_.default],(function(){return _.default.getCurrentUser()})),H=(0,i.e7)([C.ZP],(function(){return C.ZP.getSelfEmbeddedActivities()})),X=(0,i.Wu)([E.Z],(function(){return E.Z.getActivities().filter((function(e){
return null!=e.application_id&&!(null==H?void 0:H.has(e.application_id))}))})),$=(0,i.Wu)([Z.Z],(function(){return null!=n?Z.Z.getActivities(n.id,null==e?void 0:e.getGuildId()):[]}),[n,e]),Q=(0,i.Wu)([C.ZP],(function(){var t=null!=(null==e?void 0:e.id)?C.ZP.getEmbeddedActivitiesForChannel(e.id):C.i6;return null!=n?t.filter((function(e){return e.connections.has(n.id)})):t}),[n,e]),ee=(0,U.Z)(),ne=(0,i.e7)([g.Z],(function(){return null==e||e.isPrivate()||g.Z.can(G.Plq.SEND_MESSAGES,e)}),[e]),te=(0,i.Wu)([w.Z],(function(){return q($.map((function(e){return null!=e.application_id&&w.Z.getState(e.application_id,G.mFx.JOIN)===G.OcF.LOADING}))).concat(q(Q.map((function(e){return w.Z.getState(e.application_id,G.mFx.JOIN)===G.OcF.LOADING}))))}),[$,Q]),re=(0,s.Z)(q($.filter((function(e){return null!=(null==e?void 0:e.application_id)})).map((function(e){return e.application_id}))).concat(q(Q.map((function(e){return e.application_id}))))),ie=(0,i.Wu)([I.Z,h.Z,m.Z,j.Z,S.Z,P.Z,g.Z],(function(){
return q($.map((function(t){return(0,x.Z)({user:null!=n?n:B,activity:t,application:re.find((function(e){return(null==e?void 0:e.id)===t.application_id})),channelId:null==e?void 0:e.id,currentUser:B,isEmbedded:(0,D.Z)(t),ChannelStore:I.Z,GuildStore:h.Z,GuildMemberCountStore:m.Z,RelationshipStore:j.Z,SelectedChannelStore:S.Z,VoiceStateStore:P.Z,PermissionStore:g.Z})}))).concat(q(Q.map((function(t){return(0,x.Z)({user:null!=n?n:B,activity:t,application:re.find((function(e){return(null==e?void 0:e.id)===t.application_id})),channelId:null==e?void 0:e.id,currentUser:B,isEmbedded:!0,ChannelStore:I.Z,GuildStore:h.Z,GuildMemberCountStore:m.Z,RelationshipStore:j.Z,SelectedChannelStore:S.Z,VoiceStateStore:P.Z,PermissionStore:g.Z})}))))}),[$,B,Q,n]),oe=(0,i.Wu)([f.Z,O.default],(function(){return $.map((function(e){return e.type===G.IIU.LISTENING&&null!=n?(0,b.Z)(f.Z,O.default,n,e):void 0}))}),[n,$]),ue=(0,l.O)();if(!ne)return null;var ae,le=function(t,r){null!=e?u.Z.sendActivityInvite({type:t,
channelId:e.id,activity:r,location:G.Sbl.CONTEXT_MENU}):null!=n&&u.Z.sendActivityInviteUser({type:t,userId:n.id,activity:r,location:G.Sbl.CONTEXT_MENU})},ce=function(i,u){var a=I.Z.getChannel(i),l=null==a?void 0:h.Z.getGuild(a.guild_id);if(null!=a&&null!=l)return null!=n?N.pu({channelId:a.id,applicationId:u,userId:n.id,location:G.t4x.CONTEXT_MENU}):null!=e&&e.type===G.d4z.GUILD_VOICE?(0,o.openModalLazy)(J((function(){var n,i;return z(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(3790),t.e(54765),t.e(56356),t.e(47956),t.e(39813),t.e(95357),t.e(51965)]).then(t.bind(t,654765))];case 1:n=o.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,K(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){W(e,n,t[n])
}))}return e}({},n),{guild:l,channel:a,applicationId:u,analyticsLocation:e.type===G.d4z.GUILD_VOICE?G.ZY5.GUILD_CHANNEL:G.ZY5.DM_CHANNEL,source:G.t4x.ACTIVITY_INVITE}))}]}}))})),{modalKey:"use-activity-items-embedded-invite-modal"}):null!=(null==e?void 0:e.id)?N.sN({activityChannelId:a.id,invitedChannelId:e.id,applicationId:u,location:G.t4x.CONTEXT_MENU}):void 0},se=(ae=J((function(e){var t;return z(this,(function(r){switch(r.label){case 0:return[4,a.Z.join({userId:n.id,sessionId:e.session_id,applicationId:e.application_id,channelId:S.Z.getVoiceChannelId(),messageId:null,intent:R.Ws.PLAY,embedded:(0,M.Z)(e,G.xjy.EMBEDDED)})];case 1:r.sent();(0,L.Z)({type:G.q5t.JOIN,userId:n.id,applicationId:e.application_id,partyId:null===(t=e.party)||void 0===t?void 0:t.id,locationObject:ue.location,analyticsLocations:F});return[2]}}))})),function(e){return ae.apply(this,arguments)}),fe=function(){var n=J((function(n){return z(this,(function(t){switch(t.label){case 0:return[4,(0,A.Z)({activity:n,
currentEmbeddedApplication:ee,activityChannelId:null==e?void 0:e.id,locationObject:ue.location,embeddedActivitiesManager:k.Z,analyticsLocations:F})];case 1:t.sent();return[2]}}))}));return function(e){return n.apply(this,arguments)}}(),de=[];null==H||H.forEach((function(t){var i=null!=(null==n?void 0:n.id)&&t.connections.has(null==n?void 0:n.id),u=g.Z.can(G.Plq.CREATE_INSTANT_INVITE,e);null!=t.activity_id&&!i&&u&&de.push((0,r.jsx)(o.MenuItem,{id:"invite-to-join-embedded",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_JOIN,subtext:t.name,action:function(){ce(t.channelId,t.application_id)}},"self-embedded-".concat(t.application_id)))}));X.forEach((function(e,n){e.type===G.IIU.PLAYING&&(0,M.Z)(e,G.xjy.JOIN)?de.push((0,r.jsx)(o.MenuItem,{id:"invite-to-join",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_JOIN,subtext:e.name,action:function(){return le(G.mFx.JOIN,e)}},"self".concat(n))):e.type===G.IIU.LISTENING&&(0,M.Z)(e,G.xjy.SYNC)&&de.push((0,r.jsx)(o.MenuItem,{
id:"invite-to-listen",label:Y.Z.Messages.USER_ACTIVITY_ACTION_INVITE_TO_LISTEN_ALONG,subtext:e.name,action:function(){return le(G.mFx.LISTEN,e)}},"self".concat(n)))}));de.length>0&&de.push((0,r.jsx)(o.MenuSeparator,{}));$.forEach((function(t,i){if(t.type===G.IIU.PLAYING&&(0,M.Z)(t,G.xjy.JOIN)&&null!=t.session_id&&null!=t.application_id)if(ie[i]){var u=te[i];de.push((0,r.jsx)(o.MenuItem,{id:"join",label:u?Y.Z.Messages.USER_ACTIVITY_JOINING:Y.Z.Messages.JOIN,disabled:u,hint:u?(0,r.jsx)(o.Spinner,{type:o.Spinner.Type.PULSING_ELLIPSIS}):null,subtext:t.name,action:function(){return se(t)}},i))}else de.push((0,r.jsx)(o.MenuItem,{id:"ask-to-join",label:Y.Z.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN,subtext:t.name,action:function(){return le(G.mFx.JOIN_REQUEST,t)}},i));else if(t.type===G.IIU.LISTENING&&(0,M.Z)(t,G.xjy.SYNC)&&null!=oe[i]){var a=oe[i],l=a.notPlayable,c=a.playingSameTrack,s=a.isCurrentUser,f=a.syncingWithUser,b=a.syncingWithParty,O=s||l||c,I=s||f||b;de.push((0,r.jsx)(o.MenuItem,{
id:"spotify-play-".concat(t.session_id),action:function(){return(0,v.Z)(a,V.kG.USER_ACTIVITY_PLAY)},label:(0,d.Z)(a,V.kG.USER_ACTIVITY_PLAY),subtext:O?(0,p.Z)(a,V.kG.USER_ACTIVITY_PLAY,null!=e?T.Z.getNickname(e.guild_id,e.id,n):void 0):void 0,disabled:O},"spotify-play-".concat(t.session_id)),(0,r.jsx)(o.MenuItem,{id:"spotify-sync-".concat(t.session_id),action:function(){return(0,y.Z)(a,V.kG.USER_ACTIVITY_SYNC)},label:Y.Z.Messages.USER_ACTIVITY_LISTEN_ALONG,subtext:I?(0,p.Z)(a,V.kG.USER_ACTIVITY_SYNC,null!=e?T.Z.getNickname(e.guild_id,e.id,n):void 0):void 0,disabled:I},"spotify-sync-".concat(t.session_id)))}}));Q.forEach((function(e,n){var t,i=e.connections.has(null!==(t=null==B?void 0:B.id)&&void 0!==t?t:""),u=n+$.length,a=te[u]||i,l=Y.Z.Messages.EMBEDDED_ACTIVITIES_JOIN_ACTIVITY;i?l=Y.Z.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:te[u]&&(l=Y.Z.Messages.USER_ACTIVITY_JOINING);ie[u]&&de.push((0,r.jsx)(o.MenuItem,{id:"embedded-activity-join-".concat(e.application_id),label:l,disabled:a,
hint:te[u]?(0,r.jsx)(o.Spinner,{type:o.Spinner.Type.PULSING_ELLIPSIS}):null,subtext:e.name,action:function(){return fe(e)}},"embedded-activity-".concat(e.application_id)))}));return de}},662851:(e,n,t)=>{t.d(n,{Z:()=>v});var r=t(785893),i=t(667294),o=t(202351),u=t(945460),a=t(560923),l=t(840922),c=t(473903),s=t(473708);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){d(e,n,t[n])}))}return e}function b(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,a=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name)
;if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ContextMenu",t=function(){(0,u.openModal)((function(e){return(0,r.jsx)(u.ConfirmModal,b(p({header:s.Z.Messages.REMOVE_FRIEND_TITLE.format({name:d}),confirmText:s.Z.Messages.REMOVE_FRIEND,cancelText:s.Z.Messages.CANCEL,onConfirm:function(){a.Z.removeFriend(f,{location:n});j(!1)}},e),{children:(0,r.jsx)(u.Text,{variant:"text-md/normal",children:s.Z.Messages.REMOVE_FRIEND_BODY.format({name:d})})}))}))},f=e.id,d=e.username,v=e.bot,O=(0,o.e7)([c.default],(function(){var e;return(null===(e=c.default.getCurrentUser())||void 0===e?void 0:e.id)===f}),[f]),I=y((0,o.Wu)([l.Z],(function(){
return[l.Z.isFriend(f),l.Z.isBlocked(f)]}),[f]),2),m=I[0],h=I[1],g=y(i.useState(!1),2),Z=g[0],j=g[1];return v||O?null:m?(0,r.jsx)(u.MenuItem,{id:"remove-friend",label:s.Z.Messages.REMOVE_FRIEND,action:t}):(0,r.jsx)(u.MenuItem,{id:"add-friend",label:Z?s.Z.Messages.ADD_FRIEND_BUTTON_AFTER:s.Z.Messages.ADD_FRIEND,action:function(){if(!Z){a.Z.addRelationship({userId:f,context:{location:n}});j(!0)}},disabled:h||Z&&!m})}},343315:(e,n,t)=>{t.d(n,{Z:()=>b});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),u=t(840922),a=t(473708);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n,t,r,i,o,u){try{var a=e[o](u),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){c(o,r,i,u,a,"next",e)}function a(e){c(o,r,i,u,a,"throw",e)}u(void 0)}))}}function f(e,n,t){n in e?Object.defineProperty(e,n,{
value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,a=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e,n){var t,r,i,o,u={label:0,sent:function(){
if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}
}([o,a])}}};function b(e){var n,l=e.id,c=d((0,i.Wu)([u.Z],(function(){return[u.Z.isFriend(l),null!==(n=u.Z.getNickname(l))&&void 0!==n?n:null]}),[l]),2),b=c[0],y=c[1];if(!b)return null;var v=null==y?"add-friend-nickname":"edit-friend-nickname",O=null==y?a.Z.Messages.ADD_FRIEND_NICKNAME:a.Z.Messages.CHANGE_FRIEND_NICKNAME;return(0,r.jsx)(o.MenuItem,{id:v,label:O,action:function(){(0,o.openModalLazy)(s((function(){var n,i;return p(this,(function(o){switch(o.label){case 0:return[4,Promise.all([t.e(40532),t.e(19763)]).then(t.bind(t,119763))];case 1:n=o.sent(),i=n.default;return[2,function(n){return(0,r.jsx)(i,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){f(e,n,t[n])}))}return e}({user:e,nickname:y},n))}]}}))})))}})}},171384:(e,n,t)=>{
t.d(n,{Z:()=>b});var r=t(785893),i=t(667294),o=t(945460),u=t(942492),a=t(924417),l=t(736818),c=t(793461),s=t(652591),f=t(2590),d=t(960412),p=t(473708);function b(e){var n=e.user,t=e.guildId,b=e.context,y=n.id,v=(0,u.Z)(y),O=v.loading,I=v.note,m=!O&&null!=I&&I.length>0,h=b===f.IlC.POPOUT,g=i.useContext(s.AnalyticsContext);return y===l.default.getId()||c.Z.hidePersonalInformation||h?null:(0,r.jsx)(o.MenuItem,{id:"note",label:O?p.Z.Messages.LOADING_NOTE:m?p.Z.Messages.EDIT_NOTE:p.Z.Messages.ADD_NOTE,action:function(){(0,a.m)({userId:n.id,section:d.oh.USER_INFO,guildId:t,autoFocusNote:!0,analyticsLocation:g.location})}})}},836448:(e,n,t)=>{t.d(n,{Z:()=>b});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),u=t(560923),a=t(840922),l=t(473903),c=t(2590),s=t(473708);function f(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){f(e,n,t[n])}))}return e}function p(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ContextMenu",t=function(){u.Z.addRelationship({userId:f,context:{location:n},type:c.OGo.BLOCKED})},f=e.id,b=(0,i.e7)([l.default],(function(){var e;return(null===(e=l.default.getCurrentUser())||void 0===e?void 0:e.id)===f}),[f]),y=(0,
i.e7)([a.Z],(function(){return a.Z.isBlocked(f)}),[f]);return b?null:(0,r.jsx)(o.MenuItem,{id:"block",label:y?s.Z.Messages.UNBLOCK:s.Z.Messages.BLOCK,action:function(){return y?u.Z.unblockUser(f,{location:n}):(0,o.openModal)((function(n){return(0,r.jsx)(o.ConfirmModal,p(d({header:s.Z.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:e.username}),confirmText:s.Z.Messages.BLOCK,cancelText:s.Z.Messages.CANCEL,onConfirm:t},n),{children:(0,r.jsx)(o.Text,{variant:"text-md/normal",children:s.Z.Messages.CONFIRM_USER_BLOCK_BODY.format({name:e.username})})}))}))}})}},441738:(e,n,t)=>{t.d(n,{Z:()=>I});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),u=t(761953),a=t(379991),l=t(736818),c=t(61209),s=t(840922),f=t(715107),d=t(2590),p=t(473708);function b(e,n,t,r,i,o,u){try{var a=e[o](u),l=a.value}catch(e){t(e);return}a.done?n(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){b(o,r,i,u,a,"next",e)}
function a(e){b(o,r,i,u,a,"throw",e)}u(void 0)}))}}function v(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var O=function(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}
if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function I(e,n){var b=l.default.getId(),I=n===d.IlC.POPOUT,m=(0,i.e7)([f.Z,c.Z],(function(){return f.Z.getVoiceChannelId()===c.Z.getDMFromUserId(e.id)})),h=(0,i.e7)([s.Z],(function(){return s.Z.isBlocked(e.id)}));if(b===e.id||I||m||e.bot)return null;var g=function(){return u.Z.openPrivateChannel(e.id,!0)},Z=!a.ZP.disableCallUserConfirmationPrompt;return(0,r.jsx)(o.MenuItem,{id:"call",label:p.Z.Messages.CALL,action:Z?function(){(0,o.openModalLazy)(y((function(){var e,n;return O(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.e(40532),t.e(11913)]).then(t.bind(t,111913))];case 1:e=i.sent(),n=e.default;return[2,function(e){return(0,r.jsx)(n,function(e){for(var n=1;n<arguments.length;n++){
var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){v(e,n,t[n])}))}return e}({onSubmit:g},e))}]}}))})))}:g,disabled:h})}},578142:(e,n,t)=>{t.d(n,{Z:()=>E});var r=t(785893),i=t(667294),o=t(202351),u=t(945460),a=t(761953),l=t(419156),c=t(336334),s=t(15970),f=t(61209),d=t(5544),p=t(567403),b=t(682776),y=t(840922),v=t(107218),O=t(473903),I=t(2590),m=t(473708);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function Z(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,a=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){a=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){a.Z.ensurePrivateChannel(e).then((function(e){null!=f.Z.getChannel(e)&&c.Z.sendInvite(e,n,"context_menu",null)}))}function E(e,n){var t=function(e,n){var t=d.ZP.getDefaultChannel(e.id);if(null!=t){E(Z(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){g(e,n,t[n])}))}return e}({},h),g({},e.id,!0)));if(b.Z.can(I.Plq.CREATE_INSTANT_INVITE,e)||null==e.vanityURLCode){var r;l.Z.createInvite(t.id,(r={},g(r,"max_uses",1),g(r,"unique",!0),r),"User Invite Context Menu").then((function(e){return S(n,e.code)}))}else S(n,e.vanityURLCode)}},a=(0,o.e7)([O.default],(function(){
return O.default.getCurrentUser()}),[]),c=(0,o.Wu)([v.Z,p.Z,b.Z],(function(){var e=v.Z.getFlattenedGuildIds(),t=[];e.forEach((function(e){var r=p.Z.getGuild(e);null!=r&&(0,s.b)(b.Z,r)&&r.id!==n&&t.push(r)}));return t}),[n]),f=j(i.useState({}),2),h=f[0],E=f[1];return(null==a?void 0:a.id)===e.id||e.bot||0===c.length||y.Z.isBlocked(e.id)?null:(0,r.jsx)(u.MenuItem,{id:"invite-to-server",label:m.Z.Messages.INVITE_TO_SERVER,children:c.map((function(n){return h[n.id]?(0,r.jsx)(u.MenuItem,{id:n.id,disabled:!0,label:m.Z.Messages.INVITE_SENT},n.id):(0,r.jsx)(u.MenuItem,{id:n.id,label:n.name,action:function(){return t(n,e.id)}},n.id)}))})}},536130:(e,n,t)=>{t.d(n,{Z:()=>f});var r=t(785893),i=t(667294),o=t(945460),u=t(26468),a=t(924417),l=t(652591),c=t(2590),s=t(473708);function f(e,n,t){var f=i.useContext(l.AnalyticsContext),d=(0,u.Aq)();return(0,r.jsx)(o.MenuItem,{id:"user-profile",label:s.Z.Messages.PROFILE,action:function(){(0,a.m)({userId:e,guildId:null!=n?n:void 0,channelId:null!=t?t:void 0,
analyticsLocation:f.location});d.dispatch(c.CkL.POPOUT_CLOSE)}})}},394212:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(785893),i=(t(667294),t(202351)),o=t(945460),u=t(101604),a=t(491260),l=t(2590),c=t(473708);function s(e){var n=(0,i.e7)([a.Z],(function(){return(0,u.Z)(a.Z.findActivity(e,(function(e){return e.type===l.IIU.STREAMING})))}),[e]);return null==n?null:(0,r.jsx)(o.MenuItem,{id:"watch-stream",label:c.Z.Messages.WATCH_STREAM,action:function(){return window.open(n,"_blank")}})}}}]);
//# sourceMappingURL=59578215bd81da292bbd.js.map