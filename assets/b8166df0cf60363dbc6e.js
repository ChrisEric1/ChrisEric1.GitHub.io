"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[28081],{629438:(e,n,t)=>{t.d(n,{B:()=>o});var r=t(496486),a=t.n(r),o=function(e,n){var t=a().shuffle(e),r=t.findIndex((function(e){return e.value===n}));if(r>-1){var o=t[r];t.splice(r,1);t.push(o)}return t}},517454:(e,n,t)=>{t.d(n,{L:()=>_,Z:()=>x});var r=t(785893),a=t(667294),o=t(294184),l=t.n(o),i=t(496486),s=t.n(i),c=t(945460),u=t(634698),f=t(441093),d=t(107364),p=t(443812),h=t(843133),m=t(348592),b=t(629438),g=t(494579),E=t(473708),v=t(424529),y=t.n(v);function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(r=t.next()).done);l=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){i=!0;a=e}finally{try{
l||null==t.return||t.return()}finally{if(i)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=[{className:y().emojiSad,rating:g.aZ.BAD,classNameSelected:y().selected},{className:y().emojiNeutral,rating:g.aZ.NEUTRAL,classNameSelected:y().selected},{className:y().emojiHappy,rating:g.aZ.GOOD,classNameSelected:y().selected}];function _(e){var n=e.className,t=e.selectedRating,a=e.ratingConfigs,o=e.onChangeRating;return(0,r.jsx)(d.Z,{justify:d.Z.Justify.BETWEEN,align:d.Z.Align.CENTER,className:l()(y().ratingsSelector,n),
children:(null!=a?a:O).map((function(e){var n=e.rating,a=e.className,i=e.classNameSelected;return(0,r.jsx)(c.Clickable,{onClick:function(){return o(n)},"aria-label":n,children:(0,r.jsx)("div",{className:l()(a,t===n?i:null)})},n)}))})}function A(){return(0,r.jsx)(c.Text,{className:y().helpdeskLink,variant:"text-xs/normal",color:"text-muted",children:E.Z.Messages.FEEDBACK_NEED_MORE_HELP.format({helpdeskURL:m.Z.getSubmitRequestURL()})})}function x(e){var n=e.header,t=e.body,o=e.problemTitle,i=e.problems,m=e.transitionState,v=e.ratingConfigs,C=e.feedbackProblems,O=void 0===C?[]:C,x=e.otherKey,S=e.ratingsSelectorClassName,I=e.hideDontShowCheckbox,j=e.startRating,T=void 0===j?null:j,k=e.onSubmit,D=e.onClose,R=(0,u.Z)(i),L=N(a.useState(!1),2),Z=L[0],w=L[1],B=N(a.useState(T),2),M=B[0],F=B[1],P=N(a.useState(null),2),K=P[0],U=P[1],G=N(a.useState(s().shuffle(i)),2),H=G[0],z=G[1],W=N(a.useState(""),2),q=W[0],V=W[1],J=(0,p.Dt)(),Y=(0,h.Z)(M),$=(0,h.Z)(Z),Q=(0,h.Z)(K),X=(0,h.Z)(k),ee=(0,
h.Z)(q),ne=null!=K&&O.includes(K),te=ne||!I;a.useEffect((function(){s().isEqual(R,i)||z((0,b.B)(i,x))}),[i,R,x]);a.useEffect((function(){return function(){X.current({rating:Y.current,problem:Q.current,dontShowAgain:$.current,feedback:ee.current})}}),[]);return(0,r.jsxs)(c.ModalRoot,{transitionState:m,className:y().modalRoot,"aria-labelledby":J,children:[(0,r.jsxs)(c.ModalHeader,{separator:!1,className:y().headerContainer,children:[(0,r.jsx)(c.Heading,{id:J,variant:"heading-xl/extrabold",color:"none",children:n}),(0,r.jsx)(c.Text,{variant:"text-md/normal",color:"none",className:y().ratingBody,children:t}),ne?null:(0,r.jsx)(_,{className:l()(y().emojis,S),selectedRating:M,onChangeRating:function(e){F(e);e===g.aZ.GOOD&&D()},ratingConfigs:v})]}),(0,r.jsxs)(c.ModalContent,{className:y().content,children:[null==M||M===g.aZ.GOOD||ne?null:(0,r.jsx)(c.FormItem,{title:o,className:y().problemInfo,children:(0,r.jsx)(f.Z,{options:H,onClick:function(e){var n=e.value;U(n);O.includes(n)||D()},
hideCaret:function(e){var n=e.value;return!O.includes(n)}})}),ne?(0,r.jsxs)(c.FormItem,{title:E.Z.Messages.FEEDBACK_DESCRIBE_ISSUE,className:y().problemInfo,children:[(0,r.jsx)(c.TextArea,{value:q,maxLength:g.iF,onChange:V}),(0,r.jsx)(A,{})]}):null]}),te&&(0,r.jsx)(c.ModalFooter,{className:y().footer,direction:d.Z.Direction.HORIZONTAL,children:ne?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,look:c.Button.Looks.LINK,color:c.Button.Colors.PRIMARY,onClick:function(){U(null);V("")},children:E.Z.Messages.BACK}),(0,r.jsx)(c.Button,{size:c.Button.Sizes.SMALL,onClick:D,children:E.Z.Messages.SUBMIT})]}):(0,r.jsx)(c.Checkbox,{type:c.Checkbox.Types.INVERTED,size:18,value:Z,onChange:function(){return w(!Z)},children:(0,r.jsx)(c.Text,{variant:"text-sm/normal",children:E.Z.Messages.DONT_SHOW_AGAIN})})})]})}},228081:(e,n,t)=>{t.r(n);t.d(n,{default:()=>N});var r,a=t(785893),o=t(667294),l=t(945460),i=t(20978),s=t.n(i),c=t(517454),u=t(115617),f=t(652591),d=t(473708)
;!function(e){e.COULD_NOT_FIND="I couldn't find what I was looking for";e.CONFUSING_LANGUAGE="I found the language confusing";e.OTHER="Other"}(r||(r={}));var p=t(2590);var h=t(630670);function m(e,n,t,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){t(e);return}i.done?n(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){m(o,r,a,l,i,"next",e)}function i(e){m(o,r,a,l,i,"throw",e)}l(void 0)}))}}function g(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){g(e,n,t[n])}))}return e}function v(e,n){if(null==e)return{}
;var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||(a[t]=e[t])}return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}return a}var y=function(e,n){var t,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;r=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue
;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=n.call(e,l)}catch(e){o=[6,e];r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};var C=[s().CALL_FEEDBACK_OPTION_OTHER];function N(e){var n=e.reportId,i=e.reportType,m=v(e,["reportId","reportType"]);o.useEffect((function(){f.default.track(p.rMx.IAR_FEEDBACK_MODAL_VIEWED,{report_id:n,report_type:i})}),[n,i]);return(0,a.jsx)(c.Z,E({header:d.Z.Messages.IAR_FEEDBACK_TITLE,body:d.Z.Messages.IAR_FEEDBACK_PROMPT,problemTitle:d.Z.Messages.CALL_FEEDBACK_ISSUE_SECTION_HEADER,problems:[{label:d.Z.Messages.IAR_FEEDBACK_PROBLEM_COULD_NOT_FIND,code:2,value:r.COULD_NOT_FIND},{label:d.Z.Messages.IAR_FEEDBACK_PROBLEM_CONFUSING_LANGUAGE,code:3,value:r.CONFUSING_LANGUAGE},{
label:d.Z.Messages.CALL_FEEDBACK_OPTION_OTHER,code:1,value:r.OTHER}],feedbackProblems:C,onSubmit:function(e){var r=e.rating,o=e.problem,s=e.dontShowAgain,c=e.feedback;s&&(0,u.Kw)(h.v.IN_APP_REPORTS_FEEDBACK);!function(e){var n=e.problem,t=e.feedback,r=e.reportType,a=e.reportId,o=void 0===a?null:a,l=e.rating,i=void 0===l?null:l,s=e.dontShowAgain;f.default.track(p.rMx.IAR_FEEDBACK_SUBMITTED,{reason:n,report_type:r,report_id:o,rating:i,feedback:t,dont_show_again:s})}({rating:r,problem:o,feedback:c,reportId:n,reportType:i,dontShowAgain:s});null!=r&&null!=o&&(0,l.openModalLazy)(b((function(){var e,n;return y(this,(function(r){switch(r.label){case 0:return[4,Promise.all([t.e(40532),t.e(21786)]).then(t.bind(t,521786))];case 1:e=r.sent(),n=e.default;return[2,function(e){return(0,a.jsx)(n,E({body:d.Z.Messages.CALL_FEEDBACK_CONFIRMATION},e))}]}}))})))},otherKey:s().CALL_FEEDBACK_OPTION_OTHER},m))}},441093:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(785893),a=(t(667294),
t(294184)),o=t.n(a),l=t(945460),i=t(718831),s=t(613067),c=t.n(s);function u(e){var n=e.options,t=e.onClick,a=e.className,s=e.optionClassName,u=e.hideCaret;return(0,r.jsx)("div",{className:o()(c().root,a),children:n.map((function(e,n){return(0,r.jsxs)(l.Clickable,{onClick:function(){return t(e)},className:o()(c().option,s),children:[(0,r.jsx)(l.Text,{className:c().text,color:"none",variant:"text-md/normal",children:e.label}),!(null==u?void 0:u(e))&&(0,r.jsx)(i.Z,{className:c().caret,direction:i.Z.Directions.RIGHT})]},n)}))})}}}]);
//# sourceMappingURL=b8166df0cf60363dbc6e.js.map