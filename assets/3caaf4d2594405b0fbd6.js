(window.webpackJsonp=window.webpackJsonp||[]).push([[215],{1435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),a=f(r(5)),i=r(420),l=r(74),u=f(r(182)),s=r(3),d=f(r(1285));function f(e){return e&&e.__esModule?e:{default:e}}function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function p(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v={DEFAULT:"default",INVERTED:"inverted",GHOST:"ghost"},y={BOX:d.default.box,ROUND:d.default.round},m=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={focused:!1},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleChange=function(e){var r=t.props,n=r.onChange,o=r.name;null!=n&&n(e.currentTarget.checked,o)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getInputMode=function(){return this.props.disabled?"disabled":this.props.readOnly?"readonly":"default"},o.getStyle=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=this.props.style||{};if(!1===t)return o;switch(o=h({},o),r){case v.DEFAULT:o.borderColor=n;break;case v.GHOST:o.borderColor=(0,i.hex2rgb)(n,.15),o.backgroundColor=(0,i.hex2rgb)(n,.15);break;case v.INVERTED:o.backgroundColor=n,o.borderColor=n}return o},o.getColor=function(){var e=this.props,t=e.value,r=e.type,n=e.color,o=r===v.INVERTED?s.Colors.WHITE:n;return r===v.INVERTED&&n===s.Colors.WHITE&&(o=s.Colors.BLACK),t?o:"transparent"},o.render=function(){var e,t=this.state.focused,r=this.props,n=r.disabled,o=r.readOnly,i=r.value,f=r.shape,c=r.className,v=r.children,y=r.size;return p("label",{className:(0,a.default)((0,l.getClass)(d.default,"checkboxWrapper",n?"disabled":""),c),style:{height:y}},void 0,p("input",{className:(0,l.getClass)(d.default,"input",this.getInputMode()),type:"checkbox",onChange:n||o?s.NOOP:this.handleChange,onFocus:n||o?s.NOOP:this.handleFocus,onBlur:this.handleBlur,checked:i,style:{width:y,height:y}}),p("div",{className:(0,a.default)(d.default.checkbox,f,(e={},e[d.default.checked]=i,e[d.default.focused]=t,e)),style:h({width:y,height:y},this.getStyle())},void 0,p(u.default,{name:u.default.Names.CHECKMARK,width:18,height:18,color:this.getColor()})),v?p("div",{className:d.default.label,style:{lineHeight:y+"px"}},void 0,v):null)},n}(o.PureComponent);m.displayName="Checkbox",m.Types=v,m.Shapes=y,m.defaultProps={size:24,disabled:!1,readOnly:!1,value:!1,type:v.DEFAULT,color:s.Colors.WHITE,shape:y.BOX,onChange:s.NOOP};var g=m;t.default=g},1459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r)}(r(1));var n,o=l(r(5)),a=l(r(182)),i=l(r(1293));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t=e.className,r=e.onClick;return s("button",{className:(0,o.default)(i.default.removeButton,t),onClick:r,type:"button"},void 0,s(a.default,{className:i.default.removeIcon,name:a.default.Names.CLOSE,height:24,width:24}))};d.displayName="RemoveButton";var f=d;t.default=f},1697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),a=c(r(12)),i=c(r(128)),l=c(r(412)),u=c(r(410)),s=c(r(413)),d=c(r(2250)),f=r(18);function c(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props.applicationDetails;return h(o.Fragment,{},void 0,h(u.default,{},void 0,h(l.default,{},void 0,f.Messages.Whitelist.HEADING),h(s.default,{isFlush:!0},void 0,f.Messages.Whitelist.SUBHEADING)),h(u.default,{isFlush:!0},void 0,h(d.default,{application:e})))},n}(o.Component);v.displayName="Whitelist";var y=a.default.connectStores([i.default],function(e){var t=e.match.params.id;return{applicationDetails:i.default.getApplication(t)}})(v);t.default=y},2250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=N(r(1)),a=r(100),i=C(r(12)),l=N(r(129)),u=C(r(128)),s=C(r(186)),d=C(r(49)),f=C(r(56)),c=C(r(1435)),p=C(r(40)),h=N(r(408)),v=C(r(184)),y=C(r(411)),m=r(424),g=C(r(417)),b=C(r(414)),O=C(r(409)),w=C(r(2251)),S=r(18),_=C(r(1357));function C(e){return e&&e.__esModule?e:{default:e}}function E(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return E=function(){return e},e}function N(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=E();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function P(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=P(v.default,{}),W=function(e){var t,n;function i(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).formRef=null,t.state={inviteError:null,isAddingUser:!1,shouldGrantApplication:!1,isLoadingWhitelist:null==t.props.whitelist},t.handleFormSubmit=function(e){if(t.formRef)if(""!==e.username){var r=t.props.application,n=t.state.shouldGrantApplication,o=e.username.split("#"),a={username:o[0],discriminator:o[1]};n&&(a.branch_ids=[r.id]),t.setState({isAddingUser:!0}),l.addUserToApplicationWhitelist(r.id,a).then(function(){t.setState({isAddingUser:!1}),t.formRef&&t.formRef.resetForm()},function(e){t.setState({inviteError:e.message,isAddingUser:!1})})}else t.setState({inviteError:"Username is required."})},t.handleUsernameInputChange=function(){null!=t.state.inviteError&&t.setState({inviteError:null})},t.handleUserRemoval=function(e){l.removeUserFromApplicationWhitelist(t.props.application.id,e.id)},t.handleGrantApplicationChange=function(e){t.setState({shouldGrantApplication:e})},t.setFormRef=function(e){t.formRef=e},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){var e=this;l.fetchApplicationWhitelist(this.props.application.id).then(function(){e.setState({isLoadingWhitelist:!1})})},u.renderWhitelist=function(){var e=this.state.isLoadingWhitelist,t=this.props.whitelist;return e?M:P(h.GridSection,{},void 0,P(h.GridChild,{columnSpread:12},void 0,P(O.default,{},void 0,S.Messages.Whitelist.INVITED_TESTERS_HEADING.format({count:t.length})),this.renderWhitelistGridContent()))},u.renderWhitelistGridContent=function(){var e=this,t=this.props.whitelist;return 0===t.length?P(g.default,{},void 0,P("img",{alt:S.Messages.Whitelist.NO_USERS_INVITED,className:_.default.emptyStateImage,src:r(2252)})):P(h.default,{},void 0,P(h.GridSection,{},void 0,t.map(function(t){return P(h.GridChild,{columnSpread:6,columnSpreadExtraSmall:12,columnSpreadLarge:4,columnSpreadExtraLarge:3},t.user.id,P(w.default,{onRemove:e.handleUserRemoval,whitelistEntry:t}))})))},u.render=function(){var e=this.props.canManageSkus,t=this.state,r=t.isAddingUser,n=t.shouldGrantApplication,i=t.inviteError;return P(h.default,{},void 0,P(h.GridSection,{},void 0,P(h.GridChild,{columnSpread:6,columnSpreadExtraSmall:12,columnSpreadSmall:12,columnSpreadMedium:8},void 0,P(O.default,{},void 0,S.Messages.Whitelist.INVITE),o.createElement(b.default,{ref:this.setFormRef,onSubmit:this.handleFormSubmit},P(p.default,{className:_.default.inviteInputWrapper,wrap:p.default.Wrap.NO_WRAP},void 0,P(p.default.Child,{className:_.default.inviteInput,grow:1,shrink:1,wrap:!0},void 0,P(y.default,{disabled:r,name:"username",placeholder:"DiscordTag#0000",onChange:this.handleUsernameInputChange,error:i})),P(p.default.Child,{grow:0,shrink:0,wrap:!0},void 0,P(f.default,{height:f.default.Height.MEDIUM,submitting:r,type:"submit"},void 0,S.Messages.Whitelist.INVITE))),e?P("div",{},void 0,P(c.default,{className:_.default.checkbox,onChange:this.handleGrantApplicationChange,type:c.default.Types.INVERTED,color:a.Colors.WHITE,value:n},void 0,P("div",{className:_.default.checkboxLabel},void 0,S.Messages.Whitelist.SHOULD_GRANT_APPLICATION))):null))),this.renderWhitelist())},i}(o.Component);W.displayName="WhitelistFormSection";var k=i.default.connectStores([u.default,d.default,s.default],function(e){return{whitelist:u.default.getApplicationWhitelist(e.application.id),canManageSkus:(0,m.canManageSkus)(e.application.id,d.default,s.default,u.default)}})(W);t.default=k},2251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r(1)),a=c(r(133)),i=c(r(40)),l=c(r(29)),u=r(132),s=c(r(1459)),d=r(18),f=c(r(1356));function c(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e,t,r,o){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var l=new Array(i),u=0;u<i;u++)l[u]=arguments[u+3];t.children=l}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=1,y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleRemoveClick=function(){var e=t.props;(0,e.onRemove)(e.whitelistEntry.user)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderStatus=function(){var e=this.props.whitelistEntry.state===v,t=e?l.default.Colors.GREY:l.default.Colors.GREEN,r=e?d.Messages.Whitelist.PENDING_INVITE:d.Messages.Whitelist.ACCEPTED_INVITE;return h(l.default,{className:f.default.statusText,color:t,size:l.default.Sizes.SMALL,weight:l.default.Weights.NORMAL},void 0,r)},o.render=function(){var e=this.props.whitelistEntry.user;return h(i.default.Child,{className:f.default.entry,grow:0,shrink:0},void 0,h(i.default,{align:i.default.Align.CENTER,wrap:i.default.Wrap.NO_WRAP},void 0,h(i.default.Child,{className:f.default.avatarWrapper,grow:0,shrink:0,wrap:!0},void 0,h(a.default,{src:(0,u.getUserAvatarURL)(e),size:a.default.Sizes.LARGE})),h(i.default.Child,{className:f.default.usernameWrapper,grow:1,shrink:1,wrap:!0},void 0,h(l.default,{className:f.default.usernameText,color:l.default.Colors.PRIMARY_500,title:e.username+"#"+e.discriminator},void 0,h("span",{className:f.default.username},void 0,e.username),"#",e.discriminator),this.renderStatus()),h(i.default.Child,{grow:0,shrink:0},void 0,h(s.default,{onClick:this.handleRemoveClick}))))},n}(o.Component);t.default=y,y.displayName="WhitelistEntry"},2252:function(e,t,r){e.exports=r.p+"cffe7a0cda9d6af3fb563a858703ab44.svg"}}]);
//# sourceMappingURL=3caaf4d2594405b0fbd6.js.map